{"version":3,"sources":["angular-drag-and-drop-lists.js","ng-flow-standalone.js","angular-resizable.js","ng-tags-input.js","rzslider.js","ui-router.js","jsonata.js","codemirror.js","ui-codemirror.js","cm-jsonata.js","dirPagination.js","validation-match.js","ng-content-editable.js","alpaca-editor.js","config.js","alpaca-field.js","collectionService.js","settings-controller.js","demo-controller.js","auth-controller.js","device-preview.js"],"names":["dndLists","filterEffects","effects","effectAllowed","filter","effect","toLowerCase","indexOf","MIME_TYPE","EDGE_MIME_TYPE","MSIE_MIME_TYPE","ALL_EFFECTS","directive","$parse","$timeout","scope","element","attr","dndDisableIf","$watch","disabled","on","event","originalEvent","dndState","isDragging","itemType","dndType","$eval","dropEffect","dndEffectAllowed","dataTransfer","item","dndDraggable","mimeType","setData","angular","toJson","e","data","type","effectsAllowed","addClass","_dndHandle","setDragImage","dndDragstart","dndCallback","callback","params","stopPropagation","$apply","cb","copy","link","move","none","dndDragend","undefined","removeClass","dndSelected","this","dragDrop","getMimeType","types","i","length","substr","getItemType","isDropAllowed","listSettings","externalSources","allowedTypes","getDropEffect","ignoreDataTransfer","ctrlKey","altKey","stopDragover","placeholder","remove","invokeCallback","expression","index","external","getPlaceholderIndex","Array","prototype","call","listNode","children","placeholderNode","getPlaceholderElement","forEach","childNode","child","hasClass","dndAllowedTypes","isArray","join","split","dndExternalSources","horizontal","dndHorizontalList","preventDefault","parentNode","append","target","listItemNode","rect","getBoundingClientRect","isFirstHalf","clientX","left","width","clientY","top","height","insertBefore","nextSibling","dndDragover","JSON","parse","getData","dndDrop","dndList","splice","dndInserted","newTarget","document","elementFromPoint","contains","_dndPhShown","module","window","Flow","opts","support","File","Blob","FileList","slice","webkitSlice","mozSlice","supportDirectory","test","navigator","userAgent","files","defaults","chunkSize","forceChunkSize","simultaneousUploads","singleFile","fileParameterName","progressCallbacksInterval","speedSmoothingFactor","query","headers","withCredentials","preprocess","method","testMethod","uploadMethod","prioritizeFirstAndLastChunk","allowDuplicateUploads","testChunks","generateUniqueIdentifier","maxChunkRetries","chunkRetryInterval","permanentErrors","successStatuses","onDropStopPropagation","initFileFn","readFileFn","webAPIFileRead","events","$","onDrop","items","webkitGetAsEntry","webkitReadDataTransfer","addFiles","preventEvent","extend","FlowFile","flowObj","file","bytes","name","fileName","size","relativePath","webkitRelativePath","uniqueIdentifier","chunks","paused","error","averageSpeed","currentSpeed","_lastProgressCallback","Date","now","_prevUploadedSize","_prevProgress","bootstrap","fileObj","startByte","endByte","fileType","chunk","function_name","readFinished","FlowChunk","offset","tested","retries","pendingRetry","preprocessState","readState","loaded","total","computeEndByte","Math","min","xhr","args","arguments","unshift","chunkEvent","apply","progressHandler","lengthComputable","testHandler","status","message","uploadNextChunk","send","doneHandler","abort","retryInterval","setTimeout","arrayRemove","array","value","evalOpts","async","fn","context","bind","dst","src","each","obj","key","hasOwnProperty","ie10plus","msPointerEnabled","push","off","fire","readDirectory","reader","readEntries","entries","queue","entry","isFile","fullPath","fileReadSuccess","readError","isDirectory","createReader","decrement","substring","fileError","getAsFile","custom","replace","preventEvents","found","outstanding","isComplete","assignBrowse","domNodes","attributes","Element","domNode","input","tagName","createElement","setAttribute","style","visibility","position","appendChild","addEventListener","click","assignDrop","unAssignDrop","removeEventListener","isUploading","uploading","_shouldUploadNext","num","should","upload","ret","started","resume","pause","cancel","progress","totalDone","totalSize","addFile","fileList","getFromUniqueIdentifier","f","removeFile","getSize","sizeUploaded","timeRemaining","sizeDelta","Number","POSITIVE_INFINITY","floor","measureSpeed","timeSpan","smoothingFactor","uploaded","max","reset","c","retry","round","ceil","bytesLoaded","percent","delta","getType","getExtension","lastIndexOf","getParams","flowChunkNumber","flowChunkSize","flowCurrentChunkSize","flowTotalSize","flowIdentifier","flowFilename","flowRelativePath","flowTotalChunks","getTarget","XMLHttpRequest","prepareXhrRequest","preprocessFinished","read","isTest","readyState","responseText","s","paramsMethod","blob","v","k","encodeURIComponent","FormData","open","setRequestHeader","version","exports","define","amd","provider","factory","options","$get","create","flow","controller","$scope","$attrs","flowFactory","flowInit","flowObject","catchAllHandler","eventName","shift","$broadcast","concat","filesSubmitted","fileSuccess","complete","defaultPrevented","$on","$flow","flowName","assign","restrict","require","attrs","isSingleFile","inputAttrs","flowAttrs","isFileDrag","dragEvent","fileDrag","val","promise","enter","flowDragEnter","flowDragLeave","flowDropEnabled","capitaliseFirstLetter","string","charAt","toUpperCase","fileProgress","fileAdded","filesAdded","fileRetry","uploadStart","eventArgs","funcArgs","flowImg","fileReader","FileReader","readAsDataURL","onload","$set","result","transfers","throttle","fun","toCall","rDirections","rCenteredX","rCenteredY","rWidth","rHeight","rFlex","rGrabber","rDisabled","rNoThrottle","flexBasis","documentElement","w","h","start","dragDir","axis","getComputedStyle","dir","vx","vy","inner","info","updateInfo","parseInt","id","evt","getClientX","touches","getClientY","dragging","resizingEmit","$emit","prop","dragEnd","dragStart","direction","getPropertyValue","cancelBubble","returnValue","grabber","innerHTML","ondragstart","down","which","KEYS","backspace","tab","escape","space","up","right","delete","comma","MAX_SAFE_INTEGER","SUPPORTED_INPUT_TYPES","tagsInput","$document","$window","$q","tagsInputConfig","tiUtil","TagList","onTagAdding","onTagRemoving","getTagText","setTagText","canAddTag","canRemoveTag","self","tag","safeToString","displayProperty","text","tagText","valid","minLength","maxLength","allowedTagsPattern","findInObjectArray","keyProperty","when","$tag","then","promisifyValue","addText","add","replaceSpacesWithDashes","trigger","catch","clearSelection","select","selected","selectPrior","selectNext","removeSelected","validateType","tags","templateScope","tagClass","onTagAdded","onInvalidTag","onTagRemoved","onTagClicked","transclude","templateUrl","$element","simplePubSub","load","template","String","tabindex","removeTagSymbol","fromCharCode","Boolean","addOnEnter","addOnSpace","addOnComma","addOnBlur","addOnPaste","pasteSplitPattern","RegExp","enableEditingLastTag","minTags","maxTags","allowLeftoverText","addFromAutocompleteOnly","spellcheck","tagList","handleUndefinedResult","registerAutocomplete","find","addTag","getTags","getCurrentTagText","newTag","getOptions","getTemplateScope","handler","registerTagItem","removeTag","ngModelCtrl","setElementValidity","focusInput","hotkeys","validationOptions","$setValidity","hasFocus","focus","$isEmpty","isDefined","invalid","track","getTagClass","$index","$selected","makeObjectArray","$validate","$observe","eventHandlers","keydown","$event","blur","activeElement","lostFocusToBrowserWindow","lostFocusToChildElement","paste","getTextData","clipboardData","host","$setDirty","triggerHandler","shouldAdd","shouldRemove","shouldSelect","shouldEditLastTag","keyCode","addKeys","isModifierOn","tagsInputCtrl","$$template","$$removeTagSymbol","$getDisplayText","$removeTag","$sce","SuggestionList","loadFn","getDifference","lastPromise","getTagId","array1","array2","a","b","defaultComparer","visible","show","selectFirstMatch","debounce","$query","maxResultsToShow","debounceDelay","scrollToElement","root","eq","parent","elementTop","elementHeight","parentHeight","parentScrollTop","source","matchClass","highlightMatchedText","loadOnDownArrow","loadOnEmpty","loadOnFocus","suggestionList","registerAutocompleteMatch","getQuery","shouldLoadSuggestions","addSuggestionByIndex","addSuggestion","added","getSuggestionClass","$match","handled","stopImmediatePropagation","autoCompleteCtrl","autoComplete","$parent","$highlight","safeHighlight","trustAsHtml","ctrl","transcludeFn","clone","span","resize","getTextAutosizeThreshold","css","originalValue","isString","$parsers","$formatters","$modelValue","tiBindAttrs","globalDefaults","interpolationStatus","autosizeThreshold","setDefaults","setActiveInterpolation","setTextAutosizeThreshold","threshold","$interpolate","converters","defaultValidator","localDefault","validator","converter","getDefault","updateValue","globalValue","newValue","delay","timeoutId","isObject","newArray","comparer","some","str","escapeRegexChars","encodeHTML","match","isUndefined","toString","trim","valueIfUndefined","shiftKey","metaKey","names","first","handlers","every","run","$templateCache","put","angularObj","defaultOptions","step","precision","minRange","maxRange","pushRange","minLimit","maxLimit","translate","getLegend","stepsArray","bindIndexForStepsArray","draggableRange","draggableRangeOnly","showSelectionBar","showSelectionBarEnd","showSelectionBarFromValue","hidePointerLabels","hideLimitLabels","autoHideLimitLabels","readOnly","interval","showTicks","showTicksValues","ticksArray","ticksTooltip","ticksValuesTooltip","vertical","getSelectionBarColor","getTickColor","getPointerColor","keyboardSupport","scale","enforceStep","enforceRange","noSwitching","onlyBindHandles","onStart","onChange","onEnd","rightToLeft","boundPointerLabels","mergeRangeLabelsIfSame","customTemplateScope","logScale","customValueToPosition","customPositionToValue","selectionBarGradient","globalOptions","func","wait","getTime","timeout","previous","later","remaining","trailing","$compile","RzSliderOptions","rzThrottle","Slider","sliderElem","lowValue","highValue","range","rzSliderModel","rzSliderHigh","active","difference","lowLimit","highLimit","positionProperty","dimensionProperty","handleHalfDim","maxPos","tracking","minValue","maxValue","valueRange","intermediateTicks","initHasRun","firstKeyDown","internalChange","cmbLabelShown","currentFocusElement","fullBar","selBar","minH","maxH","flrLab","ceilLab","minLab","maxLab","cmbLab","ticks","init","thrLow","thrHigh","calcDimFn","calcViewDimensions","applyOptions","syncLowValue","syncHighValue","initElemHandles","manageElementsStyle","setDisabledState","setMinAndMax","addAccessibility","updateCeilLab","updateFloorLab","initHandles","manageEventsBindings","onLowHandleChange","onHighHandleChange","resetLabelsValue","resetSlider","oldValue","unbindEvents","findStepIndex","modelValue","isDate","getStepValue","sliderValue","applyLowValue","applyHighValue","updateLowHandle","valueToPosition","updateSelectionBar","updateTicksScale","updateAriaAttributes","updateCmbLabel","updateHighHandle","sliderOptions","rzSliderOptions","isNumber","parseStepsArray","customTrFn","legend","refocusPointerIfNeeded","onPointerFocus","pointer","ref","focusElement","elem","jElem","rzsp","alwaysHide","hideLabelsForTicks","el","hide","rzAlwaysHide","hideEl","showEl","bindEvents","rzsv","translateFn","label","useCustomTr","valStr","getDimension","noLabelInjection","rzsd","html","Error","roundStep","sanitizeValue","aria-valuenow","aria-valuetext","aria-valuemin","aria-valuemax","handleWidth","barDimension","getTicksArray","reverse","map","tick","isTickSelected","transform","tooltip","tooltipPlacement","getDisplayValue","valueTooltip","valueTooltipPlacement","center","setPosition","updateHandles","newPos","getHandleLabelPos","labelName","labelRzsd","nearHandlePos","endOfBarPos","pointercolor","minPointerStyle","backgroundColor","shFloorCeil","maxPointerStyle","flHidden","clHidden","isMinLabAtFloor","isLabelBelowFloorLab","isMinLabAtCeil","isLabelAboveCeilLab","isMaxLabAtCeil","isCmbLabAtFloor","isCmbLabAtCeil","hideCeil","hideFloor","isRTL","pos","dim","floorPos","floorDim","ceilPos","ceilDim","dimension","isSelectionBarFromRight","positionForRange","abs","centerPosition","isModelGreaterThanCenter","setDimension","color","barStyle","reversed","backgroundImage","from","to","backgroundPosition","backgroundSize","pointerType","isLabelOverlap","lowTr","highTr","labelVal","customStep","steppedDifference","parseFloat","toPrecision","toFixed","bottom","linearValueToPosition","logValueToPosition","minVal","maxVal","log","positionToValue","linearPositionToValue","logPositionToValue","exp","getEventXY","clientXY","getEventPosition","sliderPos","eventPos","getEventNames","eventNames","moveEvent","endEvent","getNearestHandle","distanceMin","distanceMax","DOM_ELEMENT","barTracking","barStart","barMove","onDragStart","onDragMove","onMove","onTickClick","ehMove","ehEnd","one","callOnStart","fromTick","ceilValue","flrValue","positionTrackingHandle","moveEventName","callOnEnd","onPointerBlur","onKeyboardEvent","onKeyUp","getKeyActions","currentValue","increaseStep","decreaseStep","increasePage","decreasePage","actions","UP","DOWN","LEFT","RIGHT","PAGEUP","PAGEDOWN","HOME","END","keys","38","40","37","39","33","34","36","35","action","newMinValue","newMaxValue","positionTrackingBar","getValue","outOfBounds","isAbove","ceilLimit","flrLimit","isUnderFlrLimit","isOverCeilLimit","flrH","ceilH","applyModel","valueChanged","applyMinMaxLimit","applyPushRange","applyMinMaxRange","oppositeValue","callOnChange","$evalAsync","RzSlider","rzSliderTplUrl","slider","global","ng_from_import","curry","curried","func_args_length","initial_args","compose","pipe","funcs","_i","and","fn1","fn2","or","invoke","fnName","pattern","struct","x","isInjectable","val$$1","head","tail","not","isFunction","identity","noop$1","createProxyFunctions","fnNames","latebind","bindFunction","makeLateRebindFn","Object","reduce","acc","_inArray","_removeFrom","idx","_pushTo","arr","defaultsList","_defaultsList","defaultVals","pick","ancestors","second","path","n","propNames","prop$$1","omit","inArray","pluck","collection","propName","accept","pushR","assertFn","predicateOrMap","errMsg","arrayTuples","maxArrayLen","applyPairs","memo","keyValTuple","_copy","dest","_forEach","_this","_extend","toObj","j","_equals","o1","o2","t1","t2","tup","all","_arraysEq","isRegExp","predicates","any","a1","a2","t","uiViewString","viewData","creationContext","fqn","normalizedCat","Category","matchState","state","criterion","matchGlobs","_state","globStrings","toMatch","glob","Glob","matches","matchFn","makeEvent","registry","transitionService","eventType","hookRegistrationFn","matchObject","registeredHook","RegisteredHook","hooks","_deregistered","removeFrom","_registeredHooks","tupleSort","reverseDepthSort","l","r","factor","depthDelta","node","hook","priority","ArrayType","mode","arrayWrap","arrayUnwrap","arrayHandler","allTruthyMode","arrayEqualsHandler","val1","val2","paramTypeFn","wrapperFn","dynamic","inherit","is","$arrayMode","unwrapShorthand","cfg","getStaticDefaultValue","isShorthand","$$fn","urlType","location","paramTypes","DefType","CONFIG","PATH","SEARCH","ParamType","getSquashPolicy","config","isOptional","defaultPolicy","squash","getReplace","arrayMode","configuredKeys","padString","kebobString","camelCase","$1","functionToString","fnStr","fnToString","namedFunctionMatch","toStr","_fn","stringify","o","format","seen","stringifyPattern","splitOnDelim","delim","re","joinNeighborsR","initDefaultTypes","makeDefaultType","def","valToString","defaultTypeBase","encode","decode","equals","ParamTypes","hash","int","isNullOrUndefined","bool","date","getFullYear","getMonth","getDate","capture","exec","isNaN","valueOf","json","fromJson","nameBuilder","selfBuilder","$$state","dataBuilder","pathBuilder","includesBuilder","includes","resolvablesBuilder","objects2Tuples","resolveObj","resolvePolicies","token","deps","policy","annotate","$injector","services","strictDi","isResolveLiteral","resolveFn","isLikeNg2Provider","provide","useValue","useFactory","useExisting","useClass","isTupleFromObj","p","literal2Resolvable","Resolvable","dependencies","tuple2Resolvable","tuple","item2Resolvable","decl","resolve","resolvePolicy","quoteRegExp","param","surroundPattern","appendBasePath","url","isHtml5","absolute","baseHref","getHandlerFn","TargetState","isDef","addCoreResolvables","trans","addResolvable","UIRouter","router","Transition","entering","makeEnterExitRetainHook","hookName","transition","hookFn","lazyLoadState","updateStateRegistry","states","stateRegistry","register","lazyLoadFn","lazyLoad","success","err","reject","ignoredHook","ignoredReason","_ignoredReason","trace","traceTransitionIgnored","pending","globals","Rejection","ignored","toPromise","invalidTransitionHook","parseUrl$1","orEmptyString","_a","splitHash","beforehash","_b","splitQuery","search","locationPluginFactory","serviceClass","configurationClass","dispose","service","configuration","locationService","locationConfig","servicesPlugin","getNg1ViewConfigFactory","templateFactory","view","get","Ng1ViewConfig","ng1ViewsBuilder","tplKeys","ctrlKeys","compKeys","nonCompKeys","allViewKeys","views","hasAnyKey","viewsObject","$default","component","resolveAs","$type","$context","$name","normalized","ViewService","normalizeUIViewTarget","$uiViewName","uiViewName","$uiViewContextAnchor","uiViewContextAnchor","getComponentBindings","cmpDefs","getBindings","unnestR","$uiRouter","$locationProvider","$location","$browser","$sniffer","$rootScope","$http","ng1LocationService","_runtimeServices","stateProvider","StateProvider","stateService","decorator","getStateHookBuilder","viewService","_pluginapi","_viewConfigFactory","Ng1LocationServices","monkeyPatchPathParameterType","$inject","runBlock","$injector$$1","$q$$1","resolvables","resolvable","watchDigests","approximateDigests","parseStateRef","parsed","paramsOnly","paramExpr","stateContext","$uiView","inheritedData","processedDef","$state","uiState","current","uiStateOpts","defaultOpts","href","uiStateParams","getTypeInfo","isSvg","isForm","nodeName","isAnchor","clickable","clickHook","getDef","button","go","ignorePreventDefaultCount","relative","$current","events_1","event_1","events_2","event_2","$IsStateFilter","isFilter","$stateful","$IncludedByStateFilter","includesFilter","$ViewDirectiveFill","$controller","$transitions","$view","getControllerAs","getResolveAs","compile","tElement","initial","empty","contents","$cfg","viewDecl","getTemplate","noop","resolveCtx","ResolveContext","traceUIViewFill","controllerAs","locals","getLocals","controllerInstance","registerControllerCallbacks","cmp_1","kebobName","tagRegexp_1","getComponentController","directiveEl","ng","deregisterWatch_1","ctrlInstance","$onInit","hasComponentImpl","viewState","hookOptions","uiOnParamsChanged","resolveContext","viewCreationTrans_1","getResolvable","paramsUpdated","$transition$","exiting","toParams","fromParams","toSchema","treeChanges","paramSchema","fromSchema","changedToParams","changedKeys_1","newValues","onSuccess","uiCanExit","id_1","_uiCanExitId","cacheProp_1","prevTruthyAnswer_1","redirectedFrom","wrappedHook","ids","criteria","onBefore","$ViewScrollProvider","useAnchorScroll","$anchorScroll","scrollIntoView","propEq","ctor","constructor","other","regexpString","seg","regexp","fromString","StateObject","stateDecl","isStateClass","__stateObjectCache","nameGlob","parameters","matchingKeys","inherited","values","parameter","isState","tis","isNull","isPromise","notImplemented","fnname","angular$1","extra","pushTo","deregAll","functions","mergeR","mapObj","allTrueR","anyTrueR","flattenR","uniqR","unnest","flatten","assertPredicate","assertMap","pairs","sortBy","propFn","checkFn","composeSort","sortFns","prev","silenceUncaughtInPromise","silentRejection","Queue","_items","_limit","enqueue","dequeue","clear","peekTail","peekHead","RejectType","detail","$id","detailString","d","_transitionRejection","isRejectionPromise","superseded","rejection","SUPERSEDED","redirected","INVALID","IGNORED","aborted","ABORTED","errored","ERROR","normalize","viewConfigString","viewConfig","_tid","_rid","transLbl","Trace","_enabled","_set","enabled","categories","category","enable","disable","traceTransitionStart","TRANSITION","console","traceHookInvocation","HOOK","traceHookResult","hookResult","transitionOptions","traceResolvePath","RESOLVE","traceResolvableResolved","traceError","reason","traceSuccess","finalState","traceUIViewEvent","UIVIEW","traceUIViewConfigUpdated","traceViewServiceEvent","VIEWCONFIG","traceViewServiceUIViewEvent","TransitionHookPhase","TransitionHookScope","_identifier","_definition","_params","_options","identifier","exists","base","stateName","traceData","TransitionHook","isSuperseded","hookPhase","RUN","isActive","logError","defaultErrorHandler","invokeHook","notCurrent","getNotCurrentRejection","normalizeErr","handleError","getErrorHandler","handleResult","getResultHandler","synchronous","handleHookResult","isTargetState","_disposed","_aborted","chain","waitFor","createHookChainR","nextHook","invokeHooks","doneCallback","remainingHooks","runAllHooks","HANDLE_RESULT","LOG_REJECTED_RESULT","LOG_ERROR","REJECT_ERROR","THROW_ERROR","tranSvc","matchCriteria","_matchingNodes","nodes","matching","_getDefaultMatchCriteria","_getPathTypes","_getMatchingNodes","paths","mn","pathtype","isStateHook","STATE","allMatched","HookBuilder","buildHooksForPhase","phase","_getEvents","buildHooks","hookType","matchingHooks","getMatchingHooks","baseHookOptions","makeTransitionHooks","matchingNodes","criteriaMatchPath","transitionHook","sort","reverseSort","isCreate","CREATE","registries","reg","getHooks","$subPattern","sub","$normalize","$asArray","isSearch","hasOwn","Param","urlMatcherFactory","getArrayMode","arrayDefaults","arrayParamNomenclature","raw","defaultSquashPolicy","inherit$$1","isDefaultValue","getDefaultValue","_defaultValueCache","defaultValue","replaceSpecialValues","validates","encoded","values$$1","paramValues","params_1","changed","values1","values2","PathNode","stateOrNode","res","applyRawParams","getParamVal","paramDef","pDef","paramsFn","diff","PathUtils","makeTargetState","buildPath","targetState","buildToPath","fromPath","toPath","inheritParams","applyViewConfigs","viewDecls","subPath","viewConfigs","createViewConfig","toKeys","nodeParamVals","makeInheritedParamsNode","toNode","toParamVals","incomingParamVals","fromParamVals","noInherit","ownParamVals","reloadState","applyToParams","retainedNode","cloned","keep","nodesMatch","node1","node2","nonDynamicParams","retained","retainedWithToParams","pathA","pathB","done","tuples","nodeA","nodeB","predicate","elementIdx","defaultResolvePolicy","arg1","resolved","literal","getPolicy","thisPolicy","statePolicy","getResolvableDependencies","getDependencies","invokeResolveFn","resolvedDeps","waitForRx","observable$","cached","cache","take","findNode","maybeWaitForRx","applyResolvedValue","resolvedValue","fromData","LAZY","EAGER","WAIT","NOWAIT","RXWAIT","ALL_WHENS","EAGER_WHENS","NATIVE_INJECTOR_TOKEN","_path","getTokens","subContext","addResolvables","newResolvables","resolvePath","whenOption","matchedWhens","matchesPolicy","acceptedVals","whenOrAsync","promises","nodeResolvables","nowait","getResult","injector","_injector","UIInjectorImpl","availableResolvables","getDependency","fromInjector","getNative","native","getAsync","stateSelf","_deferred","defer","_hookBuilder","_targetState","_transitionCount","_treeChanges","createTransitionHookRegFns","onCreateHooks","onExit","onRetain","onEnter","onFinish","onError","enteringStates","$from","$to","compare","pathname","freeze","pathName","getResolveTokens","topath","targetNode","originalTransition","rf","redirect","redirects","redirectOpts","newOptions","newTransition","originalEnteringNodes","redirectEnteringNodes","nodeIsReloading","matchingEnteringNodes","_changedParams","tc","reload","pathsDiffer","nodeSchemas","toValues","fromValues","schema","toVals","fromVals","changes","same","newTC","pendTC","getHooksFor","transitionSuccess","SUCCESS","transitionError","_error","runTransition","allRunHooks","startTransition","lastStartedTransitionId","transitionHistory","allBeforeHooks","BEFORE","abstract","fromStateOrName","toStateOrName","avoidEmptyHash","toValid","diToken","stringifyPatternFn","isRejection","beforeAfterSubstr","char","typeQueue","defaultTypes","makeType","definition","definitionFn","_flushTypeQueue","StateParams","$inherit","newParams","parentParams","parents","inheritList","parseUrl","getUrlBuilder","$urlMatcherFactoryProvider","stateDec","paramMap","paramConfig","reloadOnSearch","isMatcher","navigable","getNavigableBuilder","isRoot","getParamsBuilder","paramFactory","makeConfigParam","fromConfig","urlParams","nonUrlParams","StateBuilder","matcher","parentBuilder","parentName","builders","builder","build","parentFn","segments","lastSegment","pop","StateMatcher","_states","isRelative","stateOrName","matchGlob","isStr","baseState","splitName","pathLength","relName","StateQueueManager","$registry","$urlRouter","listeners","flush","registered","orphans","previousQueueLength","getState","name_1","orphanIdx","existingState","existingFutureState","deregister","attachRoute","listener","rule","urlRuleFactory","StateRegistry","_router","stateQueue","urlRouter","_registerRoot","rootStateDef","#","_root","onStatesChanged","stateDefinition","_deregisterTree","all$$1","getChildren","deregistered","$ur","rules","removeRule","deregisteredStates","memoizeTo","splitOnSlash","UrlMatcher","pattern$$1","_cache","_children","_segments","_compiled","strict","caseInsensitive","m","segment","searchPlaceholder","last","patterns","checkParamErrors","nameValidator","matchDetails","makeRegexpType","lastIndex","fromSearch","decodePathArray","reverseString","unquoteDashes","allReversed","allParams","pathParams","searchParams","nPathSegments","urlm","findParam","validParamVal","getDetails","isValid","urlMatchers","pathSegmentsAndParams","queryParams","isInvalid","pathString","encodeDashes","queryString","paramDetails","charCodeAt","staticSegments","cmp","weights","pairs$$1","UrlMatcherFactory","_isCaseInsensitive","_isStrictMode","_defaultSquashPolicy","_getConfig","strictMode","object","UrlRuleFactory","what","makeRule","_what","fromUrlMatcher","fromState","fromRegExp","BaseUrlRule","urlMatcher","matchPriority","optional","matched","_handler","details","transitionTo","sticky","redirectUrlTo","isUrlRule","defaultRuleSortFn","getMatcher","URLMATCHER","REGEXP","RAW","OTHER","UrlRouter","_sortFn","_rules","interceptDeferred","_id","_sorted","listen","_otherwiseFn","compareFn","ensureSorted","best","checkRule","weight","sync","$url","urlService","applyResult","newurl","_stopFn","update","html5Mode","hashPrefix","slash","port","protocol","otherwise","handlerFn","urlParts","deferIntercept","_uiViews","_viewConfigs","_viewConfigFactories","_rootViewContext","_registeredUIViews","_activeViewConfigs","_rootContext","viewType","cfgFactory","cfgs","deactivateViewConfig","activateViewConfig","uiViewDepth","uiView","stateDepth","viewConfigDepth","count","uiViewsByFqn","uiv","depthCompare","depthFn","posNeg","matchingConfigPair","matchingConfigs","configureUIView","configUpdated","registerUIView","uiViews","fqnMatches","available","rawViewName","viewAtContext","relativeViewNameSugar","relativeMatch","anchor","vc","vcSegments","uivSegments","negOffset","fqnToFirstSegment","uiViewContext","UIRouterGlobals","successfulTransitions","makeStub","locationServicesFns","locationConfigFns","umfFns","rulesFns","syncFns","UrlService","lateBind","locationServices","umf","parts","locationServiceStub","locationConfigStub","_routerInstance","_disposables","TransitionService","StateService","_plugins","disposable","plugin","pluginInstance","getPlugin","pluginName","registerAddCoreResolvables","onCreate","redirectToHook","redirectTo","registerRedirectToHook","onExitHook","registerOnExitHook","onRetainHook","registerOnRetainHook","onEnterHook","registerOnEnterHook","eagerResolvePath","registerEagerResolvePath","lazyResolveState","registerLazyResolveState","loadEnteringViews","enteringViews","registerLoadEnteringViews","activateViews","exitingViews","registerActivateViews","updateGlobalState","transitionSuccessful","clearCurrentTransition","registerUpdateGlobalState","updateUrl","urlOptions","registerUpdateUrl","lazyLoadHook","retryTransition","orig","registerLazyLoadHook","TransitionEventType","hookOrder","registerIgnoredTransitionHook","registerInvalidTransitionHook","defaultTransOpts","notify","_eventTypes","_criteriaPaths","_deregisterHookFns","_defineCorePaths","_defineCoreEvents","_registerCoreTransitionHooks","hooksArray","Phase","TH","NORMAL_SORT","REVERSE_SORT","SYNCHRONOUS","_defineEvent","_definePathType","transitionHookTypes","cmpByPhase","hookScope","fns","addCoreResolves","eagerResolve","lazyResolve","loadViews","updateGlobals","invalidCallbacks","_defaultErrorHandler","$error$","stack","getters","boundFns","defineProperty","enumerable","configurable","_handleInvalidTargetState","toState","invokeNextCallback","nextCallback","callbackQueue","callbackResult","checkForRedirect","latestThing","latest","onInvalid","defautGoOpts","transOpts","getCurrentPath","latestSuccess","rootPath","getCurrent","currentPath","rejectedTransitionHandler","isLatest","errorHandler","transitionToPromise","include","defaultHrefOpts","lossy","nav","Promise","deferred","STRIP_COMMENTS","ARGUMENT_NAMES","has","ensureExist","beforeAfterSubstr$1","splitEqual","trimHashVal","keyValsToObjectR","accum","buildUrl","loc","searchObject","vals","BaseLocationServices","fireAfterUpdate","_listener","_listeners","_get","_location","_history","history","evt_1","Event","__extends","extendStatics","setPrototypeOf","__proto__","__","HashLocationService","_super","title","__extends$1","MemoryLocationService","_url","__extends$2","PushStateLocationService","_config","fullUrl","replaceState","pushState","MemoryLocationConfig","_baseHref","_port","_protocol","_host","_hashPrefix","newval","BrowserLocationConfig","_isHtml5","newprefix","applyDocumentBaseHref","baseTags","getElementsByTagName","origin","hashLocationPlugin","pushStateLocationPlugin","memoryLocationPlugin","UIRouterPluginBase","index$1","ng_from_global","id$1","makeComponentTemplate","bindings","getController","results","controllerProvider","providerFn","TemplateFactory","_useHttp","minor","$templateRequest","useHttpService","defaultTemplate","asTemplate","asComponent","fromUrl","templateProvider","fromProvider","componentProvider","fromComponentProvider","Accept","response","prefix","attributeTpl","attrName","resolveName","arrayIdxStr","scopeBindings","bindToController","bindingsObj","decoratedNg1Hook","$state$","_urlListeners","_lp","newUrl","_loc","_browser","pathType","~","/","~~","~2F","UrlRouterProvider","_urlRouter","ruleFn","injectableHandler","$stateParams","mod_init","mod_util","mod_rtr","mod_state","mod_main","getProviderFor","serviceName","$urp","getUrlRouterProvider","uiRouter","urlRouterProvider","getStateProvider","$urlMatcherFactory","uiSref","ctx","tokens","waitPolicy","uiSrefActive","unlinkInfoFn","$$addStateInfo","rawDef","uiSrefOpts","watchDeregFns","field","expr","updateAfterTransition","addState","stateParams","activeClass","stateInfo","splitClasses","getClasses","stateList","allClasses","activeEqClass","fuzzyClasses","exactlyMatchesAny","exactClasses","addClasses","removeClasses","cls","className","uiSrefActiveEq","newState","$animate","$uiViewScroll","getRenderer","leave","configsEqual","config1","config2","rootData","terminal","tAttrs","$transclude","configUpdatedCallback","activeUIView","updateView","cleanupLastView","previousEl","currentScope","$destroy","currentEl","_viewData_1","renderer","$$animLeave","newScope","$new","animEnter","animLeave","$uiViewData","$uiViewAnim","$animEnter","$animLeave","autoScrollExp","onloadExp","unregister","fromParentTagConfig","fromParentTag","core","jsonata","parseSignature","signature","prevParam","symbol","next","findClosingBracket","openSymbol","closeSymbol","depth","regex","contextRegex","endParen","choice","code","endPos","subtype","regexStr","getSymbol","throwValidationError","badArgs","badSig","partialPattern","goodTo","validate","suppliedSig","arg","validatedArgs","argIndex","contextType","single","arrayOK","differentItems","isNumeric","isNum","isFinite","isArrayOfNumbers","evaluate","environment","entryCallback","lookup","evaluatePath","evaluateBinary","evaluateUnary","evaluateName","evaluateLiteral","evaluateWildcard","evaluateDescendants","evaluateCondition","evaluateBlock","evaluateRegex","evaluateFunction","evaluateVariable","evaluateLambda","evaluatePartialApplication","applyPredicates","evaluateGroupExpression","group","exitCallback","inputSequence","keepSingletonArray","ii","keepArray","resultSequence","innerRes","isInteger","ires","functionBoolean","evaluateNumericExpression","evaluateComparisonExpression","evaluateStringConcat","evaluateBooleanExpression","evaluateRangeExpression","evaluateBindExpression","evaluateIncludesExpression","evaluateApplyExpression","lhs","functionAppend","flattened","recurseDescendants","member","rhs","lstr","rstr","functionString","groups","pair","condition","else","frame","createFrame","expressions","closure","end","_jsonata_function","_jsonata_lambda","isLambda","applyto","evaluatedArgs","proc","procedure","validateArguments","applyInner","thunk","body","applyProcedure","implementation","partialApplyProcedure","partialApplyNativeFunction","env","applyNativeFunction","unboundArgs","sigArgs","getNativeFunctionArguments","sigArg","bodyAST","parser","partial","sigParens","defineFunction","functionSum","functionCount","functionMax","functionMin","functionAverage","functionSubstring","functionSubstringBefore","chars","functionSubstringAfter","functionLowercase","functionUppercase","functionLength","functionTrim","functionContains","functionMatch","limit","functionReplace","replacement","replacer","regexMatch","substitute","dollarVal","maxDigits","LOG10E","submatch","replacedWith","functionSplit","separator","functionJoin","strs","functionNumber","trues","functionNot","functionMap","varargs","func_args","functionFoldLeft","sequence","functionKeys","merge","functionLookup","arg2","functionExists","functionSpread","enclosingEnvironment","lookupMessage","errorCodes","ast","staticFrame","exec_env","registerFunction","operators",".","[","]","{","}","(",")",",","@",";",":","?","+","-","*","%","|","=","<",">","`","**","..",":=","!=","<=",">=","~>","in","&","!","escapes","\"","\\","tokenizer","scanRegex","flags","currentChar","quoteType","qstr","octets","codepoint","numregex","ch","lexer","symbol_table","base_symbol","nud","bp","lbp","advance","infix","next_token","rbp","led","bindingPower","infixr","sigPos","sig","tok","objectParser","tail_call_optimize","post_parse","lstep","rest","S0101","S0102","S0103","S0104","S0203","S0202","S0204","S0205","S0208","S0209","S0210","S0201","S0206","S0207","S0301","S0302","S0402","S0401","T0410","T0411","T0412","D1001","D1002","T2001","T2002","T1003","T2003","T2004","D2005","D1004","T2006","T1005","T1006","T1007","T1008","D3001","D3010","D3011","D3012","D3020","D3030","CodeMirror","classTest","removeChildren","childNodes","removeChild","firstChild","removeChildrenAndAdd","elt","content","cssText","createTextNode","nodeType","activeElt","joinClasses","as","copyObj","overwrite","countColumn","tabSize","startIndex","startValue","nextTab","findColumn","goal","col","skipped","spaceStr","spaceStrs","lst","out","insertSorted","score","nothing","createObj","props","inst","isWordCharBasic","nonASCIISingleCaseWordChar","isWordChar","helper","isEmpty","isExtendingChar","extendingChars","skipExtendingChars","findFirst","pred","mid","Display","place","doc","scrollbarFiller","gutterFiller","lineDiv","selectionDiv","cursorDiv","measure","lineMeasure","lineSpace","mover","sizer","sizerWidth","heightForcer","scrollerGap","gutters","lineGutter","scroller","wrapper","ie","ie_version","zIndex","paddingRight","webkit","gecko","mobile","draggable","viewFrom","viewTo","reportedViewFrom","reportedViewTo","renderedView","externalMeasured","viewOffset","lastWrapHeight","lastWrapWidth","updateLineNumbers","nativeBarWidth","barHeight","barWidth","scrollbarsClipped","lineNumWidth","lineNumInnerWidth","lineNumChars","alignWidgets","cachedCharWidth","cachedTextHeight","cachedPaddingH","maxLine","maxLineLength","maxLineChanged","wheelDX","wheelDY","wheelStartX","wheelStartY","selForContextMenu","activeTouch","getLine","lines","sz","getBetween","line","iter","getLines","updateLineHeight","lineNo","cur","no","lineAtHeight","outer","i$1","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","equalCursorPos","copyPos","minPos","clipLine","clipPos","clipToLen","linelen","clipPosArray","seeReadOnlySpans","sawReadOnlySpans","seeCollapsedSpans","sawCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","removeMarkedSpan","addMarkedSpan","markedSpans","attachLine","markedSpansBefore","old","startCh","isInsert","nw","startsBefore","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","span$1","found$1","clearEmptySpans","newMarkers","gapMarkers","gap","i$2","i$3","clearWhenEmpty","removeReadOnlyRanges","markers","mark","mk","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","len","findMaxLine","cm","display","iterateBidiSections","order","part","level","getBidiPartAt","bidiOther","getOrder","bidiOrdering","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","prepareMeasureForLine","targetTop","measureCharPrepared","moveVisually","bidi","partPos","mv","getWrappedLineExtent","lineWrapping","wrappedLineExtentChar","begin","wrappedLineExtent","searchInVisualLine","getRes","nextCh","getHandlers","emitter","_handlers","noHandlers","detachEvent","signal","signalDOMEvent","override","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","set","curOp","cursorActivityHandlers","hasHandler","eventMixin","e_preventDefault","e_stopPropagation","e_stop","e_target","srcElement","e_button","mac","zeroWidthElement","zwspSupported","offsetHeight","offsetWidth","hasBadBidiRects","badBidiRects","txt","r0","r1","hasBadZoomedRects","badZoomedRects","normal","fromRange","defineMode","modes","defineMIME","mime","spec","mimeModes","resolveMode","getMode","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","nstate","innerMode","startState","highlightLine","forceToEnd","st","modeGen","lineClasses","runMode","loop","overlay","overlays","at","i_end","opaque","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getStateBefore","maxHighlightLength","stateAfter","styleClasses","frontier","precise","findStartLine","processLine","save","startAt","stream","StringStream","callBlankLine","eol","readToken","blankLine","takeToken","asArray","getObj","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","updateLine","estimateHeight","estHeight","cleanUpLine","interpretTokenStyle","styleToClassCacheWithMode","styleToClassCache","buildLineContent","lineView","pre","trailingSpace","splitSpaces","getOption","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","insertLineContent","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","startStyle","endStyle","displayText","special","specialChars","mustWrap","createDocumentFragment","txt$1","tabWidth","specialCharPlaceholder","fullStyle","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","Infinity","foundBookmarks","endStyles","j$1","j$2","upto","tokenText","LineView","hidden","buildViewArray","nextPos","pushOperation","op","operationGroup","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","callbacks","cursorActivityCalled","finishOperation","endCb","signalLater","list","orphanDelayedCallbacks","fireOrphanDelayed","delayed","updateLineForChanges","dims","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","updateLineBackground","background","wrap","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","gutterWidth","alignable","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","paddingLeft","marginLeft","widgetHeight","parentStyle","clientWidth","eventInWidget","getAttribute","paddingTop","offsetTop","paddingVert","paddingH","currentStyle","scrollGap","displayWidth","displayHeight","clientHeight","ensureLineHeights","wrapping","curWidth","heights","rects","getClientRects","mapFromLineView","before","updateExternalMeasurement","measureChar","bias","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","nodeAndOffsetInLineMap","collapse","mStart","mEnd","coverStart","coverEnd","getUsefulRect","nullRect","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","pageScrollX","pageXOffset","scrollLeft","pageScrollY","pageYOffset","scrollTop","intoCoordSystem","includeWidgets","yOff","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","getBidi","invert","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","mergedPos","prevDiff","prevPos","beginLeft","box","textHeight","measureText","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","colDiff","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","selection","sel","ranges","primIndex","showCursorWhenSelecting","drawSelectionCursor","drawSelectionRange","cursor","cursorHeight","otherCursor","fragment","rightSide","drawForLine","fromArg","toArg","lineLen","rightPos","leftPos","tmp","leftSide","padding","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorBlinkRate","setInterval","ensureFocus","onFocus","delayBlurEvent","delayingBlurEvent","onBlur","receivedFocus","rmClass","alignHorizontally","comp","gutterW","align","maybeUpdateLineNumberWidth","innerW","updateGutterSpace","updateHeightsInViewport","prevBottom","updateWidgetHeight","visibleLines","viewport","ensure","ensureFrom","ensureTo","setScrollTop","updateDisplaySimple","scrollbars","startWorker","setScrollLeft","isScroller","scrollWidth","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","wheelPixelsPerUnit","onScrollWheel","scroll","canScrollX","canScrollY","scrollHeight","currentWheelTarget","presto","pixels","wheelSamples","movedX","movedY","sample","measureForScrollbars","docH","viewHeight","viewWidth","barLeft","docHeight","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","borderBottom","coverGutterNextToScrollbar","initScrollbars","scrollbarModel","scrollbarStyle","maybeScrollWindow","doScroll","innerHeight","phantom","scrollNode","scrollPosIntoView","margin","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","x1","y1","x2","y2","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollPos","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","isCursor","sPos","scrollTo","startOperation","viewChanged","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","nextOpId","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","i$4","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","minWidth","takeFocus","setDocumentHeight","postUpdateDisplay","forceScroll","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","regChange","lendiff","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","time","highlight","highlightWorker","workTime","changedLines","oldStyles","tooLong","highlighted","oldCls","newCls","ischange","workDelay","marginBottom","borderRightWidth","editorIsHidden","force","viewportMargin","different","wrapperHeight","toUpdate","patchDisplay","minHeight","oldDisplayWidth","updateNumbersFrom","rm","container","updateNumber","updateGutters","specs","gElt","setGuttersForLineNumbers","normalizeSelection","prim","inv","Range","Selection","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","Line","firstLine","lastText","lastSpans","nlines","insert","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","History","startGen","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","somethingSelected","addSelectionToHistory","clearRedo","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","deepCopy","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","this$1","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","sel_dontScroll","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","antiChanges","after","returned","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","splitLines","rebaseHistSelSingle","rebaseHistArray","ok","copied","changeLine","handle","changeType","adjustScrollWhenAboveVisible","addLineWidget","LineWidget","insertAt","aboveVisible","markText","markTextShared","TextMarker","addToHistory","curLine","clearOnEnter","clearHistory","nextMarkerId","cloneNode","isParent","SharedTextMarker","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","clearDragCursor","lastDrop","isReadOnly","loadFile","allowDropFileTypes","lineSeparator","readAsText","draggingText","text$1","listSelections","replaceSelection","getSelection","safari","img","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","ensureGlobalHandlers","globalsRegistered","registerGlobalHandlers","resizeTimer","onResize","setSize","normalizeKeyName","alt","cmd","mod","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyNames","keyName","noShift","altGraphKey","flipCtrlCmd","keyMap","deleteNearSelection","compute","kill","toKill","replaced","lineStart","visual","lineEnd","lineStartSmart","firstNonWS","inWS","doHandleBinding","bound","dropShift","commands","ensurePolled","prevShift","Pass","lookupKeyForEditor","keyMaps","extraKeys","dispatchKey","seq","keySeq","stopSeq","handleKeyBinding","motion","handleCharBinding","onKeyDown","lastStoppedKey","hasCopyEvent","showCrossHair","onKeyPress","charCode","onMouseDown","supportsTouch","clickInGutter","selectingText","leftButtonDown","lastMiddleDown","captureRightClick","onContextMenu","lastDoubleClick","lastClick","contained","modifier","dragAndDrop","leftButtonStartDrag","leftButtonSelect","startTime","e2","addNew","extendTo","lastPos","startCol","posCol","startSel","ourIndex","oldRange","ourRange","findWordAt","ranges$1","sel_mouse","curCount","counter","editorSize","chromeOS","word","gutterEvent","prevent","mX","mY","lineBox","g","contextMenuInGutter","themeChanged","theme","defineOptions","option","deflt","notOnInit","optionHandlers","Init","defineOption","setValue","lineSep","newBreaks","refresh","getInputField","windows","guttersChanged","detach","attach","wrappingChanged","integer","readOnlyChanged","dragDropChanged","resetPosition","getField","tabIndex","wasOn","dragFunctions","toggle","over","drop","Doc","inputStyles","inputStyle","pasteIncoming","cutIncoming","Delayed","autofocus","registerEventHandlers","opt","finishInit","initHooks","textRendering","finishTouch","touchFinished","prevTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","clearTimeout","moved","pageX","pageY","inp","indentLine","how","aggressive","indent","curSpace","indentation","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","setLastCopied","newLastCopied","lastCopied","applyTextInput","inserted","deleted","textLines","splitLinesAuto","multiPaste","lineWise","changeEvent","triggerElectric","handlePaste","pasted","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","getRange","disableBrowserMagic","hiddenTextarea","te","div","ios","border","addEditorMethods","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","indentSelection","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vert","horiz","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","execCommand","findPosH","amount","unit","hitSide","moveH","extendSelectionsBy","rtlMoveVisually","sel_move","deleteH","findPosV","goalColumn","moveV","goals","headPos","startChar","check","toggleOverwrite","getScrollInfo","interpret","oldHeight","swapDoc","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","findNextLine","moveOnce","boundToLine","origDir","sawType","pageSize","moveAmount","posToDOM","side","badPos","bad","domTextBetween","recognizeMarker","walk","cmText","textContent","markerID","closing","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","dist","previousSibling","dist$1","fromTextArea","textarea","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","platform","ie_upto10","ie_11up","edge","documentMode","qtwebkit","chrome","vendor","mac_geMountainLion","presto_version","createRange","endNode","setEnd","setStart","createTextRange","moveToElementText","moveEnd","moveStart","selectInput","selectionStart","selectionEnd","_e","ms","charType","lowTypes","arabicTypes","BidiSpan","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","outerType","type$1","prev$1","type$2","type$3","i$5","cur$1","type$4","i$6","end$1","replace$1","i$7","nstart","attachEvent","nl","rt","hasSelection","ownerDocument","parentElement","compareEndPoints","oncopy","lastColumnPos","lastColumnValue","sol","peek","eat","eatWhile","eatSpace","skipToEnd","skipTo","backUp","column","consume","cased","hideFirstChars","NativeScrollbars","checkedZeroWidth","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","maybeDisable","NullScrollbars","null","here","there","LeafChunk","removeInner","insertInner","iterN","BranchChunk","leaf","maybeSpill","me","spilled","sibling","myIndex","used","oldH","withOp","dHeight","nextDocId","cleanGeneration","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","setCursor","setSelections","addSelection","getSelections","dup","replaceSelections","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","splitIds","iterLinkedDocs","getEditor","eachLine","3","8","9","13","16","17","18","19","20","27","32","44","45","46","59","61","91","92","93","106","107","109","110","111","127","173","186","187","188","189","190","191","192","219","220","221","222","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","basic","Left","Right","Up","Down","End","Home","PageUp","PageDown","Delete","Backspace","Shift-Backspace","Tab","Shift-Tab","Enter","Insert","Esc","pcDefault","Ctrl-A","Ctrl-D","Ctrl-Z","Shift-Ctrl-Z","Ctrl-Y","Ctrl-Home","Ctrl-End","Ctrl-Up","Ctrl-Down","Ctrl-Left","Ctrl-Right","Alt-Left","Alt-Right","Ctrl-Backspace","Ctrl-Delete","Ctrl-S","Ctrl-F","Ctrl-G","Shift-Ctrl-G","Shift-Ctrl-F","Shift-Ctrl-R","Ctrl-[","Ctrl-]","Ctrl-U","Shift-Ctrl-U","Alt-U","emacsy","Ctrl-B","Ctrl-P","Ctrl-N","Alt-F","Alt-B","Ctrl-E","Ctrl-V","Shift-Ctrl-V","Ctrl-H","Alt-D","Alt-Backspace","Ctrl-K","Ctrl-T","Ctrl-O","macDefault","Cmd-A","Cmd-D","Cmd-Z","Shift-Cmd-Z","Cmd-Y","Cmd-Home","Cmd-Up","Cmd-End","Cmd-Down","Cmd-Left","Cmd-Right","Ctrl-Alt-Backspace","Alt-Delete","Cmd-S","Cmd-F","Cmd-G","Shift-Cmd-G","Cmd-Alt-F","Shift-Cmd-Alt-F","Cmd-[","Cmd-]","Cmd-Backspace","Cmd-Delete","Cmd-U","Shift-Cmd-U","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","goDocStart","goDocEnd","goLineStart","goLineStartSmart","goLineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","goLineDown","goPageUp","goPageDown","goCharLeft","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","transposeChars","newlineAndIndent","sels","openLine","defineInitHook","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","pollContent","readFromDOMSoon","forceCompositionEnd","showMultipleSelections","curAnchor","anchorNode","anchorOffset","curFocus","focusNode","focusOffset","rangeCount","getRangeAt","rng","removeAllRanges","addRange","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","poll","pollSelection","pollInterval","fromIndex","fromNode","toIndex","newText","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","TextareaInput","prevInput","pollingFast","inaccurateSelection","prepareCopyCut","fastPoll","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","minimal","slowPoll","missed","prepareSelectAllHack","extval","rehide","oldWrapperCSS","oldCSS","detectingSelectAll","resetSelectionOnContextMenu","wrapperBox","oldScrollY","scrollY","mouseup","dontDelegate","contenteditable","defineExtension","defineDocExtension","conf","handleChar","getConfig","closeBrackets","handleBackspace","around","charsAround","handleEnter","explode","contractSelection","inverted","triples","identical","opening","curType","enteringString","isClosingBracket","type1","findMatchingBracket","scanForBracket","forward","maxScanLen","maxScanLineLength","maxScanLines","bracketRegex","matchBrackets","autoclear","maxHighlightLen","maxHighlightLineLength","marks","ie_lt8","doMatchBrackets","currentlyHighlighted","constant","uiCodemirrorConfig","postLink","iElement","iAttrs","ngModel","codemirrorOptions","codemirror","uiCodemirror","uiCodemirrorOpts","newCodemirrorEditor","configOptionsWatcher","configNgModelLink","configUiRefreshAttribute","uiRefresh","onLoad","codemirrot","cm_el","uiCodemirrorAttr","updateOptions","codemirrorDefaultsKeys","$render","safeViewValue","$viewValue","instance","$setViewValue","codeMirror","uiRefreshAttr","newVal","oldVal","parserConfig","templateMode","||","templatizer","TOKEN_NAMES","operator","variable","number","dirPaginateDirective","paginationService","dirPaginationCompileFn","dirPaginate","filterPattern","itemsPerPageFilterRemoved","collectionGetter","addNoCompileAttributes","rawId","paginationId","DEFAULT_ID","registerInstance","deregisterInstance","repeatExpression","getRepeatExpression","addNgRepeatToElement","removeTemporaryAttributes","compiled","currentPageGetter","makeCurrentPageGetterFn","setCurrentPageParser","totalItems","setAsyncModeTrue","setCollectionLength","setAsyncModeFalse","$watchCollection","collectionLength","idDefinedInFilter","hasAttribute","removeAttr","currentPage","defaultCurrentPage","multiElement","noCompileDirective","dirPaginationControlsTemplateInstaller","dirPaginationControlsDirective","paginationTemplate","dirPaginationControlsLinkFn","goToPage","isRegistered","isValidPageNumber","oldPageNumber","pagination","pages","generatePagesArray","getCollectionLength","getItemsPerPage","paginationRange","updateRangeValues","onPageChange","newPageNumber","generatePagination","page","getCurrentPage","setCurrent","itemsPerPage","lower","upper","numberRegex","idMessage","warn","maxSize","autoHide","directionLinks","boundaryLinks","previousPage","setCurrentPage","tracker","rowsPerPage","totalPages","halfWay","ellipsesNeeded","pageNumber","calculatePageNumber","openingEllipsesNeeded","closingEllipsesNeeded","DDO","templateString","getString","getPath","itemsPerPageFilter","isAsyncMode","setItemsPerPage","slicedObject","objKeys","lastRegisteredInstance","instances","instanceId","asyncMode","getLastInstanceId","currentPageParser","paginationTemplateProvider","templatePath","setPath","setString","moduleName","u","matchCaseless","notMatch","matchIgnoreEmpty","$$parseAndValidate","$validators","lowercase","$log","_link","onClick","originalElement","noEscape","focusSelect","selectNodeContents","renderHtml","editCallback","$rollbackViewValue","singleLine","$addClass","editableClass","unbind","keyBindings","configure","addKey","$key","$value","$elm","idToScroll","speed","scrollSpeed","$target","animate","$stateProvider","$urlRouterProvider","requireBase","slide","tpl","model","templates","elm","viewValue","noMatch","myForm","password","$firebaseArray","$firebaseStorage","collections","currentCollection","firebase","database","orderByChild","equalTo","user_id","$add","$indexFor","$remove","removeImage","setImage","storageRef","storage","uploadTask","$put","$complete","snapshot","img_url","downloadURL","$delete","$firebaseAuth","$firebaseObject","currentUser","uid","user","$bindTo","profilePic","changeEmail","email","auth","$updateEmail","emailDisabled","editorEnabled","$templateList","$schemas","$collectionService","collectionSettingsTrue","collectionSettings","codemirrorOpts","autoCloseBrackets","schemas","devices","material_icon","setDevice","device","loading","searching","$file","organizations","organization","newOrganization","settings","tabs","selectedTab","$save","slides","searchSlides","kind","collectionId","updateIndexes","$loaded","searchtext","q","hits","hit","_source","currentLanguage","currentVersion","currentFrame","dropCallback","_from","_to","signIn","$signInWithEmailAndPassword","alert","signUp","firstName","lastName","$createUserWithEmailAndPassword","firebaseUser","resetPassword","$sendPasswordResetEmail","signOut","$signOut","signInPageRoute","indexPageRoute","$getAuth","signUpRoute","settingsPageRoute","collectionsPageRoute","organizationPageRoute","surveysRoute","onAuthStateChanged","isLoggedIn","searchValue","align-items","justify-content","frame_size","fit","use","iframe","$directiveElement","$children","otherScope","iframeBody","contentWindow","appendTo"],"mappings":"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","file":"alpaca-editor.min.js","sourcesContent":["/**\r\n * angular-drag-and-drop-lists v2.1.0\r\n *\r\n * Copyright (c) 2014 Marcel Juenemann marcel@juenemann.cc\r\n * Copyright (c) 2014-2017 Google Inc.\r\n * https://github.com/marceljuenemann/angular-drag-and-drop-lists\r\n *\r\n * License: MIT\r\n */\r\n(function(dndLists) {\r\n\r\n  // In standard-compliant browsers we use a custom mime type and also encode the dnd-type in it.\r\n  // However, IE and Edge only support a limited number of mime types. The workarounds are described\r\n  // in https://github.com/marceljuenemann/angular-drag-and-drop-lists/wiki/Data-Transfer-Design\r\n  var MIME_TYPE = 'application/x-dnd';\r\n  var EDGE_MIME_TYPE = 'application/json';\r\n  var MSIE_MIME_TYPE = 'Text';\r\n\r\n  // All valid HTML5 drop effects, in the order in which we prefer to use them.\r\n  var ALL_EFFECTS = ['move', 'copy', 'link'];\r\n\r\n  /**\r\n   * Use the dnd-draggable attribute to make your element draggable\r\n   *\r\n   * Attributes:\r\n   * - dnd-draggable      Required attribute. The value has to be an object that represents the data\r\n   *                      of the element. In case of a drag and drop operation the object will be\r\n   *                      serialized and unserialized on the receiving end.\r\n   * - dnd-effect-allowed Use this attribute to limit the operations that can be performed. Valid\r\n   *                      options are \"move\", \"copy\" and \"link\", as well as \"all\", \"copyMove\",\r\n   *                      \"copyLink\" and \"linkMove\". The semantics of these operations are up to you\r\n   *                      and have to be implemented using the callbacks described below. If you\r\n   *                      allow multiple options, the user can choose between them by using the\r\n   *                      modifier keys (OS specific). The cursor will be changed accordingly,\r\n   *                      expect for IE and Edge, where this is not supported.\r\n   * - dnd-type           Use this attribute if you have different kinds of items in your\r\n   *                      application and you want to limit which items can be dropped into which\r\n   *                      lists. Combine with dnd-allowed-types on the dnd-list(s). This attribute\r\n   *                      must be a lower case string. Upper case characters can be used, but will\r\n   *                      be converted to lower case automatically.\r\n   * - dnd-disable-if     You can use this attribute to dynamically disable the draggability of the\r\n   *                      element. This is useful if you have certain list items that you don't want\r\n   *                      to be draggable, or if you want to disable drag & drop completely without\r\n   *                      having two different code branches (e.g. only allow for admins).\r\n   *\r\n   * Callbacks:\r\n   * - dnd-dragstart      Callback that is invoked when the element was dragged. The original\r\n   *                      dragstart event will be provided in the local event variable.\r\n   * - dnd-moved          Callback that is invoked when the element was moved. Usually you will\r\n   *                      remove your element from the original list in this callback, since the\r\n   *                      directive is not doing that for you automatically. The original dragend\r\n   *                      event will be provided in the local event variable.\r\n   * - dnd-copied         Same as dnd-moved, just that it is called when the element was copied\r\n   *                      instead of moved, so you probably want to implement a different logic.\r\n   * - dnd-linked         Same as dnd-moved, just that it is called when the element was linked\r\n   *                      instead of moved, so you probably want to implement a different logic.\r\n   * - dnd-canceled       Callback that is invoked if the element was dragged, but the operation was\r\n   *                      canceled and the element was not dropped. The original dragend event will\r\n   *                      be provided in the local event variable.\r\n   * - dnd-dragend        Callback that is invoked when the drag operation ended. Available local\r\n   *                      variables are event and dropEffect.\r\n   * - dnd-selected       Callback that is invoked when the element was clicked but not dragged.\r\n   *                      The original click event will be provided in the local event variable.\r\n   * - dnd-callback       Custom callback that is passed to dropzone callbacks and can be used to\r\n   *                      communicate between source and target scopes. The dropzone can pass user\r\n   *                      defined variables to this callback.\r\n   *\r\n   * CSS classes:\r\n   * - dndDragging        This class will be added to the element while the element is being\r\n   *                      dragged. It will affect both the element you see while dragging and the\r\n   *                      source element that stays at it's position. Do not try to hide the source\r\n   *                      element with this class, because that will abort the drag operation.\r\n   * - dndDraggingSource  This class will be added to the element after the drag operation was\r\n   *                      started, meaning it only affects the original element that is still at\r\n   *                      it's source position, and not the \"element\" that the user is dragging with\r\n   *                      his mouse pointer.\r\n   */\r\n  dndLists.directive('dndDraggable', ['$parse', '$timeout', function($parse, $timeout) {\r\n    return function(scope, element, attr) {\r\n      // Set the HTML5 draggable attribute on the element.\r\n      element.attr(\"draggable\", \"true\");\r\n\r\n      // If the dnd-disable-if attribute is set, we have to watch that.\r\n      if (attr.dndDisableIf) {\r\n        scope.$watch(attr.dndDisableIf, function(disabled) {\r\n          element.attr(\"draggable\", !disabled);\r\n        });\r\n      }\r\n\r\n      /**\r\n       * When the drag operation is started we have to prepare the dataTransfer object,\r\n       * which is the primary way we communicate with the target element\r\n       */\r\n      element.on('dragstart', function(event) {\r\n        event = event.originalEvent || event;\r\n\r\n        // Check whether the element is draggable, since dragstart might be triggered on a child.\r\n        if (element.attr('draggable') == 'false') return true;\r\n\r\n        // Initialize global state.\r\n        dndState.isDragging = true;\r\n        dndState.itemType = attr.dndType && scope.$eval(attr.dndType).toLowerCase();\r\n\r\n        // Set the allowed drop effects. See below for special IE handling.\r\n        dndState.dropEffect = \"none\";\r\n        dndState.effectAllowed = attr.dndEffectAllowed || ALL_EFFECTS[0];\r\n        event.dataTransfer.effectAllowed = dndState.effectAllowed;\r\n\r\n        // Internet Explorer and Microsoft Edge don't support custom mime types, see design doc:\r\n        // https://github.com/marceljuenemann/angular-drag-and-drop-lists/wiki/Data-Transfer-Design\r\n        var item = scope.$eval(attr.dndDraggable);\r\n        var mimeType = MIME_TYPE + (dndState.itemType ? ('-' + dndState.itemType) : '');\r\n        try {\r\n          event.dataTransfer.setData(mimeType, angular.toJson(item));\r\n        } catch (e) {\r\n          // Setting a custom MIME type did not work, we are probably in IE or Edge.\r\n          var data = angular.toJson({item: item, type: dndState.itemType});\r\n          try {\r\n            event.dataTransfer.setData(EDGE_MIME_TYPE, data);\r\n          } catch (e) {\r\n            // We are in Internet Explorer and can only use the Text MIME type. Also note that IE\r\n            // does not allow changing the cursor in the dragover event, therefore we have to choose\r\n            // the one we want to display now by setting effectAllowed.\r\n            var effectsAllowed = filterEffects(ALL_EFFECTS, dndState.effectAllowed);\r\n            event.dataTransfer.effectAllowed = effectsAllowed[0];\r\n            event.dataTransfer.setData(MSIE_MIME_TYPE, data);\r\n          }\r\n        }\r\n\r\n        // Add CSS classes. See documentation above.\r\n        element.addClass(\"dndDragging\");\r\n        $timeout(function() { element.addClass(\"dndDraggingSource\"); }, 0);\r\n\r\n        // Try setting a proper drag image if triggered on a dnd-handle (won't work in IE).\r\n        if (event._dndHandle && event.dataTransfer.setDragImage) {\r\n          event.dataTransfer.setDragImage(element[0], 0, 0);\r\n        }\r\n\r\n        // Invoke dragstart callback and prepare extra callback for dropzone.\r\n        $parse(attr.dndDragstart)(scope, {event: event});\r\n        if (attr.dndCallback) {\r\n          var callback = $parse(attr.dndCallback);\r\n          dndState.callback = function(params) { return callback(scope, params || {}); };\r\n        }\r\n\r\n        event.stopPropagation();\r\n      });\r\n\r\n      /**\r\n       * The dragend event is triggered when the element was dropped or when the drag\r\n       * operation was aborted (e.g. hit escape button). Depending on the executed action\r\n       * we will invoke the callbacks specified with the dnd-moved or dnd-copied attribute.\r\n       */\r\n      element.on('dragend', function(event) {\r\n        event = event.originalEvent || event;\r\n\r\n        // Invoke callbacks. Usually we would use event.dataTransfer.dropEffect to determine\r\n        // the used effect, but Chrome has not implemented that field correctly. On Windows\r\n        // it always sets it to 'none', while Chrome on Linux sometimes sets it to something\r\n        // else when it's supposed to send 'none' (drag operation aborted).\r\n        scope.$apply(function() {\r\n          var dropEffect = dndState.dropEffect;\r\n          var cb = {copy: 'dndCopied', link: 'dndLinked', move: 'dndMoved', none: 'dndCanceled'};\r\n          $parse(attr[cb[dropEffect]])(scope, {event: event});\r\n          $parse(attr.dndDragend)(scope, {event: event, dropEffect: dropEffect});\r\n        });\r\n\r\n        // Clean up\r\n        dndState.isDragging = false;\r\n        dndState.callback = undefined;\r\n        element.removeClass(\"dndDragging\");\r\n        element.removeClass(\"dndDraggingSource\");\r\n        event.stopPropagation();\r\n\r\n        // In IE9 it is possible that the timeout from dragstart triggers after the dragend handler.\r\n        $timeout(function() { element.removeClass(\"dndDraggingSource\"); }, 0);\r\n      });\r\n\r\n      /**\r\n       * When the element is clicked we invoke the callback function\r\n       * specified with the dnd-selected attribute.\r\n       */\r\n      element.on('click', function(event) {\r\n        if (!attr.dndSelected) return;\r\n\r\n        event = event.originalEvent || event;\r\n        scope.$apply(function() {\r\n          $parse(attr.dndSelected)(scope, {event: event});\r\n        });\r\n\r\n        // Prevent triggering dndSelected in parent elements.\r\n        event.stopPropagation();\r\n      });\r\n\r\n      /**\r\n       * Workaround to make element draggable in IE9\r\n       */\r\n      element.on('selectstart', function() {\r\n        if (this.dragDrop) this.dragDrop();\r\n      });\r\n    };\r\n  }]);\r\n\r\n  /**\r\n   * Use the dnd-list attribute to make your list element a dropzone. Usually you will add a single\r\n   * li element as child with the ng-repeat directive. If you don't do that, we will not be able to\r\n   * position the dropped element correctly. If you want your list to be sortable, also add the\r\n   * dnd-draggable directive to your li element(s).\r\n   *\r\n   * Attributes:\r\n   * - dnd-list             Required attribute. The value has to be the array in which the data of\r\n   *                        the dropped element should be inserted. The value can be blank if used\r\n   *                        with a custom dnd-drop handler that always returns true.\r\n   * - dnd-allowed-types    Optional array of allowed item types. When used, only items that had a\r\n   *                        matching dnd-type attribute will be dropable. Upper case characters will\r\n   *                        automatically be converted to lower case.\r\n   * - dnd-effect-allowed   Optional string expression that limits the drop effects that can be\r\n   *                        performed in the list. See dnd-effect-allowed on dnd-draggable for more\r\n   *                        details on allowed options. The default value is all.\r\n   * - dnd-disable-if       Optional boolean expresssion. When it evaluates to true, no dropping\r\n   *                        into the list is possible. Note that this also disables rearranging\r\n   *                        items inside the list.\r\n   * - dnd-horizontal-list  Optional boolean expresssion. When it evaluates to true, the positioning\r\n   *                        algorithm will use the left and right halfs of the list items instead of\r\n   *                        the upper and lower halfs.\r\n   * - dnd-external-sources Optional boolean expression. When it evaluates to true, the list accepts\r\n   *                        drops from sources outside of the current browser tab. This allows to\r\n   *                        drag and drop accross different browser tabs. The only major browser\r\n   *                        that does not support this is currently Microsoft Edge.\r\n   *\r\n   * Callbacks:\r\n   * - dnd-dragover         Optional expression that is invoked when an element is dragged over the\r\n   *                        list. If the expression is set, but does not return true, the element is\r\n   *                        not allowed to be dropped. The following variables will be available:\r\n   *                        - event: The original dragover event sent by the browser.\r\n   *                        - index: The position in the list at which the element would be dropped.\r\n   *                        - type: The dnd-type set on the dnd-draggable, or undefined if non was\r\n   *                          set. Will be null for drops from external sources in IE and Edge,\r\n   *                          since we don't know the type in those cases.\r\n   *                        - dropEffect: One of move, copy or link, see dnd-effect-allowed.\r\n   *                        - external: Whether the element was dragged from an external source.\r\n   *                        - callback: If dnd-callback was set on the source element, this is a\r\n   *                          function reference to the callback. The callback can be invoked with\r\n   *                          custom variables like this: callback({var1: value1, var2: value2}).\r\n   *                          The callback will be executed on the scope of the source element. If\r\n   *                          dnd-external-sources was set and external is true, this callback will\r\n   *                          not be available.\r\n   * - dnd-drop             Optional expression that is invoked when an element is dropped on the\r\n   *                        list. The same variables as for dnd-dragover will be available, with the\r\n   *                        exception that type is always known and therefore never null. There\r\n   *                        will also be an item variable, which is the transferred object. The\r\n   *                        return value determines the further handling of the drop:\r\n   *                        - falsy: The drop will be canceled and the element won't be inserted.\r\n   *                        - true: Signalises that the drop is allowed, but the dnd-drop\r\n   *                          callback already took care of inserting the element.\r\n   *                        - otherwise: All other return values will be treated as the object to\r\n   *                          insert into the array. In most cases you want to simply return the\r\n   *                          item parameter, but there are no restrictions on what you can return.\r\n   * - dnd-inserted         Optional expression that is invoked after a drop if the element was\r\n   *                        actually inserted into the list. The same local variables as for\r\n   *                        dnd-drop will be available. Note that for reorderings inside the same\r\n   *                        list the old element will still be in the list due to the fact that\r\n   *                        dnd-moved was not called yet.\r\n   *\r\n   * CSS classes:\r\n   * - dndPlaceholder       When an element is dragged over the list, a new placeholder child\r\n   *                        element will be added. This element is of type li and has the class\r\n   *                        dndPlaceholder set. Alternatively, you can define your own placeholder\r\n   *                        by creating a child element with dndPlaceholder class.\r\n   * - dndDragover          Will be added to the list while an element is dragged over the list.\r\n   */\r\n  dndLists.directive('dndList', ['$parse', function($parse) {\r\n    return function(scope, element, attr) {\r\n      // While an element is dragged over the list, this placeholder element is inserted\r\n      // at the location where the element would be inserted after dropping.\r\n      var placeholder = getPlaceholderElement();\r\n      placeholder.remove();\r\n\r\n      var placeholderNode = placeholder[0];\r\n      var listNode = element[0];\r\n      var listSettings = {};\r\n\r\n      /**\r\n       * The dragenter event is fired when a dragged element or text selection enters a valid drop\r\n       * target. According to the spec, we either need to have a dropzone attribute or listen on\r\n       * dragenter events and call preventDefault(). It should be noted though that no browser seems\r\n       * to enforce this behaviour.\r\n       */\r\n      element.on('dragenter', function (event) {\r\n        event = event.originalEvent || event;\r\n\r\n        // Calculate list properties, so that we don't have to repeat this on every dragover event.\r\n        var types = attr.dndAllowedTypes && scope.$eval(attr.dndAllowedTypes);\r\n        listSettings = {\r\n          allowedTypes: angular.isArray(types) && types.join('|').toLowerCase().split('|'),\r\n          disabled: attr.dndDisableIf && scope.$eval(attr.dndDisableIf),\r\n          externalSources: attr.dndExternalSources && scope.$eval(attr.dndExternalSources),\r\n          horizontal: attr.dndHorizontalList && scope.$eval(attr.dndHorizontalList)\r\n        };\r\n\r\n        var mimeType = getMimeType(event.dataTransfer.types);\r\n        if (!mimeType || !isDropAllowed(getItemType(mimeType))) return true;\r\n        event.preventDefault();\r\n      });\r\n\r\n      /**\r\n       * The dragover event is triggered \"every few hundred milliseconds\" while an element\r\n       * is being dragged over our list, or over an child element.\r\n       */\r\n      element.on('dragover', function(event) {\r\n        event = event.originalEvent || event;\r\n\r\n        // Check whether the drop is allowed and determine mime type.\r\n        var mimeType = getMimeType(event.dataTransfer.types);\r\n        var itemType = getItemType(mimeType);\r\n        if (!mimeType || !isDropAllowed(itemType)) return true;\r\n\r\n        // Make sure the placeholder is shown, which is especially important if the list is empty.\r\n        if (placeholderNode.parentNode != listNode) {\r\n          element.append(placeholder);\r\n        }\r\n\r\n        if (event.target != listNode) {\r\n          // Try to find the node direct directly below the list node.\r\n          var listItemNode = event.target;\r\n          while (listItemNode.parentNode != listNode && listItemNode.parentNode) {\r\n            listItemNode = listItemNode.parentNode;\r\n          }\r\n\r\n          if (listItemNode.parentNode == listNode && listItemNode != placeholderNode) {\r\n            // If the mouse pointer is in the upper half of the list item element,\r\n            // we position the placeholder before the list item, otherwise after it.\r\n            var rect = listItemNode.getBoundingClientRect();\r\n            if (listSettings.horizontal) {\r\n              var isFirstHalf = event.clientX < rect.left + rect.width / 2;\r\n            } else {\r\n              var isFirstHalf = event.clientY < rect.top + rect.height / 2;\r\n            }\r\n            listNode.insertBefore(placeholderNode,\r\n                isFirstHalf ? listItemNode : listItemNode.nextSibling);\r\n          }\r\n        }\r\n\r\n        // In IE we set a fake effectAllowed in dragstart to get the correct cursor, we therefore\r\n        // ignore the effectAllowed passed in dataTransfer. We must also not access dataTransfer for\r\n        // drops from external sources, as that throws an exception.\r\n        var ignoreDataTransfer = mimeType == MSIE_MIME_TYPE;\r\n        var dropEffect = getDropEffect(event, ignoreDataTransfer);\r\n        if (dropEffect == 'none') return stopDragover();\r\n\r\n        // At this point we invoke the callback, which still can disallow the drop.\r\n        // We can't do this earlier because we want to pass the index of the placeholder.\r\n        if (attr.dndDragover && !invokeCallback(attr.dndDragover, event, dropEffect, itemType)) {\r\n          return stopDragover();\r\n        }\r\n\r\n        // Set dropEffect to modify the cursor shown by the browser, unless we're in IE, where this\r\n        // is not supported. This must be done after preventDefault in Firefox.\r\n        event.preventDefault();\r\n        if (!ignoreDataTransfer) {\r\n          event.dataTransfer.dropEffect = dropEffect;\r\n        }\r\n\r\n        element.addClass(\"dndDragover\");\r\n        event.stopPropagation();\r\n        return false;\r\n      });\r\n\r\n      /**\r\n       * When the element is dropped, we use the position of the placeholder element as the\r\n       * position where we insert the transferred data. This assumes that the list has exactly\r\n       * one child element per array element.\r\n       */\r\n      element.on('drop', function(event) {\r\n        event = event.originalEvent || event;\r\n\r\n        // Check whether the drop is allowed and determine mime type.\r\n        var mimeType = getMimeType(event.dataTransfer.types);\r\n        var itemType = getItemType(mimeType);\r\n        if (!mimeType || !isDropAllowed(itemType)) return true;\r\n\r\n        // The default behavior in Firefox is to interpret the dropped element as URL and\r\n        // forward to it. We want to prevent that even if our drop is aborted.\r\n        event.preventDefault();\r\n\r\n        // Unserialize the data that was serialized in dragstart.\r\n        try {\r\n          var data = JSON.parse(event.dataTransfer.getData(mimeType));\r\n        } catch(e) {\r\n          return stopDragover();\r\n        }\r\n\r\n        // Drops with invalid types from external sources might not have been filtered out yet.\r\n        if (mimeType == MSIE_MIME_TYPE || mimeType == EDGE_MIME_TYPE) {\r\n          itemType = data.type || undefined;\r\n          data = data.item;\r\n          if (!isDropAllowed(itemType)) return stopDragover();\r\n        }\r\n\r\n        // Special handling for internal IE drops, see dragover handler.\r\n        var ignoreDataTransfer = mimeType == MSIE_MIME_TYPE;\r\n        var dropEffect = getDropEffect(event, ignoreDataTransfer);\r\n        if (dropEffect == 'none') return stopDragover();\r\n\r\n        // Invoke the callback, which can transform the transferredObject and even abort the drop.\r\n        var index = getPlaceholderIndex();\r\n        if (attr.dndDrop) {\r\n          data = invokeCallback(attr.dndDrop, event, dropEffect, itemType, index, data);\r\n          if (!data) return stopDragover();\r\n        }\r\n\r\n        // The drop is definitely going to happen now, store the dropEffect.\r\n        dndState.dropEffect = dropEffect;\r\n        if (!ignoreDataTransfer) {\r\n          event.dataTransfer.dropEffect = dropEffect;\r\n        }\r\n\r\n        // Insert the object into the array, unless dnd-drop took care of that (returned true).\r\n        if (data !== true) {\r\n          scope.$apply(function() {\r\n            scope.$eval(attr.dndList).splice(index, 0, data);\r\n          });\r\n        }\r\n        invokeCallback(attr.dndInserted, event, dropEffect, itemType, index, data);\r\n\r\n        // Clean up\r\n        stopDragover();\r\n        event.stopPropagation();\r\n        return false;\r\n      });\r\n\r\n      /**\r\n       * We have to remove the placeholder when the element is no longer dragged over our list. The\r\n       * problem is that the dragleave event is not only fired when the element leaves our list,\r\n       * but also when it leaves a child element. Therefore, we determine whether the mouse cursor\r\n       * is still pointing to an element inside the list or not.\r\n       */\r\n      element.on('dragleave', function(event) {\r\n        event = event.originalEvent || event;\r\n\r\n        var newTarget = document.elementFromPoint(event.clientX, event.clientY);\r\n        if (listNode.contains(newTarget) && !event._dndPhShown) {\r\n          // Signalize to potential parent lists that a placeholder is already shown.\r\n          event._dndPhShown = true;\r\n        } else {\r\n          stopDragover();\r\n        }\r\n      });\r\n\r\n      /**\r\n       * Given the types array from the DataTransfer object, returns the first valid mime type.\r\n       * A type is valid if it starts with MIME_TYPE, or it equals MSIE_MIME_TYPE or EDGE_MIME_TYPE.\r\n       */\r\n      function getMimeType(types) {\r\n        if (!types) return MSIE_MIME_TYPE; // IE 9 workaround.\r\n        for (var i = 0; i < types.length; i++) {\r\n          if (types[i] == MSIE_MIME_TYPE || types[i] == EDGE_MIME_TYPE ||\r\n              types[i].substr(0, MIME_TYPE.length) == MIME_TYPE) {\r\n            return types[i];\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n\r\n      /**\r\n       * Determines the type of the item from the dndState, or from the mime type for items from\r\n       * external sources. Returns undefined if no item type was set and null if the item type could\r\n       * not be determined.\r\n       */\r\n      function getItemType(mimeType) {\r\n        if (dndState.isDragging) return dndState.itemType || undefined;\r\n        if (mimeType == MSIE_MIME_TYPE || mimeType == EDGE_MIME_TYPE) return null;\r\n        return (mimeType && mimeType.substr(MIME_TYPE.length + 1)) || undefined;\r\n      }\r\n\r\n      /**\r\n       * Checks various conditions that must be fulfilled for a drop to be allowed, including the\r\n       * dnd-allowed-types attribute. If the item Type is unknown (null), the drop will be allowed.\r\n       */\r\n      function isDropAllowed(itemType) {\r\n        if (listSettings.disabled) return false;\r\n        if (!listSettings.externalSources && !dndState.isDragging) return false;\r\n        if (!listSettings.allowedTypes || itemType === null) return true;\r\n        return itemType && listSettings.allowedTypes.indexOf(itemType) != -1;\r\n      }\r\n\r\n      /**\r\n       * Determines which drop effect to use for the given event. In Internet Explorer we have to\r\n       * ignore the effectAllowed field on dataTransfer, since we set a fake value in dragstart.\r\n       * In those cases we rely on dndState to filter effects. Read the design doc for more details:\r\n       * https://github.com/marceljuenemann/angular-drag-and-drop-lists/wiki/Data-Transfer-Design\r\n       */\r\n      function getDropEffect(event, ignoreDataTransfer) {\r\n        var effects = ALL_EFFECTS;\r\n        if (!ignoreDataTransfer) {\r\n          effects = filterEffects(effects, event.dataTransfer.effectAllowed);\r\n        }\r\n        if (dndState.isDragging) {\r\n          effects = filterEffects(effects, dndState.effectAllowed);\r\n        }\r\n        if (attr.dndEffectAllowed) {\r\n          effects = filterEffects(effects, attr.dndEffectAllowed);\r\n        }\r\n        // MacOS automatically filters dataTransfer.effectAllowed depending on the modifier keys,\r\n        // therefore the following modifier keys will only affect other operating systems.\r\n        if (!effects.length) {\r\n          return 'none';\r\n        } else if (event.ctrlKey && effects.indexOf('copy') != -1) {\r\n          return 'copy';\r\n        } else if (event.altKey && effects.indexOf('link') != -1) {\r\n          return 'link';\r\n        } else {\r\n          return effects[0];\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Small helper function that cleans up if we aborted a drop.\r\n       */\r\n      function stopDragover() {\r\n        placeholder.remove();\r\n        element.removeClass(\"dndDragover\");\r\n        return true;\r\n      }\r\n\r\n      /**\r\n       * Invokes a callback with some interesting parameters and returns the callbacks return value.\r\n       */\r\n      function invokeCallback(expression, event, dropEffect, itemType, index, item) {\r\n        return $parse(expression)(scope, {\r\n          callback: dndState.callback,\r\n          dropEffect: dropEffect,\r\n          event: event,\r\n          external: !dndState.isDragging,\r\n          index: index !== undefined ? index : getPlaceholderIndex(),\r\n          item: item || undefined,\r\n          type: itemType\r\n        });\r\n      }\r\n\r\n      /**\r\n       * We use the position of the placeholder node to determine at which position of the array the\r\n       * object needs to be inserted\r\n       */\r\n      function getPlaceholderIndex() {\r\n        return Array.prototype.indexOf.call(listNode.children, placeholderNode);\r\n      }\r\n\r\n      /**\r\n       * Tries to find a child element that has the dndPlaceholder class set. If none was found, a\r\n       * new li element is created.\r\n       */\r\n      function getPlaceholderElement() {\r\n        var placeholder;\r\n        angular.forEach(element.children(), function(childNode) {\r\n          var child = angular.element(childNode);\r\n          if (child.hasClass('dndPlaceholder')) {\r\n            placeholder = child;\r\n          }\r\n        });\r\n        return placeholder || angular.element(\"<li class='dndPlaceholder'></li>\");\r\n      }\r\n    };\r\n  }]);\r\n\r\n  /**\r\n   * Use the dnd-nodrag attribute inside of dnd-draggable elements to prevent them from starting\r\n   * drag operations. This is especially useful if you want to use input elements inside of\r\n   * dnd-draggable elements or create specific handle elements. Note: This directive does not work\r\n   * in Internet Explorer 9.\r\n   */\r\n  dndLists.directive('dndNodrag', function() {\r\n    return function(scope, element, attr) {\r\n      // Set as draggable so that we can cancel the events explicitly\r\n      element.attr(\"draggable\", \"true\");\r\n\r\n      /**\r\n       * Since the element is draggable, the browser's default operation is to drag it on dragstart.\r\n       * We will prevent that and also stop the event from bubbling up.\r\n       */\r\n      element.on('dragstart', function(event) {\r\n        event = event.originalEvent || event;\r\n\r\n        if (!event._dndHandle) {\r\n          // If a child element already reacted to dragstart and set a dataTransfer object, we will\r\n          // allow that. For example, this is the case for user selections inside of input elements.\r\n          if (!(event.dataTransfer.types && event.dataTransfer.types.length)) {\r\n            event.preventDefault();\r\n          }\r\n          event.stopPropagation();\r\n        }\r\n      });\r\n\r\n      /**\r\n       * Stop propagation of dragend events, otherwise dnd-moved might be triggered and the element\r\n       * would be removed.\r\n       */\r\n      element.on('dragend', function(event) {\r\n        event = event.originalEvent || event;\r\n        if (!event._dndHandle) {\r\n          event.stopPropagation();\r\n        }\r\n      });\r\n    };\r\n  });\r\n\r\n  /**\r\n   * Use the dnd-handle directive within a dnd-nodrag element in order to allow dragging with that\r\n   * element after all. Therefore, by combining dnd-nodrag and dnd-handle you can allow\r\n   * dnd-draggable elements to only be dragged via specific \"handle\" elements. Note that Internet\r\n   * Explorer will show the handle element as drag image instead of the dnd-draggable element. You\r\n   * can work around this by styling the handle element differently when it is being dragged. Use\r\n   * the CSS selector .dndDragging:not(.dndDraggingSource) [dnd-handle] for that.\r\n   */\r\n  dndLists.directive('dndHandle', function() {\r\n    return function(scope, element, attr) {\r\n      element.attr(\"draggable\", \"true\");\r\n\r\n      element.on('dragstart dragend', function(event) {\r\n        event = event.originalEvent || event;\r\n        event._dndHandle = true;\r\n      });\r\n    };\r\n  });\r\n\r\n  /**\r\n   * Filters an array of drop effects using a HTML5 effectAllowed string.\r\n   */\r\n  function filterEffects(effects, effectAllowed) {\r\n    if (effectAllowed == 'all') return effects;\r\n    return effects.filter(function(effect) {\r\n      return effectAllowed.toLowerCase().indexOf(effect) != -1;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * For some features we need to maintain global state. This is done here, with these fields:\r\n   * - callback: A callback function set at dragstart that is passed to internal dropzone handlers.\r\n   * - dropEffect: Set in dragstart to \"none\" and to the actual value in the drop handler. We don't\r\n   *   rely on the dropEffect passed by the browser, since there are various bugs in Chrome and\r\n   *   Safari, and Internet Explorer defaults to copy if effectAllowed is copyMove.\r\n   * - effectAllowed: Set in dragstart based on dnd-effect-allowed. This is needed for IE because\r\n   *   setting effectAllowed on dataTransfer might result in an undesired cursor.\r\n   * - isDragging: True between dragstart and dragend. Falsy for drops from external sources.\r\n   * - itemType: The item type of the dragged element set via dnd-type. This is needed because IE\r\n   *   and Edge don't support custom mime types that we can use to transfer this information.\r\n   */\r\n  var dndState = {};\r\n\r\n})(angular.module('dndLists', []));","/**\r\n * @license MIT\r\n */\r\n(function(window, document, undefined) {'use strict';\r\n  // ie10+\r\n  var ie10plus = window.navigator.msPointerEnabled;\r\n  /**\r\n   * Flow.js is a library providing multiple simultaneous, stable and\r\n   * resumable uploads via the HTML5 File API.\r\n   * @param [opts]\r\n   * @param {number} [opts.chunkSize]\r\n   * @param {bool} [opts.forceChunkSize]\r\n   * @param {number} [opts.simultaneousUploads]\r\n   * @param {bool} [opts.singleFile]\r\n   * @param {string} [opts.fileParameterName]\r\n   * @param {number} [opts.progressCallbacksInterval]\r\n   * @param {number} [opts.speedSmoothingFactor]\r\n   * @param {Object|Function} [opts.query]\r\n   * @param {Object|Function} [opts.headers]\r\n   * @param {bool} [opts.withCredentials]\r\n   * @param {Function} [opts.preprocess]\r\n   * @param {string} [opts.method]\r\n   * @param {string|Function} [opts.testMethod]\r\n   * @param {string|Function} [opts.uploadMethod]\r\n   * @param {bool} [opts.prioritizeFirstAndLastChunk]\r\n   * @param {bool} [opts.allowDuplicateUploads]\r\n   * @param {string|Function} [opts.target]\r\n   * @param {number} [opts.maxChunkRetries]\r\n   * @param {number} [opts.chunkRetryInterval]\r\n   * @param {Array.<number>} [opts.permanentErrors]\r\n   * @param {Array.<number>} [opts.successStatuses]\r\n   * @param {Function} [opts.initFileFn]\r\n   * @param {Function} [opts.readFileFn]\r\n   * @param {Function} [opts.generateUniqueIdentifier]\r\n   * @constructor\r\n   */\r\n  function Flow(opts) {\r\n    /**\r\n     * Supported by browser?\r\n     * @type {boolean}\r\n     */\r\n    this.support = (\r\n        typeof File !== 'undefined' &&\r\n        typeof Blob !== 'undefined' &&\r\n        typeof FileList !== 'undefined' &&\r\n        (\r\n          !!Blob.prototype.slice || !!Blob.prototype.webkitSlice || !!Blob.prototype.mozSlice ||\r\n          false\r\n        ) // slicing files support\r\n    );\r\n\r\n    if (!this.support) {\r\n      return ;\r\n    }\r\n\r\n    /**\r\n     * Check if directory upload is supported\r\n     * @type {boolean}\r\n     */\r\n    this.supportDirectory = /Chrome/.test(window.navigator.userAgent);\r\n\r\n    /**\r\n     * List of FlowFile objects\r\n     * @type {Array.<FlowFile>}\r\n     */\r\n    this.files = [];\r\n\r\n    /**\r\n     * Default options for flow.js\r\n     * @type {Object}\r\n     */\r\n    this.defaults = {\r\n      chunkSize: 1024 * 1024,\r\n      forceChunkSize: false,\r\n      simultaneousUploads: 3,\r\n      singleFile: false,\r\n      fileParameterName: 'file',\r\n      progressCallbacksInterval: 500,\r\n      speedSmoothingFactor: 0.1,\r\n      query: {},\r\n      headers: {},\r\n      withCredentials: false,\r\n      preprocess: null,\r\n      method: 'multipart',\r\n      testMethod: 'GET',\r\n      uploadMethod: 'POST',\r\n      prioritizeFirstAndLastChunk: false,\r\n      allowDuplicateUploads: false,\r\n      target: '/',\r\n      testChunks: true,\r\n      generateUniqueIdentifier: null,\r\n      maxChunkRetries: 0,\r\n      chunkRetryInterval: null,\r\n      permanentErrors: [404, 413, 415, 500, 501],\r\n      successStatuses: [200, 201, 202],\r\n      onDropStopPropagation: false,\r\n      initFileFn: null,\r\n      readFileFn: webAPIFileRead\r\n    };\r\n    \r\n    /**\r\n     * Current options\r\n     * @type {Object}\r\n     */\r\n    this.opts = {};\r\n\r\n    /**\r\n     * List of events:\r\n     *  key stands for event name\r\n     *  value array list of callbacks\r\n     * @type {}\r\n     */\r\n    this.events = {};\r\n\r\n    var $ = this;\r\n\r\n    /**\r\n     * On drop event\r\n     * @function\r\n     * @param {MouseEvent} event\r\n     */\r\n    this.onDrop = function (event) {\r\n      if ($.opts.onDropStopPropagation) {\r\n        event.stopPropagation();\r\n      }\r\n      event.preventDefault();\r\n      var dataTransfer = event.dataTransfer;\r\n      if (dataTransfer.items && dataTransfer.items[0] &&\r\n        dataTransfer.items[0].webkitGetAsEntry) {\r\n        $.webkitReadDataTransfer(event);\r\n      } else {\r\n        $.addFiles(dataTransfer.files, event);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Prevent default\r\n     * @function\r\n     * @param {MouseEvent} event\r\n     */\r\n    this.preventEvent = function (event) {\r\n      event.preventDefault();\r\n    };\r\n\r\n\r\n    /**\r\n     * Current options\r\n     * @type {Object}\r\n     */\r\n    this.opts = Flow.extend({}, this.defaults, opts || {});\r\n\r\n  }\r\n\r\n  Flow.prototype = {\r\n    /**\r\n     * Set a callback for an event, possible events:\r\n     * fileSuccess(file), fileProgress(file), fileAdded(file, event),\r\n     * fileRemoved(file), fileRetry(file), fileError(file, message), \r\n     * complete(), progress(), error(message, file), pause()\r\n     * @function\r\n     * @param {string} event\r\n     * @param {Function} callback\r\n     */\r\n    on: function (event, callback) {\r\n      event = event.toLowerCase();\r\n      if (!this.events.hasOwnProperty(event)) {\r\n        this.events[event] = [];\r\n      }\r\n      this.events[event].push(callback);\r\n    },\r\n\r\n    /**\r\n     * Remove event callback\r\n     * @function\r\n     * @param {string} [event] removes all events if not specified\r\n     * @param {Function} [fn] removes all callbacks of event if not specified\r\n     */\r\n    off: function (event, fn) {\r\n      if (event !== undefined) {\r\n        event = event.toLowerCase();\r\n        if (fn !== undefined) {\r\n          if (this.events.hasOwnProperty(event)) {\r\n            arrayRemove(this.events[event], fn);\r\n          }\r\n        } else {\r\n          delete this.events[event];\r\n        }\r\n      } else {\r\n        this.events = {};\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Fire an event\r\n     * @function\r\n     * @param {string} event event name\r\n     * @param {...} args arguments of a callback\r\n     * @return {bool} value is false if at least one of the event handlers which handled this event\r\n     * returned false. Otherwise it returns true.\r\n     */\r\n    fire: function (event, args) {\r\n      // `arguments` is an object, not array, in FF, so:\r\n      args = Array.prototype.slice.call(arguments);\r\n      event = event.toLowerCase();\r\n      var preventDefault = false;\r\n      if (this.events.hasOwnProperty(event)) {\r\n        each(this.events[event], function (callback) {\r\n          preventDefault = callback.apply(this, args.slice(1)) === false || preventDefault;\r\n        }, this);\r\n      }\r\n      if (event != 'catchall') {\r\n        args.unshift('catchAll');\r\n        preventDefault = this.fire.apply(this, args) === false || preventDefault;\r\n      }\r\n      return !preventDefault;\r\n    },\r\n\r\n    /**\r\n     * Read webkit dataTransfer object\r\n     * @param event\r\n     */\r\n    webkitReadDataTransfer: function (event) {\r\n      var $ = this;\r\n      var queue = event.dataTransfer.items.length;\r\n      var files = [];\r\n      each(event.dataTransfer.items, function (item) {\r\n        var entry = item.webkitGetAsEntry();\r\n        if (!entry) {\r\n          decrement();\r\n          return ;\r\n        }\r\n        if (entry.isFile) {\r\n          // due to a bug in Chrome's File System API impl - #149735\r\n          fileReadSuccess(item.getAsFile(), entry.fullPath);\r\n        } else {\r\n          readDirectory(entry.createReader());\r\n        }\r\n      });\r\n      function readDirectory(reader) {\r\n        reader.readEntries(function (entries) {\r\n          if (entries.length) {\r\n            queue += entries.length;\r\n            each(entries, function(entry) {\r\n              if (entry.isFile) {\r\n                var fullPath = entry.fullPath;\r\n                entry.file(function (file) {\r\n                  fileReadSuccess(file, fullPath);\r\n                }, readError);\r\n              } else if (entry.isDirectory) {\r\n                readDirectory(entry.createReader());\r\n              }\r\n            });\r\n            readDirectory(reader);\r\n          } else {\r\n            decrement();\r\n          }\r\n        }, readError);\r\n      }\r\n      function fileReadSuccess(file, fullPath) {\r\n        // relative path should not start with \"/\"\r\n        file.relativePath = fullPath.substring(1);\r\n        files.push(file);\r\n        decrement();\r\n      }\r\n      function readError(fileError) {\r\n        throw fileError;\r\n      }\r\n      function decrement() {\r\n        if (--queue == 0) {\r\n          $.addFiles(files, event);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Generate unique identifier for a file\r\n     * @function\r\n     * @param {FlowFile} file\r\n     * @returns {string}\r\n     */\r\n    generateUniqueIdentifier: function (file) {\r\n      var custom = this.opts.generateUniqueIdentifier;\r\n      if (typeof custom === 'function') {\r\n        return custom(file);\r\n      }\r\n      // Some confusion in different versions of Firefox\r\n      var relativePath = file.relativePath || file.webkitRelativePath || file.fileName || file.name;\r\n      return file.size + '-' + relativePath.replace(/[^0-9a-zA-Z_-]/img, '');\r\n    },\r\n\r\n    /**\r\n     * Upload next chunk from the queue\r\n     * @function\r\n     * @returns {boolean}\r\n     * @private\r\n     */\r\n    uploadNextChunk: function (preventEvents) {\r\n      // In some cases (such as videos) it's really handy to upload the first\r\n      // and last chunk of a file quickly; this let's the server check the file's\r\n      // metadata and determine if there's even a point in continuing.\r\n      var found = false;\r\n      if (this.opts.prioritizeFirstAndLastChunk) {\r\n        each(this.files, function (file) {\r\n          if (!file.paused && file.chunks.length &&\r\n            file.chunks[0].status() === 'pending') {\r\n            file.chunks[0].send();\r\n            found = true;\r\n            return false;\r\n          }\r\n          if (!file.paused && file.chunks.length > 1 &&\r\n            file.chunks[file.chunks.length - 1].status() === 'pending') {\r\n            file.chunks[file.chunks.length - 1].send();\r\n            found = true;\r\n            return false;\r\n          }\r\n        });\r\n        if (found) {\r\n          return found;\r\n        }\r\n      }\r\n\r\n      // Now, simply look for the next, best thing to upload\r\n      each(this.files, function (file) {\r\n        if (!file.paused) {\r\n          each(file.chunks, function (chunk) {\r\n            if (chunk.status() === 'pending') {\r\n              chunk.send();\r\n              found = true;\r\n              return false;\r\n            }\r\n          });\r\n        }\r\n        if (found) {\r\n          return false;\r\n        }\r\n      });\r\n      if (found) {\r\n        return true;\r\n      }\r\n\r\n      // The are no more outstanding chunks to upload, check is everything is done\r\n      var outstanding = false;\r\n      each(this.files, function (file) {\r\n        if (!file.isComplete()) {\r\n          outstanding = true;\r\n          return false;\r\n        }\r\n      });\r\n      if (!outstanding && !preventEvents) {\r\n        // All chunks have been uploaded, complete\r\n        async(function () {\r\n          this.fire('complete');\r\n        }, this);\r\n      }\r\n      return false;\r\n    },\r\n\r\n\r\n    /**\r\n     * Assign a browse action to one or more DOM nodes.\r\n     * @function\r\n     * @param {Element|Array.<Element>} domNodes\r\n     * @param {boolean} isDirectory Pass in true to allow directories to\r\n     * @param {boolean} singleFile prevent multi file upload\r\n     * @param {Object} attributes set custom attributes:\r\n     *  http://www.w3.org/TR/html-markup/input.file.html#input.file-attributes\r\n     *  eg: accept: 'image/*'\r\n     * be selected (Chrome only).\r\n     */\r\n    assignBrowse: function (domNodes, isDirectory, singleFile, attributes) {\r\n      if (domNodes instanceof Element) {\r\n        domNodes = [domNodes];\r\n      }\r\n\r\n      each(domNodes, function (domNode) {\r\n        var input;\r\n        if (domNode.tagName === 'INPUT' && domNode.type === 'file') {\r\n          input = domNode;\r\n        } else {\r\n          input = document.createElement('input');\r\n          input.setAttribute('type', 'file');\r\n          // display:none - not working in opera 12\r\n          extend(input.style, {\r\n            visibility: 'hidden',\r\n            position: 'absolute',\r\n            width: '1px',\r\n            height: '1px'\r\n          });\r\n          // for opera 12 browser, input must be assigned to a document\r\n          domNode.appendChild(input);\r\n          // https://developer.mozilla.org/en/using_files_from_web_applications)\r\n          // event listener is executed two times\r\n          // first one - original mouse click event\r\n          // second - input.click(), input is inside domNode\r\n          domNode.addEventListener('click', function() {\r\n            input.click();\r\n          }, false);\r\n        }\r\n        if (!this.opts.singleFile && !singleFile) {\r\n          input.setAttribute('multiple', 'multiple');\r\n        }\r\n        if (isDirectory) {\r\n          input.setAttribute('webkitdirectory', 'webkitdirectory');\r\n        }\r\n        each(attributes, function (value, key) {\r\n          input.setAttribute(key, value);\r\n        });\r\n        // When new files are added, simply append them to the overall list\r\n        var $ = this;\r\n        input.addEventListener('change', function (e) {\r\n       \t  if (e.target.value) {\r\n            $.addFiles(e.target.files, e);\r\n            e.target.value = '';\r\n       \t  }\r\n        }, false);\r\n      }, this);\r\n    },\r\n\r\n    /**\r\n     * Assign one or more DOM nodes as a drop target.\r\n     * @function\r\n     * @param {Element|Array.<Element>} domNodes\r\n     */\r\n    assignDrop: function (domNodes) {\r\n      if (typeof domNodes.length === 'undefined') {\r\n        domNodes = [domNodes];\r\n      }\r\n      each(domNodes, function (domNode) {\r\n        domNode.addEventListener('dragover', this.preventEvent, false);\r\n        domNode.addEventListener('dragenter', this.preventEvent, false);\r\n        domNode.addEventListener('drop', this.onDrop, false);\r\n      }, this);\r\n    },\r\n\r\n    /**\r\n     * Un-assign drop event from DOM nodes\r\n     * @function\r\n     * @param domNodes\r\n     */\r\n    unAssignDrop: function (domNodes) {\r\n      if (typeof domNodes.length === 'undefined') {\r\n        domNodes = [domNodes];\r\n      }\r\n      each(domNodes, function (domNode) {\r\n        domNode.removeEventListener('dragover', this.preventEvent);\r\n        domNode.removeEventListener('dragenter', this.preventEvent);\r\n        domNode.removeEventListener('drop', this.onDrop);\r\n      }, this);\r\n    },\r\n\r\n    /**\r\n     * Returns a boolean indicating whether or not the instance is currently\r\n     * uploading anything.\r\n     * @function\r\n     * @returns {boolean}\r\n     */\r\n    isUploading: function () {\r\n      var uploading = false;\r\n      each(this.files, function (file) {\r\n        if (file.isUploading()) {\r\n          uploading = true;\r\n          return false;\r\n        }\r\n      });\r\n      return uploading;\r\n    },\r\n\r\n    /**\r\n     * should upload next chunk\r\n     * @function\r\n     * @returns {boolean|number}\r\n     */\r\n    _shouldUploadNext: function () {\r\n      var num = 0;\r\n      var should = true;\r\n      var simultaneousUploads = this.opts.simultaneousUploads;\r\n      each(this.files, function (file) {\r\n        each(file.chunks, function(chunk) {\r\n          if (chunk.status() === 'uploading') {\r\n            num++;\r\n            if (num >= simultaneousUploads) {\r\n              should = false;\r\n              return false;\r\n            }\r\n          }\r\n        });\r\n      });\r\n      // if should is true then return uploading chunks's length\r\n      return should && num;\r\n    },\r\n\r\n    /**\r\n     * Start or resume uploading.\r\n     * @function\r\n     */\r\n    upload: function () {\r\n      // Make sure we don't start too many uploads at once\r\n      var ret = this._shouldUploadNext();\r\n      if (ret === false) {\r\n        return;\r\n      }\r\n      // Kick off the queue\r\n      this.fire('uploadStart');\r\n      var started = false;\r\n      for (var num = 1; num <= this.opts.simultaneousUploads - ret; num++) {\r\n        started = this.uploadNextChunk(true) || started;\r\n      }\r\n      if (!started) {\r\n        async(function () {\r\n          this.fire('complete');\r\n        }, this);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Resume uploading.\r\n     * @function\r\n     */\r\n    resume: function () {\r\n      each(this.files, function (file) {\r\n        file.resume();\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Pause uploading.\r\n     * @function\r\n     */\r\n    pause: function () {\r\n      each(this.files, function (file) {\r\n        file.pause();\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Cancel upload of all FlowFile objects and remove them from the list.\r\n     * @function\r\n     */\r\n    cancel: function () {\r\n      for (var i = this.files.length - 1; i >= 0; i--) {\r\n        this.files[i].cancel();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Returns a number between 0 and 1 indicating the current upload progress\r\n     * of all files.\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    progress: function () {\r\n      var totalDone = 0;\r\n      var totalSize = 0;\r\n      // Resume all chunks currently being uploaded\r\n      each(this.files, function (file) {\r\n        totalDone += file.progress() * file.size;\r\n        totalSize += file.size;\r\n      });\r\n      return totalSize > 0 ? totalDone / totalSize : 0;\r\n    },\r\n\r\n    /**\r\n     * Add a HTML5 File object to the list of files.\r\n     * @function\r\n     * @param {File} file\r\n     * @param {Event} [event] event is optional\r\n     */\r\n    addFile: function (file, event) {\r\n      this.addFiles([file], event);\r\n    },\r\n\r\n    /**\r\n     * Add a HTML5 File object to the list of files.\r\n     * @function\r\n     * @param {FileList|Array} fileList\r\n     * @param {Event} [event] event is optional\r\n     */\r\n    addFiles: function (fileList, event) {\r\n      var files = [];\r\n      each(fileList, function (file) {\r\n        // https://github.com/flowjs/flow.js/issues/55\r\n        if ((!ie10plus || ie10plus && file.size > 0) && !(file.size % 4096 === 0 && (file.name === '.' || file.fileName === '.')) &&\r\n          (this.opts.allowDuplicateUploads || !this.getFromUniqueIdentifier(this.generateUniqueIdentifier(file)))) {\r\n          var f = new FlowFile(this, file);\r\n          if (this.fire('fileAdded', f, event)) {\r\n            files.push(f);\r\n          }\r\n        }\r\n      }, this);\r\n      if (this.fire('filesAdded', files, event)) {\r\n        each(files, function (file) {\r\n          if (this.opts.singleFile && this.files.length > 0) {\r\n            this.removeFile(this.files[0]);\r\n          }\r\n          this.files.push(file);\r\n        }, this);\r\n        this.fire('filesSubmitted', files, event);\r\n      }\r\n    },\r\n\r\n\r\n    /**\r\n     * Cancel upload of a specific FlowFile object from the list.\r\n     * @function\r\n     * @param {FlowFile} file\r\n     */\r\n    removeFile: function (file) {\r\n      for (var i = this.files.length - 1; i >= 0; i--) {\r\n        if (this.files[i] === file) {\r\n          this.files.splice(i, 1);\r\n          file.abort();\r\n          this.fire('fileRemoved', file);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Look up a FlowFile object by its unique identifier.\r\n     * @function\r\n     * @param {string} uniqueIdentifier\r\n     * @returns {boolean|FlowFile} false if file was not found\r\n     */\r\n    getFromUniqueIdentifier: function (uniqueIdentifier) {\r\n      var ret = false;\r\n      each(this.files, function (file) {\r\n        if (file.uniqueIdentifier === uniqueIdentifier) {\r\n          ret = file;\r\n        }\r\n      });\r\n      return ret;\r\n    },\r\n\r\n    /**\r\n     * Returns the total size of all files in bytes.\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    getSize: function () {\r\n      var totalSize = 0;\r\n      each(this.files, function (file) {\r\n        totalSize += file.size;\r\n      });\r\n      return totalSize;\r\n    },\r\n\r\n    /**\r\n     * Returns the total size uploaded of all files in bytes.\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    sizeUploaded: function () {\r\n      var size = 0;\r\n      each(this.files, function (file) {\r\n        size += file.sizeUploaded();\r\n      });\r\n      return size;\r\n    },\r\n\r\n    /**\r\n     * Returns remaining time to upload all files in seconds. Accuracy is based on average speed.\r\n     * If speed is zero, time remaining will be equal to positive infinity `Number.POSITIVE_INFINITY`\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    timeRemaining: function () {\r\n      var sizeDelta = 0;\r\n      var averageSpeed = 0;\r\n      each(this.files, function (file) {\r\n        if (!file.paused && !file.error) {\r\n          sizeDelta += file.size - file.sizeUploaded();\r\n          averageSpeed += file.averageSpeed;\r\n        }\r\n      });\r\n      if (sizeDelta && !averageSpeed) {\r\n        return Number.POSITIVE_INFINITY;\r\n      }\r\n      if (!sizeDelta && !averageSpeed) {\r\n        return 0;\r\n      }\r\n      return Math.floor(sizeDelta / averageSpeed);\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n  /**\r\n   * FlowFile class\r\n   * @name FlowFile\r\n   * @param {Flow} flowObj\r\n   * @param {File} file\r\n   * @constructor\r\n   */\r\n  function FlowFile(flowObj, file) {\r\n\r\n    /**\r\n     * Reference to parent Flow instance\r\n     * @type {Flow}\r\n     */\r\n    this.flowObj = flowObj;\r\n    \r\n    /**\r\n     * Used to store the bytes read\r\n     * @type {Blob|string}\r\n     */\r\n    this.bytes = null;\r\n\r\n    /**\r\n     * Reference to file\r\n     * @type {File}\r\n     */\r\n    this.file = file;\r\n\r\n    /**\r\n     * File name. Some confusion in different versions of Firefox\r\n     * @type {string}\r\n     */\r\n    this.name = file.fileName || file.name;\r\n\r\n    /**\r\n     * File size\r\n     * @type {number}\r\n     */\r\n    this.size = file.size;\r\n\r\n    /**\r\n     * Relative file path\r\n     * @type {string}\r\n     */\r\n    this.relativePath = file.relativePath || file.webkitRelativePath || this.name;\r\n\r\n    /**\r\n     * File unique identifier\r\n     * @type {string}\r\n     */\r\n    this.uniqueIdentifier = flowObj.generateUniqueIdentifier(file);\r\n\r\n    /**\r\n     * List of chunks\r\n     * @type {Array.<FlowChunk>}\r\n     */\r\n    this.chunks = [];\r\n\r\n    /**\r\n     * Indicated if file is paused\r\n     * @type {boolean}\r\n     */\r\n    this.paused = false;\r\n\r\n    /**\r\n     * Indicated if file has encountered an error\r\n     * @type {boolean}\r\n     */\r\n    this.error = false;\r\n\r\n    /**\r\n     * Average upload speed\r\n     * @type {number}\r\n     */\r\n    this.averageSpeed = 0;\r\n\r\n    /**\r\n     * Current upload speed\r\n     * @type {number}\r\n     */\r\n    this.currentSpeed = 0;\r\n\r\n    /**\r\n     * Date then progress was called last time\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this._lastProgressCallback = Date.now();\r\n\r\n    /**\r\n     * Previously uploaded file size\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this._prevUploadedSize = 0;\r\n\r\n    /**\r\n     * Holds previous progress\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this._prevProgress = 0;\r\n\r\n    this.bootstrap();\r\n  }\r\n\r\n  FlowFile.prototype = {\r\n    /**\r\n     * Update speed parameters\r\n     * @link http://stackoverflow.com/questions/2779600/how-to-estimate-download-time-remaining-accurately\r\n     * @function\r\n     */\r\n    measureSpeed: function () {\r\n      var timeSpan = Date.now() - this._lastProgressCallback;\r\n      if (!timeSpan) {\r\n        return ;\r\n      }\r\n      var smoothingFactor = this.flowObj.opts.speedSmoothingFactor;\r\n      var uploaded = this.sizeUploaded();\r\n      // Prevent negative upload speed after file upload resume\r\n      this.currentSpeed = Math.max((uploaded - this._prevUploadedSize) / timeSpan * 1000, 0);\r\n      this.averageSpeed = smoothingFactor * this.currentSpeed + (1 - smoothingFactor) * this.averageSpeed;\r\n      this._prevUploadedSize = uploaded;\r\n    },\r\n\r\n    /**\r\n     * For internal usage only.\r\n     * Callback when something happens within the chunk.\r\n     * @function\r\n     * @param {FlowChunk} chunk\r\n     * @param {string} event can be 'progress', 'success', 'error' or 'retry'\r\n     * @param {string} [message]\r\n     */\r\n    chunkEvent: function (chunk, event, message) {\r\n      switch (event) {\r\n        case 'progress':\r\n          if (Date.now() - this._lastProgressCallback <\r\n            this.flowObj.opts.progressCallbacksInterval) {\r\n            break;\r\n          }\r\n          this.measureSpeed();\r\n          this.flowObj.fire('fileProgress', this, chunk);\r\n          this.flowObj.fire('progress');\r\n          this._lastProgressCallback = Date.now();\r\n          break;\r\n        case 'error':\r\n          this.error = true;\r\n          this.abort(true);\r\n          this.flowObj.fire('fileError', this, message, chunk);\r\n          this.flowObj.fire('error', message, this, chunk);\r\n          break;\r\n        case 'success':\r\n          if (this.error) {\r\n            return;\r\n          }\r\n          this.measureSpeed();\r\n          this.flowObj.fire('fileProgress', this, chunk);\r\n          this.flowObj.fire('progress');\r\n          this._lastProgressCallback = Date.now();\r\n          if (this.isComplete()) {\r\n            this.currentSpeed = 0;\r\n            this.averageSpeed = 0;\r\n            this.flowObj.fire('fileSuccess', this, message, chunk);\r\n          }\r\n          break;\r\n        case 'retry':\r\n          this.flowObj.fire('fileRetry', this, chunk);\r\n          break;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Pause file upload\r\n     * @function\r\n     */\r\n    pause: function() {\r\n      this.paused = true;\r\n      this.abort();\r\n    },\r\n\r\n    /**\r\n     * Resume file upload\r\n     * @function\r\n     */\r\n    resume: function() {\r\n      this.paused = false;\r\n      this.flowObj.upload();\r\n    },\r\n\r\n    /**\r\n     * Abort current upload\r\n     * @function\r\n     */\r\n    abort: function (reset) {\r\n      this.currentSpeed = 0;\r\n      this.averageSpeed = 0;\r\n      var chunks = this.chunks;\r\n      if (reset) {\r\n        this.chunks = [];\r\n      }\r\n      each(chunks, function (c) {\r\n        if (c.status() === 'uploading') {\r\n          c.abort();\r\n          this.flowObj.uploadNextChunk();\r\n        }\r\n      }, this);\r\n    },\r\n\r\n    /**\r\n     * Cancel current upload and remove from a list\r\n     * @function\r\n     */\r\n    cancel: function () {\r\n      this.flowObj.removeFile(this);\r\n    },\r\n\r\n    /**\r\n     * Retry aborted file upload\r\n     * @function\r\n     */\r\n    retry: function () {\r\n      this.bootstrap();\r\n      this.flowObj.upload();\r\n    },\r\n\r\n    /**\r\n     * Clear current chunks and slice file again\r\n     * @function\r\n     */\r\n    bootstrap: function () {\r\n      if (typeof this.flowObj.opts.initFileFn === \"function\") {\r\n        this.flowObj.opts.initFileFn(this);\r\n      }\r\n\r\n      this.abort(true);\r\n      this.error = false;\r\n      // Rebuild stack of chunks from file\r\n      this._prevProgress = 0;\r\n      var round = this.flowObj.opts.forceChunkSize ? Math.ceil : Math.floor;\r\n      var chunks = Math.max(\r\n        round(this.size / this.flowObj.opts.chunkSize), 1\r\n      );\r\n      for (var offset = 0; offset < chunks; offset++) {\r\n        this.chunks.push(\r\n          new FlowChunk(this.flowObj, this, offset)\r\n        );\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Get current upload progress status\r\n     * @function\r\n     * @returns {number} from 0 to 1\r\n     */\r\n    progress: function () {\r\n      if (this.error) {\r\n        return 1;\r\n      }\r\n      if (this.chunks.length === 1) {\r\n        this._prevProgress = Math.max(this._prevProgress, this.chunks[0].progress());\r\n        return this._prevProgress;\r\n      }\r\n      // Sum up progress across everything\r\n      var bytesLoaded = 0;\r\n      each(this.chunks, function (c) {\r\n        // get chunk progress relative to entire file\r\n        bytesLoaded += c.progress() * (c.endByte - c.startByte);\r\n      });\r\n      var percent = bytesLoaded / this.size;\r\n      // We don't want to lose percentages when an upload is paused\r\n      this._prevProgress = Math.max(this._prevProgress, percent > 0.9999 ? 1 : percent);\r\n      return this._prevProgress;\r\n    },\r\n\r\n    /**\r\n     * Indicates if file is being uploaded at the moment\r\n     * @function\r\n     * @returns {boolean}\r\n     */\r\n    isUploading: function () {\r\n      var uploading = false;\r\n      each(this.chunks, function (chunk) {\r\n        if (chunk.status() === 'uploading') {\r\n          uploading = true;\r\n          return false;\r\n        }\r\n      });\r\n      return uploading;\r\n    },\r\n\r\n    /**\r\n     * Indicates if file is has finished uploading and received a response\r\n     * @function\r\n     * @returns {boolean}\r\n     */\r\n    isComplete: function () {\r\n      var outstanding = false;\r\n      each(this.chunks, function (chunk) {\r\n        var status = chunk.status();\r\n        if (status === 'pending' || status === 'uploading' || status === 'reading' || chunk.preprocessState === 1 || chunk.readState === 1) {\r\n          outstanding = true;\r\n          return false;\r\n        }\r\n      });\r\n      return !outstanding;\r\n    },\r\n\r\n    /**\r\n     * Count total size uploaded\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    sizeUploaded: function () {\r\n      var size = 0;\r\n      each(this.chunks, function (chunk) {\r\n        size += chunk.sizeUploaded();\r\n      });\r\n      return size;\r\n    },\r\n\r\n    /**\r\n     * Returns remaining time to finish upload file in seconds. Accuracy is based on average speed.\r\n     * If speed is zero, time remaining will be equal to positive infinity `Number.POSITIVE_INFINITY`\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    timeRemaining: function () {\r\n      if (this.paused || this.error) {\r\n        return 0;\r\n      }\r\n      var delta = this.size - this.sizeUploaded();\r\n      if (delta && !this.averageSpeed) {\r\n        return Number.POSITIVE_INFINITY;\r\n      }\r\n      if (!delta && !this.averageSpeed) {\r\n        return 0;\r\n      }\r\n      return Math.floor(delta / this.averageSpeed);\r\n    },\r\n\r\n    /**\r\n     * Get file type\r\n     * @function\r\n     * @returns {string}\r\n     */\r\n    getType: function () {\r\n      return this.file.type && this.file.type.split('/')[1];\r\n    },\r\n\r\n    /**\r\n     * Get file extension\r\n     * @function\r\n     * @returns {string}\r\n     */\r\n    getExtension: function () {\r\n      return this.name.substr((~-this.name.lastIndexOf(\".\") >>> 0) + 2).toLowerCase();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Default read function using the webAPI\r\n   *\r\n   * @function webAPIFileRead(fileObj, startByte, endByte, fileType, chunk)\r\n   *\r\n   */\r\n  function webAPIFileRead(fileObj, startByte, endByte, fileType, chunk) {\r\n    var function_name = 'slice';\r\n\r\n    if (fileObj.file.slice)\r\n      function_name =  'slice';\r\n    else if (fileObj.file.mozSlice)\r\n      function_name = 'mozSlice';\r\n    else if (fileObj.file.webkitSlice)\r\n      function_name = 'webkitSlice';\r\n\r\n    chunk.readFinished(fileObj.file[function_name](startByte, endByte, fileType));\r\n  }\r\n\r\n\r\n  /**\r\n   * Class for storing a single chunk\r\n   * @name FlowChunk\r\n   * @param {Flow} flowObj\r\n   * @param {FlowFile} fileObj\r\n   * @param {number} offset\r\n   * @constructor\r\n   */\r\n  function FlowChunk(flowObj, fileObj, offset) {\r\n\r\n    /**\r\n     * Reference to parent flow object\r\n     * @type {Flow}\r\n     */\r\n    this.flowObj = flowObj;\r\n\r\n    /**\r\n     * Reference to parent FlowFile object\r\n     * @type {FlowFile}\r\n     */\r\n    this.fileObj = fileObj;\r\n\r\n    /**\r\n     * File offset\r\n     * @type {number}\r\n     */\r\n    this.offset = offset;\r\n\r\n    /**\r\n     * Indicates if chunk existence was checked on the server\r\n     * @type {boolean}\r\n     */\r\n    this.tested = false;\r\n\r\n    /**\r\n     * Number of retries performed\r\n     * @type {number}\r\n     */\r\n    this.retries = 0;\r\n\r\n    /**\r\n     * Pending retry\r\n     * @type {boolean}\r\n     */\r\n    this.pendingRetry = false;\r\n\r\n    /**\r\n     * Preprocess state\r\n     * @type {number} 0 = unprocessed, 1 = processing, 2 = finished\r\n     */\r\n    this.preprocessState = 0;\r\n\r\n    /**\r\n     * Read state\r\n     * @type {number} 0 = not read, 1 = reading, 2 = finished\r\n     */\r\n    this.readState = 0;\r\n\r\n\r\n    /**\r\n     * Bytes transferred from total request size\r\n     * @type {number}\r\n     */\r\n    this.loaded = 0;\r\n\r\n    /**\r\n     * Total request size\r\n     * @type {number}\r\n     */\r\n    this.total = 0;\r\n\r\n    /**\r\n     * Size of a chunk\r\n     * @type {number}\r\n     */\r\n    this.chunkSize = this.flowObj.opts.chunkSize;\r\n\r\n    /**\r\n     * Chunk start byte in a file\r\n     * @type {number}\r\n     */\r\n    this.startByte = this.offset * this.chunkSize;\r\n\r\n    /**\r\n      * Compute the endbyte in a file\r\n      *\r\n      */\r\n    this.computeEndByte = function() {\r\n      var endByte = Math.min(this.fileObj.size, (this.offset + 1) * this.chunkSize);\r\n      if (this.fileObj.size - endByte < this.chunkSize && !this.flowObj.opts.forceChunkSize) {\r\n        // The last chunk will be bigger than the chunk size,\r\n        // but less than 2 * this.chunkSize\r\n        endByte = this.fileObj.size;\r\n      }\r\n      return endByte;\r\n    }\r\n\r\n    /**\r\n     * Chunk end byte in a file\r\n     * @type {number}\r\n     */\r\n    this.endByte = this.computeEndByte();\r\n\r\n    /**\r\n     * XMLHttpRequest\r\n     * @type {XMLHttpRequest}\r\n     */\r\n    this.xhr = null;\r\n\r\n    var $ = this;\r\n\r\n    /**\r\n     * Send chunk event\r\n     * @param event\r\n     * @param {...} args arguments of a callback\r\n     */\r\n    this.event = function (event, args) {\r\n      args = Array.prototype.slice.call(arguments);\r\n      args.unshift($);\r\n      $.fileObj.chunkEvent.apply($.fileObj, args);\r\n    };\r\n    /**\r\n     * Catch progress event\r\n     * @param {ProgressEvent} event\r\n     */\r\n    this.progressHandler = function(event) {\r\n      if (event.lengthComputable) {\r\n        $.loaded = event.loaded ;\r\n        $.total = event.total;\r\n      }\r\n      $.event('progress', event);\r\n    };\r\n\r\n    /**\r\n     * Catch test event\r\n     * @param {Event} event\r\n     */\r\n    this.testHandler = function(event) {\r\n      var status = $.status(true);\r\n      if (status === 'error') {\r\n        $.event(status, $.message());\r\n        $.flowObj.uploadNextChunk();\r\n      } else if (status === 'success') {\r\n        $.tested = true;\r\n        $.event(status, $.message());\r\n        $.flowObj.uploadNextChunk();\r\n      } else if (!$.fileObj.paused) {\r\n        // Error might be caused by file pause method\r\n        // Chunks does not exist on the server side\r\n        $.tested = true;\r\n        $.send();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Upload has stopped\r\n     * @param {Event} event\r\n     */\r\n    this.doneHandler = function(event) {\r\n      var status = $.status();\r\n      if (status === 'success' || status === 'error') {\r\n        delete this.data;\r\n        $.event(status, $.message());\r\n        $.flowObj.uploadNextChunk();\r\n      } else {\r\n        $.event('retry', $.message());\r\n        $.pendingRetry = true;\r\n        $.abort();\r\n        $.retries++;\r\n        var retryInterval = $.flowObj.opts.chunkRetryInterval;\r\n        if (retryInterval !== null) {\r\n          setTimeout(function () {\r\n            $.send();\r\n          }, retryInterval);\r\n        } else {\r\n          $.send();\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  FlowChunk.prototype = {\r\n    /**\r\n     * Get params for a request\r\n     * @function\r\n     */\r\n    getParams: function () {\r\n      return {\r\n        flowChunkNumber: this.offset + 1,\r\n        flowChunkSize: this.flowObj.opts.chunkSize,\r\n        flowCurrentChunkSize: this.endByte - this.startByte,\r\n        flowTotalSize: this.fileObj.size,\r\n        flowIdentifier: this.fileObj.uniqueIdentifier,\r\n        flowFilename: this.fileObj.name,\r\n        flowRelativePath: this.fileObj.relativePath,\r\n        flowTotalChunks: this.fileObj.chunks.length\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Get target option with query params\r\n     * @function\r\n     * @param params\r\n     * @returns {string}\r\n     */\r\n    getTarget: function(target, params){\r\n      if(target.indexOf('?') < 0) {\r\n        target += '?';\r\n      } else {\r\n        target += '&';\r\n      }\r\n      return target + params.join('&');\r\n    },\r\n\r\n    /**\r\n     * Makes a GET request without any data to see if the chunk has already\r\n     * been uploaded in a previous session\r\n     * @function\r\n     */\r\n    test: function () {\r\n      // Set up request and listen for event\r\n      this.xhr = new XMLHttpRequest();\r\n      this.xhr.addEventListener(\"load\", this.testHandler, false);\r\n      this.xhr.addEventListener(\"error\", this.testHandler, false);\r\n      var testMethod = evalOpts(this.flowObj.opts.testMethod, this.fileObj, this);\r\n      var data = this.prepareXhrRequest(testMethod, true);\r\n      this.xhr.send(data);\r\n    },\r\n\r\n    /**\r\n     * Finish preprocess state\r\n     * @function\r\n     */\r\n    preprocessFinished: function () {\r\n      // Re-compute the endByte after the preprocess function to allow an\r\n      // implementer of preprocess to set the fileObj size\r\n      this.endByte = this.computeEndByte();\r\n\r\n      this.preprocessState = 2;\r\n      this.send();\r\n    },\r\n\r\n    /**\r\n     * Finish read state\r\n     * @function\r\n     */\r\n    readFinished: function (bytes) {\r\n      this.readState = 2;\r\n      this.bytes = bytes;\r\n      this.send();\r\n    },\r\n\r\n\r\n    /**\r\n     * Uploads the actual data in a POST call\r\n     * @function\r\n     */\r\n    send: function () {\r\n      var preprocess = this.flowObj.opts.preprocess;\r\n      var read = this.flowObj.opts.readFileFn;\r\n      if (typeof preprocess === 'function') {\r\n        switch (this.preprocessState) {\r\n          case 0:\r\n            this.preprocessState = 1;\r\n            preprocess(this);\r\n            return;\r\n          case 1:\r\n            return;\r\n        }\r\n      }\r\n      switch (this.readState) {\r\n        case 0:\r\n          this.readState = 1;\r\n          read(this.fileObj, this.startByte, this.endByte, this.fileObj.file.type, this);\r\n          return;\r\n        case 1:\r\n          return;\r\n      }\r\n      if (this.flowObj.opts.testChunks && !this.tested) {\r\n        this.test();\r\n        return;\r\n      }\r\n\r\n      this.loaded = 0;\r\n      this.total = 0;\r\n      this.pendingRetry = false;\r\n\r\n      // Set up request and listen for event\r\n      this.xhr = new XMLHttpRequest();\r\n      this.xhr.upload.addEventListener('progress', this.progressHandler, false);\r\n      this.xhr.addEventListener(\"load\", this.doneHandler, false);\r\n      this.xhr.addEventListener(\"error\", this.doneHandler, false);\r\n\r\n      var uploadMethod = evalOpts(this.flowObj.opts.uploadMethod, this.fileObj, this);\r\n      var data = this.prepareXhrRequest(uploadMethod, false, this.flowObj.opts.method, this.bytes);\r\n      this.xhr.send(data);\r\n    },\r\n\r\n    /**\r\n     * Abort current xhr request\r\n     * @function\r\n     */\r\n    abort: function () {\r\n      // Abort and reset\r\n      var xhr = this.xhr;\r\n      this.xhr = null;\r\n      if (xhr) {\r\n        xhr.abort();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Retrieve current chunk upload status\r\n     * @function\r\n     * @returns {string} 'pending', 'uploading', 'success', 'error'\r\n     */\r\n    status: function (isTest) {\r\n      if (this.readState === 1) {\r\n        return 'reading';\r\n      } else if (this.pendingRetry || this.preprocessState === 1) {\r\n        // if pending retry then that's effectively the same as actively uploading,\r\n        // there might just be a slight delay before the retry starts\r\n        return 'uploading';\r\n      } else if (!this.xhr) {\r\n        return 'pending';\r\n      } else if (this.xhr.readyState < 4) {\r\n        // Status is really 'OPENED', 'HEADERS_RECEIVED'\r\n        // or 'LOADING' - meaning that stuff is happening\r\n        return 'uploading';\r\n      } else {\r\n        if (this.flowObj.opts.successStatuses.indexOf(this.xhr.status) > -1) {\r\n          // HTTP 200, perfect\r\n\t\t      // HTTP 202 Accepted - The request has been accepted for processing, but the processing has not been completed.\r\n          return 'success';\r\n        } else if (this.flowObj.opts.permanentErrors.indexOf(this.xhr.status) > -1 ||\r\n            !isTest && this.retries >= this.flowObj.opts.maxChunkRetries) {\r\n          // HTTP 413/415/500/501, permanent error\r\n          return 'error';\r\n        } else {\r\n          // this should never happen, but we'll reset and queue a retry\r\n          // a likely case for this would be 503 service unavailable\r\n          this.abort();\r\n          return 'pending';\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Get response from xhr request\r\n     * @function\r\n     * @returns {String}\r\n     */\r\n    message: function () {\r\n      return this.xhr ? this.xhr.responseText : '';\r\n    },\r\n\r\n    /**\r\n     * Get upload progress\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    progress: function () {\r\n      if (this.pendingRetry) {\r\n        return 0;\r\n      }\r\n      var s = this.status();\r\n      if (s === 'success' || s === 'error') {\r\n        return 1;\r\n      } else if (s === 'pending') {\r\n        return 0;\r\n      } else {\r\n        return this.total > 0 ? this.loaded / this.total : 0;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Count total size uploaded\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    sizeUploaded: function () {\r\n      var size = this.endByte - this.startByte;\r\n      // can't return only chunk.loaded value, because it is bigger than chunk size\r\n      if (this.status() !== 'success') {\r\n        size = this.progress() * size;\r\n      }\r\n      return size;\r\n    },\r\n\r\n    /**\r\n     * Prepare Xhr request. Set query, headers and data\r\n     * @param {string} method GET or POST\r\n     * @param {bool} isTest is this a test request\r\n     * @param {string} [paramsMethod] octet or form\r\n     * @param {Blob} [blob] to send\r\n     * @returns {FormData|Blob|Null} data to send\r\n     */\r\n    prepareXhrRequest: function(method, isTest, paramsMethod, blob) {\r\n      // Add data from the query options\r\n      var query = evalOpts(this.flowObj.opts.query, this.fileObj, this, isTest);\r\n      query = extend(query, this.getParams());\r\n\r\n      var target = evalOpts(this.flowObj.opts.target, this.fileObj, this, isTest);\r\n      var data = null;\r\n      if (method === 'GET' || paramsMethod === 'octet') {\r\n        // Add data from the query options\r\n        var params = [];\r\n        each(query, function (v, k) {\r\n          params.push([encodeURIComponent(k), encodeURIComponent(v)].join('='));\r\n        });\r\n        target = this.getTarget(target, params);\r\n        data = blob || null;\r\n      } else {\r\n        // Add data from the query options\r\n        data = new FormData();\r\n        each(query, function (v, k) {\r\n          data.append(k, v);\r\n        });\r\n        data.append(this.flowObj.opts.fileParameterName, blob, this.fileObj.file.name);\r\n      }\r\n\r\n      this.xhr.open(method, target, true);\r\n      this.xhr.withCredentials = this.flowObj.opts.withCredentials;\r\n\r\n      // Add data from header options\r\n      each(evalOpts(this.flowObj.opts.headers, this.fileObj, this, isTest), function (v, k) {\r\n        this.xhr.setRequestHeader(k, v);\r\n      }, this);\r\n\r\n      return data;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Remove value from array\r\n   * @param array\r\n   * @param value\r\n   */\r\n  function arrayRemove(array, value) {\r\n    var index = array.indexOf(value);\r\n    if (index > -1) {\r\n      array.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * If option is a function, evaluate it with given params\r\n   * @param {*} data\r\n   * @param {...} args arguments of a callback\r\n   * @returns {*}\r\n   */\r\n  function evalOpts(data, args) {\r\n    if (typeof data === \"function\") {\r\n      // `arguments` is an object, not array, in FF, so:\r\n      args = Array.prototype.slice.call(arguments);\r\n      data = data.apply(null, args.slice(1));\r\n    }\r\n    return data;\r\n  }\r\n  Flow.evalOpts = evalOpts;\r\n\r\n  /**\r\n   * Execute function asynchronously\r\n   * @param fn\r\n   * @param context\r\n   */\r\n  function async(fn, context) {\r\n    setTimeout(fn.bind(context), 0);\r\n  }\r\n\r\n  /**\r\n   * Extends the destination object `dst` by copying all of the properties from\r\n   * the `src` object(s) to `dst`. You can specify multiple `src` objects.\r\n   * @function\r\n   * @param {Object} dst Destination object.\r\n   * @param {...Object} src Source object(s).\r\n   * @returns {Object} Reference to `dst`.\r\n   */\r\n  function extend(dst, src) {\r\n    each(arguments, function(obj) {\r\n      if (obj !== dst) {\r\n        each(obj, function(value, key){\r\n          dst[key] = value;\r\n        });\r\n      }\r\n    });\r\n    return dst;\r\n  }\r\n  Flow.extend = extend;\r\n\r\n  /**\r\n   * Iterate each element of an object\r\n   * @function\r\n   * @param {Array|Object} obj object or an array to iterate\r\n   * @param {Function} callback first argument is a value and second is a key.\r\n   * @param {Object=} context Object to become context (`this`) for the iterator function.\r\n   */\r\n  function each(obj, callback, context) {\r\n    if (!obj) {\r\n      return ;\r\n    }\r\n    var key;\r\n    // Is Array?\r\n    // Array.isArray won't work, not only arrays can be iterated by index https://github.com/flowjs/ng-flow/issues/236#\r\n    if (typeof(obj.length) !== 'undefined') {\r\n      for (key = 0; key < obj.length; key++) {\r\n        if (callback.call(context, obj[key], key) === false) {\r\n          return ;\r\n        }\r\n      }\r\n    } else {\r\n      for (key in obj) {\r\n        if (obj.hasOwnProperty(key) && callback.call(context, obj[key], key) === false) {\r\n          return ;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  Flow.each = each;\r\n\r\n  /**\r\n   * FlowFile constructor\r\n   * @type {FlowFile}\r\n   */\r\n  Flow.FlowFile = FlowFile;\r\n\r\n  /**\r\n   * FlowFile constructor\r\n   * @type {FlowChunk}\r\n   */\r\n  Flow.FlowChunk = FlowChunk;\r\n\r\n  /**\r\n   * Library version\r\n   * @type {string}\r\n   */\r\n  Flow.version = '2.11.2';\r\n\r\n  if ( typeof module === \"object\" && module && typeof module.exports === \"object\" ) {\r\n    // Expose Flow as module.exports in loaders that implement the Node\r\n    // module pattern (including browserify). Do not create the global, since\r\n    // the user will be storing it themselves locally, and globals are frowned\r\n    // upon in the Node module world.\r\n    module.exports = Flow;\r\n  } else {\r\n    // Otherwise expose Flow to the global object as usual\r\n    window.Flow = Flow;\r\n\r\n    // Register as a named AMD module, since Flow can be concatenated with other\r\n    // files that may use define, but not via a proper concatenation script that\r\n    // understands anonymous AMD modules. A named AMD is safest and most robust\r\n    // way to register. Lowercase flow is used because AMD module names are\r\n    // derived from file names, and Flow is normally delivered in a lowercase\r\n    // file name. Do this after creating the global so that if an AMD module wants\r\n    // to call noConflict to hide this version of Flow, it will work.\r\n    if ( typeof define === \"function\" && define.amd ) {\r\n      define( \"flow\", [], function () { return Flow; } );\r\n    }\r\n  }\r\n})(window, document);\r\n\r\n/**\r\n * @description\r\n * var app = angular.module('App', ['flow.provider'], function(flowFactoryProvider){\r\n *    flowFactoryProvider.defaults = {target: '/'};\r\n * });\r\n * @name flowFactoryProvider\r\n */\r\nangular.module('flow.provider', [])\r\n.provider('flowFactory', function() {\r\n  'use strict';\r\n  /**\r\n   * Define the default properties for flow.js\r\n   * @name flowFactoryProvider.defaults\r\n   * @type {Object}\r\n   */\r\n  this.defaults = {};\r\n\r\n  /**\r\n   * Flow, MaybeFlow or NotFlow\r\n   * @name flowFactoryProvider.factory\r\n   * @type {function}\r\n   * @return {Flow}\r\n   */\r\n  this.factory = function (options) {\r\n    return new Flow(options);\r\n  };\r\n\r\n  /**\r\n   * Define the default events\r\n   * @name flowFactoryProvider.events\r\n   * @type {Array}\r\n   * @private\r\n   */\r\n  this.events = [];\r\n\r\n  /**\r\n   * Add default events\r\n   * @name flowFactoryProvider.on\r\n   * @function\r\n   * @param {string} event\r\n   * @param {Function} callback\r\n   */\r\n  this.on = function (event, callback) {\r\n    this.events.push([event, callback]);\r\n  };\r\n\r\n  this.$get = function() {\r\n    var fn = this.factory;\r\n    var defaults = this.defaults;\r\n    var events = this.events;\r\n    return {\r\n      'create': function(opts) {\r\n        // combine default options with global options and options\r\n        var flow = fn(angular.extend({}, defaults, opts));\r\n        angular.forEach(events, function (event) {\r\n          flow.on(event[0], event[1]);\r\n        });\r\n        return flow;\r\n      }\r\n    };\r\n  };\r\n});\r\nangular.module('flow.init', ['flow.provider'])\r\n  .controller('flowCtrl', ['$scope', '$attrs', '$parse', 'flowFactory',\r\n  function ($scope, $attrs, $parse, flowFactory) {\r\n\r\n    var options = angular.extend({}, $scope.$eval($attrs.flowInit));\r\n\r\n    // use existing flow object or create a new one\r\n    var flow  = $scope.$eval($attrs.flowObject) || flowFactory.create(options);\r\n\r\n    var catchAllHandler = function(eventName){\r\n      var args = Array.prototype.slice.call(arguments);\r\n      args.shift();\r\n      var event = $scope.$broadcast.apply($scope, ['flow::' + eventName, flow].concat(args));\r\n      if ({\r\n        'progress':1, 'filesSubmitted':1, 'fileSuccess': 1, 'fileError': 1, 'complete': 1\r\n      }[eventName]) {\r\n        $scope.$apply();\r\n      }\r\n      if (event.defaultPrevented) {\r\n        return false;\r\n      }\r\n    };\r\n\r\n    flow.on('catchAll', catchAllHandler);\r\n    $scope.$on('$destroy', function(){\r\n        flow.off('catchAll', catchAllHandler);\r\n    });\r\n\r\n    $scope.$flow = flow;\r\n\r\n    if ($attrs.hasOwnProperty('flowName')) {\r\n      $parse($attrs.flowName).assign($scope, flow);\r\n      $scope.$on('$destroy', function () {\r\n        $parse($attrs.flowName).assign($scope);\r\n      });\r\n    }\r\n  }])\r\n  .directive('flowInit', [function() {\r\n    return {\r\n      scope: true,\r\n      controller: 'flowCtrl'\r\n    };\r\n  }]);\r\nangular.module('flow.btn', ['flow.init'])\r\n.directive('flowBtn', [function() {\r\n  return {\r\n    'restrict': 'EA',\r\n    'scope': false,\r\n    'require': '^flowInit',\r\n    'link': function(scope, element, attrs) {\r\n      var isDirectory = attrs.hasOwnProperty('flowDirectory');\r\n      var isSingleFile = attrs.hasOwnProperty('flowSingleFile');\r\n      var inputAttrs = attrs.hasOwnProperty('flowAttrs') && scope.$eval(attrs.flowAttrs);\r\n      scope.$flow.assignBrowse(element, isDirectory, isSingleFile, inputAttrs);\r\n    }\r\n  };\r\n}]);\r\nangular.module('flow.dragEvents', ['flow.init'])\r\n/**\r\n * @name flowPreventDrop\r\n * Prevent loading files then dropped on element\r\n */\r\n  .directive('flowPreventDrop', function() {\r\n    return {\r\n      'scope': false,\r\n      'link': function(scope, element, attrs) {\r\n        element.bind('drop dragover', function (event) {\r\n          event.preventDefault();\r\n        });\r\n      }\r\n    };\r\n  })\r\n/**\r\n * @name flowDragEnter\r\n * executes `flowDragEnter` and `flowDragLeave` events\r\n */\r\n  .directive('flowDragEnter', ['$timeout', function($timeout) {\r\n    return {\r\n      'scope': false,\r\n      'link': function(scope, element, attrs) {\r\n        var promise;\r\n        var enter = false;\r\n        element.bind('dragover', function (event) {\r\n          if (!isFileDrag(event)) {\r\n            return ;\r\n          }\r\n          if (!enter) {\r\n            scope.$apply(attrs.flowDragEnter);\r\n            enter = true;\r\n          }\r\n          $timeout.cancel(promise);\r\n          event.preventDefault();\r\n        });\r\n        element.bind('dragleave drop', function (event) {\r\n          $timeout.cancel(promise);\r\n          promise = $timeout(function () {\r\n            scope.$eval(attrs.flowDragLeave);\r\n            promise = null;\r\n            enter = false;\r\n          }, 100);\r\n        });\r\n        function isFileDrag(dragEvent) {\r\n          var fileDrag = false;\r\n          var dataTransfer = dragEvent.dataTransfer || dragEvent.originalEvent.dataTransfer;\r\n          angular.forEach(dataTransfer && dataTransfer.types, function(val) {\r\n            if (val === 'Files') {\r\n              fileDrag = true;\r\n            }\r\n          });\r\n          return fileDrag;\r\n        }\r\n      }\r\n    };\r\n  }]);\r\n\r\nangular.module('flow.drop', ['flow.init'])\r\n.directive('flowDrop', function() {\r\n  return {\r\n    'scope': false,\r\n    'require': '^flowInit',\r\n    'link': function(scope, element, attrs) {\r\n      if (attrs.flowDropEnabled) {\r\n        scope.$watch(attrs.flowDropEnabled, function (value) {\r\n          if (value) {\r\n            assignDrop();\r\n          } else {\r\n            unAssignDrop();\r\n          }\r\n        });\r\n      } else {\r\n        assignDrop();\r\n      }\r\n      function assignDrop() {\r\n        scope.$flow.assignDrop(element);\r\n      }\r\n      function unAssignDrop() {\r\n        scope.$flow.unAssignDrop(element);\r\n      }\r\n    }\r\n  };\r\n});\r\n\r\n!function (angular) {'use strict';\r\n  var module = angular.module('flow.events', ['flow.init']);\r\n  var events = {\r\n    fileSuccess: ['$file', '$message'],\r\n    fileProgress: ['$file'],\r\n    fileAdded: ['$file', '$event'],\r\n    filesAdded: ['$files', '$event'],\r\n    filesSubmitted: ['$files', '$event'],\r\n    fileRetry: ['$file'],\r\n    fileError: ['$file', '$message'],\r\n    uploadStart: [],\r\n    complete: [],\r\n    progress: [],\r\n    error: ['$message', '$file']\r\n  };\r\n\r\n  angular.forEach(events, function (eventArgs, eventName) {\r\n    var name = 'flow' + capitaliseFirstLetter(eventName);\r\n    if (name == 'flowUploadStart') {\r\n      name = 'flowUploadStarted';// event alias\r\n    }\r\n    module.directive(name, [function() {\r\n      return {\r\n        require: '^flowInit',\r\n        controller: ['$scope', '$attrs', function ($scope, $attrs) {\r\n          $scope.$on('flow::' + eventName, function () {\r\n            var funcArgs = Array.prototype.slice.call(arguments);\r\n            var event = funcArgs.shift();// remove angular event\r\n            // remove flow object and ignore event if it is from parent directive\r\n            if ($scope.$flow !== funcArgs.shift()) {\r\n              return ;\r\n            }\r\n            var args = {};\r\n            angular.forEach(eventArgs, function(value, key) {\r\n              args[value] = funcArgs[key];\r\n            });\r\n            if ($scope.$eval($attrs[name], args) === false) {\r\n              event.preventDefault();\r\n            }\r\n          });\r\n        }]\r\n      };\r\n    }]);\r\n  });\r\n\r\n  function capitaliseFirstLetter(string) {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  }\r\n}(angular);\r\nangular.module('flow.img', ['flow.init'])\r\n.directive('flowImg', [function() {\r\n  return {\r\n    'scope': false,\r\n    'require': '^flowInit',\r\n    'link': function(scope, element, attrs) {\r\n      var file = attrs.flowImg;\r\n      scope.$watch(file, function (file) {\r\n        if (!file) {\r\n          return ;\r\n        }\r\n        var fileReader = new FileReader();\r\n        fileReader.readAsDataURL(file.file);\r\n        fileReader.onload = function (event) {\r\n          scope.$apply(function () {\r\n            attrs.$set('src', event.target.result);\r\n          });\r\n        };\r\n      });\r\n    }\r\n  };\r\n}]);\r\nangular.module('flow.transfers', ['flow.init'])\r\n.directive('flowTransfers', [function() {\r\n  return {\r\n    'scope': true,\r\n    'require': '^flowInit',\r\n    'link': function(scope) {\r\n      scope.transfers = scope.$flow.files;\r\n    }\r\n  };\r\n}]);\r\nangular.module('flow', ['flow.provider', 'flow.init', 'flow.events', 'flow.btn',\r\n  'flow.drop', 'flow.transfers', 'flow.img', 'flow.dragEvents']);","angular.module('angularResizable', [])\r\n    .directive('resizable', function() {\r\n        var toCall;\r\n        function throttle(fun) {\r\n            if (toCall === undefined) {\r\n                toCall = fun;\r\n                setTimeout(function() {\r\n                    toCall();\r\n                    toCall = undefined;\r\n                }, 100);\r\n            } else {\r\n                toCall = fun;\r\n            }\r\n        }\r\n        return {\r\n            restrict: 'AE',\r\n            scope: {\r\n                rDirections: '=',\r\n                rCenteredX: '=',\r\n                rCenteredY: '=',\r\n                rWidth: '=',\r\n                rHeight: '=',\r\n                rFlex: '=',\r\n                rGrabber: '@',\r\n                rDisabled: '@',\r\n                rNoThrottle: '='\r\n            },\r\n            link: function(scope, element, attr) {\r\n                var flexBasis = 'flexBasis' in document.documentElement.style ? 'flexBasis' :\r\n                    'webkitFlexBasis' in document.documentElement.style ? 'webkitFlexBasis' :\r\n                    'msFlexPreferredSize' in document.documentElement.style ? 'msFlexPreferredSize' : 'flexBasis';\r\n\r\n                // register watchers on width and height attributes if they are set\r\n                scope.$watch('rWidth', function(value){\r\n                    element[0].style[scope.rFlex ? flexBasis : 'width'] = scope.rWidth + 'px';\r\n                });\r\n                scope.$watch('rHeight', function(value){\r\n                    element[0].style[scope.rFlex ? flexBasis : 'height'] = scope.rHeight + 'px';\r\n                });\r\n\r\n                element.addClass('resizable');\r\n\r\n                var style = window.getComputedStyle(element[0], null),\r\n                    w,\r\n                    h,\r\n                    dir = scope.rDirections || ['right'],\r\n                    vx = scope.rCenteredX ? 2 : 1, // if centered double velocity\r\n                    vy = scope.rCenteredY ? 2 : 1, // if centered double velocity\r\n                    inner = scope.rGrabber ? scope.rGrabber : '<span></span>',\r\n                    start,\r\n                    dragDir,\r\n                    axis,\r\n                    info = {};\r\n\r\n                var updateInfo = function(e) {\r\n                    info.width = false; info.height = false;\r\n                    if(axis === 'x')\r\n                        info.width = parseInt(element[0].style[scope.rFlex ? flexBasis : 'width']);\r\n                    else\r\n                        info.height = parseInt(element[0].style[scope.rFlex ? flexBasis : 'height']);\r\n                    info.id = element[0].id;\r\n                    info.evt = e;\r\n                };\r\n\r\n                var getClientX = function(e) {\r\n                    return e.touches ? e.touches[0].clientX : e.clientX;\r\n                };\r\n\r\n                var getClientY = function(e) {\r\n                    return e.touches ? e.touches[0].clientY : e.clientY;\r\n                };\r\n\r\n                var dragging = function(e) {\r\n                    var prop, offset = axis === 'x' ? start - getClientX(e) : start - getClientY(e);\r\n                    switch(dragDir) {\r\n                        case 'top':\r\n                            prop = scope.rFlex ? flexBasis : 'height';\r\n                            element[0].style[prop] = h + (offset * vy) + 'px';\r\n                            break;\r\n                        case 'bottom':\r\n                            prop = scope.rFlex ? flexBasis : 'height';\r\n                            element[0].style[prop] = h - (offset * vy) + 'px';\r\n                            break;\r\n                        case 'right':\r\n                            prop = scope.rFlex ? flexBasis : 'width';\r\n                            element[0].style[prop] = w - (offset * vx) + 'px';\r\n                            break;\r\n                        case 'left':\r\n                            prop = scope.rFlex ? flexBasis : 'width';\r\n                            element[0].style[prop] = w + (offset * vx) + 'px';\r\n                            break;\r\n                    }\r\n                    updateInfo(e);\r\n                    function resizingEmit(){\r\n                        scope.$emit('angular-resizable.resizing', info);\r\n                    }\r\n                    if (scope.rNoThrottle) {\r\n                        resizingEmit();\r\n                    } else {\r\n                        throttle(resizingEmit);\r\n                    }\r\n                };\r\n                var dragEnd = function(e) {\r\n                    updateInfo();\r\n                    scope.$emit('angular-resizable.resizeEnd', info);\r\n                    scope.$apply();\r\n                    document.removeEventListener('mouseup', dragEnd, false);\r\n                    document.removeEventListener('mousemove', dragging, false);\r\n                    document.removeEventListener('touchend', dragEnd, false);\r\n                    document.removeEventListener('touchmove', dragging, false);\r\n                    element.removeClass('no-transition');\r\n                };\r\n                var dragStart = function(e, direction) {\r\n                    dragDir = direction;\r\n                    axis = dragDir === 'left' || dragDir === 'right' ? 'x' : 'y';\r\n                    start = axis === 'x' ? getClientX(e) : getClientY(e);\r\n                    w = parseInt(style.getPropertyValue('width'));\r\n                    h = parseInt(style.getPropertyValue('height'));\r\n\r\n                    //prevent transition while dragging\r\n                    element.addClass('no-transition');\r\n\r\n                    document.addEventListener('mouseup', dragEnd, false);\r\n                    document.addEventListener('mousemove', dragging, false);\r\n                    document.addEventListener('touchend', dragEnd, false);\r\n                    document.addEventListener('touchmove', dragging, false);\r\n\r\n                    // Disable highlighting while dragging\r\n                    if(e.stopPropagation) e.stopPropagation();\r\n                    if(e.preventDefault) e.preventDefault();\r\n                    e.cancelBubble = true;\r\n                    e.returnValue = false;\r\n\r\n                    updateInfo(e);\r\n                    scope.$emit('angular-resizable.resizeStart', info);\r\n                    scope.$apply();\r\n                };\r\n\r\n                dir.forEach(function (direction) {\r\n                    var grabber = document.createElement('div');\r\n\r\n                    // add class for styling purposes\r\n                    grabber.setAttribute('class', 'rg-' + direction);\r\n                    grabber.innerHTML = inner;\r\n                    element[0].appendChild(grabber);\r\n                    grabber.ondragstart = function() { return false; };\r\n\r\n                    var down = function(e) {\r\n                        var disabled = (scope.rDisabled === 'true');\r\n                        if (!disabled && (e.which === 1 || e.touches)) {\r\n                            // left mouse click or touch screen\r\n                            dragStart(e, direction);\r\n                        }\r\n                    };\r\n                    grabber.addEventListener('mousedown', down, false);\r\n                    grabber.addEventListener('touchstart', down, false);\r\n                });\r\n            }\r\n        };\r\n    });","/*!\r\n * ngTagsInput v3.1.1\r\n * http://mbenford.github.io/ngTagsInput\r\n *\r\n * Copyright (c) 2013-2016 Michael Benford\r\n * License: MIT\r\n *\r\n * Generated at 2016-05-27 12:28:31 -0300\r\n */\r\n(function() {\r\n'use strict';\r\n\r\nvar KEYS = {\r\n    backspace: 8,\r\n    tab: 9,\r\n    enter: 13,\r\n    escape: 27,\r\n    space: 32,\r\n    up: 38,\r\n    down: 40,\r\n    left: 37,\r\n    right: 39,\r\n    delete: 46,\r\n    comma: 188\r\n};\r\n\r\nvar MAX_SAFE_INTEGER = 9007199254740991;\r\nvar SUPPORTED_INPUT_TYPES = ['text', 'email', 'url'];\r\n\r\nvar tagsInput = angular.module('ngTagsInput', []);\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name tagsInput\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Renders an input box with tag editing support.\r\n *\r\n * @param {string} ngModel Assignable Angular expression to data-bind to.\r\n * @param {string=} [template=NA] URL or id of a custom template for rendering each tag.\r\n * @param {string=} [templateScope=NA] Scope to be passed to custom templates - of both tagsInput and\r\n *    autoComplete directives - as $scope.\r\n * @param {string=} [displayProperty=text] Property to be rendered as the tag label.\r\n * @param {string=} [keyProperty=text] Property to be used as a unique identifier for the tag.\r\n * @param {string=} [type=text] Type of the input element. Only 'text', 'email' and 'url' are supported values.\r\n * @param {string=} [text=NA] Assignable Angular expression for data-binding to the element's text.\r\n * @param {number=} tabindex Tab order of the control.\r\n * @param {string=} [placeholder=Add a tag] Placeholder text for the control.\r\n * @param {number=} [minLength=3] Minimum length for a new tag.\r\n * @param {number=} [maxLength=MAX_SAFE_INTEGER] Maximum length allowed for a new tag.\r\n * @param {number=} [minTags=0] Sets minTags validation error key if the number of tags added is less than minTags.\r\n * @param {number=} [maxTags=MAX_SAFE_INTEGER] Sets maxTags validation error key if the number of tags added is greater\r\n *    than maxTags.\r\n * @param {boolean=} [allowLeftoverText=false] Sets leftoverText validation error key if there is any leftover text in\r\n *    the input element when the directive loses focus.\r\n * @param {string=} [removeTagSymbol=] (Obsolete) Symbol character for the remove tag button.\r\n * @param {boolean=} [addOnEnter=true] Flag indicating that a new tag will be added on pressing the ENTER key.\r\n * @param {boolean=} [addOnSpace=false] Flag indicating that a new tag will be added on pressing the SPACE key.\r\n * @param {boolean=} [addOnComma=true] Flag indicating that a new tag will be added on pressing the COMMA key.\r\n * @param {boolean=} [addOnBlur=true] Flag indicating that a new tag will be added when the input field loses focus.\r\n * @param {boolean=} [addOnPaste=false] Flag indicating that the text pasted into the input field will be split into tags.\r\n * @param {string=} [pasteSplitPattern=,] Regular expression used to split the pasted text into tags.\r\n * @param {boolean=} [replaceSpacesWithDashes=true] Flag indicating that spaces will be replaced with dashes.\r\n * @param {string=} [allowedTagsPattern=.+] Regular expression that determines whether a new tag is valid.\r\n * @param {boolean=} [enableEditingLastTag=false] Flag indicating that the last tag will be moved back into the new tag\r\n *    input box instead of being removed when the backspace key is pressed and the input box is empty.\r\n * @param {boolean=} [addFromAutocompleteOnly=false] Flag indicating that only tags coming from the autocomplete list\r\n *    will be allowed. When this flag is true, addOnEnter, addOnComma, addOnSpace and addOnBlur values are ignored.\r\n * @param {boolean=} [spellcheck=true] Flag indicating whether the browser's spellcheck is enabled for the input field or not.\r\n * @param {expression=} [tagClass=NA] Expression to evaluate for each existing tag in order to get the CSS classes to be used.\r\n *    The expression is provided with the current tag as $tag, its index as $index and its state as $selected. The result\r\n *    of the evaluation must be one of the values supported by the ngClass directive (either a string, an array or an object).\r\n *    See https://docs.angularjs.org/api/ng/directive/ngClass for more information.\r\n * @param {expression=} [onTagAdding=NA] Expression to evaluate that will be invoked before adding a new tag. The new\r\n *    tag is available as $tag. This method must return either a boolean value or a promise. If either a false value or a rejected\r\n *    promise is returned, the tag will not be added.\r\n * @param {expression=} [onTagAdded=NA] Expression to evaluate upon adding a new tag. The new tag is available as $tag.\r\n * @param {expression=} [onInvalidTag=NA] Expression to evaluate when a tag is invalid. The invalid tag is available as $tag.\r\n * @param {expression=} [onTagRemoving=NA] Expression to evaluate that will be invoked before removing a tag. The tag\r\n *    is available as $tag. This method must return either a boolean value or a promise. If either a false value or a rejected\r\n *    promise is returned, the tag will not be removed.\r\n * @param {expression=} [onTagRemoved=NA] Expression to evaluate upon removing an existing tag. The removed tag is available as $tag.\r\n * @param {expression=} [onTagClicked=NA] Expression to evaluate upon clicking an existing tag. The clicked tag is available as $tag.\r\n */\r\ntagsInput.directive('tagsInput', [\"$timeout\", \"$document\", \"$window\", \"$q\", \"tagsInputConfig\", \"tiUtil\", function($timeout, $document, $window, $q, tagsInputConfig, tiUtil) {\r\n    function TagList(options, events, onTagAdding, onTagRemoving) {\r\n        var self = {}, getTagText, setTagText, canAddTag, canRemoveTag;\r\n\r\n        getTagText = function(tag) {\r\n            return tiUtil.safeToString(tag[options.displayProperty]);\r\n        };\r\n\r\n        setTagText = function(tag, text) {\r\n            tag[options.displayProperty] = text;\r\n        };\r\n\r\n        canAddTag = function(tag) {\r\n            var tagText = getTagText(tag);\r\n            var valid = tagText &&\r\n                        tagText.length >= options.minLength &&\r\n                        tagText.length <= options.maxLength &&\r\n                        options.allowedTagsPattern.test(tagText) &&\r\n                        !tiUtil.findInObjectArray(self.items, tag, options.keyProperty || options.displayProperty);\r\n\r\n            return $q.when(valid && onTagAdding({ $tag: tag })).then(tiUtil.promisifyValue);\r\n        };\r\n\r\n        canRemoveTag = function(tag) {\r\n            return $q.when(onTagRemoving({ $tag: tag })).then(tiUtil.promisifyValue);\r\n        };\r\n\r\n        self.items = [];\r\n\r\n        self.addText = function(text) {\r\n            var tag = {};\r\n            setTagText(tag, text);\r\n            return self.add(tag);\r\n        };\r\n\r\n        self.add = function(tag) {\r\n            var tagText = getTagText(tag);\r\n\r\n            if (options.replaceSpacesWithDashes) {\r\n                tagText = tiUtil.replaceSpacesWithDashes(tagText);\r\n            }\r\n\r\n            setTagText(tag, tagText);\r\n\r\n            return canAddTag(tag)\r\n                .then(function() {\r\n                    self.items.push(tag);\r\n                    events.trigger('tag-added', { $tag: tag });\r\n                })\r\n                .catch(function() {\r\n                    if (tagText) {\r\n                      events.trigger('invalid-tag', { $tag: tag });\r\n                    }\r\n                });\r\n        };\r\n\r\n        self.remove = function(index) {\r\n            var tag = self.items[index];\r\n\r\n            return canRemoveTag(tag).then(function() {\r\n                self.items.splice(index, 1);\r\n                self.clearSelection();\r\n                events.trigger('tag-removed', { $tag: tag });\r\n                return tag;\r\n            });\r\n        };\r\n\r\n        self.select = function(index) {\r\n            if (index < 0) {\r\n                index = self.items.length - 1;\r\n            }\r\n            else if (index >= self.items.length) {\r\n                index = 0;\r\n            }\r\n\r\n            self.index = index;\r\n            self.selected = self.items[index];\r\n        };\r\n\r\n        self.selectPrior = function() {\r\n            self.select(--self.index);\r\n        };\r\n\r\n        self.selectNext = function() {\r\n            self.select(++self.index);\r\n        };\r\n\r\n        self.removeSelected = function() {\r\n            return self.remove(self.index);\r\n        };\r\n\r\n        self.clearSelection = function() {\r\n            self.selected = null;\r\n            self.index = -1;\r\n        };\r\n\r\n        self.clearSelection();\r\n\r\n        return self;\r\n    }\r\n\r\n    function validateType(type) {\r\n        return SUPPORTED_INPUT_TYPES.indexOf(type) !== -1;\r\n    }\r\n\r\n    return {\r\n        restrict: 'E',\r\n        require: 'ngModel',\r\n        scope: {\r\n            tags: '=ngModel',\r\n            text: '=?',\r\n            templateScope: '=?',\r\n            tagClass: '&',\r\n            onTagAdding: '&',\r\n            onTagAdded: '&',\r\n            onInvalidTag: '&',\r\n            onTagRemoving: '&',\r\n            onTagRemoved: '&',\r\n            onTagClicked: '&',\r\n        },\r\n        replace: false,\r\n        transclude: true,\r\n        templateUrl: 'ngTagsInput/tags-input.html',\r\n        controller: [\"$scope\", \"$attrs\", \"$element\", function($scope, $attrs, $element) {\r\n            $scope.events = tiUtil.simplePubSub();\r\n\r\n            tagsInputConfig.load('tagsInput', $scope, $attrs, {\r\n                template: [String, 'ngTagsInput/tag-item.html'],\r\n                type: [String, 'text', validateType],\r\n                placeholder: [String, 'Add a tag'],\r\n                tabindex: [Number, null],\r\n                removeTagSymbol: [String, String.fromCharCode(215)],\r\n                replaceSpacesWithDashes: [Boolean, true],\r\n                minLength: [Number, 3],\r\n                maxLength: [Number, MAX_SAFE_INTEGER],\r\n                addOnEnter: [Boolean, true],\r\n                addOnSpace: [Boolean, false],\r\n                addOnComma: [Boolean, true],\r\n                addOnBlur: [Boolean, true],\r\n                addOnPaste: [Boolean, false],\r\n                pasteSplitPattern: [RegExp, /,/],\r\n                allowedTagsPattern: [RegExp, /.+/],\r\n                enableEditingLastTag: [Boolean, false],\r\n                minTags: [Number, 0],\r\n                maxTags: [Number, MAX_SAFE_INTEGER],\r\n                displayProperty: [String, 'text'],\r\n                keyProperty: [String, ''],\r\n                allowLeftoverText: [Boolean, false],\r\n                addFromAutocompleteOnly: [Boolean, false],\r\n                spellcheck: [Boolean, true]\r\n            });\r\n\r\n            $scope.tagList = new TagList($scope.options, $scope.events,\r\n                tiUtil.handleUndefinedResult($scope.onTagAdding, true),\r\n                tiUtil.handleUndefinedResult($scope.onTagRemoving, true));\r\n\r\n            this.registerAutocomplete = function() {\r\n                var input = $element.find('input');\r\n\r\n                return {\r\n                    addTag: function(tag) {\r\n                        return $scope.tagList.add(tag);\r\n                    },\r\n                    getTags: function() {\r\n                        return $scope.tagList.items;\r\n                    },\r\n                    getCurrentTagText: function() {\r\n                        return $scope.newTag.text();\r\n                    },\r\n                    getOptions: function() {\r\n                        return $scope.options;\r\n                    },\r\n                    getTemplateScope: function() {\r\n                        return $scope.templateScope;\r\n                    },\r\n                    on: function(name, handler) {\r\n                        $scope.events.on(name, handler, true);\r\n                        return this;\r\n                    }\r\n                };\r\n            };\r\n\r\n            this.registerTagItem = function() {\r\n                return {\r\n                    getOptions: function() {\r\n                        return $scope.options;\r\n                    },\r\n                    removeTag: function(index) {\r\n                        if ($scope.disabled) {\r\n                            return;\r\n                        }\r\n                        $scope.tagList.remove(index);\r\n                    }\r\n                };\r\n            };\r\n        }],\r\n        link: function(scope, element, attrs, ngModelCtrl) {\r\n            var hotkeys = [KEYS.enter, KEYS.comma, KEYS.space, KEYS.backspace, KEYS.delete, KEYS.left, KEYS.right],\r\n                tagList = scope.tagList,\r\n                events = scope.events,\r\n                options = scope.options,\r\n                input = element.find('input'),\r\n                validationOptions = ['minTags', 'maxTags', 'allowLeftoverText'],\r\n                setElementValidity,\r\n                focusInput;\r\n\r\n            setElementValidity = function() {\r\n                ngModelCtrl.$setValidity('maxTags', tagList.items.length <= options.maxTags);\r\n                ngModelCtrl.$setValidity('minTags', tagList.items.length >= options.minTags);\r\n                ngModelCtrl.$setValidity('leftoverText', scope.hasFocus || options.allowLeftoverText ? true : !scope.newTag.text());\r\n            };\r\n\r\n            focusInput = function() {\r\n                $timeout(function() { input[0].focus(); });\r\n            };\r\n\r\n            ngModelCtrl.$isEmpty = function(value) {\r\n                return !value || !value.length;\r\n            };\r\n\r\n            scope.newTag = {\r\n                text: function(value) {\r\n                    if (angular.isDefined(value)) {\r\n                        scope.text = value;\r\n                        events.trigger('input-change', value);\r\n                    }\r\n                    else {\r\n                        return scope.text || '';\r\n                    }\r\n                },\r\n                invalid: null\r\n            };\r\n\r\n            scope.track = function(tag) {\r\n                return tag[options.keyProperty || options.displayProperty];\r\n            };\r\n\r\n            scope.getTagClass = function(tag, index) {\r\n                var selected = tag === tagList.selected;\r\n                return [\r\n                    scope.tagClass({$tag: tag, $index: index, $selected: selected}),\r\n                    { selected: selected }\r\n                ];\r\n            };\r\n\r\n            scope.$watch('tags', function(value) {\r\n                if (value) {\r\n                    tagList.items = tiUtil.makeObjectArray(value, options.displayProperty);\r\n                    scope.tags = tagList.items;\r\n                }\r\n                else {\r\n                    tagList.items = [];\r\n                }\r\n            });\r\n\r\n            scope.$watch('tags.length', function() {\r\n                setElementValidity();\r\n\r\n                // ngModelController won't trigger validators when the model changes (because it's an array),\r\n                // so we need to do it ourselves. Unfortunately this won't trigger any registered formatter.\r\n                ngModelCtrl.$validate();\r\n            });\r\n\r\n            attrs.$observe('disabled', function(value) {\r\n                scope.disabled = value;\r\n            });\r\n\r\n            scope.eventHandlers = {\r\n                input: {\r\n                    keydown: function($event) {\r\n                        events.trigger('input-keydown', $event);\r\n                    },\r\n                    focus: function() {\r\n                        if (scope.hasFocus) {\r\n                            return;\r\n                        }\r\n\r\n                        scope.hasFocus = true;\r\n                        events.trigger('input-focus');\r\n                    },\r\n                    blur: function() {\r\n                        $timeout(function() {\r\n                            var activeElement = $document.prop('activeElement'),\r\n                                lostFocusToBrowserWindow = activeElement === input[0],\r\n                                lostFocusToChildElement = element[0].contains(activeElement);\r\n\r\n                            if (lostFocusToBrowserWindow || !lostFocusToChildElement) {\r\n                                scope.hasFocus = false;\r\n                                events.trigger('input-blur');\r\n                            }\r\n                        });\r\n                    },\r\n                    paste: function($event) {\r\n                        $event.getTextData = function() {\r\n                            var clipboardData = $event.clipboardData || ($event.originalEvent && $event.originalEvent.clipboardData);\r\n                            return clipboardData ? clipboardData.getData('text/plain') : $window.clipboardData.getData('Text');\r\n                        };\r\n                        events.trigger('input-paste', $event);\r\n                    }\r\n                },\r\n                host: {\r\n                    click: function() {\r\n                        if (scope.disabled) {\r\n                            return;\r\n                        }\r\n                        focusInput();\r\n                    }\r\n                },\r\n                tag: {\r\n                    click: function(tag) {\r\n                        events.trigger('tag-clicked', { $tag: tag });\r\n                    }\r\n                }\r\n            };\r\n\r\n            events\r\n                .on('tag-added', scope.onTagAdded)\r\n                .on('invalid-tag', scope.onInvalidTag)\r\n                .on('tag-removed', scope.onTagRemoved)\r\n                .on('tag-clicked', scope.onTagClicked)\r\n                .on('tag-added', function() {\r\n                    scope.newTag.text('');\r\n                })\r\n                .on('tag-added tag-removed', function() {\r\n                    scope.tags = tagList.items;\r\n                    // Ideally we should be able call $setViewValue here and let it in turn call $setDirty and $validate\r\n                    // automatically, but since the model is an array, $setViewValue does nothing and it's up to us to do it.\r\n                    // Unfortunately this won't trigger any registered $parser and there's no safe way to do it.\r\n                    ngModelCtrl.$setDirty();\r\n                    focusInput();\r\n                })\r\n                .on('invalid-tag', function() {\r\n                    scope.newTag.invalid = true;\r\n                })\r\n                .on('option-change', function(e) {\r\n                    if (validationOptions.indexOf(e.name) !== -1) {\r\n                        setElementValidity();\r\n                    }\r\n                })\r\n                .on('input-change', function() {\r\n                    tagList.clearSelection();\r\n                    scope.newTag.invalid = null;\r\n                })\r\n                .on('input-focus', function() {\r\n                    element.triggerHandler('focus');\r\n                    ngModelCtrl.$setValidity('leftoverText', true);\r\n                })\r\n                .on('input-blur', function() {\r\n                    if (options.addOnBlur && !options.addFromAutocompleteOnly) {\r\n                        tagList.addText(scope.newTag.text());\r\n                    }\r\n                    element.triggerHandler('blur');\r\n                    setElementValidity();\r\n                })\r\n                .on('input-keydown', function(event) {\r\n                    var key = event.keyCode,\r\n                        addKeys = {},\r\n                        shouldAdd, shouldRemove, shouldSelect, shouldEditLastTag;\r\n\r\n                    if (tiUtil.isModifierOn(event) || hotkeys.indexOf(key) === -1) {\r\n                        return;\r\n                    }\r\n\r\n                    addKeys[KEYS.enter] = options.addOnEnter;\r\n                    addKeys[KEYS.comma] = options.addOnComma;\r\n                    addKeys[KEYS.space] = options.addOnSpace;\r\n\r\n                    shouldAdd = !options.addFromAutocompleteOnly && addKeys[key];\r\n                    shouldRemove = (key === KEYS.backspace || key === KEYS.delete) && tagList.selected;\r\n                    shouldEditLastTag = key === KEYS.backspace && scope.newTag.text().length === 0 && options.enableEditingLastTag;\r\n                    shouldSelect = (key === KEYS.backspace || key === KEYS.left || key === KEYS.right) && scope.newTag.text().length === 0 && !options.enableEditingLastTag;\r\n\r\n                    if (shouldAdd) {\r\n                        tagList.addText(scope.newTag.text());\r\n                    }\r\n                    else if (shouldEditLastTag) {\r\n                        tagList.selectPrior();\r\n                        tagList.removeSelected().then(function(tag) {\r\n                            if (tag) {\r\n                                scope.newTag.text(tag[options.displayProperty]);\r\n                            }\r\n                        });\r\n                    }\r\n                    else if (shouldRemove) {\r\n                        tagList.removeSelected();\r\n                    }\r\n                    else if (shouldSelect) {\r\n                        if (key === KEYS.left || key === KEYS.backspace) {\r\n                            tagList.selectPrior();\r\n                        }\r\n                        else if (key === KEYS.right) {\r\n                            tagList.selectNext();\r\n                        }\r\n                    }\r\n\r\n                    if (shouldAdd || shouldSelect || shouldRemove || shouldEditLastTag) {\r\n                        event.preventDefault();\r\n                    }\r\n                })\r\n                .on('input-paste', function(event) {\r\n                    if (options.addOnPaste) {\r\n                        var data = event.getTextData();\r\n                        var tags = data.split(options.pasteSplitPattern);\r\n\r\n                        if (tags.length > 1) {\r\n                            tags.forEach(function(tag) {\r\n                                tagList.addText(tag);\r\n                            });\r\n                            event.preventDefault();\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n    };\r\n}]);\r\n\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name tiTagItem\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Represents a tag item. Used internally by the tagsInput directive.\r\n */\r\ntagsInput.directive('tiTagItem', [\"tiUtil\", function(tiUtil) {\r\n    return {\r\n        restrict: 'E',\r\n        require: '^tagsInput',\r\n        template: '<ng-include src=\"$$template\"></ng-include>',\r\n        scope: {\r\n            $scope: '=scope',\r\n            data: '='\r\n        },\r\n        link: function(scope, element, attrs, tagsInputCtrl) {\r\n            var tagsInput = tagsInputCtrl.registerTagItem(),\r\n                options = tagsInput.getOptions();\r\n\r\n            scope.$$template = options.template;\r\n            scope.$$removeTagSymbol = options.removeTagSymbol;\r\n\r\n            scope.$getDisplayText = function() {\r\n                return tiUtil.safeToString(scope.data[options.displayProperty]);\r\n            };\r\n            scope.$removeTag = function() {\r\n                tagsInput.removeTag(scope.$index);\r\n            };\r\n\r\n            scope.$watch('$parent.$index', function(value) {\r\n                scope.$index = value;\r\n            });\r\n        }\r\n    };\r\n}]);\r\n\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name autoComplete\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Provides autocomplete support for the tagsInput directive.\r\n *\r\n * @param {expression} source Expression to evaluate upon changing the input content. The input value is available as\r\n *    $query. The result of the expression must be a promise that eventually resolves to an array of strings.\r\n * @param {string=} [template=NA] URL or id of a custom template for rendering each element of the autocomplete list.\r\n * @param {string=} [displayProperty=tagsInput.displayText] Property to be rendered as the autocomplete label.\r\n * @param {number=} [debounceDelay=100] Amount of time, in milliseconds, to wait before evaluating the expression in\r\n *    the source option after the last keystroke.\r\n * @param {number=} [minLength=3] Minimum number of characters that must be entered before evaluating the expression\r\n *    in the source option.\r\n * @param {boolean=} [highlightMatchedText=true] Flag indicating that the matched text will be highlighted in the\r\n *    suggestions list.\r\n * @param {number=} [maxResultsToShow=10] Maximum number of results to be displayed at a time.\r\n * @param {boolean=} [loadOnDownArrow=false] Flag indicating that the source option will be evaluated when the down arrow\r\n *    key is pressed and the suggestion list is closed. The current input value is available as $query.\r\n * @param {boolean=} [loadOnEmpty=false] Flag indicating that the source option will be evaluated when the input content\r\n *    becomes empty. The $query variable will be passed to the expression as an empty string.\r\n * @param {boolean=} [loadOnFocus=false] Flag indicating that the source option will be evaluated when the input element\r\n *    gains focus. The current input value is available as $query.\r\n * @param {boolean=} [selectFirstMatch=true] Flag indicating that the first match will be automatically selected once\r\n *    the suggestion list is shown.\r\n * @param {expression=} [matchClass=NA] Expression to evaluate for each match in order to get the CSS classes to be used.\r\n *    The expression is provided with the current match as $match, its index as $index and its state as $selected. The result\r\n *    of the evaluation must be one of the values supported by the ngClass directive (either a string, an array or an object).\r\n *    See https://docs.angularjs.org/api/ng/directive/ngClass for more information.\r\n */\r\ntagsInput.directive('autoComplete', [\"$document\", \"$timeout\", \"$sce\", \"$q\", \"tagsInputConfig\", \"tiUtil\", function($document, $timeout, $sce, $q, tagsInputConfig, tiUtil) {\r\n    function SuggestionList(loadFn, options, events) {\r\n        var self = {}, getDifference, lastPromise, getTagId;\r\n\r\n        getTagId = function() {\r\n            return options.tagsInput.keyProperty || options.tagsInput.displayProperty;\r\n        };\r\n\r\n        getDifference = function(array1, array2) {\r\n            return array1.filter(function(item) {\r\n                return !tiUtil.findInObjectArray(array2, item, getTagId(), function(a, b) {\r\n                    if (options.tagsInput.replaceSpacesWithDashes) {\r\n                        a = tiUtil.replaceSpacesWithDashes(a);\r\n                        b = tiUtil.replaceSpacesWithDashes(b);\r\n                    }\r\n                    return tiUtil.defaultComparer(a, b);\r\n                });\r\n            });\r\n        };\r\n\r\n        self.reset = function() {\r\n            lastPromise = null;\r\n\r\n            self.items = [];\r\n            self.visible = false;\r\n            self.index = -1;\r\n            self.selected = null;\r\n            self.query = null;\r\n        };\r\n        self.show = function() {\r\n            if (options.selectFirstMatch) {\r\n                self.select(0);\r\n            }\r\n            else {\r\n                self.selected = null;\r\n            }\r\n            self.visible = true;\r\n        };\r\n        self.load = tiUtil.debounce(function(query, tags) {\r\n            self.query = query;\r\n\r\n            var promise = $q.when(loadFn({ $query: query }));\r\n            lastPromise = promise;\r\n\r\n            promise.then(function(items) {\r\n                if (promise !== lastPromise) {\r\n                    return;\r\n                }\r\n\r\n                items = tiUtil.makeObjectArray(items.data || items, getTagId());\r\n                items = getDifference(items, tags);\r\n                self.items = items.slice(0, options.maxResultsToShow);\r\n\r\n                if (self.items.length > 0) {\r\n                    self.show();\r\n                }\r\n                else {\r\n                    self.reset();\r\n                }\r\n            });\r\n        }, options.debounceDelay);\r\n\r\n        self.selectNext = function() {\r\n            self.select(++self.index);\r\n        };\r\n        self.selectPrior = function() {\r\n            self.select(--self.index);\r\n        };\r\n        self.select = function(index) {\r\n            if (index < 0) {\r\n                index = self.items.length - 1;\r\n            }\r\n            else if (index >= self.items.length) {\r\n                index = 0;\r\n            }\r\n            self.index = index;\r\n            self.selected = self.items[index];\r\n            events.trigger('suggestion-selected', index);\r\n        };\r\n\r\n        self.reset();\r\n\r\n        return self;\r\n    }\r\n\r\n    function scrollToElement(root, index) {\r\n        var element = root.find('li').eq(index),\r\n            parent = element.parent(),\r\n            elementTop = element.prop('offsetTop'),\r\n            elementHeight = element.prop('offsetHeight'),\r\n            parentHeight = parent.prop('clientHeight'),\r\n            parentScrollTop = parent.prop('scrollTop');\r\n\r\n        if (elementTop < parentScrollTop) {\r\n            parent.prop('scrollTop', elementTop);\r\n        }\r\n        else if (elementTop + elementHeight > parentHeight + parentScrollTop) {\r\n            parent.prop('scrollTop', elementTop + elementHeight - parentHeight);\r\n        }\r\n    }\r\n\r\n    return {\r\n        restrict: 'E',\r\n        require: '^tagsInput',\r\n        scope: {\r\n            source: '&',\r\n            matchClass: '&'\r\n        },\r\n        templateUrl: 'ngTagsInput/auto-complete.html',\r\n        controller: [\"$scope\", \"$element\", \"$attrs\", function($scope, $element, $attrs) {\r\n            $scope.events = tiUtil.simplePubSub();\r\n\r\n            tagsInputConfig.load('autoComplete', $scope, $attrs, {\r\n                template: [String, 'ngTagsInput/auto-complete-match.html'],\r\n                debounceDelay: [Number, 100],\r\n                minLength: [Number, 3],\r\n                highlightMatchedText: [Boolean, true],\r\n                maxResultsToShow: [Number, 10],\r\n                loadOnDownArrow: [Boolean, false],\r\n                loadOnEmpty: [Boolean, false],\r\n                loadOnFocus: [Boolean, false],\r\n                selectFirstMatch: [Boolean, true],\r\n                displayProperty: [String, '']\r\n            });\r\n\r\n            $scope.suggestionList = new SuggestionList($scope.source, $scope.options, $scope.events);\r\n\r\n            this.registerAutocompleteMatch = function() {\r\n                return {\r\n                    getOptions: function() {\r\n                        return $scope.options;\r\n                    },\r\n                    getQuery: function() {\r\n                        return $scope.suggestionList.query;\r\n                    }\r\n                };\r\n            };\r\n        }],\r\n        link: function(scope, element, attrs, tagsInputCtrl) {\r\n            var hotkeys = [KEYS.enter, KEYS.tab, KEYS.escape, KEYS.up, KEYS.down],\r\n                suggestionList = scope.suggestionList,\r\n                tagsInput = tagsInputCtrl.registerAutocomplete(),\r\n                options = scope.options,\r\n                events = scope.events,\r\n                shouldLoadSuggestions;\r\n\r\n            options.tagsInput = tagsInput.getOptions();\r\n\r\n            shouldLoadSuggestions = function(value) {\r\n                return value && value.length >= options.minLength || !value && options.loadOnEmpty;\r\n            };\r\n\r\n            scope.templateScope = tagsInput.getTemplateScope();\r\n\r\n            scope.addSuggestionByIndex = function(index) {\r\n                suggestionList.select(index);\r\n                scope.addSuggestion();\r\n            };\r\n\r\n            scope.addSuggestion = function() {\r\n                var added = false;\r\n\r\n                if (suggestionList.selected) {\r\n                    tagsInput.addTag(angular.copy(suggestionList.selected));\r\n                    suggestionList.reset();\r\n                    added = true;\r\n                }\r\n                return added;\r\n            };\r\n\r\n            scope.track = function(item) {\r\n                return item[options.tagsInput.keyProperty || options.tagsInput.displayProperty];\r\n            };\r\n\r\n            scope.getSuggestionClass = function(item, index) {\r\n                var selected = item === suggestionList.selected;\r\n                return [\r\n                    scope.matchClass({$match: item, $index: index, $selected: selected}),\r\n                    { selected: selected }\r\n                ];\r\n            };\r\n\r\n            tagsInput\r\n                .on('tag-added tag-removed invalid-tag input-blur', function() {\r\n                    suggestionList.reset();\r\n                })\r\n                .on('input-change', function(value) {\r\n                    if (shouldLoadSuggestions(value)) {\r\n                        suggestionList.load(value, tagsInput.getTags());\r\n                    }\r\n                    else {\r\n                        suggestionList.reset();\r\n                    }\r\n                })\r\n                .on('input-focus', function() {\r\n                    var value = tagsInput.getCurrentTagText();\r\n                    if (options.loadOnFocus && shouldLoadSuggestions(value)) {\r\n                        suggestionList.load(value, tagsInput.getTags());\r\n                    }\r\n                })\r\n                .on('input-keydown', function(event) {\r\n                    var key = event.keyCode,\r\n                        handled = false;\r\n\r\n                    if (tiUtil.isModifierOn(event) || hotkeys.indexOf(key) === -1) {\r\n                        return;\r\n                    }\r\n\r\n                    if (suggestionList.visible) {\r\n\r\n                        if (key === KEYS.down) {\r\n                            suggestionList.selectNext();\r\n                            handled = true;\r\n                        }\r\n                        else if (key === KEYS.up) {\r\n                            suggestionList.selectPrior();\r\n                            handled = true;\r\n                        }\r\n                        else if (key === KEYS.escape) {\r\n                            suggestionList.reset();\r\n                            handled = true;\r\n                        }\r\n                        else if (key === KEYS.enter || key === KEYS.tab) {\r\n                            handled = scope.addSuggestion();\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (key === KEYS.down && scope.options.loadOnDownArrow) {\r\n                            suggestionList.load(tagsInput.getCurrentTagText(), tagsInput.getTags());\r\n                            handled = true;\r\n                        }\r\n                    }\r\n\r\n                    if (handled) {\r\n                        event.preventDefault();\r\n                        event.stopImmediatePropagation();\r\n                        return false;\r\n                    }\r\n                });\r\n\r\n            events.on('suggestion-selected', function(index) {\r\n                scrollToElement(element, index);\r\n            });\r\n        }\r\n    };\r\n}]);\r\n\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name tiAutocompleteMatch\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Represents an autocomplete match. Used internally by the autoComplete directive.\r\n */\r\ntagsInput.directive('tiAutocompleteMatch', [\"$sce\", \"tiUtil\", function($sce, tiUtil) {\r\n    return {\r\n        restrict: 'E',\r\n        require: '^autoComplete',\r\n        template: '<ng-include src=\"$$template\"></ng-include>',\r\n        scope: {\r\n            $scope: '=scope',\r\n            data: '='\r\n        },\r\n        link: function(scope, element, attrs, autoCompleteCtrl) {\r\n            var autoComplete = autoCompleteCtrl.registerAutocompleteMatch(),\r\n                options = autoComplete.getOptions();\r\n\r\n            scope.$$template = options.template;\r\n            scope.$index = scope.$parent.$index;\r\n\r\n            scope.$highlight = function(text) {\r\n                if (options.highlightMatchedText) {\r\n                    text = tiUtil.safeHighlight(text, autoComplete.getQuery());\r\n                }\r\n                return $sce.trustAsHtml(text);\r\n            };\r\n            scope.$getDisplayText =  function() {\r\n                return tiUtil.safeToString(scope.data[options.displayProperty || options.tagsInput.displayProperty]);\r\n            };\r\n        }\r\n    };\r\n}]);\r\n\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name tiTranscludeAppend\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Re-creates the old behavior of ng-transclude. Used internally by tagsInput directive.\r\n */\r\ntagsInput.directive('tiTranscludeAppend', function() {\r\n    return function(scope, element, attrs, ctrl, transcludeFn) {\r\n        transcludeFn(function(clone) {\r\n            element.append(clone);\r\n        });\r\n    };\r\n});\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name tiAutosize\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Automatically sets the input's width so its content is always visible. Used internally by tagsInput directive.\r\n */\r\ntagsInput.directive('tiAutosize', [\"tagsInputConfig\", function(tagsInputConfig) {\r\n    return {\r\n        restrict: 'A',\r\n        require: 'ngModel',\r\n        link: function(scope, element, attrs, ctrl) {\r\n            var threshold = tagsInputConfig.getTextAutosizeThreshold(),\r\n                span, resize;\r\n\r\n            span = angular.element('<span class=\"input\"></span>');\r\n            span.css('display', 'none')\r\n                .css('visibility', 'hidden')\r\n                .css('white-space', 'pre');\r\n\r\n            element.parent().append(span);\r\n\r\n            resize = function(originalValue) {\r\n                var value = originalValue, width;\r\n\r\n                if (angular.isString(value) && value.length === 0) {\r\n                    value = attrs.placeholder;\r\n                }\r\n\r\n                if (value) {\r\n                    span.text(value);\r\n                    span.css('display', '');\r\n                    span.css('display', 'none');\r\n                }\r\n\r\n\r\n                return originalValue;\r\n            };\r\n\r\n            ctrl.$parsers.unshift(resize);\r\n            ctrl.$formatters.unshift(resize);\r\n\r\n            attrs.$observe('placeholder', function(value) {\r\n                if (!ctrl.$modelValue) {\r\n                    resize(value);\r\n                }\r\n            });\r\n        }\r\n    };\r\n}]);\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name tiBindAttrs\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Binds attributes to expressions. Used internally by tagsInput directive.\r\n */\r\ntagsInput.directive('tiBindAttrs', function() {\r\n    return function(scope, element, attrs) {\r\n        scope.$watch(attrs.tiBindAttrs, function(value) {\r\n            angular.forEach(value, function(value, key) {\r\n                attrs.$set(key, value);\r\n            });\r\n        }, true);\r\n    };\r\n});\r\n\r\n/**\r\n * @ngdoc service\r\n * @name tagsInputConfig\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Sets global configuration settings for both tagsInput and autoComplete directives. It's also used internally to parse and\r\n *  initialize options from HTML attributes.\r\n */\r\ntagsInput.provider('tagsInputConfig', function() {\r\n    var globalDefaults = {},\r\n        interpolationStatus = {},\r\n        autosizeThreshold = 3;\r\n\r\n    /**\r\n     * @ngdoc method\r\n     * @name tagsInputConfig#setDefaults\r\n     * @description Sets the default configuration option for a directive.\r\n     *\r\n     * @param {string} directive Name of the directive to be configured. Must be either 'tagsInput' or 'autoComplete'.\r\n     * @param {object} defaults Object containing options and their values.\r\n     *\r\n     * @returns {object} The service itself for chaining purposes.\r\n     */\r\n    this.setDefaults = function(directive, defaults) {\r\n        globalDefaults[directive] = defaults;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @ngdoc method\r\n     * @name tagsInputConfig#setActiveInterpolation\r\n     * @description Sets active interpolation for a set of options.\r\n     *\r\n     * @param {string} directive Name of the directive to be configured. Must be either 'tagsInput' or 'autoComplete'.\r\n     * @param {object} options Object containing which options should have interpolation turned on at all times.\r\n     *\r\n     * @returns {object} The service itself for chaining purposes.\r\n     */\r\n    this.setActiveInterpolation = function(directive, options) {\r\n        interpolationStatus[directive] = options;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @ngdoc method\r\n     * @name tagsInputConfig#setTextAutosizeThreshold\r\n     * @description Sets the threshold used by the tagsInput directive to re-size the inner input field element based on its contents.\r\n     *\r\n     * @param {number} threshold Threshold value, in pixels.\r\n     *\r\n     * @returns {object} The service itself for chaining purposes.\r\n     */\r\n    this.setTextAutosizeThreshold = function(threshold) {\r\n        autosizeThreshold = threshold;\r\n        return this;\r\n    };\r\n\r\n    this.$get = [\"$interpolate\", function($interpolate) {\r\n        var converters = {};\r\n        converters[String] = function(value) { return value; };\r\n        converters[Number] = function(value) { return parseInt(value, 10); };\r\n        converters[Boolean] = function(value) { return value.toLowerCase() === 'true'; };\r\n        converters[RegExp] = function(value) { return new RegExp(value); };\r\n\r\n        return {\r\n            load: function(directive, scope, attrs, options) {\r\n                var defaultValidator = function() { return true; };\r\n\r\n                scope.options = {};\r\n\r\n                angular.forEach(options, function(value, key) {\r\n                    var type, localDefault, validator, converter, getDefault, updateValue;\r\n\r\n                    type = value[0];\r\n                    localDefault = value[1];\r\n                    validator = value[2] || defaultValidator;\r\n                    converter = converters[type];\r\n\r\n                    getDefault = function() {\r\n                        var globalValue = globalDefaults[directive] && globalDefaults[directive][key];\r\n                        return angular.isDefined(globalValue) ? globalValue : localDefault;\r\n                    };\r\n\r\n                    updateValue = function(value) {\r\n                        scope.options[key] = value && validator(value) ? converter(value) : getDefault();\r\n                    };\r\n\r\n                    if (interpolationStatus[directive] && interpolationStatus[directive][key]) {\r\n                        attrs.$observe(key, function(value) {\r\n                            updateValue(value);\r\n                            scope.events.trigger('option-change', { name: key, newValue: value });\r\n                        });\r\n                    }\r\n                    else {\r\n                        updateValue(attrs[key] && $interpolate(attrs[key])(scope.$parent));\r\n                    }\r\n                });\r\n            },\r\n            getTextAutosizeThreshold: function() {\r\n                return autosizeThreshold;\r\n            }\r\n        };\r\n    }];\r\n});\r\n\r\n\r\n/***\r\n * @ngdoc service\r\n * @name tiUtil\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Helper methods used internally by the directive. Should not be called directly from user code.\r\n */\r\ntagsInput.factory('tiUtil', [\"$timeout\", \"$q\", function($timeout, $q) {\r\n    var self = {};\r\n\r\n    self.debounce = function(fn, delay) {\r\n        var timeoutId;\r\n        return function() {\r\n            var args = arguments;\r\n            $timeout.cancel(timeoutId);\r\n            timeoutId = $timeout(function() { fn.apply(null, args); }, delay);\r\n        };\r\n    };\r\n\r\n    self.makeObjectArray = function(array, key) {\r\n        if (!angular.isArray(array) || array.length === 0 || angular.isObject(array[0])) {\r\n            return array;\r\n        }\r\n\r\n        var newArray = [];\r\n        array.forEach(function(item) {\r\n            var obj = {};\r\n            obj[key] = item;\r\n            newArray.push(obj);\r\n        });\r\n        return newArray;\r\n    };\r\n\r\n    self.findInObjectArray = function(array, obj, key, comparer) {\r\n        var item = null;\r\n        comparer = comparer || self.defaultComparer;\r\n\r\n        array.some(function(element) {\r\n            if (comparer(element[key], obj[key])) {\r\n                item = element;\r\n                return true;\r\n            }\r\n        });\r\n\r\n        return item;\r\n    };\r\n\r\n    self.defaultComparer = function(a, b) {\r\n        // I'm aware of the internationalization issues regarding toLowerCase()\r\n        // but I couldn't come up with a better solution right now\r\n        return self.safeToString(a).toLowerCase() === self.safeToString(b).toLowerCase();\r\n    };\r\n\r\n    self.safeHighlight = function(str, value) {\r\n        if (!value) {\r\n            return str;\r\n        }\r\n\r\n        function escapeRegexChars(str) {\r\n            return str.replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\r\n        }\r\n\r\n        str = self.encodeHTML(str);\r\n        value = self.encodeHTML(value);\r\n\r\n        var expression = new RegExp('&[^;]+;|' + escapeRegexChars(value), 'gi');\r\n        return str.replace(expression, function(match) {\r\n            return match.toLowerCase() === value.toLowerCase() ? '<em>' + match + '</em>' : match;\r\n        });\r\n    };\r\n\r\n    self.safeToString = function(value) {\r\n        return angular.isUndefined(value) || value == null ? '' : value.toString().trim();\r\n    };\r\n\r\n    self.encodeHTML = function(value) {\r\n        return self.safeToString(value)\r\n            .replace(/&/g, '&amp;')\r\n            .replace(/</g, '&lt;')\r\n            .replace(/>/g, '&gt;');\r\n    };\r\n\r\n    self.handleUndefinedResult = function(fn, valueIfUndefined) {\r\n        return function() {\r\n            var result = fn.apply(null, arguments);\r\n            return angular.isUndefined(result) ? valueIfUndefined : result;\r\n        };\r\n    };\r\n\r\n    self.replaceSpacesWithDashes = function(str) {\r\n        return self.safeToString(str).replace(/\\s/g, '-');\r\n    };\r\n\r\n    self.isModifierOn = function(event) {\r\n        return event.shiftKey || event.ctrlKey || event.altKey || event.metaKey;\r\n    };\r\n\r\n    self.promisifyValue = function(value) {\r\n        value = angular.isUndefined(value) ? true : value;\r\n        return $q[value ? 'when' : 'reject']();\r\n    };\r\n\r\n    self.simplePubSub = function() {\r\n        var events = {};\r\n        return {\r\n            on: function(names, handler, first) {\r\n                names.split(' ').forEach(function(name) {\r\n                    if (!events[name]) {\r\n                        events[name] = [];\r\n                    }\r\n                    var method = first ? [].unshift : [].push;\r\n                    method.call(events[name], handler);\r\n                });\r\n                return this;\r\n            },\r\n            trigger: function(name, args) {\r\n                var handlers = events[name] || [];\r\n                handlers.every(function(handler) {\r\n                    return self.handleUndefinedResult(handler, true)(args);\r\n                });\r\n                return this;\r\n            }\r\n        };\r\n    };\r\n\r\n    return self;\r\n}]);\r\n\r\n/* HTML templates */\r\ntagsInput.run([\"$templateCache\", function($templateCache) {\r\n    $templateCache.put('ngTagsInput/tags-input.html',\r\n    \"<div class=\\\"host\\\" tabindex=\\\"-1\\\" ng-click=\\\"eventHandlers.host.click()\\\" ti-transclude-append><div class=\\\"tags\\\" ng-class=\\\"{focused: hasFocus}\\\"><ul class=\\\"tag-list\\\"><li class=\\\"tag-item\\\" ng-repeat=\\\"tag in tagList.items track by track(tag)\\\" ng-class=\\\"getTagClass(tag, $index)\\\" ng-click=\\\"eventHandlers.tag.click(tag)\\\"><ti-tag-item scope=\\\"templateScope\\\" data=\\\"::tag\\\"></ti-tag-item></li></ul><input class=\\\"input\\\" autocomplete=\\\"off\\\" ng-model=\\\"newTag.text\\\" ng-model-options=\\\"{getterSetter: true}\\\" ng-keydown=\\\"eventHandlers.input.keydown($event)\\\" ng-focus=\\\"eventHandlers.input.focus($event)\\\" ng-blur=\\\"eventHandlers.input.blur($event)\\\" ng-paste=\\\"eventHandlers.input.paste($event)\\\" ng-trim=\\\"false\\\" ng-class=\\\"{'invalid-tag': newTag.invalid}\\\" ng-disabled=\\\"disabled\\\" ti-bind-attrs=\\\"{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}\\\" ti-autosize></div></div>\"\r\n  );\r\n\r\n  $templateCache.put('ngTagsInput/tag-item.html',\r\n    \"<span ng-bind=\\\"$getDisplayText()\\\"></span> <a class=\\\"remove-button\\\" ng-click=\\\"$removeTag()\\\" ng-bind=\\\"::$$removeTagSymbol\\\"></a>\"\r\n  );\r\n\r\n  $templateCache.put('ngTagsInput/auto-complete.html',\r\n    \"<div class=\\\"autocomplete\\\" ng-if=\\\"suggestionList.visible\\\"><ul class=\\\"suggestion-list\\\"><li class=\\\"suggestion-item\\\" ng-repeat=\\\"item in suggestionList.items track by track(item)\\\" ng-class=\\\"getSuggestionClass(item, $index)\\\" ng-click=\\\"addSuggestionByIndex($index)\\\" ng-mouseenter=\\\"suggestionList.select($index)\\\"><ti-autocomplete-match scope=\\\"templateScope\\\" data=\\\"::item\\\"></ti-autocomplete-match></li></ul></div>\"\r\n  );\r\n\r\n  $templateCache.put('ngTagsInput/auto-complete-match.html',\r\n    \"<span ng-bind-html=\\\"$highlight($getDisplayText())\\\"></span>\"\r\n  );\r\n}]);\r\n\r\n}());","/*! angularjs-slider - v6.0.0 - \r\n (c) Rafal Zajac <rzajac@gmail.com>, Valentin Hervieu <valentin@hervieu.me>, Jussi Saarivirta <jusasi@gmail.com>, Angelin Sirbu <angelin.sirbu@gmail.com> - \r\n https://github.com/angular-slider/angularjs-slider - \r\n 2017-01-02 */\r\n/*jslint unparam: true */\r\n/*global angular: false, console: false, define, module */\r\n(function(root, factory) {\r\n  'use strict';\r\n  /* istanbul ignore next */\r\n  if (typeof define === 'function' && define.amd) {\r\n    // AMD. Register as an anonymous module.\r\n    define(['angular'], factory);\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    // Node. Does not work with strict CommonJS, but\r\n    // only CommonJS-like environments that support module.exports,\r\n    // like Node.\r\n    // to support bundler like browserify\r\n    var angularObj = angular || require('angular');\r\n    if ((!angularObj || !angularObj.module) && typeof angular != 'undefined') {\r\n      angularObj = angular;\r\n    }\r\n    module.exports = factory(angularObj);\r\n  } else {\r\n    // Browser globals (root is window)\r\n    factory(root.angular);\r\n  }\r\n\r\n}(this, function(angular) {\r\n  'use strict';\r\n  var module = angular.module('rzModule', [])\r\n\r\n  .factory('RzSliderOptions', function() {\r\n    var defaultOptions = {\r\n      floor: 0,\r\n      ceil: null, //defaults to rz-slider-model\r\n      step: 1,\r\n      precision: 0,\r\n      minRange: null,\r\n      maxRange: null,\r\n      pushRange: false,\r\n      minLimit: null,\r\n      maxLimit: null,\r\n      id: null,\r\n      translate: null,\r\n      getLegend: null,\r\n      stepsArray: null,\r\n      bindIndexForStepsArray: false,\r\n      draggableRange: false,\r\n      draggableRangeOnly: false,\r\n      showSelectionBar: false,\r\n      showSelectionBarEnd: false,\r\n      showSelectionBarFromValue: null,\r\n      hidePointerLabels: false,\r\n      hideLimitLabels: false,\r\n      autoHideLimitLabels: true,\r\n      readOnly: false,\r\n      disabled: false,\r\n      interval: 350,\r\n      showTicks: false,\r\n      showTicksValues: false,\r\n      ticksArray: null,\r\n      ticksTooltip: null,\r\n      ticksValuesTooltip: null,\r\n      vertical: false,\r\n      getSelectionBarColor: null,\r\n      getTickColor: null,\r\n      getPointerColor: null,\r\n      keyboardSupport: true,\r\n      scale: 1,\r\n      enforceStep: true,\r\n      enforceRange: false,\r\n      noSwitching: false,\r\n      onlyBindHandles: false,\r\n      onStart: null,\r\n      onChange: null,\r\n      onEnd: null,\r\n      rightToLeft: false,\r\n      boundPointerLabels: true,\r\n      mergeRangeLabelsIfSame: false,\r\n      customTemplateScope: null,\r\n      logScale: false,\r\n      customValueToPosition: null,\r\n      customPositionToValue: null,\r\n      selectionBarGradient: null\r\n    };\r\n    var globalOptions = {};\r\n\r\n    var factory = {};\r\n    /**\r\n     * `options({})` allows global configuration of all sliders in the\r\n     * application.\r\n     *\r\n     *   var app = angular.module( 'App', ['rzModule'], function( RzSliderOptions ) {\r\n     *     // show ticks for all sliders\r\n     *     RzSliderOptions.options( { showTicks: true } );\r\n     *   });\r\n     */\r\n    factory.options = function(value) {\r\n      angular.extend(globalOptions, value);\r\n    };\r\n\r\n    factory.getOptions = function(options) {\r\n      return angular.extend({}, defaultOptions, globalOptions, options);\r\n    };\r\n\r\n    return factory;\r\n  })\r\n\r\n  .factory('rzThrottle', ['$timeout', function($timeout) {\r\n    /**\r\n     * rzThrottle\r\n     *\r\n     * Taken from underscore project\r\n     *\r\n     * @param {Function} func\r\n     * @param {number} wait\r\n     * @param {ThrottleOptions} options\r\n     * @returns {Function}\r\n     */\r\n    return function(func, wait, options) {\r\n      'use strict';\r\n      /* istanbul ignore next */\r\n      var getTime = (Date.now || function() {\r\n        return new Date().getTime();\r\n      });\r\n      var context, args, result;\r\n      var timeout = null;\r\n      var previous = 0;\r\n      options = options || {};\r\n      var later = function() {\r\n        previous = getTime();\r\n        timeout = null;\r\n        result = func.apply(context, args);\r\n        context = args = null;\r\n      };\r\n      return function() {\r\n        var now = getTime();\r\n        var remaining = wait - (now - previous);\r\n        context = this;\r\n        args = arguments;\r\n        if (remaining <= 0) {\r\n          $timeout.cancel(timeout);\r\n          timeout = null;\r\n          previous = now;\r\n          result = func.apply(context, args);\r\n          context = args = null;\r\n        } else if (!timeout && options.trailing !== false) {\r\n          timeout = $timeout(later, remaining);\r\n        }\r\n        return result;\r\n      };\r\n    }\r\n  }])\r\n\r\n  .factory('RzSlider', ['$timeout', '$document', '$window', '$compile', 'RzSliderOptions', 'rzThrottle', function($timeout, $document, $window, $compile, RzSliderOptions, rzThrottle) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Slider\r\n     *\r\n     * @param {ngScope} scope            The AngularJS scope\r\n     * @param {Element} sliderElem The slider directive element wrapped in jqLite\r\n     * @constructor\r\n     */\r\n    var Slider = function(scope, sliderElem) {\r\n      /**\r\n       * The slider's scope\r\n       *\r\n       * @type {ngScope}\r\n       */\r\n      this.scope = scope;\r\n\r\n      /**\r\n       * The slider inner low value (linked to rzSliderModel)\r\n       * @type {number}\r\n       */\r\n      this.lowValue = 0;\r\n\r\n      /**\r\n       * The slider inner high value (linked to rzSliderHigh)\r\n       * @type {number}\r\n       */\r\n      this.highValue = 0;\r\n\r\n      /**\r\n       * Slider element wrapped in jqLite\r\n       *\r\n       * @type {jqLite}\r\n       */\r\n      this.sliderElem = sliderElem;\r\n\r\n      /**\r\n       * Slider type\r\n       *\r\n       * @type {boolean} Set to true for range slider\r\n       */\r\n      this.range = this.scope.rzSliderModel !== undefined && this.scope.rzSliderHigh !== undefined;\r\n\r\n      /**\r\n       * Values recorded when first dragging the bar\r\n       *\r\n       * @type {Object}\r\n       */\r\n      this.dragging = {\r\n        active: false,\r\n        value: 0,\r\n        difference: 0,\r\n        position: 0,\r\n        lowLimit: 0,\r\n        highLimit: 0\r\n      };\r\n\r\n      /**\r\n       * property that handle position (defaults to left for horizontal)\r\n       * @type {string}\r\n       */\r\n      this.positionProperty = 'left';\r\n\r\n      /**\r\n       * property that handle dimension (defaults to width for horizontal)\r\n       * @type {string}\r\n       */\r\n      this.dimensionProperty = 'width';\r\n\r\n      /**\r\n       * Half of the width or height of the slider handles\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.handleHalfDim = 0;\r\n\r\n      /**\r\n       * Maximum position the slider handle can have\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.maxPos = 0;\r\n\r\n      /**\r\n       * Precision\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.precision = 0;\r\n\r\n      /**\r\n       * Step\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.step = 1;\r\n\r\n      /**\r\n       * The name of the handle we are currently tracking\r\n       *\r\n       * @type {string}\r\n       */\r\n      this.tracking = '';\r\n\r\n      /**\r\n       * Minimum value (floor) of the model\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.minValue = 0;\r\n\r\n      /**\r\n       * Maximum value (ceiling) of the model\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.maxValue = 0;\r\n\r\n\r\n      /**\r\n       * The delta between min and max value\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.valueRange = 0;\r\n\r\n\r\n      /**\r\n       * If showTicks/showTicksValues options are number.\r\n       * In this case, ticks values should be displayed below the slider.\r\n       * @type {boolean}\r\n       */\r\n      this.intermediateTicks = false;\r\n\r\n      /**\r\n       * Set to true if init method already executed\r\n       *\r\n       * @type {boolean}\r\n       */\r\n      this.initHasRun = false;\r\n\r\n      /**\r\n       * Used to call onStart on the first keydown event\r\n       *\r\n       * @type {boolean}\r\n       */\r\n      this.firstKeyDown = false;\r\n\r\n      /**\r\n       * Internal flag to prevent watchers to be called when the sliders value are modified internally.\r\n       * @type {boolean}\r\n       */\r\n      this.internalChange = false;\r\n\r\n      /**\r\n       * Internal flag to keep track of the visibility of combo label\r\n       * @type {boolean}\r\n       */\r\n      this.cmbLabelShown = false;\r\n\r\n      /**\r\n       * Internal variable to keep track of the focus element\r\n       */\r\n      this.currentFocusElement = null;\r\n\r\n      // Slider DOM elements wrapped in jqLite\r\n      this.fullBar = null; // The whole slider bar\r\n      this.selBar = null; // Highlight between two handles\r\n      this.minH = null; // Left slider handle\r\n      this.maxH = null; // Right slider handle\r\n      this.flrLab = null; // Floor label\r\n      this.ceilLab = null; // Ceiling label\r\n      this.minLab = null; // Label above the low value\r\n      this.maxLab = null; // Label above the high value\r\n      this.cmbLab = null; // Combined label\r\n      this.ticks = null; // The ticks\r\n\r\n      // Initialize slider\r\n      this.init();\r\n    };\r\n\r\n    // Add instance methods\r\n    Slider.prototype = {\r\n\r\n      /**\r\n       * Initialize slider\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      init: function() {\r\n        var thrLow, thrHigh,\r\n          self = this;\r\n\r\n        var calcDimFn = function() {\r\n          self.calcViewDimensions();\r\n        };\r\n\r\n        this.applyOptions();\r\n        this.syncLowValue();\r\n        if (this.range)\r\n          this.syncHighValue();\r\n        this.initElemHandles();\r\n        this.manageElementsStyle();\r\n        this.setDisabledState();\r\n        this.calcViewDimensions();\r\n        this.setMinAndMax();\r\n        this.addAccessibility();\r\n        this.updateCeilLab();\r\n        this.updateFloorLab();\r\n        this.initHandles();\r\n        this.manageEventsBindings();\r\n\r\n        // Recalculate slider view dimensions\r\n        this.scope.$on('reCalcViewDimensions', calcDimFn);\r\n\r\n        // Recalculate stuff if view port dimensions have changed\r\n        angular.element($window).on('resize', calcDimFn);\r\n\r\n        this.initHasRun = true;\r\n\r\n        // Watch for changes to the model\r\n        thrLow = rzThrottle(function() {\r\n          self.onLowHandleChange();\r\n        }, self.options.interval);\r\n\r\n        thrHigh = rzThrottle(function() {\r\n          self.onHighHandleChange();\r\n        }, self.options.interval);\r\n\r\n        this.scope.$on('rzSliderForceRender', function() {\r\n          self.resetLabelsValue();\r\n          thrLow();\r\n          if (self.range) {\r\n            thrHigh();\r\n          }\r\n          self.resetSlider();\r\n        });\r\n\r\n        // Watchers (order is important because in case of simultaneous change,\r\n        // watchers will be called in the same order)\r\n        this.scope.$watch('rzSliderOptions()', function(newValue, oldValue) {\r\n          if (newValue === oldValue)\r\n            return;\r\n          self.applyOptions(); // need to be called before synchronizing the values\r\n          self.syncLowValue();\r\n          if (self.range)\r\n            self.syncHighValue();\r\n          self.resetSlider();\r\n        }, true);\r\n\r\n        this.scope.$watch('rzSliderModel', function(newValue, oldValue) {\r\n          if (self.internalChange)\r\n            return;\r\n          if (newValue === oldValue)\r\n            return;\r\n          thrLow();\r\n        });\r\n\r\n        this.scope.$watch('rzSliderHigh', function(newValue, oldValue) {\r\n          if (self.internalChange)\r\n            return;\r\n          if (newValue === oldValue)\r\n            return;\r\n          if (newValue != null)\r\n            thrHigh();\r\n          if (self.range && newValue == null || !self.range && newValue != null) {\r\n            self.applyOptions();\r\n            self.resetSlider();\r\n          }\r\n        });\r\n\r\n        this.scope.$on('$destroy', function() {\r\n          self.unbindEvents();\r\n          angular.element($window).off('resize', calcDimFn);\r\n          self.currentFocusElement = null;\r\n        });\r\n      },\r\n\r\n      findStepIndex: function(modelValue) {\r\n        var index = 0;\r\n        for (var i = 0; i < this.options.stepsArray.length; i++) {\r\n          var step = this.options.stepsArray[i];\r\n          if (step === modelValue) {\r\n            index = i;\r\n            break;\r\n          }\r\n          else if (angular.isDate(step)) {\r\n            if (step.getTime() === modelValue.getTime()) {\r\n              index = i;\r\n              break;\r\n            }\r\n          }\r\n          else if (angular.isObject(step)) {\r\n            if (angular.isDate(step.value) && step.value.getTime() === modelValue.getTime() || step.value === modelValue) {\r\n              index = i;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        return index;\r\n      },\r\n\r\n      syncLowValue: function() {\r\n        if (this.options.stepsArray) {\r\n          if (!this.options.bindIndexForStepsArray)\r\n            this.lowValue = this.findStepIndex(this.scope.rzSliderModel);\r\n          else\r\n            this.lowValue = this.scope.rzSliderModel\r\n        }\r\n        else\r\n          this.lowValue = this.scope.rzSliderModel;\r\n      },\r\n\r\n      syncHighValue: function() {\r\n        if (this.options.stepsArray) {\r\n          if (!this.options.bindIndexForStepsArray)\r\n            this.highValue = this.findStepIndex(this.scope.rzSliderHigh);\r\n          else\r\n            this.highValue = this.scope.rzSliderHigh\r\n        }\r\n        else\r\n          this.highValue = this.scope.rzSliderHigh;\r\n      },\r\n\r\n      getStepValue: function(sliderValue) {\r\n        var step = this.options.stepsArray[sliderValue];\r\n        if (angular.isDate(step))\r\n          return step;\r\n        if (angular.isObject(step))\r\n          return step.value;\r\n        return step;\r\n      },\r\n\r\n      applyLowValue: function() {\r\n        if (this.options.stepsArray) {\r\n          if (!this.options.bindIndexForStepsArray)\r\n            this.scope.rzSliderModel = this.getStepValue(this.lowValue);\r\n          else\r\n            this.scope.rzSliderModel = this.lowValue\r\n        }\r\n        else\r\n          this.scope.rzSliderModel = this.lowValue;\r\n      },\r\n\r\n      applyHighValue: function() {\r\n        if (this.options.stepsArray) {\r\n          if (!this.options.bindIndexForStepsArray)\r\n            this.scope.rzSliderHigh = this.getStepValue(this.highValue);\r\n          else\r\n            this.scope.rzSliderHigh = this.highValue\r\n        }\r\n        else\r\n          this.scope.rzSliderHigh = this.highValue;\r\n      },\r\n\r\n      /*\r\n       * Reflow the slider when the low handle changes (called with throttle)\r\n       */\r\n      onLowHandleChange: function() {\r\n        this.syncLowValue();\r\n        if (this.range)\r\n          this.syncHighValue();\r\n        this.setMinAndMax();\r\n        this.updateLowHandle(this.valueToPosition(this.lowValue));\r\n        this.updateSelectionBar();\r\n        this.updateTicksScale();\r\n        this.updateAriaAttributes();\r\n        if (this.range) {\r\n          this.updateCmbLabel();\r\n        }\r\n      },\r\n\r\n      /*\r\n       * Reflow the slider when the high handle changes (called with throttle)\r\n       */\r\n      onHighHandleChange: function() {\r\n        this.syncLowValue();\r\n        this.syncHighValue();\r\n        this.setMinAndMax();\r\n        this.updateHighHandle(this.valueToPosition(this.highValue));\r\n        this.updateSelectionBar();\r\n        this.updateTicksScale();\r\n        this.updateCmbLabel();\r\n        this.updateAriaAttributes();\r\n      },\r\n\r\n      /**\r\n       * Read the user options and apply them to the slider model\r\n       */\r\n      applyOptions: function() {\r\n        var sliderOptions;\r\n        if (this.scope.rzSliderOptions)\r\n          sliderOptions = this.scope.rzSliderOptions();\r\n        else\r\n          sliderOptions = {};\r\n\r\n        this.options = RzSliderOptions.getOptions(sliderOptions);\r\n\r\n        if (this.options.step <= 0)\r\n          this.options.step = 1;\r\n\r\n        this.range = this.scope.rzSliderModel !== undefined && this.scope.rzSliderHigh !== undefined;\r\n        this.options.draggableRange = this.range && this.options.draggableRange;\r\n        this.options.draggableRangeOnly = this.range && this.options.draggableRangeOnly;\r\n        if (this.options.draggableRangeOnly) {\r\n          this.options.draggableRange = true;\r\n        }\r\n\r\n        this.options.showTicks = this.options.showTicks || this.options.showTicksValues || !!this.options.ticksArray;\r\n        this.scope.showTicks = this.options.showTicks; //scope is used in the template\r\n        if (angular.isNumber(this.options.showTicks) || this.options.ticksArray)\r\n          this.intermediateTicks = true;\r\n\r\n        this.options.showSelectionBar = this.options.showSelectionBar || this.options.showSelectionBarEnd\r\n          || this.options.showSelectionBarFromValue !== null;\r\n\r\n        if (this.options.stepsArray) {\r\n          this.parseStepsArray();\r\n        } else {\r\n          if (this.options.translate)\r\n            this.customTrFn = this.options.translate;\r\n          else\r\n            this.customTrFn = function(value) {\r\n              return String(value);\r\n            };\r\n\r\n          this.getLegend = this.options.getLegend;\r\n        }\r\n\r\n        if (this.options.vertical) {\r\n          this.positionProperty = 'bottom';\r\n          this.dimensionProperty = 'height';\r\n        }\r\n\r\n        if (this.options.customTemplateScope)\r\n          this.scope.custom = this.options.customTemplateScope;\r\n      },\r\n\r\n      parseStepsArray: function() {\r\n        this.options.floor = 0;\r\n        this.options.ceil = this.options.stepsArray.length - 1;\r\n        this.options.step = 1;\r\n\r\n        if (this.options.translate) {\r\n          this.customTrFn = this.options.translate;\r\n        }\r\n        else {\r\n          this.customTrFn = function(modelValue) {\r\n            if (this.options.bindIndexForStepsArray)\r\n              return this.getStepValue(modelValue);\r\n            return modelValue;\r\n          };\r\n        }\r\n\r\n        this.getLegend = function(index) {\r\n          var step = this.options.stepsArray[index];\r\n          if (angular.isObject(step))\r\n            return step.legend;\r\n          return null;\r\n        };\r\n      },\r\n\r\n      /**\r\n       * Resets slider\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      resetSlider: function() {\r\n        this.manageElementsStyle();\r\n        this.addAccessibility();\r\n        this.setMinAndMax();\r\n        this.updateCeilLab();\r\n        this.updateFloorLab();\r\n        this.unbindEvents();\r\n        this.manageEventsBindings();\r\n        this.setDisabledState();\r\n        this.calcViewDimensions();\r\n        this.refocusPointerIfNeeded();\r\n      },\r\n\r\n      refocusPointerIfNeeded: function() {\r\n        if (this.currentFocusElement) {\r\n          this.onPointerFocus(this.currentFocusElement.pointer, this.currentFocusElement.ref);\r\n          this.focusElement(this.currentFocusElement.pointer)\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Set the slider children to variables for easy access\r\n       *\r\n       * Run only once during initialization\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      initElemHandles: function() {\r\n        // Assign all slider elements to object properties for easy access\r\n        angular.forEach(this.sliderElem.children(), function(elem, index) {\r\n          var jElem = angular.element(elem);\r\n\r\n          switch (index) {\r\n            case 0:\r\n              this.fullBar = jElem;\r\n              break;\r\n            case 1:\r\n              this.selBar = jElem;\r\n              break;\r\n            case 2:\r\n              this.minH = jElem;\r\n              break;\r\n            case 3:\r\n              this.maxH = jElem;\r\n              break;\r\n            case 4:\r\n              this.flrLab = jElem;\r\n              break;\r\n            case 5:\r\n              this.ceilLab = jElem;\r\n              break;\r\n            case 6:\r\n              this.minLab = jElem;\r\n              break;\r\n            case 7:\r\n              this.maxLab = jElem;\r\n              break;\r\n            case 8:\r\n              this.cmbLab = jElem;\r\n              break;\r\n            case 9:\r\n              this.ticks = jElem;\r\n              break;\r\n          }\r\n\r\n        }, this);\r\n\r\n        // Initialize position cache properties\r\n        this.selBar.rzsp = 0;\r\n        this.minH.rzsp = 0;\r\n        this.maxH.rzsp = 0;\r\n        this.flrLab.rzsp = 0;\r\n        this.ceilLab.rzsp = 0;\r\n        this.minLab.rzsp = 0;\r\n        this.maxLab.rzsp = 0;\r\n        this.cmbLab.rzsp = 0;\r\n      },\r\n\r\n      /**\r\n       * Update each elements style based on options\r\n       */\r\n      manageElementsStyle: function() {\r\n\r\n        if (!this.range)\r\n          this.maxH.css('display', 'none');\r\n        else\r\n          this.maxH.css('display', '');\r\n\r\n\r\n        this.alwaysHide(this.flrLab, this.options.showTicksValues || this.options.hideLimitLabels);\r\n        this.alwaysHide(this.ceilLab, this.options.showTicksValues || this.options.hideLimitLabels);\r\n\r\n        var hideLabelsForTicks = this.options.showTicksValues && !this.intermediateTicks;\r\n        this.alwaysHide(this.minLab, hideLabelsForTicks || this.options.hidePointerLabels);\r\n        this.alwaysHide(this.maxLab, hideLabelsForTicks || !this.range || this.options.hidePointerLabels);\r\n        this.alwaysHide(this.cmbLab, hideLabelsForTicks || !this.range || this.options.hidePointerLabels);\r\n        this.alwaysHide(this.selBar, !this.range && !this.options.showSelectionBar);\r\n\r\n        if (this.options.vertical)\r\n          this.sliderElem.addClass('rz-vertical');\r\n\r\n        if (this.options.draggableRange)\r\n          this.selBar.addClass('rz-draggable');\r\n        else\r\n          this.selBar.removeClass('rz-draggable');\r\n\r\n        if (this.intermediateTicks && this.options.showTicksValues)\r\n          this.ticks.addClass('rz-ticks-values-under');\r\n      },\r\n\r\n      alwaysHide: function(el, hide) {\r\n        el.rzAlwaysHide = hide;\r\n        if (hide)\r\n          this.hideEl(el);\r\n        else\r\n          this.showEl(el)\r\n      },\r\n\r\n      /**\r\n       * Manage the events bindings based on readOnly and disabled options\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      manageEventsBindings: function() {\r\n        if (this.options.disabled || this.options.readOnly)\r\n          this.unbindEvents();\r\n        else\r\n          this.bindEvents();\r\n      },\r\n\r\n      /**\r\n       * Set the disabled state based on rzSliderDisabled\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      setDisabledState: function() {\r\n        if (this.options.disabled) {\r\n          this.sliderElem.attr('disabled', 'disabled');\r\n        } else {\r\n          this.sliderElem.attr('disabled', null);\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Reset label values\r\n       *\r\n       * @return {undefined}\r\n       */\r\n      resetLabelsValue: function() {\r\n        this.minLab.rzsv = undefined;\r\n        this.maxLab.rzsv = undefined;\r\n      },\r\n\r\n      /**\r\n       * Initialize slider handles positions and labels\r\n       *\r\n       * Run only once during initialization and every time view port changes size\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      initHandles: function() {\r\n        this.updateLowHandle(this.valueToPosition(this.lowValue));\r\n\r\n        /*\r\n         the order here is important since the selection bar should be\r\n         updated after the high handle but before the combined label\r\n         */\r\n        if (this.range)\r\n          this.updateHighHandle(this.valueToPosition(this.highValue));\r\n        this.updateSelectionBar();\r\n        if (this.range)\r\n          this.updateCmbLabel();\r\n\r\n        this.updateTicksScale();\r\n      },\r\n\r\n      /**\r\n       * Translate value to human readable format\r\n       *\r\n       * @param {number|string} value\r\n       * @param {jqLite} label\r\n       * @param {String} which\r\n       * @param {boolean} [useCustomTr]\r\n       * @returns {undefined}\r\n       */\r\n      translateFn: function(value, label, which, useCustomTr) {\r\n        useCustomTr = useCustomTr === undefined ? true : useCustomTr;\r\n\r\n        var valStr = '',\r\n          getDimension = false,\r\n          noLabelInjection = label.hasClass('no-label-injection');\r\n\r\n        if (useCustomTr) {\r\n          if (this.options.stepsArray && !this.options.bindIndexForStepsArray)\r\n            value = this.getStepValue(value);\r\n          valStr = String(this.customTrFn(value, this.options.id, which));\r\n        }\r\n        else {\r\n          valStr = String(value)\r\n        }\r\n\r\n        if (label.rzsv === undefined || label.rzsv.length !== valStr.length || (label.rzsv.length > 0 && label.rzsd === 0)) {\r\n          getDimension = true;\r\n          label.rzsv = valStr;\r\n        }\r\n\r\n        if (!noLabelInjection) {\r\n          label.html(valStr);\r\n        }\r\n        ;\r\n\r\n        this.scope[which + 'Label'] = valStr;\r\n\r\n        // Update width only when length of the label have changed\r\n        if (getDimension) {\r\n          this.getDimension(label);\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Set maximum and minimum values for the slider and ensure the model and high\r\n       * value match these limits\r\n       * @returns {undefined}\r\n       */\r\n      setMinAndMax: function() {\r\n\r\n        this.step = +this.options.step;\r\n        this.precision = +this.options.precision;\r\n\r\n        this.minValue = this.options.floor;\r\n        if (this.options.logScale && this.minValue === 0)\r\n          throw Error(\"Can't use floor=0 with logarithmic scale\");\r\n\r\n        if (this.options.enforceStep) {\r\n          this.lowValue = this.roundStep(this.lowValue);\r\n          if (this.range)\r\n            this.highValue = this.roundStep(this.highValue);\r\n        }\r\n\r\n        if (this.options.ceil != null)\r\n          this.maxValue = this.options.ceil;\r\n        else\r\n          this.maxValue = this.options.ceil = this.range ? this.highValue : this.lowValue;\r\n\r\n        if (this.options.enforceRange) {\r\n          this.lowValue = this.sanitizeValue(this.lowValue);\r\n          if (this.range)\r\n            this.highValue = this.sanitizeValue(this.highValue);\r\n        }\r\n\r\n        this.applyLowValue();\r\n        if (this.range)\r\n          this.applyHighValue();\r\n\r\n        this.valueRange = this.maxValue - this.minValue;\r\n      },\r\n\r\n      /**\r\n       * Adds accessibility attributes\r\n       *\r\n       * Run only once during initialization\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      addAccessibility: function() {\r\n        this.minH.attr('role', 'slider');\r\n        this.updateAriaAttributes();\r\n        if (this.options.keyboardSupport && !(this.options.readOnly || this.options.disabled))\r\n          this.minH.attr('tabindex', '0');\r\n        else\r\n          this.minH.attr('tabindex', '');\r\n        if (this.options.vertical)\r\n          this.minH.attr('aria-orientation', 'vertical');\r\n\r\n        if (this.range) {\r\n          this.maxH.attr('role', 'slider');\r\n          if (this.options.keyboardSupport && !(this.options.readOnly || this.options.disabled))\r\n            this.maxH.attr('tabindex', '0');\r\n          else\r\n            this.maxH.attr('tabindex', '');\r\n          if (this.options.vertical)\r\n            this.maxH.attr('aria-orientation', 'vertical');\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Updates aria attributes according to current values\r\n       */\r\n      updateAriaAttributes: function() {\r\n        this.minH.attr({\r\n          'aria-valuenow': this.scope.rzSliderModel,\r\n          'aria-valuetext': this.customTrFn(this.scope.rzSliderModel, this.options.id, 'model'),\r\n          'aria-valuemin': this.minValue,\r\n          'aria-valuemax': this.maxValue\r\n        });\r\n        if (this.range) {\r\n          this.maxH.attr({\r\n            'aria-valuenow': this.scope.rzSliderHigh,\r\n            'aria-valuetext': this.customTrFn(this.scope.rzSliderHigh, this.options.id, 'high'),\r\n            'aria-valuemin': this.minValue,\r\n            'aria-valuemax': this.maxValue\r\n          });\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Calculate dimensions that are dependent on view port size\r\n       *\r\n       * Run once during initialization and every time view port changes size.\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      calcViewDimensions: function() {\r\n        var handleWidth = this.getDimension(this.minH);\r\n\r\n        this.handleHalfDim = handleWidth / 2;\r\n        this.barDimension = this.getDimension(this.fullBar);\r\n\r\n        this.maxPos = this.barDimension - handleWidth;\r\n\r\n        this.getDimension(this.sliderElem);\r\n        this.sliderElem.rzsp = this.sliderElem[0].getBoundingClientRect()[this.positionProperty];\r\n\r\n        if (this.initHasRun) {\r\n          this.updateFloorLab();\r\n          this.updateCeilLab();\r\n          this.initHandles();\r\n          var self = this;\r\n          $timeout(function() {\r\n            self.updateTicksScale();\r\n          });\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Update the ticks position\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      updateTicksScale: function() {\r\n        if (!this.options.showTicks) return;\r\n\r\n        var ticksArray = this.options.ticksArray || this.getTicksArray(),\r\n          translate = this.options.vertical ? 'translateY' : 'translateX',\r\n          self = this;\r\n\r\n        if (this.options.rightToLeft)\r\n          ticksArray.reverse();\r\n\r\n        this.scope.ticks = ticksArray.map(function(value) {\r\n          var position = self.valueToPosition(value);\r\n\r\n          if (self.options.vertical)\r\n            position = self.maxPos - position;\r\n\r\n          var tick = {\r\n            selected: self.isTickSelected(value),\r\n            style: {\r\n              transform: translate + '(' + Math.round(position) + 'px)'\r\n            }\r\n          };\r\n          if (tick.selected && self.options.getSelectionBarColor) {\r\n            tick.style['background-color'] = self.getSelectionBarColor();\r\n          }\r\n          if (!tick.selected && self.options.getTickColor) {\r\n            tick.style['background-color'] = self.getTickColor(value);\r\n          }\r\n          if (self.options.ticksTooltip) {\r\n            tick.tooltip = self.options.ticksTooltip(value);\r\n            tick.tooltipPlacement = self.options.vertical ? 'right' : 'top';\r\n          }\r\n          if (self.options.showTicksValues) {\r\n            tick.value = self.getDisplayValue(value, 'tick-value');\r\n            if (self.options.ticksValuesTooltip) {\r\n              tick.valueTooltip = self.options.ticksValuesTooltip(value);\r\n              tick.valueTooltipPlacement = self.options.vertical ? 'right' : 'top';\r\n            }\r\n          }\r\n          if (self.getLegend) {\r\n            var legend = self.getLegend(value, self.options.id);\r\n            if (legend)\r\n              tick.legend = legend;\r\n          }\r\n          return tick;\r\n        });\r\n      },\r\n\r\n      getTicksArray: function() {\r\n        var step = this.step,\r\n          ticksArray = [];\r\n        if (this.intermediateTicks)\r\n          step = this.options.showTicks;\r\n        for (var value = this.minValue; value <= this.maxValue; value += step) {\r\n          ticksArray.push(value);\r\n        }\r\n        return ticksArray;\r\n      },\r\n\r\n      isTickSelected: function(value) {\r\n        if (!this.range) {\r\n          if (this.options.showSelectionBarFromValue !== null) {\r\n            var center = this.options.showSelectionBarFromValue;\r\n            if (this.lowValue > center && value >= center && value <= this.lowValue)\r\n              return true;\r\n            else if (this.lowValue < center && value <= center && value >= this.lowValue)\r\n              return true;\r\n          }\r\n          else if (this.options.showSelectionBarEnd) {\r\n            if (value >= this.lowValue)\r\n              return true;\r\n          }\r\n          else if (this.options.showSelectionBar && value <= this.lowValue)\r\n            return true;\r\n        }\r\n        if (this.range && value >= this.lowValue && value <= this.highValue)\r\n          return true;\r\n        return false;\r\n      },\r\n\r\n      /**\r\n       * Update position of the floor label\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      updateFloorLab: function() {\r\n        this.translateFn(this.minValue, this.flrLab, 'floor');\r\n        this.getDimension(this.flrLab);\r\n        var position = this.options.rightToLeft ? this.barDimension - this.flrLab.rzsd : 0;\r\n        this.setPosition(this.flrLab, position);\r\n      },\r\n\r\n      /**\r\n       * Update position of the ceiling label\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      updateCeilLab: function() {\r\n        this.translateFn(this.maxValue, this.ceilLab, 'ceil');\r\n        this.getDimension(this.ceilLab);\r\n        var position = this.options.rightToLeft ? 0 : this.barDimension - this.ceilLab.rzsd;\r\n        this.setPosition(this.ceilLab, position);\r\n      },\r\n\r\n      /**\r\n       * Update slider handles and label positions\r\n       *\r\n       * @param {string} which\r\n       * @param {number} newPos\r\n       */\r\n      updateHandles: function(which, newPos) {\r\n        if (which === 'lowValue')\r\n          this.updateLowHandle(newPos);\r\n        else\r\n          this.updateHighHandle(newPos);\r\n\r\n        this.updateSelectionBar();\r\n        this.updateTicksScale();\r\n        if (this.range)\r\n          this.updateCmbLabel();\r\n      },\r\n\r\n      /**\r\n       * Helper function to work out the position for handle labels depending on RTL or not\r\n       *\r\n       * @param {string} labelName maxLab or minLab\r\n       * @param newPos\r\n       *\r\n       * @returns {number}\r\n       */\r\n      getHandleLabelPos: function(labelName, newPos) {\r\n        var labelRzsd = this[labelName].rzsd,\r\n          nearHandlePos = newPos - labelRzsd / 2 + this.handleHalfDim,\r\n          endOfBarPos = this.barDimension - labelRzsd;\r\n\r\n        if (!this.options.boundPointerLabels)\r\n          return nearHandlePos;\r\n\r\n        if (this.options.rightToLeft && labelName === 'minLab' || !this.options.rightToLeft && labelName === 'maxLab') {\r\n          return Math.min(nearHandlePos, endOfBarPos);\r\n        } else {\r\n          return Math.min(Math.max(nearHandlePos, 0), endOfBarPos);\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Update low slider handle position and label\r\n       *\r\n       * @param {number} newPos\r\n       * @returns {undefined}\r\n       */\r\n      updateLowHandle: function(newPos) {\r\n        this.setPosition(this.minH, newPos);\r\n        this.translateFn(this.lowValue, this.minLab, 'model');\r\n        this.setPosition(this.minLab, this.getHandleLabelPos('minLab', newPos));\r\n\r\n        if (this.options.getPointerColor) {\r\n          var pointercolor = this.getPointerColor('min');\r\n          this.scope.minPointerStyle = {\r\n            backgroundColor: pointercolor\r\n          };\r\n        }\r\n\r\n        if (this.options.autoHideLimitLabels) {\r\n          this.shFloorCeil();\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Update high slider handle position and label\r\n       *\r\n       * @param {number} newPos\r\n       * @returns {undefined}\r\n       */\r\n      updateHighHandle: function(newPos) {\r\n        this.setPosition(this.maxH, newPos);\r\n        this.translateFn(this.highValue, this.maxLab, 'high');\r\n        this.setPosition(this.maxLab, this.getHandleLabelPos('maxLab', newPos));\r\n\r\n        if (this.options.getPointerColor) {\r\n          var pointercolor = this.getPointerColor('max');\r\n          this.scope.maxPointerStyle = {\r\n            backgroundColor: pointercolor\r\n          };\r\n        }\r\n        if (this.options.autoHideLimitLabels) {\r\n          this.shFloorCeil();\r\n        }\r\n\r\n      },\r\n\r\n      /**\r\n       * Show/hide floor/ceiling label\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      shFloorCeil: function() {\r\n        // Show based only on hideLimitLabels if pointer labels are hidden\r\n        if (this.options.hidePointerLabels) {\r\n          return;\r\n        }\r\n        var flHidden = false,\r\n          clHidden = false,\r\n          isMinLabAtFloor = this.isLabelBelowFloorLab(this.minLab),\r\n          isMinLabAtCeil = this.isLabelAboveCeilLab(this.minLab),\r\n          isMaxLabAtCeil = this.isLabelAboveCeilLab(this.maxLab),\r\n          isCmbLabAtFloor = this.isLabelBelowFloorLab(this.cmbLab),\r\n          isCmbLabAtCeil =  this.isLabelAboveCeilLab(this.cmbLab);\r\n\r\n        if (isMinLabAtFloor) {\r\n          flHidden = true;\r\n          this.hideEl(this.flrLab);\r\n        } else {\r\n          flHidden = false;\r\n          this.showEl(this.flrLab);\r\n        }\r\n\r\n        if (isMinLabAtCeil) {\r\n          clHidden = true;\r\n          this.hideEl(this.ceilLab);\r\n        } else {\r\n          clHidden = false;\r\n          this.showEl(this.ceilLab);\r\n        }\r\n\r\n        if (this.range) {\r\n          var hideCeil = this.cmbLabelShown ? isCmbLabAtCeil : isMaxLabAtCeil;\r\n          var hideFloor = this.cmbLabelShown ? isCmbLabAtFloor : isMinLabAtFloor;\r\n\r\n          if (hideCeil) {\r\n            this.hideEl(this.ceilLab);\r\n          } else if (!clHidden) {\r\n            this.showEl(this.ceilLab);\r\n          }\r\n\r\n          // Hide or show floor label\r\n          if (hideFloor) {\r\n            this.hideEl(this.flrLab);\r\n          } else if (!flHidden) {\r\n            this.showEl(this.flrLab);\r\n          }\r\n        }\r\n      },\r\n\r\n      isLabelBelowFloorLab: function(label) {\r\n        var isRTL = this.options.rightToLeft,\r\n          pos = label.rzsp,\r\n          dim = label.rzsd,\r\n          floorPos = this.flrLab.rzsp,\r\n          floorDim = this.flrLab.rzsd;\r\n        return isRTL ?\r\n        pos + dim >= floorPos - 2 :\r\n        pos <= floorPos + floorDim + 2;\r\n      },\r\n\r\n      isLabelAboveCeilLab: function(label) {\r\n        var isRTL = this.options.rightToLeft,\r\n          pos = label.rzsp,\r\n          dim = label.rzsd,\r\n          ceilPos = this.ceilLab.rzsp,\r\n          ceilDim = this.ceilLab.rzsd;\r\n        return isRTL ?\r\n        pos <= ceilPos + ceilDim + 2 :\r\n        pos + dim >= ceilPos - 2;\r\n      },\r\n\r\n      /**\r\n       * Update slider selection bar, combined label and range label\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      updateSelectionBar: function() {\r\n        var position = 0,\r\n          dimension = 0,\r\n          isSelectionBarFromRight = this.options.rightToLeft ? !this.options.showSelectionBarEnd : this.options.showSelectionBarEnd,\r\n          positionForRange = this.options.rightToLeft ? this.maxH.rzsp + this.handleHalfDim : this.minH.rzsp + this.handleHalfDim;\r\n\r\n        if (this.range) {\r\n          dimension = Math.abs(this.maxH.rzsp - this.minH.rzsp);\r\n          position = positionForRange;\r\n        }\r\n        else {\r\n          if (this.options.showSelectionBarFromValue !== null) {\r\n            var center = this.options.showSelectionBarFromValue,\r\n              centerPosition = this.valueToPosition(center),\r\n              isModelGreaterThanCenter = this.options.rightToLeft ? this.lowValue <= center : this.lowValue > center;\r\n            if (isModelGreaterThanCenter) {\r\n              dimension = this.minH.rzsp - centerPosition;\r\n              position = centerPosition + this.handleHalfDim;\r\n            }\r\n            else {\r\n              dimension = centerPosition - this.minH.rzsp;\r\n              position = this.minH.rzsp + this.handleHalfDim;\r\n            }\r\n          }\r\n          else if (isSelectionBarFromRight) {\r\n            dimension = Math.abs(this.maxPos - this.minH.rzsp) + this.handleHalfDim;\r\n            position = this.minH.rzsp + this.handleHalfDim;\r\n          } else {\r\n            dimension = Math.abs(this.maxH.rzsp - this.minH.rzsp) + this.handleHalfDim;\r\n            position = 0;\r\n          }\r\n        }\r\n        this.setDimension(this.selBar, dimension);\r\n        this.setPosition(this.selBar, position);\r\n        if (this.options.getSelectionBarColor) {\r\n          var color = this.getSelectionBarColor();\r\n          this.scope.barStyle = {\r\n            backgroundColor: color\r\n          };\r\n        } else if (this.options.selectionBarGradient) {\r\n          var offset = this.options.showSelectionBarFromValue !== null ? this.valueToPosition(this.options.showSelectionBarFromValue) : 0,\r\n            reversed = offset - position > 0 ^ isSelectionBarFromRight,\r\n            direction = this.options.vertical ? (reversed ? 'bottom' : 'top') : (reversed ? 'left' : 'right');\r\n          this.scope.barStyle = {\r\n            backgroundImage: 'linear-gradient(to ' + direction + ', ' + this.options.selectionBarGradient.from + ' 0%,' + this.options.selectionBarGradient.to + ' 100%)'\r\n          };\r\n          if (this.options.vertical) {\r\n            this.scope.barStyle.backgroundPosition = 'center ' + (offset + dimension + position + (reversed ? -this.handleHalfDim : 0)) + 'px';\r\n            this.scope.barStyle.backgroundSize = '100% ' + (this.barDimension - this.handleHalfDim) + 'px';\r\n          } else {\r\n            this.scope.barStyle.backgroundPosition = (offset - position + (reversed ? this.handleHalfDim : 0)) + 'px center';\r\n            this.scope.barStyle.backgroundSize = (this.barDimension - this.handleHalfDim) + 'px 100%';\r\n          }\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Wrapper around the getSelectionBarColor of the user to pass to\r\n       * correct parameters\r\n       */\r\n      getSelectionBarColor: function() {\r\n        if (this.range)\r\n          return this.options.getSelectionBarColor(this.scope.rzSliderModel, this.scope.rzSliderHigh);\r\n        return this.options.getSelectionBarColor(this.scope.rzSliderModel);\r\n      },\r\n\r\n      /**\r\n       * Wrapper around the getPointerColor of the user to pass to\r\n       * correct parameters\r\n       */\r\n      getPointerColor: function(pointerType) {\r\n        if (pointerType === 'max') {\r\n          return this.options.getPointerColor(this.scope.rzSliderHigh, pointerType);\r\n        }\r\n        return this.options.getPointerColor(this.scope.rzSliderModel, pointerType);\r\n      },\r\n\r\n      /**\r\n       * Wrapper around the getTickColor of the user to pass to\r\n       * correct parameters\r\n       */\r\n      getTickColor: function(value) {\r\n        return this.options.getTickColor(value);\r\n      },\r\n\r\n      /**\r\n       * Update combined label position and value\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      updateCmbLabel: function() {\r\n        var isLabelOverlap = null;\r\n        if (this.options.rightToLeft) {\r\n          isLabelOverlap = this.minLab.rzsp - this.minLab.rzsd - 10 <= this.maxLab.rzsp;\r\n        } else {\r\n          isLabelOverlap = this.minLab.rzsp + this.minLab.rzsd + 10 >= this.maxLab.rzsp;\r\n        }\r\n\r\n        if (isLabelOverlap) {\r\n          var lowTr = this.getDisplayValue(this.lowValue, 'model'),\r\n            highTr = this.getDisplayValue(this.highValue, 'high'),\r\n            labelVal = '';\r\n          if (this.options.mergeRangeLabelsIfSame && lowTr === highTr) {\r\n            labelVal = lowTr;\r\n          } else {\r\n            labelVal = this.options.rightToLeft ? highTr + ' - ' + lowTr : lowTr + ' - ' + highTr;\r\n          }\r\n\r\n          this.translateFn(labelVal, this.cmbLab, 'cmb', false);\r\n          var pos = this.options.boundPointerLabels ? Math.min(\r\n            Math.max(\r\n              this.selBar.rzsp + this.selBar.rzsd / 2 - this.cmbLab.rzsd / 2,\r\n              0\r\n            ),\r\n            this.barDimension - this.cmbLab.rzsd\r\n          ) : this.selBar.rzsp + this.selBar.rzsd / 2 - this.cmbLab.rzsd / 2;\r\n\r\n          this.setPosition(this.cmbLab, pos);\r\n          this.cmbLabelShown = true;\r\n          this.hideEl(this.minLab);\r\n          this.hideEl(this.maxLab);\r\n          this.showEl(this.cmbLab);\r\n        } else {\r\n          this.cmbLabelShown = false;\r\n          this.showEl(this.maxLab);\r\n          this.showEl(this.minLab);\r\n          this.hideEl(this.cmbLab);\r\n        }\r\n        if (this.options.autoHideLimitLabels) {\r\n          this.shFloorCeil();\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Return the translated value if a translate function is provided else the original value\r\n       * @param value\r\n       * @param which if it's min or max handle\r\n       * @returns {*}\r\n       */\r\n      getDisplayValue: function(value, which) {\r\n        if (this.options.stepsArray && !this.options.bindIndexForStepsArray) {\r\n          value = this.getStepValue(value);\r\n        }\r\n        return this.customTrFn(value, this.options.id, which);\r\n      },\r\n\r\n      /**\r\n       * Round value to step and precision based on minValue\r\n       *\r\n       * @param {number} value\r\n       * @param {number} customStep a custom step to override the defined step\r\n       * @returns {number}\r\n       */\r\n      roundStep: function(value, customStep) {\r\n        var step = customStep ? customStep : this.step,\r\n          steppedDifference = parseFloat((value - this.minValue) / step).toPrecision(12);\r\n        steppedDifference = Math.round(+steppedDifference) * step;\r\n        var newValue = (this.minValue + steppedDifference).toFixed(this.precision);\r\n        return +newValue;\r\n      },\r\n\r\n      /**\r\n       * Hide element\r\n       *\r\n       * @param element\r\n       * @returns {jqLite} The jqLite wrapped DOM element\r\n       */\r\n      hideEl: function(element) {\r\n        return element.css({\r\n          visibility: 'hidden'\r\n        });\r\n      },\r\n\r\n      /**\r\n       * Show element\r\n       *\r\n       * @param element The jqLite wrapped DOM element\r\n       * @returns {jqLite} The jqLite\r\n       */\r\n      showEl: function(element) {\r\n        if (!!element.rzAlwaysHide) {\r\n          return element;\r\n        }\r\n\r\n        return element.css({\r\n          visibility: 'visible'\r\n        });\r\n      },\r\n\r\n      /**\r\n       * Set element left/top position depending on whether slider is horizontal or vertical\r\n       *\r\n       * @param {jqLite} elem The jqLite wrapped DOM element\r\n       * @param {number} pos\r\n       * @returns {number}\r\n       */\r\n      setPosition: function(elem, pos) {\r\n        elem.rzsp = pos;\r\n        var css = {};\r\n        css[this.positionProperty] = Math.round(pos) + 'px';\r\n        elem.css(css);\r\n        return pos;\r\n      },\r\n\r\n      /**\r\n       * Get element width/height depending on whether slider is horizontal or vertical\r\n       *\r\n       * @param {jqLite} elem The jqLite wrapped DOM element\r\n       * @returns {number}\r\n       */\r\n      getDimension: function(elem) {\r\n        var val = elem[0].getBoundingClientRect();\r\n        if (this.options.vertical)\r\n          elem.rzsd = (val.bottom - val.top) * this.options.scale;\r\n        else\r\n          elem.rzsd = (val.right - val.left) * this.options.scale;\r\n        return elem.rzsd;\r\n      },\r\n\r\n      /**\r\n       * Set element width/height depending on whether slider is horizontal or vertical\r\n       *\r\n       * @param {jqLite} elem  The jqLite wrapped DOM element\r\n       * @param {number} dim\r\n       * @returns {number}\r\n       */\r\n      setDimension: function(elem, dim) {\r\n        elem.rzsd = dim;\r\n        var css = {};\r\n        css[this.dimensionProperty] = Math.round(dim) + 'px';\r\n        elem.css(css);\r\n        return dim;\r\n      },\r\n\r\n      /**\r\n       * Returns a value that is within slider range\r\n       *\r\n       * @param {number} val\r\n       * @returns {number}\r\n       */\r\n      sanitizeValue: function(val) {\r\n        return Math.min(Math.max(val, this.minValue), this.maxValue);\r\n      },\r\n\r\n      /**\r\n       * Translate value to pixel position\r\n       *\r\n       * @param {number} val\r\n       * @returns {number}\r\n       */\r\n      valueToPosition: function(val) {\r\n        var fn = this.linearValueToPosition;\r\n        if (this.options.customValueToPosition)\r\n          fn = this.options.customValueToPosition;\r\n        else if (this.options.logScale)\r\n          fn = this.logValueToPosition;\r\n\r\n        val = this.sanitizeValue(val);\r\n        var percent = fn(val, this.minValue, this.maxValue) || 0;\r\n        if (this.options.rightToLeft)\r\n          percent = 1 - percent;\r\n        return percent * this.maxPos;\r\n      },\r\n\r\n      linearValueToPosition: function(val, minVal, maxVal) {\r\n        var range = maxVal - minVal;\r\n        return (val - minVal) / range;\r\n      },\r\n\r\n      logValueToPosition: function(val, minVal, maxVal) {\r\n        val = Math.log(val);\r\n        minVal = Math.log(minVal);\r\n        maxVal = Math.log(maxVal);\r\n        var range = maxVal - minVal;\r\n        return (val - minVal) / range;\r\n      },\r\n\r\n      /**\r\n       * Translate position to model value\r\n       *\r\n       * @param {number} position\r\n       * @returns {number}\r\n       */\r\n      positionToValue: function(position) {\r\n        var percent = position / this.maxPos;\r\n        if (this.options.rightToLeft)\r\n          percent = 1 - percent;\r\n        var fn = this.linearPositionToValue;\r\n        if (this.options.customPositionToValue)\r\n          fn = this.options.customPositionToValue;\r\n        else if (this.options.logScale)\r\n          fn = this.logPositionToValue;\r\n        return fn(percent, this.minValue, this.maxValue) || 0;\r\n      },\r\n\r\n      linearPositionToValue: function(percent, minVal, maxVal) {\r\n        return percent * (maxVal - minVal) + minVal;\r\n      },\r\n\r\n      logPositionToValue: function(percent, minVal, maxVal) {\r\n        minVal = Math.log(minVal);\r\n        maxVal = Math.log(maxVal);\r\n        var value = percent * (maxVal - minVal) + minVal;\r\n        return Math.exp(value);\r\n      },\r\n\r\n      // Events\r\n      /**\r\n       * Get the X-coordinate or Y-coordinate of an event\r\n       *\r\n       * @param {Object} event  The event\r\n       * @returns {number}\r\n       */\r\n      getEventXY: function(event) {\r\n        /* http://stackoverflow.com/a/12336075/282882 */\r\n        //noinspection JSLint\r\n        var clientXY = this.options.vertical ? 'clientY' : 'clientX';\r\n        if (event[clientXY] !== undefined) {\r\n          return event[clientXY];\r\n        }\r\n\r\n        return event.originalEvent === undefined ?\r\n          event.touches[0][clientXY] : event.originalEvent.touches[0][clientXY];\r\n      },\r\n\r\n      /**\r\n       * Compute the event position depending on whether the slider is horizontal or vertical\r\n       * @param event\r\n       * @returns {number}\r\n       */\r\n      getEventPosition: function(event) {\r\n        var sliderPos = this.sliderElem.rzsp,\r\n          eventPos = 0;\r\n        if (this.options.vertical)\r\n          eventPos = -this.getEventXY(event) + sliderPos;\r\n        else\r\n          eventPos = this.getEventXY(event) - sliderPos;\r\n        return eventPos * this.options.scale - this.handleHalfDim; // #346 handleHalfDim is already scaled\r\n      },\r\n\r\n      /**\r\n       * Get event names for move and event end\r\n       *\r\n       * @param {Event}    event    The event\r\n       *\r\n       * @return {{moveEvent: string, endEvent: string}}\r\n       */\r\n      getEventNames: function(event) {\r\n        var eventNames = {\r\n          moveEvent: '',\r\n          endEvent: ''\r\n        };\r\n\r\n        if (event.touches || (event.originalEvent !== undefined && event.originalEvent.touches)) {\r\n          eventNames.moveEvent = 'touchmove';\r\n          eventNames.endEvent = 'touchend';\r\n        } else {\r\n          eventNames.moveEvent = 'mousemove';\r\n          eventNames.endEvent = 'mouseup';\r\n        }\r\n\r\n        return eventNames;\r\n      },\r\n\r\n      /**\r\n       * Get the handle closest to an event.\r\n       *\r\n       * @param event {Event} The event\r\n       * @returns {jqLite} The handle closest to the event.\r\n       */\r\n      getNearestHandle: function(event) {\r\n        if (!this.range) {\r\n          return this.minH;\r\n        }\r\n        var position = this.getEventPosition(event),\r\n          distanceMin = Math.abs(position - this.minH.rzsp),\r\n          distanceMax = Math.abs(position - this.maxH.rzsp);\r\n        if (distanceMin < distanceMax)\r\n          return this.minH;\r\n        else if (distanceMin > distanceMax)\r\n          return this.maxH;\r\n        else if (!this.options.rightToLeft)\r\n        //if event is at the same distance from min/max then if it's at left of minH, we return minH else maxH\r\n          return position < this.minH.rzsp ? this.minH : this.maxH;\r\n        else\r\n        //reverse in rtl\r\n          return position > this.minH.rzsp ? this.minH : this.maxH;\r\n      },\r\n\r\n      /**\r\n       * Wrapper function to focus an angular element\r\n       *\r\n       * @param el {AngularElement} the element to focus\r\n       */\r\n      focusElement: function(el) {\r\n        var DOM_ELEMENT = 0;\r\n        el[DOM_ELEMENT].focus();\r\n      },\r\n\r\n      /**\r\n       * Bind mouse and touch events to slider handles\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      bindEvents: function() {\r\n        var barTracking, barStart, barMove;\r\n\r\n        if (this.options.draggableRange) {\r\n          barTracking = 'rzSliderDrag';\r\n          barStart = this.onDragStart;\r\n          barMove = this.onDragMove;\r\n        } else {\r\n          barTracking = 'lowValue';\r\n          barStart = this.onStart;\r\n          barMove = this.onMove;\r\n        }\r\n\r\n        if (!this.options.onlyBindHandles) {\r\n          this.selBar.on('mousedown', angular.bind(this, barStart, null, barTracking));\r\n          this.selBar.on('mousedown', angular.bind(this, barMove, this.selBar));\r\n        }\r\n\r\n        if (this.options.draggableRangeOnly) {\r\n          this.minH.on('mousedown', angular.bind(this, barStart, null, barTracking));\r\n          this.maxH.on('mousedown', angular.bind(this, barStart, null, barTracking));\r\n        } else {\r\n          this.minH.on('mousedown', angular.bind(this, this.onStart, this.minH, 'lowValue'));\r\n          if (this.range) {\r\n            this.maxH.on('mousedown', angular.bind(this, this.onStart, this.maxH, 'highValue'));\r\n          }\r\n          if (!this.options.onlyBindHandles) {\r\n            this.fullBar.on('mousedown', angular.bind(this, this.onStart, null, null));\r\n            this.fullBar.on('mousedown', angular.bind(this, this.onMove, this.fullBar));\r\n            this.ticks.on('mousedown', angular.bind(this, this.onStart, null, null));\r\n            this.ticks.on('mousedown', angular.bind(this, this.onTickClick, this.ticks));\r\n          }\r\n        }\r\n\r\n        if (!this.options.onlyBindHandles) {\r\n          this.selBar.on('touchstart', angular.bind(this, barStart, null, barTracking));\r\n          this.selBar.on('touchstart', angular.bind(this, barMove, this.selBar));\r\n        }\r\n        if (this.options.draggableRangeOnly) {\r\n          this.minH.on('touchstart', angular.bind(this, barStart, null, barTracking));\r\n          this.maxH.on('touchstart', angular.bind(this, barStart, null, barTracking));\r\n        } else {\r\n          this.minH.on('touchstart', angular.bind(this, this.onStart, this.minH, 'lowValue'));\r\n          if (this.range) {\r\n            this.maxH.on('touchstart', angular.bind(this, this.onStart, this.maxH, 'highValue'));\r\n          }\r\n          if (!this.options.onlyBindHandles) {\r\n            this.fullBar.on('touchstart', angular.bind(this, this.onStart, null, null));\r\n            this.fullBar.on('touchstart', angular.bind(this, this.onMove, this.fullBar));\r\n            this.ticks.on('touchstart', angular.bind(this, this.onStart, null, null));\r\n            this.ticks.on('touchstart', angular.bind(this, this.onTickClick, this.ticks));\r\n          }\r\n        }\r\n\r\n        if (this.options.keyboardSupport) {\r\n          this.minH.on('focus', angular.bind(this, this.onPointerFocus, this.minH, 'lowValue'));\r\n          if (this.range) {\r\n            this.maxH.on('focus', angular.bind(this, this.onPointerFocus, this.maxH, 'highValue'));\r\n          }\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Unbind mouse and touch events to slider handles\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      unbindEvents: function() {\r\n        this.minH.off();\r\n        this.maxH.off();\r\n        this.fullBar.off();\r\n        this.selBar.off();\r\n        this.ticks.off();\r\n      },\r\n\r\n      /**\r\n       * onStart event handler\r\n       *\r\n       * @param {?Object} pointer The jqLite wrapped DOM element; if null, the closest handle is used\r\n       * @param {?string} ref     The name of the handle being changed; if null, the closest handle's value is modified\r\n       * @param {Event}   event   The event\r\n       * @returns {undefined}\r\n       */\r\n      onStart: function(pointer, ref, event) {\r\n        var ehMove, ehEnd,\r\n          eventNames = this.getEventNames(event);\r\n\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n\r\n        // We have to do this in case the HTML where the sliders are on\r\n        // have been animated into view.\r\n        this.calcViewDimensions();\r\n\r\n        if (pointer) {\r\n          this.tracking = ref;\r\n        } else {\r\n          pointer = this.getNearestHandle(event);\r\n          this.tracking = pointer === this.minH ? 'lowValue' : 'highValue';\r\n        }\r\n\r\n        pointer.addClass('rz-active');\r\n\r\n        if (this.options.keyboardSupport)\r\n          this.focusElement(pointer);\r\n\r\n        ehMove = angular.bind(this, this.dragging.active ? this.onDragMove : this.onMove, pointer);\r\n        ehEnd = angular.bind(this, this.onEnd, ehMove);\r\n\r\n        $document.on(eventNames.moveEvent, ehMove);\r\n        $document.one(eventNames.endEvent, ehEnd);\r\n        this.callOnStart();\r\n      },\r\n\r\n      /**\r\n       * onMove event handler\r\n       *\r\n       * @param {jqLite} pointer\r\n       * @param {Event}  event The event\r\n       * @param {boolean}  fromTick if the event occured on a tick or not\r\n       * @returns {undefined}\r\n       */\r\n      onMove: function(pointer, event, fromTick) {\r\n        var newPos = this.getEventPosition(event),\r\n          newValue,\r\n          ceilValue = this.options.rightToLeft ? this.minValue : this.maxValue,\r\n          flrValue = this.options.rightToLeft ? this.maxValue : this.minValue;\r\n\r\n        if (newPos <= 0) {\r\n          newValue = flrValue;\r\n        } else if (newPos >= this.maxPos) {\r\n          newValue = ceilValue;\r\n        } else {\r\n          newValue = this.positionToValue(newPos);\r\n          if (fromTick && angular.isNumber(this.options.showTicks))\r\n            newValue = this.roundStep(newValue, this.options.showTicks);\r\n          else\r\n            newValue = this.roundStep(newValue);\r\n        }\r\n        this.positionTrackingHandle(newValue);\r\n      },\r\n\r\n      /**\r\n       * onEnd event handler\r\n       *\r\n       * @param {Event}    event    The event\r\n       * @param {Function} ehMove   The the bound move event handler\r\n       * @returns {undefined}\r\n       */\r\n      onEnd: function(ehMove, event) {\r\n        var moveEventName = this.getEventNames(event).moveEvent;\r\n\r\n        if (!this.options.keyboardSupport) {\r\n          this.minH.removeClass('rz-active');\r\n          this.maxH.removeClass('rz-active');\r\n          this.tracking = '';\r\n        }\r\n        this.dragging.active = false;\r\n\r\n        $document.off(moveEventName, ehMove);\r\n        this.callOnEnd();\r\n      },\r\n\r\n      onTickClick: function(pointer, event) {\r\n        this.onMove(pointer, event, true);\r\n      },\r\n\r\n      onPointerFocus: function(pointer, ref) {\r\n        this.tracking = ref;\r\n        pointer.one('blur', angular.bind(this, this.onPointerBlur, pointer));\r\n        pointer.on('keydown', angular.bind(this, this.onKeyboardEvent));\r\n        pointer.on('keyup', angular.bind(this, this.onKeyUp));\r\n        this.firstKeyDown = true;\r\n        pointer.addClass('rz-active');\r\n\r\n        this.currentFocusElement = {\r\n          pointer: pointer,\r\n          ref: ref\r\n        };\r\n      },\r\n\r\n      onKeyUp: function() {\r\n        this.firstKeyDown = true;\r\n        this.callOnEnd();\r\n      },\r\n\r\n      onPointerBlur: function(pointer) {\r\n        pointer.off('keydown');\r\n        pointer.off('keyup');\r\n        this.tracking = '';\r\n        pointer.removeClass('rz-active');\r\n        this.currentFocusElement = null\r\n      },\r\n\r\n      /**\r\n       * Key actions helper function\r\n       *\r\n       * @param {number} currentValue value of the slider\r\n       *\r\n       * @returns {?Object} action value mappings\r\n       */\r\n      getKeyActions: function(currentValue) {\r\n        var increaseStep = currentValue + this.step,\r\n          decreaseStep = currentValue - this.step,\r\n          increasePage = currentValue + this.valueRange / 10,\r\n          decreasePage = currentValue - this.valueRange / 10;\r\n\r\n        //Left to right default actions\r\n        var actions = {\r\n          'UP': increaseStep,\r\n          'DOWN': decreaseStep,\r\n          'LEFT': decreaseStep,\r\n          'RIGHT': increaseStep,\r\n          'PAGEUP': increasePage,\r\n          'PAGEDOWN': decreasePage,\r\n          'HOME': this.minValue,\r\n          'END': this.maxValue\r\n        };\r\n        //right to left means swapping right and left arrows\r\n        if (this.options.rightToLeft) {\r\n          actions.LEFT = increaseStep;\r\n          actions.RIGHT = decreaseStep;\r\n          // right to left and vertical means we also swap up and down\r\n          if (this.options.vertical) {\r\n            actions.UP = decreaseStep;\r\n            actions.DOWN = increaseStep;\r\n          }\r\n        }\r\n        return actions;\r\n      },\r\n\r\n      onKeyboardEvent: function(event) {\r\n        var currentValue = this[this.tracking],\r\n          keyCode = event.keyCode || event.which,\r\n          keys = {\r\n            38: 'UP',\r\n            40: 'DOWN',\r\n            37: 'LEFT',\r\n            39: 'RIGHT',\r\n            33: 'PAGEUP',\r\n            34: 'PAGEDOWN',\r\n            36: 'HOME',\r\n            35: 'END'\r\n          },\r\n          actions = this.getKeyActions(currentValue),\r\n          key = keys[keyCode],\r\n          action = actions[key];\r\n        if (action == null || this.tracking === '') return;\r\n        event.preventDefault();\r\n\r\n        if (this.firstKeyDown) {\r\n          this.firstKeyDown = false;\r\n          this.callOnStart();\r\n        }\r\n\r\n        var self = this;\r\n        $timeout(function() {\r\n          var newValue = self.roundStep(self.sanitizeValue(action));\r\n          if (!self.options.draggableRangeOnly) {\r\n            self.positionTrackingHandle(newValue);\r\n          }\r\n          else {\r\n            var difference = self.highValue - self.lowValue,\r\n              newMinValue, newMaxValue;\r\n            if (self.tracking === 'lowValue') {\r\n              newMinValue = newValue;\r\n              newMaxValue = newValue + difference;\r\n              if (newMaxValue > self.maxValue) {\r\n                newMaxValue = self.maxValue;\r\n                newMinValue = newMaxValue - difference;\r\n              }\r\n            } else {\r\n              newMaxValue = newValue;\r\n              newMinValue = newValue - difference;\r\n              if (newMinValue < self.minValue) {\r\n                newMinValue = self.minValue;\r\n                newMaxValue = newMinValue + difference;\r\n              }\r\n            }\r\n            self.positionTrackingBar(newMinValue, newMaxValue);\r\n          }\r\n        });\r\n      },\r\n\r\n      /**\r\n       * onDragStart event handler\r\n       *\r\n       * Handles dragging of the middle bar.\r\n       *\r\n       * @param {Object} pointer The jqLite wrapped DOM element\r\n       * @param {string} ref     One of the refLow, refHigh values\r\n       * @param {Event}  event   The event\r\n       * @returns {undefined}\r\n       */\r\n      onDragStart: function(pointer, ref, event) {\r\n        var position = this.getEventPosition(event);\r\n        this.dragging = {\r\n          active: true,\r\n          value: this.positionToValue(position),\r\n          difference: this.highValue - this.lowValue,\r\n          lowLimit: this.options.rightToLeft ? this.minH.rzsp - position : position - this.minH.rzsp,\r\n          highLimit: this.options.rightToLeft ? position - this.maxH.rzsp : this.maxH.rzsp - position\r\n        };\r\n\r\n        this.onStart(pointer, ref, event);\r\n      },\r\n\r\n      /**\r\n       * getValue helper function\r\n       *\r\n       * gets max or min value depending on whether the newPos is outOfBounds above or below the bar and rightToLeft\r\n       *\r\n       * @param {string} type 'max' || 'min' The value we are calculating\r\n       * @param {number} newPos  The new position\r\n       * @param {boolean} outOfBounds Is the new position above or below the max/min?\r\n       * @param {boolean} isAbove Is the new position above the bar if out of bounds?\r\n       *\r\n       * @returns {number}\r\n       */\r\n      getValue: function(type, newPos, outOfBounds, isAbove) {\r\n        var isRTL = this.options.rightToLeft,\r\n          value = null;\r\n\r\n        if (type === 'min') {\r\n          if (outOfBounds) {\r\n            if (isAbove) {\r\n              value = isRTL ? this.minValue : this.maxValue - this.dragging.difference;\r\n            } else {\r\n              value = isRTL ? this.maxValue - this.dragging.difference : this.minValue;\r\n            }\r\n          } else {\r\n            value = isRTL ? this.positionToValue(newPos + this.dragging.lowLimit) : this.positionToValue(newPos - this.dragging.lowLimit)\r\n          }\r\n        } else {\r\n          if (outOfBounds) {\r\n            if (isAbove) {\r\n              value = isRTL ? this.minValue + this.dragging.difference : this.maxValue;\r\n            } else {\r\n              value = isRTL ? this.maxValue : this.minValue + this.dragging.difference;\r\n            }\r\n          } else {\r\n            if (isRTL) {\r\n              value = this.positionToValue(newPos + this.dragging.lowLimit) + this.dragging.difference\r\n            } else {\r\n              value = this.positionToValue(newPos - this.dragging.lowLimit) + this.dragging.difference;\r\n            }\r\n          }\r\n        }\r\n        return this.roundStep(value);\r\n      },\r\n\r\n      /**\r\n       * onDragMove event handler\r\n       *\r\n       * Handles dragging of the middle bar.\r\n       *\r\n       * @param {jqLite} pointer\r\n       * @param {Event}  event The event\r\n       * @returns {undefined}\r\n       */\r\n      onDragMove: function(pointer, event) {\r\n        var newPos = this.getEventPosition(event),\r\n          newMinValue, newMaxValue,\r\n          ceilLimit, flrLimit,\r\n          isUnderFlrLimit, isOverCeilLimit,\r\n          flrH, ceilH;\r\n\r\n        if (this.options.rightToLeft) {\r\n          ceilLimit = this.dragging.lowLimit;\r\n          flrLimit = this.dragging.highLimit;\r\n          flrH = this.maxH;\r\n          ceilH = this.minH;\r\n        } else {\r\n          ceilLimit = this.dragging.highLimit;\r\n          flrLimit = this.dragging.lowLimit;\r\n          flrH = this.minH;\r\n          ceilH = this.maxH;\r\n        }\r\n        isUnderFlrLimit = newPos <= flrLimit;\r\n        isOverCeilLimit = newPos >= this.maxPos - ceilLimit;\r\n\r\n        if (isUnderFlrLimit) {\r\n          if (flrH.rzsp === 0)\r\n            return;\r\n          newMinValue = this.getValue('min', newPos, true, false);\r\n          newMaxValue = this.getValue('max', newPos, true, false);\r\n        } else if (isOverCeilLimit) {\r\n          if (ceilH.rzsp === this.maxPos)\r\n            return;\r\n          newMaxValue = this.getValue('max', newPos, true, true);\r\n          newMinValue = this.getValue('min', newPos, true, true);\r\n        } else {\r\n          newMinValue = this.getValue('min', newPos, false);\r\n          newMaxValue = this.getValue('max', newPos, false);\r\n        }\r\n        this.positionTrackingBar(newMinValue, newMaxValue);\r\n      },\r\n\r\n      /**\r\n       * Set the new value and position for the entire bar\r\n       *\r\n       * @param {number} newMinValue   the new minimum value\r\n       * @param {number} newMaxValue   the new maximum value\r\n       */\r\n      positionTrackingBar: function(newMinValue, newMaxValue) {\r\n\r\n        if (this.options.minLimit != null && newMinValue < this.options.minLimit) {\r\n          newMinValue = this.options.minLimit;\r\n          newMaxValue = newMinValue + this.dragging.difference;\r\n        }\r\n        if (this.options.maxLimit != null && newMaxValue > this.options.maxLimit) {\r\n          newMaxValue = this.options.maxLimit;\r\n          newMinValue = newMaxValue - this.dragging.difference;\r\n        }\r\n\r\n        this.lowValue = newMinValue;\r\n        this.highValue = newMaxValue;\r\n        this.applyLowValue();\r\n        if (this.range)\r\n          this.applyHighValue();\r\n        this.applyModel();\r\n        this.updateHandles('lowValue', this.valueToPosition(newMinValue));\r\n        this.updateHandles('highValue', this.valueToPosition(newMaxValue));\r\n      },\r\n\r\n      /**\r\n       * Set the new value and position to the current tracking handle\r\n       *\r\n       * @param {number} newValue new model value\r\n       */\r\n      positionTrackingHandle: function(newValue) {\r\n        var valueChanged = false;\r\n\r\n        newValue = this.applyMinMaxLimit(newValue);\r\n        if (this.range) {\r\n          if (this.options.pushRange) {\r\n            newValue = this.applyPushRange(newValue);\r\n            valueChanged = true;\r\n          }\r\n          else {\r\n            if (this.options.noSwitching) {\r\n              if (this.tracking === 'lowValue' && newValue > this.highValue)\r\n                newValue = this.applyMinMaxRange(this.highValue);\r\n              else if (this.tracking === 'highValue' && newValue < this.lowValue)\r\n                newValue = this.applyMinMaxRange(this.lowValue);\r\n            }\r\n            newValue = this.applyMinMaxRange(newValue);\r\n            /* This is to check if we need to switch the min and max handles */\r\n            if (this.tracking === 'lowValue' && newValue > this.highValue) {\r\n              this.lowValue = this.highValue;\r\n              this.applyLowValue();\r\n              this.updateHandles(this.tracking, this.maxH.rzsp);\r\n              this.updateAriaAttributes();\r\n              this.tracking = 'highValue';\r\n              this.minH.removeClass('rz-active');\r\n              this.maxH.addClass('rz-active');\r\n              if (this.options.keyboardSupport)\r\n                this.focusElement(this.maxH);\r\n              valueChanged = true;\r\n            }\r\n            else if (this.tracking === 'highValue' && newValue < this.lowValue) {\r\n              this.highValue = this.lowValue;\r\n              this.applyHighValue();\r\n              this.updateHandles(this.tracking, this.minH.rzsp);\r\n              this.updateAriaAttributes();\r\n              this.tracking = 'lowValue';\r\n              this.maxH.removeClass('rz-active');\r\n              this.minH.addClass('rz-active');\r\n              if (this.options.keyboardSupport)\r\n                this.focusElement(this.minH);\r\n              valueChanged = true;\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this[this.tracking] !== newValue) {\r\n          this[this.tracking] = newValue;\r\n          if (this.tracking === 'lowValue')\r\n            this.applyLowValue();\r\n          else\r\n            this.applyHighValue();\r\n          this.updateHandles(this.tracking, this.valueToPosition(newValue));\r\n          this.updateAriaAttributes();\r\n          valueChanged = true;\r\n        }\r\n\r\n        if (valueChanged)\r\n          this.applyModel();\r\n      },\r\n\r\n      applyMinMaxLimit: function(newValue) {\r\n        if (this.options.minLimit != null && newValue < this.options.minLimit)\r\n          return this.options.minLimit;\r\n        if (this.options.maxLimit != null && newValue > this.options.maxLimit)\r\n          return this.options.maxLimit;\r\n        return newValue;\r\n      },\r\n\r\n      applyMinMaxRange: function(newValue) {\r\n        var oppositeValue = this.tracking === 'lowValue' ? this.highValue : this.lowValue,\r\n          difference = Math.abs(newValue - oppositeValue);\r\n        if (this.options.minRange != null) {\r\n          if (difference < this.options.minRange) {\r\n            if (this.tracking === 'lowValue')\r\n              return this.highValue - this.options.minRange;\r\n            else\r\n              return this.lowValue + this.options.minRange;\r\n          }\r\n        }\r\n        if (this.options.maxRange != null) {\r\n          if (difference > this.options.maxRange) {\r\n            if (this.tracking === 'lowValue')\r\n              return this.highValue - this.options.maxRange;\r\n            else\r\n              return this.lowValue + this.options.maxRange;\r\n          }\r\n        }\r\n        return newValue;\r\n      },\r\n\r\n      applyPushRange: function(newValue) {\r\n        var difference = this.tracking === 'lowValue' ? this.highValue - newValue : newValue - this.lowValue,\r\n          minRange = this.options.minRange !== null ? this.options.minRange : this.options.step,\r\n          maxRange = this.options.maxRange;\r\n        // if smaller than minRange\r\n        if (difference < minRange) {\r\n          if (this.tracking === 'lowValue') {\r\n            this.highValue = Math.min(newValue + minRange, this.maxValue);\r\n            newValue = this.highValue - minRange;\r\n            this.applyHighValue();\r\n            this.updateHandles('highValue', this.valueToPosition(this.highValue));\r\n          }\r\n          else {\r\n            this.lowValue = Math.max(newValue - minRange, this.minValue);\r\n            newValue = this.lowValue + minRange;\r\n            this.applyLowValue();\r\n            this.updateHandles('lowValue', this.valueToPosition(this.lowValue));\r\n          }\r\n          this.updateAriaAttributes();\r\n        }\r\n        // if greater than maxRange\r\n        else if (maxRange !== null && difference > maxRange) {\r\n          if (this.tracking === 'lowValue') {\r\n            this.highValue = newValue + maxRange;\r\n            this.applyHighValue();\r\n            this.updateHandles('highValue', this.valueToPosition(this.highValue));\r\n          }\r\n          else {\r\n            this.lowValue = newValue - maxRange;\r\n            this.applyLowValue();\r\n            this.updateHandles('lowValue', this.valueToPosition(this.lowValue));\r\n          }\r\n          this.updateAriaAttributes();\r\n        }\r\n        return newValue;\r\n      },\r\n\r\n      /**\r\n       * Apply the model values using scope.$apply.\r\n       * We wrap it with the internalChange flag to avoid the watchers to be called\r\n       */\r\n      applyModel: function() {\r\n        this.internalChange = true;\r\n        this.scope.$apply();\r\n        this.callOnChange();\r\n        this.internalChange = false;\r\n      },\r\n\r\n      /**\r\n       * Call the onStart callback if defined\r\n       * The callback call is wrapped in a $evalAsync to ensure that its result will be applied to the scope.\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      callOnStart: function() {\r\n        if (this.options.onStart) {\r\n          var self = this,\r\n            pointerType = this.tracking === 'lowValue' ? 'min' : 'max';\r\n          this.scope.$evalAsync(function() {\r\n            self.options.onStart(self.options.id, self.scope.rzSliderModel, self.scope.rzSliderHigh, pointerType);\r\n          });\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Call the onChange callback if defined\r\n       * The callback call is wrapped in a $evalAsync to ensure that its result will be applied to the scope.\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      callOnChange: function() {\r\n        if (this.options.onChange) {\r\n          var self = this,\r\n            pointerType = this.tracking === 'lowValue' ? 'min' : 'max';\r\n          this.scope.$evalAsync(function() {\r\n            self.options.onChange(self.options.id, self.scope.rzSliderModel, self.scope.rzSliderHigh, pointerType);\r\n          });\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Call the onEnd callback if defined\r\n       * The callback call is wrapped in a $evalAsync to ensure that its result will be applied to the scope.\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      callOnEnd: function() {\r\n        if (this.options.onEnd) {\r\n          var self = this,\r\n            pointerType = this.tracking === 'lowValue' ? 'min' : 'max';\r\n          this.scope.$evalAsync(function() {\r\n            self.options.onEnd(self.options.id, self.scope.rzSliderModel, self.scope.rzSliderHigh, pointerType);\r\n          });\r\n        }\r\n        this.scope.$emit('slideEnded');\r\n      }\r\n    };\r\n\r\n    return Slider;\r\n  }])\r\n\r\n  .directive('rzslider', ['RzSlider', function(RzSlider) {\r\n    'use strict';\r\n\r\n    return {\r\n      restrict: 'AE',\r\n      replace: true,\r\n      scope: {\r\n        rzSliderModel: '=?',\r\n        rzSliderHigh: '=?',\r\n        rzSliderOptions: '&?',\r\n        rzSliderTplUrl: '@'\r\n      },\r\n\r\n      /**\r\n       * Return template URL\r\n       *\r\n       * @param {jqLite} elem\r\n       * @param {Object} attrs\r\n       * @return {string}\r\n       */\r\n      templateUrl: function(elem, attrs) {\r\n        //noinspection JSUnresolvedVariable\r\n        return attrs.rzSliderTplUrl || 'rzSliderTpl.html';\r\n      },\r\n\r\n      link: function(scope, elem) {\r\n        scope.slider = new RzSlider(scope, elem); //attach on scope so we can test it\r\n      }\r\n    };\r\n  }]);\r\n\r\n  // IDE assist\r\n\r\n  /**\r\n   * @name ngScope\r\n   *\r\n   * @property {number} rzSliderModel\r\n   * @property {number} rzSliderHigh\r\n   * @property {Object} rzSliderOptions\r\n   */\r\n\r\n  /**\r\n   * @name jqLite\r\n   *\r\n   * @property {number|undefined} rzsp rzslider label position position\r\n   * @property {number|undefined} rzsd rzslider element dimension\r\n   * @property {string|undefined} rzsv rzslider label value/text\r\n   * @property {Function} css\r\n   * @property {Function} text\r\n   */\r\n\r\n  /**\r\n   * @name Event\r\n   * @property {Array} touches\r\n   * @property {Event} originalEvent\r\n   */\r\n\r\n  /**\r\n   * @name ThrottleOptions\r\n   *\r\n   * @property {boolean} leading\r\n   * @property {boolean} trailing\r\n   */\r\n\r\n  module.run(['$templateCache', function($templateCache) {\r\n  'use strict';\r\n\r\n  $templateCache.put('rzSliderTpl.html',\r\n    \"<div class=rzslider><span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class=\\\"rz-bar rz-selection\\\" ng-style=barStyle></span></span> <span class=\\\"rz-pointer rz-pointer-min\\\" ng-style=minPointerStyle></span> <span class=\\\"rz-pointer rz-pointer-max\\\" ng-style=maxPointerStyle></span> <span class=\\\"rz-bubble rz-limit rz-floor\\\"></span> <span class=\\\"rz-bubble rz-limit rz-ceil\\\"></span> <span class=rz-bubble></span> <span class=rz-bubble></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat=\\\"t in ticks track by $index\\\" class=rz-tick ng-class=\\\"{'rz-selected': t.selected}\\\" ng-style=t.style ng-attr-uib-tooltip=\\\"{{ t.tooltip }}\\\" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body=\\\"{{ t.tooltip ? true : undefined}}\\\"><span ng-if=\\\"t.value != null\\\" class=rz-tick-value ng-attr-uib-tooltip=\\\"{{ t.valueTooltip }}\\\" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span> <span ng-if=\\\"t.legend != null\\\" class=rz-tick-legend>{{ t.legend }}</span></li></ul></div>\"\r\n  );\r\n\r\n}]);\r\n\r\n  return module.name\r\n}));","/**\n * State-based routing for AngularJS 1.x\n * @version v1.0.0\n * @link https://ui-router.github.io\n * @license MIT License, http://www.opensource.org/licenses/MIT\n */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('angular')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'angular'], factory) :\n    (factory((global['@uirouter/angularjs'] = global['@uirouter/angularjs'] || {}),global.angular));\n}(this, (function (exports,ng_from_import) { 'use strict';\n\n/**\n * Higher order functions\n *\n * These utility functions are exported, but are subject to change without notice.\n *\n * @module common_hof\n */ /** */\n/**\n * Returns a new function for [Partial Application](https://en.wikipedia.org/wiki/Partial_application) of the original function.\n *\n * Given a function with N parameters, returns a new function that supports partial application.\n * The new function accepts anywhere from 1 to N parameters.  When that function is called with M parameters,\n * where M is less than N, it returns a new function that accepts the remaining parameters.  It continues to\n * accept more parameters until all N parameters have been supplied.\n *\n *\n * This contrived example uses a partially applied function as an predicate, which returns true\n * if an object is found in both arrays.\n * @example\n * ```\n * // returns true if an object is in both of the two arrays\n * function inBoth(array1, array2, object) {\n *   return array1.indexOf(object) !== -1 &&\n *          array2.indexOf(object) !== 1;\n * }\n * let obj1, obj2, obj3, obj4, obj5, obj6, obj7\n * let foos = [obj1, obj3]\n * let bars = [obj3, obj4, obj5]\n *\n * // A curried \"copy\" of inBoth\n * let curriedInBoth = curry(inBoth);\n * // Partially apply both the array1 and array2\n * let inFoosAndBars = curriedInBoth(foos, bars);\n *\n * // Supply the final argument; since all arguments are\n * // supplied, the original inBoth function is then called.\n * let obj1InBoth = inFoosAndBars(obj1); // false\n *\n * // Use the inFoosAndBars as a predicate.\n * // Filter, on each iteration, supplies the final argument\n * let allObjs = [ obj1, obj2, obj3, obj4, obj5, obj6, obj7 ];\n * let foundInBoth = allObjs.filter(inFoosAndBars); // [ obj3 ]\n *\n * ```\n *\n * Stolen from: http://stackoverflow.com/questions/4394747/javascript-curry-function\n *\n * @param fn\n * @returns {*|function(): (*|any)}\n */\nfunction curry(fn) {\n    var initial_args = [].slice.apply(arguments, [1]);\n    var func_args_length = fn.length;\n    function curried(args) {\n        if (args.length >= func_args_length)\n            return fn.apply(null, args);\n        return function () {\n            return curried(args.concat([].slice.apply(arguments)));\n        };\n    }\n    return curried(initial_args);\n}\n/**\n * Given a varargs list of functions, returns a function that composes the argument functions, right-to-left\n * given: f(x), g(x), h(x)\n * let composed = compose(f,g,h)\n * then, composed is: f(g(h(x)))\n */\nfunction compose() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function () {\n        var i = start, result = args[start].apply(this, arguments);\n        while (i--)\n            result = args[i].call(this, result);\n        return result;\n    };\n}\n/**\n * Given a varargs list of functions, returns a function that is composes the argument functions, left-to-right\n * given: f(x), g(x), h(x)\n * let piped = pipe(f,g,h);\n * then, piped is: h(g(f(x)))\n */\nfunction pipe() {\n    var funcs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        funcs[_i] = arguments[_i];\n    }\n    return compose.apply(null, [].slice.call(arguments).reverse());\n}\n/**\n * Given a property name, returns a function that returns that property from an object\n * let obj = { foo: 1, name: \"blarg\" };\n * let getName = prop(\"name\");\n * getName(obj) === \"blarg\"\n */\nvar prop = function (name) {\n    return function (obj) { return obj && obj[name]; };\n};\n/**\n * Given a property name and a value, returns a function that returns a boolean based on whether\n * the passed object has a property that matches the value\n * let obj = { foo: 1, name: \"blarg\" };\n * let getName = propEq(\"name\", \"blarg\");\n * getName(obj) === true\n */\nvar propEq = curry(function (name, val, obj) { return obj && obj[name] === val; });\n/**\n * Given a dotted property name, returns a function that returns a nested property from an object, or undefined\n * let obj = { id: 1, nestedObj: { foo: 1, name: \"blarg\" }, };\n * let getName = prop(\"nestedObj.name\");\n * getName(obj) === \"blarg\"\n * let propNotFound = prop(\"this.property.doesnt.exist\");\n * propNotFound(obj) === undefined\n */\nvar parse = function (name) {\n    return pipe.apply(null, name.split(\".\").map(prop));\n};\n/**\n * Given a function that returns a truthy or falsey value, returns a\n * function that returns the opposite (falsey or truthy) value given the same inputs\n */\nvar not = function (fn) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return !fn.apply(null, args);\n    };\n};\n/**\n * Given two functions that return truthy or falsey values, returns a function that returns truthy\n * if both functions return truthy for the given arguments\n */\nfunction and(fn1, fn2) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return fn1.apply(null, args) && fn2.apply(null, args);\n    };\n}\n/**\n * Given two functions that return truthy or falsey values, returns a function that returns truthy\n * if at least one of the functions returns truthy for the given arguments\n */\nfunction or(fn1, fn2) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return fn1.apply(null, args) || fn2.apply(null, args);\n    };\n}\n/**\n * Check if all the elements of an array match a predicate function\n *\n * @param fn1 a predicate function `fn1`\n * @returns a function which takes an array and returns true if `fn1` is true for all elements of the array\n */\nvar all = function (fn1) {\n    return function (arr) { return arr.reduce(function (b, x) { return b && !!fn1(x); }, true); };\n};\nvar any = function (fn1) {\n    return function (arr) { return arr.reduce(function (b, x) { return b || !!fn1(x); }, false); };\n};\n/** Given a class, returns a Predicate function that returns true if the object is of that class */\nvar is = function (ctor) {\n    return function (obj) {\n        return (obj != null && obj.constructor === ctor || obj instanceof ctor);\n    };\n};\n/** Given a value, returns a Predicate function that returns true if another value is === equal to the original value */\nvar eq = function (val) { return function (other) {\n    return val === other;\n}; };\n/** Given a value, returns a function which returns the value */\nvar val = function (v) { return function () { return v; }; };\nfunction invoke(fnName, args) {\n    return function (obj) {\n        return obj[fnName].apply(obj, args);\n    };\n}\n/**\n * Sorta like Pattern Matching (a functional programming conditional construct)\n *\n * See http://c2.com/cgi/wiki?PatternMatching\n *\n * This is a conditional construct which allows a series of predicates and output functions\n * to be checked and then applied.  Each predicate receives the input.  If the predicate\n * returns truthy, then its matching output function (mapping function) is provided with\n * the input and, then the result is returned.\n *\n * Each combination (2-tuple) of predicate + output function should be placed in an array\n * of size 2: [ predicate, mapFn ]\n *\n * These 2-tuples should be put in an outer array.\n *\n * @example\n * ```\n *\n * // Here's a 2-tuple where the first element is the isString predicate\n * // and the second element is a function that returns a description of the input\n * let firstTuple = [ angular.isString, (input) => `Heres your string ${input}` ];\n *\n * // Second tuple: predicate \"isNumber\", mapfn returns a description\n * let secondTuple = [ angular.isNumber, (input) => `(${input}) That's a number!` ];\n *\n * let third = [ (input) => input === null,  (input) => `Oh, null...` ];\n *\n * let fourth = [ (input) => input === undefined,  (input) => `notdefined` ];\n *\n * let descriptionOf = pattern([ firstTuple, secondTuple, third, fourth ]);\n *\n * console.log(descriptionOf(undefined)); // 'notdefined'\n * console.log(descriptionOf(55)); // '(55) That's a number!'\n * console.log(descriptionOf(\"foo\")); // 'Here's your string foo'\n * ```\n *\n * @param struct A 2D array.  Each element of the array should be an array, a 2-tuple,\n * with a Predicate and a mapping/output function\n * @returns {function(any): *}\n */\nfunction pattern(struct) {\n    return function (x) {\n        for (var i = 0; i < struct.length; i++) {\n            if (struct[i][0](x))\n                return struct[i][1](x);\n        }\n    };\n}\n\n/**\n * @coreapi\n * @module core\n */\n/**\n * Matches state names using glob-like pattern strings.\n *\n * Globs can be used in specific APIs including:\n *\n * - [[StateService.is]]\n * - [[StateService.includes]]\n * - The first argument to Hook Registration functions like [[TransitionService.onStart]]\n *    - [[HookMatchCriteria]] and [[HookMatchCriterion]]\n *\n * A `Glob` string is a pattern which matches state names.\n * Nested state names are split into segments (separated by a dot) when processing.\n * The state named `foo.bar.baz` is split into three segments ['foo', 'bar', 'baz']\n *\n * Globs work according to the following rules:\n *\n * ### Exact match:\n *\n * The glob `'A.B'` matches the state named exactly `'A.B'`.\n *\n * | Glob        |Matches states named|Does not match state named|\n * |:------------|:--------------------|:---------------------|\n * | `'A'`       | `'A'`               | `'B'` , `'A.C'`      |\n * | `'A.B'`     | `'A.B'`             | `'A'` , `'A.B.C'`    |\n * | `'foo'`     | `'foo'`             | `'FOO'` , `'foo.bar'`|\n *\n * ### Single star (`*`)\n *\n * A single star (`*`) is a wildcard that matches exactly one segment.\n *\n * | Glob        |Matches states named  |Does not match state named |\n * |:------------|:---------------------|:--------------------------|\n * | `'*'`       | `'A'` , `'Z'`        | `'A.B'` , `'Z.Y.X'`       |\n * | `'A.*'`     | `'A.B'` , `'A.C'`    | `'A'` , `'A.B.C'`         |\n * | `'A.*.*'`   | `'A.B.C'` , `'A.X.Y'`| `'A'`, `'A.B'` , `'Z.Y.X'`|\n *\n * ### Double star (`**`)\n *\n * A double star (`'**'`) is a wildcard that matches *zero or more segments*\n *\n * | Glob        |Matches states named                           |Does not match state named         |\n * |:------------|:----------------------------------------------|:----------------------------------|\n * | `'**'`      | `'A'` , `'A.B'`, `'Z.Y.X'`                    | (matches all states)              |\n * | `'A.**'`    | `'A'` , `'A.B'` , `'A.C.X'`                   | `'Z.Y.X'`                         |\n * | `'**.X'`    | `'X'` , `'A.X'` , `'Z.Y.X'`                   | `'A'` , `'A.login.Z'`             |\n * | `'A.**.X'`  | `'A.X'` , `'A.B.X'` , `'A.B.C.X'`             | `'A'` , `'A.B.C'`                 |\n *\n */\nvar Glob = (function () {\n    function Glob(text) {\n        this.text = text;\n        this.glob = text.split('.');\n        var regexpString = this.text.split('.')\n            .map(function (seg) {\n            if (seg === '**')\n                return '(?:|(?:\\\\.[^.]*)*)';\n            if (seg === '*')\n                return '\\\\.[^.]*';\n            return '\\\\.' + seg;\n        }).join('');\n        this.regexp = new RegExp(\"^\" + regexpString + \"$\");\n    }\n    Glob.prototype.matches = function (name) {\n        return this.regexp.test('.' + name);\n    };\n    /** Returns true if the string has glob-like characters in it */\n    Glob.is = function (text) {\n        return !!/[!,*]+/.exec(text);\n    };\n    /** Returns a glob from the string, or null if the string isn't Glob-like */\n    Glob.fromString = function (text) {\n        return Glob.is(text) ? new Glob(text) : null;\n    };\n    return Glob;\n}());\n\n/**\n * Internal representation of a UI-Router state.\n *\n * Instances of this class are created when a [[StateDeclaration]] is registered with the [[StateRegistry]].\n *\n * A registered [[StateDeclaration]] is augmented with a getter ([[StateDeclaration.$$state]]) which returns the corresponding [[StateObject]] object.\n *\n * This class prototypally inherits from the corresponding [[StateDeclaration]].\n * Each of its own properties (i.e., `hasOwnProperty`) are built using builders from the [[StateBuilder]].\n */\nvar StateObject = (function () {\n    /** @deprecated use State.create() */\n    function StateObject(config) {\n        return StateObject.create(config || {});\n    }\n    /**\n     * Create a state object to put the private/internal implementation details onto.\n     * The object's prototype chain looks like:\n     * (Internal State Object) -> (Copy of State.prototype) -> (State Declaration object) -> (State Declaration's prototype...)\n     *\n     * @param stateDecl the user-supplied State Declaration\n     * @returns {StateObject} an internal State object\n     */\n    StateObject.create = function (stateDecl) {\n        stateDecl = StateObject.isStateClass(stateDecl) ? new stateDecl() : stateDecl;\n        var state = inherit(inherit(stateDecl, StateObject.prototype));\n        stateDecl.$$state = function () { return state; };\n        state.self = stateDecl;\n        state.__stateObjectCache = {\n            nameGlob: Glob.fromString(state.name) // might return null\n        };\n        return state;\n    };\n    /**\n     * Returns true if the provided parameter is the same state.\n     *\n     * Compares the identity of the state against the passed value, which is either an object\n     * reference to the actual `State` instance, the original definition object passed to\n     * `$stateProvider.state()`, or the fully-qualified name.\n     *\n     * @param ref Can be one of (a) a `State` instance, (b) an object that was passed\n     *        into `$stateProvider.state()`, (c) the fully-qualified name of a state as a string.\n     * @returns Returns `true` if `ref` matches the current `State` instance.\n     */\n    StateObject.prototype.is = function (ref) {\n        return this === ref || this.self === ref || this.fqn() === ref;\n    };\n    /**\n     * @deprecated this does not properly handle dot notation\n     * @returns Returns a dot-separated name of the state.\n     */\n    StateObject.prototype.fqn = function () {\n        if (!this.parent || !(this.parent instanceof this.constructor))\n            return this.name;\n        var name = this.parent.fqn();\n        return name ? name + \".\" + this.name : this.name;\n    };\n    /**\n     * Returns the root node of this state's tree.\n     *\n     * @returns The root of this state's tree.\n     */\n    StateObject.prototype.root = function () {\n        return this.parent && this.parent.root() || this;\n    };\n    /**\n     * Gets the state's `Param` objects\n     *\n     * Gets the list of [[Param]] objects owned by the state.\n     * If `opts.inherit` is true, it also includes the ancestor states' [[Param]] objects.\n     * If `opts.matchingKeys` exists, returns only `Param`s whose `id` is a key on the `matchingKeys` object\n     *\n     * @param opts options\n     */\n    StateObject.prototype.parameters = function (opts) {\n        opts = defaults(opts, { inherit: true, matchingKeys: null });\n        var inherited = opts.inherit && this.parent && this.parent.parameters() || [];\n        return inherited.concat(values(this.params))\n            .filter(function (param) { return !opts.matchingKeys || opts.matchingKeys.hasOwnProperty(param.id); });\n    };\n    /**\n     * Returns a single [[Param]] that is owned by the state\n     *\n     * If `opts.inherit` is true, it also searches the ancestor states` [[Param]]s.\n     * @param id the name of the [[Param]] to return\n     * @param opts options\n     */\n    StateObject.prototype.parameter = function (id, opts) {\n        if (opts === void 0) { opts = {}; }\n        return (this.url && this.url.parameter(id, opts) ||\n            find(values(this.params), propEq('id', id)) ||\n            opts.inherit && this.parent && this.parent.parameter(id));\n    };\n    StateObject.prototype.toString = function () {\n        return this.fqn();\n    };\n    return StateObject;\n}());\n/** Predicate which returns true if the object is an class with @State() decorator */\nStateObject.isStateClass = function (stateDecl) {\n    return isFunction(stateDecl) && stateDecl['__uiRouterState'] === true;\n};\n/** Predicate which returns true if the object is an internal [[StateObject]] object */\nStateObject.isState = function (obj) {\n    return isObject(obj['__stateObjectCache']);\n};\n\n/** Predicates\n *\n * These predicates return true/false based on the input.\n * Although these functions are exported, they are subject to change without notice.\n *\n * @module common_predicates\n */\n/** */\nvar toStr = Object.prototype.toString;\nvar tis = function (t) { return function (x) { return typeof (x) === t; }; };\nvar isUndefined = tis('undefined');\nvar isDefined = not(isUndefined);\nvar isNull = function (o) { return o === null; };\nvar isNullOrUndefined = or(isNull, isUndefined);\nvar isFunction = tis('function');\nvar isNumber = tis('number');\nvar isString = tis('string');\nvar isObject = function (x) { return x !== null && typeof x === 'object'; };\nvar isArray = Array.isArray;\nvar isDate = (function (x) { return toStr.call(x) === '[object Date]'; });\nvar isRegExp = (function (x) { return toStr.call(x) === '[object RegExp]'; });\nvar isState = StateObject.isState;\n/**\n * Predicate which checks if a value is injectable\n *\n * A value is \"injectable\" if it is a function, or if it is an ng1 array-notation-style array\n * where all the elements in the array are Strings, except the last one, which is a Function\n */\nfunction isInjectable(val$$1) {\n    if (isArray(val$$1) && val$$1.length) {\n        var head = val$$1.slice(0, -1), tail = val$$1.slice(-1);\n        return !(head.filter(not(isString)).length || tail.filter(not(isFunction)).length);\n    }\n    return isFunction(val$$1);\n}\n/**\n * Predicate which checks if a value looks like a Promise\n *\n * It is probably a Promise if it's an object, and it has a `then` property which is a Function\n */\nvar isPromise = and(isObject, pipe(prop('then'), isFunction));\n\nvar notImplemented = function (fnname) { return function () {\n    throw new Error(fnname + \"(): No coreservices implementation for UI-Router is loaded.\");\n}; };\nvar services = {\n    $q: undefined,\n    $injector: undefined,\n};\n\n/**\n * Random utility functions used in the UI-Router code\n *\n * These functions are exported, but are subject to change without notice.\n *\n * @preferred\n * @module common\n */\n/** for typedoc */\nvar w = typeof window === 'undefined' ? {} : window;\nvar angular$1 = w.angular || {};\nvar fromJson = angular$1.fromJson || JSON.parse.bind(JSON);\nvar toJson = angular$1.toJson || JSON.stringify.bind(JSON);\nvar copy = angular$1.copy || _copy;\nvar forEach = angular$1.forEach || _forEach;\nvar extend = Object.assign || _extend;\nvar equals = angular$1.equals || _equals;\nfunction identity(x) { return x; }\nfunction noop$1() { }\n/**\n * Builds proxy functions on the `to` object which pass through to the `from` object.\n *\n * For each key in `fnNames`, creates a proxy function on the `to` object.\n * The proxy function calls the real function on the `from` object.\n *\n *\n * #### Example:\n * This example creates an new class instance whose functions are prebound to the new'd object.\n * ```js\n * class Foo {\n *   constructor(data) {\n *     // Binds all functions from Foo.prototype to 'this',\n *     // then copies them to 'this'\n *     bindFunctions(Foo.prototype, this, this);\n *     this.data = data;\n *   }\n *\n *   log() {\n *     console.log(this.data);\n *   }\n * }\n *\n * let myFoo = new Foo([1,2,3]);\n * var logit = myFoo.log;\n * logit(); // logs [1, 2, 3] from the myFoo 'this' instance\n * ```\n *\n * #### Example:\n * This example creates a bound version of a service function, and copies it to another object\n * ```\n *\n * var SomeService = {\n *   this.data = [3, 4, 5];\n *   this.log = function() {\n *     console.log(this.data);\n *   }\n * }\n *\n * // Constructor fn\n * function OtherThing() {\n *   // Binds all functions from SomeService to SomeService,\n *   // then copies them to 'this'\n *   bindFunctions(SomeService, this, SomeService);\n * }\n *\n * let myOtherThing = new OtherThing();\n * myOtherThing.log(); // logs [3, 4, 5] from SomeService's 'this'\n * ```\n *\n * @param source A function that returns the source object which contains the original functions to be bound\n * @param target A function that returns the target object which will receive the bound functions\n * @param bind A function that returns the object which the functions will be bound to\n * @param fnNames The function names which will be bound (Defaults to all the functions found on the 'from' object)\n * @param latebind If true, the binding of the function is delayed until the first time it's invoked\n */\nfunction createProxyFunctions(source, target, bind, fnNames, latebind) {\n    if (latebind === void 0) { latebind = false; }\n    var bindFunction = function (fnName) {\n        return source()[fnName].bind(bind());\n    };\n    var makeLateRebindFn = function (fnName) { return function lateRebindFunction() {\n        target[fnName] = bindFunction(fnName);\n        return target[fnName].apply(null, arguments);\n    }; };\n    fnNames = fnNames || Object.keys(source());\n    return fnNames.reduce(function (acc, name) {\n        acc[name] = latebind ? makeLateRebindFn(name) : bindFunction(name);\n        return acc;\n    }, target);\n}\n/**\n * prototypal inheritance helper.\n * Creates a new object which has `parent` object as its prototype, and then copies the properties from `extra` onto it\n */\nvar inherit = function (parent, extra) {\n    return extend(Object.create(parent), extra);\n};\n/** Given an array, returns true if the object is found in the array, (using indexOf) */\nvar inArray = curry(_inArray);\nfunction _inArray(array, obj) {\n    return array.indexOf(obj) !== -1;\n}\n/**\n * Given an array, and an item, if the item is found in the array, it removes it (in-place).\n * The same array is returned\n */\nvar removeFrom = curry(_removeFrom);\nfunction _removeFrom(array, obj) {\n    var idx = array.indexOf(obj);\n    if (idx >= 0)\n        array.splice(idx, 1);\n    return array;\n}\n/** pushes a values to an array and returns the value */\nvar pushTo = curry(_pushTo);\nfunction _pushTo(arr, val$$1) {\n    return (arr.push(val$$1), val$$1);\n}\n/** Given an array of (deregistration) functions, calls all functions and removes each one from the source array */\nvar deregAll = function (functions) {\n    return functions.slice().forEach(function (fn) {\n        typeof fn === 'function' && fn();\n        removeFrom(functions, fn);\n    });\n};\n/**\n * Applies a set of defaults to an options object.  The options object is filtered\n * to only those properties of the objects in the defaultsList.\n * Earlier objects in the defaultsList take precedence when applying defaults.\n */\nfunction defaults(opts) {\n    var defaultsList = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        defaultsList[_i - 1] = arguments[_i];\n    }\n    var _defaultsList = defaultsList.concat({}).reverse();\n    var defaultVals = extend.apply(null, _defaultsList);\n    return extend({}, defaultVals, pick(opts || {}, Object.keys(defaultVals)));\n}\n/** Reduce function that merges each element of the list into a single object, using extend */\nvar mergeR = function (memo, item) { return extend(memo, item); };\n/**\n * Finds the common ancestor path between two states.\n *\n * @param {Object} first The first state.\n * @param {Object} second The second state.\n * @return {Array} Returns an array of state names in descending order, not including the root.\n */\nfunction ancestors(first, second) {\n    var path = [];\n    for (var n in first.path) {\n        if (first.path[n] !== second.path[n])\n            break;\n        path.push(first.path[n]);\n    }\n    return path;\n}\n/**\n * Return a copy of the object only containing the whitelisted properties.\n\n * @example\n * ```\n *\n * var foo = { a: 1, b: 2, c: 3 };\n * var ab = pick(foo, ['a', 'b']); // { a: 1, b: 2 }\n * ```\n * @param obj the source object\n * @param propNames an Array of strings, which are the whitelisted property names\n */\nfunction pick(obj, propNames) {\n    var copy = {};\n    // propNames.forEach(prop => { if (obj.hasOwnProperty(prop)) copy[prop] = obj[prop] });\n    propNames.forEach(function (prop$$1) { if (isDefined(obj[prop$$1]))\n        copy[prop$$1] = obj[prop$$1]; });\n    return copy;\n}\n/**\n * Return a copy of the object omitting the blacklisted properties.\n *\n * @example\n * ```\n *\n * var foo = { a: 1, b: 2, c: 3 };\n * var ab = omit(foo, ['a', 'b']); // { c: 3 }\n * ```\n * @param obj the source object\n * @param propNames an Array of strings, which are the blacklisted property names\n */\nfunction omit(obj, propNames) {\n    return Object.keys(obj)\n        .filter(not(inArray(propNames)))\n        .reduce(function (acc, key) { return (acc[key] = obj[key], acc); }, {});\n}\n/**\n * Maps an array, or object to a property (by name)\n */\nfunction pluck(collection, propName) {\n    return map(collection, prop(propName));\n}\n/** Filters an Array or an Object's properties based on a predicate */\nfunction filter(collection, callback) {\n    var arr = isArray(collection), result = arr ? [] : {};\n    var accept = arr ? function (x) { return result.push(x); } : function (x, key) { return result[key] = x; };\n    forEach(collection, function (item, i) {\n        if (callback(item, i))\n            accept(item, i);\n    });\n    return result;\n}\n/** Finds an object from an array, or a property of an object, that matches a predicate */\nfunction find(collection, callback) {\n    var result;\n    forEach(collection, function (item, i) {\n        if (result)\n            return;\n        if (callback(item, i))\n            result = item;\n    });\n    return result;\n}\n/** Given an object, returns a new object, where each property is transformed by the callback function */\nvar mapObj = map;\n/** Maps an array or object properties using a callback function */\nfunction map(collection, callback) {\n    var result = isArray(collection) ? [] : {};\n    forEach(collection, function (item, i) { return result[i] = callback(item, i); });\n    return result;\n}\n/**\n * Given an object, return its enumerable property values\n *\n * @example\n * ```\n *\n * let foo = { a: 1, b: 2, c: 3 }\n * let vals = values(foo); // [ 1, 2, 3 ]\n * ```\n */\nvar values = function (obj) {\n    return Object.keys(obj).map(function (key) { return obj[key]; });\n};\n/**\n * Reduce function that returns true if all of the values are truthy.\n *\n * @example\n * ```\n *\n * let vals = [ 1, true, {}, \"hello world\"];\n * vals.reduce(allTrueR, true); // true\n *\n * vals.push(0);\n * vals.reduce(allTrueR, true); // false\n * ```\n */\nvar allTrueR = function (memo, elem) { return memo && elem; };\n/**\n * Reduce function that returns true if any of the values are truthy.\n *\n *  * @example\n * ```\n *\n * let vals = [ 0, null, undefined ];\n * vals.reduce(anyTrueR, true); // false\n *\n * vals.push(\"hello world\");\n * vals.reduce(anyTrueR, true); // true\n * ```\n */\nvar anyTrueR = function (memo, elem) { return memo || elem; };\n/**\n * Reduce function which un-nests a single level of arrays\n * @example\n * ```\n *\n * let input = [ [ \"a\", \"b\" ], [ \"c\", \"d\" ], [ [ \"double\", \"nested\" ] ] ];\n * input.reduce(unnestR, []) // [ \"a\", \"b\", \"c\", \"d\", [ \"double, \"nested\" ] ]\n * ```\n */\nvar unnestR = function (memo, elem) { return memo.concat(elem); };\n/**\n * Reduce function which recursively un-nests all arrays\n *\n * @example\n * ```\n *\n * let input = [ [ \"a\", \"b\" ], [ \"c\", \"d\" ], [ [ \"double\", \"nested\" ] ] ];\n * input.reduce(unnestR, []) // [ \"a\", \"b\", \"c\", \"d\", \"double, \"nested\" ]\n * ```\n */\nvar flattenR = function (memo, elem) {\n    return isArray(elem) ? memo.concat(elem.reduce(flattenR, [])) : pushR(memo, elem);\n};\n/**\n * Reduce function that pushes an object to an array, then returns the array.\n * Mostly just for [[flattenR]] and [[uniqR]]\n */\nfunction pushR(arr, obj) {\n    arr.push(obj);\n    return arr;\n}\n/** Reduce function that filters out duplicates */\nvar uniqR = function (acc, token) {\n    return inArray(acc, token) ? acc : pushR(acc, token);\n};\n/**\n * Return a new array with a single level of arrays unnested.\n *\n * @example\n * ```\n *\n * let input = [ [ \"a\", \"b\" ], [ \"c\", \"d\" ], [ [ \"double\", \"nested\" ] ] ];\n * unnest(input) // [ \"a\", \"b\", \"c\", \"d\", [ \"double, \"nested\" ] ]\n * ```\n */\nvar unnest = function (arr) { return arr.reduce(unnestR, []); };\n/**\n * Return a completely flattened version of an array.\n *\n * @example\n * ```\n *\n * let input = [ [ \"a\", \"b\" ], [ \"c\", \"d\" ], [ [ \"double\", \"nested\" ] ] ];\n * flatten(input) // [ \"a\", \"b\", \"c\", \"d\", \"double, \"nested\" ]\n * ```\n */\nvar flatten = function (arr) { return arr.reduce(flattenR, []); };\n/**\n * Given a .filter Predicate, builds a .filter Predicate which throws an error if any elements do not pass.\n * @example\n * ```\n *\n * let isNumber = (obj) => typeof(obj) === 'number';\n * let allNumbers = [ 1, 2, 3, 4, 5 ];\n * allNumbers.filter(assertPredicate(isNumber)); //OK\n *\n * let oneString = [ 1, 2, 3, 4, \"5\" ];\n * oneString.filter(assertPredicate(isNumber, \"Not all numbers\")); // throws Error(\"\"Not all numbers\"\");\n * ```\n */\nvar assertPredicate = assertFn;\n/**\n * Given a .map function, builds a .map function which throws an error if any mapped elements do not pass a truthyness test.\n * @example\n * ```\n *\n * var data = { foo: 1, bar: 2 };\n *\n * let keys = [ 'foo', 'bar' ]\n * let values = keys.map(assertMap(key => data[key], \"Key not found\"));\n * // values is [1, 2]\n *\n * let keys = [ 'foo', 'bar', 'baz' ]\n * let values = keys.map(assertMap(key => data[key], \"Key not found\"));\n * // throws Error(\"Key not found\")\n * ```\n */\nvar assertMap = assertFn;\nfunction assertFn(predicateOrMap, errMsg) {\n    if (errMsg === void 0) { errMsg = \"assert failure\"; }\n    return function (obj) {\n        var result = predicateOrMap(obj);\n        if (!result) {\n            throw new Error(isFunction(errMsg) ? errMsg(obj) : errMsg);\n        }\n        return result;\n    };\n}\n/**\n * Like _.pairs: Given an object, returns an array of key/value pairs\n *\n * @example\n * ```\n *\n * pairs({ foo: \"FOO\", bar: \"BAR }) // [ [ \"foo\", \"FOO\" ], [ \"bar\": \"BAR\" ] ]\n * ```\n */\nvar pairs = function (obj) {\n    return Object.keys(obj).map(function (key) { return [key, obj[key]]; });\n};\n/**\n * Given two or more parallel arrays, returns an array of tuples where\n * each tuple is composed of [ a[i], b[i], ... z[i] ]\n *\n * @example\n * ```\n *\n * let foo = [ 0, 2, 4, 6 ];\n * let bar = [ 1, 3, 5, 7 ];\n * let baz = [ 10, 30, 50, 70 ];\n * arrayTuples(foo, bar);       // [ [0, 1], [2, 3], [4, 5], [6, 7] ]\n * arrayTuples(foo, bar, baz);  // [ [0, 1, 10], [2, 3, 30], [4, 5, 50], [6, 7, 70] ]\n * ```\n */\nfunction arrayTuples() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    if (args.length === 0)\n        return [];\n    var maxArrayLen = args.reduce(function (min, arr) { return Math.min(arr.length, min); }, 9007199254740991); // aka 2^53  1 aka Number.MAX_SAFE_INTEGER\n    var i, result = [];\n    for (i = 0; i < maxArrayLen; i++) {\n        // This is a hot function\n        // Unroll when there are 1-4 arguments\n        switch (args.length) {\n            case 1:\n                result.push([args[0][i]]);\n                break;\n            case 2:\n                result.push([args[0][i], args[1][i]]);\n                break;\n            case 3:\n                result.push([args[0][i], args[1][i], args[2][i]]);\n                break;\n            case 4:\n                result.push([args[0][i], args[1][i], args[2][i], args[3][i]]);\n                break;\n            default:\n                result.push(args.map(function (array) { return array[i]; }));\n                break;\n        }\n    }\n    return result;\n}\n/**\n * Reduce function which builds an object from an array of [key, value] pairs.\n *\n * Each iteration sets the key/val pair on the memo object, then returns the memo for the next iteration.\n *\n * Each keyValueTuple should be an array with values [ key: string, value: any ]\n *\n * @example\n * ```\n *\n * var pairs = [ [\"fookey\", \"fooval\"], [\"barkey\", \"barval\"] ]\n *\n * var pairsToObj = pairs.reduce((memo, pair) => applyPairs(memo, pair), {})\n * // pairsToObj == { fookey: \"fooval\", barkey: \"barval\" }\n *\n * // Or, more simply:\n * var pairsToObj = pairs.reduce(applyPairs, {})\n * // pairsToObj == { fookey: \"fooval\", barkey: \"barval\" }\n * ```\n */\nfunction applyPairs(memo, keyValTuple) {\n    var key, value;\n    if (isArray(keyValTuple))\n        key = keyValTuple[0], value = keyValTuple[1];\n    if (!isString(key))\n        throw new Error(\"invalid parameters to applyPairs\");\n    memo[key] = value;\n    return memo;\n}\n/** Get the last element of an array */\nfunction tail(arr) {\n    return arr.length && arr[arr.length - 1] || undefined;\n}\n/**\n * shallow copy from src to dest\n *\n * note: This is a shallow copy, while angular.copy is a deep copy.\n * ui-router uses `copy` only to make copies of state parameters.\n */\nfunction _copy(src, dest) {\n    if (dest)\n        Object.keys(dest).forEach(function (key) { return delete dest[key]; });\n    if (!dest)\n        dest = {};\n    return extend(dest, src);\n}\n/** Naive forEach implementation works with Objects or Arrays */\nfunction _forEach(obj, cb, _this) {\n    if (isArray(obj))\n        return obj.forEach(cb, _this);\n    Object.keys(obj).forEach(function (key) { return cb(obj[key], key); });\n}\nfunction _extend(toObj) {\n    for (var i = 1; i < arguments.length; i++) {\n        var obj = arguments[i];\n        if (!obj)\n            continue;\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; j++) {\n            toObj[keys[j]] = obj[keys[j]];\n        }\n    }\n    return toObj;\n}\nfunction _equals(o1, o2) {\n    if (o1 === o2)\n        return true;\n    if (o1 === null || o2 === null)\n        return false;\n    if (o1 !== o1 && o2 !== o2)\n        return true; // NaN === NaN\n    var t1 = typeof o1, t2 = typeof o2;\n    if (t1 !== t2 || t1 !== 'object')\n        return false;\n    var tup = [o1, o2];\n    if (all(isArray)(tup))\n        return _arraysEq(o1, o2);\n    if (all(isDate)(tup))\n        return o1.getTime() === o2.getTime();\n    if (all(isRegExp)(tup))\n        return o1.toString() === o2.toString();\n    if (all(isFunction)(tup))\n        return true; // meh\n    var predicates = [isFunction, isArray, isDate, isRegExp];\n    if (predicates.map(any).reduce(function (b, fn) { return b || !!fn(tup); }, false))\n        return false;\n    var key, keys = {};\n    for (key in o1) {\n        if (!_equals(o1[key], o2[key]))\n            return false;\n        keys[key] = true;\n    }\n    for (key in o2) {\n        if (!keys[key])\n            return false;\n    }\n    return true;\n}\nfunction _arraysEq(a1, a2) {\n    if (a1.length !== a2.length)\n        return false;\n    return arrayTuples(a1, a2).reduce(function (b, t) { return b && _equals(t[0], t[1]); }, true);\n}\n/**\n * Create a sort function\n *\n * Creates a sort function which sorts by a numeric property.\n *\n * The `propFn` should return the property as a number which can be sorted.\n *\n * #### Example:\n * This example returns the `priority` prop.\n * ```js\n * var sortfn = sortBy(obj => obj.priority)\n * // equivalent to:\n * var longhandSortFn = (a, b) => a.priority - b.priority;\n * ```\n *\n * #### Example:\n * This example uses [[prop]]\n * ```js\n * var sortfn = sortBy(prop('priority'))\n * ```\n *\n * The `checkFn` can be used to exclude objects from sorting.\n *\n * #### Example:\n * This example only sorts objects with type === 'FOO'\n * ```js\n * var sortfn = sortBy(prop('priority'), propEq('type', 'FOO'))\n * ```\n *\n * @param propFn a function that returns the property (as a number)\n * @param checkFn a predicate\n *\n * @return a sort function like: `(a, b) => (checkFn(a) && checkFn(b)) ? propFn(a) - propFn(b) : 0`\n */\nvar sortBy = function (propFn, checkFn) {\n    if (checkFn === void 0) { checkFn = val(true); }\n    return function (a, b) {\n        return (checkFn(a) && checkFn(b)) ? propFn(a) - propFn(b) : 0;\n    };\n};\n/**\n * Composes a list of sort functions\n *\n * Creates a sort function composed of multiple sort functions.\n * Each sort function is invoked in series.\n * The first sort function to return non-zero \"wins\".\n *\n * @param sortFns list of sort functions\n */\nvar composeSort = function () {\n    var sortFns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sortFns[_i] = arguments[_i];\n    }\n    return function composedSort(a, b) {\n        return sortFns.reduce(function (prev, fn) { return prev || fn(a, b); }, 0);\n    };\n};\n// issue #2676\nvar silenceUncaughtInPromise = function (promise) {\n    return promise.catch(function (e) { return 0; }) && promise;\n};\nvar silentRejection = function (error) {\n    return silenceUncaughtInPromise(services.$q.reject(error));\n};\n\n/**\n * @module common\n */ /** for typedoc */\nvar Queue = (function () {\n    function Queue(_items, _limit) {\n        if (_items === void 0) { _items = []; }\n        if (_limit === void 0) { _limit = null; }\n        this._items = _items;\n        this._limit = _limit;\n    }\n    Queue.prototype.enqueue = function (item) {\n        var items = this._items;\n        items.push(item);\n        if (this._limit && items.length > this._limit)\n            items.shift();\n        return item;\n    };\n    Queue.prototype.dequeue = function () {\n        if (this.size())\n            return this._items.splice(0, 1)[0];\n    };\n    Queue.prototype.clear = function () {\n        var current = this._items;\n        this._items = [];\n        return current;\n    };\n    Queue.prototype.size = function () {\n        return this._items.length;\n    };\n    Queue.prototype.remove = function (item) {\n        var idx = this._items.indexOf(item);\n        return idx > -1 && this._items.splice(idx, 1)[0];\n    };\n    Queue.prototype.peekTail = function () {\n        return this._items[this._items.length - 1];\n    };\n    Queue.prototype.peekHead = function () {\n        if (this.size())\n            return this._items[0];\n    };\n    return Queue;\n}());\n\n/**\n * @coreapi\n * @module transition\n */ /** for typedoc */\n\n(function (RejectType) {\n    RejectType[RejectType[\"SUPERSEDED\"] = 2] = \"SUPERSEDED\";\n    RejectType[RejectType[\"ABORTED\"] = 3] = \"ABORTED\";\n    RejectType[RejectType[\"INVALID\"] = 4] = \"INVALID\";\n    RejectType[RejectType[\"IGNORED\"] = 5] = \"IGNORED\";\n    RejectType[RejectType[\"ERROR\"] = 6] = \"ERROR\";\n})(exports.RejectType || (exports.RejectType = {}));\n/** @hidden */ var id = 0;\nvar Rejection = (function () {\n    function Rejection(type, message, detail) {\n        this.$id = id++;\n        this.type = type;\n        this.message = message;\n        this.detail = detail;\n    }\n    Rejection.prototype.toString = function () {\n        var detailString = function (d) {\n            return d && d.toString !== Object.prototype.toString ? d.toString() : stringify(d);\n        };\n        var detail = detailString(this.detail);\n        var _a = this, $id = _a.$id, type = _a.type, message = _a.message;\n        return \"Transition Rejection($id: \" + $id + \" type: \" + type + \", message: \" + message + \", detail: \" + detail + \")\";\n    };\n    Rejection.prototype.toPromise = function () {\n        return extend(silentRejection(this), { _transitionRejection: this });\n    };\n    /** Returns true if the obj is a rejected promise created from the `asPromise` factory */\n    Rejection.isRejectionPromise = function (obj) {\n        return obj && (typeof obj.then === 'function') && is(Rejection)(obj._transitionRejection);\n    };\n    /** Returns a Rejection due to transition superseded */\n    Rejection.superseded = function (detail, options) {\n        var message = \"The transition has been superseded by a different transition\";\n        var rejection = new Rejection(exports.RejectType.SUPERSEDED, message, detail);\n        if (options && options.redirected) {\n            rejection.redirected = true;\n        }\n        return rejection;\n    };\n    /** Returns a Rejection due to redirected transition */\n    Rejection.redirected = function (detail) {\n        return Rejection.superseded(detail, { redirected: true });\n    };\n    /** Returns a Rejection due to invalid transition */\n    Rejection.invalid = function (detail) {\n        var message = \"This transition is invalid\";\n        return new Rejection(exports.RejectType.INVALID, message, detail);\n    };\n    /** Returns a Rejection due to ignored transition */\n    Rejection.ignored = function (detail) {\n        var message = \"The transition was ignored\";\n        return new Rejection(exports.RejectType.IGNORED, message, detail);\n    };\n    /** Returns a Rejection due to aborted transition */\n    Rejection.aborted = function (detail) {\n        var message = \"The transition has been aborted\";\n        return new Rejection(exports.RejectType.ABORTED, message, detail);\n    };\n    /** Returns a Rejection due to aborted transition */\n    Rejection.errored = function (detail) {\n        var message = \"The transition errored\";\n        return new Rejection(exports.RejectType.ERROR, message, detail);\n    };\n    /**\n     * Returns a Rejection\n     *\n     * Normalizes a value as a Rejection.\n     * If the value is already a Rejection, returns it.\n     * Otherwise, wraps and returns the value as a Rejection (Rejection type: ERROR).\n     *\n     * @returns `detail` if it is already a `Rejection`, else returns an ERROR Rejection.\n     */\n    Rejection.normalize = function (detail) {\n        return is(Rejection)(detail) ? detail : Rejection.errored(detail);\n    };\n    return Rejection;\n}());\n\n/**\n * # Transition tracing (debug)\n *\n * Enable transition tracing to print transition information to the console,\n * in order to help debug your application.\n * Tracing logs detailed information about each Transition to your console.\n *\n * To enable tracing, import the [[Trace]] singleton and enable one or more categories.\n *\n * ### ES6\n * ```js\n * import {trace} from \"ui-router-ng2\"; // or \"angular-ui-router\"\n * trace.enable(1, 5); // TRANSITION and VIEWCONFIG\n * ```\n *\n * ### CJS\n * ```js\n * let trace = require(\"angular-ui-router\").trace; // or \"ui-router-ng2\"\n * trace.enable(\"TRANSITION\", \"VIEWCONFIG\");\n * ```\n *\n * ### Globals\n * ```js\n * let trace = window[\"angular-ui-router\"].trace; // or \"ui-router-ng2\"\n * trace.enable(); // Trace everything (very verbose)\n * ```\n *\n * ### Angular 1:\n * ```js\n * app.run($trace => $trace.enable());\n * ```\n *\n * @coreapi\n * @module trace\n */ /** for typedoc */\n/** @hidden */\nfunction uiViewString(viewData) {\n    if (!viewData)\n        return 'ui-view (defunct)';\n    return \"[ui-view#\" + viewData.id + \" tag \" +\n        (\"in template from '\" + (viewData.creationContext && viewData.creationContext.name || '(root)') + \"' state]: \") +\n        (\"fqn: '\" + viewData.fqn + \"', \") +\n        (\"name: '\" + viewData.name + \"@\" + viewData.creationContext + \"')\");\n}\n/** @hidden */\nvar viewConfigString = function (viewConfig) {\n    return \"[ViewConfig#\" + viewConfig.$id + \" from '\" + (viewConfig.viewDecl.$context.name || '(root)') + \"' state]: target ui-view: '\" + viewConfig.viewDecl.$uiViewName + \"@\" + viewConfig.viewDecl.$uiViewContextAnchor + \"'\";\n};\n/** @hidden */\nfunction normalizedCat(input) {\n    return isNumber(input) ? exports.Category[input] : exports.Category[exports.Category[input]];\n}\n/**\n * Trace categories Enum\n *\n * Enable or disable a category using [[Trace.enable]] or [[Trace.disable]]\n *\n * `trace.enable(Category.TRANSITION)`\n *\n * These can also be provided using a matching string, or position ordinal\n *\n * `trace.enable(\"TRANSITION\")`\n *\n * `trace.enable(1)`\n */\n\n(function (Category) {\n    Category[Category[\"RESOLVE\"] = 0] = \"RESOLVE\";\n    Category[Category[\"TRANSITION\"] = 1] = \"TRANSITION\";\n    Category[Category[\"HOOK\"] = 2] = \"HOOK\";\n    Category[Category[\"UIVIEW\"] = 3] = \"UIVIEW\";\n    Category[Category[\"VIEWCONFIG\"] = 4] = \"VIEWCONFIG\";\n})(exports.Category || (exports.Category = {}));\n/** @hidden */ var _tid = parse(\"$id\");\n/** @hidden */ var _rid = parse(\"router.$id\");\n/** @hidden */ var transLbl = function (trans) { return \"Transition #\" + _tid(trans) + \"-\" + _rid(trans); };\n/**\n * Prints UI-Router Transition trace information to the console.\n */\nvar Trace = (function () {\n    /** @hidden */\n    function Trace() {\n        /** @hidden */\n        this._enabled = {};\n        this.approximateDigests = 0;\n    }\n    /** @hidden */\n    Trace.prototype._set = function (enabled, categories) {\n        var _this = this;\n        if (!categories.length) {\n            categories = Object.keys(exports.Category)\n                .map(function (k) { return parseInt(k, 10); })\n                .filter(function (k) { return !isNaN(k); })\n                .map(function (key) { return exports.Category[key]; });\n        }\n        categories.map(normalizedCat).forEach(function (category) { return _this._enabled[category] = enabled; });\n    };\n    /**\n     * Enables a trace [[Category]]\n     *\n     * ```js\n     * trace.enable(\"TRANSITION\");\n     * ```\n     *\n     * @param categories categories to enable. If `categories` is omitted, all categories are enabled.\n     *        Also takes strings (category name) or ordinal (category position)\n     */\n    Trace.prototype.enable = function () {\n        var categories = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            categories[_i] = arguments[_i];\n        }\n        this._set(true, categories);\n    };\n    /**\n     * Disables a trace [[Category]]\n     *\n     * ```js\n     * trace.disable(\"VIEWCONFIG\");\n     * ```\n     *\n     * @param categories categories to disable. If `categories` is omitted, all categories are disabled.\n     *        Also takes strings (category name) or ordinal (category position)\n     */\n    Trace.prototype.disable = function () {\n        var categories = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            categories[_i] = arguments[_i];\n        }\n        this._set(false, categories);\n    };\n    /**\n     * Retrieves the enabled stateus of a [[Category]]\n     *\n     * ```js\n     * trace.enabled(\"VIEWCONFIG\"); // true or false\n     * ```\n     *\n     * @returns boolean true if the category is enabled\n     */\n    Trace.prototype.enabled = function (category) {\n        return !!this._enabled[normalizedCat(category)];\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceTransitionStart = function (trans) {\n        if (!this.enabled(exports.Category.TRANSITION))\n            return;\n        console.log(transLbl(trans) + \": Started  -> \" + stringify(trans));\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceTransitionIgnored = function (trans) {\n        if (!this.enabled(exports.Category.TRANSITION))\n            return;\n        console.log(transLbl(trans) + \": Ignored  <> \" + stringify(trans));\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceHookInvocation = function (step, trans, options) {\n        if (!this.enabled(exports.Category.HOOK))\n            return;\n        var event = parse(\"traceData.hookType\")(options) || \"internal\", context = parse(\"traceData.context.state.name\")(options) || parse(\"traceData.context\")(options) || \"unknown\", name = functionToString(step.registeredHook.callback);\n        console.log(transLbl(trans) + \":   Hook -> \" + event + \" context: \" + context + \", \" + maxLength(200, name));\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceHookResult = function (hookResult, trans, transitionOptions) {\n        if (!this.enabled(exports.Category.HOOK))\n            return;\n        console.log(transLbl(trans) + \":   <- Hook returned: \" + maxLength(200, stringify(hookResult)));\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceResolvePath = function (path, when, trans) {\n        if (!this.enabled(exports.Category.RESOLVE))\n            return;\n        console.log(transLbl(trans) + \":         Resolving \" + path + \" (\" + when + \")\");\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceResolvableResolved = function (resolvable, trans) {\n        if (!this.enabled(exports.Category.RESOLVE))\n            return;\n        console.log(transLbl(trans) + \":               <- Resolved  \" + resolvable + \" to: \" + maxLength(200, stringify(resolvable.data)));\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceError = function (reason, trans) {\n        if (!this.enabled(exports.Category.TRANSITION))\n            return;\n        console.log(transLbl(trans) + \": <- Rejected \" + stringify(trans) + \", reason: \" + reason);\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceSuccess = function (finalState, trans) {\n        if (!this.enabled(exports.Category.TRANSITION))\n            return;\n        console.log(transLbl(trans) + \": <- Success  \" + stringify(trans) + \", final state: \" + finalState.name);\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceUIViewEvent = function (event, viewData, extra) {\n        if (extra === void 0) { extra = \"\"; }\n        if (!this.enabled(exports.Category.UIVIEW))\n            return;\n        console.log(\"ui-view: \" + padString(30, event) + \" \" + uiViewString(viewData) + extra);\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceUIViewConfigUpdated = function (viewData, context) {\n        if (!this.enabled(exports.Category.UIVIEW))\n            return;\n        this.traceUIViewEvent(\"Updating\", viewData, \" with ViewConfig from context='\" + context + \"'\");\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceUIViewFill = function (viewData, html) {\n        if (!this.enabled(exports.Category.UIVIEW))\n            return;\n        this.traceUIViewEvent(\"Fill\", viewData, \" with: \" + maxLength(200, html));\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceViewServiceEvent = function (event, viewConfig) {\n        if (!this.enabled(exports.Category.VIEWCONFIG))\n            return;\n        console.log(\"VIEWCONFIG: \" + event + \" \" + viewConfigString(viewConfig));\n    };\n    /** @internalapi called by ui-router code */\n    Trace.prototype.traceViewServiceUIViewEvent = function (event, viewData) {\n        if (!this.enabled(exports.Category.VIEWCONFIG))\n            return;\n        console.log(\"VIEWCONFIG: \" + event + \" \" + uiViewString(viewData));\n    };\n    return Trace;\n}());\n/**\n * The [[Trace]] singleton\n *\n * #### Example:\n * ```js\n * import {trace} from \"angular-ui-router\";\n * trace.enable(1, 5);\n * ```\n */\nvar trace = new Trace();\n\n(function (TransitionHookPhase) {\n    TransitionHookPhase[TransitionHookPhase[\"CREATE\"] = 0] = \"CREATE\";\n    TransitionHookPhase[TransitionHookPhase[\"BEFORE\"] = 1] = \"BEFORE\";\n    TransitionHookPhase[TransitionHookPhase[\"RUN\"] = 2] = \"RUN\";\n    TransitionHookPhase[TransitionHookPhase[\"SUCCESS\"] = 3] = \"SUCCESS\";\n    TransitionHookPhase[TransitionHookPhase[\"ERROR\"] = 4] = \"ERROR\";\n})(exports.TransitionHookPhase || (exports.TransitionHookPhase = {}));\n\n(function (TransitionHookScope) {\n    TransitionHookScope[TransitionHookScope[\"TRANSITION\"] = 0] = \"TRANSITION\";\n    TransitionHookScope[TransitionHookScope[\"STATE\"] = 1] = \"STATE\";\n})(exports.TransitionHookScope || (exports.TransitionHookScope = {}));\n\n/**\n * @coreapi\n * @module state\n */ /** for typedoc */\n/**\n * Encapsulate the target (destination) state/params/options of a [[Transition]].\n *\n * This class is frequently used to redirect a transition to a new destination.\n *\n * See:\n *\n * - [[HookResult]]\n * - [[TransitionHookFn]]\n * - [[TransitionService.onStart]]\n *\n * To create a `TargetState`, use [[StateService.target]].\n *\n * ---\n *\n * This class wraps:\n *\n * 1) an identifier for a state\n * 2) a set of parameters\n * 3) and transition options\n * 4) the registered state object (the [[StateDeclaration]])\n *\n * Many UI-Router APIs such as [[StateService.go]] take a [[StateOrName]] argument which can\n * either be a *state object* (a [[StateDeclaration]] or [[StateObject]]) or a *state name* (a string).\n * The `TargetState` class normalizes those options.\n *\n * A `TargetState` may be valid (the state being targeted exists in the registry)\n * or invalid (the state being targeted is not registered).\n */\nvar TargetState = (function () {\n    /**\n     * The TargetState constructor\n     *\n     * Note: Do not construct a `TargetState` manually.\n     * To create a `TargetState`, use the [[StateService.target]] factory method.\n     *\n     * @param _identifier An identifier for a state.\n     *    Either a fully-qualified state name, or the object used to define the state.\n     * @param _definition The internal state representation, if exists.\n     * @param _params Parameters for the target state\n     * @param _options Transition options.\n     *\n     * @internalapi\n     */\n    function TargetState(_identifier, _definition, _params, _options) {\n        if (_options === void 0) { _options = {}; }\n        this._identifier = _identifier;\n        this._definition = _definition;\n        this._options = _options;\n        this._params = _params || {};\n    }\n    /** The name of the state this object targets */\n    TargetState.prototype.name = function () {\n        return this._definition && this._definition.name || this._identifier;\n    };\n    /** The identifier used when creating this TargetState */\n    TargetState.prototype.identifier = function () {\n        return this._identifier;\n    };\n    /** The target parameter values */\n    TargetState.prototype.params = function () {\n        return this._params;\n    };\n    /** The internal state object (if it was found) */\n    TargetState.prototype.$state = function () {\n        return this._definition;\n    };\n    /** The internal state declaration (if it was found) */\n    TargetState.prototype.state = function () {\n        return this._definition && this._definition.self;\n    };\n    /** The target options */\n    TargetState.prototype.options = function () {\n        return this._options;\n    };\n    /** True if the target state was found */\n    TargetState.prototype.exists = function () {\n        return !!(this._definition && this._definition.self);\n    };\n    /** True if the object is valid */\n    TargetState.prototype.valid = function () {\n        return !this.error();\n    };\n    /** If the object is invalid, returns the reason why */\n    TargetState.prototype.error = function () {\n        var base = this.options().relative;\n        if (!this._definition && !!base) {\n            var stateName = base.name ? base.name : base;\n            return \"Could not resolve '\" + this.name() + \"' from state '\" + stateName + \"'\";\n        }\n        if (!this._definition)\n            return \"No such state '\" + this.name() + \"'\";\n        if (!this._definition.self)\n            return \"State '\" + this.name() + \"' has an invalid definition\";\n    };\n    TargetState.prototype.toString = function () {\n        return \"'\" + this.name() + \"'\" + toJson(this.params());\n    };\n    return TargetState;\n}());\n/** Returns true if the object has a state property that might be a state or state name */\nTargetState.isDef = function (obj) {\n    return obj && obj.state && (isString(obj.state) || isString(obj.state.name));\n};\n\n/**\n * @coreapi\n * @module transition\n */\n/** for typedoc */\nvar defaultOptions = {\n    current: noop$1,\n    transition: null,\n    traceData: {},\n    bind: null,\n};\n/** @hidden */\nvar TransitionHook = (function () {\n    function TransitionHook(transition, stateContext, registeredHook, options) {\n        var _this = this;\n        this.transition = transition;\n        this.stateContext = stateContext;\n        this.registeredHook = registeredHook;\n        this.options = options;\n        this.isSuperseded = function () {\n            return _this.type.hookPhase === exports.TransitionHookPhase.RUN && !_this.options.transition.isActive();\n        };\n        this.options = defaults(options, defaultOptions);\n        this.type = registeredHook.eventType;\n    }\n    TransitionHook.prototype.logError = function (err) {\n        this.transition.router.stateService.defaultErrorHandler()(err);\n    };\n    TransitionHook.prototype.invokeHook = function () {\n        var _this = this;\n        var hook = this.registeredHook;\n        if (hook._deregistered)\n            return;\n        var notCurrent = this.getNotCurrentRejection();\n        if (notCurrent)\n            return notCurrent;\n        var options = this.options;\n        trace.traceHookInvocation(this, this.transition, options);\n        var invokeCallback = function () {\n            return hook.callback.call(options.bind, _this.transition, _this.stateContext);\n        };\n        var normalizeErr = function (err) {\n            return Rejection.normalize(err).toPromise();\n        };\n        var handleError = function (err) {\n            return hook.eventType.getErrorHandler(_this)(err);\n        };\n        var handleResult = function (result) {\n            return hook.eventType.getResultHandler(_this)(result);\n        };\n        try {\n            var result = invokeCallback();\n            if (!this.type.synchronous && isPromise(result)) {\n                return result.catch(normalizeErr)\n                    .then(handleResult, handleError);\n            }\n            else {\n                return handleResult(result);\n            }\n        }\n        catch (err) {\n            // If callback throws (synchronously)\n            return handleError(Rejection.normalize(err));\n        }\n    };\n    /**\n     * This method handles the return value of a Transition Hook.\n     *\n     * A hook can return false (cancel), a TargetState (redirect),\n     * or a promise (which may later resolve to false or a redirect)\n     *\n     * This also handles \"transition superseded\" -- when a new transition\n     * was started while the hook was still running\n     */\n    TransitionHook.prototype.handleHookResult = function (result) {\n        var _this = this;\n        var notCurrent = this.getNotCurrentRejection();\n        if (notCurrent)\n            return notCurrent;\n        // Hook returned a promise\n        if (isPromise(result)) {\n            // Wait for the promise, then reprocess with the resulting value\n            return result.then(function (val$$1) { return _this.handleHookResult(val$$1); });\n        }\n        trace.traceHookResult(result, this.transition, this.options);\n        // Hook returned false\n        if (result === false) {\n            // Abort this Transition\n            return Rejection.aborted(\"Hook aborted transition\").toPromise();\n        }\n        var isTargetState = is(TargetState);\n        // hook returned a TargetState\n        if (isTargetState(result)) {\n            // Halt the current Transition and redirect (a new Transition) to the TargetState.\n            return Rejection.redirected(result).toPromise();\n        }\n    };\n    /**\n     * Return a Rejection promise if the transition is no longer current due\n     * to a stopped router (disposed), or a new transition has started and superseded this one.\n     */\n    TransitionHook.prototype.getNotCurrentRejection = function () {\n        var router = this.transition.router;\n        // The router is stopped\n        if (router._disposed) {\n            return Rejection.aborted(\"UIRouter instance #\" + router.$id + \" has been stopped (disposed)\").toPromise();\n        }\n        if (this.transition._aborted) {\n            return Rejection.aborted().toPromise();\n        }\n        // This transition is no longer current.\n        // Another transition started while this hook was still running.\n        if (this.isSuperseded()) {\n            // Abort this transition\n            return Rejection.superseded(this.options.current()).toPromise();\n        }\n    };\n    TransitionHook.prototype.toString = function () {\n        var _a = this, options = _a.options, registeredHook = _a.registeredHook;\n        var event = parse(\"traceData.hookType\")(options) || \"internal\", context = parse(\"traceData.context.state.name\")(options) || parse(\"traceData.context\")(options) || \"unknown\", name = fnToString(registeredHook.callback);\n        return event + \" context: \" + context + \", \" + maxLength(200, name);\n    };\n    /**\n     * Chains together an array of TransitionHooks.\n     *\n     * Given a list of [[TransitionHook]] objects, chains them together.\n     * Each hook is invoked after the previous one completes.\n     *\n     * #### Example:\n     * ```js\n     * var hooks: TransitionHook[] = getHooks();\n     * let promise: Promise<any> = TransitionHook.chain(hooks);\n     *\n     * promise.then(handleSuccess, handleError);\n     * ```\n     *\n     * @param hooks the list of hooks to chain together\n     * @param waitFor if provided, the chain is `.then()`'ed off this promise\n     * @returns a `Promise` for sequentially invoking the hooks (in order)\n     */\n    TransitionHook.chain = function (hooks, waitFor) {\n        // Chain the next hook off the previous\n        var createHookChainR = function (prev, nextHook) {\n            return prev.then(function () { return nextHook.invokeHook(); });\n        };\n        return hooks.reduce(createHookChainR, waitFor || services.$q.when());\n    };\n    /**\n     * Invokes all the provided TransitionHooks, in order.\n     * Each hook's return value is checked.\n     * If any hook returns a promise, then the rest of the hooks are chained off that promise, and the promise is returned.\n     * If no hook returns a promise, then all hooks are processed synchronously.\n     *\n     * @param hooks the list of TransitionHooks to invoke\n     * @param doneCallback a callback that is invoked after all the hooks have successfully completed\n     *\n     * @returns a promise for the async result, or the result of the callback\n     */\n    TransitionHook.invokeHooks = function (hooks, doneCallback) {\n        for (var idx = 0; idx < hooks.length; idx++) {\n            var hookResult = hooks[idx].invokeHook();\n            if (isPromise(hookResult)) {\n                var remainingHooks = hooks.slice(idx + 1);\n                return TransitionHook.chain(remainingHooks, hookResult)\n                    .then(doneCallback);\n            }\n        }\n        return doneCallback();\n    };\n    /**\n     * Run all TransitionHooks, ignoring their return value.\n     */\n    TransitionHook.runAllHooks = function (hooks) {\n        hooks.forEach(function (hook) { return hook.invokeHook(); });\n    };\n    return TransitionHook;\n}());\n/**\n * These GetResultHandler(s) are used by [[invokeHook]] below\n * Each HookType chooses a GetResultHandler (See: [[TransitionService._defineCoreEvents]])\n */\nTransitionHook.HANDLE_RESULT = function (hook) { return function (result) {\n    return hook.handleHookResult(result);\n}; };\n/**\n * If the result is a promise rejection, log it.\n * Otherwise, ignore the result.\n */\nTransitionHook.LOG_REJECTED_RESULT = function (hook) { return function (result) {\n    isPromise(result) && result.catch(function (err) {\n        return hook.logError(Rejection.normalize(err));\n    });\n    return undefined;\n}; };\n/**\n * These GetErrorHandler(s) are used by [[invokeHook]] below\n * Each HookType chooses a GetErrorHandler (See: [[TransitionService._defineCoreEvents]])\n */\nTransitionHook.LOG_ERROR = function (hook) { return function (error) {\n    return hook.logError(error);\n}; };\nTransitionHook.REJECT_ERROR = function (hook) { return function (error) {\n    return silentRejection(error);\n}; };\nTransitionHook.THROW_ERROR = function (hook) { return function (error) {\n    throw error;\n}; };\n\n/**\n * @coreapi\n * @module transition\n */ /** for typedoc */\n/**\n * Determines if the given state matches the matchCriteria\n *\n * @hidden\n *\n * @param state a State Object to test against\n * @param criterion\n * - If a string, matchState uses the string as a glob-matcher against the state name\n * - If an array (of strings), matchState uses each string in the array as a glob-matchers against the state name\n *   and returns a positive match if any of the globs match.\n * - If a function, matchState calls the function with the state and returns true if the function's result is truthy.\n * @returns {boolean}\n */\nfunction matchState(state, criterion) {\n    var toMatch = isString(criterion) ? [criterion] : criterion;\n    function matchGlobs(_state) {\n        var globStrings = toMatch;\n        for (var i = 0; i < globStrings.length; i++) {\n            var glob = new Glob(globStrings[i]);\n            if ((glob && glob.matches(_state.name)) || (!glob && globStrings[i] === _state.name)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    var matchFn = (isFunction(toMatch) ? toMatch : matchGlobs);\n    return !!matchFn(state);\n}\n/**\n * @internalapi\n * The registration data for a registered transition hook\n */\nvar RegisteredHook = (function () {\n    function RegisteredHook(tranSvc, eventType, callback, matchCriteria, options) {\n        if (options === void 0) { options = {}; }\n        this.tranSvc = tranSvc;\n        this.eventType = eventType;\n        this.callback = callback;\n        this.matchCriteria = matchCriteria;\n        this.priority = options.priority || 0;\n        this.bind = options.bind || null;\n        this._deregistered = false;\n    }\n    /**\n     * Gets the matching [[PathNode]]s\n     *\n     * Given an array of [[PathNode]]s, and a [[HookMatchCriterion]], returns an array containing\n     * the [[PathNode]]s that the criteria matches, or `null` if there were no matching nodes.\n     *\n     * Returning `null` is significant to distinguish between the default\n     * \"match-all criterion value\" of `true` compared to a `() => true` function,\n     * when the nodes is an empty array.\n     *\n     * This is useful to allow a transition match criteria of `entering: true`\n     * to still match a transition, even when `entering === []`.  Contrast that\n     * with `entering: (state) => true` which only matches when a state is actually\n     * being entered.\n     */\n    RegisteredHook.prototype._matchingNodes = function (nodes, criterion) {\n        if (criterion === true)\n            return nodes;\n        var matching = nodes.filter(function (node) { return matchState(node.state, criterion); });\n        return matching.length ? matching : null;\n    };\n    /**\n     * Gets the default match criteria (all `true`)\n     *\n     * Returns an object which has all the criteria match paths as keys and `true` as values, i.e.:\n     *\n     * ```js\n     * {\n     *   to: true,\n     *   from: true,\n     *   entering: true,\n     *   exiting: true,\n     *   retained: true,\n     * }\n     */\n    RegisteredHook.prototype._getDefaultMatchCriteria = function () {\n        return map(this.tranSvc._pluginapi._getPathTypes(), function () { return true; });\n    };\n    /**\n     * Gets matching nodes as [[IMatchingNodes]]\n     *\n     * Create a IMatchingNodes object from the TransitionHookTypes that is roughly equivalent to:\n     *\n     * ```js\n     * let matches: IMatchingNodes = {\n     *   to:       _matchingNodes([tail(treeChanges.to)],   mc.to),\n     *   from:     _matchingNodes([tail(treeChanges.from)], mc.from),\n     *   exiting:  _matchingNodes(treeChanges.exiting,      mc.exiting),\n     *   retained: _matchingNodes(treeChanges.retained,     mc.retained),\n     *   entering: _matchingNodes(treeChanges.entering,     mc.entering),\n     * };\n     * ```\n     */\n    RegisteredHook.prototype._getMatchingNodes = function (treeChanges) {\n        var _this = this;\n        var criteria = extend(this._getDefaultMatchCriteria(), this.matchCriteria);\n        var paths = values(this.tranSvc._pluginapi._getPathTypes());\n        return paths.reduce(function (mn, pathtype) {\n            // STATE scope criteria matches against every node in the path.\n            // TRANSITION scope criteria matches against only the last node in the path\n            var isStateHook = pathtype.scope === exports.TransitionHookScope.STATE;\n            var path = treeChanges[pathtype.name] || [];\n            var nodes = isStateHook ? path : [tail(path)];\n            mn[pathtype.name] = _this._matchingNodes(nodes, criteria[pathtype.name]);\n            return mn;\n        }, {});\n    };\n    /**\n     * Determines if this hook's [[matchCriteria]] match the given [[TreeChanges]]\n     *\n     * @returns an IMatchingNodes object, or null. If an IMatchingNodes object is returned, its values\n     * are the matching [[PathNode]]s for each [[HookMatchCriterion]] (to, from, exiting, retained, entering)\n     */\n    RegisteredHook.prototype.matches = function (treeChanges) {\n        var matches = this._getMatchingNodes(treeChanges);\n        // Check if all the criteria matched the TreeChanges object\n        var allMatched = values(matches).every(identity);\n        return allMatched ? matches : null;\n    };\n    return RegisteredHook;\n}());\n/** @hidden Return a registration function of the requested type. */\nfunction makeEvent(registry, transitionService, eventType) {\n    // Create the object which holds the registered transition hooks.\n    var _registeredHooks = registry._registeredHooks = (registry._registeredHooks || {});\n    var hooks = _registeredHooks[eventType.name] = [];\n    // Create hook registration function on the IHookRegistry for the event\n    registry[eventType.name] = hookRegistrationFn;\n    function hookRegistrationFn(matchObject, callback, options) {\n        if (options === void 0) { options = {}; }\n        var registeredHook = new RegisteredHook(transitionService, eventType, callback, matchObject, options);\n        hooks.push(registeredHook);\n        return function deregisterEventHook() {\n            registeredHook._deregistered = true;\n            removeFrom(hooks)(registeredHook);\n        };\n    }\n    return hookRegistrationFn;\n}\n\n/**\n * @coreapi\n * @module transition\n */ /** for typedoc */\n/**\n * This class returns applicable TransitionHooks for a specific Transition instance.\n *\n * Hooks ([[RegisteredHook]]) may be registered globally, e.g., $transitions.onEnter(...), or locally, e.g.\n * myTransition.onEnter(...).  The HookBuilder finds matching RegisteredHooks (where the match criteria is\n * determined by the type of hook)\n *\n * The HookBuilder also converts RegisteredHooks objects to TransitionHook objects, which are used to run a Transition.\n *\n * The HookBuilder constructor is given the $transitions service and a Transition instance.  Thus, a HookBuilder\n * instance may only be used for one specific Transition object. (side note: the _treeChanges accessor is private\n * in the Transition class, so we must also provide the Transition's _treeChanges)\n *\n */\nvar HookBuilder = (function () {\n    function HookBuilder(transition) {\n        this.transition = transition;\n    }\n    HookBuilder.prototype.buildHooksForPhase = function (phase) {\n        var _this = this;\n        var $transitions = this.transition.router.transitionService;\n        return $transitions._pluginapi._getEvents(phase)\n            .map(function (type) { return _this.buildHooks(type); })\n            .reduce(unnestR, [])\n            .filter(identity);\n    };\n    /**\n     * Returns an array of newly built TransitionHook objects.\n     *\n     * - Finds all RegisteredHooks registered for the given `hookType` which matched the transition's [[TreeChanges]].\n     * - Finds [[PathNode]] (or `PathNode[]`) to use as the TransitionHook context(s)\n     * - For each of the [[PathNode]]s, creates a TransitionHook\n     *\n     * @param hookType the type of the hook registration function, e.g., 'onEnter', 'onFinish'.\n     */\n    HookBuilder.prototype.buildHooks = function (hookType) {\n        var transition = this.transition;\n        var treeChanges = transition.treeChanges();\n        // Find all the matching registered hooks for a given hook type\n        var matchingHooks = this.getMatchingHooks(hookType, treeChanges);\n        if (!matchingHooks)\n            return [];\n        var baseHookOptions = {\n            transition: transition,\n            current: transition.options().current\n        };\n        var makeTransitionHooks = function (hook) {\n            // Fetch the Nodes that caused this hook to match.\n            var matches = hook.matches(treeChanges);\n            // Select the PathNode[] that will be used as TransitionHook context objects\n            var matchingNodes = matches[hookType.criteriaMatchPath.name];\n            // Return an array of HookTuples\n            return matchingNodes.map(function (node) {\n                var _options = extend({\n                    bind: hook.bind,\n                    traceData: { hookType: hookType.name, context: node }\n                }, baseHookOptions);\n                var state = hookType.criteriaMatchPath.scope === exports.TransitionHookScope.STATE ? node.state.self : null;\n                var transitionHook = new TransitionHook(transition, state, hook, _options);\n                return { hook: hook, node: node, transitionHook: transitionHook };\n            });\n        };\n        return matchingHooks.map(makeTransitionHooks)\n            .reduce(unnestR, [])\n            .sort(tupleSort(hookType.reverseSort))\n            .map(function (tuple) { return tuple.transitionHook; });\n    };\n    /**\n     * Finds all RegisteredHooks from:\n     * - The Transition object instance hook registry\n     * - The TransitionService ($transitions) global hook registry\n     *\n     * which matched:\n     * - the eventType\n     * - the matchCriteria (to, from, exiting, retained, entering)\n     *\n     * @returns an array of matched [[RegisteredHook]]s\n     */\n    HookBuilder.prototype.getMatchingHooks = function (hookType, treeChanges) {\n        var isCreate = hookType.hookPhase === exports.TransitionHookPhase.CREATE;\n        // Instance and Global hook registries\n        var $transitions = this.transition.router.transitionService;\n        var registries = isCreate ? [$transitions] : [this.transition, $transitions];\n        return registries.map(function (reg) { return reg.getHooks(hookType.name); }) // Get named hooks from registries\n            .filter(assertPredicate(isArray, \"broken event named: \" + hookType.name)) // Sanity check\n            .reduce(unnestR, []) // Un-nest RegisteredHook[][] to RegisteredHook[] array\n            .filter(function (hook) { return hook.matches(treeChanges); }); // Only those satisfying matchCriteria\n    };\n    return HookBuilder;\n}());\n/**\n * A factory for a sort function for HookTuples.\n *\n * The sort function first compares the PathNode depth (how deep in the state tree a node is), then compares\n * the EventHook priority.\n *\n * @param reverseDepthSort a boolean, when true, reverses the sort order for the node depth\n * @returns a tuple sort function\n */\nfunction tupleSort(reverseDepthSort) {\n    if (reverseDepthSort === void 0) { reverseDepthSort = false; }\n    return function nodeDepthThenPriority(l, r) {\n        var factor = reverseDepthSort ? -1 : 1;\n        var depthDelta = (l.node.state.path.length - r.node.state.path.length) * factor;\n        return depthDelta !== 0 ? depthDelta : r.hook.priority - l.hook.priority;\n    };\n}\n\n/**\n * @coreapi\n * @module params\n */\n/** */\n/**\n * An internal class which implements [[ParamTypeDefinition]].\n *\n * A [[ParamTypeDefinition]] is a plain javascript object used to register custom parameter types.\n * When a param type definition is registered, an instance of this class is created internally.\n *\n * This class has naive implementations for all the [[ParamTypeDefinition]] methods.\n *\n * Used by [[UrlMatcher]] when matching or formatting URLs, or comparing and validating parameter values.\n *\n * #### Example:\n * ```js\n * var paramTypeDef = {\n *   decode: function(val) { return parseInt(val, 10); },\n *   encode: function(val) { return val && val.toString(); },\n *   equals: function(a, b) { return this.is(a) && a === b; },\n *   is: function(val) { return angular.isNumber(val) && isFinite(val) && val % 1 === 0; },\n *   pattern: /\\d+/\n * }\n *\n * var paramType = new ParamType(paramTypeDef);\n * ```\n * @internalapi\n */\nvar ParamType = (function () {\n    /**\n     * @param def  A configuration object which contains the custom type definition.  The object's\n     *        properties will override the default methods and/or pattern in `ParamType`'s public interface.\n     * @returns a new ParamType object\n     */\n    function ParamType(def) {\n        /** @inheritdoc */\n        this.pattern = /.*/;\n        /** @inheritdoc */\n        this.inherit = true;\n        extend(this, def);\n    }\n    // consider these four methods to be \"abstract methods\" that should be overridden\n    /** @inheritdoc */\n    ParamType.prototype.is = function (val, key) { return true; };\n    /** @inheritdoc */\n    ParamType.prototype.encode = function (val, key) { return val; };\n    /** @inheritdoc */\n    ParamType.prototype.decode = function (val, key) { return val; };\n    /** @inheritdoc */\n    ParamType.prototype.equals = function (a, b) { return a == b; };\n    ParamType.prototype.$subPattern = function () {\n        var sub = this.pattern.toString();\n        return sub.substr(1, sub.length - 2);\n    };\n    ParamType.prototype.toString = function () {\n        return \"{ParamType:\" + this.name + \"}\";\n    };\n    /** Given an encoded string, or a decoded object, returns a decoded object */\n    ParamType.prototype.$normalize = function (val) {\n        return this.is(val) ? val : this.decode(val);\n    };\n    /**\n     * Wraps an existing custom ParamType as an array of ParamType, depending on 'mode'.\n     * e.g.:\n     * - urlmatcher pattern \"/path?{queryParam[]:int}\"\n     * - url: \"/path?queryParam=1&queryParam=2\n     * - $stateParams.queryParam will be [1, 2]\n     * if `mode` is \"auto\", then\n     * - url: \"/path?queryParam=1 will create $stateParams.queryParam: 1\n     * - url: \"/path?queryParam=1&queryParam=2 will create $stateParams.queryParam: [1, 2]\n     */\n    ParamType.prototype.$asArray = function (mode, isSearch) {\n        if (!mode)\n            return this;\n        if (mode === \"auto\" && !isSearch)\n            throw new Error(\"'auto' array mode is for query parameters only\");\n        return new ArrayType(this, mode);\n    };\n    return ParamType;\n}());\n/**\n * Wraps up a `ParamType` object to handle array values.\n * @internalapi\n */\nfunction ArrayType(type, mode) {\n    var _this = this;\n    // Wrap non-array value as array\n    function arrayWrap(val) {\n        return isArray(val) ? val : (isDefined(val) ? [val] : []);\n    }\n    // Unwrap array value for \"auto\" mode. Return undefined for empty array.\n    function arrayUnwrap(val) {\n        switch (val.length) {\n            case 0: return undefined;\n            case 1: return mode === \"auto\" ? val[0] : val;\n            default: return val;\n        }\n    }\n    // Wraps type (.is/.encode/.decode) functions to operate on each value of an array\n    function arrayHandler(callback, allTruthyMode) {\n        return function handleArray(val) {\n            if (isArray(val) && val.length === 0)\n                return val;\n            var arr = arrayWrap(val);\n            var result = map(arr, callback);\n            return (allTruthyMode === true) ? filter(result, function (x) { return !x; }).length === 0 : arrayUnwrap(result);\n        };\n    }\n    // Wraps type (.equals) functions to operate on each value of an array\n    function arrayEqualsHandler(callback) {\n        return function handleArray(val1, val2) {\n            var left = arrayWrap(val1), right = arrayWrap(val2);\n            if (left.length !== right.length)\n                return false;\n            for (var i = 0; i < left.length; i++) {\n                if (!callback(left[i], right[i]))\n                    return false;\n            }\n            return true;\n        };\n    }\n    ['encode', 'decode', 'equals', '$normalize'].forEach(function (name) {\n        var paramTypeFn = type[name].bind(type);\n        var wrapperFn = name === 'equals' ? arrayEqualsHandler : arrayHandler;\n        _this[name] = wrapperFn(paramTypeFn);\n    });\n    extend(this, {\n        dynamic: type.dynamic,\n        name: type.name,\n        pattern: type.pattern,\n        inherit: type.inherit,\n        is: arrayHandler(type.is.bind(type), true),\n        $arrayMode: mode\n    });\n}\n\n/**\n * @coreapi\n * @module params\n */ /** for typedoc */\n/** @hidden */ var hasOwn = Object.prototype.hasOwnProperty;\n/** @hidden */ var isShorthand = function (cfg) {\n    return [\"value\", \"type\", \"squash\", \"array\", \"dynamic\"].filter(hasOwn.bind(cfg || {})).length === 0;\n};\n/** @internalapi */\n\n(function (DefType) {\n    DefType[DefType[\"PATH\"] = 0] = \"PATH\";\n    DefType[DefType[\"SEARCH\"] = 1] = \"SEARCH\";\n    DefType[DefType[\"CONFIG\"] = 2] = \"CONFIG\";\n})(exports.DefType || (exports.DefType = {}));\n/** @hidden */\nfunction unwrapShorthand(cfg) {\n    cfg = isShorthand(cfg) && { value: cfg } || cfg;\n    getStaticDefaultValue['__cacheable'] = true;\n    function getStaticDefaultValue() {\n        return cfg.value;\n    }\n    return extend(cfg, {\n        $$fn: isInjectable(cfg.value) ? cfg.value : getStaticDefaultValue,\n    });\n}\n/** @hidden */\nfunction getType(cfg, urlType, location, id, paramTypes) {\n    if (cfg.type && urlType && urlType.name !== 'string')\n        throw new Error(\"Param '\" + id + \"' has two type configurations.\");\n    if (cfg.type && urlType && urlType.name === 'string' && paramTypes.type(cfg.type))\n        return paramTypes.type(cfg.type);\n    if (urlType)\n        return urlType;\n    if (!cfg.type) {\n        var type = location === exports.DefType.CONFIG ? \"any\" :\n            location === exports.DefType.PATH ? \"path\" :\n                location === exports.DefType.SEARCH ? \"query\" : \"string\";\n        return paramTypes.type(type);\n    }\n    return cfg.type instanceof ParamType ? cfg.type : paramTypes.type(cfg.type);\n}\n/**\n * @internalapi\n * returns false, true, or the squash value to indicate the \"default parameter url squash policy\".\n */\nfunction getSquashPolicy(config, isOptional, defaultPolicy) {\n    var squash = config.squash;\n    if (!isOptional || squash === false)\n        return false;\n    if (!isDefined(squash) || squash == null)\n        return defaultPolicy;\n    if (squash === true || isString(squash))\n        return squash;\n    throw new Error(\"Invalid squash policy: '\" + squash + \"'. Valid policies: false, true, or arbitrary string\");\n}\n/** @internalapi */\nfunction getReplace(config, arrayMode, isOptional, squash) {\n    var replace, configuredKeys, defaultPolicy = [\n        { from: \"\", to: (isOptional || arrayMode ? undefined : \"\") },\n        { from: null, to: (isOptional || arrayMode ? undefined : \"\") },\n    ];\n    replace = isArray(config.replace) ? config.replace : [];\n    if (isString(squash))\n        replace.push({ from: squash, to: undefined });\n    configuredKeys = map(replace, prop(\"from\"));\n    return filter(defaultPolicy, function (item) { return configuredKeys.indexOf(item.from) === -1; }).concat(replace);\n}\n/** @internalapi */\nvar Param = (function () {\n    function Param(id, type, config, location, urlMatcherFactory) {\n        config = unwrapShorthand(config);\n        type = getType(config, type, location, id, urlMatcherFactory.paramTypes);\n        var arrayMode = getArrayMode();\n        type = arrayMode ? type.$asArray(arrayMode, location === exports.DefType.SEARCH) : type;\n        var isOptional = config.value !== undefined || location === exports.DefType.SEARCH;\n        var dynamic = isDefined(config.dynamic) ? !!config.dynamic : !!type.dynamic;\n        var raw = isDefined(config.raw) ? !!config.raw : !!type.raw;\n        var squash = getSquashPolicy(config, isOptional, urlMatcherFactory.defaultSquashPolicy());\n        var replace = getReplace(config, arrayMode, isOptional, squash);\n        var inherit$$1 = isDefined(config.inherit) ? !!config.inherit : !!type.inherit;\n        // array config: param name (param[]) overrides default settings.  explicit config overrides param name.\n        function getArrayMode() {\n            var arrayDefaults = { array: (location === exports.DefType.SEARCH ? \"auto\" : false) };\n            var arrayParamNomenclature = id.match(/\\[\\]$/) ? { array: true } : {};\n            return extend(arrayDefaults, arrayParamNomenclature, config).array;\n        }\n        extend(this, { id: id, type: type, location: location, isOptional: isOptional, dynamic: dynamic, raw: raw, squash: squash, replace: replace, inherit: inherit$$1, array: arrayMode, config: config });\n    }\n    Param.prototype.isDefaultValue = function (value) {\n        return this.isOptional && this.type.equals(this.value(), value);\n    };\n    /**\n     * [Internal] Gets the decoded representation of a value if the value is defined, otherwise, returns the\n     * default value, which may be the result of an injectable function.\n     */\n    Param.prototype.value = function (value) {\n        var _this = this;\n        /**\n         * [Internal] Get the default value of a parameter, which may be an injectable function.\n         */\n        var getDefaultValue = function () {\n            if (_this._defaultValueCache)\n                return _this._defaultValueCache.defaultValue;\n            if (!services.$injector)\n                throw new Error(\"Injectable functions cannot be called at configuration time\");\n            var defaultValue = services.$injector.invoke(_this.config.$$fn);\n            if (defaultValue !== null && defaultValue !== undefined && !_this.type.is(defaultValue))\n                throw new Error(\"Default value (\" + defaultValue + \") for parameter '\" + _this.id + \"' is not an instance of ParamType (\" + _this.type.name + \")\");\n            if (_this.config.$$fn['__cacheable']) {\n                _this._defaultValueCache = { defaultValue: defaultValue };\n            }\n            return defaultValue;\n        };\n        var replaceSpecialValues = function (val$$1) {\n            for (var _i = 0, _a = _this.replace; _i < _a.length; _i++) {\n                var tuple = _a[_i];\n                if (tuple.from === val$$1)\n                    return tuple.to;\n            }\n            return val$$1;\n        };\n        value = replaceSpecialValues(value);\n        return isUndefined(value) ? getDefaultValue() : this.type.$normalize(value);\n    };\n    Param.prototype.isSearch = function () {\n        return this.location === exports.DefType.SEARCH;\n    };\n    Param.prototype.validates = function (value) {\n        // There was no parameter value, but the param is optional\n        if ((isUndefined(value) || value === null) && this.isOptional)\n            return true;\n        // The value was not of the correct ParamType, and could not be decoded to the correct ParamType\n        var normalized = this.type.$normalize(value);\n        if (!this.type.is(normalized))\n            return false;\n        // The value was of the correct type, but when encoded, did not match the ParamType's regexp\n        var encoded = this.type.encode(normalized);\n        return !(isString(encoded) && !this.type.pattern.exec(encoded));\n    };\n    Param.prototype.toString = function () {\n        return \"{Param:\" + this.id + \" \" + this.type + \" squash: '\" + this.squash + \"' optional: \" + this.isOptional + \"}\";\n    };\n    Param.values = function (params, values$$1) {\n        if (values$$1 === void 0) { values$$1 = {}; }\n        var paramValues = {};\n        for (var _i = 0, params_1 = params; _i < params_1.length; _i++) {\n            var param = params_1[_i];\n            paramValues[param.id] = param.value(values$$1[param.id]);\n        }\n        return paramValues;\n    };\n    /**\n     * Finds [[Param]] objects which have different param values\n     *\n     * Filters a list of [[Param]] objects to only those whose parameter values differ in two param value objects\n     *\n     * @param params: The list of Param objects to filter\n     * @param values1: The first set of parameter values\n     * @param values2: the second set of parameter values\n     *\n     * @returns any Param objects whose values were different between values1 and values2\n     */\n    Param.changed = function (params, values1, values2) {\n        if (values1 === void 0) { values1 = {}; }\n        if (values2 === void 0) { values2 = {}; }\n        return params.filter(function (param) { return !param.type.equals(values1[param.id], values2[param.id]); });\n    };\n    /**\n     * Checks if two param value objects are equal (for a set of [[Param]] objects)\n     *\n     * @param params The list of [[Param]] objects to check\n     * @param values1 The first set of param values\n     * @param values2 The second set of param values\n     *\n     * @returns true if the param values in values1 and values2 are equal\n     */\n    Param.equals = function (params, values1, values2) {\n        if (values1 === void 0) { values1 = {}; }\n        if (values2 === void 0) { values2 = {}; }\n        return Param.changed(params, values1, values2).length === 0;\n    };\n    /** Returns true if a the parameter values are valid, according to the Param definitions */\n    Param.validates = function (params, values$$1) {\n        if (values$$1 === void 0) { values$$1 = {}; }\n        return params.map(function (param) { return param.validates(values$$1[param.id]); }).reduce(allTrueR, true);\n    };\n    return Param;\n}());\n\n/** @module path */ /** for typedoc */\n/**\n * @internalapi\n *\n * A node in a [[TreeChanges]] path\n *\n * For a [[TreeChanges]] path, this class holds the stateful information for a single node in the path.\n * Each PathNode corresponds to a state being entered, exited, or retained.\n * The stateful information includes parameter values and resolve data.\n */\nvar PathNode = (function () {\n    function PathNode(stateOrNode) {\n        if (stateOrNode instanceof PathNode) {\n            var node = stateOrNode;\n            this.state = node.state;\n            this.paramSchema = node.paramSchema.slice();\n            this.paramValues = extend({}, node.paramValues);\n            this.resolvables = node.resolvables.slice();\n            this.views = node.views && node.views.slice();\n        }\n        else {\n            var state = stateOrNode;\n            this.state = state;\n            this.paramSchema = state.parameters({ inherit: false });\n            this.paramValues = {};\n            this.resolvables = state.resolvables.map(function (res) { return res.clone(); });\n        }\n    }\n    /** Sets [[paramValues]] for the node, from the values of an object hash */\n    PathNode.prototype.applyRawParams = function (params) {\n        var getParamVal = function (paramDef) { return [paramDef.id, paramDef.value(params[paramDef.id])]; };\n        this.paramValues = this.paramSchema.reduce(function (memo, pDef) { return applyPairs(memo, getParamVal(pDef)); }, {});\n        return this;\n    };\n    /** Gets a specific [[Param]] metadata that belongs to the node */\n    PathNode.prototype.parameter = function (name) {\n        return find(this.paramSchema, propEq(\"id\", name));\n    };\n    /**\n     * @returns true if the state and parameter values for another PathNode are\n     * equal to the state and param values for this PathNode\n     */\n    PathNode.prototype.equals = function (node, paramsFn) {\n        var diff = this.diff(node, paramsFn);\n        return diff && diff.length === 0;\n    };\n    /**\n     * Finds Params with different parameter values on another PathNode.\n     *\n     * Given another node (of the same state), finds the parameter values which differ.\n     * Returns the [[Param]] (schema objects) whose parameter values differ.\n     *\n     * Given another node for a different state, returns `false`\n     *\n     * @param node The node to compare to\n     * @param paramsFn A function that returns which parameters should be compared.\n     * @returns The [[Param]]s which differ, or null if the two nodes are for different states\n     */\n    PathNode.prototype.diff = function (node, paramsFn) {\n        if (this.state !== node.state)\n            return false;\n        var params = paramsFn ? paramsFn(this) : this.paramSchema;\n        return Param.changed(params, this.paramValues, node.paramValues);\n    };\n    /** Returns a clone of the PathNode */\n    PathNode.clone = function (node) {\n        return new PathNode(node);\n    };\n    return PathNode;\n}());\n\n/** @module path */ /** for typedoc */\n/**\n * This class contains functions which convert TargetStates, Nodes and paths from one type to another.\n */\nvar PathUtils = (function () {\n    function PathUtils() {\n    }\n    /** Given a PathNode[], create an TargetState */\n    PathUtils.makeTargetState = function (path) {\n        var state = tail(path).state;\n        return new TargetState(state, state, path.map(prop(\"paramValues\")).reduce(mergeR, {}));\n    };\n    PathUtils.buildPath = function (targetState) {\n        var toParams = targetState.params();\n        return targetState.$state().path.map(function (state) { return new PathNode(state).applyRawParams(toParams); });\n    };\n    /** Given a fromPath: PathNode[] and a TargetState, builds a toPath: PathNode[] */\n    PathUtils.buildToPath = function (fromPath, targetState) {\n        var toPath = PathUtils.buildPath(targetState);\n        if (targetState.options().inherit) {\n            return PathUtils.inheritParams(fromPath, toPath, Object.keys(targetState.params()));\n        }\n        return toPath;\n    };\n    /**\n     * Creates ViewConfig objects and adds to nodes.\n     *\n     * On each [[PathNode]], creates ViewConfig objects from the views: property of the node's state\n     */\n    PathUtils.applyViewConfigs = function ($view, path, states) {\n        // Only apply the viewConfigs to the nodes for the given states\n        path.filter(function (node) { return inArray(states, node.state); }).forEach(function (node) {\n            var viewDecls = values(node.state.views || {});\n            var subPath = PathUtils.subPath(path, function (n) { return n === node; });\n            var viewConfigs = viewDecls.map(function (view) { return $view.createViewConfig(subPath, view); });\n            node.views = viewConfigs.reduce(unnestR, []);\n        });\n    };\n    /**\n     * Given a fromPath and a toPath, returns a new to path which inherits parameters from the fromPath\n     *\n     * For a parameter in a node to be inherited from the from path:\n     * - The toPath's node must have a matching node in the fromPath (by state).\n     * - The parameter name must not be found in the toKeys parameter array.\n     *\n     * Note: the keys provided in toKeys are intended to be those param keys explicitly specified by some\n     * caller, for instance, $state.transitionTo(..., toParams).  If a key was found in toParams,\n     * it is not inherited from the fromPath.\n     */\n    PathUtils.inheritParams = function (fromPath, toPath, toKeys) {\n        if (toKeys === void 0) { toKeys = []; }\n        function nodeParamVals(path, state) {\n            var node = find(path, propEq('state', state));\n            return extend({}, node && node.paramValues);\n        }\n        var noInherit = fromPath.map(function (node) { return node.paramSchema; })\n            .reduce(unnestR, [])\n            .filter(function (param) { return !param.inherit; })\n            .map(prop('id'));\n        /**\n         * Given an [[PathNode]] \"toNode\", return a new [[PathNode]] with param values inherited from the\n         * matching node in fromPath.  Only inherit keys that aren't found in \"toKeys\" from the node in \"fromPath\"\"\n         */\n        function makeInheritedParamsNode(toNode) {\n            // All param values for the node (may include default key/vals, when key was not found in toParams)\n            var toParamVals = extend({}, toNode && toNode.paramValues);\n            // limited to only those keys found in toParams\n            var incomingParamVals = pick(toParamVals, toKeys);\n            toParamVals = omit(toParamVals, toKeys);\n            var fromParamVals = omit(nodeParamVals(fromPath, toNode.state) || {}, noInherit);\n            // extend toParamVals with any fromParamVals, then override any of those those with incomingParamVals\n            var ownParamVals = extend(toParamVals, fromParamVals, incomingParamVals);\n            return new PathNode(toNode.state).applyRawParams(ownParamVals);\n        }\n        // The param keys specified by the incoming toParams\n        return toPath.map(makeInheritedParamsNode);\n    };\n    /**\n     * Computes the tree changes (entering, exiting) between a fromPath and toPath.\n     */\n    PathUtils.treeChanges = function (fromPath, toPath, reloadState) {\n        var keep = 0, max = Math.min(fromPath.length, toPath.length);\n        var nodesMatch = function (node1, node2) {\n            return node1.equals(node2, PathUtils.nonDynamicParams);\n        };\n        while (keep < max && fromPath[keep].state !== reloadState && nodesMatch(fromPath[keep], toPath[keep])) {\n            keep++;\n        }\n        /** Given a retained node, return a new node which uses the to node's param values */\n        function applyToParams(retainedNode, idx) {\n            var cloned = PathNode.clone(retainedNode);\n            cloned.paramValues = toPath[idx].paramValues;\n            return cloned;\n        }\n        var from, retained, exiting, entering, to;\n        from = fromPath;\n        retained = from.slice(0, keep);\n        exiting = from.slice(keep);\n        // Create a new retained path (with shallow copies of nodes) which have the params of the toPath mapped\n        var retainedWithToParams = retained.map(applyToParams);\n        entering = toPath.slice(keep);\n        to = (retainedWithToParams).concat(entering);\n        return { from: from, to: to, retained: retained, exiting: exiting, entering: entering };\n    };\n    /**\n     * Returns a new path which is: the subpath of the first path which matches the second path.\n     *\n     * The new path starts from root and contains any nodes that match the nodes in the second path.\n     * It stops before the first non-matching node.\n     *\n     * Nodes are compared using their state property and their parameter values.\n     * If a `paramsFn` is provided, only the [[Param]] returned by the function will be considered when comparing nodes.\n     *\n     * @param pathA the first path\n     * @param pathB the second path\n     * @param paramsFn a function which returns the parameters to consider when comparing\n     *\n     * @returns an array of PathNodes from the first path which match the nodes in the second path\n     */\n    PathUtils.matching = function (pathA, pathB, paramsFn) {\n        var done = false;\n        var tuples = arrayTuples(pathA, pathB);\n        return tuples.reduce(function (matching, _a) {\n            var nodeA = _a[0], nodeB = _a[1];\n            done = done || !nodeA.equals(nodeB, paramsFn);\n            return done ? matching : matching.concat(nodeA);\n        }, []);\n    };\n    /**\n     * Returns true if two paths are identical.\n     *\n     * @param pathA\n     * @param pathB\n     * @param paramsFn a function which returns the parameters to consider when comparing\n     * @returns true if the the states and parameter values for both paths are identical\n     */\n    PathUtils.equals = function (pathA, pathB, paramsFn) {\n        return pathA.length === pathB.length &&\n            PathUtils.matching(pathA, pathB, paramsFn).length === pathA.length;\n    };\n    /**\n     * Return a subpath of a path, which stops at the first matching node\n     *\n     * Given an array of nodes, returns a subset of the array starting from the first node,\n     * stopping when the first node matches the predicate.\n     *\n     * @param path a path of [[PathNode]]s\n     * @param predicate a [[Predicate]] fn that matches [[PathNode]]s\n     * @returns a subpath up to the matching node, or undefined if no match is found\n     */\n    PathUtils.subPath = function (path, predicate) {\n        var node = find(path, predicate);\n        var elementIdx = path.indexOf(node);\n        return elementIdx === -1 ? undefined : path.slice(0, elementIdx + 1);\n    };\n    return PathUtils;\n}());\nPathUtils.nonDynamicParams = function (node) {\n    return node.state.parameters({ inherit: false })\n        .filter(function (param) { return !param.dynamic; });\n};\n/** Gets the raw parameter values from a path */\nPathUtils.paramValues = function (path) {\n    return path.reduce(function (acc, node) { return extend(acc, node.paramValues); }, {});\n};\n\n/**\n * @coreapi\n * @module resolve\n */ /** for typedoc */\n// TODO: explicitly make this user configurable\nvar defaultResolvePolicy = {\n    when: \"LAZY\",\n    async: \"WAIT\"\n};\n/**\n * The basic building block for the resolve system.\n *\n * Resolvables encapsulate a state's resolve's resolveFn, the resolveFn's declared dependencies, the wrapped (.promise),\n * and the unwrapped-when-complete (.data) result of the resolveFn.\n *\n * Resolvable.get() either retrieves the Resolvable's existing promise, or else invokes resolve() (which invokes the\n * resolveFn) and returns the resulting promise.\n *\n * Resolvable.get() and Resolvable.resolve() both execute within a context path, which is passed as the first\n * parameter to those fns.\n */\nvar Resolvable = (function () {\n    function Resolvable(arg1, resolveFn, deps, policy, data) {\n        this.resolved = false;\n        this.promise = undefined;\n        if (arg1 instanceof Resolvable) {\n            extend(this, arg1);\n        }\n        else if (isFunction(resolveFn)) {\n            if (arg1 == null || arg1 == undefined)\n                throw new Error(\"new Resolvable(): token argument is required\");\n            if (!isFunction(resolveFn))\n                throw new Error(\"new Resolvable(): resolveFn argument must be a function\");\n            this.token = arg1;\n            this.policy = policy;\n            this.resolveFn = resolveFn;\n            this.deps = deps || [];\n            this.data = data;\n            this.resolved = data !== undefined;\n            this.promise = this.resolved ? services.$q.when(this.data) : undefined;\n        }\n        else if (isObject(arg1) && arg1.token && isFunction(arg1.resolveFn)) {\n            var literal = arg1;\n            return new Resolvable(literal.token, literal.resolveFn, literal.deps, literal.policy, literal.data);\n        }\n    }\n    Resolvable.prototype.getPolicy = function (state) {\n        var thisPolicy = this.policy || {};\n        var statePolicy = state && state.resolvePolicy || {};\n        return {\n            when: thisPolicy.when || statePolicy.when || defaultResolvePolicy.when,\n            async: thisPolicy.async || statePolicy.async || defaultResolvePolicy.async,\n        };\n    };\n    /**\n     * Asynchronously resolve this Resolvable's data\n     *\n     * Given a ResolveContext that this Resolvable is found in:\n     * Wait for this Resolvable's dependencies, then invoke this Resolvable's function\n     * and update the Resolvable's state\n     */\n    Resolvable.prototype.resolve = function (resolveContext, trans) {\n        var _this = this;\n        var $q = services.$q;\n        // Gets all dependencies from ResolveContext and wait for them to be resolved\n        var getResolvableDependencies = function () {\n            return $q.all(resolveContext.getDependencies(_this).map(function (resolvable) {\n                return resolvable.get(resolveContext, trans);\n            }));\n        };\n        // Invokes the resolve function passing the resolved dependencies as arguments\n        var invokeResolveFn = function (resolvedDeps) {\n            return _this.resolveFn.apply(null, resolvedDeps);\n        };\n        /**\n         * For RXWAIT policy:\n         *\n         * Given an observable returned from a resolve function:\n         * - enables .cache() mode (this allows multicast subscribers)\n         * - then calls toPromise() (this triggers subscribe() and thus fetches)\n         * - Waits for the promise, then return the cached observable (not the first emitted value).\n         */\n        var waitForRx = function (observable$) {\n            var cached = observable$.cache(1);\n            return cached.take(1).toPromise().then(function () { return cached; });\n        };\n        // If the resolve policy is RXWAIT, wait for the observable to emit something. otherwise pass through.\n        var node = resolveContext.findNode(this);\n        var state = node && node.state;\n        var maybeWaitForRx = this.getPolicy(state).async === \"RXWAIT\" ? waitForRx : identity;\n        // After the final value has been resolved, update the state of the Resolvable\n        var applyResolvedValue = function (resolvedValue) {\n            _this.data = resolvedValue;\n            _this.resolved = true;\n            trace.traceResolvableResolved(_this, trans);\n            return _this.data;\n        };\n        // Sets the promise property first, then getsResolvableDependencies in the context of the promise chain. Always waits one tick.\n        return this.promise = $q.when()\n            .then(getResolvableDependencies)\n            .then(invokeResolveFn)\n            .then(maybeWaitForRx)\n            .then(applyResolvedValue);\n    };\n    /**\n     * Gets a promise for this Resolvable's data.\n     *\n     * Fetches the data and returns a promise.\n     * Returns the existing promise if it has already been fetched once.\n     */\n    Resolvable.prototype.get = function (resolveContext, trans) {\n        return this.promise || this.resolve(resolveContext, trans);\n    };\n    Resolvable.prototype.toString = function () {\n        return \"Resolvable(token: \" + stringify(this.token) + \", requires: [\" + this.deps.map(stringify) + \"])\";\n    };\n    Resolvable.prototype.clone = function () {\n        return new Resolvable(this);\n    };\n    return Resolvable;\n}());\nResolvable.fromData = function (token, data) {\n    return new Resolvable(token, function () { return data; }, null, null, data);\n};\n\n/** @internalapi */\nvar resolvePolicies = {\n    when: {\n        LAZY: \"LAZY\",\n        EAGER: \"EAGER\"\n    },\n    async: {\n        WAIT: \"WAIT\",\n        NOWAIT: \"NOWAIT\",\n        RXWAIT: \"RXWAIT\"\n    }\n};\n\n/** @module resolve */\n/** for typedoc */\nvar when = resolvePolicies.when;\nvar ALL_WHENS = [when.EAGER, when.LAZY];\nvar EAGER_WHENS = [when.EAGER];\nvar NATIVE_INJECTOR_TOKEN = \"Native Injector\";\n/**\n * Encapsulates Dependency Injection for a path of nodes\n *\n * UI-Router states are organized as a tree.\n * A nested state has a path of ancestors to the root of the tree.\n * When a state is being activated, each element in the path is wrapped as a [[PathNode]].\n * A `PathNode` is a stateful object that holds things like parameters and resolvables for the state being activated.\n *\n * The ResolveContext closes over the [[PathNode]]s, and provides DI for the last node in the path.\n */\nvar ResolveContext = (function () {\n    function ResolveContext(_path) {\n        this._path = _path;\n    }\n    /** Gets all the tokens found in the resolve context, de-duplicated */\n    ResolveContext.prototype.getTokens = function () {\n        return this._path.reduce(function (acc, node) { return acc.concat(node.resolvables.map(function (r) { return r.token; })); }, []).reduce(uniqR, []);\n    };\n    /**\n     * Gets the Resolvable that matches the token\n     *\n     * Gets the last Resolvable that matches the token in this context, or undefined.\n     * Throws an error if it doesn't exist in the ResolveContext\n     */\n    ResolveContext.prototype.getResolvable = function (token) {\n        var matching = this._path.map(function (node) { return node.resolvables; })\n            .reduce(unnestR, [])\n            .filter(function (r) { return r.token === token; });\n        return tail(matching);\n    };\n    /** Returns the [[ResolvePolicy]] for the given [[Resolvable]] */\n    ResolveContext.prototype.getPolicy = function (resolvable) {\n        var node = this.findNode(resolvable);\n        return resolvable.getPolicy(node.state);\n    };\n    /**\n     * Returns a ResolveContext that includes a portion of this one\n     *\n     * Given a state, this method creates a new ResolveContext from this one.\n     * The new context starts at the first node (root) and stops at the node for the `state` parameter.\n     *\n     * #### Why\n     *\n     * When a transition is created, the nodes in the \"To Path\" are injected from a ResolveContext.\n     * A ResolveContext closes over a path of [[PathNode]]s and processes the resolvables.\n     * The \"To State\" can inject values from its own resolvables, as well as those from all its ancestor state's (node's).\n     * This method is used to create a narrower context when injecting ancestor nodes.\n     *\n     * @example\n     * `let ABCD = new ResolveContext([A, B, C, D]);`\n     *\n     * Given a path `[A, B, C, D]`, where `A`, `B`, `C` and `D` are nodes for states `a`, `b`, `c`, `d`:\n     * When injecting `D`, `D` should have access to all resolvables from `A`, `B`, `C`, `D`.\n     * However, `B` should only be able to access resolvables from `A`, `B`.\n     *\n     * When resolving for the `B` node, first take the full \"To Path\" Context `[A,B,C,D]` and limit to the subpath `[A,B]`.\n     * `let AB = ABCD.subcontext(a)`\n     */\n    ResolveContext.prototype.subContext = function (state) {\n        return new ResolveContext(PathUtils.subPath(this._path, function (node) { return node.state === state; }));\n    };\n    /**\n     * Adds Resolvables to the node that matches the state\n     *\n     * This adds a [[Resolvable]] (generally one created on the fly; not declared on a [[StateDeclaration.resolve]] block).\n     * The resolvable is added to the node matching the `state` parameter.\n     *\n     * These new resolvables are not automatically fetched.\n     * The calling code should either fetch them, fetch something that depends on them,\n     * or rely on [[resolvePath]] being called when some state is being entered.\n     *\n     * Note: each resolvable's [[ResolvePolicy]] is merged with the state's policy, and the global default.\n     *\n     * @param newResolvables the new Resolvables\n     * @param state Used to find the node to put the resolvable on\n     */\n    ResolveContext.prototype.addResolvables = function (newResolvables, state) {\n        var node = find(this._path, propEq('state', state));\n        var keys = newResolvables.map(function (r) { return r.token; });\n        node.resolvables = node.resolvables.filter(function (r) { return keys.indexOf(r.token) === -1; }).concat(newResolvables);\n    };\n    /**\n     * Returns a promise for an array of resolved path Element promises\n     *\n     * @param when\n     * @param trans\n     * @returns {Promise<any>|any}\n     */\n    ResolveContext.prototype.resolvePath = function (when, trans) {\n        var _this = this;\n        if (when === void 0) { when = \"LAZY\"; }\n        // This option determines which 'when' policy Resolvables we are about to fetch.\n        var whenOption = inArray(ALL_WHENS, when) ? when : \"LAZY\";\n        // If the caller specified EAGER, only the EAGER Resolvables are fetched.\n        // if the caller specified LAZY, both EAGER and LAZY Resolvables are fetched.`\n        var matchedWhens = whenOption === resolvePolicies.when.EAGER ? EAGER_WHENS : ALL_WHENS;\n        // get the subpath to the state argument, if provided\n        trace.traceResolvePath(this._path, when, trans);\n        var matchesPolicy = function (acceptedVals, whenOrAsync) {\n            return function (resolvable) {\n                return inArray(acceptedVals, _this.getPolicy(resolvable)[whenOrAsync]);\n            };\n        };\n        // Trigger all the (matching) Resolvables in the path\n        // Reduce all the \"WAIT\" Resolvables into an array\n        var promises = this._path.reduce(function (acc, node) {\n            var nodeResolvables = node.resolvables.filter(matchesPolicy(matchedWhens, 'when'));\n            var nowait = nodeResolvables.filter(matchesPolicy(['NOWAIT'], 'async'));\n            var wait = nodeResolvables.filter(not(matchesPolicy(['NOWAIT'], 'async')));\n            // For the matching Resolvables, start their async fetch process.\n            var subContext = _this.subContext(node.state);\n            var getResult = function (r) { return r.get(subContext, trans)\n                .then(function (value) { return ({ token: r.token, value: value }); }); };\n            nowait.forEach(getResult);\n            return acc.concat(wait.map(getResult));\n        }, []);\n        // Wait for all the \"WAIT\" resolvables\n        return services.$q.all(promises);\n    };\n    ResolveContext.prototype.injector = function () {\n        return this._injector || (this._injector = new UIInjectorImpl(this));\n    };\n    ResolveContext.prototype.findNode = function (resolvable) {\n        return find(this._path, function (node) { return inArray(node.resolvables, resolvable); });\n    };\n    /**\n     * Gets the async dependencies of a Resolvable\n     *\n     * Given a Resolvable, returns its dependencies as a Resolvable[]\n     */\n    ResolveContext.prototype.getDependencies = function (resolvable) {\n        var _this = this;\n        var node = this.findNode(resolvable);\n        // Find which other resolvables are \"visible\" to the `resolvable` argument\n        // subpath stopping at resolvable's node, or the whole path (if the resolvable isn't in the path)\n        var subPath = PathUtils.subPath(this._path, function (x) { return x === node; }) || this._path;\n        var availableResolvables = subPath\n            .reduce(function (acc, node) { return acc.concat(node.resolvables); }, []) //all of subpath's resolvables\n            .filter(function (res) { return res !== resolvable; }); // filter out the `resolvable` argument\n        var getDependency = function (token) {\n            var matching = availableResolvables.filter(function (r) { return r.token === token; });\n            if (matching.length)\n                return tail(matching);\n            var fromInjector = _this.injector().getNative(token);\n            if (!fromInjector) {\n                throw new Error(\"Could not find Dependency Injection token: \" + stringify(token));\n            }\n            return new Resolvable(token, function () { return fromInjector; }, [], fromInjector);\n        };\n        return resolvable.deps.map(getDependency);\n    };\n    return ResolveContext;\n}());\nvar UIInjectorImpl = (function () {\n    function UIInjectorImpl(context) {\n        this.context = context;\n        this.native = this.get(NATIVE_INJECTOR_TOKEN) || services.$injector;\n    }\n    UIInjectorImpl.prototype.get = function (token) {\n        var resolvable = this.context.getResolvable(token);\n        if (resolvable) {\n            if (this.context.getPolicy(resolvable).async === 'NOWAIT') {\n                return resolvable.get(this.context);\n            }\n            if (!resolvable.resolved) {\n                throw new Error(\"Resolvable async .get() not complete:\" + stringify(resolvable.token));\n            }\n            return resolvable.data;\n        }\n        return this.native && this.native.get(token);\n    };\n    UIInjectorImpl.prototype.getAsync = function (token) {\n        var resolvable = this.context.getResolvable(token);\n        if (resolvable)\n            return resolvable.get(this.context);\n        return services.$q.when(this.native.get(token));\n    };\n    UIInjectorImpl.prototype.getNative = function (token) {\n        return this.native && this.native.get(token);\n    };\n    return UIInjectorImpl;\n}());\n\n/**\n * @coreapi\n * @module transition\n */\n/** for typedoc */\n/** @hidden */\nvar stateSelf = prop(\"self\");\n/**\n * Represents a transition between two states.\n *\n * When navigating to a state, we are transitioning **from** the current state **to** the new state.\n *\n * This object contains all contextual information about the to/from states, parameters, resolves.\n * It has information about all states being entered and exited as a result of the transition.\n */\nvar Transition = (function () {\n    /**\n     * Creates a new Transition object.\n     *\n     * If the target state is not valid, an error is thrown.\n     *\n     * @internalapi\n     *\n     * @param fromPath The path of [[PathNode]]s from which the transition is leaving.  The last node in the `fromPath`\n     *        encapsulates the \"from state\".\n     * @param targetState The target state and parameters being transitioned to (also, the transition options)\n     * @param router The [[UIRouter]] instance\n     */\n    function Transition(fromPath, targetState, router) {\n        var _this = this;\n        /** @hidden */\n        this._deferred = services.$q.defer();\n        /**\n         * This promise is resolved or rejected based on the outcome of the Transition.\n         *\n         * When the transition is successful, the promise is resolved\n         * When the transition is unsuccessful, the promise is rejected with the [[Rejection]] or javascript error\n         */\n        this.promise = this._deferred.promise;\n        /** @hidden Holds the hook registration functions such as those passed to Transition.onStart() */\n        this._registeredHooks = {};\n        /** @hidden */\n        this._hookBuilder = new HookBuilder(this);\n        /** Checks if this transition is currently active/running. */\n        this.isActive = function () {\n            return _this.router.globals.transition === _this;\n        };\n        this.router = router;\n        this._targetState = targetState;\n        if (!targetState.valid()) {\n            throw new Error(targetState.error());\n        }\n        // current() is assumed to come from targetState.options, but provide a naive implementation otherwise.\n        this._options = extend({ current: val(this) }, targetState.options());\n        this.$id = router.transitionService._transitionCount++;\n        var toPath = PathUtils.buildToPath(fromPath, targetState);\n        this._treeChanges = PathUtils.treeChanges(fromPath, toPath, this._options.reloadState);\n        this.createTransitionHookRegFns();\n        var onCreateHooks = this._hookBuilder.buildHooksForPhase(exports.TransitionHookPhase.CREATE);\n        TransitionHook.invokeHooks(onCreateHooks, function () { return null; });\n        this.applyViewConfigs(router);\n    }\n    /** @hidden */\n    Transition.prototype.onBefore = function (criteria, callback, options) { return; };\n    /** @inheritdoc */\n    Transition.prototype.onStart = function (criteria, callback, options) { return; };\n    /** @inheritdoc */\n    Transition.prototype.onExit = function (criteria, callback, options) { return; };\n    /** @inheritdoc */\n    Transition.prototype.onRetain = function (criteria, callback, options) { return; };\n    /** @inheritdoc */\n    Transition.prototype.onEnter = function (criteria, callback, options) { return; };\n    /** @inheritdoc */\n    Transition.prototype.onFinish = function (criteria, callback, options) { return; };\n    /** @inheritdoc */\n    Transition.prototype.onSuccess = function (criteria, callback, options) { return; };\n    /** @inheritdoc */\n    Transition.prototype.onError = function (criteria, callback, options) { return; };\n    /** @hidden\n     * Creates the transition-level hook registration functions\n     * (which can then be used to register hooks)\n     */\n    Transition.prototype.createTransitionHookRegFns = function () {\n        var _this = this;\n        this.router.transitionService._pluginapi._getEvents()\n            .filter(function (type) { return type.hookPhase !== exports.TransitionHookPhase.CREATE; })\n            .forEach(function (type) { return makeEvent(_this, _this.router.transitionService, type); });\n    };\n    /** @internalapi */\n    Transition.prototype.getHooks = function (hookName) {\n        return this._registeredHooks[hookName];\n    };\n    Transition.prototype.applyViewConfigs = function (router) {\n        var enteringStates = this._treeChanges.entering.map(function (node) { return node.state; });\n        PathUtils.applyViewConfigs(router.transitionService.$view, this._treeChanges.to, enteringStates);\n    };\n    /**\n     * @internalapi\n     *\n     * @returns the internal from [State] object\n     */\n    Transition.prototype.$from = function () {\n        return tail(this._treeChanges.from).state;\n    };\n    /**\n     * @internalapi\n     *\n     * @returns the internal to [State] object\n     */\n    Transition.prototype.$to = function () {\n        return tail(this._treeChanges.to).state;\n    };\n    /**\n     * Returns the \"from state\"\n     *\n     * Returns the state that the transition is coming *from*.\n     *\n     * @returns The state declaration object for the Transition's (\"from state\").\n     */\n    Transition.prototype.from = function () {\n        return this.$from().self;\n    };\n    /**\n     * Returns the \"to state\"\n     *\n     * Returns the state that the transition is going *to*.\n     *\n     * @returns The state declaration object for the Transition's target state (\"to state\").\n     */\n    Transition.prototype.to = function () {\n        return this.$to().self;\n    };\n    /**\n     * Gets the Target State\n     *\n     * A transition's [[TargetState]] encapsulates the [[to]] state, the [[params]], and the [[options]] as a single object.\n     *\n     * @returns the [[TargetState]] of this Transition\n     */\n    Transition.prototype.targetState = function () {\n        return this._targetState;\n    };\n    /**\n     * Determines whether two transitions are equivalent.\n     * @deprecated\n     */\n    Transition.prototype.is = function (compare) {\n        if (compare instanceof Transition) {\n            // TODO: Also compare parameters\n            return this.is({ to: compare.$to().name, from: compare.$from().name });\n        }\n        return !((compare.to && !matchState(this.$to(), compare.to)) ||\n            (compare.from && !matchState(this.$from(), compare.from)));\n    };\n    Transition.prototype.params = function (pathname) {\n        if (pathname === void 0) { pathname = \"to\"; }\n        return Object.freeze(this._treeChanges[pathname].map(prop(\"paramValues\")).reduce(mergeR, {}));\n    };\n    /**\n     * Creates a [[UIInjector]] Dependency Injector\n     *\n     * Returns a Dependency Injector for the Transition's target state (to state).\n     * The injector provides resolve values which the target state has access to.\n     *\n     * The `UIInjector` can also provide values from the native root/global injector (ng1/ng2).\n     *\n     * #### Example:\n     * ```js\n     * .onEnter({ entering: 'myState' }, trans => {\n     *   var myResolveValue = trans.injector().get('myResolve');\n     *   // Inject a global service from the global/native injector (if it exists)\n     *   var MyService = trans.injector().get('MyService');\n     * })\n     * ```\n     *\n     * In some cases (such as `onBefore`), you may need access to some resolve data but it has not yet been fetched.\n     * You can use [[UIInjector.getAsync]] to get a promise for the data.\n     * #### Example:\n     * ```js\n     * .onBefore({}, trans => {\n     *   return trans.injector().getAsync('myResolve').then(myResolveValue =>\n     *     return myResolveValue !== 'ABORT';\n     *   });\n     * });\n     * ```\n     *\n     * If a `state` is provided, the injector that is returned will be limited to resolve values that the provided state has access to.\n     * This can be useful if both a parent state `foo` and a child state `foo.bar` have both defined a resolve such as `data`.\n     * #### Example:\n     * ```js\n     * .onEnter({ to: 'foo.bar' }, trans => {\n     *   // returns result of `foo` state's `data` resolve\n     *   // even though `foo.bar` also has a `data` resolve\n     *   var fooData = trans.injector('foo').get('data');\n     * });\n     * ```\n     *\n     * If you need resolve data from the exiting states, pass `'from'` as `pathName`.\n     * The resolve data from the `from` path will be returned.\n     * #### Example:\n     * ```js\n     * .onExit({ exiting: 'foo.bar' }, trans => {\n     *   // Gets the resolve value of `data` from the exiting state.\n     *   var fooData = trans.injector(null, 'foo.bar').get('data');\n     * });\n     * ```\n     *\n     *\n     * @param state Limits the resolves provided to only the resolves the provided state has access to.\n     * @param pathName Default: `'to'`: Chooses the path for which to create the injector. Use this to access resolves for `exiting` states.\n     *\n     * @returns a [[UIInjector]]\n     */\n    Transition.prototype.injector = function (state, pathName) {\n        if (pathName === void 0) { pathName = \"to\"; }\n        var path = this._treeChanges[pathName];\n        if (state)\n            path = PathUtils.subPath(path, function (node) { return node.state === state || node.state.name === state; });\n        return new ResolveContext(path).injector();\n    };\n    /**\n     * Gets all available resolve tokens (keys)\n     *\n     * This method can be used in conjunction with [[injector]] to inspect the resolve values\n     * available to the Transition.\n     *\n     * This returns all the tokens defined on [[StateDeclaration.resolve]] blocks, for the states\n     * in the Transition's [[TreeChanges.to]] path.\n     *\n     * #### Example:\n     * This example logs all resolve values\n     * ```js\n     * let tokens = trans.getResolveTokens();\n     * tokens.forEach(token => console.log(token + \" = \" + trans.injector().get(token)));\n     * ```\n     *\n     * #### Example:\n     * This example creates promises for each resolve value.\n     * This triggers fetches of resolves (if any have not yet been fetched).\n     * When all promises have all settled, it logs the resolve values.\n     * ```js\n     * let tokens = trans.getResolveTokens();\n     * let promise = tokens.map(token => trans.injector().getAsync(token));\n     * Promise.all(promises).then(values => console.log(\"Resolved values: \" + values));\n     * ```\n     *\n     * Note: Angular 1 users whould use `$q.all()`\n     *\n     * @param pathname resolve context's path name (e.g., `to` or `from`)\n     *\n     * @returns an array of resolve tokens (keys)\n     */\n    Transition.prototype.getResolveTokens = function (pathname) {\n        if (pathname === void 0) { pathname = \"to\"; }\n        return new ResolveContext(this._treeChanges[pathname]).getTokens();\n    };\n    /**\n     * Dynamically adds a new [[Resolvable]] (i.e., [[StateDeclaration.resolve]]) to this transition.\n     *\n     * #### Example:\n     * ```js\n     * transitionService.onBefore({}, transition => {\n     *   transition.addResolvable({\n     *     token: 'myResolve',\n     *     deps: ['MyService'],\n     *     resolveFn: myService => myService.getData()\n     *   });\n     * });\n     * ```\n     *\n     * @param resolvable a [[ResolvableLiteral]] object (or a [[Resolvable]])\n     * @param state the state in the \"to path\" which should receive the new resolve (otherwise, the root state)\n     */\n    Transition.prototype.addResolvable = function (resolvable, state) {\n        if (state === void 0) { state = \"\"; }\n        resolvable = is(Resolvable)(resolvable) ? resolvable : new Resolvable(resolvable);\n        var stateName = (typeof state === \"string\") ? state : state.name;\n        var topath = this._treeChanges.to;\n        var targetNode = find(topath, function (node) { return node.state.name === stateName; });\n        var resolveContext = new ResolveContext(topath);\n        resolveContext.addResolvables([resolvable], targetNode.state);\n    };\n    /**\n     * Gets the transition from which this transition was redirected.\n     *\n     * If the current transition is a redirect, this method returns the transition that was redirected.\n     *\n     * #### Example:\n     * ```js\n     * let transitionA = $state.go('A').transition\n     * transitionA.onStart({}, () => $state.target('B'));\n     * $transitions.onSuccess({ to: 'B' }, (trans) => {\n     *   trans.to().name === 'B'; // true\n     *   trans.redirectedFrom() === transitionA; // true\n     * });\n     * ```\n     *\n     * @returns The previous Transition, or null if this Transition is not the result of a redirection\n     */\n    Transition.prototype.redirectedFrom = function () {\n        return this._options.redirectedFrom || null;\n    };\n    /**\n     * Gets the original transition in a redirect chain\n     *\n     * A transition might belong to a long chain of multiple redirects.\n     * This method walks the [[redirectedFrom]] chain back to the original (first) transition in the chain.\n     *\n     * #### Example:\n     * ```js\n     * // states\n     * registry.register({ name: 'A', redirectTo: 'B' });\n     * registry.register({ name: 'B', redirectTo: 'C' });\n     * registry.register({ name: 'C', redirectTo: 'D' });\n     * registry.register({ name: 'D' });\n     *\n     * let transitionA = $state.go('A').transition\n     *\n     * $transitions.onSuccess({ to: 'D' }, (trans) => {\n     *   trans.to().name === 'D'; // true\n     *   trans.redirectedFrom().to().name === 'C'; // true\n     *   trans.originalTransition() === transitionA; // true\n     *   trans.originalTransition().to().name === 'A'; // true\n     * });\n     * ```\n     *\n     * @returns The original Transition that started a redirect chain\n     */\n    Transition.prototype.originalTransition = function () {\n        var rf = this.redirectedFrom();\n        return (rf && rf.originalTransition()) || this;\n    };\n    /**\n     * Get the transition options\n     *\n     * @returns the options for this Transition.\n     */\n    Transition.prototype.options = function () {\n        return this._options;\n    };\n    /**\n     * Gets the states being entered.\n     *\n     * @returns an array of states that will be entered during this transition.\n     */\n    Transition.prototype.entering = function () {\n        return map(this._treeChanges.entering, prop('state')).map(stateSelf);\n    };\n    /**\n     * Gets the states being exited.\n     *\n     * @returns an array of states that will be exited during this transition.\n     */\n    Transition.prototype.exiting = function () {\n        return map(this._treeChanges.exiting, prop('state')).map(stateSelf).reverse();\n    };\n    /**\n     * Gets the states being retained.\n     *\n     * @returns an array of states that are already entered from a previous Transition, that will not be\n     *    exited during this Transition\n     */\n    Transition.prototype.retained = function () {\n        return map(this._treeChanges.retained, prop('state')).map(stateSelf);\n    };\n    /**\n     * Get the [[ViewConfig]]s associated with this Transition\n     *\n     * Each state can define one or more views (template/controller), which are encapsulated as `ViewConfig` objects.\n     * This method fetches the `ViewConfigs` for a given path in the Transition (e.g., \"to\" or \"entering\").\n     *\n     * @param pathname the name of the path to fetch views for:\n     *   (`'to'`, `'from'`, `'entering'`, `'exiting'`, `'retained'`)\n     * @param state If provided, only returns the `ViewConfig`s for a single state in the path\n     *\n     * @returns a list of ViewConfig objects for the given path.\n     */\n    Transition.prototype.views = function (pathname, state) {\n        if (pathname === void 0) { pathname = \"entering\"; }\n        var path = this._treeChanges[pathname];\n        path = !state ? path : path.filter(propEq('state', state));\n        return path.map(prop(\"views\")).filter(identity).reduce(unnestR, []);\n    };\n    Transition.prototype.treeChanges = function (pathname) {\n        return pathname ? this._treeChanges[pathname] : this._treeChanges;\n    };\n    /**\n     * Creates a new transition that is a redirection of the current one.\n     *\n     * This transition can be returned from a [[TransitionService]] hook to\n     * redirect a transition to a new state and/or set of parameters.\n     *\n     * @internalapi\n     *\n     * @returns Returns a new [[Transition]] instance.\n     */\n    Transition.prototype.redirect = function (targetState) {\n        var redirects = 1, trans = this;\n        while ((trans = trans.redirectedFrom()) != null) {\n            if (++redirects > 20)\n                throw new Error(\"Too many consecutive Transition redirects (20+)\");\n        }\n        var redirectOpts = { redirectedFrom: this, source: \"redirect\" };\n        // If the original transition was caused by URL sync, then use { location: 'replace' }\n        // on the new transition (unless the target state explicitly specifies location: false).\n        // This causes the original url to be replaced with the url for the redirect target\n        // so the original url disappears from the browser history.\n        if (this.options().source === 'url' && targetState.options().location !== false) {\n            redirectOpts.location = 'replace';\n        }\n        var newOptions = extend({}, this.options(), targetState.options(), redirectOpts);\n        targetState = new TargetState(targetState.identifier(), targetState.$state(), targetState.params(), newOptions);\n        var newTransition = this.router.transitionService.create(this._treeChanges.from, targetState);\n        var originalEnteringNodes = this._treeChanges.entering;\n        var redirectEnteringNodes = newTransition._treeChanges.entering;\n        // --- Re-use resolve data from original transition ---\n        // When redirecting from a parent state to a child state where the parent parameter values haven't changed\n        // (because of the redirect), the resolves fetched by the original transition are still valid in the\n        // redirected transition.\n        //\n        // This allows you to define a redirect on a parent state which depends on an async resolve value.\n        // You can wait for the resolve, then redirect to a child state based on the result.\n        // The redirected transition does not have to re-fetch the resolve.\n        // ---------------------------------------------------------\n        var nodeIsReloading = function (reloadState) { return function (node) {\n            return reloadState && node.state.includes[reloadState.name];\n        }; };\n        // Find any \"entering\" nodes in the redirect path that match the original path and aren't being reloaded\n        var matchingEnteringNodes = PathUtils.matching(redirectEnteringNodes, originalEnteringNodes, PathUtils.nonDynamicParams)\n            .filter(not(nodeIsReloading(targetState.options().reloadState)));\n        // Use the existing (possibly pre-resolved) resolvables for the matching entering nodes.\n        matchingEnteringNodes.forEach(function (node, idx) {\n            node.resolvables = originalEnteringNodes[idx].resolvables;\n        });\n        return newTransition;\n    };\n    /** @hidden If a transition doesn't exit/enter any states, returns any [[Param]] whose value changed */\n    Transition.prototype._changedParams = function () {\n        var tc = this._treeChanges;\n        /** Return undefined if it's not a \"dynamic\" transition, for the following reasons */\n        // If user explicitly wants a reload\n        if (this._options.reload)\n            return undefined;\n        // If any states are exiting or entering\n        if (tc.exiting.length || tc.entering.length)\n            return undefined;\n        // If to/from path lengths differ\n        if (tc.to.length !== tc.from.length)\n            return undefined;\n        // If the to/from paths are different\n        var pathsDiffer = arrayTuples(tc.to, tc.from)\n            .map(function (tuple) { return tuple[0].state !== tuple[1].state; })\n            .reduce(anyTrueR, false);\n        if (pathsDiffer)\n            return undefined;\n        // Find any parameter values that differ\n        var nodeSchemas = tc.to.map(function (node) { return node.paramSchema; });\n        var _a = [tc.to, tc.from].map(function (path) { return path.map(function (x) { return x.paramValues; }); }), toValues = _a[0], fromValues = _a[1];\n        var tuples = arrayTuples(nodeSchemas, toValues, fromValues);\n        return tuples.map(function (_a) {\n            var schema = _a[0], toVals = _a[1], fromVals = _a[2];\n            return Param.changed(schema, toVals, fromVals);\n        }).reduce(unnestR, []);\n    };\n    /**\n     * Returns true if the transition is dynamic.\n     *\n     * A transition is dynamic if no states are entered nor exited, but at least one dynamic parameter has changed.\n     *\n     * @returns true if the Transition is dynamic\n     */\n    Transition.prototype.dynamic = function () {\n        var changes = this._changedParams();\n        return !changes ? false : changes.map(function (x) { return x.dynamic; }).reduce(anyTrueR, false);\n    };\n    /**\n     * Returns true if the transition is ignored.\n     *\n     * A transition is ignored if no states are entered nor exited, and no parameter values have changed.\n     *\n     * @returns true if the Transition is ignored.\n     */\n    Transition.prototype.ignored = function () {\n        return !!this._ignoredReason();\n    };\n    /** @hidden */\n    Transition.prototype._ignoredReason = function () {\n        var pending = this.router.globals.transition;\n        var reloadState = this._options.reloadState;\n        var same = function (pathA, pathB) {\n            if (pathA.length !== pathB.length)\n                return false;\n            var matching = PathUtils.matching(pathA, pathB);\n            return pathA.length === matching.filter(function (node) { return !reloadState || !node.state.includes[reloadState.name]; }).length;\n        };\n        var newTC = this.treeChanges();\n        var pendTC = pending && pending.treeChanges();\n        if (pendTC && same(pendTC.to, newTC.to) && same(pendTC.exiting, newTC.exiting))\n            return \"SameAsPending\";\n        if (newTC.exiting.length === 0 && newTC.entering.length === 0 && same(newTC.from, newTC.to))\n            return \"SameAsCurrent\";\n    };\n    /**\n     * Runs the transition\n     *\n     * This method is generally called from the [[StateService.transitionTo]]\n     *\n     * @internalapi\n     *\n     * @returns a promise for a successful transition.\n     */\n    Transition.prototype.run = function () {\n        var _this = this;\n        var runAllHooks = TransitionHook.runAllHooks;\n        // Gets transition hooks array for the given phase\n        var getHooksFor = function (phase) {\n            return _this._hookBuilder.buildHooksForPhase(phase);\n        };\n        // When the chain is complete, then resolve or reject the deferred\n        var transitionSuccess = function () {\n            trace.traceSuccess(_this.$to(), _this);\n            _this.success = true;\n            _this._deferred.resolve(_this.to());\n            runAllHooks(getHooksFor(exports.TransitionHookPhase.SUCCESS));\n        };\n        var transitionError = function (reason) {\n            trace.traceError(reason, _this);\n            _this.success = false;\n            _this._deferred.reject(reason);\n            _this._error = reason;\n            runAllHooks(getHooksFor(exports.TransitionHookPhase.ERROR));\n        };\n        var runTransition = function () {\n            // Wait to build the RUN hook chain until the BEFORE hooks are done\n            // This allows a BEFORE hook to dynamically add additional RUN hooks via the Transition object.\n            var allRunHooks = getHooksFor(exports.TransitionHookPhase.RUN);\n            var done = function () { return services.$q.when(undefined); };\n            return TransitionHook.invokeHooks(allRunHooks, done);\n        };\n        var startTransition = function () {\n            var globals = _this.router.globals;\n            globals.lastStartedTransitionId = _this.$id;\n            globals.transition = _this;\n            globals.transitionHistory.enqueue(_this);\n            trace.traceTransitionStart(_this);\n            return services.$q.when(undefined);\n        };\n        var allBeforeHooks = getHooksFor(exports.TransitionHookPhase.BEFORE);\n        TransitionHook.invokeHooks(allBeforeHooks, startTransition)\n            .then(runTransition)\n            .then(transitionSuccess, transitionError);\n        return this.promise;\n    };\n    /**\n     * Checks if the Transition is valid\n     *\n     * @returns true if the Transition is valid\n     */\n    Transition.prototype.valid = function () {\n        return !this.error() || this.success !== undefined;\n    };\n    /**\n     * Aborts this transition\n     *\n     * Imperative API to abort a Transition.\n     * This only applies to Transitions that are not yet complete.\n     */\n    Transition.prototype.abort = function () {\n        // Do not set flag if the transition is already complete\n        if (isUndefined(this.success)) {\n            this._aborted = true;\n        }\n    };\n    /**\n     * The Transition error reason.\n     *\n     * If the transition is invalid (and could not be run), returns the reason the transition is invalid.\n     * If the transition was valid and ran, but was not successful, returns the reason the transition failed.\n     *\n     * @returns an error message explaining why the transition is invalid, or the reason the transition failed.\n     */\n    Transition.prototype.error = function () {\n        var state = this.$to();\n        if (state.self.abstract)\n            return \"Cannot transition to abstract state '\" + state.name + \"'\";\n        if (!Param.validates(state.parameters(), this.params()))\n            return \"Param values not valid for state '\" + state.name + \"'\";\n        if (this.success === false)\n            return this._error;\n    };\n    /**\n     * A string representation of the Transition\n     *\n     * @returns A string representation of the Transition\n     */\n    Transition.prototype.toString = function () {\n        var fromStateOrName = this.from();\n        var toStateOrName = this.to();\n        var avoidEmptyHash = function (params) {\n            return (params[\"#\"] !== null && params[\"#\"] !== undefined) ? params : omit(params, [\"#\"]);\n        };\n        // (X) means the to state is invalid.\n        var id = this.$id, from = isObject(fromStateOrName) ? fromStateOrName.name : fromStateOrName, fromParams = toJson(avoidEmptyHash(this._treeChanges.from.map(prop('paramValues')).reduce(mergeR, {}))), toValid = this.valid() ? \"\" : \"(X) \", to = isObject(toStateOrName) ? toStateOrName.name : toStateOrName, toParams = toJson(avoidEmptyHash(this.params()));\n        return \"Transition#\" + id + \"( '\" + from + \"'\" + fromParams + \" -> \" + toValid + \"'\" + to + \"'\" + toParams + \" )\";\n    };\n    return Transition;\n}());\n/** @hidden */\nTransition.diToken = Transition;\n\n/**\n * Functions that manipulate strings\n *\n * Although these functions are exported, they are subject to change without notice.\n *\n * @module common_strings\n */ /** */\n/**\n * Returns a string shortened to a maximum length\n *\n * If the string is already less than the `max` length, return the string.\n * Else return the string, shortened to `max - 3` and append three dots (\"...\").\n *\n * @param max the maximum length of the string to return\n * @param str the input string\n */\nfunction maxLength(max, str) {\n    if (str.length <= max)\n        return str;\n    return str.substr(0, max - 3) + \"...\";\n}\n/**\n * Returns a string, with spaces added to the end, up to a desired str length\n *\n * If the string is already longer than the desired length, return the string.\n * Else returns the string, with extra spaces on the end, such that it reaches `length` characters.\n *\n * @param length the desired length of the string to return\n * @param str the input string\n */\nfunction padString(length, str) {\n    while (str.length < length)\n        str += \" \";\n    return str;\n}\nfunction kebobString(camelCase) {\n    return camelCase\n        .replace(/^([A-Z])/, function ($1) { return $1.toLowerCase(); }) // replace first char\n        .replace(/([A-Z])/g, function ($1) { return \"-\" + $1.toLowerCase(); }); // replace rest\n}\nfunction functionToString(fn) {\n    var fnStr = fnToString(fn);\n    var namedFunctionMatch = fnStr.match(/^(function [^ ]+\\([^)]*\\))/);\n    var toStr = namedFunctionMatch ? namedFunctionMatch[1] : fnStr;\n    var fnName = fn['name'] || \"\";\n    if (fnName && toStr.match(/function \\(/)) {\n        return 'function ' + fnName + toStr.substr(9);\n    }\n    return toStr;\n}\nfunction fnToString(fn) {\n    var _fn = isArray(fn) ? fn.slice(-1)[0] : fn;\n    return _fn && _fn.toString() || \"undefined\";\n}\nvar stringifyPatternFn = null;\nvar stringifyPattern = function (value) {\n    var isRejection = Rejection.isRejectionPromise;\n    stringifyPatternFn = stringifyPatternFn || pattern([\n        [not(isDefined), val(\"undefined\")],\n        [isNull, val(\"null\")],\n        [isPromise, val(\"[Promise]\")],\n        [isRejection, function (x) { return x._transitionRejection.toString(); }],\n        [is(Rejection), invoke(\"toString\")],\n        [is(Transition), invoke(\"toString\")],\n        [is(Resolvable), invoke(\"toString\")],\n        [isInjectable, functionToString],\n        [val(true), identity]\n    ]);\n    return stringifyPatternFn(value);\n};\nfunction stringify(o) {\n    var seen = [];\n    function format(val$$1) {\n        if (isObject(val$$1)) {\n            if (seen.indexOf(val$$1) !== -1)\n                return '[circular ref]';\n            seen.push(val$$1);\n        }\n        return stringifyPattern(val$$1);\n    }\n    return JSON.stringify(o, function (key, val$$1) { return format(val$$1); }).replace(/\\\\\"/g, '\"');\n}\n/** Returns a function that splits a string on a character or substring */\nvar beforeAfterSubstr = function (char) { return function (str) {\n    if (!str)\n        return [\"\", \"\"];\n    var idx = str.indexOf(char);\n    if (idx === -1)\n        return [str, \"\"];\n    return [str.substr(0, idx), str.substr(idx + 1)];\n}; };\n/**\n * Splits on a delimiter, but returns the delimiters in the array\n *\n * #### Example:\n * ```js\n * var splitOnSlashes = splitOnDelim('/');\n * splitOnSlashes(\"/foo\"); // [\"/\", \"foo\"]\n * splitOnSlashes(\"/foo/\"); // [\"/\", \"foo\", \"/\"]\n * ```\n */\nfunction splitOnDelim(delim) {\n    var re = new RegExp(\"(\" + delim + \")\", \"g\");\n    return function (str) {\n        return str.split(re).filter(identity);\n    };\n}\n\n/**\n * Reduce fn that joins neighboring strings\n *\n * Given an array of strings, returns a new array\n * where all neighboring strings have been joined.\n *\n * #### Example:\n * ```js\n * let arr = [\"foo\", \"bar\", 1, \"baz\", \"\", \"qux\" ];\n * arr.reduce(joinNeighborsR, []) // [\"foobar\", 1, \"bazqux\" ]\n * ```\n */\nfunction joinNeighborsR(acc, x) {\n    if (isString(tail(acc)) && isString(x))\n        return acc.slice(0, -1).concat(tail(acc) + x);\n    return pushR(acc, x);\n}\n\n/** @module common */ /** for typedoc */\n\n/**\n * @coreapi\n * @module params\n */\n/** */\n/**\n * A registry for parameter types.\n *\n * This registry manages the built-in (and custom) parameter types.\n *\n * The built-in parameter types are:\n *\n * - [[string]]\n * - [[path]]\n * - [[query]]\n * - [[hash]]\n * - [[int]]\n * - [[bool]]\n * - [[date]]\n * - [[json]]\n * - [[any]]\n */\nvar ParamTypes = (function () {\n    /** @internalapi */\n    function ParamTypes() {\n        /** @hidden */\n        this.enqueue = true;\n        /** @hidden */\n        this.typeQueue = [];\n        /** @internalapi */\n        this.defaultTypes = pick(ParamTypes.prototype, [\"hash\", \"string\", \"query\", \"path\", \"int\", \"bool\", \"date\", \"json\", \"any\"]);\n        // Register default types. Store them in the prototype of this.types.\n        var makeType = function (definition, name) {\n            return new ParamType(extend({ name: name }, definition));\n        };\n        this.types = inherit(map(this.defaultTypes, makeType), {});\n    }\n    /** @internalapi */\n    ParamTypes.prototype.dispose = function () {\n        this.types = {};\n    };\n    /**\n     * Registers a parameter type\n     *\n     * End users should call [[UrlMatcherFactory.type]], which delegates to this method.\n     */\n    ParamTypes.prototype.type = function (name, definition, definitionFn) {\n        if (!isDefined(definition))\n            return this.types[name];\n        if (this.types.hasOwnProperty(name))\n            throw new Error(\"A type named '\" + name + \"' has already been defined.\");\n        this.types[name] = new ParamType(extend({ name: name }, definition));\n        if (definitionFn) {\n            this.typeQueue.push({ name: name, def: definitionFn });\n            if (!this.enqueue)\n                this._flushTypeQueue();\n        }\n        return this;\n    };\n    /** @internalapi */\n    ParamTypes.prototype._flushTypeQueue = function () {\n        while (this.typeQueue.length) {\n            var type = this.typeQueue.shift();\n            if (type.pattern)\n                throw new Error(\"You cannot override a type's .pattern at runtime.\");\n            extend(this.types[type.name], services.$injector.invoke(type.def));\n        }\n    };\n    return ParamTypes;\n}());\n/** @hidden */\nfunction initDefaultTypes() {\n    var makeDefaultType = function (def) {\n        var valToString = function (val$$1) {\n            return val$$1 != null ? val$$1.toString() : val$$1;\n        };\n        var defaultTypeBase = {\n            encode: valToString,\n            decode: valToString,\n            is: is(String),\n            pattern: /.*/,\n            equals: function (a, b) { return a == b; },\n        };\n        return extend({}, defaultTypeBase, def);\n    };\n    // Default Parameter Type Definitions\n    extend(ParamTypes.prototype, {\n        string: makeDefaultType({}),\n        path: makeDefaultType({\n            pattern: /[^/]*/,\n        }),\n        query: makeDefaultType({}),\n        hash: makeDefaultType({\n            inherit: false,\n        }),\n        int: makeDefaultType({\n            decode: function (val$$1) { return parseInt(val$$1, 10); },\n            is: function (val$$1) {\n                return !isNullOrUndefined(val$$1) && this.decode(val$$1.toString()) === val$$1;\n            },\n            pattern: /-?\\d+/,\n        }),\n        bool: makeDefaultType({\n            encode: function (val$$1) { return val$$1 && 1 || 0; },\n            decode: function (val$$1) { return parseInt(val$$1, 10) !== 0; },\n            is: is(Boolean),\n            pattern: /0|1/\n        }),\n        date: makeDefaultType({\n            encode: function (val$$1) {\n                return !this.is(val$$1) ? undefined : [\n                    val$$1.getFullYear(),\n                    ('0' + (val$$1.getMonth() + 1)).slice(-2),\n                    ('0' + val$$1.getDate()).slice(-2)\n                ].join(\"-\");\n            },\n            decode: function (val$$1) {\n                if (this.is(val$$1))\n                    return val$$1;\n                var match = this.capture.exec(val$$1);\n                return match ? new Date(match[1], match[2] - 1, match[3]) : undefined;\n            },\n            is: function (val$$1) { return val$$1 instanceof Date && !isNaN(val$$1.valueOf()); },\n            equals: function (l, r) {\n                return ['getFullYear', 'getMonth', 'getDate']\n                    .reduce(function (acc, fn) { return acc && l[fn]() === r[fn](); }, true);\n            },\n            pattern: /[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,\n            capture: /([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/\n        }),\n        json: makeDefaultType({\n            encode: toJson,\n            decode: fromJson,\n            is: is(Object),\n            equals: equals,\n            pattern: /[^/]*/\n        }),\n        // does not encode/decode\n        any: makeDefaultType({\n            encode: identity,\n            decode: identity,\n            is: function () { return true; },\n            equals: equals,\n        }),\n    });\n}\ninitDefaultTypes();\n\n/**\n * @coreapi\n * @module params\n */\n/** */\n/** @internalapi */\nvar StateParams = (function () {\n    function StateParams(params) {\n        if (params === void 0) { params = {}; }\n        extend(this, params);\n    }\n    /**\n     * Merges a set of parameters with all parameters inherited between the common parents of the\n     * current state and a given destination state.\n     *\n     * @param {Object} newParams The set of parameters which will be composited with inherited params.\n     * @param {Object} $current Internal definition of object representing the current state.\n     * @param {Object} $to Internal definition of object representing state to transition to.\n     */\n    StateParams.prototype.$inherit = function (newParams, $current, $to) {\n        var parents = ancestors($current, $to), parentParams, inherited = {}, inheritList = [];\n        for (var i in parents) {\n            if (!parents[i] || !parents[i].params)\n                continue;\n            parentParams = Object.keys(parents[i].params);\n            if (!parentParams.length)\n                continue;\n            for (var j in parentParams) {\n                if (inheritList.indexOf(parentParams[j]) >= 0)\n                    continue;\n                inheritList.push(parentParams[j]);\n                inherited[parentParams[j]] = this[parentParams[j]];\n            }\n        }\n        return extend({}, inherited, newParams);\n    };\n    \n    return StateParams;\n}());\n\n/** @module path */ /** for typedoc */\n\n/** @module resolve */ /** for typedoc */\n\n/** @module state */ /** for typedoc */\nvar parseUrl = function (url) {\n    if (!isString(url))\n        return false;\n    var root = url.charAt(0) === '^';\n    return { val: root ? url.substring(1) : url, root: root };\n};\nfunction nameBuilder(state) {\n    return state.name;\n}\nfunction selfBuilder(state) {\n    state.self.$$state = function () { return state; };\n    return state.self;\n}\nfunction dataBuilder(state) {\n    if (state.parent && state.parent.data) {\n        state.data = state.self.data = inherit(state.parent.data, state.data);\n    }\n    return state.data;\n}\nvar getUrlBuilder = function ($urlMatcherFactoryProvider, root) {\n    return function urlBuilder(state) {\n        var stateDec = state;\n        // For future states, i.e., states whose name ends with `.**`,\n        // match anything that starts with the url prefix\n        if (stateDec && stateDec.url && stateDec.name && stateDec.name.match(/\\.\\*\\*$/)) {\n            stateDec.url += \"{remainder:any}\"; // match any path (.*)\n        }\n        var parsed = parseUrl(stateDec.url), parent = state.parent;\n        var url = !parsed ? stateDec.url : $urlMatcherFactoryProvider.compile(parsed.val, {\n            params: state.params || {},\n            paramMap: function (paramConfig, isSearch) {\n                if (stateDec.reloadOnSearch === false && isSearch)\n                    paramConfig = extend(paramConfig || {}, { dynamic: true });\n                return paramConfig;\n            }\n        });\n        if (!url)\n            return null;\n        if (!$urlMatcherFactoryProvider.isMatcher(url))\n            throw new Error(\"Invalid url '\" + url + \"' in state '\" + state + \"'\");\n        return (parsed && parsed.root) ? url : ((parent && parent.navigable) || root()).url.append(url);\n    };\n};\nvar getNavigableBuilder = function (isRoot) {\n    return function navigableBuilder(state) {\n        return !isRoot(state) && state.url ? state : (state.parent ? state.parent.navigable : null);\n    };\n};\nvar getParamsBuilder = function (paramFactory) {\n    return function paramsBuilder(state) {\n        var makeConfigParam = function (config, id) { return paramFactory.fromConfig(id, null, config); };\n        var urlParams = (state.url && state.url.parameters({ inherit: false })) || [];\n        var nonUrlParams = values(mapObj(omit(state.params || {}, urlParams.map(prop('id'))), makeConfigParam));\n        return urlParams.concat(nonUrlParams).map(function (p) { return [p.id, p]; }).reduce(applyPairs, {});\n    };\n};\nfunction pathBuilder(state) {\n    return state.parent ? state.parent.path.concat(state) : [state];\n}\nfunction includesBuilder(state) {\n    var includes = state.parent ? extend({}, state.parent.includes) : {};\n    includes[state.name] = true;\n    return includes;\n}\n/**\n * This is a [[StateBuilder.builder]] function for the `resolve:` block on a [[StateDeclaration]].\n *\n * When the [[StateBuilder]] builds a [[StateObject]] object from a raw [[StateDeclaration]], this builder\n * validates the `resolve` property and converts it to a [[Resolvable]] array.\n *\n * resolve: input value can be:\n *\n * {\n *   // analyzed but not injected\n *   myFooResolve: function() { return \"myFooData\"; },\n *\n *   // function.toString() parsed, \"DependencyName\" dep as string (not min-safe)\n *   myBarResolve: function(DependencyName) { return DependencyName.fetchSomethingAsPromise() },\n *\n *   // Array split; \"DependencyName\" dep as string\n *   myBazResolve: [ \"DependencyName\", function(dep) { return dep.fetchSomethingAsPromise() },\n *\n *   // Array split; DependencyType dep as token (compared using ===)\n *   myQuxResolve: [ DependencyType, function(dep) { return dep.fetchSometingAsPromise() },\n *\n *   // val.$inject used as deps\n *   // where:\n *   //     corgeResolve.$inject = [\"DependencyName\"];\n *   //     function corgeResolve(dep) { dep.fetchSometingAsPromise() }\n *   // then \"DependencyName\" dep as string\n *   myCorgeResolve: corgeResolve,\n *\n *  // inject service by name\n *  // When a string is found, desugar creating a resolve that injects the named service\n *   myGraultResolve: \"SomeService\"\n * }\n *\n * or:\n *\n * [\n *   new Resolvable(\"myFooResolve\", function() { return \"myFooData\" }),\n *   new Resolvable(\"myBarResolve\", function(dep) { return dep.fetchSomethingAsPromise() }, [ \"DependencyName\" ]),\n *   { provide: \"myBazResolve\", useFactory: function(dep) { dep.fetchSomethingAsPromise() }, deps: [ \"DependencyName\" ] }\n * ]\n */\nfunction resolvablesBuilder(state) {\n    /** convert resolve: {} and resolvePolicy: {} objects to an array of tuples */\n    var objects2Tuples = function (resolveObj, resolvePolicies) {\n        return Object.keys(resolveObj || {}).map(function (token) { return ({ token: token, val: resolveObj[token], deps: undefined, policy: resolvePolicies[token] }); });\n    };\n    /** fetch DI annotations from a function or ng1-style array */\n    var annotate = function (fn) {\n        var $injector = services.$injector;\n        // ng1 doesn't have an $injector until runtime.\n        // If the $injector doesn't exist, use \"deferred\" literal as a\n        // marker indicating they should be annotated when runtime starts\n        return fn['$inject'] || ($injector && $injector.annotate(fn, $injector.strictDi)) || \"deferred\";\n    };\n    /** true if the object has both `token` and `resolveFn`, and is probably a [[ResolveLiteral]] */\n    var isResolveLiteral = function (obj) { return !!(obj.token && obj.resolveFn); };\n    /** true if the object looks like a provide literal, or a ng2 Provider */\n    var isLikeNg2Provider = function (obj) { return !!((obj.provide || obj.token) && (obj.useValue || obj.useFactory || obj.useExisting || obj.useClass)); };\n    /** true if the object looks like a tuple from obj2Tuples */\n    var isTupleFromObj = function (obj) { return !!(obj && obj.val && (isString(obj.val) || isArray(obj.val) || isFunction(obj.val))); };\n    /** extracts the token from a Provider or provide literal */\n    var token = function (p) { return p.provide || p.token; };\n    /** Given a literal resolve or provider object, returns a Resolvable */\n    var literal2Resolvable = pattern([\n        [prop('resolveFn'), function (p) { return new Resolvable(token(p), p.resolveFn, p.deps, p.policy); }],\n        [prop('useFactory'), function (p) { return new Resolvable(token(p), p.useFactory, (p.deps || p.dependencies), p.policy); }],\n        [prop('useClass'), function (p) { return new Resolvable(token(p), function () { return new p.useClass(); }, [], p.policy); }],\n        [prop('useValue'), function (p) { return new Resolvable(token(p), function () { return p.useValue; }, [], p.policy, p.useValue); }],\n        [prop('useExisting'), function (p) { return new Resolvable(token(p), identity, [p.useExisting], p.policy); }],\n    ]);\n    var tuple2Resolvable = pattern([\n        [pipe(prop(\"val\"), isString), function (tuple) { return new Resolvable(tuple.token, identity, [tuple.val], tuple.policy); }],\n        [pipe(prop(\"val\"), isArray), function (tuple) { return new Resolvable(tuple.token, tail(tuple.val), tuple.val.slice(0, -1), tuple.policy); }],\n        [pipe(prop(\"val\"), isFunction), function (tuple) { return new Resolvable(tuple.token, tuple.val, annotate(tuple.val), tuple.policy); }],\n    ]);\n    var item2Resolvable = pattern([\n        [is(Resolvable), function (r) { return r; }],\n        [isResolveLiteral, literal2Resolvable],\n        [isLikeNg2Provider, literal2Resolvable],\n        [isTupleFromObj, tuple2Resolvable],\n        [val(true), function (obj) { throw new Error(\"Invalid resolve value: \" + stringify(obj)); }]\n    ]);\n    // If resolveBlock is already an array, use it as-is.\n    // Otherwise, assume it's an object and convert to an Array of tuples\n    var decl = state.resolve;\n    var items = isArray(decl) ? decl : objects2Tuples(decl, state.resolvePolicy || {});\n    return items.map(item2Resolvable);\n}\n/**\n * @internalapi A internal global service\n *\n * StateBuilder is a factory for the internal [[StateObject]] objects.\n *\n * When you register a state with the [[StateRegistry]], you register a plain old javascript object which\n * conforms to the [[StateDeclaration]] interface.  This factory takes that object and builds the corresponding\n * [[StateObject]] object, which has an API and is used internally.\n *\n * Custom properties or API may be added to the internal [[StateObject]] object by registering a decorator function\n * using the [[builder]] method.\n */\nvar StateBuilder = (function () {\n    function StateBuilder(matcher, urlMatcherFactory) {\n        this.matcher = matcher;\n        var self = this;\n        var root = function () { return matcher.find(\"\"); };\n        var isRoot = function (state) { return state.name === \"\"; };\n        function parentBuilder(state) {\n            if (isRoot(state))\n                return null;\n            return matcher.find(self.parentName(state)) || root();\n        }\n        this.builders = {\n            name: [nameBuilder],\n            self: [selfBuilder],\n            parent: [parentBuilder],\n            data: [dataBuilder],\n            // Build a URLMatcher if necessary, either via a relative or absolute URL\n            url: [getUrlBuilder(urlMatcherFactory, root)],\n            // Keep track of the closest ancestor state that has a URL (i.e. is navigable)\n            navigable: [getNavigableBuilder(isRoot)],\n            params: [getParamsBuilder(urlMatcherFactory.paramFactory)],\n            // Each framework-specific ui-router implementation should define its own `views` builder\n            // e.g., src/ng1/statebuilders/views.ts\n            views: [],\n            // Keep a full path from the root down to this state as this is needed for state activation.\n            path: [pathBuilder],\n            // Speed up $state.includes() as it's used a lot\n            includes: [includesBuilder],\n            resolvables: [resolvablesBuilder]\n        };\n    }\n    /**\n     * Registers a [[BuilderFunction]] for a specific [[StateObject]] property (e.g., `parent`, `url`, or `path`).\n     * More than one BuilderFunction can be registered for a given property.\n     *\n     * The BuilderFunction(s) will be used to define the property on any subsequently built [[StateObject]] objects.\n     *\n     * @param name The name of the State property being registered for.\n     * @param fn The BuilderFunction which will be used to build the State property\n     * @returns a function which deregisters the BuilderFunction\n     */\n    StateBuilder.prototype.builder = function (name, fn) {\n        var builders = this.builders;\n        var array = builders[name] || [];\n        // Backwards compat: if only one builder exists, return it, else return whole arary.\n        if (isString(name) && !isDefined(fn))\n            return array.length > 1 ? array : array[0];\n        if (!isString(name) || !isFunction(fn))\n            return;\n        builders[name] = array;\n        builders[name].push(fn);\n        return function () { return builders[name].splice(builders[name].indexOf(fn, 1)) && null; };\n    };\n    /**\n     * Builds all of the properties on an essentially blank State object, returning a State object which has all its\n     * properties and API built.\n     *\n     * @param state an uninitialized State object\n     * @returns the built State object\n     */\n    StateBuilder.prototype.build = function (state) {\n        var _a = this, matcher = _a.matcher, builders = _a.builders;\n        var parent = this.parentName(state);\n        if (parent && !matcher.find(parent, undefined, false)) {\n            return null;\n        }\n        for (var key in builders) {\n            if (!builders.hasOwnProperty(key))\n                continue;\n            var chain = builders[key].reduce(function (parentFn, step) { return function (_state) { return step(_state, parentFn); }; }, noop$1);\n            state[key] = chain(state);\n        }\n        return state;\n    };\n    StateBuilder.prototype.parentName = function (state) {\n        var name = state.name || \"\";\n        var segments = name.split('.');\n        if (segments.length > 1) {\n            if (state.parent) {\n                throw new Error(\"States that specify the 'parent:' property should not have a '.' in their name (\" + name + \")\");\n            }\n            var lastSegment = segments.pop();\n            if (lastSegment === '**')\n                segments.pop();\n            return segments.join(\".\");\n        }\n        if (!state.parent)\n            return \"\";\n        return isString(state.parent) ? state.parent : state.parent.name;\n    };\n    StateBuilder.prototype.name = function (state) {\n        var name = state.name;\n        if (name.indexOf('.') !== -1 || !state.parent)\n            return name;\n        var parentName = isString(state.parent) ? state.parent : state.parent.name;\n        return parentName ? parentName + \".\" + name : name;\n    };\n    return StateBuilder;\n}());\n\n/** @module state */ /** for typedoc */\nvar StateMatcher = (function () {\n    function StateMatcher(_states) {\n        this._states = _states;\n    }\n    StateMatcher.prototype.isRelative = function (stateName) {\n        stateName = stateName || \"\";\n        return stateName.indexOf(\".\") === 0 || stateName.indexOf(\"^\") === 0;\n    };\n    StateMatcher.prototype.find = function (stateOrName, base, matchGlob) {\n        if (matchGlob === void 0) { matchGlob = true; }\n        if (!stateOrName && stateOrName !== \"\")\n            return undefined;\n        var isStr = isString(stateOrName);\n        var name = isStr ? stateOrName : stateOrName.name;\n        if (this.isRelative(name))\n            name = this.resolvePath(name, base);\n        var state = this._states[name];\n        if (state && (isStr || (!isStr && (state === stateOrName || state.self === stateOrName)))) {\n            return state;\n        }\n        else if (isStr && matchGlob) {\n            var _states = values(this._states);\n            var matches = _states.filter(function (state) {\n                return state.__stateObjectCache.nameGlob &&\n                    state.__stateObjectCache.nameGlob.matches(name);\n            });\n            if (matches.length > 1) {\n                console.log(\"stateMatcher.find: Found multiple matches for \" + name + \" using glob: \", matches.map(function (match) { return match.name; }));\n            }\n            return matches[0];\n        }\n        return undefined;\n    };\n    StateMatcher.prototype.resolvePath = function (name, base) {\n        if (!base)\n            throw new Error(\"No reference point given for path '\" + name + \"'\");\n        var baseState = this.find(base);\n        var splitName = name.split(\".\"), i = 0, pathLength = splitName.length, current = baseState;\n        for (; i < pathLength; i++) {\n            if (splitName[i] === \"\" && i === 0) {\n                current = baseState;\n                continue;\n            }\n            if (splitName[i] === \"^\") {\n                if (!current.parent)\n                    throw new Error(\"Path '\" + name + \"' not valid for state '\" + baseState.name + \"'\");\n                current = current.parent;\n                continue;\n            }\n            break;\n        }\n        var relName = splitName.slice(i).join(\".\");\n        return current.name + (current.name && relName ? \".\" : \"\") + relName;\n    };\n    return StateMatcher;\n}());\n\n/** @module state */ /** for typedoc */\n/** @internalapi */\nvar StateQueueManager = (function () {\n    function StateQueueManager($registry, $urlRouter, states, builder, listeners) {\n        this.$registry = $registry;\n        this.$urlRouter = $urlRouter;\n        this.states = states;\n        this.builder = builder;\n        this.listeners = listeners;\n        this.queue = [];\n        this.matcher = $registry.matcher;\n    }\n    /** @internalapi */\n    StateQueueManager.prototype.dispose = function () {\n        this.queue = [];\n    };\n    StateQueueManager.prototype.register = function (stateDecl) {\n        var queue = this.queue;\n        var state = StateObject.create(stateDecl);\n        var name = state.name;\n        if (!isString(name))\n            throw new Error(\"State must have a valid name\");\n        if (this.states.hasOwnProperty(name) || inArray(queue.map(prop('name')), name))\n            throw new Error(\"State '\" + name + \"' is already defined\");\n        queue.push(state);\n        this.flush();\n        return state;\n    };\n    StateQueueManager.prototype.flush = function () {\n        var _this = this;\n        var _a = this, queue = _a.queue, states = _a.states, builder = _a.builder;\n        var registered = [], // states that got registered\n        orphans = [], // states that don't yet have a parent registered\n        previousQueueLength = {}; // keep track of how long the queue when an orphan was first encountered\n        var getState = function (name) {\n            return _this.states.hasOwnProperty(name) && _this.states[name];\n        };\n        while (queue.length > 0) {\n            var state = queue.shift();\n            var name_1 = state.name;\n            var result = builder.build(state);\n            var orphanIdx = orphans.indexOf(state);\n            if (result) {\n                var existingState = getState(name_1);\n                if (existingState && existingState.name === name_1) {\n                    throw new Error(\"State '\" + name_1 + \"' is already defined\");\n                }\n                var existingFutureState = getState(name_1 + \".**\");\n                if (existingFutureState) {\n                    // Remove future state of the same name\n                    this.$registry.deregister(existingFutureState);\n                }\n                states[name_1] = state;\n                this.attachRoute(state);\n                if (orphanIdx >= 0)\n                    orphans.splice(orphanIdx, 1);\n                registered.push(state);\n                continue;\n            }\n            var prev = previousQueueLength[name_1];\n            previousQueueLength[name_1] = queue.length;\n            if (orphanIdx >= 0 && prev === queue.length) {\n                // Wait until two consecutive iterations where no additional states were dequeued successfully.\n                // throw new Error(`Cannot register orphaned state '${name}'`);\n                queue.push(state);\n                return states;\n            }\n            else if (orphanIdx < 0) {\n                orphans.push(state);\n            }\n            queue.push(state);\n        }\n        if (registered.length) {\n            this.listeners.forEach(function (listener) { return listener(\"registered\", registered.map(function (s) { return s.self; })); });\n        }\n        return states;\n    };\n    StateQueueManager.prototype.attachRoute = function (state) {\n        if (state.abstract || !state.url)\n            return;\n        this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(state));\n    };\n    return StateQueueManager;\n}());\n\n/**\n * @coreapi\n * @module state\n */ /** for typedoc */\nvar StateRegistry = (function () {\n    /** @internalapi */\n    function StateRegistry(_router) {\n        this._router = _router;\n        this.states = {};\n        this.listeners = [];\n        this.matcher = new StateMatcher(this.states);\n        this.builder = new StateBuilder(this.matcher, _router.urlMatcherFactory);\n        this.stateQueue = new StateQueueManager(this, _router.urlRouter, this.states, this.builder, this.listeners);\n        this._registerRoot();\n    }\n    /** @internalapi */\n    StateRegistry.prototype._registerRoot = function () {\n        var rootStateDef = {\n            name: '',\n            url: '^',\n            views: null,\n            params: {\n                '#': { value: null, type: 'hash', dynamic: true }\n            },\n            abstract: true\n        };\n        var _root = this._root = this.stateQueue.register(rootStateDef);\n        _root.navigable = null;\n    };\n    /** @internalapi */\n    StateRegistry.prototype.dispose = function () {\n        var _this = this;\n        this.stateQueue.dispose();\n        this.listeners = [];\n        this.get().forEach(function (state) { return _this.get(state) && _this.deregister(state); });\n    };\n    /**\n     * Listen for a State Registry events\n     *\n     * Adds a callback that is invoked when states are registered or deregistered with the StateRegistry.\n     *\n     * #### Example:\n     * ```js\n     * let allStates = registry.get();\n     *\n     * // Later, invoke deregisterFn() to remove the listener\n     * let deregisterFn = registry.onStatesChanged((event, states) => {\n     *   switch(event) {\n     *     case: 'registered':\n     *       states.forEach(state => allStates.push(state));\n     *       break;\n     *     case: 'deregistered':\n     *       states.forEach(state => {\n     *         let idx = allStates.indexOf(state);\n     *         if (idx !== -1) allStates.splice(idx, 1);\n     *       });\n     *       break;\n     *   }\n     * });\n     * ```\n     *\n     * @param listener a callback function invoked when the registered states changes.\n     *        The function receives two parameters, `event` and `state`.\n     *        See [[StateRegistryListener]]\n     * @return a function that deregisters the listener\n     */\n    StateRegistry.prototype.onStatesChanged = function (listener) {\n        this.listeners.push(listener);\n        return function deregisterListener() {\n            removeFrom(this.listeners)(listener);\n        }.bind(this);\n    };\n    /**\n     * Gets the implicit root state\n     *\n     * Gets the root of the state tree.\n     * The root state is implicitly created by UI-Router.\n     * Note: this returns the internal [[StateObject]] representation, not a [[StateDeclaration]]\n     *\n     * @return the root [[StateObject]]\n     */\n    StateRegistry.prototype.root = function () {\n        return this._root;\n    };\n    /**\n     * Adds a state to the registry\n     *\n     * Registers a [[StateDeclaration]] or queues it for registration.\n     *\n     * Note: a state will be queued if the state's parent isn't yet registered.\n     *\n     * @param stateDefinition the definition of the state to register.\n     * @returns the internal [[StateObject]] object.\n     *          If the state was successfully registered, then the object is fully built (See: [[StateBuilder]]).\n     *          If the state was only queued, then the object is not fully built.\n     */\n    StateRegistry.prototype.register = function (stateDefinition) {\n        return this.stateQueue.register(stateDefinition);\n    };\n    /** @hidden */\n    StateRegistry.prototype._deregisterTree = function (state) {\n        var _this = this;\n        var all$$1 = this.get().map(function (s) { return s.$$state(); });\n        var getChildren = function (states) {\n            var children = all$$1.filter(function (s) { return states.indexOf(s.parent) !== -1; });\n            return children.length === 0 ? children : children.concat(getChildren(children));\n        };\n        var children = getChildren([state]);\n        var deregistered = [state].concat(children).reverse();\n        deregistered.forEach(function (state) {\n            var $ur = _this._router.urlRouter;\n            // Remove URL rule\n            $ur.rules().filter(propEq(\"state\", state)).forEach($ur.removeRule.bind($ur));\n            // Remove state from registry\n            delete _this.states[state.name];\n        });\n        return deregistered;\n    };\n    /**\n     * Removes a state from the registry\n     *\n     * This removes a state from the registry.\n     * If the state has children, they are are also removed from the registry.\n     *\n     * @param stateOrName the state's name or object representation\n     * @returns {StateObject[]} a list of removed states\n     */\n    StateRegistry.prototype.deregister = function (stateOrName) {\n        var _state = this.get(stateOrName);\n        if (!_state)\n            throw new Error(\"Can't deregister state; not found: \" + stateOrName);\n        var deregisteredStates = this._deregisterTree(_state.$$state());\n        this.listeners.forEach(function (listener) { return listener(\"deregistered\", deregisteredStates.map(function (s) { return s.self; })); });\n        return deregisteredStates;\n    };\n    StateRegistry.prototype.get = function (stateOrName, base) {\n        var _this = this;\n        if (arguments.length === 0)\n            return Object.keys(this.states).map(function (name) { return _this.states[name].self; });\n        var found = this.matcher.find(stateOrName, base);\n        return found && found.self || null;\n    };\n    StateRegistry.prototype.decorator = function (name, func) {\n        return this.builder.builder(name, func);\n    };\n    return StateRegistry;\n}());\n\n/**\n * @coreapi\n * @module url\n */\n/** for typedoc */\n/** @hidden */\nfunction quoteRegExp(string, param) {\n    var surroundPattern = ['', ''], result = string.replace(/[\\\\\\[\\]\\^$*+?.()|{}]/g, \"\\\\$&\");\n    if (!param)\n        return result;\n    switch (param.squash) {\n        case false:\n            surroundPattern = ['(', ')' + (param.isOptional ? '?' : '')];\n            break;\n        case true:\n            result = result.replace(/\\/$/, '');\n            surroundPattern = ['(?:\\/(', ')|\\/)?'];\n            break;\n        default:\n            surroundPattern = [\"(\" + param.squash + \"|\", ')?'];\n            break;\n    }\n    return result + surroundPattern[0] + param.type.pattern.source + surroundPattern[1];\n}\n/** @hidden */\nvar memoizeTo = function (obj, prop$$1, fn) {\n    return obj[prop$$1] = obj[prop$$1] || fn();\n};\n/** @hidden */\nvar splitOnSlash = splitOnDelim('/');\n/**\n * Matches URLs against patterns.\n *\n * Matches URLs against patterns and extracts named parameters from the path or the search\n * part of the URL.\n *\n * A URL pattern consists of a path pattern, optionally followed by '?' and a list of search (query)\n * parameters. Multiple search parameter names are separated by '&'. Search parameters\n * do not influence whether or not a URL is matched, but their values are passed through into\n * the matched parameters returned by [[UrlMatcher.exec]].\n *\n * - *Path parameters* are defined using curly brace placeholders (`/somepath/{param}`)\n * or colon placeholders (`/somePath/:param`).\n *\n * - *A parameter RegExp* may be defined for a param after a colon\n * (`/somePath/{param:[a-zA-Z0-9]+}`) in a curly brace placeholder.\n * The regexp must match for the url to be matched.\n * Should the regexp itself contain curly braces, they must be in matched pairs or escaped with a backslash.\n *\n * Note: a RegExp parameter will encode its value using either [[ParamTypes.path]] or [[ParamTypes.query]].\n *\n * - *Custom parameter types* may also be specified after a colon (`/somePath/{param:int}`) in curly brace parameters.\n *   See [[UrlMatcherFactory.type]] for more information.\n *\n * - *Catch-all parameters* are defined using an asterisk placeholder (`/somepath/*catchallparam`).\n *   A catch-all * parameter value will contain the remainder of the URL.\n *\n * ---\n *\n * Parameter names may contain only word characters (latin letters, digits, and underscore) and\n * must be unique within the pattern (across both path and search parameters).\n * A path parameter matches any number of characters other than '/'. For catch-all\n * placeholders the path parameter matches any number of characters.\n *\n * Examples:\n *\n * * `'/hello/'` - Matches only if the path is exactly '/hello/'. There is no special treatment for\n *   trailing slashes, and patterns have to match the entire path, not just a prefix.\n * * `'/user/:id'` - Matches '/user/bob' or '/user/1234!!!' or even '/user/' but not '/user' or\n *   '/user/bob/details'. The second path segment will be captured as the parameter 'id'.\n * * `'/user/{id}'` - Same as the previous example, but using curly brace syntax.\n * * `'/user/{id:[^/]*}'` - Same as the previous example.\n * * `'/user/{id:[0-9a-fA-F]{1,8}}'` - Similar to the previous example, but only matches if the id\n *   parameter consists of 1 to 8 hex digits.\n * * `'/files/{path:.*}'` - Matches any URL starting with '/files/' and captures the rest of the\n *   path into the parameter 'path'.\n * * `'/files/*path'` - ditto.\n * * `'/calendar/{start:date}'` - Matches \"/calendar/2014-11-12\" (because the pattern defined\n *   in the built-in  `date` ParamType matches `2014-11-12`) and provides a Date object in $stateParams.start\n *\n */\nvar UrlMatcher = (function () {\n    /**\n     * @param pattern The pattern to compile into a matcher.\n     * @param paramTypes The [[ParamTypes]] registry\n     * @param config  A configuration object\n     * - `caseInsensitive` - `true` if URL matching should be case insensitive, otherwise `false`, the default value (for backward compatibility) is `false`.\n     * - `strict` - `false` if matching against a URL with a trailing slash should be treated as equivalent to a URL without a trailing slash, the default value is `true`.\n     */\n    function UrlMatcher(pattern$$1, paramTypes, paramFactory, config) {\n        var _this = this;\n        this.config = config;\n        /** @hidden */\n        this._cache = { path: [this] };\n        /** @hidden */\n        this._children = [];\n        /** @hidden */\n        this._params = [];\n        /** @hidden */\n        this._segments = [];\n        /** @hidden */\n        this._compiled = [];\n        this.pattern = pattern$$1;\n        this.config = defaults(this.config, {\n            params: {},\n            strict: true,\n            caseInsensitive: false,\n            paramMap: identity\n        });\n        // Find all placeholders and create a compiled pattern, using either classic or curly syntax:\n        //   '*' name\n        //   ':' name\n        //   '{' name '}'\n        //   '{' name ':' regexp '}'\n        // The regular expression is somewhat complicated due to the need to allow curly braces\n        // inside the regular expression. The placeholder regexp breaks down as follows:\n        //    ([:*])([\\w\\[\\]]+)              - classic placeholder ($1 / $2) (search version has - for snake-case)\n        //    \\{([\\w\\[\\]]+)(?:\\:\\s*( ... ))?\\}  - curly brace placeholder ($3) with optional regexp/type ... ($4) (search version has - for snake-case\n        //    (?: ... | ... | ... )+         - the regexp consists of any number of atoms, an atom being either\n        //    [^{}\\\\]+                       - anything other than curly braces or backslash\n        //    \\\\.                            - a backslash escape\n        //    \\{(?:[^{}\\\\]+|\\\\.)*\\}          - a matched set of curly braces containing other atoms\n        var placeholder = /([:*])([\\w\\[\\]]+)|\\{([\\w\\[\\]]+)(?:\\:\\s*((?:[^{}\\\\]+|\\\\.|\\{(?:[^{}\\\\]+|\\\\.)*\\})+))?\\}/g, searchPlaceholder = /([:]?)([\\w\\[\\].-]+)|\\{([\\w\\[\\].-]+)(?:\\:\\s*((?:[^{}\\\\]+|\\\\.|\\{(?:[^{}\\\\]+|\\\\.)*\\})+))?\\}/g, last = 0, m, patterns = [];\n        var checkParamErrors = function (id) {\n            if (!UrlMatcher.nameValidator.test(id))\n                throw new Error(\"Invalid parameter name '\" + id + \"' in pattern '\" + pattern$$1 + \"'\");\n            if (find(_this._params, propEq('id', id)))\n                throw new Error(\"Duplicate parameter name '\" + id + \"' in pattern '\" + pattern$$1 + \"'\");\n        };\n        // Split into static segments separated by path parameter placeholders.\n        // The number of segments is always 1 more than the number of parameters.\n        var matchDetails = function (m, isSearch) {\n            // IE[78] returns '' for unmatched groups instead of null\n            var id = m[2] || m[3];\n            var regexp = isSearch ? m[4] : m[4] || (m[1] === '*' ? '.*' : null);\n            var makeRegexpType = function (regexp) { return inherit(paramTypes.type(isSearch ? \"query\" : \"path\"), {\n                pattern: new RegExp(regexp, _this.config.caseInsensitive ? 'i' : undefined)\n            }); };\n            return {\n                id: id,\n                regexp: regexp,\n                cfg: _this.config.params[id],\n                segment: pattern$$1.substring(last, m.index),\n                type: !regexp ? null : paramTypes.type(regexp) || makeRegexpType(regexp)\n            };\n        };\n        var p, segment;\n        while ((m = placeholder.exec(pattern$$1))) {\n            p = matchDetails(m, false);\n            if (p.segment.indexOf('?') >= 0)\n                break; // we're into the search part\n            checkParamErrors(p.id);\n            this._params.push(paramFactory.fromPath(p.id, p.type, this.config.paramMap(p.cfg, false)));\n            this._segments.push(p.segment);\n            patterns.push([p.segment, tail(this._params)]);\n            last = placeholder.lastIndex;\n        }\n        segment = pattern$$1.substring(last);\n        // Find any search parameter names and remove them from the last segment\n        var i = segment.indexOf('?');\n        if (i >= 0) {\n            var search = segment.substring(i);\n            segment = segment.substring(0, i);\n            if (search.length > 0) {\n                last = 0;\n                while ((m = searchPlaceholder.exec(search))) {\n                    p = matchDetails(m, true);\n                    checkParamErrors(p.id);\n                    this._params.push(paramFactory.fromSearch(p.id, p.type, this.config.paramMap(p.cfg, true)));\n                    last = placeholder.lastIndex;\n                    // check if ?&\n                }\n            }\n        }\n        this._segments.push(segment);\n        this._compiled = patterns.map(function (pattern$$1) { return quoteRegExp.apply(null, pattern$$1); }).concat(quoteRegExp(segment));\n    }\n    /**\n     * Creates a new concatenated UrlMatcher\n     *\n     * Builds a new UrlMatcher by appending another UrlMatcher to this one.\n     *\n     * @param url A `UrlMatcher` instance to append as a child of the current `UrlMatcher`.\n     */\n    UrlMatcher.prototype.append = function (url) {\n        this._children.push(url);\n        url._cache = {\n            path: this._cache.path.concat(url),\n            parent: this,\n            pattern: null,\n        };\n        return url;\n    };\n    /** @hidden */\n    UrlMatcher.prototype.isRoot = function () {\n        return this._cache.path[0] === this;\n    };\n    /** Returns the input pattern string */\n    UrlMatcher.prototype.toString = function () {\n        return this.pattern;\n    };\n    /**\n     * Tests the specified url/path against this matcher.\n     *\n     * Tests if the given url matches this matcher's pattern, and returns an object containing the captured\n     * parameter values.  Returns null if the path does not match.\n     *\n     * The returned object contains the values\n     * of any search parameters that are mentioned in the pattern, but their value may be null if\n     * they are not present in `search`. This means that search parameters are always treated\n     * as optional.\n     *\n     * #### Example:\n     * ```js\n     * new UrlMatcher('/user/{id}?q&r').exec('/user/bob', {\n     *   x: '1', q: 'hello'\n     * });\n     * // returns { id: 'bob', q: 'hello', r: null }\n     * ```\n     *\n     * @param path    The URL path to match, e.g. `$location.path()`.\n     * @param search  URL search parameters, e.g. `$location.search()`.\n     * @param hash    URL hash e.g. `$location.hash()`.\n     * @param options\n     *\n     * @returns The captured parameter values.\n     */\n    UrlMatcher.prototype.exec = function (path, search, hash, options) {\n        var _this = this;\n        if (search === void 0) { search = {}; }\n        if (options === void 0) { options = {}; }\n        var match = memoizeTo(this._cache, 'pattern', function () {\n            return new RegExp([\n                '^',\n                unnest(_this._cache.path.map(prop('_compiled'))).join(''),\n                _this.config.strict === false ? '\\/?' : '',\n                '$'\n            ].join(''), _this.config.caseInsensitive ? 'i' : undefined);\n        }).exec(path);\n        if (!match)\n            return null;\n        //options = defaults(options, { isolate: false });\n        var allParams = this.parameters(), pathParams = allParams.filter(function (param) { return !param.isSearch(); }), searchParams = allParams.filter(function (param) { return param.isSearch(); }), nPathSegments = this._cache.path.map(function (urlm) { return urlm._segments.length - 1; }).reduce(function (a, x) { return a + x; }), values$$1 = {};\n        if (nPathSegments !== match.length - 1)\n            throw new Error(\"Unbalanced capture group in route '\" + this.pattern + \"'\");\n        function decodePathArray(string) {\n            var reverseString = function (str) { return str.split(\"\").reverse().join(\"\"); };\n            var unquoteDashes = function (str) { return str.replace(/\\\\-/g, \"-\"); };\n            var split = reverseString(string).split(/-(?!\\\\)/);\n            var allReversed = map(split, reverseString);\n            return map(allReversed, unquoteDashes).reverse();\n        }\n        for (var i = 0; i < nPathSegments; i++) {\n            var param = pathParams[i];\n            var value = match[i + 1];\n            // if the param value matches a pre-replace pair, replace the value before decoding.\n            for (var j = 0; j < param.replace.length; j++) {\n                if (param.replace[j].from === value)\n                    value = param.replace[j].to;\n            }\n            if (value && param.array === true)\n                value = decodePathArray(value);\n            if (isDefined(value))\n                value = param.type.decode(value);\n            values$$1[param.id] = param.value(value);\n        }\n        searchParams.forEach(function (param) {\n            var value = search[param.id];\n            for (var j = 0; j < param.replace.length; j++) {\n                if (param.replace[j].from === value)\n                    value = param.replace[j].to;\n            }\n            if (isDefined(value))\n                value = param.type.decode(value);\n            values$$1[param.id] = param.value(value);\n        });\n        if (hash)\n            values$$1[\"#\"] = hash;\n        return values$$1;\n    };\n    /**\n     * @hidden\n     * Returns all the [[Param]] objects of all path and search parameters of this pattern in order of appearance.\n     *\n     * @returns {Array.<Param>}  An array of [[Param]] objects. Must be treated as read-only. If the\n     *    pattern has no parameters, an empty array is returned.\n     */\n    UrlMatcher.prototype.parameters = function (opts) {\n        if (opts === void 0) { opts = {}; }\n        if (opts.inherit === false)\n            return this._params;\n        return unnest(this._cache.path.map(function (matcher) { return matcher._params; }));\n    };\n    /**\n     * @hidden\n     * Returns a single parameter from this UrlMatcher by id\n     *\n     * @param id\n     * @param opts\n     * @returns {T|Param|any|boolean|UrlMatcher|null}\n     */\n    UrlMatcher.prototype.parameter = function (id, opts) {\n        var _this = this;\n        if (opts === void 0) { opts = {}; }\n        var findParam = function () {\n            for (var _i = 0, _a = _this._params; _i < _a.length; _i++) {\n                var param = _a[_i];\n                if (param.id === id)\n                    return param;\n            }\n        };\n        var parent = this._cache.parent;\n        return findParam() || (opts.inherit !== false && parent && parent.parameter(id, opts)) || null;\n    };\n    /**\n     * Validates the input parameter values against this UrlMatcher\n     *\n     * Checks an object hash of parameters to validate their correctness according to the parameter\n     * types of this `UrlMatcher`.\n     *\n     * @param params The object hash of parameters to validate.\n     * @returns Returns `true` if `params` validates, otherwise `false`.\n     */\n    UrlMatcher.prototype.validates = function (params) {\n        var validParamVal = function (param, val$$1) {\n            return !param || param.validates(val$$1);\n        };\n        params = params || {};\n        // I'm not sure why this checks only the param keys passed in, and not all the params known to the matcher\n        var paramSchema = this.parameters().filter(function (paramDef) { return params.hasOwnProperty(paramDef.id); });\n        return paramSchema.map(function (paramDef) { return validParamVal(paramDef, params[paramDef.id]); }).reduce(allTrueR, true);\n    };\n    /**\n     * Given a set of parameter values, creates a URL from this UrlMatcher.\n     *\n     * Creates a URL that matches this pattern by substituting the specified values\n     * for the path and search parameters.\n     *\n     * #### Example:\n     * ```js\n     * new UrlMatcher('/user/{id}?q').format({ id:'bob', q:'yes' });\n     * // returns '/user/bob?q=yes'\n     * ```\n     *\n     * @param values  the values to substitute for the parameters in this pattern.\n     * @returns the formatted URL (path and optionally search part).\n     */\n    UrlMatcher.prototype.format = function (values$$1) {\n        if (values$$1 === void 0) { values$$1 = {}; }\n        // Build the full path of UrlMatchers (including all parent UrlMatchers)\n        var urlMatchers = this._cache.path;\n        // Extract all the static segments and Params (processed as ParamDetails)\n        // into an ordered array\n        var pathSegmentsAndParams = urlMatchers.map(UrlMatcher.pathSegmentsAndParams)\n            .reduce(unnestR, [])\n            .map(function (x) { return isString(x) ? x : getDetails(x); });\n        // Extract the query params into a separate array\n        var queryParams = urlMatchers.map(UrlMatcher.queryParams)\n            .reduce(unnestR, [])\n            .map(getDetails);\n        var isInvalid = function (param) { return param.isValid === false; };\n        if (pathSegmentsAndParams.concat(queryParams).filter(isInvalid).length) {\n            return null;\n        }\n        /**\n         * Given a Param, applies the parameter value, then returns detailed information about it\n         */\n        function getDetails(param) {\n            // Normalize to typed value\n            var value = param.value(values$$1[param.id]);\n            var isValid = param.validates(value);\n            var isDefaultValue = param.isDefaultValue(value);\n            // Check if we're in squash mode for the parameter\n            var squash = isDefaultValue ? param.squash : false;\n            // Allow the Parameter's Type to encode the value\n            var encoded = param.type.encode(value);\n            return { param: param, value: value, isValid: isValid, isDefaultValue: isDefaultValue, squash: squash, encoded: encoded };\n        }\n        // Build up the path-portion from the list of static segments and parameters\n        var pathString = pathSegmentsAndParams.reduce(function (acc, x) {\n            // The element is a static segment (a raw string); just append it\n            if (isString(x))\n                return acc + x;\n            // Otherwise, it's a ParamDetails.\n            var squash = x.squash, encoded = x.encoded, param = x.param;\n            // If squash is === true, try to remove a slash from the path\n            if (squash === true)\n                return (acc.match(/\\/$/)) ? acc.slice(0, -1) : acc;\n            // If squash is a string, use the string for the param value\n            if (isString(squash))\n                return acc + squash;\n            if (squash !== false)\n                return acc; // ?\n            if (encoded == null)\n                return acc;\n            // If this parameter value is an array, encode the value using encodeDashes\n            if (isArray(encoded))\n                return acc + map(encoded, UrlMatcher.encodeDashes).join(\"-\");\n            // If the parameter type is \"raw\", then do not encodeURIComponent\n            if (param.raw)\n                return acc + encoded;\n            // Encode the value\n            return acc + encodeURIComponent(encoded);\n        }, \"\");\n        // Build the query string by applying parameter values (array or regular)\n        // then mapping to key=value, then flattening and joining using \"&\"\n        var queryString = queryParams.map(function (paramDetails) {\n            var param = paramDetails.param, squash = paramDetails.squash, encoded = paramDetails.encoded, isDefaultValue = paramDetails.isDefaultValue;\n            if (encoded == null || (isDefaultValue && squash !== false))\n                return;\n            if (!isArray(encoded))\n                encoded = [encoded];\n            if (encoded.length === 0)\n                return;\n            if (!param.raw)\n                encoded = map(encoded, encodeURIComponent);\n            return encoded.map(function (val$$1) { return param.id + \"=\" + val$$1; });\n        }).filter(identity).reduce(unnestR, []).join(\"&\");\n        // Concat the pathstring with the queryString (if exists) and the hashString (if exists)\n        return pathString + (queryString ? \"?\" + queryString : \"\") + (values$$1[\"#\"] ? \"#\" + values$$1[\"#\"] : \"\");\n    };\n    /** @hidden */\n    UrlMatcher.encodeDashes = function (str) {\n        return encodeURIComponent(str).replace(/-/g, function (c) { return \"%5C%\" + c.charCodeAt(0).toString(16).toUpperCase(); });\n    };\n    /** @hidden Given a matcher, return an array with the matcher's path segments and path params, in order */\n    UrlMatcher.pathSegmentsAndParams = function (matcher) {\n        var staticSegments = matcher._segments;\n        var pathParams = matcher._params.filter(function (p) { return p.location === exports.DefType.PATH; });\n        return arrayTuples(staticSegments, pathParams.concat(undefined))\n            .reduce(unnestR, [])\n            .filter(function (x) { return x !== \"\" && isDefined(x); });\n    };\n    /** @hidden Given a matcher, return an array with the matcher's query params */\n    UrlMatcher.queryParams = function (matcher) {\n        return matcher._params.filter(function (p) { return p.location === exports.DefType.SEARCH; });\n    };\n    /**\n     * Compare two UrlMatchers\n     *\n     * This comparison function converts a UrlMatcher into static and dynamic path segments.\n     * Each static path segment is a static string between a path separator (slash character).\n     * Each dynamic segment is a path parameter.\n     *\n     * The comparison function sorts static segments before dynamic ones.\n     */\n    UrlMatcher.compare = function (a, b) {\n        /**\n         * Turn a UrlMatcher and all its parent matchers into an array\n         * of slash literals '/', string literals, and Param objects\n         *\n         * This example matcher matches strings like \"/foo/:param/tail\":\n         * var matcher = $umf.compile(\"/foo\").append($umf.compile(\"/:param\")).append($umf.compile(\"/\")).append($umf.compile(\"tail\"));\n         * var result = segments(matcher); // [ '/', 'foo', '/', Param, '/', 'tail' ]\n         *\n         * Caches the result as `matcher._cache.segments`\n         */\n        var segments = function (matcher) {\n            return matcher._cache.segments = matcher._cache.segments ||\n                matcher._cache.path.map(UrlMatcher.pathSegmentsAndParams)\n                    .reduce(unnestR, [])\n                    .reduce(joinNeighborsR, [])\n                    .map(function (x) { return isString(x) ? splitOnSlash(x) : x; })\n                    .reduce(unnestR, []);\n        };\n        /**\n         * Gets the sort weight for each segment of a UrlMatcher\n         *\n         * Caches the result as `matcher._cache.weights`\n         */\n        var weights = function (matcher) {\n            return matcher._cache.weights = matcher._cache.weights ||\n                segments(matcher).map(function (segment) {\n                    // Sort slashes first, then static strings, the Params\n                    if (segment === '/')\n                        return 1;\n                    if (isString(segment))\n                        return 2;\n                    if (segment instanceof Param)\n                        return 3;\n                });\n        };\n        var cmp, i, pairs$$1 = arrayTuples(weights(a), weights(b));\n        for (i = 0; i < pairs$$1.length; i++) {\n            cmp = pairs$$1[i][0] - pairs$$1[i][1];\n            if (cmp !== 0)\n                return cmp;\n        }\n        return 0;\n    };\n    return UrlMatcher;\n}());\n/** @hidden */\nUrlMatcher.nameValidator = /^\\w+([-.]+\\w+)*(?:\\[\\])?$/;\n\n/**\n * @internalapi\n * @module url\n */ /** for typedoc */\n/**\n * Factory for [[UrlMatcher]] instances.\n *\n * The factory is available to ng1 services as\n * `$urlMatcherFactor` or ng1 providers as `$urlMatcherFactoryProvider`.\n */\nvar UrlMatcherFactory = (function () {\n    function UrlMatcherFactory() {\n        var _this = this;\n        /** @hidden */ this.paramTypes = new ParamTypes();\n        /** @hidden */ this._isCaseInsensitive = false;\n        /** @hidden */ this._isStrictMode = true;\n        /** @hidden */ this._defaultSquashPolicy = false;\n        /** @hidden */\n        this._getConfig = function (config) {\n            return extend({ strict: _this._isStrictMode, caseInsensitive: _this._isCaseInsensitive }, config);\n        };\n        /** @internalapi Creates a new [[Param]] for a given location (DefType) */\n        this.paramFactory = {\n            /** Creates a new [[Param]] from a CONFIG block */\n            fromConfig: function (id, type, config) {\n                return new Param(id, type, config, exports.DefType.CONFIG, _this);\n            },\n            /** Creates a new [[Param]] from a url PATH */\n            fromPath: function (id, type, config) {\n                return new Param(id, type, config, exports.DefType.PATH, _this);\n            },\n            /** Creates a new [[Param]] from a url SEARCH */\n            fromSearch: function (id, type, config) {\n                return new Param(id, type, config, exports.DefType.SEARCH, _this);\n            },\n        };\n        extend(this, { UrlMatcher: UrlMatcher, Param: Param });\n    }\n    /** @inheritdoc */\n    UrlMatcherFactory.prototype.caseInsensitive = function (value) {\n        return this._isCaseInsensitive = isDefined(value) ? value : this._isCaseInsensitive;\n    };\n    /** @inheritdoc */\n    UrlMatcherFactory.prototype.strictMode = function (value) {\n        return this._isStrictMode = isDefined(value) ? value : this._isStrictMode;\n    };\n    /** @inheritdoc */\n    UrlMatcherFactory.prototype.defaultSquashPolicy = function (value) {\n        if (isDefined(value) && value !== true && value !== false && !isString(value))\n            throw new Error(\"Invalid squash policy: \" + value + \". Valid policies: false, true, arbitrary-string\");\n        return this._defaultSquashPolicy = isDefined(value) ? value : this._defaultSquashPolicy;\n    };\n    /**\n     * Creates a [[UrlMatcher]] for the specified pattern.\n     *\n     * @param pattern  The URL pattern.\n     * @param config  The config object hash.\n     * @returns The UrlMatcher.\n     */\n    UrlMatcherFactory.prototype.compile = function (pattern, config) {\n        return new UrlMatcher(pattern, this.paramTypes, this.paramFactory, this._getConfig(config));\n    };\n    /**\n     * Returns true if the specified object is a [[UrlMatcher]], or false otherwise.\n     *\n     * @param object  The object to perform the type check against.\n     * @returns `true` if the object matches the `UrlMatcher` interface, by\n     *          implementing all the same methods.\n     */\n    UrlMatcherFactory.prototype.isMatcher = function (object) {\n        // TODO: typeof?\n        if (!isObject(object))\n            return false;\n        var result = true;\n        forEach(UrlMatcher.prototype, function (val, name) {\n            if (isFunction(val))\n                result = result && (isDefined(object[name]) && isFunction(object[name]));\n        });\n        return result;\n    };\n    \n    /**\n     * Creates and registers a custom [[ParamType]] object\n     *\n     * A [[ParamType]] can be used to generate URLs with typed parameters.\n     *\n     * @param name  The type name.\n     * @param definition The type definition. See [[ParamTypeDefinition]] for information on the values accepted.\n     * @param definitionFn A function that is injected before the app runtime starts.\n     *        The result of this function should be a [[ParamTypeDefinition]].\n     *        The result is merged into the existing `definition`.\n     *        See [[ParamType]] for information on the values accepted.\n     *\n     * @returns - if a type was registered: the [[UrlMatcherFactory]]\n     *   - if only the `name` parameter was specified: the currently registered [[ParamType]] object, or undefined\n     *\n     * Note: Register custom types *before using them* in a state definition.\n     *\n     * See [[ParamTypeDefinition]] for examples\n     */\n    UrlMatcherFactory.prototype.type = function (name, definition, definitionFn) {\n        var type = this.paramTypes.type(name, definition, definitionFn);\n        return !isDefined(definition) ? type : this;\n    };\n    \n    /** @hidden */\n    UrlMatcherFactory.prototype.$get = function () {\n        this.paramTypes.enqueue = false;\n        this.paramTypes._flushTypeQueue();\n        return this;\n    };\n    \n    /** @internalapi */\n    UrlMatcherFactory.prototype.dispose = function () {\n        this.paramTypes.dispose();\n    };\n    return UrlMatcherFactory;\n}());\n\n/**\n * @coreapi\n * @module url\n */ /** */\n/**\n * Creates a [[UrlRule]]\n *\n * Creates a [[UrlRule]] from a:\n *\n * - `string`\n * - [[UrlMatcher]]\n * - `RegExp`\n * - [[StateObject]]\n * @internalapi\n */\nvar UrlRuleFactory = (function () {\n    function UrlRuleFactory(router) {\n        this.router = router;\n    }\n    UrlRuleFactory.prototype.compile = function (str) {\n        return this.router.urlMatcherFactory.compile(str);\n    };\n    UrlRuleFactory.prototype.create = function (what, handler) {\n        var _this = this;\n        var makeRule = pattern([\n            [isString, function (_what) { return makeRule(_this.compile(_what)); }],\n            [is(UrlMatcher), function (_what) { return _this.fromUrlMatcher(_what, handler); }],\n            [isState, function (_what) { return _this.fromState(_what, _this.router); }],\n            [is(RegExp), function (_what) { return _this.fromRegExp(_what, handler); }],\n            [isFunction, function (_what) { return new BaseUrlRule(_what, handler); }],\n        ]);\n        var rule = makeRule(what);\n        if (!rule)\n            throw new Error(\"invalid 'what' in when()\");\n        return rule;\n    };\n    /**\n     * A UrlRule which matches based on a UrlMatcher\n     *\n     * The `handler` may be either a `string`, a [[UrlRuleHandlerFn]] or another [[UrlMatcher]]\n     *\n     * ## Handler as a function\n     *\n     * If `handler` is a function, the function is invoked with:\n     *\n     * - matched parameter values ([[RawParams]] from [[UrlMatcher.exec]])\n     * - url: the current Url ([[UrlParts]])\n     * - router: the router object ([[UIRouter]])\n     *\n     * #### Example:\n     * ```js\n     * var urlMatcher = $umf.compile(\"/foo/:fooId/:barId\");\n     * var rule = factory.fromUrlMatcher(urlMatcher, match => \"/home/\" + match.fooId + \"/\" + match.barId);\n     * var match = rule.match('/foo/123/456'); // results in { fooId: '123', barId: '456' }\n     * var result = rule.handler(match); // '/home/123/456'\n     * ```\n     *\n     * ## Handler as UrlMatcher\n     *\n     * If `handler` is a UrlMatcher, the handler matcher is used to create the new url.\n     * The `handler` UrlMatcher is formatted using the matched param from the first matcher.\n     * The url is replaced with the result.\n     *\n     * #### Example:\n     * ```js\n     * var urlMatcher = $umf.compile(\"/foo/:fooId/:barId\");\n     * var handler = $umf.compile(\"/home/:fooId/:barId\");\n     * var rule = factory.fromUrlMatcher(urlMatcher, handler);\n     * var match = rule.match('/foo/123/456'); // results in { fooId: '123', barId: '456' }\n     * var result = rule.handler(match); // '/home/123/456'\n     * ```\n     */\n    UrlRuleFactory.prototype.fromUrlMatcher = function (urlMatcher, handler) {\n        var _handler = handler;\n        if (isString(handler))\n            handler = this.router.urlMatcherFactory.compile(handler);\n        if (is(UrlMatcher)(handler))\n            _handler = function (match) { return handler.format(match); };\n        function match(url) {\n            var match = urlMatcher.exec(url.path, url.search, url.hash);\n            return urlMatcher.validates(match) && match;\n        }\n        // Prioritize URLs, lowest to highest:\n        // - Some optional URL parameters, but none matched\n        // - No optional parameters in URL\n        // - Some optional parameters, some matched\n        // - Some optional parameters, all matched\n        function matchPriority(params) {\n            var optional = urlMatcher.parameters().filter(function (param) { return param.isOptional; });\n            if (!optional.length)\n                return 0.000001;\n            var matched = optional.filter(function (param) { return params[param.id]; });\n            return matched.length / optional.length;\n        }\n        var details = { urlMatcher: urlMatcher, matchPriority: matchPriority, type: \"URLMATCHER\" };\n        return extend(new BaseUrlRule(match, _handler), details);\n    };\n    /**\n     * A UrlRule which matches a state by its url\n     *\n     * #### Example:\n     * ```js\n     * var rule = factory.fromState($state.get('foo'), router);\n     * var match = rule.match('/foo/123/456'); // results in { fooId: '123', barId: '456' }\n     * var result = rule.handler(match);\n     * // Starts a transition to 'foo' with params: { fooId: '123', barId: '456' }\n     * ```\n     */\n    UrlRuleFactory.prototype.fromState = function (state, router) {\n        /**\n         * Handles match by transitioning to matched state\n         *\n         * First checks if the router should start a new transition.\n         * A new transition is not required if the current state's URL\n         * and the new URL are already identical\n         */\n        var handler = function (match) {\n            var $state = router.stateService;\n            var globals = router.globals;\n            if ($state.href(state, match) !== $state.href(globals.current, globals.params)) {\n                $state.transitionTo(state, match, { inherit: true, source: \"url\" });\n            }\n        };\n        var details = { state: state, type: \"STATE\" };\n        return extend(this.fromUrlMatcher(state.url, handler), details);\n    };\n    /**\n     * A UrlRule which matches based on a regular expression\n     *\n     * The `handler` may be either a [[UrlRuleHandlerFn]] or a string.\n     *\n     * ## Handler as a function\n     *\n     * If `handler` is a function, the function is invoked with:\n     *\n     * - regexp match array (from `regexp`)\n     * - url: the current Url ([[UrlParts]])\n     * - router: the router object ([[UIRouter]])\n     *\n     * #### Example:\n     * ```js\n     * var rule = factory.fromRegExp(/^\\/foo\\/(bar|baz)$/, match => \"/home/\" + match[1])\n     * var match = rule.match('/foo/bar'); // results in [ '/foo/bar', 'bar' ]\n     * var result = rule.handler(match); // '/home/bar'\n     * ```\n     *\n     * ## Handler as string\n     *\n     * If `handler` is a string, the url is *replaced by the string* when the Rule is invoked.\n     * The string is first interpolated using `string.replace()` style pattern.\n     *\n     * #### Example:\n     * ```js\n     * var rule = factory.fromRegExp(/^\\/foo\\/(bar|baz)$/, \"/home/$1\")\n     * var match = rule.match('/foo/bar'); // results in [ '/foo/bar', 'bar' ]\n     * var result = rule.handler(match); // '/home/bar'\n     * ```\n     */\n    UrlRuleFactory.prototype.fromRegExp = function (regexp, handler) {\n        if (regexp.global || regexp.sticky)\n            throw new Error(\"Rule RegExp must not be global or sticky\");\n        /**\n         * If handler is a string, the url will be replaced by the string.\n         * If the string has any String.replace() style variables in it (like `$2`),\n         * they will be replaced by the captures from [[match]]\n         */\n        var redirectUrlTo = function (match) {\n            // Interpolates matched values into $1 $2, etc using a String.replace()-style pattern\n            return handler.replace(/\\$(\\$|\\d{1,2})/, function (m, what) {\n                return match[what === '$' ? 0 : Number(what)];\n            });\n        };\n        var _handler = isString(handler) ? redirectUrlTo : handler;\n        var match = function (url) {\n            return regexp.exec(url.path);\n        };\n        var details = { regexp: regexp, type: \"REGEXP\" };\n        return extend(new BaseUrlRule(match, _handler), details);\n    };\n    return UrlRuleFactory;\n}());\nUrlRuleFactory.isUrlRule = function (obj) {\n    return obj && ['type', 'match', 'handler'].every(function (key) { return isDefined(obj[key]); });\n};\n/**\n * A base rule which calls `match`\n *\n * The value from the `match` function is passed through to the `handler`.\n * @internalapi\n */\nvar BaseUrlRule = (function () {\n    function BaseUrlRule(match, handler) {\n        var _this = this;\n        this.match = match;\n        this.type = \"RAW\";\n        this.matchPriority = function (match) { return 0 - _this.$id; };\n        this.handler = handler || identity;\n    }\n    return BaseUrlRule;\n}());\n\n/**\n * @internalapi\n * @module url\n */\n/** for typedoc */\n/** @hidden */\nfunction appendBasePath(url, isHtml5, absolute, baseHref) {\n    if (baseHref === '/')\n        return url;\n    if (isHtml5)\n        return baseHref.slice(0, -1) + url;\n    if (absolute)\n        return baseHref.slice(1) + url;\n    return url;\n}\n/** @hidden */\nvar getMatcher = prop(\"urlMatcher\");\n/**\n * Default rule priority sorting function.\n *\n * Sorts rules by:\n *\n * - Explicit priority (set rule priority using [[UrlRulesApi.when]])\n * - Rule type (STATE: 4, URLMATCHER: 4, REGEXP: 3, RAW: 2, OTHER: 1)\n * - `UrlMatcher` specificity ([[UrlMatcher.compare]]): works for STATE and URLMATCHER types to pick the most specific rule.\n * - Registration order (for rule types other than STATE and URLMATCHER)\n *\n * @coreapi\n */\nvar defaultRuleSortFn;\ndefaultRuleSortFn = composeSort(sortBy(pipe(prop(\"priority\"), function (x) { return -x; })), sortBy(pipe(prop(\"type\"), function (type) { return ({ \"STATE\": 4, \"URLMATCHER\": 4, \"REGEXP\": 3, \"RAW\": 2, \"OTHER\": 1 })[type]; })), function (a, b) { return (getMatcher(a) && getMatcher(b)) ? UrlMatcher.compare(getMatcher(a), getMatcher(b)) : 0; }, sortBy(prop(\"$id\"), inArray([\"REGEXP\", \"RAW\", \"OTHER\"])));\n/**\n * Updates URL and responds to URL changes\n *\n * ### Deprecation warning:\n * This class is now considered to be an internal API\n * Use the [[UrlService]] instead.\n * For configuring URL rules, use the [[UrlRulesApi]] which can be found as [[UrlService.rules]].\n *\n * This class updates the URL when the state changes.\n * It also responds to changes in the URL.\n */\nvar UrlRouter = (function () {\n    /** @hidden */\n    function UrlRouter(router) {\n        /** @hidden */ this._sortFn = defaultRuleSortFn;\n        /** @hidden */ this._rules = [];\n        /** @hidden */ this.interceptDeferred = false;\n        /** @hidden */ this._id = 0;\n        /** @hidden */ this._sorted = false;\n        this._router = router;\n        this.urlRuleFactory = new UrlRuleFactory(router);\n        createProxyFunctions(val(UrlRouter.prototype), this, val(this));\n    }\n    /** @internalapi */\n    UrlRouter.prototype.dispose = function () {\n        this.listen(false);\n        this._rules = [];\n        delete this._otherwiseFn;\n    };\n    /** @inheritdoc */\n    UrlRouter.prototype.sort = function (compareFn) {\n        this._rules.sort(this._sortFn = compareFn || this._sortFn);\n        this._sorted = true;\n    };\n    UrlRouter.prototype.ensureSorted = function () {\n        this._sorted || this.sort();\n    };\n    /**\n     * Given a URL, check all rules and return the best [[MatchResult]]\n     * @param url\n     * @returns {MatchResult}\n     */\n    UrlRouter.prototype.match = function (url) {\n        var _this = this;\n        this.ensureSorted();\n        url = extend({ path: '', search: {}, hash: '' }, url);\n        var rules = this.rules();\n        if (this._otherwiseFn)\n            rules.push(this._otherwiseFn);\n        // Checks a single rule. Returns { rule: rule, match: match, weight: weight } if it matched, or undefined\n        var checkRule = function (rule) {\n            var match = rule.match(url, _this._router);\n            return match && { match: match, rule: rule, weight: rule.matchPriority(match) };\n        };\n        // The rules are pre-sorted.\n        // - Find the first matching rule.\n        // - Find any other matching rule that sorted *exactly the same*, according to `.sort()`.\n        // - Choose the rule with the highest match weight.\n        var best;\n        for (var i = 0; i < rules.length; i++) {\n            // Stop when there is a 'best' rule and the next rule sorts differently than it.\n            if (best && this._sortFn(rules[i], best.rule) !== 0)\n                break;\n            var current = checkRule(rules[i]);\n            // Pick the best MatchResult\n            best = (!best || current && current.weight > best.weight) ? current : best;\n        }\n        return best;\n    };\n    /** @inheritdoc */\n    UrlRouter.prototype.sync = function (evt) {\n        if (evt && evt.defaultPrevented)\n            return;\n        var router = this._router, $url = router.urlService, $state = router.stateService;\n        var url = {\n            path: $url.path(), search: $url.search(), hash: $url.hash(),\n        };\n        var best = this.match(url);\n        var applyResult = pattern([\n            [isString, function (newurl) { return $url.url(newurl, true); }],\n            [TargetState.isDef, function (def) { return $state.go(def.state, def.params, def.options); }],\n            [is(TargetState), function (target) { return $state.go(target.state(), target.params(), target.options()); }],\n        ]);\n        applyResult(best && best.rule.handler(best.match, url, router));\n    };\n    /** @inheritdoc */\n    UrlRouter.prototype.listen = function (enabled) {\n        var _this = this;\n        if (enabled === false) {\n            this._stopFn && this._stopFn();\n            delete this._stopFn;\n        }\n        else {\n            return this._stopFn = this._stopFn || this._router.urlService.onChange(function (evt) { return _this.sync(evt); });\n        }\n    };\n    /**\n     * Internal API.\n     * @internalapi\n     */\n    UrlRouter.prototype.update = function (read) {\n        var $url = this._router.locationService;\n        if (read) {\n            this.location = $url.path();\n            return;\n        }\n        if ($url.path() === this.location)\n            return;\n        $url.url(this.location, true);\n    };\n    /**\n     * Internal API.\n     *\n     * Pushes a new location to the browser history.\n     *\n     * @internalapi\n     * @param urlMatcher\n     * @param params\n     * @param options\n     */\n    UrlRouter.prototype.push = function (urlMatcher, params, options) {\n        var replace = options && !!options.replace;\n        this._router.urlService.url(urlMatcher.format(params || {}), replace);\n    };\n    /**\n     * Builds and returns a URL with interpolated parameters\n     *\n     * #### Example:\n     * ```js\n     * matcher = $umf.compile(\"/about/:person\");\n     * params = { person: \"bob\" };\n     * $bob = $urlRouter.href(matcher, params);\n     * // $bob == \"/about/bob\";\n     * ```\n     *\n     * @param urlMatcher The [[UrlMatcher]] object which is used as the template of the URL to generate.\n     * @param params An object of parameter values to fill the matcher's required parameters.\n     * @param options Options object. The options are:\n     *\n     * - **`absolute`** - {boolean=false},  If true will generate an absolute url, e.g. \"http://www.example.com/fullurl\".\n     *\n     * @returns Returns the fully compiled URL, or `null` if `params` fail validation against `urlMatcher`\n     */\n    UrlRouter.prototype.href = function (urlMatcher, params, options) {\n        var url = urlMatcher.format(params);\n        if (url == null)\n            return null;\n        options = options || { absolute: false };\n        var cfg = this._router.urlService.config;\n        var isHtml5 = cfg.html5Mode();\n        if (!isHtml5 && url !== null) {\n            url = \"#\" + cfg.hashPrefix() + url;\n        }\n        url = appendBasePath(url, isHtml5, options.absolute, cfg.baseHref());\n        if (!options.absolute || !url) {\n            return url;\n        }\n        var slash = (!isHtml5 && url ? '/' : ''), port = cfg.port();\n        port = (port === 80 || port === 443 ? '' : ':' + port);\n        return [cfg.protocol(), '://', cfg.host(), port, slash, url].join('');\n    };\n    /**\n     * Manually adds a URL Rule.\n     *\n     * Usually, a url rule is added using [[StateDeclaration.url]] or [[when]].\n     * This api can be used directly for more control (to register a [[BaseUrlRule]], for example).\n     * Rules can be created using [[UrlRouter.urlRuleFactory]], or create manually as simple objects.\n     *\n     * A rule should have a `match` function which returns truthy if the rule matched.\n     * It should also have a `handler` function which is invoked if the rule is the best match.\n     *\n     * @return a function that deregisters the rule\n     */\n    UrlRouter.prototype.rule = function (rule) {\n        var _this = this;\n        if (!UrlRuleFactory.isUrlRule(rule))\n            throw new Error(\"invalid rule\");\n        rule.$id = this._id++;\n        rule.priority = rule.priority || 0;\n        this._rules.push(rule);\n        this._sorted = false;\n        return function () { return _this.removeRule(rule); };\n    };\n    /** @inheritdoc */\n    UrlRouter.prototype.removeRule = function (rule) {\n        removeFrom(this._rules, rule);\n    };\n    /** @inheritdoc */\n    UrlRouter.prototype.rules = function () {\n        this.ensureSorted();\n        return this._rules.slice();\n    };\n    /** @inheritdoc */\n    UrlRouter.prototype.otherwise = function (handler) {\n        var handlerFn = getHandlerFn(handler);\n        this._otherwiseFn = this.urlRuleFactory.create(val(true), handlerFn);\n        this._sorted = false;\n    };\n    \n    /** @inheritdoc */\n    UrlRouter.prototype.initial = function (handler) {\n        var handlerFn = getHandlerFn(handler);\n        var matchFn = function (urlParts, router) {\n            return router.globals.transitionHistory.size() === 0 && !!/^\\/?$/.exec(urlParts.path);\n        };\n        this.rule(this.urlRuleFactory.create(matchFn, handlerFn));\n    };\n    \n    /** @inheritdoc */\n    UrlRouter.prototype.when = function (matcher, handler, options) {\n        var rule = this.urlRuleFactory.create(matcher, handler);\n        if (isDefined(options && options.priority))\n            rule.priority = options.priority;\n        this.rule(rule);\n        return rule;\n    };\n    \n    /** @inheritdoc */\n    UrlRouter.prototype.deferIntercept = function (defer) {\n        if (defer === undefined)\n            defer = true;\n        this.interceptDeferred = defer;\n    };\n    \n    return UrlRouter;\n}());\nfunction getHandlerFn(handler) {\n    if (!isFunction(handler) && !isString(handler) && !is(TargetState)(handler) && !TargetState.isDef(handler)) {\n        throw new Error(\"'handler' must be a string, function, TargetState, or have a state: 'newtarget' property\");\n    }\n    return isFunction(handler) ? handler : val(handler);\n}\n\n/**\n * @coreapi\n * @module view\n */ /** for typedoc */\n/**\n * The View service\n *\n * This service pairs existing `ui-view` components (which live in the DOM)\n * with view configs (from the state declaration objects: [[StateDeclaration.views]]).\n *\n * - After a successful Transition, the views from the newly entered states are activated via [[activateViewConfig]].\n *   The views from exited states are deactivated via [[deactivateViewConfig]].\n *   (See: the [[registerActivateViews]] Transition Hook)\n *\n * - As `ui-view` components pop in and out of existence, they register themselves using [[registerUIView]].\n *\n * - When the [[sync]] function is called, the registered `ui-view`(s) ([[ActiveUIView]])\n * are configured with the matching [[ViewConfig]](s)\n *\n */\nvar ViewService = (function () {\n    function ViewService() {\n        var _this = this;\n        this._uiViews = [];\n        this._viewConfigs = [];\n        this._viewConfigFactories = {};\n        this._pluginapi = {\n            _rootViewContext: this._rootViewContext.bind(this),\n            _viewConfigFactory: this._viewConfigFactory.bind(this),\n            _registeredUIViews: function () { return _this._uiViews; },\n            _activeViewConfigs: function () { return _this._viewConfigs; },\n        };\n    }\n    ViewService.prototype._rootViewContext = function (context) {\n        return this._rootContext = context || this._rootContext;\n    };\n    \n    ViewService.prototype._viewConfigFactory = function (viewType, factory) {\n        this._viewConfigFactories[viewType] = factory;\n    };\n    ViewService.prototype.createViewConfig = function (path, decl) {\n        var cfgFactory = this._viewConfigFactories[decl.$type];\n        if (!cfgFactory)\n            throw new Error(\"ViewService: No view config factory registered for type \" + decl.$type);\n        var cfgs = cfgFactory(path, decl);\n        return isArray(cfgs) ? cfgs : [cfgs];\n    };\n    /**\n     * Deactivates a ViewConfig.\n     *\n     * This function deactivates a `ViewConfig`.\n     * After calling [[sync]], it will un-pair from any `ui-view` with which it is currently paired.\n     *\n     * @param viewConfig The ViewConfig view to deregister.\n     */\n    ViewService.prototype.deactivateViewConfig = function (viewConfig) {\n        trace.traceViewServiceEvent(\"<- Removing\", viewConfig);\n        removeFrom(this._viewConfigs, viewConfig);\n    };\n    ViewService.prototype.activateViewConfig = function (viewConfig) {\n        trace.traceViewServiceEvent(\"-> Registering\", viewConfig);\n        this._viewConfigs.push(viewConfig);\n    };\n    ViewService.prototype.sync = function () {\n        var _this = this;\n        var uiViewsByFqn = this._uiViews.map(function (uiv) { return [uiv.fqn, uiv]; }).reduce(applyPairs, {});\n        // Return a weighted depth value for a uiView.\n        // The depth is the nesting depth of ui-views (based on FQN; times 10,000)\n        // plus the depth of the state that is populating the uiView\n        function uiViewDepth(uiView) {\n            var stateDepth = function (context) {\n                return context && context.parent ? stateDepth(context.parent) + 1 : 1;\n            };\n            return (uiView.fqn.split(\".\").length * 10000) + stateDepth(uiView.creationContext);\n        }\n        // Return the ViewConfig's context's depth in the context tree.\n        function viewConfigDepth(config) {\n            var context = config.viewDecl.$context, count = 0;\n            while (++count && context.parent)\n                context = context.parent;\n            return count;\n        }\n        // Given a depth function, returns a compare function which can return either ascending or descending order\n        var depthCompare = curry(function (depthFn, posNeg, left, right) { return posNeg * (depthFn(left) - depthFn(right)); });\n        var matchingConfigPair = function (uiView) {\n            var matchingConfigs = _this._viewConfigs.filter(ViewService.matches(uiViewsByFqn, uiView));\n            if (matchingConfigs.length > 1) {\n                // This is OK.  Child states can target a ui-view that the parent state also targets (the child wins)\n                // Sort by depth and return the match from the deepest child\n                // console.log(`Multiple matching view configs for ${uiView.fqn}`, matchingConfigs);\n                matchingConfigs.sort(depthCompare(viewConfigDepth, -1)); // descending\n            }\n            return [uiView, matchingConfigs[0]];\n        };\n        var configureUIView = function (_a) {\n            var uiView = _a[0], viewConfig = _a[1];\n            // If a parent ui-view is reconfigured, it could destroy child ui-views.\n            // Before configuring a child ui-view, make sure it's still in the active uiViews array.\n            if (_this._uiViews.indexOf(uiView) !== -1)\n                uiView.configUpdated(viewConfig);\n        };\n        // Sort views by FQN and state depth. Process uiviews nearest the root first.\n        this._uiViews.sort(depthCompare(uiViewDepth, 1)).map(matchingConfigPair).forEach(configureUIView);\n    };\n    \n    /**\n     * Registers a `ui-view` component\n     *\n     * When a `ui-view` component is created, it uses this method to register itself.\n     * After registration the [[sync]] method is used to ensure all `ui-view` are configured with the proper [[ViewConfig]].\n     *\n     * Note: the `ui-view` component uses the `ViewConfig` to determine what view should be loaded inside the `ui-view`,\n     * and what the view's state context is.\n     *\n     * Note: There is no corresponding `deregisterUIView`.\n     *       A `ui-view` should hang on to the return value of `registerUIView` and invoke it to deregister itself.\n     *\n     * @param uiView The metadata for a UIView\n     * @return a de-registration function used when the view is destroyed.\n     */\n    ViewService.prototype.registerUIView = function (uiView) {\n        trace.traceViewServiceUIViewEvent(\"-> Registering\", uiView);\n        var uiViews = this._uiViews;\n        var fqnMatches = function (uiv) { return uiv.fqn === uiView.fqn; };\n        if (uiViews.filter(fqnMatches).length)\n            trace.traceViewServiceUIViewEvent(\"!!!! duplicate uiView named:\", uiView);\n        uiViews.push(uiView);\n        this.sync();\n        return function () {\n            var idx = uiViews.indexOf(uiView);\n            if (idx === -1) {\n                trace.traceViewServiceUIViewEvent(\"Tried removing non-registered uiView\", uiView);\n                return;\n            }\n            trace.traceViewServiceUIViewEvent(\"<- Deregistering\", uiView);\n            removeFrom(uiViews)(uiView);\n        };\n    };\n    \n    /**\n     * Returns the list of views currently available on the page, by fully-qualified name.\n     *\n     * @return {Array} Returns an array of fully-qualified view names.\n     */\n    ViewService.prototype.available = function () {\n        return this._uiViews.map(prop(\"fqn\"));\n    };\n    /**\n     * Returns the list of views on the page containing loaded content.\n     *\n     * @return {Array} Returns an array of fully-qualified view names.\n     */\n    ViewService.prototype.active = function () {\n        return this._uiViews.filter(prop(\"$config\")).map(prop(\"name\"));\n    };\n    /**\n     * Normalizes a view's name from a state.views configuration block.\n     *\n     * This should be used by a framework implementation to calculate the values for\n     * [[_ViewDeclaration.$uiViewName]] and [[_ViewDeclaration.$uiViewContextAnchor]].\n     *\n     * @param context the context object (state declaration) that the view belongs to\n     * @param rawViewName the name of the view, as declared in the [[StateDeclaration.views]]\n     *\n     * @returns the normalized uiViewName and uiViewContextAnchor that the view targets\n     */\n    ViewService.normalizeUIViewTarget = function (context, rawViewName) {\n        if (rawViewName === void 0) { rawViewName = \"\"; }\n        // TODO: Validate incoming view name with a regexp to allow:\n        // ex: \"view.name@foo.bar\" , \"^.^.view.name\" , \"view.name@^.^\" , \"\" ,\n        // \"@\" , \"$default@^\" , \"!$default.$default\" , \"!foo.bar\"\n        var viewAtContext = rawViewName.split(\"@\");\n        var uiViewName = viewAtContext[0] || \"$default\"; // default to unnamed view\n        var uiViewContextAnchor = isString(viewAtContext[1]) ? viewAtContext[1] : \"^\"; // default to parent context\n        // Handle relative view-name sugar syntax.\n        // Matches rawViewName \"^.^.^.foo.bar\" into array: [\"^.^.^.foo.bar\", \"^.^.^\", \"foo.bar\"],\n        var relativeViewNameSugar = /^(\\^(?:\\.\\^)*)\\.(.*$)/.exec(uiViewName);\n        if (relativeViewNameSugar) {\n            // Clobbers existing contextAnchor (rawViewName validation will fix this)\n            uiViewContextAnchor = relativeViewNameSugar[1]; // set anchor to \"^.^.^\"\n            uiViewName = relativeViewNameSugar[2]; // set view-name to \"foo.bar\"\n        }\n        if (uiViewName.charAt(0) === '!') {\n            uiViewName = uiViewName.substr(1);\n            uiViewContextAnchor = \"\"; // target absolutely from root\n        }\n        // handle parent relative targeting \"^.^.^\"\n        var relativeMatch = /^(\\^(?:\\.\\^)*)$/;\n        if (relativeMatch.exec(uiViewContextAnchor)) {\n            var anchor = uiViewContextAnchor.split(\".\").reduce((function (anchor, x) { return anchor.parent; }), context);\n            uiViewContextAnchor = anchor.name;\n        }\n        else if (uiViewContextAnchor === '.') {\n            uiViewContextAnchor = context.name;\n        }\n        return { uiViewName: uiViewName, uiViewContextAnchor: uiViewContextAnchor };\n    };\n    return ViewService;\n}());\n/**\n * Given a ui-view and a ViewConfig, determines if they \"match\".\n *\n * A ui-view has a fully qualified name (fqn) and a context object.  The fqn is built from its overall location in\n * the DOM, describing its nesting relationship to any parent ui-view tags it is nested inside of.\n *\n * A ViewConfig has a target ui-view name and a context anchor.  The ui-view name can be a simple name, or\n * can be a segmented ui-view path, describing a portion of a ui-view fqn.\n *\n * In order for a ui-view to match ViewConfig, ui-view's $type must match the ViewConfig's $type\n *\n * If the ViewConfig's target ui-view name is a simple name (no dots), then a ui-view matches if:\n * - the ui-view's name matches the ViewConfig's target name\n * - the ui-view's context matches the ViewConfig's anchor\n *\n * If the ViewConfig's target ui-view name is a segmented name (with dots), then a ui-view matches if:\n * - There exists a parent ui-view where:\n *    - the parent ui-view's name matches the first segment (index 0) of the ViewConfig's target name\n *    - the parent ui-view's context matches the ViewConfig's anchor\n * - And the remaining segments (index 1..n) of the ViewConfig's target name match the tail of the ui-view's fqn\n *\n * Example:\n *\n * DOM:\n * <ui-view>                        <!-- created in the root context (name: \"\") -->\n *   <ui-view name=\"foo\">                <!-- created in the context named: \"A\"      -->\n *     <ui-view>                    <!-- created in the context named: \"A.B\"    -->\n *       <ui-view name=\"bar\">            <!-- created in the context named: \"A.B.C\"  -->\n *       </ui-view>\n *     </ui-view>\n *   </ui-view>\n * </ui-view>\n *\n * uiViews: [\n *  { fqn: \"$default\",                  creationContext: { name: \"\" } },\n *  { fqn: \"$default.foo\",              creationContext: { name: \"A\" } },\n *  { fqn: \"$default.foo.$default\",     creationContext: { name: \"A.B\" } }\n *  { fqn: \"$default.foo.$default.bar\", creationContext: { name: \"A.B.C\" } }\n * ]\n *\n * These four view configs all match the ui-view with the fqn: \"$default.foo.$default.bar\":\n *\n * - ViewConfig1: { uiViewName: \"bar\",                       uiViewContextAnchor: \"A.B.C\" }\n * - ViewConfig2: { uiViewName: \"$default.bar\",              uiViewContextAnchor: \"A.B\" }\n * - ViewConfig3: { uiViewName: \"foo.$default.bar\",          uiViewContextAnchor: \"A\" }\n * - ViewConfig4: { uiViewName: \"$default.foo.$default.bar\", uiViewContextAnchor: \"\" }\n *\n * Using ViewConfig3 as an example, it matches the ui-view with fqn \"$default.foo.$default.bar\" because:\n * - The ViewConfig's segmented target name is: [ \"foo\", \"$default\", \"bar\" ]\n * - There exists a parent ui-view (which has fqn: \"$default.foo\") where:\n *    - the parent ui-view's name \"foo\" matches the first segment \"foo\" of the ViewConfig's target name\n *    - the parent ui-view's context \"A\" matches the ViewConfig's anchor context \"A\"\n * - And the remaining segments [ \"$default\", \"bar\" ].join(\".\"_ of the ViewConfig's target name match\n *   the tail of the ui-view's fqn \"default.bar\"\n *\n * @internalapi\n */\nViewService.matches = function (uiViewsByFqn, uiView) { return function (viewConfig) {\n    // Don't supply an ng1 ui-view with an ng2 ViewConfig, etc\n    if (uiView.$type !== viewConfig.viewDecl.$type)\n        return false;\n    // Split names apart from both viewConfig and uiView into segments\n    var vc = viewConfig.viewDecl;\n    var vcSegments = vc.$uiViewName.split(\".\");\n    var uivSegments = uiView.fqn.split(\".\");\n    // Check if the tails of the segment arrays match. ex, these arrays' tails match:\n    // vc: [\"foo\", \"bar\"], uiv fqn: [\"$default\", \"foo\", \"bar\"]\n    if (!equals(vcSegments, uivSegments.slice(0 - vcSegments.length)))\n        return false;\n    // Now check if the fqn ending at the first segment of the viewConfig matches the context:\n    // [\"$default\", \"foo\"].join(\".\") == \"$default.foo\", does the ui-view $default.foo context match?\n    var negOffset = (1 - vcSegments.length) || undefined;\n    var fqnToFirstSegment = uivSegments.slice(0, negOffset).join(\".\");\n    var uiViewContext = uiViewsByFqn[fqnToFirstSegment].creationContext;\n    return vc.$uiViewContextAnchor === (uiViewContext && uiViewContext.name);\n}; };\n\n/**\n * @coreapi\n * @module core\n */ /** */\n/**\n * Global router state\n *\n * This is where we hold the global mutable state such as current state, current\n * params, current transition, etc.\n */\nvar UIRouterGlobals = (function () {\n    function UIRouterGlobals() {\n        /**\n         * Current parameter values\n         *\n         * The parameter values from the latest successful transition\n         */\n        this.params = new StateParams();\n        /** @internalapi */\n        this.lastStartedTransitionId = -1;\n        /** @internalapi */\n        this.transitionHistory = new Queue([], 1);\n        /** @internalapi */\n        this.successfulTransitions = new Queue([], 1);\n    }\n    UIRouterGlobals.prototype.dispose = function () {\n        this.transitionHistory.clear();\n        this.successfulTransitions.clear();\n        this.transition = null;\n    };\n    return UIRouterGlobals;\n}());\n\n/**\n * @coreapi\n * @module url\n */ /** */\n/** @hidden */\nvar makeStub = function (keys) {\n    return keys.reduce(function (acc, key) { return (acc[key] = notImplemented(key), acc); }, { dispose: noop$1 });\n};\n/** @hidden */ var locationServicesFns = [\"url\", \"path\", \"search\", \"hash\", \"onChange\"];\n/** @hidden */ var locationConfigFns = [\"port\", \"protocol\", \"host\", \"baseHref\", \"html5Mode\", \"hashPrefix\"];\n/** @hidden */ var umfFns = [\"type\", \"caseInsensitive\", \"strictMode\", \"defaultSquashPolicy\"];\n/** @hidden */ var rulesFns = [\"sort\", \"when\", \"initial\", \"otherwise\", \"rules\", \"rule\", \"removeRule\"];\n/** @hidden */ var syncFns = [\"deferIntercept\", \"listen\", \"sync\", \"match\"];\n/**\n * API for URL management\n */\nvar UrlService = (function () {\n    /** @hidden */\n    function UrlService(router, lateBind) {\n        if (lateBind === void 0) { lateBind = true; }\n        this.router = router;\n        this.rules = {};\n        this.config = {};\n        // proxy function calls from UrlService to the LocationService/LocationConfig\n        var locationServices = function () { return router.locationService; };\n        createProxyFunctions(locationServices, this, locationServices, locationServicesFns, lateBind);\n        var locationConfig = function () { return router.locationConfig; };\n        createProxyFunctions(locationConfig, this.config, locationConfig, locationConfigFns, lateBind);\n        var umf = function () { return router.urlMatcherFactory; };\n        createProxyFunctions(umf, this.config, umf, umfFns);\n        var urlRouter = function () { return router.urlRouter; };\n        createProxyFunctions(urlRouter, this.rules, urlRouter, rulesFns);\n        createProxyFunctions(urlRouter, this, urlRouter, syncFns);\n    }\n    UrlService.prototype.url = function (newurl, replace, state) { return; };\n    \n    /** @inheritdoc */\n    UrlService.prototype.path = function () { return; };\n    \n    /** @inheritdoc */\n    UrlService.prototype.search = function () { return; };\n    \n    /** @inheritdoc */\n    UrlService.prototype.hash = function () { return; };\n    \n    /** @inheritdoc */\n    UrlService.prototype.onChange = function (callback) { return; };\n    \n    /**\n     * Returns the current URL parts\n     *\n     * This method returns the current URL components as a [[UrlParts]] object.\n     *\n     * @returns the current url parts\n     */\n    UrlService.prototype.parts = function () {\n        return { path: this.path(), search: this.search(), hash: this.hash() };\n    };\n    UrlService.prototype.dispose = function () { };\n    /** @inheritdoc */\n    UrlService.prototype.sync = function (evt) { return; };\n    /** @inheritdoc */\n    UrlService.prototype.listen = function (enabled) { return; };\n    \n    /** @inheritdoc */\n    UrlService.prototype.deferIntercept = function (defer) { return; };\n    /** @inheritdoc */\n    UrlService.prototype.match = function (urlParts) { return; };\n    return UrlService;\n}());\n/** @hidden */\nUrlService.locationServiceStub = makeStub(locationServicesFns);\n/** @hidden */\nUrlService.locationConfigStub = makeStub(locationConfigFns);\n\n/**\n * @coreapi\n * @module core\n */ /** */\n/** @hidden */\nvar _routerInstance = 0;\n/**\n * The master class used to instantiate an instance of UI-Router.\n *\n * UI-Router (for each specific framework) will create an instance of this class during bootstrap.\n * This class instantiates and wires the UI-Router services together.\n *\n * After a new instance of the UIRouter class is created, it should be configured for your app.\n * For instance, app states should be registered with the [[UIRouter.stateRegistry]].\n *\n * ---\n *\n * Normally the framework code will bootstrap UI-Router.\n * If you are bootstrapping UIRouter manually, tell it to monitor the URL by calling\n * [[UrlService.listen]] then [[UrlService.sync]].\n */\nvar UIRouter = (function () {\n    /**\n     * Creates a new `UIRouter` object\n     *\n     * @param locationService a [[LocationServices]] implementation\n     * @param locationConfig a [[LocationConfig]] implementation\n     * @internalapi\n     */\n    function UIRouter(locationService, locationConfig) {\n        if (locationService === void 0) { locationService = UrlService.locationServiceStub; }\n        if (locationConfig === void 0) { locationConfig = UrlService.locationConfigStub; }\n        this.locationService = locationService;\n        this.locationConfig = locationConfig;\n        /** @hidden */ this.$id = _routerInstance++;\n        /** @hidden */ this._disposed = false;\n        /** @hidden */ this._disposables = [];\n        /** Provides trace information to the console */\n        this.trace = trace;\n        /** Provides services related to ui-view synchronization */\n        this.viewService = new ViewService();\n        /** Provides services related to Transitions */\n        this.transitionService = new TransitionService(this);\n        /** Global router state */\n        this.globals = new UIRouterGlobals();\n        /**\n         * Deprecated for public use. Use [[urlService]] instead.\n         * @deprecated Use [[urlService]] instead\n         */\n        this.urlMatcherFactory = new UrlMatcherFactory();\n        /**\n         * Deprecated for public use. Use [[urlService]] instead.\n         * @deprecated Use [[urlService]] instead\n         */\n        this.urlRouter = new UrlRouter(this);\n        /** Provides a registry for states, and related registration services */\n        this.stateRegistry = new StateRegistry(this);\n        /** Provides services related to states */\n        this.stateService = new StateService(this);\n        /** Provides services related to the URL */\n        this.urlService = new UrlService(this);\n        /** @hidden */\n        this._plugins = {};\n        this.viewService._pluginapi._rootViewContext(this.stateRegistry.root());\n        this.globals.$current = this.stateRegistry.root();\n        this.globals.current = this.globals.$current.self;\n        this.disposable(this.globals);\n        this.disposable(this.stateService);\n        this.disposable(this.stateRegistry);\n        this.disposable(this.transitionService);\n        this.disposable(this.urlRouter);\n        this.disposable(locationService);\n        this.disposable(locationConfig);\n    }\n    /** Registers an object to be notified when the router is disposed */\n    UIRouter.prototype.disposable = function (disposable) {\n        this._disposables.push(disposable);\n    };\n    /**\n     * Disposes this router instance\n     *\n     * When called, clears resources retained by the router by calling `dispose(this)` on all\n     * registered [[disposable]] objects.\n     *\n     * Or, if a `disposable` object is provided, calls `dispose(this)` on that object only.\n     *\n     * @param disposable (optional) the disposable to dispose\n     */\n    UIRouter.prototype.dispose = function (disposable) {\n        var _this = this;\n        if (disposable && isFunction(disposable.dispose)) {\n            disposable.dispose(this);\n            return undefined;\n        }\n        this._disposed = true;\n        this._disposables.slice().forEach(function (d) {\n            try {\n                typeof d.dispose === 'function' && d.dispose(_this);\n                removeFrom(_this._disposables, d);\n            }\n            catch (ignored) { }\n        });\n    };\n    /**\n     * Adds a plugin to UI-Router\n     *\n     * This method adds a UI-Router Plugin.\n     * A plugin can enhance or change UI-Router behavior using any public API.\n     *\n     * #### Example:\n     * ```js\n     * import { MyCoolPlugin } from \"ui-router-cool-plugin\";\n     *\n     * var plugin = router.addPlugin(MyCoolPlugin);\n     * ```\n     *\n     * ### Plugin authoring\n     *\n     * A plugin is simply a class (or constructor function) which accepts a [[UIRouter]] instance and (optionally) an options object.\n     *\n     * The plugin can implement its functionality using any of the public APIs of [[UIRouter]].\n     * For example, it may configure router options or add a Transition Hook.\n     *\n     * The plugin can then be published as a separate module.\n     *\n     * #### Example:\n     * ```js\n     * export class MyAuthPlugin implements UIRouterPlugin {\n     *   constructor(router: UIRouter, options: any) {\n     *     this.name = \"MyAuthPlugin\";\n     *     let $transitions = router.transitionService;\n     *     let $state = router.stateService;\n     *\n     *     let authCriteria = {\n     *       to: (state) => state.data && state.data.requiresAuth\n     *     };\n     *\n     *     function authHook(transition: Transition) {\n     *       let authService = transition.injector().get('AuthService');\n     *       if (!authService.isAuthenticated()) {\n     *         return $state.target('login');\n     *       }\n     *     }\n     *\n     *     $transitions.onStart(authCriteria, authHook);\n     *   }\n     * }\n     * ```\n     *\n     * @param plugin one of:\n     *        - a plugin class which implements [[UIRouterPlugin]]\n     *        - a constructor function for a [[UIRouterPlugin]] which accepts a [[UIRouter]] instance\n     *        - a factory function which accepts a [[UIRouter]] instance and returns a [[UIRouterPlugin]] instance\n     * @param options options to pass to the plugin class/factory\n     * @returns the registered plugin instance\n     */\n    UIRouter.prototype.plugin = function (plugin, options) {\n        if (options === void 0) { options = {}; }\n        var pluginInstance = new plugin(this, options);\n        if (!pluginInstance.name)\n            throw new Error(\"Required property `name` missing on plugin: \" + pluginInstance);\n        this._disposables.push(pluginInstance);\n        return this._plugins[pluginInstance.name] = pluginInstance;\n    };\n    UIRouter.prototype.getPlugin = function (pluginName) {\n        return pluginName ? this._plugins[pluginName] : values(this._plugins);\n    };\n    return UIRouter;\n}());\n\n/** @module hooks */ /** */\nfunction addCoreResolvables(trans) {\n    trans.addResolvable({ token: UIRouter, deps: [], resolveFn: function () { return trans.router; }, data: trans.router }, \"\");\n    trans.addResolvable({ token: Transition, deps: [], resolveFn: function () { return trans; }, data: trans }, \"\");\n    trans.addResolvable({ token: '$transition$', deps: [], resolveFn: function () { return trans; }, data: trans }, \"\");\n    trans.addResolvable({ token: '$stateParams', deps: [], resolveFn: function () { return trans.params(); }, data: trans.params() }, \"\");\n    trans.entering().forEach(function (state) {\n        trans.addResolvable({ token: '$state$', deps: [], resolveFn: function () { return state; }, data: state }, state);\n    });\n}\nvar registerAddCoreResolvables = function (transitionService) {\n    return transitionService.onCreate({}, addCoreResolvables);\n};\n\n/** @module hooks */ /** */\n/**\n * A [[TransitionHookFn]] that redirects to a different state or params\n *\n * Registered using `transitionService.onStart({ to: (state) => !!state.redirectTo }, redirectHook);`\n *\n * See [[StateDeclaration.redirectTo]]\n */\nvar redirectToHook = function (trans) {\n    var redirect = trans.to().redirectTo;\n    if (!redirect)\n        return;\n    var $state = trans.router.stateService;\n    function handleResult(result) {\n        if (!result)\n            return;\n        if (result instanceof TargetState)\n            return result;\n        if (isString(result))\n            return $state.target(result, trans.params(), trans.options());\n        if (result['state'] || result['params'])\n            return $state.target(result['state'] || trans.to(), result['params'] || trans.params(), trans.options());\n    }\n    if (isFunction(redirect)) {\n        return services.$q.when(redirect(trans)).then(handleResult);\n    }\n    return handleResult(redirect);\n};\nvar registerRedirectToHook = function (transitionService) {\n    return transitionService.onStart({ to: function (state) { return !!state.redirectTo; } }, redirectToHook);\n};\n\n/**\n * A factory which creates an onEnter, onExit or onRetain transition hook function\n *\n * The returned function invokes the (for instance) state.onEnter hook when the\n * state is being entered.\n *\n * @hidden\n */\nfunction makeEnterExitRetainHook(hookName) {\n    return function (transition, state) {\n        var _state = state.$$state();\n        var hookFn = _state[hookName];\n        return hookFn(transition, state);\n    };\n}\n/**\n * The [[TransitionStateHookFn]] for onExit\n *\n * When the state is being exited, the state's .onExit function is invoked.\n *\n * Registered using `transitionService.onExit({ exiting: (state) => !!state.onExit }, onExitHook);`\n *\n * See: [[IHookRegistry.onExit]]\n */\nvar onExitHook = makeEnterExitRetainHook('onExit');\nvar registerOnExitHook = function (transitionService) {\n    return transitionService.onExit({ exiting: function (state) { return !!state.onExit; } }, onExitHook);\n};\n/**\n * The [[TransitionStateHookFn]] for onRetain\n *\n * When the state was already entered, and is not being exited or re-entered, the state's .onRetain function is invoked.\n *\n * Registered using `transitionService.onRetain({ retained: (state) => !!state.onRetain }, onRetainHook);`\n *\n * See: [[IHookRegistry.onRetain]]\n */\nvar onRetainHook = makeEnterExitRetainHook('onRetain');\nvar registerOnRetainHook = function (transitionService) {\n    return transitionService.onRetain({ retained: function (state) { return !!state.onRetain; } }, onRetainHook);\n};\n/**\n * The [[TransitionStateHookFn]] for onEnter\n *\n * When the state is being entered, the state's .onEnter function is invoked.\n *\n * Registered using `transitionService.onEnter({ entering: (state) => !!state.onEnter }, onEnterHook);`\n *\n * See: [[IHookRegistry.onEnter]]\n */\nvar onEnterHook = makeEnterExitRetainHook('onEnter');\nvar registerOnEnterHook = function (transitionService) {\n    return transitionService.onEnter({ entering: function (state) { return !!state.onEnter; } }, onEnterHook);\n};\n\n/** @module hooks */\n/** for typedoc */\n/**\n * A [[TransitionHookFn]] which resolves all EAGER Resolvables in the To Path\n *\n * Registered using `transitionService.onStart({}, eagerResolvePath);`\n *\n * When a Transition starts, this hook resolves all the EAGER Resolvables, which the transition then waits for.\n *\n * See [[StateDeclaration.resolve]]\n */\nvar eagerResolvePath = function (trans) {\n    return new ResolveContext(trans.treeChanges().to)\n        .resolvePath(\"EAGER\", trans)\n        .then(noop$1);\n};\nvar registerEagerResolvePath = function (transitionService) {\n    return transitionService.onStart({}, eagerResolvePath, { priority: 1000 });\n};\n/**\n * A [[TransitionHookFn]] which resolves all LAZY Resolvables for the state (and all its ancestors) in the To Path\n *\n * Registered using `transitionService.onEnter({ entering: () => true }, lazyResolveState);`\n *\n * When a State is being entered, this hook resolves all the Resolvables for this state, which the transition then waits for.\n *\n * See [[StateDeclaration.resolve]]\n */\nvar lazyResolveState = function (trans, state) {\n    return new ResolveContext(trans.treeChanges().to)\n        .subContext(state.$$state())\n        .resolvePath(\"LAZY\", trans)\n        .then(noop$1);\n};\nvar registerLazyResolveState = function (transitionService) {\n    return transitionService.onEnter({ entering: val(true) }, lazyResolveState, { priority: 1000 });\n};\n\n/** @module hooks */ /** for typedoc */\n/**\n * A [[TransitionHookFn]] which waits for the views to load\n *\n * Registered using `transitionService.onStart({}, loadEnteringViews);`\n *\n * Allows the views to do async work in [[ViewConfig.load]] before the transition continues.\n * In angular 1, this includes loading the templates.\n */\nvar loadEnteringViews = function (transition) {\n    var $q = services.$q;\n    var enteringViews = transition.views(\"entering\");\n    if (!enteringViews.length)\n        return;\n    return $q.all(enteringViews.map(function (view) { return $q.when(view.load()); })).then(noop$1);\n};\nvar registerLoadEnteringViews = function (transitionService) {\n    return transitionService.onFinish({}, loadEnteringViews);\n};\n/**\n * A [[TransitionHookFn]] which activates the new views when a transition is successful.\n *\n * Registered using `transitionService.onSuccess({}, activateViews);`\n *\n * After a transition is complete, this hook deactivates the old views from the previous state,\n * and activates the new views from the destination state.\n *\n * See [[ViewService]]\n */\nvar activateViews = function (transition) {\n    var enteringViews = transition.views(\"entering\");\n    var exitingViews = transition.views(\"exiting\");\n    if (!enteringViews.length && !exitingViews.length)\n        return;\n    var $view = transition.router.viewService;\n    exitingViews.forEach(function (vc) { return $view.deactivateViewConfig(vc); });\n    enteringViews.forEach(function (vc) { return $view.activateViewConfig(vc); });\n    $view.sync();\n};\nvar registerActivateViews = function (transitionService) {\n    return transitionService.onSuccess({}, activateViews);\n};\n\n/**\n * A [[TransitionHookFn]] which updates global UI-Router state\n *\n * Registered using `transitionService.onBefore({}, updateGlobalState);`\n *\n * Before a [[Transition]] starts, updates the global value of \"the current transition\" ([[Globals.transition]]).\n * After a successful [[Transition]], updates the global values of \"the current state\"\n * ([[Globals.current]] and [[Globals.$current]]) and \"the current param values\" ([[Globals.params]]).\n *\n * See also the deprecated properties:\n * [[StateService.transition]], [[StateService.current]], [[StateService.params]]\n */\nvar updateGlobalState = function (trans) {\n    var globals = trans.router.globals;\n    var transitionSuccessful = function () {\n        globals.successfulTransitions.enqueue(trans);\n        globals.$current = trans.$to();\n        globals.current = globals.$current.self;\n        copy(trans.params(), globals.params);\n    };\n    var clearCurrentTransition = function () {\n        // Do not clear globals.transition if a different transition has started in the meantime\n        if (globals.transition === trans)\n            globals.transition = null;\n    };\n    trans.onSuccess({}, transitionSuccessful, { priority: 10000 });\n    trans.promise.then(clearCurrentTransition, clearCurrentTransition);\n};\nvar registerUpdateGlobalState = function (transitionService) {\n    return transitionService.onCreate({}, updateGlobalState);\n};\n\n/**\n * A [[TransitionHookFn]] which updates the URL after a successful transition\n *\n * Registered using `transitionService.onSuccess({}, updateUrl);`\n */\nvar updateUrl = function (transition) {\n    var options = transition.options();\n    var $state = transition.router.stateService;\n    var $urlRouter = transition.router.urlRouter;\n    // Dont update the url in these situations:\n    // The transition was triggered by a URL sync (options.source === 'url')\n    // The user doesn't want the url to update (options.location === false)\n    // The destination state, and all parents have no navigable url\n    if (options.source !== 'url' && options.location && $state.$current.navigable) {\n        var urlOptions = { replace: options.location === 'replace' };\n        $urlRouter.push($state.$current.navigable.url, $state.params, urlOptions);\n    }\n    $urlRouter.update(true);\n};\nvar registerUpdateUrl = function (transitionService) {\n    return transitionService.onSuccess({}, updateUrl, { priority: 9999 });\n};\n\n/**\n * A [[TransitionHookFn]] that performs lazy loading\n *\n * When entering a state \"abc\" which has a `lazyLoad` function defined:\n * - Invoke the `lazyLoad` function (unless it is already in process)\n *   - Flag the hook function as \"in process\"\n *   - The function should return a promise (that resolves when lazy loading is complete)\n * - Wait for the promise to settle\n *   - If the promise resolves to a [[LazyLoadResult]], then register those states\n *   - Flag the hook function as \"not in process\"\n * - If the hook was successful\n *   - Remove the `lazyLoad` function from the state declaration\n * - If all the hooks were successful\n *   - Retry the transition (by returning a TargetState)\n *\n * ```\n * .state('abc', {\n *   component: 'fooComponent',\n *   lazyLoad: () => System.import('./fooComponent')\n *   });\n * ```\n *\n * See [[StateDeclaration.lazyLoad]]\n */\nvar lazyLoadHook = function (transition) {\n    var router = transition.router;\n    function retryTransition() {\n        if (transition.originalTransition().options().source !== 'url') {\n            // The original transition was not triggered via url sync\n            // The lazy state should be loaded now, so re-try the original transition\n            var orig = transition.targetState();\n            return router.stateService.target(orig.identifier(), orig.params(), orig.options());\n        }\n        // The original transition was triggered via url sync\n        // Run the URL rules and find the best match\n        var $url = router.urlService;\n        var result = $url.match($url.parts());\n        var rule = result && result.rule;\n        // If the best match is a state, redirect the transition (instead\n        // of calling sync() which supersedes the current transition)\n        if (rule && rule.type === \"STATE\") {\n            var state = rule.state;\n            var params = result.match;\n            return router.stateService.target(state, params, transition.options());\n        }\n        // No matching state found, so let .sync() choose the best non-state match/otherwise\n        router.urlService.sync();\n    }\n    var promises = transition.entering()\n        .filter(function (state) { return !!state.$$state().lazyLoad; })\n        .map(function (state) { return lazyLoadState(transition, state); });\n    return services.$q.all(promises).then(retryTransition);\n};\nvar registerLazyLoadHook = function (transitionService) {\n    return transitionService.onBefore({ entering: function (state) { return !!state.lazyLoad; } }, lazyLoadHook);\n};\n/**\n * Invokes a state's lazy load function\n *\n * @param transition a Transition context\n * @param state the state to lazy load\n * @returns A promise for the lazy load result\n */\nfunction lazyLoadState(transition, state) {\n    var lazyLoadFn = state.$$state().lazyLoad;\n    // Store/get the lazy load promise on/from the hookfn so it doesn't get re-invoked\n    var promise = lazyLoadFn['_promise'];\n    if (!promise) {\n        var success = function (result) {\n            delete state.lazyLoad;\n            delete state.$$state().lazyLoad;\n            delete lazyLoadFn['_promise'];\n            return result;\n        };\n        var error = function (err) {\n            delete lazyLoadFn['_promise'];\n            return services.$q.reject(err);\n        };\n        promise = lazyLoadFn['_promise'] =\n            services.$q.when(lazyLoadFn(transition, state))\n                .then(updateStateRegistry)\n                .then(success, error);\n    }\n    /** Register any lazy loaded state definitions */\n    function updateStateRegistry(result) {\n        if (result && Array.isArray(result.states)) {\n            result.states.forEach(function (state) { return transition.router.stateRegistry.register(state); });\n        }\n        return result;\n    }\n    return promise;\n}\n\n/**\n * This class defines a type of hook, such as `onBefore` or `onEnter`.\n * Plugins can define custom hook types, such as sticky states does for `onInactive`.\n *\n * @interalapi\n */\nvar TransitionEventType = (function () {\n    function TransitionEventType(name, hookPhase, hookOrder, criteriaMatchPath, reverseSort, getResultHandler, getErrorHandler, synchronous) {\n        if (reverseSort === void 0) { reverseSort = false; }\n        if (getResultHandler === void 0) { getResultHandler = TransitionHook.HANDLE_RESULT; }\n        if (getErrorHandler === void 0) { getErrorHandler = TransitionHook.REJECT_ERROR; }\n        if (synchronous === void 0) { synchronous = false; }\n        this.name = name;\n        this.hookPhase = hookPhase;\n        this.hookOrder = hookOrder;\n        this.criteriaMatchPath = criteriaMatchPath;\n        this.reverseSort = reverseSort;\n        this.getResultHandler = getResultHandler;\n        this.getErrorHandler = getErrorHandler;\n        this.synchronous = synchronous;\n    }\n    return TransitionEventType;\n}());\n\n/** @module hooks */ /** */\n/**\n * A [[TransitionHookFn]] that skips a transition if it should be ignored\n *\n * This hook is invoked at the end of the onBefore phase.\n *\n * If the transition should be ignored (because no parameter or states changed)\n * then the transition is ignored and not processed.\n */\nfunction ignoredHook(trans) {\n    var ignoredReason = trans._ignoredReason();\n    if (!ignoredReason)\n        return;\n    trace.traceTransitionIgnored(trans);\n    var pending = trans.router.globals.transition;\n    // The user clicked a link going back to the *current state* ('A')\n    // However, there is also a pending transition in flight (to 'B')\n    // Abort the transition to 'B' because the user now wants to be back at 'A'.\n    if (ignoredReason === 'SameAsCurrent' && pending) {\n        pending.abort();\n    }\n    return Rejection.ignored().toPromise();\n}\nvar registerIgnoredTransitionHook = function (transitionService) {\n    return transitionService.onBefore({}, ignoredHook, { priority: -9999 });\n};\n\n/** @module hooks */ /** */\n/**\n * A [[TransitionHookFn]] that rejects the Transition if it is invalid\n *\n * This hook is invoked at the end of the onBefore phase.\n * If the transition is invalid (for example, param values do not validate)\n * then the transition is rejected.\n */\nfunction invalidTransitionHook(trans) {\n    if (!trans.valid()) {\n        throw new Error(trans.error());\n    }\n}\nvar registerInvalidTransitionHook = function (transitionService) {\n    return transitionService.onBefore({}, invalidTransitionHook, { priority: -10000 });\n};\n\n/**\n * @coreapi\n * @module transition\n */\n/** for typedoc */\n/**\n * The default [[Transition]] options.\n *\n * Include this object when applying custom defaults:\n * let reloadOpts = { reload: true, notify: true }\n * let options = defaults(theirOpts, customDefaults, defaultOptions);\n */\nvar defaultTransOpts = {\n    location: true,\n    relative: null,\n    inherit: false,\n    notify: true,\n    reload: false,\n    custom: {},\n    current: function () { return null; },\n    source: \"unknown\"\n};\n/**\n * This class provides services related to Transitions.\n *\n * - Most importantly, it allows global Transition Hooks to be registered.\n * - It allows the default transition error handler to be set.\n * - It also has a factory function for creating new [[Transition]] objects, (used internally by the [[StateService]]).\n *\n * At bootstrap, [[UIRouter]] creates a single instance (singleton) of this class.\n */\nvar TransitionService = (function () {\n    /** @hidden */\n    function TransitionService(_router) {\n        /** @hidden */\n        this._transitionCount = 0;\n        /** @hidden The transition hook types, such as `onEnter`, `onStart`, etc */\n        this._eventTypes = [];\n        /** @hidden The registered transition hooks */\n        this._registeredHooks = {};\n        /** @hidden The  paths on a criteria object */\n        this._criteriaPaths = {};\n        this._router = _router;\n        this.$view = _router.viewService;\n        this._deregisterHookFns = {};\n        this._pluginapi = createProxyFunctions(val(this), {}, val(this), [\n            '_definePathType',\n            '_defineEvent',\n            '_getPathTypes',\n            '_getEvents',\n            'getHooks',\n        ]);\n        this._defineCorePaths();\n        this._defineCoreEvents();\n        this._registerCoreTransitionHooks();\n    }\n    /**\n     * Registers a [[TransitionHookFn]], called *while a transition is being constructed*.\n     *\n     * Registers a transition lifecycle hook, which is invoked during transition construction.\n     *\n     * This low level hook should only be used by plugins.\n     * This can be a useful time for plugins to add resolves or mutate the transition as needed.\n     * The Sticky States plugin uses this hook to modify the treechanges.\n     *\n     * ### Lifecycle\n     *\n     * `onCreate` hooks are invoked *while a transition is being constructed*.\n     *\n     * ### Return value\n     *\n     * The hook's return value is ignored\n     *\n     * @internalapi\n     * @param criteria defines which Transitions the Hook should be invoked for.\n     * @param callback the hook function which will be invoked.\n     * @param options the registration options\n     * @returns a function which deregisters the hook.\n     */\n    TransitionService.prototype.onCreate = function (criteria, callback, options) { return; };\n    /** @inheritdoc */\n    TransitionService.prototype.onBefore = function (criteria, callback, options) { return; };\n    /** @inheritdoc */\n    TransitionService.prototype.onStart = function (criteria, callback, options) { return; };\n    /** @inheritdoc */\n    TransitionService.prototype.onExit = function (criteria, callback, options) { return; };\n    /** @inheritdoc */\n    TransitionService.prototype.onRetain = function (criteria, callback, options) { return; };\n    /** @inheritdoc */\n    TransitionService.prototype.onEnter = function (criteria, callback, options) { return; };\n    /** @inheritdoc */\n    TransitionService.prototype.onFinish = function (criteria, callback, options) { return; };\n    /** @inheritdoc */\n    TransitionService.prototype.onSuccess = function (criteria, callback, options) { return; };\n    /** @inheritdoc */\n    TransitionService.prototype.onError = function (criteria, callback, options) { return; };\n    /**\n     * dispose\n     * @internalapi\n     */\n    TransitionService.prototype.dispose = function (router) {\n        values(this._registeredHooks).forEach(function (hooksArray) { return hooksArray.forEach(function (hook) {\n            hook._deregistered = true;\n            removeFrom(hooksArray, hook);\n        }); });\n    };\n    /**\n     * Creates a new [[Transition]] object\n     *\n     * This is a factory function for creating new Transition objects.\n     * It is used internally by the [[StateService]] and should generally not be called by application code.\n     *\n     * @param fromPath the path to the current state (the from state)\n     * @param targetState the target state (destination)\n     * @returns a Transition\n     */\n    TransitionService.prototype.create = function (fromPath, targetState) {\n        return new Transition(fromPath, targetState, this._router);\n    };\n    /** @hidden */\n    TransitionService.prototype._defineCoreEvents = function () {\n        var Phase = exports.TransitionHookPhase;\n        var TH = TransitionHook;\n        var paths = this._criteriaPaths;\n        var NORMAL_SORT = false, REVERSE_SORT = true;\n        var ASYNCHRONOUS = false, SYNCHRONOUS = true;\n        this._defineEvent(\"onCreate\", Phase.CREATE, 0, paths.to, NORMAL_SORT, TH.LOG_REJECTED_RESULT, TH.THROW_ERROR, SYNCHRONOUS);\n        this._defineEvent(\"onBefore\", Phase.BEFORE, 0, paths.to);\n        this._defineEvent(\"onStart\", Phase.RUN, 0, paths.to);\n        this._defineEvent(\"onExit\", Phase.RUN, 100, paths.exiting, REVERSE_SORT);\n        this._defineEvent(\"onRetain\", Phase.RUN, 200, paths.retained);\n        this._defineEvent(\"onEnter\", Phase.RUN, 300, paths.entering);\n        this._defineEvent(\"onFinish\", Phase.RUN, 400, paths.to);\n        this._defineEvent(\"onSuccess\", Phase.SUCCESS, 0, paths.to, NORMAL_SORT, TH.LOG_REJECTED_RESULT, TH.LOG_ERROR, SYNCHRONOUS);\n        this._defineEvent(\"onError\", Phase.ERROR, 0, paths.to, NORMAL_SORT, TH.LOG_REJECTED_RESULT, TH.LOG_ERROR, SYNCHRONOUS);\n    };\n    /** @hidden */\n    TransitionService.prototype._defineCorePaths = function () {\n        var STATE = exports.TransitionHookScope.STATE, TRANSITION = exports.TransitionHookScope.TRANSITION;\n        this._definePathType(\"to\", TRANSITION);\n        this._definePathType(\"from\", TRANSITION);\n        this._definePathType(\"exiting\", STATE);\n        this._definePathType(\"retained\", STATE);\n        this._definePathType(\"entering\", STATE);\n    };\n    /** @hidden */\n    TransitionService.prototype._defineEvent = function (name, hookPhase, hookOrder, criteriaMatchPath, reverseSort, getResultHandler, getErrorHandler, synchronous) {\n        if (reverseSort === void 0) { reverseSort = false; }\n        if (getResultHandler === void 0) { getResultHandler = TransitionHook.HANDLE_RESULT; }\n        if (getErrorHandler === void 0) { getErrorHandler = TransitionHook.REJECT_ERROR; }\n        if (synchronous === void 0) { synchronous = false; }\n        var eventType = new TransitionEventType(name, hookPhase, hookOrder, criteriaMatchPath, reverseSort, getResultHandler, getErrorHandler, synchronous);\n        this._eventTypes.push(eventType);\n        makeEvent(this, this, eventType);\n    };\n    \n    /** @hidden */\n    TransitionService.prototype._getEvents = function (phase) {\n        var transitionHookTypes = isDefined(phase) ?\n            this._eventTypes.filter(function (type) { return type.hookPhase === phase; }) :\n            this._eventTypes.slice();\n        return transitionHookTypes.sort(function (l, r) {\n            var cmpByPhase = l.hookPhase - r.hookPhase;\n            return cmpByPhase === 0 ? l.hookOrder - r.hookOrder : cmpByPhase;\n        });\n    };\n    /**\n     * Adds a Path to be used as a criterion against a TreeChanges path\n     *\n     * For example: the `exiting` path in [[HookMatchCriteria]] is a STATE scoped path.\n     * It was defined by calling `defineTreeChangesCriterion('exiting', TransitionHookScope.STATE)`\n     * Each state in the exiting path is checked against the criteria and returned as part of the match.\n     *\n     * Another example: the `to` path in [[HookMatchCriteria]] is a TRANSITION scoped path.\n     * It was defined by calling `defineTreeChangesCriterion('to', TransitionHookScope.TRANSITION)`\n     * Only the tail of the `to` path is checked against the criteria and returned as part of the match.\n     *\n     * @hidden\n     */\n    TransitionService.prototype._definePathType = function (name, hookScope) {\n        this._criteriaPaths[name] = { name: name, scope: hookScope };\n    };\n    /** * @hidden */\n    TransitionService.prototype._getPathTypes = function () {\n        return this._criteriaPaths;\n    };\n    /** @hidden */\n    TransitionService.prototype.getHooks = function (hookName) {\n        return this._registeredHooks[hookName];\n    };\n    /** @hidden */\n    TransitionService.prototype._registerCoreTransitionHooks = function () {\n        var fns = this._deregisterHookFns;\n        fns.addCoreResolves = registerAddCoreResolvables(this);\n        fns.ignored = registerIgnoredTransitionHook(this);\n        fns.invalid = registerInvalidTransitionHook(this);\n        // Wire up redirectTo hook\n        fns.redirectTo = registerRedirectToHook(this);\n        // Wire up onExit/Retain/Enter state hooks\n        fns.onExit = registerOnExitHook(this);\n        fns.onRetain = registerOnRetainHook(this);\n        fns.onEnter = registerOnEnterHook(this);\n        // Wire up Resolve hooks\n        fns.eagerResolve = registerEagerResolvePath(this);\n        fns.lazyResolve = registerLazyResolveState(this);\n        // Wire up the View management hooks\n        fns.loadViews = registerLoadEnteringViews(this);\n        fns.activateViews = registerActivateViews(this);\n        // Updates global state after a transition\n        fns.updateGlobals = registerUpdateGlobalState(this);\n        // After globals.current is updated at priority: 10000\n        fns.updateUrl = registerUpdateUrl(this);\n        // Lazy load state trees\n        fns.lazyLoad = registerLazyLoadHook(this);\n    };\n    return TransitionService;\n}());\n\n/**\n * @coreapi\n * @module state\n */\n/** */\n/**\n * Provides state related service functions\n *\n * This class provides services related to ui-router states.\n * An instance of this class is located on the global [[UIRouter]] object.\n */\nvar StateService = (function () {\n    /** @internalapi */\n    function StateService(router) {\n        this.router = router;\n        /** @internalapi */\n        this.invalidCallbacks = [];\n        /** @hidden */\n        this._defaultErrorHandler = function $defaultErrorHandler($error$) {\n            if ($error$ instanceof Error && $error$.stack) {\n                console.error($error$);\n                console.error($error$.stack);\n            }\n            else if ($error$ instanceof Rejection) {\n                console.error($error$.toString());\n                if ($error$.detail && $error$.detail.stack)\n                    console.error($error$.detail.stack);\n            }\n            else {\n                console.error($error$);\n            }\n        };\n        var getters = ['current', '$current', 'params', 'transition'];\n        var boundFns = Object.keys(StateService.prototype).filter(not(inArray(getters)));\n        createProxyFunctions(val(StateService.prototype), this, val(this), boundFns);\n    }\n    Object.defineProperty(StateService.prototype, \"transition\", {\n        /**\n         * The [[Transition]] currently in progress (or null)\n         *\n         * This is a passthrough through to [[UIRouterGlobals.transition]]\n         */\n        get: function () { return this.router.globals.transition; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StateService.prototype, \"params\", {\n        /**\n         * The latest successful state parameters\n         *\n         * This is a passthrough through to [[UIRouterGlobals.params]]\n         */\n        get: function () { return this.router.globals.params; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StateService.prototype, \"current\", {\n        /**\n         * The current [[StateDeclaration]]\n         *\n         * This is a passthrough through to [[UIRouterGlobals.current]]\n         */\n        get: function () { return this.router.globals.current; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StateService.prototype, \"$current\", {\n        /**\n         * The current [[StateObject]]\n         *\n         * This is a passthrough through to [[UIRouterGlobals.$current]]\n         */\n        get: function () { return this.router.globals.$current; },\n        enumerable: true,\n        configurable: true\n    });\n    /** @internalapi */\n    StateService.prototype.dispose = function () {\n        this.defaultErrorHandler(noop$1);\n        this.invalidCallbacks = [];\n    };\n    /**\n     * Handler for when [[transitionTo]] is called with an invalid state.\n     *\n     * Invokes the [[onInvalid]] callbacks, in natural order.\n     * Each callback's return value is checked in sequence until one of them returns an instance of TargetState.\n     * The results of the callbacks are wrapped in $q.when(), so the callbacks may return promises.\n     *\n     * If a callback returns an TargetState, then it is used as arguments to $state.transitionTo() and the result returned.\n     *\n     * @internalapi\n     */\n    StateService.prototype._handleInvalidTargetState = function (fromPath, toState) {\n        var _this = this;\n        var fromState = PathUtils.makeTargetState(fromPath);\n        var globals = this.router.globals;\n        var latestThing = function () { return globals.transitionHistory.peekTail(); };\n        var latest = latestThing();\n        var callbackQueue = new Queue(this.invalidCallbacks.slice());\n        var injector = new ResolveContext(fromPath).injector();\n        var checkForRedirect = function (result) {\n            if (!(result instanceof TargetState)) {\n                return;\n            }\n            var target = result;\n            // Recreate the TargetState, in case the state is now defined.\n            target = _this.target(target.identifier(), target.params(), target.options());\n            if (!target.valid()) {\n                return Rejection.invalid(target.error()).toPromise();\n            }\n            if (latestThing() !== latest) {\n                return Rejection.superseded().toPromise();\n            }\n            return _this.transitionTo(target.identifier(), target.params(), target.options());\n        };\n        function invokeNextCallback() {\n            var nextCallback = callbackQueue.dequeue();\n            if (nextCallback === undefined)\n                return Rejection.invalid(toState.error()).toPromise();\n            var callbackResult = services.$q.when(nextCallback(toState, fromState, injector));\n            return callbackResult.then(checkForRedirect).then(function (result) { return result || invokeNextCallback(); });\n        }\n        return invokeNextCallback();\n    };\n    /**\n     * Registers an Invalid State handler\n     *\n     * Registers a [[OnInvalidCallback]] function to be invoked when [[StateService.transitionTo]]\n     * has been called with an invalid state reference parameter\n     *\n     * Example:\n     * ```js\n     * stateService.onInvalid(function(to, from, injector) {\n     *   if (to.name() === 'foo') {\n     *     let lazyLoader = injector.get('LazyLoadService');\n     *     return lazyLoader.load('foo')\n     *         .then(() => stateService.target('foo'));\n     *   }\n     * });\n     * ```\n     *\n     * @param {function} callback invoked when the toState is invalid\n     *   This function receives the (invalid) toState, the fromState, and an injector.\n     *   The function may optionally return a [[TargetState]] or a Promise for a TargetState.\n     *   If one is returned, it is treated as a redirect.\n     *\n     * @returns a function which deregisters the callback\n     */\n    StateService.prototype.onInvalid = function (callback) {\n        this.invalidCallbacks.push(callback);\n        return function deregisterListener() {\n            removeFrom(this.invalidCallbacks)(callback);\n        }.bind(this);\n    };\n    /**\n     * Reloads the current state\n     *\n     * A method that force reloads the current state, or a partial state hierarchy.\n     * All resolves are re-resolved, and components reinstantiated.\n     *\n     * #### Example:\n     * ```js\n     * let app angular.module('app', ['ui.router']);\n     *\n     * app.controller('ctrl', function ($scope, $state) {\n     *   $scope.reload = function(){\n     *     $state.reload();\n     *   }\n     * });\n     * ```\n     *\n     * Note: `reload()` is just an alias for:\n     *\n     * ```js\n     * $state.transitionTo($state.current, $state.params, {\n     *   reload: true, inherit: false\n     * });\n     * ```\n     *\n     * @param reloadState A state name or a state object.\n     *    If present, this state and all its children will be reloaded, but ancestors will not reload.\n     *\n     * #### Example:\n     * ```js\n     * //assuming app application consists of 3 states: 'contacts', 'contacts.detail', 'contacts.detail.item'\n     * //and current state is 'contacts.detail.item'\n     * let app angular.module('app', ['ui.router']);\n     *\n     * app.controller('ctrl', function ($scope, $state) {\n     *   $scope.reload = function(){\n     *     //will reload 'contact.detail' and nested 'contact.detail.item' states\n     *     $state.reload('contact.detail');\n     *   }\n     * });\n     * ```\n     *\n     * @returns A promise representing the state of the new transition. See [[StateService.go]]\n     */\n    StateService.prototype.reload = function (reloadState) {\n        return this.transitionTo(this.current, this.params, {\n            reload: isDefined(reloadState) ? reloadState : true,\n            inherit: false,\n            notify: false,\n        });\n    };\n    \n    /**\n     * Transition to a different state and/or parameters\n     *\n     * Convenience method for transitioning to a new state.\n     *\n     * `$state.go` calls `$state.transitionTo` internally but automatically sets options to\n     * `{ location: true, inherit: true, relative: router.globals.$current, notify: true }`.\n     * This allows you to use either an absolute or relative `to` argument (because of `relative: router.globals.$current`).\n     * It also allows you to specify * only the parameters you'd like to update, while letting unspecified parameters\n     * inherit from the current parameter values (because of `inherit: true`).\n     *\n     * #### Example:\n     * ```js\n     * let app = angular.module('app', ['ui.router']);\n     *\n     * app.controller('ctrl', function ($scope, $state) {\n     *   $scope.changeState = function () {\n     *     $state.go('contact.detail');\n     *   };\n     * });\n     * ```\n     *\n     * @param to Absolute state name, state object, or relative state path (relative to current state).\n     *\n     * Some examples:\n     *\n     * - `$state.go('contact.detail')` - will go to the `contact.detail` state\n     * - `$state.go('^')` - will go to the parent state\n     * - `$state.go('^.sibling')` - if current state is `home.child`, will go to the `home.sibling` state\n     * - `$state.go('.child.grandchild')` - if current state is home, will go to the `home.child.grandchild` state\n     *\n     * @param params A map of the parameters that will be sent to the state, will populate $stateParams.\n     *\n     *    Any parameters that are not specified will be inherited from current parameter values (because of `inherit: true`).\n     *    This allows, for example, going to a sibling state that shares parameters defined by a parent state.\n     *\n     * @param options Transition options\n     *\n     * @returns {promise} A promise representing the state of the new transition.\n     */\n    StateService.prototype.go = function (to, params, options) {\n        var defautGoOpts = { relative: this.$current, inherit: true };\n        var transOpts = defaults(options, defautGoOpts, defaultTransOpts);\n        return this.transitionTo(to, params, transOpts);\n    };\n    \n    /**\n     * Creates a [[TargetState]]\n     *\n     * This is a factory method for creating a TargetState\n     *\n     * This may be returned from a Transition Hook to redirect a transition, for example.\n     */\n    StateService.prototype.target = function (identifier, params, options) {\n        if (options === void 0) { options = {}; }\n        // If we're reloading, find the state object to reload from\n        if (isObject(options.reload) && !options.reload.name)\n            throw new Error('Invalid reload state object');\n        var reg = this.router.stateRegistry;\n        options.reloadState = options.reload === true ? reg.root() : reg.matcher.find(options.reload, options.relative);\n        if (options.reload && !options.reloadState)\n            throw new Error(\"No such reload state '\" + (isString(options.reload) ? options.reload : options.reload.name) + \"'\");\n        var stateDefinition = reg.matcher.find(identifier, options.relative);\n        return new TargetState(identifier, stateDefinition, params, options);\n    };\n    \n    StateService.prototype.getCurrentPath = function () {\n        var _this = this;\n        var globals = this.router.globals;\n        var latestSuccess = globals.successfulTransitions.peekTail();\n        var rootPath = function () { return [new PathNode(_this.router.stateRegistry.root())]; };\n        return latestSuccess ? latestSuccess.treeChanges().to : rootPath();\n    };\n    /**\n     * Low-level method for transitioning to a new state.\n     *\n     * The [[go]] method (which uses `transitionTo` internally) is recommended in most situations.\n     *\n     * #### Example:\n     * ```js\n     * let app = angular.module('app', ['ui.router']);\n     *\n     * app.controller('ctrl', function ($scope, $state) {\n     *   $scope.changeState = function () {\n     *     $state.transitionTo('contact.detail');\n     *   };\n     * });\n     * ```\n     *\n     * @param to State name or state object.\n     * @param toParams A map of the parameters that will be sent to the state,\n     *      will populate $stateParams.\n     * @param options Transition options\n     *\n     * @returns A promise representing the state of the new transition. See [[go]]\n     */\n    StateService.prototype.transitionTo = function (to, toParams, options) {\n        var _this = this;\n        if (toParams === void 0) { toParams = {}; }\n        if (options === void 0) { options = {}; }\n        var router = this.router;\n        var globals = router.globals;\n        options = defaults(options, defaultTransOpts);\n        var getCurrent = function () {\n            return globals.transition;\n        };\n        options = extend(options, { current: getCurrent });\n        var ref = this.target(to, toParams, options);\n        var currentPath = this.getCurrentPath();\n        if (!ref.exists())\n            return this._handleInvalidTargetState(currentPath, ref);\n        if (!ref.valid())\n            return silentRejection(ref.error());\n        /**\n         * Special handling for Ignored, Aborted, and Redirected transitions\n         *\n         * The semantics for the transition.run() promise and the StateService.transitionTo()\n         * promise differ. For instance, the run() promise may be rejected because it was\n         * IGNORED, but the transitionTo() promise is resolved because from the user perspective\n         * no error occurred.  Likewise, the transition.run() promise may be rejected because of\n         * a Redirect, but the transitionTo() promise is chained to the new Transition's promise.\n         */\n        var rejectedTransitionHandler = function (transition) { return function (error) {\n            if (error instanceof Rejection) {\n                var isLatest = router.globals.lastStartedTransitionId === transition.$id;\n                if (error.type === exports.RejectType.IGNORED) {\n                    isLatest && router.urlRouter.update();\n                    // Consider ignored `Transition.run()` as a successful `transitionTo`\n                    return services.$q.when(globals.current);\n                }\n                var detail = error.detail;\n                if (error.type === exports.RejectType.SUPERSEDED && error.redirected && detail instanceof TargetState) {\n                    // If `Transition.run()` was redirected, allow the `transitionTo()` promise to resolve successfully\n                    // by returning the promise for the new (redirect) `Transition.run()`.\n                    var redirect = transition.redirect(detail);\n                    return redirect.run().catch(rejectedTransitionHandler(redirect));\n                }\n                if (error.type === exports.RejectType.ABORTED) {\n                    isLatest && router.urlRouter.update();\n                    return services.$q.reject(error);\n                }\n            }\n            var errorHandler = _this.defaultErrorHandler();\n            errorHandler(error);\n            return services.$q.reject(error);\n        }; };\n        var transition = this.router.transitionService.create(currentPath, ref);\n        var transitionToPromise = transition.run().catch(rejectedTransitionHandler(transition));\n        silenceUncaughtInPromise(transitionToPromise); // issue #2676\n        // Return a promise for the transition, which also has the transition object on it.\n        return extend(transitionToPromise, { transition: transition });\n    };\n    \n    /**\n     * Checks if the current state *is* the provided state\n     *\n     * Similar to [[includes]] but only checks for the full state name.\n     * If params is supplied then it will be tested for strict equality against the current\n     * active params object, so all params must match with none missing and no extras.\n     *\n     * #### Example:\n     * ```js\n     * $state.$current.name = 'contacts.details.item';\n     *\n     * // absolute name\n     * $state.is('contact.details.item'); // returns true\n     * $state.is(contactDetailItemStateObject); // returns true\n     * ```\n     *\n     * // relative name (. and ^), typically from a template\n     * // E.g. from the 'contacts.details' template\n     * ```html\n     * <div ng-class=\"{highlighted: $state.is('.item')}\">Item</div>\n     * ```\n     *\n     * @param stateOrName The state name (absolute or relative) or state object you'd like to check.\n     * @param params A param object, e.g. `{sectionId: section.id}`, that you'd like\n     * to test against the current active state.\n     * @param options An options object. The options are:\n     *   - `relative`: If `stateOrName` is a relative state name and `options.relative` is set, .is will\n     *     test relative to `options.relative` state (or name).\n     *\n     * @returns Returns true if it is the state.\n     */\n    StateService.prototype.is = function (stateOrName, params, options) {\n        options = defaults(options, { relative: this.$current });\n        var state = this.router.stateRegistry.matcher.find(stateOrName, options.relative);\n        if (!isDefined(state))\n            return undefined;\n        if (this.$current !== state)\n            return false;\n        if (!params)\n            return true;\n        var schema = state.parameters({ inherit: true, matchingKeys: params });\n        return Param.equals(schema, Param.values(schema, params), this.params);\n    };\n    \n    /**\n     * Checks if the current state *includes* the provided state\n     *\n     * A method to determine if the current active state is equal to or is the child of the\n     * state stateName. If any params are passed then they will be tested for a match as well.\n     * Not all the parameters need to be passed, just the ones you'd like to test for equality.\n     *\n     * #### Example when `$state.$current.name === 'contacts.details.item'`\n     * ```js\n     * // Using partial names\n     * $state.includes(\"contacts\"); // returns true\n     * $state.includes(\"contacts.details\"); // returns true\n     * $state.includes(\"contacts.details.item\"); // returns true\n     * $state.includes(\"contacts.list\"); // returns false\n     * $state.includes(\"about\"); // returns false\n     * ```\n     *\n     * #### Glob Examples when `* $state.$current.name === 'contacts.details.item.url'`:\n     * ```js\n     * $state.includes(\"*.details.*.*\"); // returns true\n     * $state.includes(\"*.details.**\"); // returns true\n     * $state.includes(\"**.item.**\"); // returns true\n     * $state.includes(\"*.details.item.url\"); // returns true\n     * $state.includes(\"*.details.*.url\"); // returns true\n     * $state.includes(\"*.details.*\"); // returns false\n     * $state.includes(\"item.**\"); // returns false\n     * ```\n     *\n     * @param stateOrName A partial name, relative name, glob pattern,\n     *   or state object to be searched for within the current state name.\n     * @param params A param object, e.g. `{sectionId: section.id}`,\n     *   that you'd like to test against the current active state.\n     * @param options An options object. The options are:\n     *   - `relative`: If `stateOrName` is a relative state name and `options.relative` is set, .is will\n     *     test relative to `options.relative` state (or name).\n     *\n     * @returns {boolean} Returns true if it does include the state\n     */\n    StateService.prototype.includes = function (stateOrName, params, options) {\n        options = defaults(options, { relative: this.$current });\n        var glob = isString(stateOrName) && Glob.fromString(stateOrName);\n        if (glob) {\n            if (!glob.matches(this.$current.name))\n                return false;\n            stateOrName = this.$current.name;\n        }\n        var state = this.router.stateRegistry.matcher.find(stateOrName, options.relative), include = this.$current.includes;\n        if (!isDefined(state))\n            return undefined;\n        if (!isDefined(include[state.name]))\n            return false;\n        if (!params)\n            return true;\n        var schema = state.parameters({ inherit: true, matchingKeys: params });\n        return Param.equals(schema, Param.values(schema, params), this.params);\n    };\n    \n    /**\n     * Generates a URL for a state and parameters\n     *\n     * Returns the url for the given state populated with the given params.\n     *\n     * #### Example:\n     * ```js\n     * expect($state.href(\"about.person\", { person: \"bob\" })).toEqual(\"/about/bob\");\n     * ```\n     *\n     * @param stateOrName The state name or state object you'd like to generate a url from.\n     * @param params An object of parameter values to fill the state's required parameters.\n     * @param options Options object. The options are:\n     *\n     * @returns {string} compiled state url\n     */\n    StateService.prototype.href = function (stateOrName, params, options) {\n        var defaultHrefOpts = {\n            lossy: true,\n            inherit: true,\n            absolute: false,\n            relative: this.$current,\n        };\n        options = defaults(options, defaultHrefOpts);\n        params = params || {};\n        var state = this.router.stateRegistry.matcher.find(stateOrName, options.relative);\n        if (!isDefined(state))\n            return null;\n        if (options.inherit)\n            params = this.params.$inherit(params, this.$current, state);\n        var nav = (state && options.lossy) ? state.navigable : state;\n        if (!nav || nav.url === undefined || nav.url === null) {\n            return null;\n        }\n        return this.router.urlRouter.href(nav.url, params, {\n            absolute: options.absolute,\n        });\n    };\n    \n    /**\n     * Sets or gets the default [[transitionTo]] error handler.\n     *\n     * The error handler is called when a [[Transition]] is rejected or when any error occurred during the Transition.\n     * This includes errors caused by resolves and transition hooks.\n     *\n     * Note:\n     * This handler does not receive certain Transition rejections.\n     * Redirected and Ignored Transitions are not considered to be errors by [[StateService.transitionTo]].\n     *\n     * The built-in default error handler logs the error to the console.\n     *\n     * You can provide your own custom handler.\n     *\n     * #### Example:\n     * ```js\n     * stateService.defaultErrorHandler(function() {\n     *   // Do not log transitionTo errors\n     * });\n     * ```\n     *\n     * @param handler a global error handler function\n     * @returns the current global error handler\n     */\n    StateService.prototype.defaultErrorHandler = function (handler) {\n        return this._defaultErrorHandler = handler || this._defaultErrorHandler;\n    };\n    StateService.prototype.get = function (stateOrName, base) {\n        var reg = this.router.stateRegistry;\n        if (arguments.length === 0)\n            return reg.get();\n        return reg.get(stateOrName, base || this.$current);\n    };\n    /**\n     * Lazy loads a state\n     *\n     * Explicitly runs a state's [[StateDeclaration.lazyLoad]] function.\n     *\n     * @param stateOrName the state that should be lazy loaded\n     * @param transition the optional Transition context to use (if the lazyLoad function requires an injector, etc)\n     * Note: If no transition is provided, a noop transition is created using the from the current state to the current state.\n     * This noop transition is not actually run.\n     *\n     * @returns a promise to lazy load\n     */\n    StateService.prototype.lazyLoad = function (stateOrName, transition) {\n        var state = this.get(stateOrName);\n        if (!state || !state.lazyLoad)\n            throw new Error(\"Can not lazy load \" + stateOrName);\n        var currentPath = this.getCurrentPath();\n        var target = PathUtils.makeTargetState(currentPath);\n        transition = transition || this.router.transitionService.create(currentPath, target);\n        return lazyLoadState(transition, state);\n    };\n    return StateService;\n}());\n\n/**\n * # Transition subsystem\n *\n * This module contains APIs related to a Transition.\n *\n * See:\n * - [[TransitionService]]\n * - [[Transition]]\n * - [[HookFn]], [[TransitionHookFn]], [[TransitionStateHookFn]], [[HookMatchCriteria]], [[HookResult]]\n *\n * @coreapi\n * @preferred\n * @module transition\n */ /** for typedoc */\n\n/**\n * @internalapi\n * @module vanilla\n */\n/** */\n/**\n * An angular1-like promise api\n *\n * This object implements four methods similar to the\n * [angular 1 promise api](https://docs.angularjs.org/api/ng/service/$q)\n *\n * UI-Router evolved from an angular 1 library to a framework agnostic library.\n * However, some of the `@uirouter/core` code uses these ng1 style APIs to support ng1 style dependency injection.\n *\n * This API provides native ES6 promise support wrapped as a $q-like API.\n * Internally, UI-Router uses this $q object to perform promise operations.\n * The `angular-ui-router` (ui-router for angular 1) uses the $q API provided by angular.\n *\n * $q-like promise api\n */\nvar $q = {\n    /** Normalizes a value as a promise */\n    when: function (val$$1) { return new Promise(function (resolve, reject) { return resolve(val$$1); }); },\n    /** Normalizes a value as a promise rejection */\n    reject: function (val$$1) { return new Promise(function (resolve, reject) { reject(val$$1); }); },\n    /** @returns a deferred object, which has `resolve` and `reject` functions */\n    defer: function () {\n        var deferred = {};\n        deferred.promise = new Promise(function (resolve, reject) {\n            deferred.resolve = resolve;\n            deferred.reject = reject;\n        });\n        return deferred;\n    },\n    /** Like Promise.all(), but also supports object key/promise notation like $q */\n    all: function (promises) {\n        if (isArray(promises)) {\n            return Promise.all(promises);\n        }\n        if (isObject(promises)) {\n            // Convert promises map to promises array.\n            // When each promise resolves, map it to a tuple { key: key, val: val }\n            var chain = Object.keys(promises)\n                .map(function (key) { return promises[key].then(function (val$$1) { return ({ key: key, val: val$$1 }); }); });\n            // Then wait for all promises to resolve, and convert them back to an object\n            return $q.all(chain).then(function (values$$1) {\n                return values$$1.reduce(function (acc, tuple) { acc[tuple.key] = tuple.val; return acc; }, {});\n            });\n        }\n    }\n};\n\n/**\n * @internalapi\n * @module vanilla\n */\n/** */\n// globally available injectables\nvar globals = {};\nvar STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\nvar ARGUMENT_NAMES = /([^\\s,]+)/g;\n/**\n * A basic angular1-like injector api\n *\n * This object implements four methods similar to the\n * [angular 1 dependency injector](https://docs.angularjs.org/api/auto/service/$injector)\n *\n * UI-Router evolved from an angular 1 library to a framework agnostic library.\n * However, some of the `@uirouter/core` code uses these ng1 style APIs to support ng1 style dependency injection.\n *\n * This object provides a naive implementation of a globally scoped dependency injection system.\n * It supports the following DI approaches:\n *\n * ### Function parameter names\n *\n * A function's `.toString()` is called, and the parameter names are parsed.\n * This only works when the parameter names aren't \"mangled\" by a minifier such as UglifyJS.\n *\n * ```js\n * function injectedFunction(FooService, BarService) {\n *   // FooService and BarService are injected\n * }\n * ```\n *\n * ### Function annotation\n *\n * A function may be annotated with an array of dependency names as the `$inject` property.\n *\n * ```js\n * injectedFunction.$inject = [ 'FooService', 'BarService' ];\n * function injectedFunction(fs, bs) {\n *   // FooService and BarService are injected as fs and bs parameters\n * }\n * ```\n *\n * ### Array notation\n *\n * An array provides the names of the dependencies to inject (as strings).\n * The function is the last element of the array.\n *\n * ```js\n * [ 'FooService', 'BarService', function (fs, bs) {\n *   // FooService and BarService are injected as fs and bs parameters\n * }]\n * ```\n *\n * @type {$InjectorLike}\n */\nvar $injector = {\n    /** Gets an object from DI based on a string token */\n    get: function (name) { return globals[name]; },\n    /** Returns true if an object named `name` exists in global DI */\n    has: function (name) { return $injector.get(name) != null; },\n    /**\n     * Injects a function\n     *\n     * @param fn the function to inject\n     * @param context the function's `this` binding\n     * @param locals An object with additional DI tokens and values, such as `{ someToken: { foo: 1 } }`\n     */\n    invoke: function (fn, context, locals) {\n        var all$$1 = extend({}, globals, locals || {});\n        var params = $injector.annotate(fn);\n        var ensureExist = assertPredicate(function (key) { return all$$1.hasOwnProperty(key); }, function (key) { return \"DI can't find injectable: '\" + key + \"'\"; });\n        var args = params.filter(ensureExist).map(function (x) { return all$$1[x]; });\n        if (isFunction(fn))\n            return fn.apply(context, args);\n        else\n            return fn.slice(-1)[0].apply(context, args);\n    },\n    /**\n     * Returns a function's dependencies\n     *\n     * Analyzes a function (or array) and returns an array of DI tokens that the function requires.\n     * @return an array of `string`s\n     */\n    annotate: function (fn) {\n        if (!isInjectable(fn))\n            throw new Error(\"Not an injectable function: \" + fn);\n        if (fn && fn.$inject)\n            return fn.$inject;\n        if (isArray(fn))\n            return fn.slice(0, -1);\n        var fnStr = fn.toString().replace(STRIP_COMMENTS, '');\n        var result = fnStr.slice(fnStr.indexOf('(') + 1, fnStr.indexOf(')')).match(ARGUMENT_NAMES);\n        return result || [];\n    }\n};\n\n/**\n * @internalapi\n * @module vanilla\n */\n/** */\nvar beforeAfterSubstr$1 = function (char) { return function (str) {\n    if (!str)\n        return [\"\", \"\"];\n    var idx = str.indexOf(char);\n    if (idx === -1)\n        return [str, \"\"];\n    return [str.substr(0, idx), str.substr(idx + 1)];\n}; };\nvar splitHash = beforeAfterSubstr$1(\"#\");\nvar splitQuery = beforeAfterSubstr$1(\"?\");\nvar splitEqual = beforeAfterSubstr$1(\"=\");\nvar trimHashVal = function (str) { return str ? str.replace(/^#/, \"\") : \"\"; };\nvar keyValsToObjectR = function (accum, _a) {\n    var key = _a[0], val$$1 = _a[1];\n    if (!accum.hasOwnProperty(key)) {\n        accum[key] = val$$1;\n    }\n    else if (isArray(accum[key])) {\n        accum[key].push(val$$1);\n    }\n    else {\n        accum[key] = [accum[key], val$$1];\n    }\n    return accum;\n};\nvar getParams = function (queryString) {\n    return queryString.split(\"&\").filter(identity).map(splitEqual).reduce(keyValsToObjectR, {});\n};\nfunction parseUrl$1(url) {\n    var orEmptyString = function (x) { return x || \"\"; };\n    var _a = splitHash(url).map(orEmptyString), beforehash = _a[0], hash = _a[1];\n    var _b = splitQuery(beforehash).map(orEmptyString), path = _b[0], search = _b[1];\n    return { path: path, search: search, hash: hash, url: url };\n}\nvar buildUrl = function (loc) {\n    var path = loc.path();\n    var searchObject = loc.search();\n    var hash = loc.hash();\n    var search = Object.keys(searchObject).map(function (key) {\n        var param = searchObject[key];\n        var vals = isArray(param) ? param : [param];\n        return vals.map(function (val$$1) { return key + \"=\" + val$$1; });\n    }).reduce(unnestR, []).join(\"&\");\n    return path + (search ? \"?\" + search : \"\") + (hash ? \"#\" + hash : \"\");\n};\nfunction locationPluginFactory(name, isHtml5, serviceClass, configurationClass) {\n    return function (router) {\n        var service = router.locationService = new serviceClass(router);\n        var configuration = router.locationConfig = new configurationClass(router, isHtml5);\n        function dispose(router) {\n            router.dispose(service);\n            router.dispose(configuration);\n        }\n        return { name: name, service: service, configuration: configuration, dispose: dispose };\n    };\n}\n\n/**\n * @internalapi\n * @module vanilla\n */ /** */\n/** A base `LocationServices` */\nvar BaseLocationServices = (function () {\n    function BaseLocationServices(router, fireAfterUpdate) {\n        var _this = this;\n        this.fireAfterUpdate = fireAfterUpdate;\n        this._listener = function (evt) { return _this._listeners.forEach(function (cb) { return cb(evt); }); };\n        this._listeners = [];\n        this.hash = function () { return parseUrl$1(_this._get()).hash; };\n        this.path = function () { return parseUrl$1(_this._get()).path; };\n        this.search = function () { return getParams(parseUrl$1(_this._get()).search); };\n        this._location = window && window.location;\n        this._history = window && window.history;\n    }\n    BaseLocationServices.prototype.url = function (url, replace) {\n        if (replace === void 0) { replace = true; }\n        if (isDefined(url) && url !== this._get()) {\n            this._set(null, null, url, replace);\n            if (this.fireAfterUpdate) {\n                var evt_1 = extend(new Event(\"locationchange\"), { url: url });\n                this._listeners.forEach(function (cb) { return cb(evt_1); });\n            }\n        }\n        return buildUrl(this);\n    };\n    BaseLocationServices.prototype.onChange = function (cb) {\n        var _this = this;\n        this._listeners.push(cb);\n        return function () { return removeFrom(_this._listeners, cb); };\n    };\n    BaseLocationServices.prototype.dispose = function (router) {\n        deregAll(this._listeners);\n    };\n    return BaseLocationServices;\n}());\n\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @internalapi\n * @module vanilla\n */\n/** */\n/** A `LocationServices` that uses the browser hash \"#\" to get/set the current location */\nvar HashLocationService = (function (_super) {\n    __extends(HashLocationService, _super);\n    function HashLocationService(router) {\n        var _this = _super.call(this, router, false) || this;\n        window.addEventListener('hashchange', _this._listener, false);\n        return _this;\n    }\n    HashLocationService.prototype._get = function () {\n        return trimHashVal(this._location.hash);\n    };\n    HashLocationService.prototype._set = function (state, title, url, replace) {\n        this._location.hash = url;\n    };\n    HashLocationService.prototype.dispose = function (router) {\n        _super.prototype.dispose.call(this, router);\n        window.removeEventListener('hashchange', this._listener);\n    };\n    return HashLocationService;\n}(BaseLocationServices));\n\nvar __extends$1 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @internalapi\n * @module vanilla\n */\n/** */\n/** A `LocationServices` that gets/sets the current location from an in-memory object */\nvar MemoryLocationService = (function (_super) {\n    __extends$1(MemoryLocationService, _super);\n    function MemoryLocationService(router) {\n        return _super.call(this, router, true) || this;\n    }\n    MemoryLocationService.prototype._get = function () {\n        return this._url;\n    };\n    MemoryLocationService.prototype._set = function (state, title, url, replace) {\n        this._url = url;\n    };\n    return MemoryLocationService;\n}(BaseLocationServices));\n\nvar __extends$2 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * A `LocationServices` that gets/sets the current location using the browser's `location` and `history` apis\n *\n * Uses `history.pushState` and `history.replaceState`\n */\nvar PushStateLocationService = (function (_super) {\n    __extends$2(PushStateLocationService, _super);\n    function PushStateLocationService(router) {\n        var _this = _super.call(this, router, true) || this;\n        _this._config = router.urlService.config;\n        window.addEventListener(\"popstate\", _this._listener, false);\n        return _this;\n    }\n    \n    PushStateLocationService.prototype._get = function () {\n        var _a = this._location, pathname = _a.pathname, hash = _a.hash, search = _a.search;\n        search = splitQuery(search)[1]; // strip ? if found\n        hash = splitHash(hash)[1]; // strip # if found\n        return pathname + (search ? \"?\" + search : \"\") + (hash ? \"$\" + search : \"\");\n    };\n    PushStateLocationService.prototype._set = function (state, title, url, replace) {\n        var _a = this, _config = _a._config, _history = _a._history;\n        var fullUrl = _config.baseHref() + url;\n        if (replace) {\n            _history.replaceState(state, title, fullUrl);\n        }\n        else {\n            _history.pushState(state, title, fullUrl);\n        }\n    };\n    PushStateLocationService.prototype.dispose = function (router) {\n        _super.prototype.dispose.call(this, router);\n        window.removeEventListener(\"popstate\", this._listener);\n    };\n    return PushStateLocationService;\n}(BaseLocationServices));\n\n/** A `LocationConfig` mock that gets/sets all config from an in-memory object */\nvar MemoryLocationConfig = (function () {\n    function MemoryLocationConfig() {\n        var _this = this;\n        this._baseHref = '';\n        this._port = 80;\n        this._protocol = \"http\";\n        this._host = \"localhost\";\n        this._hashPrefix = \"\";\n        this.port = function () { return _this._port; };\n        this.protocol = function () { return _this._protocol; };\n        this.host = function () { return _this._host; };\n        this.baseHref = function () { return _this._baseHref; };\n        this.html5Mode = function () { return false; };\n        this.hashPrefix = function (newval) { return isDefined(newval) ? _this._hashPrefix = newval : _this._hashPrefix; };\n        this.dispose = noop$1;\n    }\n    return MemoryLocationConfig;\n}());\n\n/**\n * @internalapi\n * @module vanilla\n */\n/** */\n/** A `LocationConfig` that delegates to the browser's `location` object */\nvar BrowserLocationConfig = (function () {\n    function BrowserLocationConfig(router, _isHtml5) {\n        if (_isHtml5 === void 0) { _isHtml5 = false; }\n        this._isHtml5 = _isHtml5;\n        this._baseHref = undefined;\n        this._hashPrefix = \"\";\n    }\n    BrowserLocationConfig.prototype.port = function () {\n        if (location.port) {\n            return Number(location.port);\n        }\n        return this.protocol() === 'https' ? 443 : 80;\n    };\n    BrowserLocationConfig.prototype.protocol = function () {\n        return location.protocol.replace(/:/g, '');\n    };\n    BrowserLocationConfig.prototype.host = function () {\n        return location.host;\n    };\n    BrowserLocationConfig.prototype.html5Mode = function () {\n        return this._isHtml5;\n    };\n    BrowserLocationConfig.prototype.hashPrefix = function (newprefix) {\n        return isDefined(newprefix) ? this._hashPrefix = newprefix : this._hashPrefix;\n    };\n    \n    BrowserLocationConfig.prototype.baseHref = function (href) {\n        return isDefined(href) ? this._baseHref = href : this._baseHref || this.applyDocumentBaseHref();\n    };\n    BrowserLocationConfig.prototype.applyDocumentBaseHref = function () {\n        var baseTags = document.getElementsByTagName(\"base\");\n        return this._baseHref = baseTags.length ? baseTags[0].href.substr(location.origin.length) : \"\";\n    };\n    BrowserLocationConfig.prototype.dispose = function () { };\n    return BrowserLocationConfig;\n}());\n\n/**\n * @internalapi\n * @module vanilla\n */\n/** */\nfunction servicesPlugin(router) {\n    services.$injector = $injector;\n    services.$q = $q;\n    return { name: \"vanilla.services\", $q: $q, $injector: $injector, dispose: function () { return null; } };\n}\n/** A `UIRouterPlugin` uses the browser hash to get/set the current location */\nvar hashLocationPlugin = locationPluginFactory('vanilla.hashBangLocation', false, HashLocationService, BrowserLocationConfig);\n/** A `UIRouterPlugin` that gets/sets the current location using the browser's `location` and `history` apis */\nvar pushStateLocationPlugin = locationPluginFactory(\"vanilla.pushStateLocation\", true, PushStateLocationService, BrowserLocationConfig);\n/** A `UIRouterPlugin` that gets/sets the current location from an in-memory object */\nvar memoryLocationPlugin = locationPluginFactory(\"vanilla.memoryLocation\", false, MemoryLocationService, MemoryLocationConfig);\n\n/**\n * @internalapi\n * @module vanilla\n */\n/** */\n\n/**\n * # Core classes and interfaces\n *\n * The classes and interfaces that are core to ui-router and do not belong\n * to a more specific subsystem (such as resolve).\n *\n * @coreapi\n * @preferred\n * @module core\n */ /** for typedoc */\n/** @internalapi */\nvar UIRouterPluginBase = (function () {\n    function UIRouterPluginBase() {\n    }\n    UIRouterPluginBase.prototype.dispose = function (router) { };\n    return UIRouterPluginBase;\n}());\n\n/**\n * @coreapi\n * @module common\n */ /** */\n\n\n\nvar index$1 = Object.freeze({\n  fromJson: fromJson,\n  toJson: toJson,\n  copy: copy,\n  forEach: forEach,\n  extend: extend,\n  equals: equals,\n  identity: identity,\n  noop: noop$1,\n  createProxyFunctions: createProxyFunctions,\n  inherit: inherit,\n  inArray: inArray,\n  _inArray: _inArray,\n  removeFrom: removeFrom,\n  _removeFrom: _removeFrom,\n  pushTo: pushTo,\n  _pushTo: _pushTo,\n  deregAll: deregAll,\n  defaults: defaults,\n  mergeR: mergeR,\n  ancestors: ancestors,\n  pick: pick,\n  omit: omit,\n  pluck: pluck,\n  filter: filter,\n  find: find,\n  mapObj: mapObj,\n  map: map,\n  values: values,\n  allTrueR: allTrueR,\n  anyTrueR: anyTrueR,\n  unnestR: unnestR,\n  flattenR: flattenR,\n  pushR: pushR,\n  uniqR: uniqR,\n  unnest: unnest,\n  flatten: flatten,\n  assertPredicate: assertPredicate,\n  assertMap: assertMap,\n  assertFn: assertFn,\n  pairs: pairs,\n  arrayTuples: arrayTuples,\n  applyPairs: applyPairs,\n  tail: tail,\n  _extend: _extend,\n  sortBy: sortBy,\n  composeSort: composeSort,\n  silenceUncaughtInPromise: silenceUncaughtInPromise,\n  silentRejection: silentRejection,\n  notImplemented: notImplemented,\n  services: services,\n  Glob: Glob,\n  curry: curry,\n  compose: compose,\n  pipe: pipe,\n  prop: prop,\n  propEq: propEq,\n  parse: parse,\n  not: not,\n  and: and,\n  or: or,\n  all: all,\n  any: any,\n  is: is,\n  eq: eq,\n  val: val,\n  invoke: invoke,\n  pattern: pattern,\n  isUndefined: isUndefined,\n  isDefined: isDefined,\n  isNull: isNull,\n  isNullOrUndefined: isNullOrUndefined,\n  isFunction: isFunction,\n  isNumber: isNumber,\n  isString: isString,\n  isObject: isObject,\n  isArray: isArray,\n  isDate: isDate,\n  isRegExp: isRegExp,\n  isState: isState,\n  isInjectable: isInjectable,\n  isPromise: isPromise,\n  Queue: Queue,\n  maxLength: maxLength,\n  padString: padString,\n  kebobString: kebobString,\n  functionToString: functionToString,\n  fnToString: fnToString,\n  stringify: stringify,\n  beforeAfterSubstr: beforeAfterSubstr,\n  splitOnDelim: splitOnDelim,\n  joinNeighborsR: joinNeighborsR,\n  get Category () { return exports.Category; },\n  Trace: Trace,\n  trace: trace,\n  get DefType () { return exports.DefType; },\n  Param: Param,\n  ParamTypes: ParamTypes,\n  StateParams: StateParams,\n  ParamType: ParamType,\n  PathNode: PathNode,\n  PathUtils: PathUtils,\n  resolvePolicies: resolvePolicies,\n  defaultResolvePolicy: defaultResolvePolicy,\n  Resolvable: Resolvable,\n  NATIVE_INJECTOR_TOKEN: NATIVE_INJECTOR_TOKEN,\n  ResolveContext: ResolveContext,\n  resolvablesBuilder: resolvablesBuilder,\n  StateBuilder: StateBuilder,\n  StateObject: StateObject,\n  StateMatcher: StateMatcher,\n  StateQueueManager: StateQueueManager,\n  StateRegistry: StateRegistry,\n  StateService: StateService,\n  TargetState: TargetState,\n  get TransitionHookPhase () { return exports.TransitionHookPhase; },\n  get TransitionHookScope () { return exports.TransitionHookScope; },\n  HookBuilder: HookBuilder,\n  matchState: matchState,\n  RegisteredHook: RegisteredHook,\n  makeEvent: makeEvent,\n  get RejectType () { return exports.RejectType; },\n  Rejection: Rejection,\n  Transition: Transition,\n  TransitionHook: TransitionHook,\n  TransitionEventType: TransitionEventType,\n  defaultTransOpts: defaultTransOpts,\n  TransitionService: TransitionService,\n  UrlMatcher: UrlMatcher,\n  UrlMatcherFactory: UrlMatcherFactory,\n  UrlRouter: UrlRouter,\n  UrlRuleFactory: UrlRuleFactory,\n  BaseUrlRule: BaseUrlRule,\n  UrlService: UrlService,\n  ViewService: ViewService,\n  UIRouterGlobals: UIRouterGlobals,\n  UIRouter: UIRouter,\n  $q: $q,\n  $injector: $injector,\n  BaseLocationServices: BaseLocationServices,\n  HashLocationService: HashLocationService,\n  MemoryLocationService: MemoryLocationService,\n  PushStateLocationService: PushStateLocationService,\n  MemoryLocationConfig: MemoryLocationConfig,\n  BrowserLocationConfig: BrowserLocationConfig,\n  splitHash: splitHash,\n  splitQuery: splitQuery,\n  splitEqual: splitEqual,\n  trimHashVal: trimHashVal,\n  keyValsToObjectR: keyValsToObjectR,\n  getParams: getParams,\n  parseUrl: parseUrl$1,\n  buildUrl: buildUrl,\n  locationPluginFactory: locationPluginFactory,\n  servicesPlugin: servicesPlugin,\n  hashLocationPlugin: hashLocationPlugin,\n  pushStateLocationPlugin: pushStateLocationPlugin,\n  memoryLocationPlugin: memoryLocationPlugin,\n  UIRouterPluginBase: UIRouterPluginBase\n});\n\nvar ng_from_global = angular;\nvar ng = (ng_from_import && ng_from_import.module) ? ng_from_import : ng_from_global;\n\nfunction getNg1ViewConfigFactory() {\n    var templateFactory = null;\n    return function (path, view) {\n        templateFactory = templateFactory || services.$injector.get(\"$templateFactory\");\n        return [new Ng1ViewConfig(path, view, templateFactory)];\n    };\n}\nvar hasAnyKey = function (keys, obj) {\n    return keys.reduce(function (acc, key) { return acc || isDefined(obj[key]); }, false);\n};\n/**\n * This is a [[StateBuilder.builder]] function for angular1 `views`.\n *\n * When the [[StateBuilder]] builds a [[StateObject]] object from a raw [[StateDeclaration]], this builder\n * handles the `views` property with logic specific to @uirouter/angularjs (ng1).\n *\n * If no `views: {}` property exists on the [[StateDeclaration]], then it creates the `views` object\n * and applies the state-level configuration to a view named `$default`.\n */\nfunction ng1ViewsBuilder(state) {\n    // Do not process root state\n    if (!state.parent)\n        return {};\n    var tplKeys = ['templateProvider', 'templateUrl', 'template', 'notify', 'async'], ctrlKeys = ['controller', 'controllerProvider', 'controllerAs', 'resolveAs'], compKeys = ['component', 'bindings', 'componentProvider'], nonCompKeys = tplKeys.concat(ctrlKeys), allViewKeys = compKeys.concat(nonCompKeys);\n    // Do not allow a state to have both state-level props and also a `views: {}` property.\n    // A state without a `views: {}` property can declare properties for the `$default` view as properties of the state.\n    // However, the `$default` approach should not be mixed with a separate `views: ` block.\n    if (isDefined(state.views) && hasAnyKey(allViewKeys, state)) {\n        throw new Error(\"State '\" + state.name + \"' has a 'views' object. \" +\n            \"It cannot also have \\\"view properties\\\" at the state level.  \" +\n            \"Move the following properties into a view (in the 'views' object): \" +\n            (\" \" + allViewKeys.filter(function (key) { return isDefined(state[key]); }).join(\", \")));\n    }\n    var views = {}, viewsObject = state.views || { \"$default\": pick(state, allViewKeys) };\n    forEach(viewsObject, function (config, name) {\n        // Account for views: { \"\": { template... } }\n        name = name || \"$default\";\n        // Account for views: { header: \"headerComponent\" }\n        if (isString(config))\n            config = { component: config };\n        // Make a shallow copy of the config object\n        config = extend({}, config);\n        // Do not allow a view to mix props for component-style view with props for template/controller-style view\n        if (hasAnyKey(compKeys, config) && hasAnyKey(nonCompKeys, config)) {\n            throw new Error(\"Cannot combine: \" + compKeys.join(\"|\") + \" with: \" + nonCompKeys.join(\"|\") + \" in stateview: '\" + name + \"@\" + state.name + \"'\");\n        }\n        config.resolveAs = config.resolveAs || '$resolve';\n        config.$type = \"ng1\";\n        config.$context = state;\n        config.$name = name;\n        var normalized = ViewService.normalizeUIViewTarget(config.$context, config.$name);\n        config.$uiViewName = normalized.uiViewName;\n        config.$uiViewContextAnchor = normalized.uiViewContextAnchor;\n        views[name] = config;\n    });\n    return views;\n}\nvar id$1 = 0;\nvar Ng1ViewConfig = (function () {\n    function Ng1ViewConfig(path, viewDecl, factory) {\n        var _this = this;\n        this.path = path;\n        this.viewDecl = viewDecl;\n        this.factory = factory;\n        this.$id = id$1++;\n        this.loaded = false;\n        this.getTemplate = function (uiView, context) {\n            return _this.component ? _this.factory.makeComponentTemplate(uiView, context, _this.component, _this.viewDecl.bindings) : _this.template;\n        };\n    }\n    Ng1ViewConfig.prototype.load = function () {\n        var _this = this;\n        var $q$$1 = services.$q;\n        var context = new ResolveContext(this.path);\n        var params = this.path.reduce(function (acc, node) { return extend(acc, node.paramValues); }, {});\n        var promises = {\n            template: $q$$1.when(this.factory.fromConfig(this.viewDecl, params, context)),\n            controller: $q$$1.when(this.getController(context))\n        };\n        return $q$$1.all(promises).then(function (results) {\n            trace.traceViewServiceEvent(\"Loaded\", _this);\n            _this.controller = results.controller;\n            extend(_this, results.template); // Either { template: \"tpl\" } or { component: \"cmpName\" }\n            return _this;\n        });\n    };\n    /**\n     * Gets the controller for a view configuration.\n     *\n     * @returns {Function|Promise.<Function>} Returns a controller, or a promise that resolves to a controller.\n     */\n    Ng1ViewConfig.prototype.getController = function (context) {\n        var provider = this.viewDecl.controllerProvider;\n        if (!isInjectable(provider))\n            return this.viewDecl.controller;\n        var deps = services.$injector.annotate(provider);\n        var providerFn = isArray(provider) ? tail(provider) : provider;\n        var resolvable = new Resolvable(\"\", providerFn, deps);\n        return resolvable.get(context);\n    };\n    return Ng1ViewConfig;\n}());\n\n/** @module view */\n/** for typedoc */\n/**\n * Service which manages loading of templates from a ViewConfig.\n */\nvar TemplateFactory = (function () {\n    function TemplateFactory() {\n        var _this = this;\n        /** @hidden */ this._useHttp = ng.version.minor < 3;\n        /** @hidden */ this.$get = ['$http', '$templateCache', '$injector', function ($http, $templateCache, $injector$$1) {\n                _this.$templateRequest = $injector$$1.has && $injector$$1.has('$templateRequest') && $injector$$1.get('$templateRequest');\n                _this.$http = $http;\n                _this.$templateCache = $templateCache;\n                return _this;\n            }];\n    }\n    /** @hidden */\n    TemplateFactory.prototype.useHttpService = function (value) {\n        this._useHttp = value;\n    };\n    \n    /**\n     * Creates a template from a configuration object.\n     *\n     * @param config Configuration object for which to load a template.\n     * The following properties are search in the specified order, and the first one\n     * that is defined is used to create the template:\n     *\n     * @param params  Parameters to pass to the template function.\n     * @param context The resolve context associated with the template's view\n     *\n     * @return {string|object}  The template html as a string, or a promise for\n     * that string,or `null` if no template is configured.\n     */\n    TemplateFactory.prototype.fromConfig = function (config, params, context) {\n        var defaultTemplate = \"<ui-view></ui-view>\";\n        var asTemplate = function (result) { return services.$q.when(result).then(function (str) { return ({ template: str }); }); };\n        var asComponent = function (result) { return services.$q.when(result).then(function (str) { return ({ component: str }); }); };\n        return (isDefined(config.template) ? asTemplate(this.fromString(config.template, params)) :\n            isDefined(config.templateUrl) ? asTemplate(this.fromUrl(config.templateUrl, params)) :\n                isDefined(config.templateProvider) ? asTemplate(this.fromProvider(config.templateProvider, params, context)) :\n                    isDefined(config.component) ? asComponent(config.component) :\n                        isDefined(config.componentProvider) ? asComponent(this.fromComponentProvider(config.componentProvider, params, context)) :\n                            asTemplate(defaultTemplate));\n    };\n    \n    /**\n     * Creates a template from a string or a function returning a string.\n     *\n     * @param template html template as a string or function that returns an html template as a string.\n     * @param params Parameters to pass to the template function.\n     *\n     * @return {string|object} The template html as a string, or a promise for that\n     * string.\n     */\n    TemplateFactory.prototype.fromString = function (template, params) {\n        return isFunction(template) ? template(params) : template;\n    };\n    \n    /**\n     * Loads a template from the a URL via `$http` and `$templateCache`.\n     *\n     * @param {string|Function} url url of the template to load, or a function\n     * that returns a url.\n     * @param {Object} params Parameters to pass to the url function.\n     * @return {string|Promise.<string>} The template html as a string, or a promise\n     * for that string.\n     */\n    TemplateFactory.prototype.fromUrl = function (url, params) {\n        if (isFunction(url))\n            url = url(params);\n        if (url == null)\n            return null;\n        if (this._useHttp) {\n            return this.$http.get(url, { cache: this.$templateCache, headers: { Accept: 'text/html' } })\n                .then(function (response) { return response.data; });\n        }\n        return this.$templateRequest(url);\n    };\n    \n    /**\n     * Creates a template by invoking an injectable provider function.\n     *\n     * @param provider Function to invoke via `locals`\n     * @param {Function} injectFn a function used to invoke the template provider\n     * @return {string|Promise.<string>} The template html as a string, or a promise\n     * for that string.\n     */\n    TemplateFactory.prototype.fromProvider = function (provider, params, context) {\n        var deps = services.$injector.annotate(provider);\n        var providerFn = isArray(provider) ? tail(provider) : provider;\n        var resolvable = new Resolvable(\"\", providerFn, deps);\n        return resolvable.get(context);\n    };\n    \n    /**\n     * Creates a component's template by invoking an injectable provider function.\n     *\n     * @param provider Function to invoke via `locals`\n     * @param {Function} injectFn a function used to invoke the template provider\n     * @return {string} The template html as a string: \"<component-name input1='::$resolve.foo'></component-name>\".\n     */\n    TemplateFactory.prototype.fromComponentProvider = function (provider, params, context) {\n        var deps = services.$injector.annotate(provider);\n        var providerFn = isArray(provider) ? tail(provider) : provider;\n        var resolvable = new Resolvable(\"\", providerFn, deps);\n        return resolvable.get(context);\n    };\n    \n    /**\n     * Creates a template from a component's name\n     *\n     * This implements route-to-component.\n     * It works by retrieving the component (directive) metadata from the injector.\n     * It analyses the component's bindings, then constructs a template that instantiates the component.\n     * The template wires input and output bindings to resolves or from the parent component.\n     *\n     * @param uiView {object} The parent ui-view (for binding outputs to callbacks)\n     * @param context The ResolveContext (for binding outputs to callbacks returned from resolves)\n     * @param component {string} Component's name in camel case.\n     * @param bindings An object defining the component's bindings: {foo: '<'}\n     * @return {string} The template as a string: \"<component-name input1='::$resolve.foo'></component-name>\".\n     */\n    TemplateFactory.prototype.makeComponentTemplate = function (uiView, context, component, bindings) {\n        bindings = bindings || {};\n        // Bind once prefix\n        var prefix = ng.version.minor >= 3 ? \"::\" : \"\";\n        var attributeTpl = function (input) {\n            var name = input.name, type = input.type;\n            var attrName = kebobString(name);\n            // If the ui-view has an attribute which matches a binding on the routed component\n            // then pass that attribute through to the routed component template.\n            // Prefer ui-view wired mappings to resolve data, unless the resolve was explicitly bound using `bindings:`\n            if (uiView.attr(attrName) && !bindings[name])\n                return \"x-\" + attrName + \"='\" + uiView.attr(attrName) + \"'\";\n            var resolveName = bindings[name] || name;\n            // Pre-evaluate the expression for \"@\" bindings by enclosing in {{ }}\n            // some-attr=\"{{ ::$resolve.someResolveName }}\"\n            if (type === '@')\n                return \"x-\" + attrName + \"='{{\" + prefix + \"$resolve.\" + resolveName + \"}}'\";\n            // Wire \"&\" callbacks to resolves that return a callback function\n            // Get the result of the resolve (should be a function) and annotate it to get its arguments.\n            // some-attr=\"$resolve.someResolveResultName(foo, bar)\"\n            if (type === '&') {\n                var res = context.getResolvable(resolveName);\n                var fn = res && res.data;\n                var args = fn && services.$injector.annotate(fn) || [];\n                // account for array style injection, i.e., ['foo', function(foo) {}]\n                var arrayIdxStr = isArray(fn) ? \"[\" + (fn.length - 1) + \"]\" : '';\n                return \"x-\" + attrName + \"='$resolve.\" + resolveName + arrayIdxStr + \"(\" + args.join(\",\") + \")'\";\n            }\n            // some-attr=\"::$resolve.someResolveName\"\n            return \"x-\" + attrName + \"='\" + prefix + \"$resolve.\" + resolveName + \"'\";\n        };\n        var attrs = getComponentBindings(component).map(attributeTpl).join(\" \");\n        var kebobName = \"x-\" + kebobString(component);\n        return \"<\" + kebobName + \" \" + attrs + \"></\" + kebobName + \">\";\n    };\n    \n    return TemplateFactory;\n}());\n// Gets all the directive(s)' inputs ('@', '=', and '<') and outputs ('&')\nfunction getComponentBindings(name) {\n    var cmpDefs = services.$injector.get(name + \"Directive\"); // could be multiple\n    if (!cmpDefs || !cmpDefs.length)\n        throw new Error(\"Unable to find component named '\" + name + \"'\");\n    return cmpDefs.map(getBindings).reduce(unnestR, []);\n}\n// Given a directive definition, find its object input attributes\n// Use different properties, depending on the type of directive (component, bindToController, normal)\nvar getBindings = function (def) {\n    if (isObject(def.bindToController))\n        return scopeBindings(def.bindToController);\n    return scopeBindings(def.scope);\n};\n// for ng 1.2 style, process the scope: { input: \"=foo\" }\n// for ng 1.3 through ng 1.5, process the component's bindToController: { input: \"=foo\" } object\nvar scopeBindings = function (bindingsObj) { return Object.keys(bindingsObj || {})\n    .map(function (key) { return [key, /^([=<@&])[?]?(.*)/.exec(bindingsObj[key])]; })\n    .filter(function (tuple) { return isDefined(tuple) && isArray(tuple[1]); })\n    .map(function (tuple) { return ({ name: tuple[1][2] || tuple[0], type: tuple[1][1] }); }); };\n\n/** @module ng1 */ /** for typedoc */\n/**\n * The Angular 1 `StateProvider`\n *\n * The `$stateProvider` works similar to Angular's v1 router, but it focuses purely\n * on state.\n *\n * A state corresponds to a \"place\" in the application in terms of the overall UI and\n * navigation. A state describes (via the controller / template / view properties) what\n * the UI looks like and does at that place.\n *\n * States often have things in common, and the primary way of factoring out these\n * commonalities in this model is via the state hierarchy, i.e. parent/child states aka\n * nested states.\n *\n * The `$stateProvider` provides interfaces to declare these states for your app.\n */\nvar StateProvider = (function () {\n    function StateProvider(stateRegistry, stateService) {\n        this.stateRegistry = stateRegistry;\n        this.stateService = stateService;\n        createProxyFunctions(val(StateProvider.prototype), this, val(this));\n    }\n    /**\n     * Decorates states when they are registered\n     *\n     * Allows you to extend (carefully) or override (at your own peril) the\n     * `stateBuilder` object used internally by [[StateRegistry]].\n     * This can be used to add custom functionality to ui-router,\n     * for example inferring templateUrl based on the state name.\n     *\n     * When passing only a name, it returns the current (original or decorated) builder\n     * function that matches `name`.\n     *\n     * The builder functions that can be decorated are listed below. Though not all\n     * necessarily have a good use case for decoration, that is up to you to decide.\n     *\n     * In addition, users can attach custom decorators, which will generate new\n     * properties within the state's internal definition. There is currently no clear\n     * use-case for this beyond accessing internal states (i.e. $state.$current),\n     * however, expect this to become increasingly relevant as we introduce additional\n     * meta-programming features.\n     *\n     * **Warning**: Decorators should not be interdependent because the order of\n     * execution of the builder functions in non-deterministic. Builder functions\n     * should only be dependent on the state definition object and super function.\n     *\n     *\n     * Existing builder functions and current return values:\n     *\n     * - **parent** `{object}` - returns the parent state object.\n     * - **data** `{object}` - returns state data, including any inherited data that is not\n     *   overridden by own values (if any).\n     * - **url** `{object}` - returns a {@link ui.router.util.type:UrlMatcher UrlMatcher}\n     *   or `null`.\n     * - **navigable** `{object}` - returns closest ancestor state that has a URL (aka is\n     *   navigable).\n     * - **params** `{object}` - returns an array of state params that are ensured to\n     *   be a super-set of parent's params.\n     * - **views** `{object}` - returns a views object where each key is an absolute view\n     *   name (i.e. \"viewName@stateName\") and each value is the config object\n     *   (template, controller) for the view. Even when you don't use the views object\n     *   explicitly on a state config, one is still created for you internally.\n     *   So by decorating this builder function you have access to decorating template\n     *   and controller properties.\n     * - **ownParams** `{object}` - returns an array of params that belong to the state,\n     *   not including any params defined by ancestor states.\n     * - **path** `{string}` - returns the full path from the root down to this state.\n     *   Needed for state activation.\n     * - **includes** `{object}` - returns an object that includes every state that\n     *   would pass a `$state.includes()` test.\n     *\n     * #### Example:\n     * Override the internal 'views' builder with a function that takes the state\n     * definition, and a reference to the internal function being overridden:\n     * ```js\n     * $stateProvider.decorator('views', function (state, parent) {\n     *   let result = {},\n     *       views = parent(state);\n     *\n     *   angular.forEach(views, function (config, name) {\n     *     let autoName = (state.name + '.' + name).replace('.', '/');\n     *     config.templateUrl = config.templateUrl || '/partials/' + autoName + '.html';\n     *     result[name] = config;\n     *   });\n     *   return result;\n     * });\n     *\n     * $stateProvider.state('home', {\n     *   views: {\n     *     'contact.list': { controller: 'ListController' },\n     *     'contact.item': { controller: 'ItemController' }\n     *   }\n     * });\n     * ```\n     *\n     *\n     * ```js\n     * // Auto-populates list and item views with /partials/home/contact/list.html,\n     * // and /partials/home/contact/item.html, respectively.\n     * $state.go('home');\n     * ```\n     *\n     * @param {string} name The name of the builder function to decorate.\n     * @param {object} func A function that is responsible for decorating the original\n     * builder function. The function receives two parameters:\n     *\n     *   - `{object}` - state - The state config object.\n     *   - `{object}` - super - The original builder function.\n     *\n     * @return {object} $stateProvider - $stateProvider instance\n     */\n    StateProvider.prototype.decorator = function (name, func) {\n        return this.stateRegistry.decorator(name, func) || this;\n    };\n    StateProvider.prototype.state = function (name, definition) {\n        if (isObject(name)) {\n            definition = name;\n        }\n        else {\n            definition.name = name;\n        }\n        this.stateRegistry.register(definition);\n        return this;\n    };\n    /**\n     * Registers an invalid state handler\n     *\n     * This is a passthrough to [[StateService.onInvalid]] for ng1.\n     */\n    StateProvider.prototype.onInvalid = function (callback) {\n        return this.stateService.onInvalid(callback);\n    };\n    return StateProvider;\n}());\n\n/** @module ng1 */ /** */\n/**\n * This is a [[StateBuilder.builder]] function for angular1 `onEnter`, `onExit`,\n * `onRetain` callback hooks on a [[Ng1StateDeclaration]].\n *\n * When the [[StateBuilder]] builds a [[StateObject]] object from a raw [[StateDeclaration]], this builder\n * ensures that those hooks are injectable for @uirouter/angularjs (ng1).\n */\nvar getStateHookBuilder = function (hookName) {\n    return function stateHookBuilder(state, parentFn) {\n        var hook = state[hookName];\n        var pathname = hookName === 'onExit' ? 'from' : 'to';\n        function decoratedNg1Hook(trans, state) {\n            var resolveContext = new ResolveContext(trans.treeChanges(pathname));\n            var locals = extend(getLocals(resolveContext), { $state$: state, $transition$: trans });\n            return services.$injector.invoke(hook, this, locals);\n        }\n        return hook ? decoratedNg1Hook : undefined;\n    };\n};\n\n/**\n * Implements UI-Router LocationServices and LocationConfig using Angular 1's $location service\n */\nvar Ng1LocationServices = (function () {\n    function Ng1LocationServices($locationProvider) {\n        // .onChange() registry\n        this._urlListeners = [];\n        this.$locationProvider = $locationProvider;\n        var _lp = val($locationProvider);\n        createProxyFunctions(_lp, this, _lp, ['hashPrefix']);\n    }\n    Ng1LocationServices.prototype.dispose = function () { };\n    Ng1LocationServices.prototype.onChange = function (callback) {\n        var _this = this;\n        this._urlListeners.push(callback);\n        return function () { return removeFrom(_this._urlListeners)(callback); };\n    };\n    Ng1LocationServices.prototype.html5Mode = function () {\n        var html5Mode = this.$locationProvider.html5Mode();\n        html5Mode = isObject(html5Mode) ? html5Mode.enabled : html5Mode;\n        return html5Mode && this.$sniffer.history;\n    };\n    Ng1LocationServices.prototype.url = function (newUrl, replace, state) {\n        if (replace === void 0) { replace = false; }\n        if (newUrl)\n            this.$location.url(newUrl);\n        if (replace)\n            this.$location.replace();\n        if (state)\n            this.$location.state(state);\n        return this.$location.url();\n    };\n    Ng1LocationServices.prototype._runtimeServices = function ($rootScope, $location, $sniffer, $browser) {\n        var _this = this;\n        this.$location = $location;\n        this.$sniffer = $sniffer;\n        // Bind $locationChangeSuccess to the listeners registered in LocationService.onChange\n        $rootScope.$on(\"$locationChangeSuccess\", function (evt) { return _this._urlListeners.forEach(function (fn) { return fn(evt); }); });\n        var _loc = val($location);\n        var _browser = val($browser);\n        // Bind these LocationService functions to $location\n        createProxyFunctions(_loc, this, _loc, [\"replace\", \"path\", \"search\", \"hash\"]);\n        // Bind these LocationConfig functions to $location\n        createProxyFunctions(_loc, this, _loc, ['port', 'protocol', 'host']);\n        // Bind these LocationConfig functions to $browser\n        createProxyFunctions(_browser, this, _browser, ['baseHref']);\n    };\n    /**\n     * Applys ng1-specific path parameter encoding\n     *\n     * The Angular 1 `$location` service is a bit weird.\n     * It doesn't allow slashes to be encoded/decoded bi-directionally.\n     *\n     * See the writeup at https://github.com/angular-ui/ui-router/issues/2598\n     *\n     * This code patches the `path` parameter type so it encoded/decodes slashes as ~2F\n     *\n     * @param router\n     */\n    Ng1LocationServices.monkeyPatchPathParameterType = function (router) {\n        var pathType = router.urlMatcherFactory.type('path');\n        pathType.encode = function (val$$1) {\n            return val$$1 != null ? val$$1.toString().replace(/(~|\\/)/g, function (m) { return ({ '~': '~~', '/': '~2F' }[m]); }) : val$$1;\n        };\n        pathType.decode = function (val$$1) {\n            return val$$1 != null ? val$$1.toString().replace(/(~~|~2F)/g, function (m) { return ({ '~~': '~', '~2F': '/' }[m]); }) : val$$1;\n        };\n    };\n    return Ng1LocationServices;\n}());\n\n/** @module url */ /** */\n/**\n * Manages rules for client-side URL\n *\n * ### Deprecation warning:\n * This class is now considered to be an internal API\n * Use the [[UrlService]] instead.\n * For configuring URL rules, use the [[UrlRulesApi]] which can be found as [[UrlService.rules]].\n *\n * This class manages the router rules for what to do when the URL changes.\n *\n * This provider remains for backwards compatibility.\n *\n * @deprecated\n */\nvar UrlRouterProvider = (function () {\n    /** @hidden */\n    function UrlRouterProvider(router) {\n        this._router = router;\n        this._urlRouter = router.urlRouter;\n    }\n    /** @hidden */\n    UrlRouterProvider.prototype.$get = function () {\n        var urlRouter = this._urlRouter;\n        urlRouter.update(true);\n        if (!urlRouter.interceptDeferred)\n            urlRouter.listen();\n        return urlRouter;\n    };\n    /**\n     * Registers a url handler function.\n     *\n     * Registers a low level url handler (a `rule`).\n     * A rule detects specific URL patterns and returns a redirect, or performs some action.\n     *\n     * If a rule returns a string, the URL is replaced with the string, and all rules are fired again.\n     *\n     * #### Example:\n     * ```js\n     * var app = angular.module('app', ['ui.router.router']);\n     *\n     * app.config(function ($urlRouterProvider) {\n     *   // Here's an example of how you might allow case insensitive urls\n     *   $urlRouterProvider.rule(function ($injector, $location) {\n     *     var path = $location.path(),\n     *         normalized = path.toLowerCase();\n     *\n     *     if (path !== normalized) {\n     *       return normalized;\n     *     }\n     *   });\n     * });\n     * ```\n     *\n     * @param ruleFn\n     * Handler function that takes `$injector` and `$location` services as arguments.\n     * You can use them to detect a url and return a different url as a string.\n     *\n     * @return [[UrlRouterProvider]] (`this`)\n     */\n    UrlRouterProvider.prototype.rule = function (ruleFn) {\n        var _this = this;\n        if (!isFunction(ruleFn))\n            throw new Error(\"'rule' must be a function\");\n        var match = function () {\n            return ruleFn(services.$injector, _this._router.locationService);\n        };\n        var rule = new BaseUrlRule(match, identity);\n        this._urlRouter.rule(rule);\n        return this;\n    };\n    \n    /**\n     * Defines the path or behavior to use when no url can be matched.\n     *\n     * #### Example:\n     * ```js\n     * var app = angular.module('app', ['ui.router.router']);\n     *\n     * app.config(function ($urlRouterProvider) {\n     *   // if the path doesn't match any of the urls you configured\n     *   // otherwise will take care of routing the user to the\n     *   // specified url\n     *   $urlRouterProvider.otherwise('/index');\n     *\n     *   // Example of using function rule as param\n     *   $urlRouterProvider.otherwise(function ($injector, $location) {\n     *     return '/a/valid/url';\n     *   });\n     * });\n     * ```\n     *\n     * @param rule\n     * The url path you want to redirect to or a function rule that returns the url path or performs a `$state.go()`.\n     * The function version is passed two params: `$injector` and `$location` services, and should return a url string.\n     *\n     * @return {object} `$urlRouterProvider` - `$urlRouterProvider` instance\n     */\n    UrlRouterProvider.prototype.otherwise = function (rule) {\n        var _this = this;\n        var urlRouter = this._urlRouter;\n        if (isString(rule)) {\n            urlRouter.otherwise(rule);\n        }\n        else if (isFunction(rule)) {\n            urlRouter.otherwise(function () { return rule(services.$injector, _this._router.locationService); });\n        }\n        else {\n            throw new Error(\"'rule' must be a string or function\");\n        }\n        return this;\n    };\n    \n    /**\n     * Registers a handler for a given url matching.\n     *\n     * If the handler is a string, it is\n     * treated as a redirect, and is interpolated according to the syntax of match\n     * (i.e. like `String.replace()` for `RegExp`, or like a `UrlMatcher` pattern otherwise).\n     *\n     * If the handler is a function, it is injectable.\n     * It gets invoked if `$location` matches.\n     * You have the option of inject the match object as `$match`.\n     *\n     * The handler can return\n     *\n     * - **falsy** to indicate that the rule didn't match after all, then `$urlRouter`\n     *   will continue trying to find another one that matches.\n     * - **string** which is treated as a redirect and passed to `$location.url()`\n     * - **void** or any **truthy** value tells `$urlRouter` that the url was handled.\n     *\n     * #### Example:\n     * ```js\n     * var app = angular.module('app', ['ui.router.router']);\n     *\n     * app.config(function ($urlRouterProvider) {\n     *   $urlRouterProvider.when($state.url, function ($match, $stateParams) {\n     *     if ($state.$current.navigable !== state ||\n     *         !equalForKeys($match, $stateParams) {\n     *      $state.transitionTo(state, $match, false);\n     *     }\n     *   });\n     * });\n     * ```\n     *\n     * @param what A pattern string to match, compiled as a [[UrlMatcher]].\n     * @param handler The path (or function that returns a path) that you want to redirect your user to.\n     * @param ruleCallback [optional] A callback that receives the `rule` registered with [[UrlMatcher.rule]]\n     *\n     * Note: the handler may also invoke arbitrary code, such as `$state.go()`\n     */\n    UrlRouterProvider.prototype.when = function (what, handler) {\n        if (isArray(handler) || isFunction(handler)) {\n            handler = UrlRouterProvider.injectableHandler(this._router, handler);\n        }\n        this._urlRouter.when(what, handler);\n        return this;\n    };\n    \n    UrlRouterProvider.injectableHandler = function (router, handler) {\n        return function (match) {\n            return services.$injector.invoke(handler, null, { $match: match, $stateParams: router.globals.params });\n        };\n    };\n    /**\n     * Disables monitoring of the URL.\n     *\n     * Call this method before UI-Router has bootstrapped.\n     * It will stop UI-Router from performing the initial url sync.\n     *\n     * This can be useful to perform some asynchronous initialization before the router starts.\n     * Once the initialization is complete, call [[listen]] to tell UI-Router to start watching and synchronizing the URL.\n     *\n     * #### Example:\n     * ```js\n     * var app = angular.module('app', ['ui.router']);\n     *\n     * app.config(function ($urlRouterProvider) {\n     *   // Prevent $urlRouter from automatically intercepting URL changes;\n     *   $urlRouterProvider.deferIntercept();\n     * })\n     *\n     * app.run(function (MyService, $urlRouter, $http) {\n     *   $http.get(\"/stuff\").then(function(resp) {\n     *     MyService.doStuff(resp.data);\n     *     $urlRouter.listen();\n     *     $urlRouter.sync();\n     *   });\n     * });\n     * ```\n     *\n     * @param defer Indicates whether to defer location change interception.\n     *        Passing no parameter is equivalent to `true`.\n     */\n    UrlRouterProvider.prototype.deferIntercept = function (defer) {\n        this._urlRouter.deferIntercept(defer);\n    };\n    \n    return UrlRouterProvider;\n}());\n\n/**\n * # Angular 1 types\n *\n * UI-Router core provides various Typescript types which you can use for code completion and validating parameter values, etc.\n * The customizations to the core types for Angular UI-Router are documented here.\n *\n * The optional [[$resolve]] service is also documented here.\n *\n * @module ng1\n * @preferred\n */\n/** for typedoc */\nng.module(\"ui.router.angular1\", []);\nvar mod_init = ng.module('ui.router.init', []);\nvar mod_util = ng.module('ui.router.util', ['ng', 'ui.router.init']);\nvar mod_rtr = ng.module('ui.router.router', ['ui.router.util']);\nvar mod_state = ng.module('ui.router.state', ['ui.router.router', 'ui.router.util', 'ui.router.angular1']);\nvar mod_main = ng.module('ui.router', ['ui.router.init', 'ui.router.state', 'ui.router.angular1']);\nvar mod_cmpt = ng.module('ui.router.compat', ['ui.router']); // tslint:disable-line\nvar router = null;\n$uiRouter.$inject = ['$locationProvider'];\n/** This angular 1 provider instantiates a Router and exposes its services via the angular injector */\nfunction $uiRouter($locationProvider) {\n    // Create a new instance of the Router when the $uiRouterProvider is initialized\n    router = this.router = new UIRouter();\n    router.stateProvider = new StateProvider(router.stateRegistry, router.stateService);\n    // Apply ng1 specific StateBuilder code for `views`, `resolve`, and `onExit/Retain/Enter` properties\n    router.stateRegistry.decorator(\"views\", ng1ViewsBuilder);\n    router.stateRegistry.decorator(\"onExit\", getStateHookBuilder(\"onExit\"));\n    router.stateRegistry.decorator(\"onRetain\", getStateHookBuilder(\"onRetain\"));\n    router.stateRegistry.decorator(\"onEnter\", getStateHookBuilder(\"onEnter\"));\n    router.viewService._pluginapi._viewConfigFactory('ng1', getNg1ViewConfigFactory());\n    var ng1LocationService = router.locationService = router.locationConfig = new Ng1LocationServices($locationProvider);\n    Ng1LocationServices.monkeyPatchPathParameterType(router);\n    // backwards compat: also expose router instance as $uiRouterProvider.router\n    router['router'] = router;\n    router['$get'] = $get;\n    $get.$inject = ['$location', '$browser', '$sniffer', '$rootScope', '$http', '$templateCache'];\n    function $get($location, $browser, $sniffer, $rootScope, $http, $templateCache) {\n        ng1LocationService._runtimeServices($rootScope, $location, $sniffer, $browser);\n        delete router['router'];\n        delete router['$get'];\n        return router;\n    }\n    return router;\n}\nvar getProviderFor = function (serviceName) { return ['$uiRouterProvider', function ($urp) {\n        var service = $urp.router[serviceName];\n        service[\"$get\"] = function () { return service; };\n        return service;\n    }]; };\n// This effectively calls $get() on `$uiRouterProvider` to trigger init (when ng enters runtime)\nrunBlock.$inject = ['$injector', '$q', '$uiRouter'];\nfunction runBlock($injector$$1, $q$$1, $uiRouter) {\n    services.$injector = $injector$$1;\n    services.$q = $q$$1;\n    // The $injector is now available.\n    // Find any resolvables that had dependency annotation deferred\n    $uiRouter.stateRegistry.get()\n        .map(function (x) { return x.$$state().resolvables; })\n        .reduce(unnestR, [])\n        .filter(function (x) { return x.deps === \"deferred\"; })\n        .forEach(function (resolvable) { return resolvable.deps = $injector$$1.annotate(resolvable.resolveFn); });\n}\n// $urlRouter service and $urlRouterProvider\nvar getUrlRouterProvider = function (uiRouter) {\n    return uiRouter.urlRouterProvider = new UrlRouterProvider(uiRouter);\n};\n// $state service and $stateProvider\n// $urlRouter service and $urlRouterProvider\nvar getStateProvider = function () {\n    return extend(router.stateProvider, { $get: function () { return router.stateService; } });\n};\nwatchDigests.$inject = ['$rootScope'];\nfunction watchDigests($rootScope) {\n    $rootScope.$watch(function () { trace.approximateDigests++; });\n}\nmod_init.provider(\"$uiRouter\", $uiRouter);\nmod_rtr.provider('$urlRouter', ['$uiRouterProvider', getUrlRouterProvider]);\nmod_util.provider('$urlService', getProviderFor('urlService'));\nmod_util.provider('$urlMatcherFactory', ['$uiRouterProvider', function () { return router.urlMatcherFactory; }]);\nmod_util.provider('$templateFactory', function () { return new TemplateFactory(); });\nmod_state.provider('$stateRegistry', getProviderFor('stateRegistry'));\nmod_state.provider('$uiRouterGlobals', getProviderFor('globals'));\nmod_state.provider('$transitions', getProviderFor('transitionService'));\nmod_state.provider('$state', ['$uiRouterProvider', getStateProvider]);\nmod_state.factory('$stateParams', ['$uiRouter', function ($uiRouter) { return $uiRouter.globals.params; }]);\nmod_main.factory('$view', function () { return router.viewService; });\nmod_main.service(\"$trace\", function () { return trace; });\nmod_main.run(watchDigests);\nmod_util.run(['$urlMatcherFactory', function ($urlMatcherFactory) { }]);\nmod_state.run(['$state', function ($state) { }]);\nmod_rtr.run(['$urlRouter', function ($urlRouter) { }]);\nmod_init.run(runBlock);\n/** @hidden TODO: find a place to move this */\nvar getLocals = function (ctx) {\n    var tokens = ctx.getTokens().filter(isString);\n    var tuples = tokens.map(function (key) {\n        var resolvable = ctx.getResolvable(key);\n        var waitPolicy = ctx.getPolicy(resolvable).async;\n        return [key, waitPolicy === 'NOWAIT' ? resolvable.promise : resolvable.data];\n    });\n    return tuples.reduce(applyPairs, {});\n};\n\n/**\n * # Angular 1 injectable services\n *\n * This is a list of the objects which can be injected using angular's injector.\n *\n * There are three different kind of injectable objects:\n *\n * ## **Provider** objects\n * #### injectable into a `.config()` block during configtime\n *\n * - [[$uiRouterProvider]]: The UI-Router instance\n * - [[$stateProvider]]: State registration\n * - [[$transitionsProvider]]: Transition hooks\n * - [[$urlServiceProvider]]: All URL related public APIs\n *\n * - [[$uiViewScrollProvider]]: Disable ui-router view scrolling\n * - [[$urlRouterProvider]]: (deprecated) Url matching rules\n * - [[$urlMatcherFactoryProvider]]: (deprecated) Url parsing config\n *\n * ## **Service** objects\n * #### injectable globally during runtime\n *\n * - [[$uiRouter]]: The UI-Router instance\n * - [[$trace]]: Enable transition trace/debug\n * - [[$transitions]]: Transition hooks\n * - [[$state]]: Imperative state related APIs\n * - [[$stateRegistry]]: State registration\n * - [[$urlService]]: All URL related public APIs\n * - [[$uiRouterGlobals]]: Global variables\n * - [[$uiViewScroll]]: Scroll an element into view\n *\n * - [[$stateParams]]: (deprecated) Global state param values\n * - [[$urlRouter]]: (deprecated) URL synchronization\n * - [[$urlMatcherFactory]]: (deprecated) URL parsing config\n *\n * ## **Per-Transition** objects\n *\n * - These kind of objects are injectable into:\n *   - Resolves ([[Ng1StateDeclaration.resolve]]),\n *   - Transition Hooks ([[TransitionService.onStart]], etc),\n *   - Routed Controllers ([[Ng1ViewDeclaration.controller]])\n *\n * #### Different instances are injected based on the [[Transition]]\n *\n * - [[$transition$]]: The current Transition object\n * - [[$stateParams]]: State param values for pending Transition (deprecated)\n * - Any resolve data defined using [[Ng1StateDeclaration.resolve]]\n *\n * @ng1api\n * @preferred\n * @module injectables\n */ /** */\n/**\n * The current (or pending) State Parameters\n *\n * An injectable global **Service Object** which holds the state parameters for the latest **SUCCESSFUL** transition.\n *\n * The values are not updated until *after* a `Transition` successfully completes.\n *\n * **Also:** an injectable **Per-Transition Object** object which holds the pending state parameters for the pending `Transition` currently running.\n *\n * ### Deprecation warning:\n *\n * The value injected for `$stateParams` is different depending on where it is injected.\n *\n * - When injected into an angular service, the object injected is the global **Service Object** with the parameter values for the latest successful `Transition`.\n * - When injected into transition hooks, resolves, or view controllers, the object is the **Per-Transition Object** with the parameter values for the running `Transition`.\n *\n * Because of these confusing details, this service is deprecated.\n *\n * ### Instead of using the global `$stateParams` service object,\n * inject [[$uiRouterGlobals]] and use [[UIRouterGlobals.params]]\n *\n * ```js\n * MyService.$inject = ['$uiRouterGlobals'];\n * function MyService($uiRouterGlobals) {\n *   return {\n *     paramValues: function () {\n *       return $uiRouterGlobals.params;\n *     }\n *   }\n * }\n * ```\n *\n * ### Instead of using the per-transition `$stateParams` object,\n * inject the current `Transition` (as [[$transition$]]) and use [[Transition.params]]\n *\n * ```js\n * MyController.$inject = ['$transition$'];\n * function MyController($transition$) {\n *   var username = $transition$.params().username;\n *   // .. do something with username\n * }\n * ```\n *\n * ---\n *\n * This object can be injected into other services.\n *\n * #### Deprecated Example:\n * ```js\n * SomeService.$inject = ['$http', '$stateParams'];\n * function SomeService($http, $stateParams) {\n *   return {\n *     getUser: function() {\n *       return $http.get('/api/users/' + $stateParams.username);\n *     }\n *   }\n * };\n * angular.service('SomeService', SomeService);\n * ```\n * @deprecated\n */\n\n/**\n * # Angular 1 Directives\n *\n * These are the directives included in UI-Router for Angular 1.\n * These directives are used in templates to create viewports and link/navigate to states.\n *\n * @ng1api\n * @preferred\n * @module directives\n */ /** for typedoc */\n/** @hidden */\nfunction parseStateRef(ref) {\n    var paramsOnly = ref.match(/^\\s*({[^}]*})\\s*$/), parsed;\n    if (paramsOnly)\n        ref = '(' + paramsOnly[1] + ')';\n    parsed = ref.replace(/\\n/g, \" \").match(/^\\s*([^(]*?)\\s*(\\((.*)\\))?\\s*$/);\n    if (!parsed || parsed.length !== 4)\n        throw new Error(\"Invalid state ref '\" + ref + \"'\");\n    return { state: parsed[1] || null, paramExpr: parsed[3] || null };\n}\n/** @hidden */\nfunction stateContext(el) {\n    var $uiView = el.parent().inheritedData('$uiView');\n    var path = parse('$cfg.path')($uiView);\n    return path ? tail(path).state.name : undefined;\n}\n/** @hidden */\nfunction processedDef($state, $element, def) {\n    var uiState = def.uiState || $state.current.name;\n    var uiStateOpts = extend(defaultOpts($element, $state), def.uiStateOpts || {});\n    var href = $state.href(uiState, def.uiStateParams, uiStateOpts);\n    return { uiState: uiState, uiStateParams: def.uiStateParams, uiStateOpts: uiStateOpts, href: href };\n}\n/** @hidden */\nfunction getTypeInfo(el) {\n    // SVGAElement does not use the href attribute, but rather the 'xlinkHref' attribute.\n    var isSvg = Object.prototype.toString.call(el.prop('href')) === '[object SVGAnimatedString]';\n    var isForm = el[0].nodeName === \"FORM\";\n    return {\n        attr: isForm ? \"action\" : (isSvg ? 'xlink:href' : 'href'),\n        isAnchor: el.prop(\"tagName\").toUpperCase() === \"A\",\n        clickable: !isForm\n    };\n}\n/** @hidden */\nfunction clickHook(el, $state, $timeout, type, getDef) {\n    return function (e) {\n        var button = e.which || e.button, target = getDef();\n        if (!(button > 1 || e.ctrlKey || e.metaKey || e.shiftKey || el.attr('target'))) {\n            // HACK: This is to allow ng-clicks to be processed before the transition is initiated:\n            var transition = $timeout(function () {\n                $state.go(target.uiState, target.uiStateParams, target.uiStateOpts);\n            });\n            e.preventDefault();\n            // if the state has no URL, ignore one preventDefault from the <a> directive.\n            var ignorePreventDefaultCount = type.isAnchor && !target.href ? 1 : 0;\n            e.preventDefault = function () {\n                if (ignorePreventDefaultCount-- <= 0)\n                    $timeout.cancel(transition);\n            };\n        }\n    };\n}\n/** @hidden */\nfunction defaultOpts(el, $state) {\n    return {\n        relative: stateContext(el) || $state.$current,\n        inherit: true,\n        source: \"sref\"\n    };\n}\n/** @hidden */\nfunction bindEvents(element, scope, hookFn, uiStateOpts) {\n    var events;\n    if (uiStateOpts) {\n        events = uiStateOpts.events;\n    }\n    if (!isArray(events)) {\n        events = ['click'];\n    }\n    var on = element.on ? 'on' : 'bind';\n    for (var _i = 0, events_1 = events; _i < events_1.length; _i++) {\n        var event_1 = events_1[_i];\n        element[on](event_1, hookFn);\n    }\n    scope.$on('$destroy', function () {\n        var off = element.off ? 'off' : 'unbind';\n        for (var _i = 0, events_2 = events; _i < events_2.length; _i++) {\n            var event_2 = events_2[_i];\n            element[off](event_2, hookFn);\n        }\n    });\n}\n/**\n * `ui-sref`: A directive for linking to a state\n *\n * A directive which links to a state (and optionally, parameters).\n * When clicked, this directive activates the linked state with the supplied parameter values.\n *\n * ### Linked State\n * The attribute value of the `ui-sref` is the name of the state to link to.\n *\n * #### Example:\n * This will activate the `home` state when the link is clicked.\n * ```html\n * <a ui-sref=\"home\">Home</a>\n * ```\n *\n * ### Relative Links\n * You can also use relative state paths within `ui-sref`, just like a relative path passed to `$state.go()` ([[StateService.go]]).\n * You just need to be aware that the path is relative to the state that *created* the link.\n * This allows a state to create a relative `ui-sref` which always targets the same destination.\n *\n * #### Example:\n * Both these links are relative to the parent state, even when a child state is currently active.\n * ```html\n * <a ui-sref=\".child1\">child 1 state</a>\n * <a ui-sref=\".child2\">child 2 state</a>\n * ```\n *\n * This link activates the parent state.\n * ```html\n * <a ui-sref=\"^\">Return</a>\n * ```\n *\n * ### hrefs\n * If the linked state has a URL, the directive will automatically generate and\n * update the `href` attribute (using the [[StateService.href]]  method).\n *\n * #### Example:\n * Assuming the `users` state has a url of `/users/`\n * ```html\n * <a ui-sref=\"users\" href=\"/users/\">Users</a>\n * ```\n *\n * ### Parameter Values\n * In addition to the state name, a `ui-sref` can include parameter values which are applied when activating the state.\n * Param values can be provided in the `ui-sref` value after the state name, enclosed by parentheses.\n * The content inside the parentheses is an expression, evaluated to the parameter values.\n *\n * #### Example:\n * This example renders a list of links to users.\n * The state's `userId` parameter value comes from each user's `user.id` property.\n * ```html\n * <li ng-repeat=\"user in users\">\n *   <a ui-sref=\"users.detail({ userId: user.id })\">{{ user.displayName }}</a>\n * </li>\n * ```\n *\n * Note:\n * The parameter values expression is `$watch`ed for updates.\n *\n * ### Transition Options\n * You can specify [[TransitionOptions]] to pass to [[StateService.go]] by using the `ui-sref-opts` attribute.\n * Options are restricted to `location`, `inherit`, and `reload`.\n *\n * #### Example:\n * ```html\n * <a ui-sref=\"home\" ui-sref-opts=\"{ reload: true }\">Home</a>\n * ```\n *\n * ### Other DOM Events\n *\n * You can also customize which DOM events to respond to (instead of `click`) by\n * providing an `events` array in the `ui-sref-opts` attribute.\n *\n * #### Example:\n * ```html\n * <input type=\"text\" ui-sref=\"contacts\" ui-sref-opts=\"{ events: ['change', 'blur'] }\">\n * ```\n *\n * ### Highlighting the active link\n * This directive can be used in conjunction with [[uiSrefActive]] to highlight the active link.\n *\n * ### Examples\n * If you have the following template:\n *\n * ```html\n * <a ui-sref=\"home\">Home</a>\n * <a ui-sref=\"about\">About</a>\n * <a ui-sref=\"{page: 2}\">Next page</a>\n *\n * <ul>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a ui-sref=\"contacts.detail({ id: contact.id })\">{{ contact.name }}</a>\n *     </li>\n * </ul>\n * ```\n *\n * Then (assuming the current state is `contacts`) the rendered html including hrefs would be:\n *\n * ```html\n * <a href=\"#/home\" ui-sref=\"home\">Home</a>\n * <a href=\"#/about\" ui-sref=\"about\">About</a>\n * <a href=\"#/contacts?page=2\" ui-sref=\"{page: 2}\">Next page</a>\n *\n * <ul>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a href=\"#/contacts/1\" ui-sref=\"contacts.detail({ id: contact.id })\">Joe</a>\n *     </li>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a href=\"#/contacts/2\" ui-sref=\"contacts.detail({ id: contact.id })\">Alice</a>\n *     </li>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a href=\"#/contacts/3\" ui-sref=\"contacts.detail({ id: contact.id })\">Bob</a>\n *     </li>\n * </ul>\n *\n * <a href=\"#/home\" ui-sref=\"home\" ui-sref-opts=\"{reload: true}\">Home</a>\n * ```\n *\n * ### Notes\n *\n * - You can use `ui-sref` to change **only the parameter values** by omitting the state name and parentheses.\n * #### Example:\n * Sets the `lang` parameter to `en` and remains on the same state.\n *\n * ```html\n * <a ui-sref=\"{ lang: 'en' }\">English</a>\n * ```\n *\n * - A middle-click, right-click, or ctrl-click is handled (natively) by the browser to open the href in a new window, for example.\n *\n * - Unlike the parameter values expression, the state name is not `$watch`ed (for performance reasons).\n * If you need to dynamically update the state being linked to, use the fully dynamic [[uiState]] directive.\n */\nvar uiSref;\nuiSref = ['$uiRouter', '$timeout',\n    function $StateRefDirective($uiRouter, $timeout) {\n        var $state = $uiRouter.stateService;\n        return {\n            restrict: 'A',\n            require: ['?^uiSrefActive', '?^uiSrefActiveEq'],\n            link: function (scope, element, attrs, uiSrefActive) {\n                var type = getTypeInfo(element);\n                var active = uiSrefActive[1] || uiSrefActive[0];\n                var unlinkInfoFn = null;\n                var hookFn;\n                var rawDef = {};\n                var getDef = function () { return processedDef($state, element, rawDef); };\n                var ref = parseStateRef(attrs.uiSref);\n                rawDef.uiState = ref.state;\n                rawDef.uiStateOpts = attrs.uiSrefOpts ? scope.$eval(attrs.uiSrefOpts) : {};\n                function update() {\n                    var def = getDef();\n                    if (unlinkInfoFn)\n                        unlinkInfoFn();\n                    if (active)\n                        unlinkInfoFn = active.$$addStateInfo(def.uiState, def.uiStateParams);\n                    if (def.href != null)\n                        attrs.$set(type.attr, def.href);\n                }\n                if (ref.paramExpr) {\n                    scope.$watch(ref.paramExpr, function (val$$1) {\n                        rawDef.uiStateParams = extend({}, val$$1);\n                        update();\n                    }, true);\n                    rawDef.uiStateParams = extend({}, scope.$eval(ref.paramExpr));\n                }\n                update();\n                scope.$on('$destroy', $uiRouter.stateRegistry.onStatesChanged(update));\n                scope.$on('$destroy', $uiRouter.transitionService.onSuccess({}, update));\n                if (!type.clickable)\n                    return;\n                hookFn = clickHook(element, $state, $timeout, type, getDef);\n                bindEvents(element, scope, hookFn, rawDef.uiStateOpts);\n            }\n        };\n    }];\n/**\n * `ui-state`: A fully dynamic directive for linking to a state\n *\n * A directive which links to a state (and optionally, parameters).\n * When clicked, this directive activates the linked state with the supplied parameter values.\n *\n * **This directive is very similar to [[uiSref]], but it `$observe`s and `$watch`es/evaluates all its inputs.**\n *\n * A directive which links to a state (and optionally, parameters).\n * When clicked, this directive activates the linked state with the supplied parameter values.\n *\n * ### Linked State\n * The attribute value of `ui-state` is an expression which is `$watch`ed and evaluated as the state to link to.\n * **This is in contrast with `ui-sref`, which takes a state name as a string literal.**\n *\n * #### Example:\n * Create a list of links.\n * ```html\n * <li ng-repeat=\"link in navlinks\">\n *   <a ui-state=\"link.state\">{{ link.displayName }}</a>\n * </li>\n * ```\n *\n * ### Relative Links\n * If the expression evaluates to a relative path, it is processed like [[uiSref]].\n * You just need to be aware that the path is relative to the state that *created* the link.\n * This allows a state to create relative `ui-state` which always targets the same destination.\n *\n * ### hrefs\n * If the linked state has a URL, the directive will automatically generate and\n * update the `href` attribute (using the [[StateService.href]]  method).\n *\n * ### Parameter Values\n * In addition to the state name expression, a `ui-state` can include parameter values which are applied when activating the state.\n * Param values should be provided using the `ui-state-params` attribute.\n * The `ui-state-params` attribute value is `$watch`ed and evaluated as an expression.\n *\n * #### Example:\n * This example renders a list of links with param values.\n * The state's `userId` parameter value comes from each user's `user.id` property.\n * ```html\n * <li ng-repeat=\"link in navlinks\">\n *   <a ui-state=\"link.state\" ui-state-params=\"link.params\">{{ link.displayName }}</a>\n * </li>\n * ```\n *\n * ### Transition Options\n * You can specify [[TransitionOptions]] to pass to [[StateService.go]] by using the `ui-state-opts` attribute.\n * Options are restricted to `location`, `inherit`, and `reload`.\n * The value of the `ui-state-opts` is `$watch`ed and evaluated as an expression.\n *\n * #### Example:\n * ```html\n * <a ui-state=\"returnto.state\" ui-state-opts=\"{ reload: true }\">Home</a>\n * ```\n *\n * ### Other DOM Events\n *\n * You can also customize which DOM events to respond to (instead of `click`) by\n * providing an `events` array in the `ui-state-opts` attribute.\n *\n * #### Example:\n * ```html\n * <input type=\"text\" ui-state=\"contacts\" ui-state-opts=\"{ events: ['change', 'blur'] }\">\n * ```\n *\n * ### Highlighting the active link\n * This directive can be used in conjunction with [[uiSrefActive]] to highlight the active link.\n *\n * ### Notes\n *\n * - You can use `ui-params` to change **only the parameter values** by omitting the state name and supplying only `ui-state-params`.\n *   However, it might be simpler to use [[uiSref]] parameter-only links.\n *\n * #### Example:\n * Sets the `lang` parameter to `en` and remains on the same state.\n *\n * ```html\n * <a ui-state=\"\" ui-state-params=\"{ lang: 'en' }\">English</a>\n * ```\n *\n * - A middle-click, right-click, or ctrl-click is handled (natively) by the browser to open the href in a new window, for example.\n * ```\n */\nvar uiState;\nuiState = ['$uiRouter', '$timeout',\n    function $StateRefDynamicDirective($uiRouter, $timeout) {\n        var $state = $uiRouter.stateService;\n        return {\n            restrict: 'A',\n            require: ['?^uiSrefActive', '?^uiSrefActiveEq'],\n            link: function (scope, element, attrs, uiSrefActive) {\n                var type = getTypeInfo(element);\n                var active = uiSrefActive[1] || uiSrefActive[0];\n                var unlinkInfoFn = null;\n                var hookFn;\n                var rawDef = {};\n                var getDef = function () { return processedDef($state, element, rawDef); };\n                var inputAttrs = ['uiState', 'uiStateParams', 'uiStateOpts'];\n                var watchDeregFns = inputAttrs.reduce(function (acc, attr) { return (acc[attr] = noop$1, acc); }, {});\n                function update() {\n                    var def = getDef();\n                    if (unlinkInfoFn)\n                        unlinkInfoFn();\n                    if (active)\n                        unlinkInfoFn = active.$$addStateInfo(def.uiState, def.uiStateParams);\n                    if (def.href != null)\n                        attrs.$set(type.attr, def.href);\n                }\n                inputAttrs.forEach(function (field) {\n                    rawDef[field] = attrs[field] ? scope.$eval(attrs[field]) : null;\n                    attrs.$observe(field, function (expr) {\n                        watchDeregFns[field]();\n                        watchDeregFns[field] = scope.$watch(expr, function (newval) {\n                            rawDef[field] = newval;\n                            update();\n                        }, true);\n                    });\n                });\n                update();\n                scope.$on('$destroy', $uiRouter.stateRegistry.onStatesChanged(update));\n                scope.$on('$destroy', $uiRouter.transitionService.onSuccess({}, update));\n                if (!type.clickable)\n                    return;\n                hookFn = clickHook(element, $state, $timeout, type, getDef);\n                bindEvents(element, scope, hookFn, rawDef.uiStateOpts);\n            }\n        };\n    }];\n/**\n * `ui-sref-active` and `ui-sref-active-eq`: A directive that adds a CSS class when a `ui-sref` is active\n *\n * A directive working alongside [[uiSref]] and [[uiState]] to add classes to an element when the\n * related directive's state is active (and remove them when it is inactive).\n *\n * The primary use-case is to highlight the active link in navigation menus,\n * distinguishing it from the inactive menu items.\n *\n * ### Linking to a `ui-sref` or `ui-state`\n * `ui-sref-active` can live on the same element as `ui-sref`/`ui-state`, or it can be on a parent element.\n * If a `ui-sref-active` is a parent to more than one `ui-sref`/`ui-state`, it will apply the CSS class when **any of the links are active**.\n *\n * ### Matching\n *\n * The `ui-sref-active` directive applies the CSS class when the `ui-sref`/`ui-state`'s target state **or any child state is active**.\n * This is a \"fuzzy match\" which uses [[StateService.includes]].\n *\n * The `ui-sref-active-eq` directive applies the CSS class when the `ui-sref`/`ui-state`'s target state is directly active (not when child states are active).\n * This is an \"exact match\" which uses [[StateService.is]].\n *\n * ### Parameter values\n * If the `ui-sref`/`ui-state` includes parameter values, the current parameter values must match the link's values for the link to be highlighted.\n * This allows a list of links to the same state with different parameters to be rendered, and the correct one highlighted.\n *\n * #### Example:\n * ```html\n * <li ng-repeat=\"user in users\" ui-sref-active=\"active\">\n *   <a ui-sref=\"user.details({ userId: user.id })\">{{ user.lastName }}</a>\n * </li>\n * ```\n *\n * ### Examples\n *\n * Given the following template:\n * #### Example:\n * ```html\n * <ul>\n *   <li ui-sref-active=\"active\" class=\"item\">\n *     <a href ui-sref=\"app.user({user: 'bilbobaggins'})\">@bilbobaggins</a>\n *   </li>\n * </ul>\n * ```\n *\n * When the app state is `app.user` (or any child state),\n * and contains the state parameter \"user\" with value \"bilbobaggins\",\n * the resulting HTML will appear as (note the 'active' class):\n *\n * ```html\n * <ul>\n *   <li ui-sref-active=\"active\" class=\"item active\">\n *     <a ui-sref=\"app.user({user: 'bilbobaggins'})\" href=\"/users/bilbobaggins\">@bilbobaggins</a>\n *   </li>\n * </ul>\n * ```\n *\n * ### Glob mode\n *\n * It is possible to pass `ui-sref-active` an expression that evaluates to an object.\n * The objects keys represent active class names and values represent the respective state names/globs.\n * `ui-sref-active` will match if the current active state **includes** any of\n * the specified state names/globs, even the abstract ones.\n *\n * #### Example:\n * Given the following template, with \"admin\" being an abstract state:\n * ```html\n * <div ui-sref-active=\"{'active': 'admin.**'}\">\n *   <a ui-sref-active=\"active\" ui-sref=\"admin.roles\">Roles</a>\n * </div>\n * ```\n *\n * When the current state is \"admin.roles\" the \"active\" class will be applied to both the <div> and <a> elements.\n * It is important to note that the state names/globs passed to `ui-sref-active` override any state provided by a linked `ui-sref`.\n *\n * ### Notes:\n *\n * - The class name is interpolated **once** during the directives link time (any further changes to the\n * interpolated value are ignored).\n *\n * - Multiple classes may be specified in a space-separated format: `ui-sref-active='class1 class2 class3'`\n */\nvar uiSrefActive;\nuiSrefActive = ['$state', '$stateParams', '$interpolate', '$uiRouter',\n    function $StateRefActiveDirective($state, $stateParams, $interpolate, $uiRouter) {\n        return {\n            restrict: \"A\",\n            controller: ['$scope', '$element', '$attrs',\n                function ($scope, $element, $attrs) {\n                    var states = [], activeEqClass, uiSrefActive;\n                    // There probably isn't much point in $observing this\n                    // uiSrefActive and uiSrefActiveEq share the same directive object with some\n                    // slight difference in logic routing\n                    activeEqClass = $interpolate($attrs.uiSrefActiveEq || '', false)($scope);\n                    try {\n                        uiSrefActive = $scope.$eval($attrs.uiSrefActive);\n                    }\n                    catch (e) {\n                        // Do nothing. uiSrefActive is not a valid expression.\n                        // Fall back to using $interpolate below\n                    }\n                    uiSrefActive = uiSrefActive || $interpolate($attrs.uiSrefActive || '', false)($scope);\n                    if (isObject(uiSrefActive)) {\n                        forEach(uiSrefActive, function (stateOrName, activeClass) {\n                            if (isString(stateOrName)) {\n                                var ref = parseStateRef(stateOrName);\n                                addState(ref.state, $scope.$eval(ref.paramExpr), activeClass);\n                            }\n                        });\n                    }\n                    // Allow uiSref to communicate with uiSrefActive[Equals]\n                    this.$$addStateInfo = function (newState, newParams) {\n                        // we already got an explicit state provided by ui-sref-active, so we\n                        // shadow the one that comes from ui-sref\n                        if (isObject(uiSrefActive) && states.length > 0) {\n                            return;\n                        }\n                        var deregister = addState(newState, newParams, uiSrefActive);\n                        update();\n                        return deregister;\n                    };\n                    function updateAfterTransition(trans) {\n                        trans.promise.then(update);\n                    }\n                    $scope.$on('$stateChangeSuccess', update);\n                    $scope.$on('$destroy', $uiRouter.transitionService.onStart({}, updateAfterTransition));\n                    if ($uiRouter.globals.transition) {\n                        updateAfterTransition($uiRouter.globals.transition);\n                    }\n                    function addState(stateName, stateParams, activeClass) {\n                        var state = $state.get(stateName, stateContext($element));\n                        var stateInfo = {\n                            state: state || { name: stateName },\n                            params: stateParams,\n                            activeClass: activeClass\n                        };\n                        states.push(stateInfo);\n                        return function removeState() {\n                            removeFrom(states)(stateInfo);\n                        };\n                    }\n                    // Update route state\n                    function update() {\n                        var splitClasses = function (str) {\n                            return str.split(/\\s/).filter(identity);\n                        };\n                        var getClasses = function (stateList) {\n                            return stateList.map(function (x) { return x.activeClass; }).map(splitClasses).reduce(unnestR, []);\n                        };\n                        var allClasses = getClasses(states).concat(splitClasses(activeEqClass)).reduce(uniqR, []);\n                        var fuzzyClasses = getClasses(states.filter(function (x) { return $state.includes(x.state.name, x.params); }));\n                        var exactlyMatchesAny = !!states.filter(function (x) { return $state.is(x.state.name, x.params); }).length;\n                        var exactClasses = exactlyMatchesAny ? splitClasses(activeEqClass) : [];\n                        var addClasses = fuzzyClasses.concat(exactClasses).reduce(uniqR, []);\n                        var removeClasses = allClasses.filter(function (cls) { return !inArray(addClasses, cls); });\n                        $scope.$evalAsync(function () {\n                            addClasses.forEach(function (className) { return $element.addClass(className); });\n                            removeClasses.forEach(function (className) { return $element.removeClass(className); });\n                        });\n                    }\n                    update();\n                }]\n        };\n    }];\nng.module('ui.router.state')\n    .directive('uiSref', uiSref)\n    .directive('uiSrefActive', uiSrefActive)\n    .directive('uiSrefActiveEq', uiSrefActive)\n    .directive('uiState', uiState);\n\n/** @module ng1 */ /** for typedoc */\n/**\n * `isState` Filter: truthy if the current state is the parameter\n *\n * Translates to [[StateService.is]] `$state.is(\"stateName\")`.\n *\n * #### Example:\n * ```html\n * <div ng-if=\"'stateName' | isState\">show if state is 'stateName'</div>\n * ```\n */\n$IsStateFilter.$inject = ['$state'];\nfunction $IsStateFilter($state) {\n    var isFilter = function (state, params, options) {\n        return $state.is(state, params, options);\n    };\n    isFilter.$stateful = true;\n    return isFilter;\n}\n/**\n * `includedByState` Filter: truthy if the current state includes the parameter\n *\n * Translates to [[StateService.includes]]` $state.is(\"fullOrPartialStateName\")`.\n *\n * #### Example:\n * ```html\n * <div ng-if=\"'fullOrPartialStateName' | includedByState\">show if state includes 'fullOrPartialStateName'</div>\n * ```\n */\n$IncludedByStateFilter.$inject = ['$state'];\nfunction $IncludedByStateFilter($state) {\n    var includesFilter = function (state, params, options) {\n        return $state.includes(state, params, options);\n    };\n    includesFilter.$stateful = true;\n    return includesFilter;\n}\nng.module('ui.router.state')\n    .filter('isState', $IsStateFilter)\n    .filter('includedByState', $IncludedByStateFilter);\n\n/**\n * @ng1api\n * @module directives\n */ /** for typedoc */\n/**\n * `ui-view`: A viewport directive which is filled in by a view from the active state.\n *\n * ### Attributes\n *\n * - `name`: (Optional) A view name.\n *   The name should be unique amongst the other views in the same state.\n *   You can have views of the same name that live in different states.\n *   The ui-view can be targeted in a View using the name ([[Ng1StateDeclaration.views]]).\n *\n * - `autoscroll`: an expression. When it evaluates to true, the `ui-view` will be scrolled into view when it is activated.\n *   Uses [[$uiViewScroll]] to do the scrolling.\n *\n * - `onload`: Expression to evaluate whenever the view updates.\n *\n * #### Example:\n * A view can be unnamed or named.\n * ```html\n * <!-- Unnamed -->\n * <div ui-view></div>\n *\n * <!-- Named -->\n * <div ui-view=\"viewName\"></div>\n *\n * <!-- Named (different style) -->\n * <ui-view name=\"viewName\"></ui-view>\n * ```\n *\n * You can only have one unnamed view within any template (or root html). If you are only using a\n * single view and it is unnamed then you can populate it like so:\n *\n * ```html\n * <div ui-view></div>\n * $stateProvider.state(\"home\", {\n *   template: \"<h1>HELLO!</h1>\"\n * })\n * ```\n *\n * The above is a convenient shortcut equivalent to specifying your view explicitly with the\n * [[Ng1StateDeclaration.views]] config property, by name, in this case an empty name:\n *\n * ```js\n * $stateProvider.state(\"home\", {\n *   views: {\n *     \"\": {\n *       template: \"<h1>HELLO!</h1>\"\n *     }\n *   }\n * })\n * ```\n *\n * But typically you'll only use the views property if you name your view or have more than one view\n * in the same template. There's not really a compelling reason to name a view if its the only one,\n * but you could if you wanted, like so:\n *\n * ```html\n * <div ui-view=\"main\"></div>\n * ```\n *\n * ```js\n * $stateProvider.state(\"home\", {\n *   views: {\n *     \"main\": {\n *       template: \"<h1>HELLO!</h1>\"\n *     }\n *   }\n * })\n * ```\n *\n * Really though, you'll use views to set up multiple views:\n *\n * ```html\n * <div ui-view></div>\n * <div ui-view=\"chart\"></div>\n * <div ui-view=\"data\"></div>\n * ```\n *\n * ```js\n * $stateProvider.state(\"home\", {\n *   views: {\n *     \"\": {\n *       template: \"<h1>HELLO!</h1>\"\n *     },\n *     \"chart\": {\n *       template: \"<chart_thing/>\"\n *     },\n *     \"data\": {\n *       template: \"<data_thing/>\"\n *     }\n *   }\n * })\n * ```\n *\n * #### Examples for `autoscroll`:\n * ```html\n * <!-- If autoscroll present with no expression,\n *      then scroll ui-view into view -->\n * <ui-view autoscroll/>\n *\n * <!-- If autoscroll present with valid expression,\n *      then scroll ui-view into view if expression evaluates to true -->\n * <ui-view autoscroll='true'/>\n * <ui-view autoscroll='false'/>\n * <ui-view autoscroll='scopeVariable'/>\n * ```\n *\n * Resolve data:\n *\n * The resolved data from the state's `resolve` block is placed on the scope as `$resolve` (this\n * can be customized using [[Ng1ViewDeclaration.resolveAs]]).  This can be then accessed from the template.\n *\n * Note that when `controllerAs` is being used, `$resolve` is set on the controller instance *after* the\n * controller is instantiated.  The `$onInit()` hook can be used to perform initialization code which\n * depends on `$resolve` data.\n *\n * #### Example:\n * ```js\n * $stateProvider.state('home', {\n *   template: '<my-component user=\"$resolve.user\"></my-component>',\n *   resolve: {\n *     user: function(UserService) { return UserService.fetchUser(); }\n *   }\n * });\n * ```\n */\nvar uiView;\nuiView = ['$view', '$animate', '$uiViewScroll', '$interpolate', '$q',\n    function $ViewDirective($view, $animate, $uiViewScroll, $interpolate, $q$$1) {\n        function getRenderer(attrs, scope) {\n            return {\n                enter: function (element, target, cb) {\n                    if (ng.version.minor > 2) {\n                        $animate.enter(element, null, target).then(cb);\n                    }\n                    else {\n                        $animate.enter(element, null, target, cb);\n                    }\n                },\n                leave: function (element, cb) {\n                    if (ng.version.minor > 2) {\n                        $animate.leave(element).then(cb);\n                    }\n                    else {\n                        $animate.leave(element, cb);\n                    }\n                }\n            };\n        }\n        function configsEqual(config1, config2) {\n            return config1 === config2;\n        }\n        var rootData = {\n            $cfg: { viewDecl: { $context: $view._pluginapi._rootViewContext() } },\n            $uiView: {}\n        };\n        var directive = {\n            count: 0,\n            restrict: 'ECA',\n            terminal: true,\n            priority: 400,\n            transclude: 'element',\n            compile: function (tElement, tAttrs, $transclude) {\n                return function (scope, $element, attrs) {\n                    var previousEl, currentEl, currentScope, unregister, onloadExp = attrs['onload'] || '', autoScrollExp = attrs['autoscroll'], renderer = getRenderer(attrs, scope), viewConfig = undefined, inherited = $element.inheritedData('$uiView') || rootData, name = $interpolate(attrs['uiView'] || attrs['name'] || '')(scope) || '$default';\n                    var activeUIView = {\n                        $type: 'ng1',\n                        id: directive.count++,\n                        name: name,\n                        fqn: inherited.$uiView.fqn ? inherited.$uiView.fqn + \".\" + name : name,\n                        config: null,\n                        configUpdated: configUpdatedCallback,\n                        get creationContext() {\n                            var fromParentTagConfig = parse('$cfg.viewDecl.$context')(inherited);\n                            // Allow <ui-view name=\"foo\"><ui-view name=\"bar\"></ui-view></ui-view>\n                            // See https://github.com/angular-ui/ui-router/issues/3355\n                            var fromParentTag = parse('$uiView.creationContext')(inherited);\n                            return fromParentTagConfig || fromParentTag;\n                        }\n                    };\n                    trace.traceUIViewEvent(\"Linking\", activeUIView);\n                    function configUpdatedCallback(config) {\n                        if (config && !(config instanceof Ng1ViewConfig))\n                            return;\n                        if (configsEqual(viewConfig, config))\n                            return;\n                        trace.traceUIViewConfigUpdated(activeUIView, config && config.viewDecl && config.viewDecl.$context);\n                        viewConfig = config;\n                        updateView(config);\n                    }\n                    $element.data('$uiView', { $uiView: activeUIView });\n                    updateView();\n                    unregister = $view.registerUIView(activeUIView);\n                    scope.$on(\"$destroy\", function () {\n                        trace.traceUIViewEvent(\"Destroying/Unregistering\", activeUIView);\n                        unregister();\n                    });\n                    function cleanupLastView() {\n                        if (previousEl) {\n                            trace.traceUIViewEvent(\"Removing (previous) el\", previousEl.data('$uiView'));\n                            previousEl.remove();\n                            previousEl = null;\n                        }\n                        if (currentScope) {\n                            trace.traceUIViewEvent(\"Destroying scope\", activeUIView);\n                            currentScope.$destroy();\n                            currentScope = null;\n                        }\n                        if (currentEl) {\n                            var _viewData_1 = currentEl.data('$uiViewAnim');\n                            trace.traceUIViewEvent(\"Animate out\", _viewData_1);\n                            renderer.leave(currentEl, function () {\n                                _viewData_1.$$animLeave.resolve();\n                                previousEl = null;\n                            });\n                            previousEl = currentEl;\n                            currentEl = null;\n                        }\n                    }\n                    function updateView(config) {\n                        var newScope = scope.$new();\n                        var animEnter = $q$$1.defer(), animLeave = $q$$1.defer();\n                        var $uiViewData = {\n                            $cfg: config,\n                            $uiView: activeUIView,\n                        };\n                        var $uiViewAnim = {\n                            $animEnter: animEnter.promise,\n                            $animLeave: animLeave.promise,\n                            $$animLeave: animLeave\n                        };\n                        /**\n                         * @ngdoc event\n                         * @name ui.router.state.directive:ui-view#$viewContentLoading\n                         * @eventOf ui.router.state.directive:ui-view\n                         * @eventType emits on ui-view directive scope\n                         * @description\n                         *\n                         * Fired once the view **begins loading**, *before* the DOM is rendered.\n                         *\n                         * @param {Object} event Event object.\n                         * @param {string} viewName Name of the view.\n                         */\n                        newScope.$emit('$viewContentLoading', name);\n                        var cloned = $transclude(newScope, function (clone) {\n                            clone.data('$uiViewAnim', $uiViewAnim);\n                            clone.data('$uiView', $uiViewData);\n                            renderer.enter(clone, $element, function onUIViewEnter() {\n                                animEnter.resolve();\n                                if (currentScope)\n                                    currentScope.$emit('$viewContentAnimationEnded');\n                                if (isDefined(autoScrollExp) && !autoScrollExp || scope.$eval(autoScrollExp)) {\n                                    $uiViewScroll(clone);\n                                }\n                            });\n                            cleanupLastView();\n                        });\n                        currentEl = cloned;\n                        currentScope = newScope;\n                        /**\n                         * @ngdoc event\n                         * @name ui.router.state.directive:ui-view#$viewContentLoaded\n                         * @eventOf ui.router.state.directive:ui-view\n                         * @eventType emits on ui-view directive scope\n                         * @description           *\n                         * Fired once the view is **loaded**, *after* the DOM is rendered.\n                         *\n                         * @param {Object} event Event object.\n                         */\n                        currentScope.$emit('$viewContentLoaded', config || viewConfig);\n                        currentScope.$eval(onloadExp);\n                    }\n                };\n            }\n        };\n        return directive;\n    }];\n$ViewDirectiveFill.$inject = ['$compile', '$controller', '$transitions', '$view', '$q', '$timeout'];\n/** @hidden */\nfunction $ViewDirectiveFill($compile, $controller, $transitions, $view, $q$$1, $timeout) {\n    var getControllerAs = parse('viewDecl.controllerAs');\n    var getResolveAs = parse('viewDecl.resolveAs');\n    return {\n        restrict: 'ECA',\n        priority: -400,\n        compile: function (tElement) {\n            var initial = tElement.html();\n            tElement.empty();\n            return function (scope, $element) {\n                var data = $element.data('$uiView');\n                if (!data) {\n                    $element.html(initial);\n                    $compile($element.contents())(scope);\n                    return;\n                }\n                var cfg = data.$cfg || { viewDecl: {}, getTemplate: ng_from_import.noop };\n                var resolveCtx = cfg.path && new ResolveContext(cfg.path);\n                $element.html(cfg.getTemplate($element, resolveCtx) || initial);\n                trace.traceUIViewFill(data.$uiView, $element.html());\n                var link = $compile($element.contents());\n                var controller = cfg.controller;\n                var controllerAs = getControllerAs(cfg);\n                var resolveAs = getResolveAs(cfg);\n                var locals = resolveCtx && getLocals(resolveCtx);\n                scope[resolveAs] = locals;\n                if (controller) {\n                    var controllerInstance = $controller(controller, extend({}, locals, { $scope: scope, $element: $element }));\n                    if (controllerAs) {\n                        scope[controllerAs] = controllerInstance;\n                        scope[controllerAs][resolveAs] = locals;\n                    }\n                    // TODO: Use $view service as a central point for registering component-level hooks\n                    // Then, when a component is created, tell the $view service, so it can invoke hooks\n                    // $view.componentLoaded(controllerInstance, { $scope: scope, $element: $element });\n                    // scope.$on('$destroy', () => $view.componentUnloaded(controllerInstance, { $scope: scope, $element: $element }));\n                    $element.data('$ngControllerController', controllerInstance);\n                    $element.children().data('$ngControllerController', controllerInstance);\n                    registerControllerCallbacks($q$$1, $transitions, controllerInstance, scope, cfg);\n                }\n                // Wait for the component to appear in the DOM\n                if (isString(cfg.viewDecl.component)) {\n                    var cmp_1 = cfg.viewDecl.component;\n                    var kebobName = kebobString(cmp_1);\n                    var tagRegexp_1 = new RegExp(\"^(x-|data-)?\" + kebobName + \"$\", \"i\");\n                    var getComponentController = function () {\n                        var directiveEl = [].slice.call($element[0].children)\n                            .filter(function (el) { return el && el.tagName && tagRegexp_1.exec(el.tagName); });\n                        return directiveEl && ng.element(directiveEl).data(\"$\" + cmp_1 + \"Controller\");\n                    };\n                    var deregisterWatch_1 = scope.$watch(getComponentController, function (ctrlInstance) {\n                        if (!ctrlInstance)\n                            return;\n                        registerControllerCallbacks($q$$1, $transitions, ctrlInstance, scope, cfg);\n                        deregisterWatch_1();\n                    });\n                }\n                link(scope);\n            };\n        }\n    };\n}\n/** @hidden */\nvar hasComponentImpl = typeof ng.module('ui.router')['component'] === 'function';\n/** @hidden incrementing id */\nvar _uiCanExitId = 0;\n/** @hidden TODO: move these callbacks to $view and/or `/hooks/components.ts` or something */\nfunction registerControllerCallbacks($q$$1, $transitions, controllerInstance, $scope, cfg) {\n    // Call $onInit() ASAP\n    if (isFunction(controllerInstance.$onInit) && !(cfg.viewDecl.component && hasComponentImpl)) {\n        controllerInstance.$onInit();\n    }\n    var viewState = tail(cfg.path).state.self;\n    var hookOptions = { bind: controllerInstance };\n    // Add component-level hook for onParamsChange\n    if (isFunction(controllerInstance.uiOnParamsChanged)) {\n        var resolveContext = new ResolveContext(cfg.path);\n        var viewCreationTrans_1 = resolveContext.getResolvable('$transition$').data;\n        // Fire callback on any successful transition\n        var paramsUpdated = function ($transition$) {\n            // Exit early if the $transition$ is the same as the view was created within.\n            // Exit early if the $transition$ will exit the state the view is for.\n            if ($transition$ === viewCreationTrans_1 || $transition$.exiting().indexOf(viewState) !== -1)\n                return;\n            var toParams = $transition$.params(\"to\");\n            var fromParams = $transition$.params(\"from\");\n            var toSchema = $transition$.treeChanges().to.map(function (node) { return node.paramSchema; }).reduce(unnestR, []);\n            var fromSchema = $transition$.treeChanges().from.map(function (node) { return node.paramSchema; }).reduce(unnestR, []);\n            // Find the to params that have different values than the from params\n            var changedToParams = toSchema.filter(function (param) {\n                var idx = fromSchema.indexOf(param);\n                return idx === -1 || !fromSchema[idx].type.equals(toParams[param.id], fromParams[param.id]);\n            });\n            // Only trigger callback if a to param has changed or is new\n            if (changedToParams.length) {\n                var changedKeys_1 = changedToParams.map(function (x) { return x.id; });\n                // Filter the params to only changed/new to params.  `$transition$.params()` may be used to get all params.\n                var newValues = filter(toParams, function (val$$1, key) { return changedKeys_1.indexOf(key) !== -1; });\n                controllerInstance.uiOnParamsChanged(newValues, $transition$);\n            }\n        };\n        $scope.$on('$destroy', $transitions.onSuccess({}, paramsUpdated, hookOptions));\n    }\n    // Add component-level hook for uiCanExit\n    if (isFunction(controllerInstance.uiCanExit)) {\n        var id_1 = _uiCanExitId++;\n        var cacheProp_1 = '_uiCanExitIds';\n        // Returns true if a redirect transition already answered truthy\n        var prevTruthyAnswer_1 = function (trans) {\n            return !!trans && (trans[cacheProp_1] && trans[cacheProp_1][id_1] === true || prevTruthyAnswer_1(trans.redirectedFrom()));\n        };\n        // If a user answered yes, but the transition was later redirected, don't also ask for the new redirect transition\n        var wrappedHook = function (trans) {\n            var promise, ids = trans[cacheProp_1] = trans[cacheProp_1] || {};\n            if (!prevTruthyAnswer_1(trans)) {\n                promise = $q$$1.when(controllerInstance.uiCanExit(trans));\n                promise.then(function (val$$1) { return ids[id_1] = (val$$1 !== false); });\n            }\n            return promise;\n        };\n        var criteria = { exiting: viewState.name };\n        $scope.$on('$destroy', $transitions.onBefore(criteria, wrappedHook, hookOptions));\n    }\n}\nng.module('ui.router.state').directive('uiView', uiView);\nng.module('ui.router.state').directive('uiView', $ViewDirectiveFill);\n\n/** @module ng1 */ /** */\n/** @hidden */\nfunction $ViewScrollProvider() {\n    var useAnchorScroll = false;\n    this.useAnchorScroll = function () {\n        useAnchorScroll = true;\n    };\n    this.$get = ['$anchorScroll', '$timeout', function ($anchorScroll, $timeout) {\n            if (useAnchorScroll) {\n                return $anchorScroll;\n            }\n            return function ($element) {\n                return $timeout(function () {\n                    $element[0].scrollIntoView();\n                }, 0, false);\n            };\n        }];\n}\nng.module('ui.router.state').provider('$uiViewScroll', $ViewScrollProvider);\n\n/**\n * Main entry point for angular 1.x build\n * @module ng1\n */ /** */\nvar index = \"ui.router\";\n\nexports.core = index$1;\nexports['default'] = index;\nexports.fromJson = fromJson;\nexports.toJson = toJson;\nexports.copy = copy;\nexports.forEach = forEach;\nexports.extend = extend;\nexports.equals = equals;\nexports.identity = identity;\nexports.noop = noop$1;\nexports.createProxyFunctions = createProxyFunctions;\nexports.inherit = inherit;\nexports.inArray = inArray;\nexports._inArray = _inArray;\nexports.removeFrom = removeFrom;\nexports._removeFrom = _removeFrom;\nexports.pushTo = pushTo;\nexports._pushTo = _pushTo;\nexports.deregAll = deregAll;\nexports.defaults = defaults;\nexports.mergeR = mergeR;\nexports.ancestors = ancestors;\nexports.pick = pick;\nexports.omit = omit;\nexports.pluck = pluck;\nexports.filter = filter;\nexports.find = find;\nexports.mapObj = mapObj;\nexports.map = map;\nexports.values = values;\nexports.allTrueR = allTrueR;\nexports.anyTrueR = anyTrueR;\nexports.unnestR = unnestR;\nexports.flattenR = flattenR;\nexports.pushR = pushR;\nexports.uniqR = uniqR;\nexports.unnest = unnest;\nexports.flatten = flatten;\nexports.assertPredicate = assertPredicate;\nexports.assertMap = assertMap;\nexports.assertFn = assertFn;\nexports.pairs = pairs;\nexports.arrayTuples = arrayTuples;\nexports.applyPairs = applyPairs;\nexports.tail = tail;\nexports._extend = _extend;\nexports.sortBy = sortBy;\nexports.composeSort = composeSort;\nexports.silenceUncaughtInPromise = silenceUncaughtInPromise;\nexports.silentRejection = silentRejection;\nexports.notImplemented = notImplemented;\nexports.services = services;\nexports.Glob = Glob;\nexports.curry = curry;\nexports.compose = compose;\nexports.pipe = pipe;\nexports.prop = prop;\nexports.propEq = propEq;\nexports.parse = parse;\nexports.not = not;\nexports.and = and;\nexports.or = or;\nexports.all = all;\nexports.any = any;\nexports.is = is;\nexports.eq = eq;\nexports.val = val;\nexports.invoke = invoke;\nexports.pattern = pattern;\nexports.isUndefined = isUndefined;\nexports.isDefined = isDefined;\nexports.isNull = isNull;\nexports.isNullOrUndefined = isNullOrUndefined;\nexports.isFunction = isFunction;\nexports.isNumber = isNumber;\nexports.isString = isString;\nexports.isObject = isObject;\nexports.isArray = isArray;\nexports.isDate = isDate;\nexports.isRegExp = isRegExp;\nexports.isState = isState;\nexports.isInjectable = isInjectable;\nexports.isPromise = isPromise;\nexports.Queue = Queue;\nexports.maxLength = maxLength;\nexports.padString = padString;\nexports.kebobString = kebobString;\nexports.functionToString = functionToString;\nexports.fnToString = fnToString;\nexports.stringify = stringify;\nexports.beforeAfterSubstr = beforeAfterSubstr;\nexports.splitOnDelim = splitOnDelim;\nexports.joinNeighborsR = joinNeighborsR;\nexports.Trace = Trace;\nexports.trace = trace;\nexports.Param = Param;\nexports.ParamTypes = ParamTypes;\nexports.StateParams = StateParams;\nexports.ParamType = ParamType;\nexports.PathNode = PathNode;\nexports.PathUtils = PathUtils;\nexports.resolvePolicies = resolvePolicies;\nexports.defaultResolvePolicy = defaultResolvePolicy;\nexports.Resolvable = Resolvable;\nexports.NATIVE_INJECTOR_TOKEN = NATIVE_INJECTOR_TOKEN;\nexports.ResolveContext = ResolveContext;\nexports.resolvablesBuilder = resolvablesBuilder;\nexports.StateBuilder = StateBuilder;\nexports.StateObject = StateObject;\nexports.StateMatcher = StateMatcher;\nexports.StateQueueManager = StateQueueManager;\nexports.StateRegistry = StateRegistry;\nexports.StateService = StateService;\nexports.TargetState = TargetState;\nexports.HookBuilder = HookBuilder;\nexports.matchState = matchState;\nexports.RegisteredHook = RegisteredHook;\nexports.makeEvent = makeEvent;\nexports.Rejection = Rejection;\nexports.Transition = Transition;\nexports.TransitionHook = TransitionHook;\nexports.TransitionEventType = TransitionEventType;\nexports.defaultTransOpts = defaultTransOpts;\nexports.TransitionService = TransitionService;\nexports.UrlMatcher = UrlMatcher;\nexports.UrlMatcherFactory = UrlMatcherFactory;\nexports.UrlRouter = UrlRouter;\nexports.UrlRuleFactory = UrlRuleFactory;\nexports.BaseUrlRule = BaseUrlRule;\nexports.UrlService = UrlService;\nexports.ViewService = ViewService;\nexports.UIRouterGlobals = UIRouterGlobals;\nexports.UIRouter = UIRouter;\nexports.$q = $q;\nexports.$injector = $injector;\nexports.BaseLocationServices = BaseLocationServices;\nexports.HashLocationService = HashLocationService;\nexports.MemoryLocationService = MemoryLocationService;\nexports.PushStateLocationService = PushStateLocationService;\nexports.MemoryLocationConfig = MemoryLocationConfig;\nexports.BrowserLocationConfig = BrowserLocationConfig;\nexports.splitHash = splitHash;\nexports.splitQuery = splitQuery;\nexports.splitEqual = splitEqual;\nexports.trimHashVal = trimHashVal;\nexports.keyValsToObjectR = keyValsToObjectR;\nexports.getParams = getParams;\nexports.parseUrl = parseUrl$1;\nexports.buildUrl = buildUrl;\nexports.locationPluginFactory = locationPluginFactory;\nexports.servicesPlugin = servicesPlugin;\nexports.hashLocationPlugin = hashLocationPlugin;\nexports.pushStateLocationPlugin = pushStateLocationPlugin;\nexports.memoryLocationPlugin = memoryLocationPlugin;\nexports.UIRouterPluginBase = UIRouterPluginBase;\nexports.watchDigests = watchDigests;\nexports.getLocals = getLocals;\nexports.getNg1ViewConfigFactory = getNg1ViewConfigFactory;\nexports.ng1ViewsBuilder = ng1ViewsBuilder;\nexports.Ng1ViewConfig = Ng1ViewConfig;\nexports.StateProvider = StateProvider;\nexports.UrlRouterProvider = UrlRouterProvider;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=angular-ui-router.js.map","/**\r\n *  Copyright IBM Corp. 2016, 2017 All Rights Reserved\r\n *   Project name: JSONata\r\n *   This project is licensed under the MIT License, see LICENSE\r\n */\r\n\r\n/**\r\n * @module JSONata\r\n * @description JSON query and transformation language\r\n */\r\n\r\n/**\r\n * jsonata\r\n * @function\r\n * @param {Object} expr - JSONata expression\r\n * @returns {{evaluate: evaluate, assign: assign}} Evaluated expression\r\n */\r\nvar jsonata = (function() {\r\n    'use strict';\r\n\r\n    var operators = {\r\n        '.': 75,\r\n        '[': 80,\r\n        ']': 0,\r\n        '{': 70,\r\n        '}': 0,\r\n        '(': 80,\r\n        ')': 0,\r\n        ',': 0,\r\n        '@': 75,\r\n        '#': 70,\r\n        ';': 80,\r\n        ':': 80,\r\n        '?': 20,\r\n        '+': 50,\r\n        '-': 50,\r\n        '*': 60,\r\n        '/': 60,\r\n        '%': 60,\r\n        '|': 20,\r\n        '=': 40,\r\n        '<': 40,\r\n        '>': 40,\r\n        '`': 80,\r\n        '**': 60,\r\n        '..': 20,\r\n        ':=': 10,\r\n        '!=': 40,\r\n        '<=': 40,\r\n        '>=': 40,\r\n        '~>': 40,\r\n        'and': 30,\r\n        'or': 25,\r\n        'in': 40,\r\n        '&': 50,\r\n        '!': 0,   // not an operator, but needed as a stop character for name tokens\r\n        '~': 0   // not an operator, but needed as a stop character for name tokens\r\n    };\r\n\r\n    var escapes = {  // JSON string escape sequences - see json.org\r\n        '\"': '\"',\r\n        '\\\\': '\\\\',\r\n        '/': '/',\r\n        'b': '\\b',\r\n        'f': '\\f',\r\n        'n': '\\n',\r\n        'r': '\\r',\r\n        't': '\\t'\r\n    };\r\n\r\n    // Tokenizer (lexer) - invoked by the parser to return one token at a time\r\n    var tokenizer = function (path) {\r\n        var position = 0;\r\n        var length = path.length;\r\n\r\n        var create = function (type, value) {\r\n            var obj = {type: type, value: value, position: position};\r\n            return obj;\r\n        };\r\n\r\n        var scanRegex = function() {\r\n            // the prefix '/' will have been previously scanned. Find the end of the regex.\r\n            // search for closing '/' ignoring any that are escaped, or within brackets\r\n            var start = position;\r\n            var depth = 0;\r\n            var pattern;\r\n            var flags;\r\n            while(position < length) {\r\n                var currentChar = path.charAt(position);\r\n                if(currentChar === '/' && path.charAt(position - 1) !== '\\\\' && depth === 0) {\r\n                    // end of regex found\r\n                    pattern = path.substring(start, position);\r\n                    if(pattern === '') {\r\n                        throw {\r\n                            code: \"S0301\",\r\n                            stack: (new Error()).stack,\r\n                            position: position\r\n                        };\r\n                    }\r\n                    position++;\r\n                    currentChar = path.charAt(position);\r\n                    // flags\r\n                    start = position;\r\n                    while(currentChar === 'i' || currentChar === 'm') {\r\n                        position++;\r\n                        currentChar = path.charAt(position);\r\n                    }\r\n                    flags = path.substring(start, position) + 'g';\r\n                    return new RegExp(pattern, flags);\r\n                }\r\n                if((currentChar === '(' || currentChar === '[' || currentChar === '{') && path.charAt(position - 1) !== '\\\\' ) {\r\n                    depth++;\r\n                }\r\n                if((currentChar === ')' || currentChar === ']' || currentChar === '}') && path.charAt(position - 1) !== '\\\\' ) {\r\n                    depth--;\r\n                }\r\n\r\n                position++;\r\n            }\r\n            throw {\r\n                code: \"S0302\",\r\n                stack: (new Error()).stack,\r\n                position: position\r\n            };\r\n        };\r\n\r\n        var next = function (prefix) {\r\n            if (position >= length) return null;\r\n            var currentChar = path.charAt(position);\r\n            // skip whitespace\r\n            while (position < length && ' \\t\\n\\r\\v'.indexOf(currentChar) > -1) {\r\n                position++;\r\n                currentChar = path.charAt(position);\r\n            }\r\n            // test for regex\r\n            if (prefix !== true && currentChar === '/') {\r\n                position++;\r\n                return create('regex', scanRegex());\r\n            }\r\n            // handle double-char operators\r\n            if (currentChar === '.' && path.charAt(position + 1) === '.') {\r\n                // double-dot .. range operator\r\n                position += 2;\r\n                return create('operator', '..');\r\n            }\r\n            if (currentChar === ':' && path.charAt(position + 1) === '=') {\r\n                // := assignment\r\n                position += 2;\r\n                return create('operator', ':=');\r\n            }\r\n            if (currentChar === '!' && path.charAt(position + 1) === '=') {\r\n                // !=\r\n                position += 2;\r\n                return create('operator', '!=');\r\n            }\r\n            if (currentChar === '>' && path.charAt(position + 1) === '=') {\r\n                // >=\r\n                position += 2;\r\n                return create('operator', '>=');\r\n            }\r\n            if (currentChar === '<' && path.charAt(position + 1) === '=') {\r\n                // <=\r\n                position += 2;\r\n                return create('operator', '<=');\r\n            }\r\n            if (currentChar === '*' && path.charAt(position + 1) === '*') {\r\n                // **  descendant wildcard\r\n                position += 2;\r\n                return create('operator', '**');\r\n            }\r\n            if (currentChar === '~' && path.charAt(position + 1) === '>') {\r\n                // ~>  chain function\r\n                position += 2;\r\n                return create('operator', '~>');\r\n            }\r\n            // test for single char operators\r\n            if (operators.hasOwnProperty(currentChar)) {\r\n                position++;\r\n                return create('operator', currentChar);\r\n            }\r\n            // test for string literals\r\n            if (currentChar === '\"' || currentChar === \"'\") {\r\n                var quoteType = currentChar;\r\n                // double quoted string literal - find end of string\r\n                position++;\r\n                var qstr = \"\";\r\n                while (position < length) {\r\n                    currentChar = path.charAt(position);\r\n                    if (currentChar === '\\\\') { // escape sequence\r\n                        position++;\r\n                        currentChar = path.charAt(position);\r\n                        if (escapes.hasOwnProperty(currentChar)) {\r\n                            qstr += escapes[currentChar];\r\n                        } else if (currentChar === 'u') {\r\n                            // \\u should be followed by 4 hex digits\r\n                            var octets = path.substr(position + 1, 4);\r\n                            if (/^[0-9a-fA-F]+$/.test(octets)) {\r\n                                var codepoint = parseInt(octets, 16);\r\n                                qstr += String.fromCharCode(codepoint);\r\n                                position += 4;\r\n                            } else {\r\n                                throw {\r\n                                    code: \"S0104\",\r\n                                    stack: (new Error()).stack,\r\n                                    position: position\r\n                                };\r\n                            }\r\n                        } else {\r\n                            // illegal escape sequence\r\n                            throw {\r\n                                code: \"S0103\",\r\n                                stack: (new Error()).stack,\r\n                                position: position,\r\n                                token: currentChar\r\n                            };\r\n\r\n                        }\r\n                    } else if (currentChar === quoteType) {\r\n                        position++;\r\n                        return create('string', qstr);\r\n                    } else {\r\n                        qstr += currentChar;\r\n                    }\r\n                    position++;\r\n                }\r\n                throw {\r\n                    code: \"S0101\",\r\n                    stack: (new Error()).stack,\r\n                    position: position\r\n                };\r\n            }\r\n            // test for numbers\r\n            var numregex = /^-?(0|([1-9][0-9]*))(\\.[0-9]+)?([Ee][-+]?[0-9]+)?/;\r\n            var match = numregex.exec(path.substring(position));\r\n            if (match !== null) {\r\n                var num = parseFloat(match[0]);\r\n                if (!isNaN(num) && isFinite(num)) {\r\n                    position += match[0].length;\r\n                    return create('number', num);\r\n                } else {\r\n                    throw {\r\n                        code: \"S0102\",\r\n                        stack: (new Error()).stack,\r\n                        position: position,\r\n                        token: match[0]\r\n                    };\r\n                }\r\n            }\r\n            // test for names\r\n            var i = position;\r\n            var ch;\r\n            var name;\r\n            for (;;) {\r\n                ch = path.charAt(i);\r\n                if (i === length || ' \\t\\n\\r\\v'.indexOf(ch) > -1 || operators.hasOwnProperty(ch)) {\r\n                    if (path.charAt(position) === '$') {\r\n                        // variable reference\r\n                        name = path.substring(position + 1, i);\r\n                        position = i;\r\n                        return create('variable', name);\r\n                    } else {\r\n                        name = path.substring(position, i);\r\n                        position = i;\r\n                        switch (name) {\r\n                            case 'or':\r\n                            case 'in':\r\n                            case 'and':\r\n                                return create('operator', name);\r\n                            case 'true':\r\n                                return create('value', true);\r\n                            case 'false':\r\n                                return create('value', false);\r\n                            case 'null':\r\n                                return create('value', null);\r\n                            default:\r\n                                if (position === length && name === '') {\r\n                                    // whitespace at end of input\r\n                                    return null;\r\n                                }\r\n                                return create('name', name);\r\n                        }\r\n                    }\r\n                } else {\r\n                    i++;\r\n                }\r\n            }\r\n        };\r\n\r\n        return next;\r\n    };\r\n\r\n    /**\r\n     * Parses a function signature definition and returns a validation function\r\n     * @param {string} signature - the signature between the <angle brackets>\r\n     * @returns {Function} validation function\r\n     */\r\n    function parseSignature(signature) {\r\n        // create a Regex that represents this signature and return a function that when invoked,\r\n        // returns the validated (possibly fixed-up) arguments, or throws a validation error\r\n        // step through the signature, one symbol at a time\r\n        var position = 1;\r\n        var params = [];\r\n        var param = {};\r\n        var prevParam = param;\r\n        while (position < signature.length) {\r\n            var symbol = signature.charAt(position);\r\n            if(symbol === ':') {\r\n                // TODO figure out what to do with the return type\r\n                // ignore it for now\r\n                break;\r\n            }\r\n\r\n            var next = function() {\r\n                params.push(param);\r\n                prevParam = param;\r\n                param = {};\r\n            };\r\n\r\n            var findClosingBracket = function(str, start, openSymbol, closeSymbol) {\r\n                // returns the position of the closing symbol (e.g. bracket) in a string\r\n                // that balances the opening symbol at position start\r\n                var depth = 1;\r\n                var position = start;\r\n                while(position < str.length) {\r\n                    position++;\r\n                    symbol = str.charAt(position);\r\n                    if(symbol === closeSymbol) {\r\n                        depth--;\r\n                        if(depth === 0) {\r\n                            // we're done\r\n                            break; // out of while loop\r\n                        }\r\n                    } else if(symbol === openSymbol) {\r\n                        depth++;\r\n                    }\r\n                }\r\n                return position;\r\n            };\r\n\r\n            switch (symbol) {\r\n                case 's': // string\r\n                case 'n': // number\r\n                case 'b': // boolean\r\n                case 'l': // not so sure about expecting null?\r\n                case 'o': // object\r\n                    param.regex = '[' + symbol + 'm]';\r\n                    param.type = symbol;\r\n                    next();\r\n                    break;\r\n                case 'a': // array\r\n                    //  normally treat any value as singleton array\r\n                    param.regex = '[asnblfom]';\r\n                    param.type = symbol;\r\n                    param.array = true;\r\n                    next();\r\n                    break;\r\n                case 'f': // function\r\n                    param.regex = 'f';\r\n                    param.type = symbol;\r\n                    next();\r\n                    break;\r\n                case 'j': // any JSON type\r\n                    param.regex = '[asnblom]';\r\n                    param.type = symbol;\r\n                    next();\r\n                    break;\r\n                case 'x': // any type\r\n                    param.regex = '[asnblfom]';\r\n                    param.type = symbol;\r\n                    next();\r\n                    break;\r\n                case '-': // use context if param not supplied\r\n                    prevParam.context = true;\r\n                    prevParam.contextRegex = new RegExp(prevParam.regex); // pre-compiled to test the context type at runtime\r\n                    prevParam.regex += '?';\r\n                    break;\r\n                case '?': // optional param\r\n                case '+': // one or more\r\n                    prevParam.regex += symbol;\r\n                    break;\r\n                case '(': // choice of types\r\n                    // search forward for matching ')'\r\n                    var endParen = findClosingBracket(signature, position, '(', ')');\r\n                    var choice = signature.substring(position + 1, endParen);\r\n                    if(choice.indexOf('<') === -1) {\r\n                        // no parameterized types, simple regex\r\n                        param.regex = '[' + choice + 'm]';\r\n                    } else {\r\n                        // TODO harder\r\n                        throw {\r\n                            code: \"S0402\",\r\n                            stack: (new Error()).stack,\r\n                            value: choice,\r\n                            offset: position\r\n                        };\r\n                    }\r\n                    param.type = '(' + choice + ')';\r\n                    position = endParen;\r\n                    next();\r\n                    break;\r\n                case '<': // type parameter - can only be applied to 'a' and 'f'\r\n                    if(prevParam.type === 'a' || prevParam.type === 'f') {\r\n                        // search forward for matching '>'\r\n                        var endPos = findClosingBracket(signature, position, '<', '>');\r\n                        prevParam.subtype = signature.substring(position + 1, endPos);\r\n                        position = endPos;\r\n                    } else {\r\n                        throw {\r\n                            code: \"S0401\",\r\n                            stack: (new Error()).stack,\r\n                            value: prevParam.type,\r\n                            offset: position\r\n                        };\r\n                    }\r\n                    break;\r\n            }\r\n            position++;\r\n        }\r\n        var regexStr = '^' +\r\n          params.map(function(param) {\r\n              return '(' + param.regex + ')';\r\n          }).join('') +\r\n          '$';\r\n        var regex = new RegExp(regexStr);\r\n        var getSymbol = function(value) {\r\n            var symbol;\r\n            if(isFunction(value)) {\r\n                symbol = 'f';\r\n            } else {\r\n                var type = typeof value;\r\n                switch (type) {\r\n                    case 'string':\r\n                        symbol = 's';\r\n                        break;\r\n                    case 'number':\r\n                        symbol = 'n';\r\n                        break;\r\n                    case 'boolean':\r\n                        symbol = 'b';\r\n                        break;\r\n                    case 'object':\r\n                        if (value === null) {\r\n                            symbol = 'l';\r\n                        } else if (Array.isArray(value)) {\r\n                            symbol = 'a';\r\n                        } else {\r\n                            symbol = 'o';\r\n                        }\r\n                        break;\r\n                    case 'undefined':\r\n                        // any value can be undefined, but should be allowed to match\r\n                        symbol = 'm'; // m for missing\r\n                }\r\n            }\r\n            return symbol;\r\n        };\r\n\r\n        var throwValidationError = function(badArgs, badSig) {\r\n            // to figure out where this went wrong we need apply each component of the\r\n            // regex to each argument until we get to the one that fails to match\r\n            var partialPattern = '^';\r\n            var goodTo = 0;\r\n            for(var index = 0; index < params.length; index++) {\r\n                partialPattern += params[index].regex;\r\n                var match = badSig.match(partialPattern);\r\n                if(match === null) {\r\n                    // failed here\r\n                    throw {\r\n                        code: \"T0410\",\r\n                        stack: (new Error()).stack,\r\n                        value: badArgs[goodTo],\r\n                        index: goodTo + 1\r\n                    };\r\n                }\r\n                goodTo = match[0].length;\r\n            }\r\n            // if it got this far, it's probably because of extraneous arguments (we\r\n            // haven't added the trailing '$' in the regex yet.\r\n            throw {\r\n                code: \"T0410\",\r\n                stack: (new Error()).stack,\r\n                value: badArgs[goodTo],\r\n                index: goodTo + 1\r\n            };\r\n        };\r\n\r\n        return {\r\n            definition: signature,\r\n            validate: function(args, context) {\r\n                var suppliedSig = '';\r\n                args.forEach(function(arg) {\r\n                    suppliedSig += getSymbol(arg);\r\n                });\r\n                var isValid = regex.exec(suppliedSig);\r\n                if(isValid) {\r\n                    var validatedArgs = [];\r\n                    var argIndex = 0;\r\n                    params.forEach(function(param, index) {\r\n                        var arg = args[argIndex];\r\n                        var match = isValid[index + 1];\r\n                        if(match === '') {\r\n                            if (param.context) {\r\n                                // substitute context value for missing arg\r\n                                // first check that the context value is the right type\r\n                                var contextType = getSymbol(context);\r\n                                // test contextType against the regex for this arg (without the trailing ?)\r\n                                if(param.contextRegex.test(contextType)) {\r\n                                    validatedArgs.push(context);\r\n                                } else {\r\n                                    // context value not compatible with this argument\r\n                                    throw {\r\n                                        code: \"T0411\",\r\n                                        stack: (new Error()).stack,\r\n                                        value: context,\r\n                                        index: argIndex + 1\r\n                                    };\r\n                                }\r\n                            } else {\r\n                                validatedArgs.push(arg);\r\n                                argIndex++;\r\n                            }\r\n                        } else {\r\n                            // may have matched multiple args (if the regex ends with a '+'\r\n                            // split into single tokens\r\n                            match.split('').forEach(function(single) {\r\n                                if (param.type === 'a') {\r\n                                    if (single === 'm') {\r\n                                        // missing (undefined)\r\n                                        arg = undefined;\r\n                                    } else {\r\n                                        arg = args[argIndex];\r\n                                        var arrayOK = true;\r\n                                        // is there type information on the contents of the array?\r\n                                        if (typeof param.subtype !== 'undefined') {\r\n                                            if (single !== 'a' && match !== param.subtype) {\r\n                                                arrayOK = false;\r\n                                            } else if (single === 'a') {\r\n                                                if (arg.length > 0) {\r\n                                                    var itemType = getSymbol(arg[0]);\r\n                                                    if (itemType !== param.subtype.charAt(0)) { // TODO recurse further\r\n                                                        arrayOK = false;\r\n                                                    } else {\r\n                                                        // make sure every item in the array is this type\r\n                                                        var differentItems = arg.filter(function (val) {\r\n                                                            return (getSymbol(val) !== itemType);\r\n                                                        });\r\n                                                        arrayOK = (differentItems.length === 0);\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        if (!arrayOK) {\r\n                                            throw {\r\n                                                code: \"T0412\",\r\n                                                stack: (new Error()).stack,\r\n                                                value: arg,\r\n                                                index: argIndex + 1,\r\n                                                type: param.subtype // TODO translate symbol to type name\r\n                                            };\r\n                                        }\r\n                                        // the function expects an array. If it's not one, make it so\r\n                                        if (single !== 'a') {\r\n                                            arg = [arg];\r\n                                        }\r\n                                    }\r\n                                    validatedArgs.push(arg);\r\n                                    argIndex++;\r\n                                } else {\r\n                                    validatedArgs.push(arg);\r\n                                    argIndex++;\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                    return validatedArgs;\r\n                }\r\n                throwValidationError(args, suppliedSig);\r\n            }\r\n        };\r\n    }\r\n\r\n    // This parser implements the 'Top down operator precedence' algorithm developed by Vaughan R Pratt; http://dl.acm.org/citation.cfm?id=512931.\r\n    // and builds on the Javascript framework described by Douglas Crockford at http://javascript.crockford.com/tdop/tdop.html\r\n    // and in 'Beautiful Code', edited by Andy Oram and Greg Wilson, Copyright 2007 O'Reilly Media, Inc. 798-0-596-51004-6\r\n\r\n    var parser = function (source) {\r\n        var node;\r\n        var lexer;\r\n\r\n        var symbol_table = {};\r\n\r\n        var base_symbol = {\r\n            nud: function () {\r\n                return this;\r\n            }\r\n        };\r\n\r\n        var symbol = function (id, bp) {\r\n            var s = symbol_table[id];\r\n            bp = bp || 0;\r\n            if (s) {\r\n                if (bp >= s.lbp) {\r\n                    s.lbp = bp;\r\n                }\r\n            } else {\r\n                s = Object.create(base_symbol);\r\n                s.id = s.value = id;\r\n                s.lbp = bp;\r\n                symbol_table[id] = s;\r\n            }\r\n            return s;\r\n        };\r\n\r\n        var advance = function (id, infix) {\r\n            if (id && node.id !== id) {\r\n                var code;\r\n                if(node.id === '(end)') {\r\n                    // unexpected end of buffer\r\n                    code = \"S0203\";\r\n                } else {\r\n                    code = \"S0202\";\r\n                }\r\n                throw {\r\n                    code: code,\r\n                    stack: (new Error()).stack,\r\n                    position: node.position,\r\n                    token: node.id,\r\n                    value: id\r\n                };\r\n            }\r\n            var next_token = lexer(infix);\r\n            if (next_token === null) {\r\n                node = symbol_table[\"(end)\"];\r\n                node.position = source.length;\r\n                return node;\r\n            }\r\n            var value = next_token.value;\r\n            var type = next_token.type;\r\n            var symbol;\r\n            switch (type) {\r\n                case 'name':\r\n                case 'variable':\r\n                    symbol = symbol_table[\"(name)\"];\r\n                    break;\r\n                case 'operator':\r\n                    symbol = symbol_table[value];\r\n                    if (!symbol) {\r\n                        throw {\r\n                            code: \"S0204\",\r\n                            stack: (new Error()).stack,\r\n                            position: next_token.position,\r\n                            token: value\r\n                        };\r\n                    }\r\n                    break;\r\n                case 'string':\r\n                case 'number':\r\n                case 'value':\r\n                    type = \"literal\";\r\n                    symbol = symbol_table[\"(literal)\"];\r\n                    break;\r\n                case 'regex':\r\n                    type = \"regex\";\r\n                    symbol = symbol_table[\"(regex)\"];\r\n                    break;\r\n              /* istanbul ignore next */\r\n                default:\r\n                    throw {\r\n                        code: \"S0205\",\r\n                        stack: (new Error()).stack,\r\n                        position: next_token.position,\r\n                        token: value\r\n                    };\r\n            }\r\n\r\n            node = Object.create(symbol);\r\n            node.value = value;\r\n            node.type = type;\r\n            node.position = next_token.position;\r\n            return node;\r\n        };\r\n\r\n        // Pratt's algorithm\r\n        var expression = function (rbp) {\r\n            var left;\r\n            var t = node;\r\n            advance(null, true);\r\n            left = t.nud();\r\n            while (rbp < node.lbp) {\r\n                t = node;\r\n                advance();\r\n                left = t.led(left);\r\n            }\r\n            return left;\r\n        };\r\n\r\n        // match infix operators\r\n        // <expression> <operator> <expression>\r\n        // left associative\r\n        var infix = function (id, bp, led) {\r\n            var bindingPower = bp || operators[id];\r\n            var s = symbol(id, bindingPower);\r\n            s.led = led || function (left) {\r\n                this.lhs = left;\r\n                this.rhs = expression(bindingPower);\r\n                this.type = \"binary\";\r\n                return this;\r\n            };\r\n            return s;\r\n        };\r\n\r\n        // match infix operators\r\n        // <expression> <operator> <expression>\r\n        // right associative\r\n        var infixr = function (id, bp, led) {\r\n            var bindingPower = bp || operators[id];\r\n            var s = symbol(id, bindingPower);\r\n            s.led = led || function (left) {\r\n                this.lhs = left;\r\n                this.rhs = expression(bindingPower - 1); // subtract 1 from bindingPower for right associative operators\r\n                this.type = \"binary\";\r\n                return this;\r\n            };\r\n            return s;\r\n        };\r\n\r\n        // match prefix operators\r\n        // <operator> <expression>\r\n        var prefix = function (id, nud) {\r\n            var s = symbol(id);\r\n            s.nud = nud || function () {\r\n                this.expression = expression(70);\r\n                this.type = \"unary\";\r\n                return this;\r\n            };\r\n            return s;\r\n        };\r\n\r\n        symbol(\"(end)\");\r\n        symbol(\"(name)\");\r\n        symbol(\"(literal)\");\r\n        symbol(\"(regex)\");\r\n        symbol(\":\");\r\n        symbol(\";\");\r\n        symbol(\",\");\r\n        symbol(\")\");\r\n        symbol(\"]\");\r\n        symbol(\"}\");\r\n        symbol(\"..\"); // range operator\r\n        infix(\".\"); // field reference\r\n        infix(\"+\"); // numeric addition\r\n        infix(\"-\"); // numeric subtraction\r\n        infix(\"*\"); // numeric multiplication\r\n        infix(\"/\"); // numeric division\r\n        infix(\"%\"); // numeric modulus\r\n        infix(\"=\"); // equality\r\n        infix(\"<\"); // less than\r\n        infix(\">\"); // greater than\r\n        infix(\"!=\"); // not equal to\r\n        infix(\"<=\"); // less than or equal\r\n        infix(\">=\"); // greater than or equal\r\n        infix(\"&\"); // string concatenation\r\n        infix(\"and\"); // Boolean AND\r\n        infix(\"or\"); // Boolean OR\r\n        infix(\"in\"); // is member of array\r\n        infixr(\":=\"); // bind variable\r\n        prefix(\"-\"); // unary numeric negation\r\n        infix(\"~>\"); // function application\r\n\r\n        // field wildcard (single level)\r\n        prefix('*', function () {\r\n            this.type = \"wildcard\";\r\n            return this;\r\n        });\r\n\r\n        // descendant wildcard (multi-level)\r\n        prefix('**', function () {\r\n            this.type = \"descendant\";\r\n            return this;\r\n        });\r\n\r\n        // function invocation\r\n        infix(\"(\", operators['('], function (left) {\r\n            // left is is what we are trying to invoke\r\n            this.procedure = left;\r\n            this.type = 'function';\r\n            this.arguments = [];\r\n            if (node.id !== ')') {\r\n                for (;;) {\r\n                    if (node.type === 'operator' && node.id === '?') {\r\n                        // partial function application\r\n                        this.type = 'partial';\r\n                        this.arguments.push(node);\r\n                        advance('?');\r\n                    } else {\r\n                        this.arguments.push(expression(0));\r\n                    }\r\n                    if (node.id !== ',') break;\r\n                    advance(',');\r\n                }\r\n            }\r\n            advance(\")\", true);\r\n            // if the name of the function is 'function' or , then this is function definition (lambda function)\r\n            if (left.type === 'name' && (left.value === 'function' || left.value === '\\u03BB')) {\r\n                // all of the args must be VARIABLE tokens\r\n                this.arguments.forEach(function (arg, index) {\r\n                    if (arg.type !== 'variable') {\r\n                        throw {\r\n                            code: \"S0208\",\r\n                            stack: (new Error()).stack,\r\n                            position: arg.position,\r\n                            token: arg.value,\r\n                            value: index + 1\r\n                        };\r\n                    }\r\n                });\r\n                this.type = 'lambda';\r\n                // is the next token a '<' - if so, parse the function signature\r\n                if(node.id === '<') {\r\n                    var sigPos = node.position;\r\n                    var depth = 1;\r\n                    var sig = '<';\r\n                    while(depth > 0 && node.id !== '{' && node.id !== '(end)') {\r\n                        var tok = advance();\r\n                        if(tok.id === '>') {\r\n                            depth--;\r\n                        } else if(tok.id === '<') {\r\n                            depth++;\r\n                        }\r\n                        sig += tok.value;\r\n                    }\r\n                    advance('>');\r\n                    try {\r\n                        this.signature = parseSignature(sig);\r\n                    } catch(err) {\r\n                        // insert the position into this error\r\n                        err.position = sigPos + err.offset;\r\n                        throw err;\r\n                    }\r\n                }\r\n                // parse the function body\r\n                advance('{');\r\n                this.body = expression(0);\r\n                advance('}');\r\n            }\r\n            return this;\r\n        });\r\n\r\n        // parenthesis - block expression\r\n        prefix(\"(\", function () {\r\n            var expressions = [];\r\n            while (node.id !== \")\") {\r\n                expressions.push(expression(0));\r\n                if (node.id !== \";\") {\r\n                    break;\r\n                }\r\n                advance(\";\");\r\n            }\r\n            advance(\")\", true);\r\n            this.type = 'block';\r\n            this.expressions = expressions;\r\n            return this;\r\n        });\r\n\r\n        // array constructor\r\n        prefix(\"[\", function () {\r\n            var a = [];\r\n            if (node.id !== \"]\") {\r\n                for (;;) {\r\n                    var item = expression(0);\r\n                    if (node.id === \"..\") {\r\n                        // range operator\r\n                        var range = {type: \"binary\", value: \"..\", position: node.position, lhs: item};\r\n                        advance(\"..\");\r\n                        range.rhs = expression(0);\r\n                        item = range;\r\n                    }\r\n                    a.push(item);\r\n                    if (node.id !== \",\") {\r\n                        break;\r\n                    }\r\n                    advance(\",\");\r\n                }\r\n            }\r\n            advance(\"]\", true);\r\n            this.lhs = a;\r\n            this.type = \"unary\";\r\n            return this;\r\n        });\r\n\r\n        // filter - predicate or array index\r\n        infix(\"[\", operators['['], function (left) {\r\n            if(node.id === \"]\") {\r\n                // empty predicate means maintain singleton arrays in the output\r\n                var step = left;\r\n                while(step && step.type === 'binary' && step.value === '[') {\r\n                    step = step.lhs;\r\n                }\r\n                step.keepArray = true;\r\n                advance(\"]\");\r\n                return left;\r\n            } else {\r\n                this.lhs = left;\r\n                this.rhs = expression(operators[']']);\r\n                this.type = 'binary';\r\n                advance(\"]\", true);\r\n                return this;\r\n            }\r\n        });\r\n\r\n        var objectParser = function (left) {\r\n            var a = [];\r\n            if (node.id !== \"}\") {\r\n                for (;;) {\r\n                    var n = expression(0);\r\n                    advance(\":\");\r\n                    var v = expression(0);\r\n                    a.push([n, v]); // holds an array of name/value expression pairs\r\n                    if (node.id !== \",\") {\r\n                        break;\r\n                    }\r\n                    advance(\",\");\r\n                }\r\n            }\r\n            advance(\"}\", true);\r\n            if(typeof left === 'undefined') {\r\n                // NUD - unary prefix form\r\n                this.lhs = a;\r\n                this.type = \"unary\";\r\n            } else {\r\n                // LED - binary infix form\r\n                this.lhs = left;\r\n                this.rhs = a;\r\n                this.type = 'binary';\r\n            }\r\n            return this;\r\n        };\r\n\r\n        // object constructor\r\n        prefix(\"{\", objectParser);\r\n\r\n        // object grouping\r\n        infix(\"{\", operators['{'], objectParser);\r\n\r\n        // if/then/else ternary operator ?:\r\n        infix(\"?\", operators['?'], function (left) {\r\n            this.type = 'condition';\r\n            this.condition = left;\r\n            this.then = expression(0);\r\n            if (node.id === ':') {\r\n                // else condition\r\n                advance(\":\");\r\n                this.else = expression(0);\r\n            }\r\n            return this;\r\n        });\r\n\r\n        // tail call optimization\r\n        // this is invoked by the post parser to analyse lambda functions to see\r\n        // if they make a tail call.  If so, it is replaced by a thunk which will\r\n        // be invoked by the trampoline loop during function application.\r\n        // This enables tail-recursive functions to be written without growing the stack\r\n        var tail_call_optimize = function(expr) {\r\n            var result;\r\n            if(expr.type === 'function') {\r\n                var thunk = {type: 'lambda', thunk: true, arguments: [], position: expr.position};\r\n                thunk.body = expr;\r\n                result = thunk;\r\n            } else if(expr.type === 'condition') {\r\n                // analyse both branches\r\n                expr.then = tail_call_optimize(expr.then);\r\n                expr.else = tail_call_optimize(expr.else);\r\n                result = expr;\r\n            } else if(expr.type === 'block') {\r\n                // only the last expression in the block\r\n                var length = expr.expressions.length;\r\n                if(length > 0) {\r\n                    expr.expressions[length - 1] = tail_call_optimize(expr.expressions[length - 1]);\r\n                }\r\n                result = expr;\r\n            } else {\r\n                result = expr;\r\n            }\r\n            return result;\r\n        };\r\n\r\n        // post-parse stage\r\n        // the purpose of this is flatten the parts of the AST representing location paths,\r\n        // converting them to arrays of steps which in turn may contain arrays of predicates.\r\n        // following this, nodes containing '.' and '[' should be eliminated from the AST.\r\n        var post_parse = function (expr) {\r\n            var result = [];\r\n            switch (expr.type) {\r\n                case 'binary':\r\n                    switch (expr.value) {\r\n                        case '.':\r\n                            var lstep = post_parse(expr.lhs);\r\n                            if (lstep.type === 'path') {\r\n                                Array.prototype.push.apply(result, lstep);\r\n                            } else {\r\n                                result.push(lstep);\r\n                            }\r\n                            var rest = post_parse(expr.rhs);\r\n                            if(rest.type !== 'path') {\r\n                                rest = [rest];\r\n                            }\r\n                            Array.prototype.push.apply(result, rest);\r\n                            result.type = 'path';\r\n                            break;\r\n                        case '[':\r\n                            // predicated step\r\n                            // LHS is a step or a predicated step\r\n                            // RHS is the predicate expr\r\n                            result = post_parse(expr.lhs);\r\n                            var step = result;\r\n                            if(result.type === 'path') {\r\n                                step = result[result.length - 1];\r\n                            }\r\n                            if (typeof step.group !== 'undefined') {\r\n                                throw {\r\n                                    code: \"S0209\",\r\n                                    stack: (new Error()).stack,\r\n                                    position: expr.position\r\n                                };\r\n                            }\r\n                            if (typeof step.predicate === 'undefined') {\r\n                                step.predicate = [];\r\n                            }\r\n                            step.predicate.push(post_parse(expr.rhs));\r\n                            break;\r\n                        case '{':\r\n                            // group-by\r\n                            // LHS is a step or a predicated step\r\n                            // RHS is the object constructor expr\r\n                            result = post_parse(expr.lhs);\r\n                            if (typeof result.group !== 'undefined') {\r\n                                throw {\r\n                                    code: \"S0210\",\r\n                                    stack: (new Error()).stack,\r\n                                    position: expr.position\r\n                                };\r\n                            }\r\n                            // object constructor - process each pair\r\n                            result.group = {\r\n                                lhs: expr.rhs.map(function (pair) {\r\n                                    return [post_parse(pair[0]), post_parse(pair[1])];\r\n                                }),\r\n                                position: expr.position\r\n                            };\r\n                            break;\r\n                        default:\r\n                            result = {type: expr.type, value: expr.value, position: expr.position};\r\n                            result.lhs = post_parse(expr.lhs);\r\n                            result.rhs = post_parse(expr.rhs);\r\n                    }\r\n                    break;\r\n                case 'unary':\r\n                    result = {type: expr.type, value: expr.value, position: expr.position};\r\n                    if (expr.value === '[') {\r\n                        // array constructor - process each item\r\n                        result.lhs = expr.lhs.map(function (item) {\r\n                            return post_parse(item);\r\n                        });\r\n                    } else if (expr.value === '{') {\r\n                        // object constructor - process each pair\r\n                        result.lhs = expr.lhs.map(function (pair) {\r\n                            return [post_parse(pair[0]), post_parse(pair[1])];\r\n                        });\r\n                    } else {\r\n                        // all other unary expressions - just process the expression\r\n                        result.expression = post_parse(expr.expression);\r\n                        // if unary minus on a number, then pre-process\r\n                        if (expr.value === '-' && result.expression.type === 'literal' && isNumeric(result.expression.value)) {\r\n                            result = result.expression;\r\n                            result.value = -result.value;\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'function':\r\n                case 'partial':\r\n                    result = {type: expr.type, name: expr.name, value: expr.value, position: expr.position};\r\n                    result.arguments = expr.arguments.map(function (arg) {\r\n                        return post_parse(arg);\r\n                    });\r\n                    result.procedure = post_parse(expr.procedure);\r\n                    break;\r\n                case 'lambda':\r\n                    result = {type: expr.type, arguments: expr.arguments, signature: expr.signature, position: expr.position};\r\n                    var body = post_parse(expr.body);\r\n                    result.body = tail_call_optimize(body);\r\n                    break;\r\n                case 'condition':\r\n                    result = {type: expr.type, position: expr.position};\r\n                    result.condition = post_parse(expr.condition);\r\n                    result.then = post_parse(expr.then);\r\n                    if (typeof expr.else !== 'undefined') {\r\n                        result.else = post_parse(expr.else);\r\n                    }\r\n                    break;\r\n                case 'block':\r\n                    result = {type: expr.type, position: expr.position};\r\n                    // array of expressions - process each one\r\n                    result.expressions = expr.expressions.map(function (item) {\r\n                        return post_parse(item);\r\n                    });\r\n                    // TODO scan the array of expressions to see if any of them assign variables\r\n                    // if so, need to mark the block as one that needs to create a new frame\r\n                    break;\r\n                case 'name':\r\n                    result = [expr];\r\n                    result.type = 'path';\r\n                    break;\r\n                case 'literal':\r\n                case 'wildcard':\r\n                case 'descendant':\r\n                case 'variable':\r\n                case 'regex':\r\n                    result = expr;\r\n                    break;\r\n                case 'operator':\r\n                    // the tokens 'and' and 'or' might have been used as a name rather than an operator\r\n                    if (expr.value === 'and' || expr.value === 'or' || expr.value === 'in') {\r\n                        expr.type = 'name';\r\n                        result = post_parse(expr);\r\n                    } else if (expr.value === '?') {\r\n                        // partial application\r\n                        result = expr;\r\n                    } else {\r\n                        throw {\r\n                            code: \"S0201\",\r\n                            stack: (new Error()).stack,\r\n                            position: expr.position,\r\n                            token: expr.value\r\n                        };\r\n                    }\r\n                    break;\r\n                default:\r\n                    var code = \"S0206\";\r\n                    /* istanbul ignore else */\r\n                    if (expr.id === '(end)') {\r\n                        code = \"S0207\";\r\n                    }\r\n                    throw {\r\n                        code: code,\r\n                        stack: (new Error()).stack,\r\n                        position: expr.position,\r\n                        token: expr.value\r\n                    };\r\n            }\r\n            return result;\r\n        };\r\n\r\n        // now invoke the tokenizer and the parser and return the syntax tree\r\n\r\n        lexer = tokenizer(source);\r\n        advance();\r\n        // parse the tokens\r\n        var expr = expression(0);\r\n        if (node.id !== '(end)') {\r\n            throw {\r\n                code: \"S0201\",\r\n                stack: (new Error()).stack,\r\n                position: node.position,\r\n                token: node.value\r\n            };\r\n        }\r\n        expr = post_parse(expr);\r\n\r\n        return expr;\r\n    };\r\n\r\n// Start of Evaluator code\r\n\r\n    var staticFrame = createFrame(null);\r\n\r\n    /**\r\n     * Check if value is a finite number\r\n     * @param {float} n - number to evaluate\r\n     * @returns {boolean} True if n is a finite number\r\n     */\r\n    function isNumeric(n) {\r\n        var isNum = false;\r\n        if(typeof n === 'number') {\r\n            var num = parseFloat(n);\r\n            isNum = !isNaN(num);\r\n            if (isNum && !isFinite(num)) {\r\n                throw {\r\n                    code: \"D1001\",\r\n                    value: n,\r\n                    stack: (new Error()).stack\r\n                };\r\n            }\r\n        }\r\n        return isNum;\r\n    }\r\n\r\n    /**\r\n     * Returns true if the arg is an array of numbers\r\n     * @param {*} arg - the item to test\r\n     * @returns {boolean} True if arg is an array of numbers\r\n     */\r\n    function isArrayOfNumbers(arg) {\r\n        var result = false;\r\n        if(Array.isArray(arg)) {\r\n            result = (arg.filter(function(item){return !isNumeric(item);}).length === 0);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    // Polyfill\r\n    /* istanbul ignore next */\r\n    Number.isInteger = Number.isInteger || function(value) {\r\n        return typeof value === \"number\" &&\r\n          isFinite(value) &&\r\n          Math.floor(value) === value;\r\n    };\r\n\r\n    /**\r\n     * Evaluate expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluate(expr, input, environment) {\r\n        var result;\r\n\r\n        var entryCallback = environment.lookup('__evaluate_entry');\r\n        if(entryCallback) {\r\n            entryCallback(expr, input, environment);\r\n        }\r\n\r\n        switch (expr.type) {\r\n            case 'path':\r\n                result = evaluatePath(expr, input, environment);\r\n                break;\r\n            case 'binary':\r\n                result = evaluateBinary(expr, input, environment);\r\n                break;\r\n            case 'unary':\r\n                result = evaluateUnary(expr, input, environment);\r\n                break;\r\n            case 'name':\r\n                result = evaluateName(expr, input, environment);\r\n                break;\r\n            case 'literal':\r\n                result = evaluateLiteral(expr, input, environment);\r\n                break;\r\n            case 'wildcard':\r\n                result = evaluateWildcard(expr, input, environment);\r\n                break;\r\n            case 'descendant':\r\n                result = evaluateDescendants(expr, input, environment);\r\n                break;\r\n            case 'condition':\r\n                result = evaluateCondition(expr, input, environment);\r\n                break;\r\n            case 'block':\r\n                result = evaluateBlock(expr, input, environment);\r\n                break;\r\n            case 'regex':\r\n                result = evaluateRegex(expr, input, environment);\r\n                break;\r\n            case 'function':\r\n                result = evaluateFunction(expr, input, environment);\r\n                break;\r\n            case 'variable':\r\n                result = evaluateVariable(expr, input, environment);\r\n                break;\r\n            case 'lambda':\r\n                result = evaluateLambda(expr, input, environment);\r\n                break;\r\n            case 'partial':\r\n                result = evaluatePartialApplication(expr, input, environment);\r\n                break;\r\n        }\r\n        if (expr.hasOwnProperty('predicate')) {\r\n            result = applyPredicates(expr.predicate, result, environment);\r\n        }\r\n        if (expr.hasOwnProperty('group')) {\r\n            result = evaluateGroupExpression(expr.group, result, environment);\r\n        }\r\n\r\n        var exitCallback = environment.lookup('__evaluate_exit');\r\n        if(exitCallback) {\r\n            exitCallback(expr, input, environment, result);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate path expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluatePath(expr, input, environment) {\r\n        var result;\r\n        var inputSequence;\r\n        var keepSingletonArray = false;\r\n        // expr is an array of steps\r\n        // if the first step is a variable reference ($...), including root reference ($$),\r\n        //   then the path is absolute rather than relative\r\n        if (expr[0].type === 'variable') {\r\n            expr[0].absolute = true;\r\n        } else if(expr[0].type === 'unary' && expr[0].value === '[') {\r\n            // array constructor - not relative to the input\r\n            input = [null];// dummy singleton sequence for first step\r\n        }\r\n\r\n        // evaluate each step in turn\r\n        for(var ii = 0; ii < expr.length; ii++) {\r\n            var step = expr[ii];\r\n            if(step.keepArray === true) {\r\n                keepSingletonArray = true;\r\n            }\r\n            var resultSequence = [];\r\n            result = undefined;\r\n            // if input is not an array, make it so\r\n            if (step.absolute === true) {\r\n                inputSequence = [input]; // dummy singleton sequence for first (absolute) step\r\n            } else if (Array.isArray(input)) {\r\n                inputSequence = input;\r\n            } else {\r\n                inputSequence = [input];\r\n            }\r\n            // if there is more than one step in the path, handle quoted field names as names not literals\r\n            if (expr.length > 1 && step.type === 'literal') {\r\n                step.type = 'name';\r\n            }\r\n            inputSequence.forEach(function (item) {\r\n                var res = evaluate(step, item, environment);\r\n                if (typeof res !== 'undefined') {\r\n                    if (Array.isArray(res) && (step.value !== '[' )) {\r\n                        // is res an array - if so, flatten it into the parent array\r\n                        res.forEach(function (innerRes) {\r\n                            if (typeof innerRes !== 'undefined') {\r\n                                resultSequence.push(innerRes);\r\n                            }\r\n                        });\r\n                    } else {\r\n                        resultSequence.push(res);\r\n                    }\r\n                }\r\n            });\r\n            if (resultSequence.length === 1) {\r\n                if(keepSingletonArray) {\r\n                    result = resultSequence;\r\n                } else {\r\n                    result = resultSequence[0];\r\n                }\r\n            } else if (resultSequence.length > 1) {\r\n                result = resultSequence;\r\n            }\r\n\r\n            if(typeof result === 'undefined') {\r\n                break;\r\n            }\r\n            input = result;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Apply predicates to input data\r\n     * @param {Object} predicates - Predicates\r\n     * @param {Object} input - Input data to apply predicates against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Result after applying predicates\r\n     */\r\n    function applyPredicates(predicates, input, environment) {\r\n        var result;\r\n        var inputSequence = input;\r\n        // lhs potentially holds an array\r\n        // we want to iterate over the array, and only keep the items that are\r\n        // truthy when applied to the predicate.\r\n        // if the predicate evaluates to an integer, then select that index\r\n\r\n        var results = [];\r\n        predicates.forEach(function (predicate) {\r\n            // if it's not an array, turn it into one\r\n            // since in XPath >= 2.0 an item is equivalent to a singleton sequence of that item\r\n            // if input is not an array, make it so\r\n            if (!Array.isArray(inputSequence)) {\r\n                inputSequence = [inputSequence];\r\n            }\r\n            results = [];\r\n            result = undefined;\r\n            if (predicate.type === 'literal' && isNumeric(predicate.value)) {\r\n                var index = predicate.value;\r\n                if (!Number.isInteger(index)) {\r\n                    // round it down\r\n                    index = Math.floor(index);\r\n                }\r\n                if (index < 0) {\r\n                    // count in from end of array\r\n                    index = inputSequence.length + index;\r\n                }\r\n                result = inputSequence[index];\r\n            } else {\r\n                inputSequence.forEach(function (item, index) {\r\n                    var res = evaluate(predicate, item, environment);\r\n                    if (isNumeric(res)) {\r\n                        res = [res];\r\n                    }\r\n                    if(isArrayOfNumbers(res)) {\r\n                        res.forEach(function(ires) {\r\n                            if (!Number.isInteger(ires)) {\r\n                                // round it down\r\n                                ires = Math.floor(ires);\r\n                            }\r\n                            if (ires < 0) {\r\n                                // count in from end of array\r\n                                ires = inputSequence.length + ires;\r\n                            }\r\n                            if (ires === index) {\r\n                                results.push(item);\r\n                            }\r\n                        });\r\n                    } else if (functionBoolean(res)) { // truthy\r\n                        results.push(item);\r\n                    }\r\n                });\r\n            }\r\n            if (results.length === 1) {\r\n                result = results[0];\r\n            } else if (results.length > 1) {\r\n                result = results;\r\n            }\r\n            inputSequence = result;\r\n        });\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate binary expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateBinary(expr, input, environment) {\r\n        var result;\r\n\r\n        switch (expr.value) {\r\n            case '+':\r\n            case '-':\r\n            case '*':\r\n            case '/':\r\n            case '%':\r\n                result = evaluateNumericExpression(expr, input, environment);\r\n                break;\r\n            case '=':\r\n            case '!=':\r\n            case '<':\r\n            case '<=':\r\n            case '>':\r\n            case '>=':\r\n                result = evaluateComparisonExpression(expr, input, environment);\r\n                break;\r\n            case '&':\r\n                result = evaluateStringConcat(expr, input, environment);\r\n                break;\r\n            case 'and':\r\n            case 'or':\r\n                result = evaluateBooleanExpression(expr, input, environment);\r\n                break;\r\n            case '..':\r\n                result = evaluateRangeExpression(expr, input, environment);\r\n                break;\r\n            case ':=':\r\n                result = evaluateBindExpression(expr, input, environment);\r\n                break;\r\n            case 'in':\r\n                result = evaluateIncludesExpression(expr, input, environment);\r\n                break;\r\n            case '~>':\r\n                result = evaluateApplyExpression(expr, input, environment);\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate unary expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateUnary(expr, input, environment) {\r\n        var result;\r\n\r\n        switch (expr.value) {\r\n            case '-':\r\n                result = evaluate(expr.expression, input, environment);\r\n                if (isNumeric(result)) {\r\n                    result = -result;\r\n                } else {\r\n                    throw {\r\n                        code: \"D1002\",\r\n                        stack: (new Error()).stack,\r\n                        position: expr.position,\r\n                        token: expr.value,\r\n                        value: result\r\n                    };\r\n                }\r\n                break;\r\n            case '[':\r\n                // array constructor - evaluate each item\r\n                result = [];\r\n                expr.lhs.forEach(function (item) {\r\n                    var value = evaluate(item, input, environment);\r\n                    if (typeof value !== 'undefined') {\r\n                        if(item.value === '[') {\r\n                            result.push(value);\r\n                        } else {\r\n                            result = functionAppend(result, value);\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            case '{':\r\n                // object constructor - apply grouping\r\n                result = evaluateGroupExpression(expr, input, environment);\r\n                break;\r\n\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate name object against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateName(expr, input, environment) {\r\n        // lookup the 'name' item in the input\r\n        var result;\r\n        if (Array.isArray(input)) {\r\n            var results = [];\r\n            input.forEach(function (item) {\r\n                var res = evaluateName(expr, item, environment);\r\n                if (typeof res !== 'undefined') {\r\n                    results.push(res);\r\n                }\r\n            });\r\n            if (results.length === 1) {\r\n                result = results[0];\r\n            } else if (results.length > 1) {\r\n                result = results;\r\n            }\r\n        } else if (input !== null && typeof input === 'object') {\r\n            result = input[expr.value];\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate literal against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateLiteral(expr) {\r\n        return expr.value;\r\n    }\r\n\r\n    /**\r\n     * Evaluate wildcard against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateWildcard(expr, input) {\r\n        var result;\r\n        var results = [];\r\n        if (input !== null && typeof input === 'object') {\r\n            Object.keys(input).forEach(function (key) {\r\n                var value = input[key];\r\n                if(Array.isArray(value)) {\r\n                    value = flatten(value);\r\n                    results = functionAppend(results, value);\r\n                } else {\r\n                    results.push(value);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (results.length === 1) {\r\n            result = results[0];\r\n        } else if (results.length > 1) {\r\n            result = results;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Returns a flattened array\r\n     * @param {Array} arg - the array to be flatten\r\n     * @param {Array} flattened - carries the flattened array - if not defined, will initialize to []\r\n     * @returns {Array} - the flattened array\r\n     */\r\n    function flatten(arg, flattened) {\r\n        if(typeof flattened === 'undefined') {\r\n            flattened = [];\r\n        }\r\n        if(Array.isArray(arg)) {\r\n            arg.forEach(function (item) {\r\n                flatten(item, flattened);\r\n            });\r\n        } else {\r\n            flattened.push(arg);\r\n        }\r\n        return flattened;\r\n    }\r\n\r\n    /**\r\n     * Evaluate descendants against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateDescendants(expr, input) {\r\n        var result;\r\n        var resultSequence = [];\r\n        if (typeof input !== 'undefined') {\r\n            // traverse all descendants of this object/array\r\n            recurseDescendants(input, resultSequence);\r\n            if (resultSequence.length === 1) {\r\n                result = resultSequence[0];\r\n            } else {\r\n                result = resultSequence;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Recurse through descendants\r\n     * @param {Object} input - Input data\r\n     * @param {Object} results - Results\r\n     */\r\n    function recurseDescendants(input, results) {\r\n        // this is the equivalent of //* in XPath\r\n        if (!Array.isArray(input)) {\r\n            results.push(input);\r\n        }\r\n        if (Array.isArray(input)) {\r\n            input.forEach(function (member) {\r\n                recurseDescendants(member, results);\r\n            });\r\n        } else if (input !== null && typeof input === 'object') {\r\n            Object.keys(input).forEach(function (key) {\r\n                recurseDescendants(input[key], results);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Evaluate numeric expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateNumericExpression(expr, input, environment) {\r\n        var result;\r\n\r\n        var lhs = evaluate(expr.lhs, input, environment);\r\n        var rhs = evaluate(expr.rhs, input, environment);\r\n\r\n        if (typeof lhs === 'undefined' || typeof rhs === 'undefined') {\r\n            // if either side is undefined, the result is undefined\r\n            return result;\r\n        }\r\n\r\n        if (!isNumeric(lhs)) {\r\n            throw {\r\n                code: \"T2001\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.value,\r\n                value: lhs\r\n            };\r\n        }\r\n        if (!isNumeric(rhs)) {\r\n            throw {\r\n                code: \"T2002\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.value,\r\n                value: rhs\r\n            };\r\n        }\r\n\r\n        switch (expr.value) {\r\n            case '+':\r\n                result = lhs + rhs;\r\n                break;\r\n            case '-':\r\n                result = lhs - rhs;\r\n                break;\r\n            case '*':\r\n                result = lhs * rhs;\r\n                break;\r\n            case '/':\r\n                result = lhs / rhs;\r\n                break;\r\n            case '%':\r\n                result = lhs % rhs;\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate comparison expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateComparisonExpression(expr, input, environment) {\r\n        var result;\r\n\r\n        var lhs = evaluate(expr.lhs, input, environment);\r\n        var rhs = evaluate(expr.rhs, input, environment);\r\n\r\n        if (typeof lhs === 'undefined' || typeof rhs === 'undefined') {\r\n            // if either side is undefined, the result is false\r\n            return false;\r\n        }\r\n\r\n        switch (expr.value) {\r\n            case '=':\r\n                result = lhs === rhs;\r\n                break;\r\n            case '!=':\r\n                result = (lhs !== rhs);\r\n                break;\r\n            case '<':\r\n                result = lhs < rhs;\r\n                break;\r\n            case '<=':\r\n                result = lhs <= rhs;\r\n                break;\r\n            case '>':\r\n                result = lhs > rhs;\r\n                break;\r\n            case '>=':\r\n                result = lhs >= rhs;\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Inclusion operator - in\r\n     *\r\n     * @param {Object} expr - AST\r\n     * @param {*} input - input context\r\n     * @param {Object} environment - frame\r\n     * @returns {boolean} - true if lhs is a member of rhs\r\n     */\r\n    function evaluateIncludesExpression(expr, input, environment) {\r\n        var result = false;\r\n\r\n        var lhs = evaluate(expr.lhs, input, environment);\r\n        var rhs = evaluate(expr.rhs, input, environment);\r\n\r\n        if (typeof lhs === 'undefined' || typeof rhs === 'undefined') {\r\n            // if either side is undefined, the result is false\r\n            return false;\r\n        }\r\n\r\n        if(!Array.isArray(rhs)) {\r\n            rhs = [rhs];\r\n        }\r\n\r\n        for(var i = 0; i < rhs.length; i++) {\r\n            if(rhs[i] === lhs) {\r\n                result = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate boolean expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateBooleanExpression(expr, input, environment) {\r\n        var result;\r\n\r\n        switch (expr.value) {\r\n            case 'and':\r\n                result = functionBoolean(evaluate(expr.lhs, input, environment)) &&\r\n                  functionBoolean(evaluate(expr.rhs, input, environment));\r\n                break;\r\n            case 'or':\r\n                result = functionBoolean(evaluate(expr.lhs, input, environment)) ||\r\n                  functionBoolean(evaluate(expr.rhs, input, environment));\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate string concatenation against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {string|*} Evaluated input data\r\n     */\r\n    function evaluateStringConcat(expr, input, environment) {\r\n        var result;\r\n        var lhs = evaluate(expr.lhs, input, environment);\r\n        var rhs = evaluate(expr.rhs, input, environment);\r\n\r\n        var lstr = '';\r\n        var rstr = '';\r\n        if (typeof lhs !== 'undefined') {\r\n            lstr = functionString(lhs);\r\n        }\r\n        if (typeof rhs !== 'undefined') {\r\n            rstr = functionString(rhs);\r\n        }\r\n\r\n        result = lstr.concat(rstr);\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate group expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {{}} Evaluated input data\r\n     */\r\n    function evaluateGroupExpression(expr, input, environment) {\r\n        var result = {};\r\n        var groups = {};\r\n        // group the input sequence by 'key' expression\r\n        if (!Array.isArray(input)) {\r\n            input = [input];\r\n        }\r\n        input.forEach(function (item) {\r\n            expr.lhs.forEach(function (pair) {\r\n                var key = evaluate(pair[0], item, environment);\r\n                // key has to be a string\r\n                if (typeof  key !== 'string') {\r\n                    throw {\r\n                        code: \"T1003\",\r\n                        stack: (new Error()).stack,\r\n                        position: expr.position,\r\n                        value: key\r\n                    };\r\n                }\r\n                var entry = {data: item, expr: pair[1]};\r\n                if (groups.hasOwnProperty(key)) {\r\n                    // a value already exists in this slot\r\n                    // append it as an array\r\n                    groups[key].data = functionAppend(groups[key].data, item);\r\n                } else {\r\n                    groups[key] = entry;\r\n                }\r\n            });\r\n        });\r\n        // iterate over the groups to evaluate the 'value' expression\r\n        for (var key in groups) {\r\n            var entry = groups[key];\r\n            var value = evaluate(entry.expr, entry.data, environment);\r\n            result[key] = value;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate range expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateRangeExpression(expr, input, environment) {\r\n        var result;\r\n\r\n        var lhs = evaluate(expr.lhs, input, environment);\r\n        var rhs = evaluate(expr.rhs, input, environment);\r\n\r\n        if (typeof lhs === 'undefined' || typeof rhs === 'undefined') {\r\n            // if either side is undefined, the result is undefined\r\n            return result;\r\n        }\r\n\r\n        if (lhs > rhs) {\r\n            // if the lhs is greater than the rhs, return undefined\r\n            return result;\r\n        }\r\n\r\n        if (!Number.isInteger(lhs)) {\r\n            throw {\r\n                code: \"T2003\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.value,\r\n                value: lhs\r\n            };\r\n        }\r\n        if (!Number.isInteger(rhs)) {\r\n            throw {\r\n                code: \"T2004\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.value,\r\n                value: rhs\r\n            };\r\n        }\r\n\r\n        result = new Array(rhs - lhs + 1);\r\n        for (var item = lhs, index = 0; item <= rhs; item++, index++) {\r\n            result[index] = item;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate bind expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateBindExpression(expr, input, environment) {\r\n        // The RHS is the expression to evaluate\r\n        // The LHS is the name of the variable to bind to - should be a VARIABLE token\r\n        var value = evaluate(expr.rhs, input, environment);\r\n        if (expr.lhs.type !== 'variable') {\r\n            throw {\r\n                code: \"D2005\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.value,\r\n                value: expr.lhs.type === 'path' ? expr.lhs[0].value : expr.lhs.value\r\n            };\r\n        }\r\n        environment.bind(expr.lhs.value, value);\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * Evaluate condition against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateCondition(expr, input, environment) {\r\n        var result;\r\n        var condition = evaluate(expr.condition, input, environment);\r\n        if (functionBoolean(condition)) {\r\n            result = evaluate(expr.then, input, environment);\r\n        } else if (typeof expr.else !== 'undefined') {\r\n            result = evaluate(expr.else, input, environment);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate block against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateBlock(expr, input, environment) {\r\n        var result;\r\n        // create a new frame to limit the scope of variable assignments\r\n        // TODO, only do this if the post-parse stage has flagged this as required\r\n        var frame = createFrame(environment);\r\n        // invoke each expression in turn\r\n        // only return the result of the last one\r\n        expr.expressions.forEach(function (expression) {\r\n            result = evaluate(expression, input, frame);\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Prepare a regex\r\n     * @param {Object} expr - expression containing regex\r\n     * @returns {Function} Higher order function representing prepared regex\r\n     */\r\n    function evaluateRegex(expr) {\r\n        expr.value.lastIndex = 0;\r\n        var closure = function(str) {\r\n            var re = expr.value;\r\n            //var result = str.match(expr.value);\r\n            var result;\r\n            var match = re.exec(str);\r\n            if(match !== null) {\r\n                result = {\r\n                    match: match[0],\r\n                    start: match.index,\r\n                    end: match.index + match[0].length,\r\n                    groups: []\r\n                };\r\n                if(match.length > 1) {\r\n                    for(var i = 1; i < match.length; i++) {\r\n                        result.groups.push(match[i]);\r\n                    }\r\n                }\r\n                result.next = function() {\r\n                    if(re.lastIndex >= str.length) {\r\n                        return undefined;\r\n                    } else {\r\n                        var next = closure(str);\r\n                        if(next && next.match === '' && re.lastIndex === expr.value.lastIndex) {\r\n                            // matches zero length string; this will never progress\r\n                            throw {\r\n                                code: \"D1004\",\r\n                                stack: (new Error()).stack,\r\n                                position: expr.position,\r\n                                value: expr.value.source\r\n                            };\r\n                        }\r\n                        return next;\r\n                    }\r\n                };\r\n            }\r\n\r\n            return result;\r\n        };\r\n        return closure;\r\n    }\r\n\r\n    /**\r\n     * Evaluate variable against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateVariable(expr, input, environment) {\r\n        // lookup the variable value in the environment\r\n        var result;\r\n        // if the variable name is empty string, then it refers to context value\r\n        if (expr.value === '') {\r\n            result = input;\r\n        } else {\r\n            result = environment.lookup(expr.value);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    var chain = evaluate(parser('function($f, $g) { function($x){ $g($f($x)) } }'), null, staticFrame);\r\n\r\n    /**\r\n     * Apply the function on the RHS using the sequence on the LHS as the first argument\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateApplyExpression(expr, input, environment) {\r\n        var result;\r\n\r\n        var arg1 = evaluate(expr.lhs, input, environment);\r\n\r\n        if(expr.rhs.type === 'function') {\r\n            // this is a function _invocation_; invoke it with arg1 at the start\r\n            result = evaluateFunction(expr.rhs, input, environment, {context: arg1});\r\n        } else {\r\n            var func = evaluate(expr.rhs, input, environment);\r\n\r\n            if(!isFunction(func)) {\r\n                throw {\r\n                    code: \"T2006\",\r\n                    stack: (new Error()).stack,\r\n                    position: expr.position,\r\n                    value: func\r\n                };\r\n            }\r\n\r\n            if(isFunction(arg1)) {\r\n                // this is function chaining (func1 ~> func2)\r\n                // ($f, $g) { ($x){ $g($f($x)) } }\r\n                result = apply(chain, [arg1, func], environment, null);\r\n            } else {\r\n                result = apply(func, [arg1], environment, null);\r\n            }\r\n\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {Object} arg - expression to test\r\n     * @returns {boolean} - true if it is a function (lambda or built-in)\r\n     */\r\n    function isFunction(arg) {\r\n        return ((arg && (arg._jsonata_function === true || arg._jsonata_lambda === true)) || typeof arg === 'function');\r\n    }\r\n\r\n    /**\r\n     * Tests whether arg is a lambda function\r\n     * @param {*} arg - the value to test\r\n     * @returns {boolean} - true if it is a lambda function\r\n     */\r\n    function isLambda(arg) {\r\n        return arg && arg._jsonata_lambda === true;\r\n    }\r\n\r\n    /**\r\n     * Evaluate function against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @param {Object} [applyto] - LHS of ~> operator\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateFunction(expr, input, environment, applyto) {\r\n        var result;\r\n        // evaluate the arguments\r\n        var evaluatedArgs = [];\r\n        expr.arguments.forEach(function (arg) {\r\n            evaluatedArgs.push(evaluate(arg, input, environment));\r\n        });\r\n        if(applyto) {\r\n            // insert the first argument from the LHS of ~>\r\n            evaluatedArgs.unshift(applyto.context);\r\n        }\r\n        // lambda function on lhs\r\n        // create the procedure\r\n        // can't assume that expr.procedure is a lambda type directly\r\n        // could be an expression that evaluates to a function (e.g. variable reference, parens expr etc.\r\n        // evaluate it generically first, then check that it is a function.  Throw error if not.\r\n        var proc = evaluate(expr.procedure, input, environment);\r\n\r\n        if (typeof proc === 'undefined' && expr.procedure.type === 'path' && environment.lookup(expr.procedure[0].value)) {\r\n            // help the user out here if they simply forgot the leading $\r\n            throw {\r\n                code: \"T1005\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.procedure[0].value\r\n            };\r\n        }\r\n        // apply the procedure\r\n        try {\r\n            var validatedArgs = evaluatedArgs;\r\n            if(proc) {\r\n                validatedArgs = validateArguments(proc.signature, evaluatedArgs, input);\r\n            }\r\n            result = apply(proc, validatedArgs, input);\r\n        } catch (err) {\r\n            // add the position field to the error\r\n            err.position = expr.position;\r\n            // and the function identifier\r\n            err.token = expr.procedure.type === 'path' ? expr.procedure[0].value : expr.procedure.value;\r\n            throw err;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Apply procedure or function\r\n     * @param {Object} proc - Procedure\r\n     * @param {Array} args - Arguments\r\n     * @param {Object} self - Self\r\n     * @returns {*} Result of procedure\r\n     */\r\n    function apply(proc, args, self) {\r\n        var result;\r\n        result = applyInner(proc, args, self);\r\n        while(isLambda(result) && result.thunk === true) {\r\n            // trampoline loop - this gets invoked as a result of tail-call optimization\r\n            // the function returned a tail-call thunk\r\n            // unpack it, evaluate its arguments, and apply the tail call\r\n            var next = evaluate(result.body.procedure, result.input, result.environment);\r\n            var evaluatedArgs = [];\r\n            result.body.arguments.forEach(function (arg) {\r\n                evaluatedArgs.push(evaluate(arg, result.input, result.environment));\r\n            });\r\n\r\n            result = applyInner(next, evaluatedArgs, self);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Apply procedure or function\r\n     * @param {Object} proc - Procedure\r\n     * @param {Array} args - Arguments\r\n     * @param {Object} self - Self\r\n     * @returns {*} Result of procedure\r\n     */\r\n    function applyInner(proc, args, self) {\r\n        var result;\r\n        if (isLambda(proc)) {\r\n            result = applyProcedure(proc, args);\r\n        } else if (proc && proc._jsonata_function === true) {\r\n            result = proc.implementation.apply(self, args);\r\n        } else if (typeof proc === 'function') {\r\n            result = proc.apply(self, args);\r\n        } else {\r\n            throw {\r\n                code: \"T1006\",\r\n                stack: (new Error()).stack\r\n            };\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate lambda against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {{lambda: boolean, input: *, environment: *, arguments: *, body: *}} Evaluated input data\r\n     */\r\n    function evaluateLambda(expr, input, environment) {\r\n        // make a function (closure)\r\n        var procedure = {\r\n            _jsonata_lambda: true,\r\n            input: input,\r\n            environment: environment,\r\n            arguments: expr.arguments,\r\n            signature: expr.signature,\r\n            body: expr.body\r\n        };\r\n        if(expr.thunk === true) {\r\n            procedure.thunk = true;\r\n        }\r\n        return procedure;\r\n    }\r\n\r\n    /**\r\n     * Evaluate partial application\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluatePartialApplication(expr, input, environment) {\r\n        // partially apply a function\r\n        var result;\r\n        // evaluate the arguments\r\n        var evaluatedArgs = [];\r\n        expr.arguments.forEach(function (arg) {\r\n            if (arg.type === 'operator' && arg.value === '?') {\r\n                evaluatedArgs.push(arg);\r\n            } else {\r\n                evaluatedArgs.push(evaluate(arg, input, environment));\r\n            }\r\n        });\r\n        // lookup the procedure\r\n        var proc = evaluate(expr.procedure, input, environment);\r\n        if (typeof proc === 'undefined' && expr.procedure.type === 'path' && environment.lookup(expr.procedure[0].value)) {\r\n            // help the user out here if they simply forgot the leading $\r\n            throw {\r\n                code: \"T1007\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.procedure[0].value\r\n            };\r\n        }\r\n        if (isLambda(proc)) {\r\n            result = partialApplyProcedure(proc, evaluatedArgs);\r\n        } else if (proc && proc._jsonata_function === true) {\r\n            result = partialApplyNativeFunction(proc.implementation, evaluatedArgs);\r\n        } else if (typeof proc === 'function') {\r\n            result = partialApplyNativeFunction(proc, evaluatedArgs);\r\n        } else {\r\n            throw {\r\n                code: \"T1008\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.procedure.type === 'path' ? expr.procedure[0].value : expr.procedure.value\r\n            };\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Validate the arguments against the signature validator (if it exists)\r\n     * @param {Function} signature - validator function\r\n     * @param {Array} args - function arguments\r\n     * @param {*} context - context value\r\n     * @returns {Array} - validated arguments\r\n     */\r\n    function validateArguments(signature, args, context) {\r\n        if(typeof signature === 'undefined') {\r\n            // nothing to validate\r\n            return args;\r\n        }\r\n        var validatedArgs = signature.validate(args, context);\r\n        return validatedArgs;\r\n    }\r\n\r\n    /**\r\n     * Apply procedure\r\n     * @param {Object} proc - Procedure\r\n     * @param {Array} args - Arguments\r\n     * @returns {*} Result of procedure\r\n     */\r\n    function applyProcedure(proc, args) {\r\n        var result;\r\n        var env = createFrame(proc.environment);\r\n        proc.arguments.forEach(function (param, index) {\r\n            env.bind(param.value, args[index]);\r\n        });\r\n        if (typeof proc.body === 'function') {\r\n            // this is a lambda that wraps a native function - generated by partially evaluating a native\r\n            result = applyNativeFunction(proc.body, env);\r\n        } else {\r\n            result = evaluate(proc.body, proc.input, env);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Partially apply procedure\r\n     * @param {Object} proc - Procedure\r\n     * @param {Array} args - Arguments\r\n     * @returns {{lambda: boolean, input: *, environment: {bind, lookup}, arguments: Array, body: *}} Result of partially applied procedure\r\n     */\r\n    function partialApplyProcedure(proc, args) {\r\n        // create a closure, bind the supplied parameters and return a function that takes the remaining (?) parameters\r\n        var env = createFrame(proc.environment);\r\n        var unboundArgs = [];\r\n        proc.arguments.forEach(function (param, index) {\r\n            var arg = args[index];\r\n            if (arg && arg.type === 'operator' && arg.value === '?') {\r\n                unboundArgs.push(param);\r\n            } else {\r\n                env.bind(param.value, arg);\r\n            }\r\n        });\r\n        var procedure = {\r\n            _jsonata_lambda: true,\r\n            input: proc.input,\r\n            environment: env,\r\n            arguments: unboundArgs,\r\n            body: proc.body\r\n        };\r\n        return procedure;\r\n    }\r\n\r\n    /**\r\n     * Partially apply native function\r\n     * @param {Function} native - Native function\r\n     * @param {Array} args - Arguments\r\n     * @returns {{lambda: boolean, input: *, environment: {bind, lookup}, arguments: Array, body: *}} Result of partially applying native function\r\n     */\r\n    function partialApplyNativeFunction(native, args) {\r\n        // create a lambda function that wraps and invokes the native function\r\n        // get the list of declared arguments from the native function\r\n        // this has to be picked out from the toString() value\r\n        var sigArgs = getNativeFunctionArguments(native);\r\n        sigArgs = sigArgs.map(function (sigArg) {\r\n            return '$' + sigArg.trim();\r\n        });\r\n        var body = 'function(' + sigArgs.join(', ') + '){ _ }';\r\n\r\n        var bodyAST = parser(body);\r\n        bodyAST.body = native;\r\n\r\n        var partial = partialApplyProcedure(bodyAST, args);\r\n        return partial;\r\n    }\r\n\r\n    /**\r\n     * Apply native function\r\n     * @param {Object} proc - Procedure\r\n     * @param {Object} env - Environment\r\n     * @returns {*} Result of applying native function\r\n     */\r\n    function applyNativeFunction(proc, env) {\r\n        var sigArgs = getNativeFunctionArguments(proc);\r\n        // generate the array of arguments for invoking the function - look them up in the environment\r\n        var args = sigArgs.map(function (sigArg) {\r\n            return env.lookup(sigArg.trim());\r\n        });\r\n\r\n        var result = proc.apply(null, args);\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Get native function arguments\r\n     * @param {Function} func - Function\r\n     * @returns {*|Array} Native function arguments\r\n     */\r\n    function getNativeFunctionArguments(func) {\r\n        var signature = func.toString();\r\n        var sigParens = /\\(([^\\)]*)\\)/.exec(signature)[1]; // the contents of the parens\r\n        var sigArgs = sigParens.split(',');\r\n        return sigArgs;\r\n    }\r\n\r\n    /**\r\n     * Creates a function definition\r\n     * @param {Function} func - function implementation in Javascript\r\n     * @param {string} signature - JSONata function signature definition\r\n     * @returns {{implementation: *, signature: *}} function definition\r\n     */\r\n    function defineFunction(func, signature) {\r\n        var definition = {\r\n            _jsonata_function: true,\r\n            implementation: func\r\n        };\r\n        if(typeof signature !== 'undefined') {\r\n            definition.signature = parseSignature(signature);\r\n        }\r\n        return definition;\r\n    }\r\n\r\n    /**\r\n     * Sum function\r\n     * @param {Object} args - Arguments\r\n     * @returns {number} Total value of arguments\r\n     */\r\n    function functionSum(args) {\r\n        // undefined inputs always return undefined\r\n        if(typeof args === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        var total = 0;\r\n        args.forEach(function(num){total += num;});\r\n        return total;\r\n    }\r\n\r\n    /**\r\n     * Count function\r\n     * @param {Object} args - Arguments\r\n     * @returns {number} Number of elements in the array\r\n     */\r\n    function functionCount(args) {\r\n        // undefined inputs always return undefined\r\n        if(typeof args === 'undefined') {\r\n            return 0;\r\n        }\r\n\r\n        return args.length;\r\n    }\r\n\r\n    /**\r\n     * Max function\r\n     * @param {Object} args - Arguments\r\n     * @returns {number} Max element in the array\r\n     */\r\n    function functionMax(args) {\r\n        // undefined inputs always return undefined\r\n        if(typeof args === 'undefined' || args.length === 0) {\r\n            return undefined;\r\n        }\r\n\r\n        return Math.max.apply(Math, args);\r\n    }\r\n\r\n    /**\r\n     * Min function\r\n     * @param {Object} args - Arguments\r\n     * @returns {number} Min element in the array\r\n     */\r\n    function functionMin(args) {\r\n        // undefined inputs always return undefined\r\n        if(typeof args === 'undefined' || args.length === 0) {\r\n            return undefined;\r\n        }\r\n\r\n        return Math.min.apply(Math, args);\r\n    }\r\n\r\n    /**\r\n     * Average function\r\n     * @param {Object} args - Arguments\r\n     * @returns {number} Average element in the array\r\n     */\r\n    function functionAverage(args) {\r\n        // undefined inputs always return undefined\r\n        if(typeof args === 'undefined' || args.length === 0) {\r\n            return undefined;\r\n        }\r\n\r\n        var total = 0;\r\n        args.forEach(function(num){total += num;});\r\n        return total/args.length;\r\n    }\r\n\r\n    /**\r\n     * Stingify arguments\r\n     * @param {Object} arg - Arguments\r\n     * @returns {String} String from arguments\r\n     */\r\n    function functionString(arg) {\r\n        // undefined inputs always return undefined\r\n        if(typeof arg === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        var str;\r\n\r\n        if (typeof arg === 'string') {\r\n            // already a string\r\n            str = arg;\r\n        } else if(isFunction(arg)) {\r\n            // functions (built-in and lambda convert to empty string\r\n            str = '';\r\n        } else if (typeof arg === 'number' && !isFinite(arg)) {\r\n            throw {\r\n                code: \"D3001\",\r\n                value: arg,\r\n                stack: (new Error()).stack\r\n            };\r\n        } else\r\n            str = JSON.stringify(arg, function (key, val) {\r\n                return (typeof val !== 'undefined' && val !== null && val.toPrecision && isNumeric(val)) ? Number(val.toPrecision(13)) :\r\n                  (val && isFunction(val)) ? '' : val;\r\n            });\r\n        return str;\r\n    }\r\n\r\n    /**\r\n     * Create substring based on character number and length\r\n     * @param {String} str - String to evaluate\r\n     * @param {Integer} start - Character number to start substring\r\n     * @param {Integer} [length] - Number of characters in substring\r\n     * @returns {string|*} Substring\r\n     */\r\n    function functionSubstring(str, start, length) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        return str.substr(start, length);\r\n    }\r\n\r\n    /**\r\n     * Create substring up until a character\r\n     * @param {String} str - String to evaluate\r\n     * @param {String} chars - Character to define substring boundary\r\n     * @returns {*} Substring\r\n     */\r\n    function functionSubstringBefore(str, chars) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        var pos = str.indexOf(chars);\r\n        if (pos > -1) {\r\n            return str.substr(0, pos);\r\n        } else {\r\n            return str;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create substring after a character\r\n     * @param {String} str - String to evaluate\r\n     * @param {String} chars - Character to define substring boundary\r\n     * @returns {*} Substring\r\n     */\r\n    function functionSubstringAfter(str, chars) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        var pos = str.indexOf(chars);\r\n        if (pos > -1) {\r\n            return str.substr(pos + chars.length);\r\n        } else {\r\n            return str;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Lowercase a string\r\n     * @param {String} str - String to evaluate\r\n     * @returns {string} Lowercase string\r\n     */\r\n    function functionLowercase(str) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        return str.toLowerCase();\r\n    }\r\n\r\n    /**\r\n     * Uppercase a string\r\n     * @param {String} str - String to evaluate\r\n     * @returns {string} Uppercase string\r\n     */\r\n    function functionUppercase(str) {\r\n         // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        return str.toUpperCase();\r\n    }\r\n\r\n    /**\r\n     * length of a string\r\n     * @param {String} str - string\r\n     * @returns {Number} The number of characters in the string\r\n     */\r\n    function functionLength(str) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        return str.length;\r\n    }\r\n\r\n    /**\r\n     * Normalize and trim whitespace within a string\r\n     * @param {string} str - string to be trimmed\r\n     * @returns {string} - trimmed string\r\n     */\r\n    function functionTrim(str) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        // normalize whitespace\r\n        var result = str.replace(/[ \\t\\n\\r]+/gm, ' ');\r\n        if(result.charAt(0) === ' ') {\r\n            // strip leading space\r\n            result = result.substring(1);\r\n        }\r\n        if(result.charAt(result.length - 1) === ' ') {\r\n            // strip trailing space\r\n            result = result.substring(0, result.length - 1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Tests if the str contains the token\r\n     * @param {String} str - string to test\r\n     * @param {String} token - substring or regex to find\r\n     * @returns {Boolean} - true if str contains token\r\n     */\r\n    function functionContains(str, token) {\r\n         // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        var result;\r\n\r\n        if(typeof token === 'string') {\r\n            result = (str.indexOf(token) !== -1);\r\n        } else {\r\n            var matches = token(str);\r\n            result = (typeof matches !== 'undefined');\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Match a string with a regex returning an array of object containing details of each match\r\n     * @param {String} str - string\r\n     * @param {String} regex - the regex applied to the string\r\n     * @param {Integer} [limit] - max number of matches to return\r\n     * @returns {Array} The array of match objects\r\n     */\r\n    function functionMatch(str, regex, limit) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        // limit, if specified, must be a non-negative number\r\n        if(limit < 0) {\r\n            throw {\r\n                stack: (new Error()).stack,\r\n                value: limit,\r\n                code: 'D3040',\r\n                index: 3\r\n            };\r\n        }\r\n\r\n        var result = [];\r\n\r\n        if(typeof limit === 'undefined' || limit > 0) {\r\n            var count = 0;\r\n            var matches = regex(str);\r\n            if (typeof matches !== 'undefined') {\r\n                while (typeof matches !== 'undefined' && (typeof limit === 'undefined' || count < limit)) {\r\n                    result.push({\r\n                        match: matches.match,\r\n                        index: matches.start,\r\n                        groups: matches.groups\r\n                    });\r\n                    matches = matches.next();\r\n                    count++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Match a string with a regex returning an array of object containing details of each match\r\n     * @param {String} str - string\r\n     * @param {String} pattern - the substring/regex applied to the string\r\n     * @param {String} replacement - text to replace the matched substrings\r\n     * @param {Integer} [limit] - max number of matches to return\r\n     * @returns {Array} The array of match objects\r\n     */\r\n    function functionReplace(str, pattern, replacement, limit) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        // pattern cannot be an empty string\r\n        if(pattern === '') {\r\n            throw {\r\n                code: \"D3010\",\r\n                stack: (new Error()).stack,\r\n                value: pattern,\r\n                index: 2\r\n            };\r\n        }\r\n\r\n        // limit, if specified, must be a non-negative number\r\n        if(limit < 0) {\r\n            throw {\r\n                code: \"D3011\",\r\n                stack: (new Error()).stack,\r\n                value: limit,\r\n                index: 4\r\n            };\r\n        }\r\n\r\n        var replacer;\r\n        if(typeof replacement === 'string') {\r\n            replacer = function (regexMatch) {\r\n                var substitute = '';\r\n                // scan forward, copying the replacement text into the substitute string\r\n                // and replace any occurrence of $n with the values matched by the regex\r\n                var position = 0;\r\n                var index = replacement.indexOf('$', position);\r\n                while (index !== -1 && position < replacement.length) {\r\n                    substitute += replacement.substring(position, index);\r\n                    position = index + 1;\r\n                    var dollarVal = replacement.charAt(position);\r\n                    if (dollarVal === '$') {\r\n                        // literal $\r\n                        substitute += '$';\r\n                        position++;\r\n                    } else if (dollarVal === '0') {\r\n                        substitute += regexMatch.match;\r\n                        position++;\r\n                    } else {\r\n                        var maxDigits;\r\n                        if(regexMatch.groups.length === 0) {\r\n                            // no sub-matches; any $ followed by a digit will be replaced by an empty string\r\n                            maxDigits = 1;\r\n                        } else {\r\n                            // max number of digits to parse following the $\r\n                            maxDigits = Math.floor(Math.log(regexMatch.groups.length) * Math.LOG10E) + 1;\r\n                        }\r\n                        index = parseInt(replacement.substring(position, position + maxDigits), 10);\r\n                        if(maxDigits > 1 && index > regexMatch.groups.length) {\r\n                            index = parseInt(replacement.substring(position, position + maxDigits - 1), 10);\r\n                        }\r\n                        if (!isNaN(index)) {\r\n                            if(regexMatch.groups.length > 0 ) {\r\n                                var submatch = regexMatch.groups[index - 1];\r\n                                if (typeof submatch !== 'undefined') {\r\n                                    substitute += submatch;\r\n                                }\r\n                            }\r\n                            position += index.toString().length;\r\n                        } else {\r\n                            // not a capture group, treat the $ as literal\r\n                            substitute += '$';\r\n                        }\r\n                    }\r\n                    index = replacement.indexOf('$', position);\r\n                }\r\n                substitute += replacement.substring(position);\r\n                return substitute;\r\n            };\r\n        } else {\r\n            replacer = replacement;\r\n        }\r\n\r\n        var result = '';\r\n        var position = 0;\r\n\r\n        if(typeof limit === 'undefined' || limit > 0) {\r\n            var count = 0;\r\n            if(typeof pattern === 'string') {\r\n                var index = str.indexOf(pattern, position);\r\n                while(index !== -1 && (typeof limit === 'undefined' || count < limit)) {\r\n                    result += str.substring(position, index);\r\n                    result += replacement;\r\n                    position = index + pattern.length;\r\n                    count++;\r\n                    index = str.indexOf(pattern, position);\r\n                }\r\n                result += str.substring(position);\r\n            } else {\r\n                var matches = pattern(str);\r\n                if (typeof matches !== 'undefined') {\r\n                    while (typeof matches !== 'undefined' && (typeof limit === 'undefined' || count < limit)) {\r\n                        result += str.substring(position, matches.start);\r\n                        var replacedWith = apply(replacer, [matches], null);\r\n                        // check replacedWith is a string\r\n                        if(typeof replacedWith === 'string') {\r\n                            result += replacedWith;\r\n                        } else {\r\n                            // not a string - throw error\r\n                            throw {\r\n                                code: \"D3012\",\r\n                                stack: (new Error()).stack,\r\n                                value: replacedWith\r\n                            };\r\n                        }\r\n                        position = matches.start + matches.match.length;\r\n                        count++;\r\n                        matches = matches.next();\r\n                    }\r\n                    result += str.substring(position);\r\n                } else {\r\n                    result = str;\r\n                }\r\n            }\r\n        } else {\r\n            result = str;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n\r\n    /**\r\n     * Split a string into an array of substrings\r\n     * @param {String} str - string\r\n     * @param {String} separator - the token or regex that splits the string\r\n     * @param {Integer} [limit] - max number of substrings\r\n     * @returns {Array} The array of string\r\n     */\r\n    function functionSplit(str, separator, limit) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        // limit, if specified, must be a non-negative number\r\n        if(limit < 0) {\r\n            throw {\r\n                code: \"D3020\",\r\n                stack: (new Error()).stack,\r\n                value: limit,\r\n                index: 3\r\n            };\r\n        }\r\n\r\n        var result = [];\r\n\r\n        if(typeof limit === 'undefined' || limit > 0) {\r\n            if (typeof separator === 'string') {\r\n                result = str.split(separator, limit);\r\n            } else {\r\n                var count = 0;\r\n                var matches = separator(str);\r\n                if (typeof matches !== 'undefined') {\r\n                    var start = 0;\r\n                    while (typeof matches !== 'undefined' && (typeof limit === 'undefined' || count < limit)) {\r\n                        result.push(str.substring(start, matches.start));\r\n                        start = matches.end;\r\n                        matches = matches.next();\r\n                        count++;\r\n                    }\r\n                    if(typeof limit === 'undefined' || count < limit) {\r\n                        result.push(str.substring(start));\r\n                    }\r\n                } else {\r\n                    result = [str];\r\n                }\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Join an array of strings\r\n     * @param {Array} strs - array of string\r\n     * @param {String} [separator] - the token that splits the string\r\n     * @returns {String} The concatenated string\r\n     */\r\n    function functionJoin(strs, separator) {\r\n        // undefined inputs always return undefined\r\n        if(typeof strs === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        // if separator is not specified, default to empty string\r\n        if(typeof separator === 'undefined') {\r\n            separator = \"\";\r\n        }\r\n\r\n        return strs.join(separator);\r\n    }\r\n\r\n    /**\r\n     * Cast argument to number\r\n     * @param {Object} arg - Argument\r\n     * @returns {Number} numeric value of argument\r\n     */\r\n    function functionNumber(arg) {\r\n        var result;\r\n\r\n        // undefined inputs always return undefined\r\n        if(typeof arg === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        if (typeof arg === 'number') {\r\n            // already a number\r\n            result = arg;\r\n        } else if(typeof arg === 'string' && /^-?(0|([1-9][0-9]*))(\\.[0-9]+)?([Ee][-+]?[0-9]+)?$/.test(arg) && !isNaN(parseFloat(arg)) && isFinite(arg)) {\r\n            result = parseFloat(arg);\r\n        } else {\r\n            throw {\r\n                code: \"D3030\",\r\n                value: arg,\r\n                stack: (new Error()).stack,\r\n                index: 1\r\n            };\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n    /**\r\n     * Evaluate an input and return a boolean\r\n     * @param {*} arg - Arguments\r\n     * @returns {boolean} Boolean\r\n     */\r\n    function functionBoolean(arg) {\r\n        // cast arg to its effective boolean value\r\n        // boolean: unchanged\r\n        // string: zero-length -> false; otherwise -> true\r\n        // number: 0 -> false; otherwise -> true\r\n        // null -> false\r\n        // array: empty -> false; length > 1 -> true\r\n        // object: empty -> false; non-empty -> true\r\n        // function -> false\r\n\r\n        // undefined inputs always return undefined\r\n        if(typeof arg === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        var result = false;\r\n        if (Array.isArray(arg)) {\r\n            if (arg.length === 1) {\r\n                result = functionBoolean(arg[0]);\r\n            } else if (arg.length > 1) {\r\n                var trues = arg.filter(function(val) {return functionBoolean(val);});\r\n                result = trues.length > 0;\r\n            }\r\n        } else if (typeof arg === 'string') {\r\n            if (arg.length > 0) {\r\n                result = true;\r\n            }\r\n        } else if (isNumeric(arg)) {\r\n            if (arg !== 0) {\r\n                result = true;\r\n            }\r\n        } else if (arg !== null && typeof arg === 'object') {\r\n            if (Object.keys(arg).length > 0) {\r\n                // make sure it's not a lambda function\r\n                if (!(isLambda(arg) || arg._jsonata_function)) {\r\n                    result = true;\r\n                }\r\n            }\r\n        } else if (typeof arg === 'boolean' && arg === true) {\r\n            result = true;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * returns the Boolean NOT of the arg\r\n     * @param {*} arg - argument\r\n     * @returns {boolean} - NOT arg\r\n     */\r\n    function functionNot(arg) {\r\n        return !functionBoolean(arg);\r\n    }\r\n\r\n    /**\r\n     * Create a map from an array of arguments\r\n     * @param {Function} func - function to apply\r\n     * @param {Array} [arr] - array to map over\r\n     * @returns {Array} Map array\r\n     */\r\n    function functionMap(func, arr) {\r\n        // this can take a variable number of arguments - each one should be mapped to the equivalent arg of func\r\n        // assert that func is a function\r\n        var varargs = arguments;\r\n        var result = [];\r\n\r\n        // each subsequent arg must be an array - coerce if not\r\n        var args = arr;\r\n        args = [];\r\n        for (var ii = 1; ii < varargs.length; ii++) {\r\n            args.push(varargs[ii]);\r\n        }\r\n        // do the map - iterate over the arrays, and invoke func\r\n        for (var i = 0; i < args[0].length; i++) {\r\n            var func_args = [];\r\n            var length = typeof func === 'function' ? func.length :\r\n              func._jsonata_function === true ? func.implementation.length : func.arguments.length;\r\n            for (var j = 0; j < length; j++) {\r\n                func_args.push(args[j][i]);\r\n            }\r\n            // invoke func\r\n            result.push(apply(func, func_args, null));\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Fold left function\r\n     * @param {Function} func - Function\r\n     * @param {Array} sequence - Sequence\r\n     * @param {Object} init - Initial value\r\n     * @returns {*} Result\r\n     */\r\n    function functionFoldLeft(func, sequence, init) {\r\n        var result;\r\n\r\n        if (!(func.length === 2 || (func._jsonata_function === true && func.implementation.length === 2) || func.arguments.length === 2)) {\r\n            throw {\r\n                stack: (new Error()).stack,\r\n                code: \"D3050\",\r\n                index: 1\r\n            };\r\n        }\r\n\r\n        var index;\r\n        if (typeof init === 'undefined' && sequence.length > 0) {\r\n            result = sequence[0];\r\n            index = 1;\r\n        } else {\r\n            result = init;\r\n            index = 0;\r\n        }\r\n\r\n        while (index < sequence.length) {\r\n            result = apply(func, [result, sequence[index]], null);\r\n            index++;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Return keys for an object\r\n     * @param {Object} arg - Object\r\n     * @returns {Array} Array of keys\r\n     */\r\n    function functionKeys(arg) {\r\n        var result = [];\r\n\r\n        if(Array.isArray(arg)) {\r\n            // merge the keys of all of the items in the array\r\n            var merge = {};\r\n            arg.forEach(function(item) {\r\n                var keys = functionKeys(item);\r\n                if(Array.isArray(keys)) {\r\n                    keys.forEach(function(key) {\r\n                        merge[key] = true;\r\n                    });\r\n                }\r\n            });\r\n            result = functionKeys(merge);\r\n        } else if(arg !== null && typeof arg === 'object' && !(isLambda(arg))) {\r\n            result = Object.keys(arg);\r\n            if(result.length === 0) {\r\n                result = undefined;\r\n            }\r\n        } else {\r\n            result = undefined;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Return value from an object for a given key\r\n     * @param {Object} object - Object\r\n     * @param {String} key - Key in object\r\n     * @returns {*} Value of key in object\r\n     */\r\n    function functionLookup(object, key) {\r\n        var result = evaluateName({value: key}, object);\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Append second argument to first\r\n     * @param {Array|Object} arg1 - First argument\r\n     * @param {Array|Object} arg2 - Second argument\r\n     * @returns {*} Appended arguments\r\n     */\r\n    function functionAppend(arg1, arg2) {\r\n        // disregard undefined args\r\n        if (typeof arg1 === 'undefined') {\r\n            return arg2;\r\n        }\r\n        if (typeof arg2 === 'undefined') {\r\n            return arg1;\r\n        }\r\n        // if either argument is not an array, make it so\r\n        if (!Array.isArray(arg1)) {\r\n            arg1 = [arg1];\r\n        }\r\n        if (!Array.isArray(arg2)) {\r\n            arg2 = [arg2];\r\n        }\r\n        Array.prototype.push.apply(arg1, arg2);\r\n        return arg1;\r\n    }\r\n\r\n    /**\r\n     * Determines if the argument is undefined\r\n     * @param {*} arg - argument\r\n     * @returns {boolean} False if argument undefined, otherwise true\r\n     */\r\n    function functionExists(arg){\r\n        if (typeof arg === 'undefined') {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Splits an object into an array of object with one property each\r\n     * @param {*} arg - the object to split\r\n     * @returns {*} - the array\r\n     */\r\n    function functionSpread(arg) {\r\n        var result = [];\r\n\r\n        if(Array.isArray(arg)) {\r\n            // spread all of the items in the array\r\n            arg.forEach(function(item) {\r\n                result = functionAppend(result, functionSpread(item));\r\n            });\r\n        } else if(arg !== null && typeof arg === 'object' && !isLambda(arg)) {\r\n            for(var key in arg) {\r\n                var obj = {};\r\n                obj[key] = arg[key];\r\n                result.push(obj);\r\n            }\r\n        } else {\r\n            result = arg;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Create frame\r\n     * @param {Object} enclosingEnvironment - Enclosing environment\r\n     * @returns {{bind: bind, lookup: lookup}} Created frame\r\n     */\r\n    function createFrame(enclosingEnvironment) {\r\n        var bindings = {};\r\n        return {\r\n            bind: function (name, value) {\r\n                bindings[name] = value;\r\n            },\r\n            lookup: function (name) {\r\n                var value;\r\n                if(bindings.hasOwnProperty(name)) {\r\n                    value = bindings[name];\r\n                } else if (enclosingEnvironment) {\r\n                    value = enclosingEnvironment.lookup(name);\r\n                }\r\n                return value;\r\n            }\r\n        };\r\n    }\r\n\r\n    // Function registration\r\n    staticFrame.bind('sum', defineFunction(functionSum, '<a<n>:n>'));\r\n    staticFrame.bind('count', defineFunction(functionCount, '<a:n>'));\r\n    staticFrame.bind('max', defineFunction(functionMax, '<a<n>:n>'));\r\n    staticFrame.bind('min', defineFunction(functionMin, '<a<n>:n>'));\r\n    staticFrame.bind('average', defineFunction(functionAverage, '<a<n>:n>'));\r\n    staticFrame.bind('string', defineFunction(functionString, '<x-:s>'));\r\n    staticFrame.bind('substring', defineFunction(functionSubstring, '<s-nn?:s>'));\r\n    staticFrame.bind('substringBefore', defineFunction(functionSubstringBefore, '<s-s:s>'));\r\n    staticFrame.bind('substringAfter', defineFunction(functionSubstringAfter, '<s-s:s>'));\r\n    staticFrame.bind('lowercase', defineFunction(functionLowercase, '<s-:s>'));\r\n    staticFrame.bind('uppercase', defineFunction(functionUppercase, '<s-:s>'));\r\n    staticFrame.bind('length', defineFunction(functionLength, '<s-:n>'));\r\n    staticFrame.bind('trim', defineFunction(functionTrim, '<s-:s>'));\r\n    staticFrame.bind('match', defineFunction(functionMatch, '<s-f<s:o>n?:a<o>>'));\r\n    staticFrame.bind('contains', defineFunction(functionContains, '<s-(sf):b>')); // TODO <s-(sf<s:o>):b>\r\n    staticFrame.bind('replace', defineFunction(functionReplace, '<s-(sf)(sf)n?:s>')); // TODO <s-(sf<s:o>)(sf<o:s>)n?:s>\r\n    staticFrame.bind('split', defineFunction(functionSplit, '<s-(sf)n?:a<s>>')); // TODO <s-(sf<s:o>)n?:a<s>>\r\n    staticFrame.bind('join', defineFunction(functionJoin, '<a<s>s?:s>'));\r\n    staticFrame.bind('number', defineFunction(functionNumber, '<(ns)-:n>'));\r\n    staticFrame.bind('boolean', defineFunction(functionBoolean, '<x-:b>'));\r\n    staticFrame.bind('not', defineFunction(functionNot, '<x-:b>'));\r\n    staticFrame.bind('map', defineFunction(functionMap, '<fa+>'));\r\n    staticFrame.bind('reduce', defineFunction(functionFoldLeft, '<faj?:j>')); // TODO <f<jj:j>a<j>j?:j>\r\n    staticFrame.bind('keys', defineFunction(functionKeys, '<x-:a<s>>'));\r\n    staticFrame.bind('lookup', defineFunction(functionLookup, '<x-s:x>'));\r\n    staticFrame.bind('append', defineFunction(functionAppend, '<xx:a>'));\r\n    staticFrame.bind('exists', defineFunction(functionExists, '<x:b>'));\r\n    staticFrame.bind('spread', defineFunction(functionSpread, '<x-:a<o>>'));\r\n\r\n    /**\r\n     * Error codes\r\n     *\r\n     */\r\n    var errorCodes = {\r\n        \"S0101\": \"No terminating quote found in string literal\",\r\n        \"S0102\": \"Number out of range: {{token}}\",\r\n        \"S0103\": \"unsupported escape sequence: \\\\{{token}}\",\r\n        \"S0104\": \"The escape sequence \\\\u must be followed by 4 hex digits\",\r\n        \"S0203\": \"Syntax error: expected '{{value}}' before end of expression\",\r\n        \"S0202\": \"Syntax error: expected '{{value}}', got '{{token}}'\",\r\n        \"S0204\": \"Unknown operator: {{token}}\",\r\n        \"S0205\": \"Unexpected token: {{token}}\",\r\n        \"S0208\": \"Parameter {{value}} of function definition must be a variable name (start with $)\",\r\n        \"S0209\": \"A predicate cannot follow a grouping expression in a step.\",\r\n        \"S0210\": \"Each step can only have one grouping expression.\",\r\n        \"S0201\": \"Syntax error: {{token}}\",\r\n        \"S0206\": \"Unknown expression type: {{token}}\",\r\n        \"S0207\": \"Syntax error: unexpected end of expression\",\r\n        \"S0301\": \"Empty regular expressions are not allowed\",\r\n        \"S0302\": \"No terminating / in regular expression\",\r\n        \"S0402\": \"Choice groups containing parameterized types not supported\",\r\n        \"S0401\": \"Type parameters can only be applied to functions and arrays\",\r\n        \"T0410\": \"Argument {{index}} of function '{{token}}' does not match function signature\",\r\n        \"T0411\": \"Context value is not a compatible type with argument {{index}} of function '{{token}}'\",\r\n        \"T0412\": \"Argument {{index}} of function '{{token}}' must be an array of {{type}}\",\r\n        \"D1001\": \"Number out of range: {{value}}\",\r\n        \"D1002\": \"Cannot negate a non-numeric value: {{value}}\",\r\n        \"T2001\": \"LHS of {{token}} operator must evaluate to a number\",\r\n        \"T2002\": \"RHS of {{token}} operator must evaluate to a number\",\r\n        \"T1003\": \"Key in object structure must evaluate to a string. Got: {{value}}\",\r\n        \"T2003\": \"LHS of range operator (..) must evaluate to an integer\",\r\n        \"T2004\": \"RHS of range operator (..) must evaluate to an integer\",\r\n        \"D2005\": \"Left hand side of := must be a variable name (start with $)\",\r\n        \"D1004\": \"Regular expression matches zero length string\",\r\n        \"T2006\": \"RHS of function application operator ~> is not a function\",\r\n        \"T1005\": \"Attempted to invoke a non-function. Did you mean '${{token}}'?\",\r\n        \"T1006\": \"Attempted to invoke a non-function\",\r\n        \"T1007\": \"Attempted to partially apply a non-function. Did you mean '${{token}}'?\",\r\n        \"T1008\": \"Attempted to partially apply a non-function\",\r\n        \"D3001\": \"Attempting to invoke string function on Infinity or NaN\",\r\n        \"D3010\": \"Second argument of replace function cannot be an empty string\",\r\n        \"D3011\": \"Forth argument of replace function must evaluate to a positive number\",\r\n        \"D3012\": \"Attempted to replace a matched string with a non-string value\",\r\n        \"D3020\": \"Third argument of split function must evaluate to a positive number\",\r\n        \"D3030\": \"Unable to cast value to a number: {{value}}\"\r\n    };\r\n\r\n    /**\r\n     * lookup a message template from the catalog and substitute the inserts\r\n     * @param {string} err - error code to lookup\r\n     * @returns {string} message\r\n     */\r\n    function lookupMessage(err) {\r\n        var message = 'Unknown error';\r\n        if(typeof err.message !== 'undefined') {\r\n            message = err.message;\r\n        }\r\n        var template = errorCodes[err.code];\r\n        if(typeof template !== 'undefined') {\r\n            // if there are any handlebars, replace them with the field references\r\n            message = template.replace(/\\{\\{([^}]+)}}/g, function() {\r\n                return err[arguments[1]];\r\n            });\r\n        }\r\n        return message;\r\n    }\r\n\r\n    /**\r\n     * JSONata\r\n     * @param {Object} expr - JSONata expression\r\n     * @returns {{evaluate: evaluate, assign: assign}} Evaluated expression\r\n     */\r\n    function jsonata(expr) {\r\n        var ast;\r\n        try {\r\n            ast = parser(expr);\r\n        } catch(err) {\r\n            // insert error message into structure\r\n            err.message = lookupMessage(err);\r\n            throw err;\r\n        }\r\n        var environment = createFrame(staticFrame);\r\n        return {\r\n            evaluate: function (input, bindings) {\r\n                if (typeof bindings !== 'undefined') {\r\n                    var exec_env;\r\n                    // the variable bindings have been passed in - create a frame to hold these\r\n                    exec_env = createFrame(environment);\r\n                    for (var v in bindings) {\r\n                        exec_env.bind(v, bindings[v]);\r\n                    }\r\n                } else {\r\n                    exec_env = environment;\r\n                }\r\n                // put the input document into the environment as the root object\r\n                exec_env.bind('$', input);\r\n                var result;\r\n                try {\r\n                    result = evaluate(ast, input, exec_env);\r\n                } catch(err) {\r\n                    // insert error message into structure\r\n                    err.message = lookupMessage(err);\r\n                    throw err;\r\n                }\r\n                return result;\r\n            },\r\n            assign: function (name, value) {\r\n                environment.bind(name, value);\r\n            },\r\n            registerFunction: function(name, implementation, signature) {\r\n                var func = defineFunction(implementation, signature);\r\n                environment.bind(name, func);\r\n            }\r\n        };\r\n    }\r\n\r\n    jsonata.parser = parser;\r\n\r\n    return jsonata;\r\n\r\n})();\r\n\r\n// node.js only - export the jsonata and parser functions\r\n// istanbul ignore else\r\nif(typeof module !== 'undefined') {\r\n    module.exports = jsonata;\r\n}","// CodeMirror, copyright (c) by Marijn Haverbeke and others\r\n// Distributed under an MIT license: http://codemirror.net/LICENSE\r\n\r\n// This is CodeMirror (http://codemirror.net), a code editor\r\n// implemented in JavaScript on top of the browser's DOM.\r\n//\r\n// You can find some technical background for some of the code below\r\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\r\n\r\n(function (global, factory) {\r\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n  typeof define === 'function' && define.amd ? define(factory) :\r\n  (global.CodeMirror = factory());\r\n}(this, (function () { 'use strict';\r\n\r\n// Kludges for bugs and behavior differences that can't be feature\r\n// detected are enabled based on userAgent etc sniffing.\r\nvar userAgent = navigator.userAgent\r\nvar platform = navigator.platform\r\n\r\nvar gecko = /gecko\\/\\d/i.test(userAgent)\r\nvar ie_upto10 = /MSIE \\d/.test(userAgent)\r\nvar ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent)\r\nvar edge = /Edge\\/(\\d+)/.exec(userAgent)\r\nvar ie = ie_upto10 || ie_11up || edge\r\nvar ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1])\r\nvar webkit = !edge && /WebKit\\//.test(userAgent)\r\nvar qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent)\r\nvar chrome = !edge && /Chrome\\//.test(userAgent)\r\nvar presto = /Opera\\//.test(userAgent)\r\nvar safari = /Apple Computer/.test(navigator.vendor)\r\nvar mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent)\r\nvar phantom = /PhantomJS/.test(userAgent)\r\n\r\nvar ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent)\r\n// This is woefully incomplete. Suggestions for alternative methods welcome.\r\nvar mobile = ios || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent)\r\nvar mac = ios || /Mac/.test(platform)\r\nvar chromeOS = /\\bCrOS\\b/.test(userAgent)\r\nvar windows = /win/i.test(platform)\r\n\r\nvar presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/)\r\nif (presto_version) { presto_version = Number(presto_version[1]) }\r\nif (presto_version && presto_version >= 15) { presto = false; webkit = true }\r\n// Some browsers use the wrong event properties to signal cmd/ctrl on OS X\r\nvar flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11))\r\nvar captureRightClick = gecko || (ie && ie_version >= 9)\r\n\r\nfunction classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\r\n\r\nvar rmClass = function(node, cls) {\r\n  var current = node.className\r\n  var match = classTest(cls).exec(current)\r\n  if (match) {\r\n    var after = current.slice(match.index + match[0].length)\r\n    node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\")\r\n  }\r\n}\r\n\r\nfunction removeChildren(e) {\r\n  for (var count = e.childNodes.length; count > 0; --count)\r\n    { e.removeChild(e.firstChild) }\r\n  return e\r\n}\r\n\r\nfunction removeChildrenAndAdd(parent, e) {\r\n  return removeChildren(parent).appendChild(e)\r\n}\r\n\r\nfunction elt(tag, content, className, style) {\r\n  var e = document.createElement(tag)\r\n  if (className) { e.className = className }\r\n  if (style) { e.style.cssText = style }\r\n  if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)) }\r\n  else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]) } }\r\n  return e\r\n}\r\n\r\nvar range\r\nif (document.createRange) { range = function(node, start, end, endNode) {\r\n  var r = document.createRange()\r\n  r.setEnd(endNode || node, end)\r\n  r.setStart(node, start)\r\n  return r\r\n} }\r\nelse { range = function(node, start, end) {\r\n  var r = document.body.createTextRange()\r\n  try { r.moveToElementText(node.parentNode) }\r\n  catch(e) { return r }\r\n  r.collapse(true)\r\n  r.moveEnd(\"character\", end)\r\n  r.moveStart(\"character\", start)\r\n  return r\r\n} }\r\n\r\nfunction contains(parent, child) {\r\n  if (child.nodeType == 3) // Android browser always returns false when child is a textnode\r\n    { child = child.parentNode }\r\n  if (parent.contains)\r\n    { return parent.contains(child) }\r\n  do {\r\n    if (child.nodeType == 11) { child = child.host }\r\n    if (child == parent) { return true }\r\n  } while (child = child.parentNode)\r\n}\r\n\r\nfunction activeElt() {\r\n  // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\r\n  // IE < 10 will throw when accessed while the page is loading or in an iframe.\r\n  // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\r\n  var activeElement\r\n  try {\r\n    activeElement = document.activeElement\r\n  } catch(e) {\r\n    activeElement = document.body || null\r\n  }\r\n  while (activeElement && activeElement.root && activeElement.root.activeElement)\r\n    { activeElement = activeElement.root.activeElement }\r\n  return activeElement\r\n}\r\n\r\nfunction addClass(node, cls) {\r\n  var current = node.className\r\n  if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls }\r\n}\r\nfunction joinClasses(a, b) {\r\n  var as = a.split(\" \")\r\n  for (var i = 0; i < as.length; i++)\r\n    { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i] } }\r\n  return b\r\n}\r\n\r\nvar selectInput = function(node) { node.select() }\r\nif (ios) // Mobile Safari apparently has a bug where select() is broken.\r\n  { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length } }\r\nelse if (ie) // Suppress mysterious IE10 errors\r\n  { selectInput = function(node) { try { node.select() } catch(_e) {} } }\r\n\r\nfunction bind(f) {\r\n  var args = Array.prototype.slice.call(arguments, 1)\r\n  return function(){return f.apply(null, args)}\r\n}\r\n\r\nfunction copyObj(obj, target, overwrite) {\r\n  if (!target) { target = {} }\r\n  for (var prop in obj)\r\n    { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\r\n      { target[prop] = obj[prop] } }\r\n  return target\r\n}\r\n\r\n// Counts the column offset in a string, taking tabs into account.\r\n// Used mostly to find indentation.\r\nfunction countColumn(string, end, tabSize, startIndex, startValue) {\r\n  if (end == null) {\r\n    end = string.search(/[^\\s\\u00a0]/)\r\n    if (end == -1) { end = string.length }\r\n  }\r\n  for (var i = startIndex || 0, n = startValue || 0;;) {\r\n    var nextTab = string.indexOf(\"\\t\", i)\r\n    if (nextTab < 0 || nextTab >= end)\r\n      { return n + (end - i) }\r\n    n += nextTab - i\r\n    n += tabSize - (n % tabSize)\r\n    i = nextTab + 1\r\n  }\r\n}\r\n\r\nvar Delayed = function() {this.id = null};\r\nDelayed.prototype.set = function (ms, f) {\r\n  clearTimeout(this.id)\r\n  this.id = setTimeout(f, ms)\r\n};\r\n\r\nfunction indexOf(array, elt) {\r\n  for (var i = 0; i < array.length; ++i)\r\n    { if (array[i] == elt) { return i } }\r\n  return -1\r\n}\r\n\r\n// Number of pixels added to scroller and sizer to hide scrollbar\r\nvar scrollerGap = 30\r\n\r\n// Returned or thrown by various protocols to signal 'I'm not\r\n// handling this'.\r\nvar Pass = {toString: function(){return \"CodeMirror.Pass\"}}\r\n\r\n// Reused option objects for setSelection & friends\r\nvar sel_dontScroll = {scroll: false};\r\nvar sel_mouse = {origin: \"*mouse\"};\r\nvar sel_move = {origin: \"+move\"};\r\n// The inverse of countColumn -- find the offset that corresponds to\r\n// a particular column.\r\nfunction findColumn(string, goal, tabSize) {\r\n  for (var pos = 0, col = 0;;) {\r\n    var nextTab = string.indexOf(\"\\t\", pos)\r\n    if (nextTab == -1) { nextTab = string.length }\r\n    var skipped = nextTab - pos\r\n    if (nextTab == string.length || col + skipped >= goal)\r\n      { return pos + Math.min(skipped, goal - col) }\r\n    col += nextTab - pos\r\n    col += tabSize - (col % tabSize)\r\n    pos = nextTab + 1\r\n    if (col >= goal) { return pos }\r\n  }\r\n}\r\n\r\nvar spaceStrs = [\"\"]\r\nfunction spaceStr(n) {\r\n  while (spaceStrs.length <= n)\r\n    { spaceStrs.push(lst(spaceStrs) + \" \") }\r\n  return spaceStrs[n]\r\n}\r\n\r\nfunction lst(arr) { return arr[arr.length-1] }\r\n\r\nfunction map(array, f) {\r\n  var out = []\r\n  for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i) }\r\n  return out\r\n}\r\n\r\nfunction insertSorted(array, value, score) {\r\n  var pos = 0, priority = score(value)\r\n  while (pos < array.length && score(array[pos]) <= priority) { pos++ }\r\n  array.splice(pos, 0, value)\r\n}\r\n\r\nfunction nothing() {}\r\n\r\nfunction createObj(base, props) {\r\n  var inst\r\n  if (Object.create) {\r\n    inst = Object.create(base)\r\n  } else {\r\n    nothing.prototype = base\r\n    inst = new nothing()\r\n  }\r\n  if (props) { copyObj(props, inst) }\r\n  return inst\r\n}\r\n\r\nvar nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/\r\nfunction isWordCharBasic(ch) {\r\n  return /\\w/.test(ch) || ch > \"\\x80\" &&\r\n    (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\r\n}\r\nfunction isWordChar(ch, helper) {\r\n  if (!helper) { return isWordCharBasic(ch) }\r\n  if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\r\n  return helper.test(ch)\r\n}\r\n\r\nfunction isEmpty(obj) {\r\n  for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\r\n  return true\r\n}\r\n\r\n// Extending unicode characters. A series of a non-extending char +\r\n// any number of extending chars is treated as a single unit as far\r\n// as editing and measuring is concerned. This is not fully correct,\r\n// since some scripts/fonts/browsers also treat other configurations\r\n// of code points as a group.\r\nvar extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/\r\nfunction isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\r\n\r\n// Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\r\nfunction skipExtendingChars(str, pos, dir) {\r\n  while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir }\r\n  return pos\r\n}\r\n\r\n// Returns the value from the range [`from`; `to`] that satisfies\r\n// `pred` and is closest to `from`. Assumes that at least `to` satisfies `pred`.\r\nfunction findFirst(pred, from, to) {\r\n  for (;;) {\r\n    if (Math.abs(from - to) <= 1) { return pred(from) ? from : to }\r\n    var mid = Math.floor((from + to) / 2)\r\n    if (pred(mid)) { to = mid }\r\n    else { from = mid }\r\n  }\r\n}\r\n\r\n// The display handles the DOM integration, both for input reading\r\n// and content drawing. It holds references to DOM nodes and\r\n// display-related state.\r\n\r\nfunction Display(place, doc, input) {\r\n  var d = this\r\n  this.input = input\r\n\r\n  // Covers bottom-right square when both scrollbars are present.\r\n  d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\")\r\n  d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\")\r\n  // Covers bottom of gutter when coverGutterNextToScrollbar is on\r\n  // and h scrollbar is present.\r\n  d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\")\r\n  d.gutterFiller.setAttribute(\"cm-not-content\", \"true\")\r\n  // Will contain the actual code, positioned to cover the viewport.\r\n  d.lineDiv = elt(\"div\", null, \"CodeMirror-code\")\r\n  // Elements are added to these to represent selection and cursors.\r\n  d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\")\r\n  d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\")\r\n  // A visibility: hidden element used to find the size of things.\r\n  d.measure = elt(\"div\", null, \"CodeMirror-measure\")\r\n  // When lines outside of the viewport are measured, they are drawn in this.\r\n  d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\")\r\n  // Wraps everything that needs to exist inside the vertically-padded coordinate system\r\n  d.lineSpace = elt(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\r\n                    null, \"position: relative; outline: none\")\r\n  // Moved around its parent to cover visible view.\r\n  d.mover = elt(\"div\", [elt(\"div\", [d.lineSpace], \"CodeMirror-lines\")], null, \"position: relative\")\r\n  // Set to the height of the document, allowing scrolling.\r\n  d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\")\r\n  d.sizerWidth = null\r\n  // Behavior of elts with overflow: auto and padding is\r\n  // inconsistent across browsers. This is used to ensure the\r\n  // scrollable area is big enough.\r\n  d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\")\r\n  // Will contain the gutters, if any.\r\n  d.gutters = elt(\"div\", null, \"CodeMirror-gutters\")\r\n  d.lineGutter = null\r\n  // Actual scrollable element.\r\n  d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\")\r\n  d.scroller.setAttribute(\"tabIndex\", \"-1\")\r\n  // The element in which the editor lives.\r\n  d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\")\r\n\r\n  // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\r\n  if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0 }\r\n  if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true }\r\n\r\n  if (place) {\r\n    if (place.appendChild) { place.appendChild(d.wrapper) }\r\n    else { place(d.wrapper) }\r\n  }\r\n\r\n  // Current rendered range (may be bigger than the view window).\r\n  d.viewFrom = d.viewTo = doc.first\r\n  d.reportedViewFrom = d.reportedViewTo = doc.first\r\n  // Information about the rendered lines.\r\n  d.view = []\r\n  d.renderedView = null\r\n  // Holds info about a single rendered line when it was rendered\r\n  // for measurement, while not in view.\r\n  d.externalMeasured = null\r\n  // Empty space (in pixels) above the view\r\n  d.viewOffset = 0\r\n  d.lastWrapHeight = d.lastWrapWidth = 0\r\n  d.updateLineNumbers = null\r\n\r\n  d.nativeBarWidth = d.barHeight = d.barWidth = 0\r\n  d.scrollbarsClipped = false\r\n\r\n  // Used to only resize the line number gutter when necessary (when\r\n  // the amount of lines crosses a boundary that makes its width change)\r\n  d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null\r\n  // Set to true when a non-horizontal-scrolling line widget is\r\n  // added. As an optimization, line widget aligning is skipped when\r\n  // this is false.\r\n  d.alignWidgets = false\r\n\r\n  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null\r\n\r\n  // Tracks the maximum line length so that the horizontal scrollbar\r\n  // can be kept static when scrolling.\r\n  d.maxLine = null\r\n  d.maxLineLength = 0\r\n  d.maxLineChanged = false\r\n\r\n  // Used for measuring wheel scrolling granularity\r\n  d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null\r\n\r\n  // True when shift is held down.\r\n  d.shift = false\r\n\r\n  // Used to track whether anything happened since the context menu\r\n  // was opened.\r\n  d.selForContextMenu = null\r\n\r\n  d.activeTouch = null\r\n\r\n  input.init(d)\r\n}\r\n\r\n// Find the line object corresponding to the given line number.\r\nfunction getLine(doc, n) {\r\n  n -= doc.first\r\n  if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\r\n  var chunk = doc\r\n  while (!chunk.lines) {\r\n    for (var i = 0;; ++i) {\r\n      var child = chunk.children[i], sz = child.chunkSize()\r\n      if (n < sz) { chunk = child; break }\r\n      n -= sz\r\n    }\r\n  }\r\n  return chunk.lines[n]\r\n}\r\n\r\n// Get the part of a document between two positions, as an array of\r\n// strings.\r\nfunction getBetween(doc, start, end) {\r\n  var out = [], n = start.line\r\n  doc.iter(start.line, end.line + 1, function (line) {\r\n    var text = line.text\r\n    if (n == end.line) { text = text.slice(0, end.ch) }\r\n    if (n == start.line) { text = text.slice(start.ch) }\r\n    out.push(text)\r\n    ++n\r\n  })\r\n  return out\r\n}\r\n// Get the lines between from and to, as array of strings.\r\nfunction getLines(doc, from, to) {\r\n  var out = []\r\n  doc.iter(from, to, function (line) { out.push(line.text) }) // iter aborts when callback returns truthy value\r\n  return out\r\n}\r\n\r\n// Update the height of a line, propagating the height change\r\n// upwards to parent nodes.\r\nfunction updateLineHeight(line, height) {\r\n  var diff = height - line.height\r\n  if (diff) { for (var n = line; n; n = n.parent) { n.height += diff } }\r\n}\r\n\r\n// Given a line object, find its line number by walking up through\r\n// its parent links.\r\nfunction lineNo(line) {\r\n  if (line.parent == null) { return null }\r\n  var cur = line.parent, no = indexOf(cur.lines, line)\r\n  for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\r\n    for (var i = 0;; ++i) {\r\n      if (chunk.children[i] == cur) { break }\r\n      no += chunk.children[i].chunkSize()\r\n    }\r\n  }\r\n  return no + cur.first\r\n}\r\n\r\n// Find the line at the given vertical position, using the height\r\n// information in the document tree.\r\nfunction lineAtHeight(chunk, h) {\r\n  var n = chunk.first\r\n  outer: do {\r\n    for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\r\n      var child = chunk.children[i$1], ch = child.height\r\n      if (h < ch) { chunk = child; continue outer }\r\n      h -= ch\r\n      n += child.chunkSize()\r\n    }\r\n    return n\r\n  } while (!chunk.lines)\r\n  var i = 0\r\n  for (; i < chunk.lines.length; ++i) {\r\n    var line = chunk.lines[i], lh = line.height\r\n    if (h < lh) { break }\r\n    h -= lh\r\n  }\r\n  return n + i\r\n}\r\n\r\nfunction isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\r\n\r\nfunction lineNumberFor(options, i) {\r\n  return String(options.lineNumberFormatter(i + options.firstLineNumber))\r\n}\r\n\r\n// A Pos instance represents a position within the text.\r\nfunction Pos(line, ch, sticky) {\r\n  if ( sticky === void 0 ) sticky = null;\r\n\r\n  if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\r\n  this.line = line\r\n  this.ch = ch\r\n  this.sticky = sticky\r\n}\r\n\r\n// Compare two positions, return 0 if they are the same, a negative\r\n// number when a is less, and a positive number otherwise.\r\nfunction cmp(a, b) { return a.line - b.line || a.ch - b.ch }\r\n\r\nfunction equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\r\n\r\nfunction copyPos(x) {return Pos(x.line, x.ch)}\r\nfunction maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\r\nfunction minPos(a, b) { return cmp(a, b) < 0 ? a : b }\r\n\r\n// Most of the external API clips given positions to make sure they\r\n// actually exist within the document.\r\nfunction clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\r\nfunction clipPos(doc, pos) {\r\n  if (pos.line < doc.first) { return Pos(doc.first, 0) }\r\n  var last = doc.first + doc.size - 1\r\n  if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\r\n  return clipToLen(pos, getLine(doc, pos.line).text.length)\r\n}\r\nfunction clipToLen(pos, linelen) {\r\n  var ch = pos.ch\r\n  if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\r\n  else if (ch < 0) { return Pos(pos.line, 0) }\r\n  else { return pos }\r\n}\r\nfunction clipPosArray(doc, array) {\r\n  var out = []\r\n  for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]) }\r\n  return out\r\n}\r\n\r\n// Optimize some code when these features are not used.\r\nvar sawReadOnlySpans = false;\r\nvar sawCollapsedSpans = false;\r\nfunction seeReadOnlySpans() {\r\n  sawReadOnlySpans = true\r\n}\r\n\r\nfunction seeCollapsedSpans() {\r\n  sawCollapsedSpans = true\r\n}\r\n\r\n// TEXTMARKER SPANS\r\n\r\nfunction MarkedSpan(marker, from, to) {\r\n  this.marker = marker\r\n  this.from = from; this.to = to\r\n}\r\n\r\n// Search an array of spans for a span matching the given marker.\r\nfunction getMarkedSpanFor(spans, marker) {\r\n  if (spans) { for (var i = 0; i < spans.length; ++i) {\r\n    var span = spans[i]\r\n    if (span.marker == marker) { return span }\r\n  } }\r\n}\r\n// Remove a span from an array, returning undefined if no spans are\r\n// left (we don't store arrays for lines without spans).\r\nfunction removeMarkedSpan(spans, span) {\r\n  var r\r\n  for (var i = 0; i < spans.length; ++i)\r\n    { if (spans[i] != span) { (r || (r = [])).push(spans[i]) } }\r\n  return r\r\n}\r\n// Add a span to a line.\r\nfunction addMarkedSpan(line, span) {\r\n  line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span]\r\n  span.marker.attachLine(line)\r\n}\r\n\r\n// Used for the algorithm that adjusts markers for a change in the\r\n// document. These functions cut an array of spans at a given\r\n// character position, returning an array of remaining chunks (or\r\n// undefined if nothing remains).\r\nfunction markedSpansBefore(old, startCh, isInsert) {\r\n  var nw\r\n  if (old) { for (var i = 0; i < old.length; ++i) {\r\n    var span = old[i], marker = span.marker\r\n    var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh)\r\n    if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\r\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\r\n      ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to))\r\n    }\r\n  } }\r\n  return nw\r\n}\r\nfunction markedSpansAfter(old, endCh, isInsert) {\r\n  var nw\r\n  if (old) { for (var i = 0; i < old.length; ++i) {\r\n    var span = old[i], marker = span.marker\r\n    var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh)\r\n    if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\r\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\r\n      ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\r\n                                            span.to == null ? null : span.to - endCh))\r\n    }\r\n  } }\r\n  return nw\r\n}\r\n\r\n// Given a change object, compute the new set of marker spans that\r\n// cover the line in which the change took place. Removes spans\r\n// entirely within the change, reconnects spans belonging to the\r\n// same marker that appear on both sides of the change, and cuts off\r\n// spans partially within the change. Returns an array of span\r\n// arrays with one element for each line in (after) the change.\r\nfunction stretchSpansOverChange(doc, change) {\r\n  if (change.full) { return null }\r\n  var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans\r\n  var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans\r\n  if (!oldFirst && !oldLast) { return null }\r\n\r\n  var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0\r\n  // Get the spans that 'stick out' on both sides\r\n  var first = markedSpansBefore(oldFirst, startCh, isInsert)\r\n  var last = markedSpansAfter(oldLast, endCh, isInsert)\r\n\r\n  // Next, merge those two ends\r\n  var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0)\r\n  if (first) {\r\n    // Fix up .to properties of first\r\n    for (var i = 0; i < first.length; ++i) {\r\n      var span = first[i]\r\n      if (span.to == null) {\r\n        var found = getMarkedSpanFor(last, span.marker)\r\n        if (!found) { span.to = startCh }\r\n        else if (sameLine) { span.to = found.to == null ? null : found.to + offset }\r\n      }\r\n    }\r\n  }\r\n  if (last) {\r\n    // Fix up .from in last (or move them into first in case of sameLine)\r\n    for (var i$1 = 0; i$1 < last.length; ++i$1) {\r\n      var span$1 = last[i$1]\r\n      if (span$1.to != null) { span$1.to += offset }\r\n      if (span$1.from == null) {\r\n        var found$1 = getMarkedSpanFor(first, span$1.marker)\r\n        if (!found$1) {\r\n          span$1.from = offset\r\n          if (sameLine) { (first || (first = [])).push(span$1) }\r\n        }\r\n      } else {\r\n        span$1.from += offset\r\n        if (sameLine) { (first || (first = [])).push(span$1) }\r\n      }\r\n    }\r\n  }\r\n  // Make sure we didn't create any zero-length spans\r\n  if (first) { first = clearEmptySpans(first) }\r\n  if (last && last != first) { last = clearEmptySpans(last) }\r\n\r\n  var newMarkers = [first]\r\n  if (!sameLine) {\r\n    // Fill gap with whole-line-spans\r\n    var gap = change.text.length - 2, gapMarkers\r\n    if (gap > 0 && first)\r\n      { for (var i$2 = 0; i$2 < first.length; ++i$2)\r\n        { if (first[i$2].to == null)\r\n          { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)) } } }\r\n    for (var i$3 = 0; i$3 < gap; ++i$3)\r\n      { newMarkers.push(gapMarkers) }\r\n    newMarkers.push(last)\r\n  }\r\n  return newMarkers\r\n}\r\n\r\n// Remove spans that are empty and don't have a clearWhenEmpty\r\n// option of false.\r\nfunction clearEmptySpans(spans) {\r\n  for (var i = 0; i < spans.length; ++i) {\r\n    var span = spans[i]\r\n    if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\r\n      { spans.splice(i--, 1) }\r\n  }\r\n  if (!spans.length) { return null }\r\n  return spans\r\n}\r\n\r\n// Used to 'clip' out readOnly ranges when making a change.\r\nfunction removeReadOnlyRanges(doc, from, to) {\r\n  var markers = null\r\n  doc.iter(from.line, to.line + 1, function (line) {\r\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\r\n      var mark = line.markedSpans[i].marker\r\n      if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\r\n        { (markers || (markers = [])).push(mark) }\r\n    } }\r\n  })\r\n  if (!markers) { return null }\r\n  var parts = [{from: from, to: to}]\r\n  for (var i = 0; i < markers.length; ++i) {\r\n    var mk = markers[i], m = mk.find(0)\r\n    for (var j = 0; j < parts.length; ++j) {\r\n      var p = parts[j]\r\n      if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\r\n      var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to)\r\n      if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\r\n        { newParts.push({from: p.from, to: m.from}) }\r\n      if (dto > 0 || !mk.inclusiveRight && !dto)\r\n        { newParts.push({from: m.to, to: p.to}) }\r\n      parts.splice.apply(parts, newParts)\r\n      j += newParts.length - 3\r\n    }\r\n  }\r\n  return parts\r\n}\r\n\r\n// Connect or disconnect spans from a line.\r\nfunction detachMarkedSpans(line) {\r\n  var spans = line.markedSpans\r\n  if (!spans) { return }\r\n  for (var i = 0; i < spans.length; ++i)\r\n    { spans[i].marker.detachLine(line) }\r\n  line.markedSpans = null\r\n}\r\nfunction attachMarkedSpans(line, spans) {\r\n  if (!spans) { return }\r\n  for (var i = 0; i < spans.length; ++i)\r\n    { spans[i].marker.attachLine(line) }\r\n  line.markedSpans = spans\r\n}\r\n\r\n// Helpers used when computing which overlapping collapsed span\r\n// counts as the larger one.\r\nfunction extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\r\nfunction extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\r\n\r\n// Returns a number indicating which of two overlapping collapsed\r\n// spans is larger (and thus includes the other). Falls back to\r\n// comparing ids when the spans cover exactly the same range.\r\nfunction compareCollapsedMarkers(a, b) {\r\n  var lenDiff = a.lines.length - b.lines.length\r\n  if (lenDiff != 0) { return lenDiff }\r\n  var aPos = a.find(), bPos = b.find()\r\n  var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b)\r\n  if (fromCmp) { return -fromCmp }\r\n  var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b)\r\n  if (toCmp) { return toCmp }\r\n  return b.id - a.id\r\n}\r\n\r\n// Find out whether a line ends or starts in a collapsed span. If\r\n// so, return the marker for that span.\r\nfunction collapsedSpanAtSide(line, start) {\r\n  var sps = sawCollapsedSpans && line.markedSpans, found\r\n  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\r\n    sp = sps[i]\r\n    if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\r\n        (!found || compareCollapsedMarkers(found, sp.marker) < 0))\r\n      { found = sp.marker }\r\n  } }\r\n  return found\r\n}\r\nfunction collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\r\nfunction collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\r\n\r\n// Test whether there exists a collapsed span that partially\r\n// overlaps (covers the start or end, but not both) of a new span.\r\n// Such overlap is not allowed.\r\nfunction conflictingCollapsedRange(doc, lineNo, from, to, marker) {\r\n  var line = getLine(doc, lineNo)\r\n  var sps = sawCollapsedSpans && line.markedSpans\r\n  if (sps) { for (var i = 0; i < sps.length; ++i) {\r\n    var sp = sps[i]\r\n    if (!sp.marker.collapsed) { continue }\r\n    var found = sp.marker.find(0)\r\n    var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker)\r\n    var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker)\r\n    if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\r\n    if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\r\n        fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\r\n      { return true }\r\n  } }\r\n}\r\n\r\n// A visual line is a line as drawn on the screen. Folding, for\r\n// example, can cause multiple logical lines to appear on the same\r\n// visual line. This finds the start of the visual line that the\r\n// given line is part of (usually that is the line itself).\r\nfunction visualLine(line) {\r\n  var merged\r\n  while (merged = collapsedSpanAtStart(line))\r\n    { line = merged.find(-1, true).line }\r\n  return line\r\n}\r\n\r\nfunction visualLineEnd(line) {\r\n  var merged\r\n  while (merged = collapsedSpanAtEnd(line))\r\n    { line = merged.find(1, true).line }\r\n  return line\r\n}\r\n\r\n// Returns an array of logical lines that continue the visual line\r\n// started by the argument, or undefined if there are no such lines.\r\nfunction visualLineContinued(line) {\r\n  var merged, lines\r\n  while (merged = collapsedSpanAtEnd(line)) {\r\n    line = merged.find(1, true).line\r\n    ;(lines || (lines = [])).push(line)\r\n  }\r\n  return lines\r\n}\r\n\r\n// Get the line number of the start of the visual line that the\r\n// given line number is part of.\r\nfunction visualLineNo(doc, lineN) {\r\n  var line = getLine(doc, lineN), vis = visualLine(line)\r\n  if (line == vis) { return lineN }\r\n  return lineNo(vis)\r\n}\r\n\r\n// Get the line number of the start of the next visual line after\r\n// the given line.\r\nfunction visualLineEndNo(doc, lineN) {\r\n  if (lineN > doc.lastLine()) { return lineN }\r\n  var line = getLine(doc, lineN), merged\r\n  if (!lineIsHidden(doc, line)) { return lineN }\r\n  while (merged = collapsedSpanAtEnd(line))\r\n    { line = merged.find(1, true).line }\r\n  return lineNo(line) + 1\r\n}\r\n\r\n// Compute whether a line is hidden. Lines count as hidden when they\r\n// are part of a visual line that starts with another line, or when\r\n// they are entirely covered by collapsed, non-widget span.\r\nfunction lineIsHidden(doc, line) {\r\n  var sps = sawCollapsedSpans && line.markedSpans\r\n  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\r\n    sp = sps[i]\r\n    if (!sp.marker.collapsed) { continue }\r\n    if (sp.from == null) { return true }\r\n    if (sp.marker.widgetNode) { continue }\r\n    if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\r\n      { return true }\r\n  } }\r\n}\r\nfunction lineIsHiddenInner(doc, line, span) {\r\n  if (span.to == null) {\r\n    var end = span.marker.find(1, true)\r\n    return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\r\n  }\r\n  if (span.marker.inclusiveRight && span.to == line.text.length)\r\n    { return true }\r\n  for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\r\n    sp = line.markedSpans[i]\r\n    if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\r\n        (sp.to == null || sp.to != span.from) &&\r\n        (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\r\n        lineIsHiddenInner(doc, line, sp)) { return true }\r\n  }\r\n}\r\n\r\n// Find the height above the given line.\r\nfunction heightAtLine(lineObj) {\r\n  lineObj = visualLine(lineObj)\r\n\r\n  var h = 0, chunk = lineObj.parent\r\n  for (var i = 0; i < chunk.lines.length; ++i) {\r\n    var line = chunk.lines[i]\r\n    if (line == lineObj) { break }\r\n    else { h += line.height }\r\n  }\r\n  for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\r\n    for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\r\n      var cur = p.children[i$1]\r\n      if (cur == chunk) { break }\r\n      else { h += cur.height }\r\n    }\r\n  }\r\n  return h\r\n}\r\n\r\n// Compute the character length of a line, taking into account\r\n// collapsed ranges (see markText) that might hide parts, and join\r\n// other lines onto it.\r\nfunction lineLength(line) {\r\n  if (line.height == 0) { return 0 }\r\n  var len = line.text.length, merged, cur = line\r\n  while (merged = collapsedSpanAtStart(cur)) {\r\n    var found = merged.find(0, true)\r\n    cur = found.from.line\r\n    len += found.from.ch - found.to.ch\r\n  }\r\n  cur = line\r\n  while (merged = collapsedSpanAtEnd(cur)) {\r\n    var found$1 = merged.find(0, true)\r\n    len -= cur.text.length - found$1.from.ch\r\n    cur = found$1.to.line\r\n    len += cur.text.length - found$1.to.ch\r\n  }\r\n  return len\r\n}\r\n\r\n// Find the longest line in the document.\r\nfunction findMaxLine(cm) {\r\n  var d = cm.display, doc = cm.doc\r\n  d.maxLine = getLine(doc, doc.first)\r\n  d.maxLineLength = lineLength(d.maxLine)\r\n  d.maxLineChanged = true\r\n  doc.iter(function (line) {\r\n    var len = lineLength(line)\r\n    if (len > d.maxLineLength) {\r\n      d.maxLineLength = len\r\n      d.maxLine = line\r\n    }\r\n  })\r\n}\r\n\r\n// BIDI HELPERS\r\n\r\nfunction iterateBidiSections(order, from, to, f) {\r\n  if (!order) { return f(from, to, \"ltr\") }\r\n  var found = false\r\n  for (var i = 0; i < order.length; ++i) {\r\n    var part = order[i]\r\n    if (part.from < to && part.to > from || from == to && part.to == from) {\r\n      f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\")\r\n      found = true\r\n    }\r\n  }\r\n  if (!found) { f(from, to, \"ltr\") }\r\n}\r\n\r\nvar bidiOther = null\r\nfunction getBidiPartAt(order, ch, sticky) {\r\n  var found\r\n  bidiOther = null\r\n  for (var i = 0; i < order.length; ++i) {\r\n    var cur = order[i]\r\n    if (cur.from < ch && cur.to > ch) { return i }\r\n    if (cur.to == ch) {\r\n      if (cur.from != cur.to && sticky == \"before\") { found = i }\r\n      else { bidiOther = i }\r\n    }\r\n    if (cur.from == ch) {\r\n      if (cur.from != cur.to && sticky != \"before\") { found = i }\r\n      else { bidiOther = i }\r\n    }\r\n  }\r\n  return found != null ? found : bidiOther\r\n}\r\n\r\n// Bidirectional ordering algorithm\r\n// See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\r\n// that this (partially) implements.\r\n\r\n// One-char codes used for character types:\r\n// L (L):   Left-to-Right\r\n// R (R):   Right-to-Left\r\n// r (AL):  Right-to-Left Arabic\r\n// 1 (EN):  European Number\r\n// + (ES):  European Number Separator\r\n// % (ET):  European Number Terminator\r\n// n (AN):  Arabic Number\r\n// , (CS):  Common Number Separator\r\n// m (NSM): Non-Spacing Mark\r\n// b (BN):  Boundary Neutral\r\n// s (B):   Paragraph Separator\r\n// t (S):   Segment Separator\r\n// w (WS):  Whitespace\r\n// N (ON):  Other Neutrals\r\n\r\n// Returns null if characters are ordered as they appear\r\n// (left-to-right), or an array of sections ({from, to, level}\r\n// objects) in the order in which they occur visually.\r\nvar bidiOrdering = (function() {\r\n  // Character types for codepoints 0 to 0xff\r\n  var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\"\r\n  // Character types for codepoints 0x600 to 0x6f9\r\n  var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\"\r\n  function charType(code) {\r\n    if (code <= 0xf7) { return lowTypes.charAt(code) }\r\n    else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\r\n    else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\r\n    else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\r\n    else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\r\n    else if (code == 0x200c) { return \"b\" }\r\n    else { return \"L\" }\r\n  }\r\n\r\n  var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/\r\n  var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/\r\n  // Browsers seem to always treat the boundaries of block elements as being L.\r\n  var outerType = \"L\"\r\n\r\n  function BidiSpan(level, from, to) {\r\n    this.level = level\r\n    this.from = from; this.to = to\r\n  }\r\n\r\n  return function(str) {\r\n    if (!bidiRE.test(str)) { return false }\r\n    var len = str.length, types = []\r\n    for (var i = 0; i < len; ++i)\r\n      { types.push(charType(str.charCodeAt(i))) }\r\n\r\n    // W1. Examine each non-spacing mark (NSM) in the level run, and\r\n    // change the type of the NSM to the type of the previous\r\n    // character. If the NSM is at the start of the level run, it will\r\n    // get the type of sor.\r\n    for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\r\n      var type = types[i$1]\r\n      if (type == \"m\") { types[i$1] = prev }\r\n      else { prev = type }\r\n    }\r\n\r\n    // W2. Search backwards from each instance of a European number\r\n    // until the first strong type (R, L, AL, or sor) is found. If an\r\n    // AL is found, change the type of the European number to Arabic\r\n    // number.\r\n    // W3. Change all ALs to R.\r\n    for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\r\n      var type$1 = types[i$2]\r\n      if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\" }\r\n      else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\" } }\r\n    }\r\n\r\n    // W4. A single European separator between two European numbers\r\n    // changes to a European number. A single common separator between\r\n    // two numbers of the same type changes to that type.\r\n    for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\r\n      var type$2 = types[i$3]\r\n      if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\" }\r\n      else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\r\n               (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1 }\r\n      prev$1 = type$2\r\n    }\r\n\r\n    // W5. A sequence of European terminators adjacent to European\r\n    // numbers changes to all European numbers.\r\n    // W6. Otherwise, separators and terminators change to Other\r\n    // Neutral.\r\n    for (var i$4 = 0; i$4 < len; ++i$4) {\r\n      var type$3 = types[i$4]\r\n      if (type$3 == \",\") { types[i$4] = \"N\" }\r\n      else if (type$3 == \"%\") {\r\n        var end = (void 0)\r\n        for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\r\n        var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\"\r\n        for (var j = i$4; j < end; ++j) { types[j] = replace }\r\n        i$4 = end - 1\r\n      }\r\n    }\r\n\r\n    // W7. Search backwards from each instance of a European number\r\n    // until the first strong type (R, L, or sor) is found. If an L is\r\n    // found, then change the type of the European number to L.\r\n    for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\r\n      var type$4 = types[i$5]\r\n      if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\" }\r\n      else if (isStrong.test(type$4)) { cur$1 = type$4 }\r\n    }\r\n\r\n    // N1. A sequence of neutrals takes the direction of the\r\n    // surrounding strong text if the text on both sides has the same\r\n    // direction. European and Arabic numbers act as if they were R in\r\n    // terms of their influence on neutrals. Start-of-level-run (sor)\r\n    // and end-of-level-run (eor) are used at level run boundaries.\r\n    // N2. Any remaining neutrals take the embedding direction.\r\n    for (var i$6 = 0; i$6 < len; ++i$6) {\r\n      if (isNeutral.test(types[i$6])) {\r\n        var end$1 = (void 0)\r\n        for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\r\n        var before = (i$6 ? types[i$6-1] : outerType) == \"L\"\r\n        var after = (end$1 < len ? types[end$1] : outerType) == \"L\"\r\n        var replace$1 = before || after ? \"L\" : \"R\"\r\n        for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1 }\r\n        i$6 = end$1 - 1\r\n      }\r\n    }\r\n\r\n    // Here we depart from the documented algorithm, in order to avoid\r\n    // building up an actual levels array. Since there are only three\r\n    // levels (0, 1, 2) in an implementation that doesn't take\r\n    // explicit embedding into account, we can build up the order on\r\n    // the fly, without following the level-based algorithm.\r\n    var order = [], m\r\n    for (var i$7 = 0; i$7 < len;) {\r\n      if (countsAsLeft.test(types[i$7])) {\r\n        var start = i$7\r\n        for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\r\n        order.push(new BidiSpan(0, start, i$7))\r\n      } else {\r\n        var pos = i$7, at = order.length\r\n        for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\r\n        for (var j$2 = pos; j$2 < i$7;) {\r\n          if (countsAsNum.test(types[j$2])) {\r\n            if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)) }\r\n            var nstart = j$2\r\n            for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\r\n            order.splice(at, 0, new BidiSpan(2, nstart, j$2))\r\n            pos = j$2\r\n          } else { ++j$2 }\r\n        }\r\n        if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)) }\r\n      }\r\n    }\r\n    if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\r\n      order[0].from = m[0].length\r\n      order.unshift(new BidiSpan(0, 0, m[0].length))\r\n    }\r\n    if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\r\n      lst(order).to -= m[0].length\r\n      order.push(new BidiSpan(0, len - m[0].length, len))\r\n    }\r\n\r\n    return order\r\n  }\r\n})()\r\n\r\n// Get the bidi ordering for the given line (and cache it). Returns\r\n// false for lines that are fully left-to-right, and an array of\r\n// BidiSpan objects otherwise.\r\nfunction getOrder(line) {\r\n  var order = line.order\r\n  if (order == null) { order = line.order = bidiOrdering(line.text) }\r\n  return order\r\n}\r\n\r\nfunction moveCharLogically(line, ch, dir) {\r\n  var target = skipExtendingChars(line.text, ch + dir, dir)\r\n  return target < 0 || target > line.text.length ? null : target\r\n}\r\n\r\nfunction moveLogically(line, start, dir) {\r\n  var ch = moveCharLogically(line, start.ch, dir)\r\n  return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\r\n}\r\n\r\nfunction endOfLine(visually, cm, lineObj, lineNo, dir) {\r\n  if (visually) {\r\n    var order = getOrder(lineObj)\r\n    if (order) {\r\n      var part = dir < 0 ? lst(order) : order[0]\r\n      var moveInStorageOrder = (dir < 0) == (part.level == 1)\r\n      var sticky = moveInStorageOrder ? \"after\" : \"before\"\r\n      var ch\r\n      // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\r\n      // it could be that the last bidi part is not on the last visual line,\r\n      // since visual lines contain content order-consecutive chunks.\r\n      // Thus, in rtl, we are looking for the first (content-order) character\r\n      // in the rtl chunk that is on the last line (that is, the same line\r\n      // as the last (content-order) character).\r\n      if (part.level > 0) {\r\n        var prep = prepareMeasureForLine(cm, lineObj)\r\n        ch = dir < 0 ? lineObj.text.length - 1 : 0\r\n        var targetTop = measureCharPrepared(cm, prep, ch).top\r\n        ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch)\r\n        if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1, true) }\r\n      } else { ch = dir < 0 ? part.to : part.from }\r\n      return new Pos(lineNo, ch, sticky)\r\n    }\r\n  }\r\n  return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\r\n}\r\n\r\nfunction moveVisually(cm, line, start, dir) {\r\n  var bidi = getOrder(line)\r\n  if (!bidi) { return moveLogically(line, start, dir) }\r\n  if (start.ch >= line.text.length) {\r\n    start.ch = line.text.length\r\n    start.sticky = \"before\"\r\n  } else if (start.ch <= 0) {\r\n    start.ch = 0\r\n    start.sticky = \"after\"\r\n  }\r\n  var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos]\r\n  if (part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\r\n    // Case 1: We move within an ltr part. Even with wrapped lines,\r\n    // nothing interesting happens.\r\n    return moveLogically(line, start, dir)\r\n  }\r\n\r\n  var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); }\r\n  var prep\r\n  var getWrappedLineExtent = function (ch) {\r\n    if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\r\n    prep = prep || prepareMeasureForLine(cm, line)\r\n    return wrappedLineExtentChar(cm, line, prep, ch)\r\n  }\r\n  var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch)\r\n\r\n  if (part.level % 2 == 1) {\r\n    var ch = mv(start, -dir)\r\n    if (ch != null && (dir > 0 ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\r\n      // Case 2: We move within an rtl part on the same visual line\r\n      var sticky = dir < 0 ? \"before\" : \"after\"\r\n      return new Pos(start.line, ch, sticky)\r\n    }\r\n  }\r\n\r\n  // Case 3: Could not move within this bidi part in this visual line, so leave\r\n  // the current bidi part\r\n\r\n  var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\r\n    var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\r\n      ? new Pos(start.line, mv(ch, 1), \"before\")\r\n      : new Pos(start.line, ch, \"after\"); }\r\n\r\n    for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\r\n      var part = bidi[partPos]\r\n      var moveInStorageOrder = (dir > 0) == (part.level != 1)\r\n      var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1)\r\n      if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\r\n      ch = moveInStorageOrder ? part.from : mv(part.to, -1)\r\n      if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\r\n    }\r\n  }\r\n\r\n  // Case 3a: Look for other bidi parts on the same visual line\r\n  var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent)\r\n  if (res) { return res }\r\n\r\n  // Case 3b: Look for other bidi parts on the next visual line\r\n  var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1)\r\n  if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\r\n    res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh))\r\n    if (res) { return res }\r\n  }\r\n\r\n  // Case 4: Nowhere to move\r\n  return null\r\n}\r\n\r\n// EVENT HANDLING\r\n\r\n// Lightweight event framework. on/off also work on DOM nodes,\r\n// registering native DOM handlers.\r\n\r\nvar noHandlers = []\r\n\r\nvar on = function(emitter, type, f) {\r\n  if (emitter.addEventListener) {\r\n    emitter.addEventListener(type, f, false)\r\n  } else if (emitter.attachEvent) {\r\n    emitter.attachEvent(\"on\" + type, f)\r\n  } else {\r\n    var map = emitter._handlers || (emitter._handlers = {})\r\n    map[type] = (map[type] || noHandlers).concat(f)\r\n  }\r\n}\r\n\r\nfunction getHandlers(emitter, type) {\r\n  return emitter._handlers && emitter._handlers[type] || noHandlers\r\n}\r\n\r\nfunction off(emitter, type, f) {\r\n  if (emitter.removeEventListener) {\r\n    emitter.removeEventListener(type, f, false)\r\n  } else if (emitter.detachEvent) {\r\n    emitter.detachEvent(\"on\" + type, f)\r\n  } else {\r\n    var map = emitter._handlers, arr = map && map[type]\r\n    if (arr) {\r\n      var index = indexOf(arr, f)\r\n      if (index > -1)\r\n        { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)) }\r\n    }\r\n  }\r\n}\r\n\r\nfunction signal(emitter, type /*, values...*/) {\r\n  var handlers = getHandlers(emitter, type)\r\n  if (!handlers.length) { return }\r\n  var args = Array.prototype.slice.call(arguments, 2)\r\n  for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args) }\r\n}\r\n\r\n// The DOM events that CodeMirror handles can be overridden by\r\n// registering a (non-DOM) handler on the editor for the event name,\r\n// and preventDefault-ing the event in that handler.\r\nfunction signalDOMEvent(cm, e, override) {\r\n  if (typeof e == \"string\")\r\n    { e = {type: e, preventDefault: function() { this.defaultPrevented = true }} }\r\n  signal(cm, override || e.type, cm, e)\r\n  return e_defaultPrevented(e) || e.codemirrorIgnore\r\n}\r\n\r\nfunction signalCursorActivity(cm) {\r\n  var arr = cm._handlers && cm._handlers.cursorActivity\r\n  if (!arr) { return }\r\n  var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = [])\r\n  for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\r\n    { set.push(arr[i]) } }\r\n}\r\n\r\nfunction hasHandler(emitter, type) {\r\n  return getHandlers(emitter, type).length > 0\r\n}\r\n\r\n// Add on and off methods to a constructor's prototype, to make\r\n// registering events on such objects more convenient.\r\nfunction eventMixin(ctor) {\r\n  ctor.prototype.on = function(type, f) {on(this, type, f)}\r\n  ctor.prototype.off = function(type, f) {off(this, type, f)}\r\n}\r\n\r\n// Due to the fact that we still support jurassic IE versions, some\r\n// compatibility wrappers are needed.\r\n\r\nfunction e_preventDefault(e) {\r\n  if (e.preventDefault) { e.preventDefault() }\r\n  else { e.returnValue = false }\r\n}\r\nfunction e_stopPropagation(e) {\r\n  if (e.stopPropagation) { e.stopPropagation() }\r\n  else { e.cancelBubble = true }\r\n}\r\nfunction e_defaultPrevented(e) {\r\n  return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\r\n}\r\nfunction e_stop(e) {e_preventDefault(e); e_stopPropagation(e)}\r\n\r\nfunction e_target(e) {return e.target || e.srcElement}\r\nfunction e_button(e) {\r\n  var b = e.which\r\n  if (b == null) {\r\n    if (e.button & 1) { b = 1 }\r\n    else if (e.button & 2) { b = 3 }\r\n    else if (e.button & 4) { b = 2 }\r\n  }\r\n  if (mac && e.ctrlKey && b == 1) { b = 3 }\r\n  return b\r\n}\r\n\r\n// Detect drag-and-drop\r\nvar dragAndDrop = function() {\r\n  // There is *some* kind of drag-and-drop support in IE6-8, but I\r\n  // couldn't get it to work yet.\r\n  if (ie && ie_version < 9) { return false }\r\n  var div = elt('div')\r\n  return \"draggable\" in div || \"dragDrop\" in div\r\n}()\r\n\r\nvar zwspSupported\r\nfunction zeroWidthElement(measure) {\r\n  if (zwspSupported == null) {\r\n    var test = elt(\"span\", \"\\u200b\")\r\n    removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]))\r\n    if (measure.firstChild.offsetHeight != 0)\r\n      { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8) }\r\n  }\r\n  var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\r\n    elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\")\r\n  node.setAttribute(\"cm-text\", \"\")\r\n  return node\r\n}\r\n\r\n// Feature-detect IE's crummy client rect reporting for bidi text\r\nvar badBidiRects\r\nfunction hasBadBidiRects(measure) {\r\n  if (badBidiRects != null) { return badBidiRects }\r\n  var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"))\r\n  var r0 = range(txt, 0, 1).getBoundingClientRect()\r\n  var r1 = range(txt, 1, 2).getBoundingClientRect()\r\n  removeChildren(measure)\r\n  if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\r\n  return badBidiRects = (r1.right - r0.right < 3)\r\n}\r\n\r\n// See if \"\".split is the broken IE version, if so, provide an\r\n// alternative way to split lines.\r\nvar splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\r\n  var pos = 0, result = [], l = string.length\r\n  while (pos <= l) {\r\n    var nl = string.indexOf(\"\\n\", pos)\r\n    if (nl == -1) { nl = string.length }\r\n    var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl)\r\n    var rt = line.indexOf(\"\\r\")\r\n    if (rt != -1) {\r\n      result.push(line.slice(0, rt))\r\n      pos += rt + 1\r\n    } else {\r\n      result.push(line)\r\n      pos = nl + 1\r\n    }\r\n  }\r\n  return result\r\n} : function (string) { return string.split(/\\r\\n?|\\n/); }\r\n\r\nvar hasSelection = window.getSelection ? function (te) {\r\n  try { return te.selectionStart != te.selectionEnd }\r\n  catch(e) { return false }\r\n} : function (te) {\r\n  var range\r\n  try {range = te.ownerDocument.selection.createRange()}\r\n  catch(e) {}\r\n  if (!range || range.parentElement() != te) { return false }\r\n  return range.compareEndPoints(\"StartToEnd\", range) != 0\r\n}\r\n\r\nvar hasCopyEvent = (function () {\r\n  var e = elt(\"div\")\r\n  if (\"oncopy\" in e) { return true }\r\n  e.setAttribute(\"oncopy\", \"return;\")\r\n  return typeof e.oncopy == \"function\"\r\n})()\r\n\r\nvar badZoomedRects = null\r\nfunction hasBadZoomedRects(measure) {\r\n  if (badZoomedRects != null) { return badZoomedRects }\r\n  var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"))\r\n  var normal = node.getBoundingClientRect()\r\n  var fromRange = range(node, 0, 1).getBoundingClientRect()\r\n  return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\r\n}\r\n\r\nvar modes = {};\r\nvar mimeModes = {};\r\n// Extra arguments are stored as the mode's dependencies, which is\r\n// used by (legacy) mechanisms like loadmode.js to automatically\r\n// load a mode. (Preferred mechanism is the require/define calls.)\r\nfunction defineMode(name, mode) {\r\n  if (arguments.length > 2)\r\n    { mode.dependencies = Array.prototype.slice.call(arguments, 2) }\r\n  modes[name] = mode\r\n}\r\n\r\nfunction defineMIME(mime, spec) {\r\n  mimeModes[mime] = spec\r\n}\r\n\r\n// Given a MIME type, a {name, ...options} config object, or a name\r\n// string, return a mode config object.\r\nfunction resolveMode(spec) {\r\n  if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\r\n    spec = mimeModes[spec]\r\n  } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\r\n    var found = mimeModes[spec.name]\r\n    if (typeof found == \"string\") { found = {name: found} }\r\n    spec = createObj(found, spec)\r\n    spec.name = found.name\r\n  } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\r\n    return resolveMode(\"application/xml\")\r\n  } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\r\n    return resolveMode(\"application/json\")\r\n  }\r\n  if (typeof spec == \"string\") { return {name: spec} }\r\n  else { return spec || {name: \"null\"} }\r\n}\r\n\r\n// Given a mode spec (anything that resolveMode accepts), find and\r\n// initialize an actual mode object.\r\nfunction getMode(options, spec) {\r\n  spec = resolveMode(spec)\r\n  var mfactory = modes[spec.name]\r\n  if (!mfactory) { return getMode(options, \"text/plain\") }\r\n  var modeObj = mfactory(options, spec)\r\n  if (modeExtensions.hasOwnProperty(spec.name)) {\r\n    var exts = modeExtensions[spec.name]\r\n    for (var prop in exts) {\r\n      if (!exts.hasOwnProperty(prop)) { continue }\r\n      if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop] }\r\n      modeObj[prop] = exts[prop]\r\n    }\r\n  }\r\n  modeObj.name = spec.name\r\n  if (spec.helperType) { modeObj.helperType = spec.helperType }\r\n  if (spec.modeProps) { for (var prop$1 in spec.modeProps)\r\n    { modeObj[prop$1] = spec.modeProps[prop$1] } }\r\n\r\n  return modeObj\r\n}\r\n\r\n// This can be used to attach properties to mode objects from\r\n// outside the actual mode definition.\r\nvar modeExtensions = {}\r\nfunction extendMode(mode, properties) {\r\n  var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {})\r\n  copyObj(properties, exts)\r\n}\r\n\r\nfunction copyState(mode, state) {\r\n  if (state === true) { return state }\r\n  if (mode.copyState) { return mode.copyState(state) }\r\n  var nstate = {}\r\n  for (var n in state) {\r\n    var val = state[n]\r\n    if (val instanceof Array) { val = val.concat([]) }\r\n    nstate[n] = val\r\n  }\r\n  return nstate\r\n}\r\n\r\n// Given a mode and a state (for that mode), find the inner mode and\r\n// state at the position that the state refers to.\r\nfunction innerMode(mode, state) {\r\n  var info\r\n  while (mode.innerMode) {\r\n    info = mode.innerMode(state)\r\n    if (!info || info.mode == mode) { break }\r\n    state = info.state\r\n    mode = info.mode\r\n  }\r\n  return info || {mode: mode, state: state}\r\n}\r\n\r\nfunction startState(mode, a1, a2) {\r\n  return mode.startState ? mode.startState(a1, a2) : true\r\n}\r\n\r\n// STRING STREAM\r\n\r\n// Fed to the mode parsers, provides helper functions to make\r\n// parsers more succinct.\r\n\r\nvar StringStream = function(string, tabSize) {\r\n  this.pos = this.start = 0\r\n  this.string = string\r\n  this.tabSize = tabSize || 8\r\n  this.lastColumnPos = this.lastColumnValue = 0\r\n  this.lineStart = 0\r\n};\r\n\r\nStringStream.prototype.eol = function () {return this.pos >= this.string.length};\r\nStringStream.prototype.sol = function () {return this.pos == this.lineStart};\r\nStringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\r\nStringStream.prototype.next = function () {\r\n  if (this.pos < this.string.length)\r\n    { return this.string.charAt(this.pos++) }\r\n};\r\nStringStream.prototype.eat = function (match) {\r\n  var ch = this.string.charAt(this.pos)\r\n  var ok\r\n  if (typeof match == \"string\") { ok = ch == match }\r\n  else { ok = ch && (match.test ? match.test(ch) : match(ch)) }\r\n  if (ok) {++this.pos; return ch}\r\n};\r\nStringStream.prototype.eatWhile = function (match) {\r\n  var start = this.pos\r\n  while (this.eat(match)){}\r\n  return this.pos > start\r\n};\r\nStringStream.prototype.eatSpace = function () {\r\n    var this$1 = this;\r\n\r\n  var start = this.pos\r\n  while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this$1.pos }\r\n  return this.pos > start\r\n};\r\nStringStream.prototype.skipToEnd = function () {this.pos = this.string.length};\r\nStringStream.prototype.skipTo = function (ch) {\r\n  var found = this.string.indexOf(ch, this.pos)\r\n  if (found > -1) {this.pos = found; return true}\r\n};\r\nStringStream.prototype.backUp = function (n) {this.pos -= n};\r\nStringStream.prototype.column = function () {\r\n  if (this.lastColumnPos < this.start) {\r\n    this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue)\r\n    this.lastColumnPos = this.start\r\n  }\r\n  return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\r\n};\r\nStringStream.prototype.indentation = function () {\r\n  return countColumn(this.string, null, this.tabSize) -\r\n    (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\r\n};\r\nStringStream.prototype.match = function (pattern, consume, caseInsensitive) {\r\n  if (typeof pattern == \"string\") {\r\n    var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; }\r\n    var substr = this.string.substr(this.pos, pattern.length)\r\n    if (cased(substr) == cased(pattern)) {\r\n      if (consume !== false) { this.pos += pattern.length }\r\n      return true\r\n    }\r\n  } else {\r\n    var match = this.string.slice(this.pos).match(pattern)\r\n    if (match && match.index > 0) { return null }\r\n    if (match && consume !== false) { this.pos += match[0].length }\r\n    return match\r\n  }\r\n};\r\nStringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\r\nStringStream.prototype.hideFirstChars = function (n, inner) {\r\n  this.lineStart += n\r\n  try { return inner() }\r\n  finally { this.lineStart -= n }\r\n};\r\n\r\n// Compute a style array (an array starting with a mode generation\r\n// -- for invalidation -- followed by pairs of end positions and\r\n// style strings), which is used to highlight the tokens on the\r\n// line.\r\nfunction highlightLine(cm, line, state, forceToEnd) {\r\n  // A styles array always starts with a number identifying the\r\n  // mode/overlays that it is based on (for easy invalidation).\r\n  var st = [cm.state.modeGen], lineClasses = {}\r\n  // Compute the base array of styles\r\n  runMode(cm, line.text, cm.doc.mode, state, function (end, style) { return st.push(end, style); },\r\n    lineClasses, forceToEnd)\r\n\r\n  // Run overlays, adjust style array.\r\n  var loop = function ( o ) {\r\n    var overlay = cm.state.overlays[o], i = 1, at = 0\r\n    runMode(cm, line.text, overlay.mode, true, function (end, style) {\r\n      var start = i\r\n      // Ensure there's a token end at the current position, and that i points at it\r\n      while (at < end) {\r\n        var i_end = st[i]\r\n        if (i_end > end)\r\n          { st.splice(i, 1, end, st[i+1], i_end) }\r\n        i += 2\r\n        at = Math.min(end, i_end)\r\n      }\r\n      if (!style) { return }\r\n      if (overlay.opaque) {\r\n        st.splice(start, i - start, end, \"overlay \" + style)\r\n        i = start + 2\r\n      } else {\r\n        for (; start < i; start += 2) {\r\n          var cur = st[start+1]\r\n          st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style\r\n        }\r\n      }\r\n    }, lineClasses)\r\n  };\r\n\r\n  for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\r\n\r\n  return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\r\n}\r\n\r\nfunction getLineStyles(cm, line, updateFrontier) {\r\n  if (!line.styles || line.styles[0] != cm.state.modeGen) {\r\n    var state = getStateBefore(cm, lineNo(line))\r\n    var result = highlightLine(cm, line, line.text.length > cm.options.maxHighlightLength ? copyState(cm.doc.mode, state) : state)\r\n    line.stateAfter = state\r\n    line.styles = result.styles\r\n    if (result.classes) { line.styleClasses = result.classes }\r\n    else if (line.styleClasses) { line.styleClasses = null }\r\n    if (updateFrontier === cm.doc.frontier) { cm.doc.frontier++ }\r\n  }\r\n  return line.styles\r\n}\r\n\r\nfunction getStateBefore(cm, n, precise) {\r\n  var doc = cm.doc, display = cm.display\r\n  if (!doc.mode.startState) { return true }\r\n  var pos = findStartLine(cm, n, precise), state = pos > doc.first && getLine(doc, pos-1).stateAfter\r\n  if (!state) { state = startState(doc.mode) }\r\n  else { state = copyState(doc.mode, state) }\r\n  doc.iter(pos, n, function (line) {\r\n    processLine(cm, line.text, state)\r\n    var save = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo\r\n    line.stateAfter = save ? copyState(doc.mode, state) : null\r\n    ++pos\r\n  })\r\n  if (precise) { doc.frontier = pos }\r\n  return state\r\n}\r\n\r\n// Lightweight form of highlight -- proceed over this line and\r\n// update state, but don't save a style array. Used for lines that\r\n// aren't currently visible.\r\nfunction processLine(cm, text, state, startAt) {\r\n  var mode = cm.doc.mode\r\n  var stream = new StringStream(text, cm.options.tabSize)\r\n  stream.start = stream.pos = startAt || 0\r\n  if (text == \"\") { callBlankLine(mode, state) }\r\n  while (!stream.eol()) {\r\n    readToken(mode, stream, state)\r\n    stream.start = stream.pos\r\n  }\r\n}\r\n\r\nfunction callBlankLine(mode, state) {\r\n  if (mode.blankLine) { return mode.blankLine(state) }\r\n  if (!mode.innerMode) { return }\r\n  var inner = innerMode(mode, state)\r\n  if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\r\n}\r\n\r\nfunction readToken(mode, stream, state, inner) {\r\n  for (var i = 0; i < 10; i++) {\r\n    if (inner) { inner[0] = innerMode(mode, state).mode }\r\n    var style = mode.token(stream, state)\r\n    if (stream.pos > stream.start) { return style }\r\n  }\r\n  throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\r\n}\r\n\r\n// Utility for getTokenAt and getLineTokens\r\nfunction takeToken(cm, pos, precise, asArray) {\r\n  var getObj = function (copy) { return ({\r\n    start: stream.start, end: stream.pos,\r\n    string: stream.current(),\r\n    type: style || null,\r\n    state: copy ? copyState(doc.mode, state) : state\r\n  }); }\r\n\r\n  var doc = cm.doc, mode = doc.mode, style\r\n  pos = clipPos(doc, pos)\r\n  var line = getLine(doc, pos.line), state = getStateBefore(cm, pos.line, precise)\r\n  var stream = new StringStream(line.text, cm.options.tabSize), tokens\r\n  if (asArray) { tokens = [] }\r\n  while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\r\n    stream.start = stream.pos\r\n    style = readToken(mode, stream, state)\r\n    if (asArray) { tokens.push(getObj(true)) }\r\n  }\r\n  return asArray ? tokens : getObj()\r\n}\r\n\r\nfunction extractLineClasses(type, output) {\r\n  if (type) { for (;;) {\r\n    var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/)\r\n    if (!lineClass) { break }\r\n    type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length)\r\n    var prop = lineClass[1] ? \"bgClass\" : \"textClass\"\r\n    if (output[prop] == null)\r\n      { output[prop] = lineClass[2] }\r\n    else if (!(new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\")).test(output[prop]))\r\n      { output[prop] += \" \" + lineClass[2] }\r\n  } }\r\n  return type\r\n}\r\n\r\n// Run the given mode's parser over a line, calling f for each token.\r\nfunction runMode(cm, text, mode, state, f, lineClasses, forceToEnd) {\r\n  var flattenSpans = mode.flattenSpans\r\n  if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans }\r\n  var curStart = 0, curStyle = null\r\n  var stream = new StringStream(text, cm.options.tabSize), style\r\n  var inner = cm.options.addModeClass && [null]\r\n  if (text == \"\") { extractLineClasses(callBlankLine(mode, state), lineClasses) }\r\n  while (!stream.eol()) {\r\n    if (stream.pos > cm.options.maxHighlightLength) {\r\n      flattenSpans = false\r\n      if (forceToEnd) { processLine(cm, text, state, stream.pos) }\r\n      stream.pos = text.length\r\n      style = null\r\n    } else {\r\n      style = extractLineClasses(readToken(mode, stream, state, inner), lineClasses)\r\n    }\r\n    if (inner) {\r\n      var mName = inner[0].name\r\n      if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName) }\r\n    }\r\n    if (!flattenSpans || curStyle != style) {\r\n      while (curStart < stream.start) {\r\n        curStart = Math.min(stream.start, curStart + 5000)\r\n        f(curStart, curStyle)\r\n      }\r\n      curStyle = style\r\n    }\r\n    stream.start = stream.pos\r\n  }\r\n  while (curStart < stream.pos) {\r\n    // Webkit seems to refuse to render text nodes longer than 57444\r\n    // characters, and returns inaccurate measurements in nodes\r\n    // starting around 5000 chars.\r\n    var pos = Math.min(stream.pos, curStart + 5000)\r\n    f(pos, curStyle)\r\n    curStart = pos\r\n  }\r\n}\r\n\r\n// Finds the line to start with when starting a parse. Tries to\r\n// find a line with a stateAfter, so that it can start with a\r\n// valid state. If that fails, it returns the line with the\r\n// smallest indentation, which tends to need the least context to\r\n// parse correctly.\r\nfunction findStartLine(cm, n, precise) {\r\n  var minindent, minline, doc = cm.doc\r\n  var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100)\r\n  for (var search = n; search > lim; --search) {\r\n    if (search <= doc.first) { return doc.first }\r\n    var line = getLine(doc, search - 1)\r\n    if (line.stateAfter && (!precise || search <= doc.frontier)) { return search }\r\n    var indented = countColumn(line.text, null, cm.options.tabSize)\r\n    if (minline == null || minindent > indented) {\r\n      minline = search - 1\r\n      minindent = indented\r\n    }\r\n  }\r\n  return minline\r\n}\r\n\r\n// LINE DATA STRUCTURE\r\n\r\n// Line objects. These hold state related to a line, including\r\n// highlighting info (the styles array).\r\nvar Line = function(text, markedSpans, estimateHeight) {\r\n  this.text = text\r\n  attachMarkedSpans(this, markedSpans)\r\n  this.height = estimateHeight ? estimateHeight(this) : 1\r\n};\r\n\r\nLine.prototype.lineNo = function () { return lineNo(this) };\r\neventMixin(Line)\r\n\r\n// Change the content (text, markers) of a line. Automatically\r\n// invalidates cached information and tries to re-estimate the\r\n// line's height.\r\nfunction updateLine(line, text, markedSpans, estimateHeight) {\r\n  line.text = text\r\n  if (line.stateAfter) { line.stateAfter = null }\r\n  if (line.styles) { line.styles = null }\r\n  if (line.order != null) { line.order = null }\r\n  detachMarkedSpans(line)\r\n  attachMarkedSpans(line, markedSpans)\r\n  var estHeight = estimateHeight ? estimateHeight(line) : 1\r\n  if (estHeight != line.height) { updateLineHeight(line, estHeight) }\r\n}\r\n\r\n// Detach a line from the document tree and its markers.\r\nfunction cleanUpLine(line) {\r\n  line.parent = null\r\n  detachMarkedSpans(line)\r\n}\r\n\r\n// Convert a style as returned by a mode (either null, or a string\r\n// containing one or more styles) to a CSS style. This is cached,\r\n// and also looks for line-wide styles.\r\nvar styleToClassCache = {};\r\nvar styleToClassCacheWithMode = {};\r\nfunction interpretTokenStyle(style, options) {\r\n  if (!style || /^\\s*$/.test(style)) { return null }\r\n  var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache\r\n  return cache[style] ||\r\n    (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\r\n}\r\n\r\n// Render the DOM representation of the text of a line. Also builds\r\n// up a 'line map', which points at the DOM nodes that represent\r\n// specific stretches of text, and is used by the measuring code.\r\n// The returned object contains the DOM node, this map, and\r\n// information about line-wide styles that were set by the mode.\r\nfunction buildLineContent(cm, lineView) {\r\n  // The padding-right forces the element to have a 'border', which\r\n  // is needed on Webkit to be able to get line-level bounding\r\n  // rectangles for it (in measureChar).\r\n  var content = elt(\"span\", null, null, webkit ? \"padding-right: .1px\" : null)\r\n  var builder = {pre: elt(\"pre\", [content], \"CodeMirror-line\"), content: content,\r\n                 col: 0, pos: 0, cm: cm,\r\n                 trailingSpace: false,\r\n                 splitSpaces: (ie || webkit) && cm.getOption(\"lineWrapping\")}\r\n  // hide from accessibility tree\r\n  content.setAttribute(\"role\", \"presentation\")\r\n  builder.pre.setAttribute(\"role\", \"presentation\")\r\n  lineView.measure = {}\r\n\r\n  // Iterate over the logical lines that make up this visual line.\r\n  for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\r\n    var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0)\r\n    builder.pos = 0\r\n    builder.addToken = buildToken\r\n    // Optionally wire in some hacks into the token-rendering\r\n    // algorithm, to deal with browser quirks.\r\n    if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line)))\r\n      { builder.addToken = buildTokenBadBidi(builder.addToken, order) }\r\n    builder.map = []\r\n    var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line)\r\n    insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate))\r\n    if (line.styleClasses) {\r\n      if (line.styleClasses.bgClass)\r\n        { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\") }\r\n      if (line.styleClasses.textClass)\r\n        { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\") }\r\n    }\r\n\r\n    // Ensure at least a single node is present, for measuring.\r\n    if (builder.map.length == 0)\r\n      { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))) }\r\n\r\n    // Store the map and a cache object for the current logical line\r\n    if (i == 0) {\r\n      lineView.measure.map = builder.map\r\n      lineView.measure.cache = {}\r\n    } else {\r\n      ;(lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\r\n      ;(lineView.measure.caches || (lineView.measure.caches = [])).push({})\r\n    }\r\n  }\r\n\r\n  // See issue #2901\r\n  if (webkit) {\r\n    var last = builder.content.lastChild\r\n    if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\r\n      { builder.content.className = \"cm-tab-wrap-hack\" }\r\n  }\r\n\r\n  signal(cm, \"renderLine\", cm, lineView.line, builder.pre)\r\n  if (builder.pre.className)\r\n    { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\") }\r\n\r\n  return builder\r\n}\r\n\r\nfunction defaultSpecialCharPlaceholder(ch) {\r\n  var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\")\r\n  token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16)\r\n  token.setAttribute(\"aria-label\", token.title)\r\n  return token\r\n}\r\n\r\n// Build up the DOM representation for a single token, and add it to\r\n// the line map. Takes care to render special characters separately.\r\nfunction buildToken(builder, text, style, startStyle, endStyle, title, css) {\r\n  if (!text) { return }\r\n  var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text\r\n  var special = builder.cm.state.specialChars, mustWrap = false\r\n  var content\r\n  if (!special.test(text)) {\r\n    builder.col += text.length\r\n    content = document.createTextNode(displayText)\r\n    builder.map.push(builder.pos, builder.pos + text.length, content)\r\n    if (ie && ie_version < 9) { mustWrap = true }\r\n    builder.pos += text.length\r\n  } else {\r\n    content = document.createDocumentFragment()\r\n    var pos = 0\r\n    while (true) {\r\n      special.lastIndex = pos\r\n      var m = special.exec(text)\r\n      var skipped = m ? m.index - pos : text.length - pos\r\n      if (skipped) {\r\n        var txt = document.createTextNode(displayText.slice(pos, pos + skipped))\r\n        if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])) }\r\n        else { content.appendChild(txt) }\r\n        builder.map.push(builder.pos, builder.pos + skipped, txt)\r\n        builder.col += skipped\r\n        builder.pos += skipped\r\n      }\r\n      if (!m) { break }\r\n      pos += skipped + 1\r\n      var txt$1 = (void 0)\r\n      if (m[0] == \"\\t\") {\r\n        var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize\r\n        txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"))\r\n        txt$1.setAttribute(\"role\", \"presentation\")\r\n        txt$1.setAttribute(\"cm-text\", \"\\t\")\r\n        builder.col += tabWidth\r\n      } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\r\n        txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"))\r\n        txt$1.setAttribute(\"cm-text\", m[0])\r\n        builder.col += 1\r\n      } else {\r\n        txt$1 = builder.cm.options.specialCharPlaceholder(m[0])\r\n        txt$1.setAttribute(\"cm-text\", m[0])\r\n        if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])) }\r\n        else { content.appendChild(txt$1) }\r\n        builder.col += 1\r\n      }\r\n      builder.map.push(builder.pos, builder.pos + 1, txt$1)\r\n      builder.pos++\r\n    }\r\n  }\r\n  builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32\r\n  if (style || startStyle || endStyle || mustWrap || css) {\r\n    var fullStyle = style || \"\"\r\n    if (startStyle) { fullStyle += startStyle }\r\n    if (endStyle) { fullStyle += endStyle }\r\n    var token = elt(\"span\", [content], fullStyle, css)\r\n    if (title) { token.title = title }\r\n    return builder.content.appendChild(token)\r\n  }\r\n  builder.content.appendChild(content)\r\n}\r\n\r\nfunction splitSpaces(text, trailingBefore) {\r\n  if (text.length > 1 && !/  /.test(text)) { return text }\r\n  var spaceBefore = trailingBefore, result = \"\"\r\n  for (var i = 0; i < text.length; i++) {\r\n    var ch = text.charAt(i)\r\n    if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\r\n      { ch = \"\\u00a0\" }\r\n    result += ch\r\n    spaceBefore = ch == \" \"\r\n  }\r\n  return result\r\n}\r\n\r\n// Work around nonsense dimensions being reported for stretches of\r\n// right-to-left text.\r\nfunction buildTokenBadBidi(inner, order) {\r\n  return function (builder, text, style, startStyle, endStyle, title, css) {\r\n    style = style ? style + \" cm-force-border\" : \"cm-force-border\"\r\n    var start = builder.pos, end = start + text.length\r\n    for (;;) {\r\n      // Find the part that overlaps with the start of this text\r\n      var part = (void 0)\r\n      for (var i = 0; i < order.length; i++) {\r\n        part = order[i]\r\n        if (part.to > start && part.from <= start) { break }\r\n      }\r\n      if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, title, css) }\r\n      inner(builder, text.slice(0, part.to - start), style, startStyle, null, title, css)\r\n      startStyle = null\r\n      text = text.slice(part.to - start)\r\n      start = part.to\r\n    }\r\n  }\r\n}\r\n\r\nfunction buildCollapsedSpan(builder, size, marker, ignoreWidget) {\r\n  var widget = !ignoreWidget && marker.widgetNode\r\n  if (widget) { builder.map.push(builder.pos, builder.pos + size, widget) }\r\n  if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\r\n    if (!widget)\r\n      { widget = builder.content.appendChild(document.createElement(\"span\")) }\r\n    widget.setAttribute(\"cm-marker\", marker.id)\r\n  }\r\n  if (widget) {\r\n    builder.cm.display.input.setUneditable(widget)\r\n    builder.content.appendChild(widget)\r\n  }\r\n  builder.pos += size\r\n  builder.trailingSpace = false\r\n}\r\n\r\n// Outputs a number of spans to make up a line, taking highlighting\r\n// and marked text into account.\r\nfunction insertLineContent(line, builder, styles) {\r\n  var spans = line.markedSpans, allText = line.text, at = 0\r\n  if (!spans) {\r\n    for (var i$1 = 1; i$1 < styles.length; i$1+=2)\r\n      { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)) }\r\n    return\r\n  }\r\n\r\n  var len = allText.length, pos = 0, i = 1, text = \"\", style, css\r\n  var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, title, collapsed\r\n  for (;;) {\r\n    if (nextChange == pos) { // Update current marker set\r\n      spanStyle = spanEndStyle = spanStartStyle = title = css = \"\"\r\n      collapsed = null; nextChange = Infinity\r\n      var foundBookmarks = [], endStyles = (void 0)\r\n      for (var j = 0; j < spans.length; ++j) {\r\n        var sp = spans[j], m = sp.marker\r\n        if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\r\n          foundBookmarks.push(m)\r\n        } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\r\n          if (sp.to != null && sp.to != pos && nextChange > sp.to) {\r\n            nextChange = sp.to\r\n            spanEndStyle = \"\"\r\n          }\r\n          if (m.className) { spanStyle += \" \" + m.className }\r\n          if (m.css) { css = (css ? css + \";\" : \"\") + m.css }\r\n          if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle }\r\n          if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to) }\r\n          if (m.title && !title) { title = m.title }\r\n          if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\r\n            { collapsed = sp }\r\n        } else if (sp.from > pos && nextChange > sp.from) {\r\n          nextChange = sp.from\r\n        }\r\n      }\r\n      if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\r\n        { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1] } } }\r\n\r\n      if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\r\n        { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]) } }\r\n      if (collapsed && (collapsed.from || 0) == pos) {\r\n        buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\r\n                           collapsed.marker, collapsed.from == null)\r\n        if (collapsed.to == null) { return }\r\n        if (collapsed.to == pos) { collapsed = false }\r\n      }\r\n    }\r\n    if (pos >= len) { break }\r\n\r\n    var upto = Math.min(len, nextChange)\r\n    while (true) {\r\n      if (text) {\r\n        var end = pos + text.length\r\n        if (!collapsed) {\r\n          var tokenText = end > upto ? text.slice(0, upto - pos) : text\r\n          builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\r\n                           spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", title, css)\r\n        }\r\n        if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\r\n        pos = end\r\n        spanStartStyle = \"\"\r\n      }\r\n      text = allText.slice(at, at = styles[i++])\r\n      style = interpretTokenStyle(styles[i++], builder.cm.options)\r\n    }\r\n  }\r\n}\r\n\r\n\r\n// These objects are used to represent the visible (currently drawn)\r\n// part of the document. A LineView may correspond to multiple\r\n// logical lines, if those are connected by collapsed ranges.\r\nfunction LineView(doc, line, lineN) {\r\n  // The starting line\r\n  this.line = line\r\n  // Continuing lines, if any\r\n  this.rest = visualLineContinued(line)\r\n  // Number of logical lines in this visual line\r\n  this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1\r\n  this.node = this.text = null\r\n  this.hidden = lineIsHidden(doc, line)\r\n}\r\n\r\n// Create a range of LineView objects for the given lines.\r\nfunction buildViewArray(cm, from, to) {\r\n  var array = [], nextPos\r\n  for (var pos = from; pos < to; pos = nextPos) {\r\n    var view = new LineView(cm.doc, getLine(cm.doc, pos), pos)\r\n    nextPos = pos + view.size\r\n    array.push(view)\r\n  }\r\n  return array\r\n}\r\n\r\nvar operationGroup = null\r\n\r\nfunction pushOperation(op) {\r\n  if (operationGroup) {\r\n    operationGroup.ops.push(op)\r\n  } else {\r\n    op.ownsGroup = operationGroup = {\r\n      ops: [op],\r\n      delayedCallbacks: []\r\n    }\r\n  }\r\n}\r\n\r\nfunction fireCallbacksForOps(group) {\r\n  // Calls delayed callbacks and cursorActivity handlers until no\r\n  // new ones appear\r\n  var callbacks = group.delayedCallbacks, i = 0\r\n  do {\r\n    for (; i < callbacks.length; i++)\r\n      { callbacks[i].call(null) }\r\n    for (var j = 0; j < group.ops.length; j++) {\r\n      var op = group.ops[j]\r\n      if (op.cursorActivityHandlers)\r\n        { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\r\n          { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm) } }\r\n    }\r\n  } while (i < callbacks.length)\r\n}\r\n\r\nfunction finishOperation(op, endCb) {\r\n  var group = op.ownsGroup\r\n  if (!group) { return }\r\n\r\n  try { fireCallbacksForOps(group) }\r\n  finally {\r\n    operationGroup = null\r\n    endCb(group)\r\n  }\r\n}\r\n\r\nvar orphanDelayedCallbacks = null\r\n\r\n// Often, we want to signal events at a point where we are in the\r\n// middle of some work, but don't want the handler to start calling\r\n// other methods on the editor, which might be in an inconsistent\r\n// state or simply not expect any other events to happen.\r\n// signalLater looks whether there are any handlers, and schedules\r\n// them to be executed when the last operation ends, or, if no\r\n// operation is active, when a timeout fires.\r\nfunction signalLater(emitter, type /*, values...*/) {\r\n  var arr = getHandlers(emitter, type)\r\n  if (!arr.length) { return }\r\n  var args = Array.prototype.slice.call(arguments, 2), list\r\n  if (operationGroup) {\r\n    list = operationGroup.delayedCallbacks\r\n  } else if (orphanDelayedCallbacks) {\r\n    list = orphanDelayedCallbacks\r\n  } else {\r\n    list = orphanDelayedCallbacks = []\r\n    setTimeout(fireOrphanDelayed, 0)\r\n  }\r\n  var loop = function ( i ) {\r\n    list.push(function () { return arr[i].apply(null, args); })\r\n  };\r\n\r\n  for (var i = 0; i < arr.length; ++i)\r\n    loop( i );\r\n}\r\n\r\nfunction fireOrphanDelayed() {\r\n  var delayed = orphanDelayedCallbacks\r\n  orphanDelayedCallbacks = null\r\n  for (var i = 0; i < delayed.length; ++i) { delayed[i]() }\r\n}\r\n\r\n// When an aspect of a line changes, a string is added to\r\n// lineView.changes. This updates the relevant part of the line's\r\n// DOM structure.\r\nfunction updateLineForChanges(cm, lineView, lineN, dims) {\r\n  for (var j = 0; j < lineView.changes.length; j++) {\r\n    var type = lineView.changes[j]\r\n    if (type == \"text\") { updateLineText(cm, lineView) }\r\n    else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims) }\r\n    else if (type == \"class\") { updateLineClasses(lineView) }\r\n    else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims) }\r\n  }\r\n  lineView.changes = null\r\n}\r\n\r\n// Lines with gutter elements, widgets or a background class need to\r\n// be wrapped, and have the extra elements added to the wrapper div\r\nfunction ensureLineWrapped(lineView) {\r\n  if (lineView.node == lineView.text) {\r\n    lineView.node = elt(\"div\", null, null, \"position: relative\")\r\n    if (lineView.text.parentNode)\r\n      { lineView.text.parentNode.replaceChild(lineView.node, lineView.text) }\r\n    lineView.node.appendChild(lineView.text)\r\n    if (ie && ie_version < 8) { lineView.node.style.zIndex = 2 }\r\n  }\r\n  return lineView.node\r\n}\r\n\r\nfunction updateLineBackground(lineView) {\r\n  var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass\r\n  if (cls) { cls += \" CodeMirror-linebackground\" }\r\n  if (lineView.background) {\r\n    if (cls) { lineView.background.className = cls }\r\n    else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null }\r\n  } else if (cls) {\r\n    var wrap = ensureLineWrapped(lineView)\r\n    lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild)\r\n  }\r\n}\r\n\r\n// Wrapper around buildLineContent which will reuse the structure\r\n// in display.externalMeasured when possible.\r\nfunction getLineContent(cm, lineView) {\r\n  var ext = cm.display.externalMeasured\r\n  if (ext && ext.line == lineView.line) {\r\n    cm.display.externalMeasured = null\r\n    lineView.measure = ext.measure\r\n    return ext.built\r\n  }\r\n  return buildLineContent(cm, lineView)\r\n}\r\n\r\n// Redraw the line's text. Interacts with the background and text\r\n// classes because the mode may output tokens that influence these\r\n// classes.\r\nfunction updateLineText(cm, lineView) {\r\n  var cls = lineView.text.className\r\n  var built = getLineContent(cm, lineView)\r\n  if (lineView.text == lineView.node) { lineView.node = built.pre }\r\n  lineView.text.parentNode.replaceChild(built.pre, lineView.text)\r\n  lineView.text = built.pre\r\n  if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\r\n    lineView.bgClass = built.bgClass\r\n    lineView.textClass = built.textClass\r\n    updateLineClasses(lineView)\r\n  } else if (cls) {\r\n    lineView.text.className = cls\r\n  }\r\n}\r\n\r\nfunction updateLineClasses(lineView) {\r\n  updateLineBackground(lineView)\r\n  if (lineView.line.wrapClass)\r\n    { ensureLineWrapped(lineView).className = lineView.line.wrapClass }\r\n  else if (lineView.node != lineView.text)\r\n    { lineView.node.className = \"\" }\r\n  var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass\r\n  lineView.text.className = textClass || \"\"\r\n}\r\n\r\nfunction updateLineGutter(cm, lineView, lineN, dims) {\r\n  if (lineView.gutter) {\r\n    lineView.node.removeChild(lineView.gutter)\r\n    lineView.gutter = null\r\n  }\r\n  if (lineView.gutterBackground) {\r\n    lineView.node.removeChild(lineView.gutterBackground)\r\n    lineView.gutterBackground = null\r\n  }\r\n  if (lineView.line.gutterClass) {\r\n    var wrap = ensureLineWrapped(lineView)\r\n    lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\r\n                                    (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"))\r\n    wrap.insertBefore(lineView.gutterBackground, lineView.text)\r\n  }\r\n  var markers = lineView.line.gutterMarkers\r\n  if (cm.options.lineNumbers || markers) {\r\n    var wrap$1 = ensureLineWrapped(lineView)\r\n    var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"))\r\n    cm.display.input.setUneditable(gutterWrap)\r\n    wrap$1.insertBefore(gutterWrap, lineView.text)\r\n    if (lineView.line.gutterClass)\r\n      { gutterWrap.className += \" \" + lineView.line.gutterClass }\r\n    if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\r\n      { lineView.lineNumber = gutterWrap.appendChild(\r\n        elt(\"div\", lineNumberFor(cm.options, lineN),\r\n            \"CodeMirror-linenumber CodeMirror-gutter-elt\",\r\n            (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))) }\r\n    if (markers) { for (var k = 0; k < cm.options.gutters.length; ++k) {\r\n      var id = cm.options.gutters[k], found = markers.hasOwnProperty(id) && markers[id]\r\n      if (found)\r\n        { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\r\n                                   (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))) }\r\n    } }\r\n  }\r\n}\r\n\r\nfunction updateLineWidgets(cm, lineView, dims) {\r\n  if (lineView.alignable) { lineView.alignable = null }\r\n  for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\r\n    next = node.nextSibling\r\n    if (node.className == \"CodeMirror-linewidget\")\r\n      { lineView.node.removeChild(node) }\r\n  }\r\n  insertLineWidgets(cm, lineView, dims)\r\n}\r\n\r\n// Build a line's DOM representation from scratch\r\nfunction buildLineElement(cm, lineView, lineN, dims) {\r\n  var built = getLineContent(cm, lineView)\r\n  lineView.text = lineView.node = built.pre\r\n  if (built.bgClass) { lineView.bgClass = built.bgClass }\r\n  if (built.textClass) { lineView.textClass = built.textClass }\r\n\r\n  updateLineClasses(lineView)\r\n  updateLineGutter(cm, lineView, lineN, dims)\r\n  insertLineWidgets(cm, lineView, dims)\r\n  return lineView.node\r\n}\r\n\r\n// A lineView may contain multiple logical lines (when merged by\r\n// collapsed spans). The widgets for all of them need to be drawn.\r\nfunction insertLineWidgets(cm, lineView, dims) {\r\n  insertLineWidgetsFor(cm, lineView.line, lineView, dims, true)\r\n  if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\r\n    { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false) } }\r\n}\r\n\r\nfunction insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\r\n  if (!line.widgets) { return }\r\n  var wrap = ensureLineWrapped(lineView)\r\n  for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\r\n    var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\")\r\n    if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\") }\r\n    positionLineWidget(widget, node, lineView, dims)\r\n    cm.display.input.setUneditable(node)\r\n    if (allowAbove && widget.above)\r\n      { wrap.insertBefore(node, lineView.gutter || lineView.text) }\r\n    else\r\n      { wrap.appendChild(node) }\r\n    signalLater(widget, \"redraw\")\r\n  }\r\n}\r\n\r\nfunction positionLineWidget(widget, node, lineView, dims) {\r\n  if (widget.noHScroll) {\r\n    ;(lineView.alignable || (lineView.alignable = [])).push(node)\r\n    var width = dims.wrapperWidth\r\n    node.style.left = dims.fixedPos + \"px\"\r\n    if (!widget.coverGutter) {\r\n      width -= dims.gutterTotalWidth\r\n      node.style.paddingLeft = dims.gutterTotalWidth + \"px\"\r\n    }\r\n    node.style.width = width + \"px\"\r\n  }\r\n  if (widget.coverGutter) {\r\n    node.style.zIndex = 5\r\n    node.style.position = \"relative\"\r\n    if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\" }\r\n  }\r\n}\r\n\r\nfunction widgetHeight(widget) {\r\n  if (widget.height != null) { return widget.height }\r\n  var cm = widget.doc.cm\r\n  if (!cm) { return 0 }\r\n  if (!contains(document.body, widget.node)) {\r\n    var parentStyle = \"position: relative;\"\r\n    if (widget.coverGutter)\r\n      { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\" }\r\n    if (widget.noHScroll)\r\n      { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\" }\r\n    removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle))\r\n  }\r\n  return widget.height = widget.node.parentNode.offsetHeight\r\n}\r\n\r\n// Return true when the given mouse event happened in a widget\r\nfunction eventInWidget(display, e) {\r\n  for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\r\n    if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\r\n        (n.parentNode == display.sizer && n != display.mover))\r\n      { return true }\r\n  }\r\n}\r\n\r\n// POSITION MEASUREMENT\r\n\r\nfunction paddingTop(display) {return display.lineSpace.offsetTop}\r\nfunction paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\r\nfunction paddingH(display) {\r\n  if (display.cachedPaddingH) { return display.cachedPaddingH }\r\n  var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\"))\r\n  var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle\r\n  var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)}\r\n  if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data }\r\n  return data\r\n}\r\n\r\nfunction scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\r\nfunction displayWidth(cm) {\r\n  return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\r\n}\r\nfunction displayHeight(cm) {\r\n  return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\r\n}\r\n\r\n// Ensure the lineView.wrapping.heights array is populated. This is\r\n// an array of bottom offsets for the lines that make up a drawn\r\n// line. When lineWrapping is on, there might be more than one\r\n// height.\r\nfunction ensureLineHeights(cm, lineView, rect) {\r\n  var wrapping = cm.options.lineWrapping\r\n  var curWidth = wrapping && displayWidth(cm)\r\n  if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\r\n    var heights = lineView.measure.heights = []\r\n    if (wrapping) {\r\n      lineView.measure.width = curWidth\r\n      var rects = lineView.text.firstChild.getClientRects()\r\n      for (var i = 0; i < rects.length - 1; i++) {\r\n        var cur = rects[i], next = rects[i + 1]\r\n        if (Math.abs(cur.bottom - next.bottom) > 2)\r\n          { heights.push((cur.bottom + next.top) / 2 - rect.top) }\r\n      }\r\n    }\r\n    heights.push(rect.bottom - rect.top)\r\n  }\r\n}\r\n\r\n// Find a line map (mapping character offsets to text nodes) and a\r\n// measurement cache for the given line number. (A line view might\r\n// contain multiple lines when collapsed ranges are present.)\r\nfunction mapFromLineView(lineView, line, lineN) {\r\n  if (lineView.line == line)\r\n    { return {map: lineView.measure.map, cache: lineView.measure.cache} }\r\n  for (var i = 0; i < lineView.rest.length; i++)\r\n    { if (lineView.rest[i] == line)\r\n      { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\r\n  for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\r\n    { if (lineNo(lineView.rest[i$1]) > lineN)\r\n      { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\r\n}\r\n\r\n// Render a line into the hidden node display.externalMeasured. Used\r\n// when measurement is needed for a line that's not in the viewport.\r\nfunction updateExternalMeasurement(cm, line) {\r\n  line = visualLine(line)\r\n  var lineN = lineNo(line)\r\n  var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN)\r\n  view.lineN = lineN\r\n  var built = view.built = buildLineContent(cm, view)\r\n  view.text = built.pre\r\n  removeChildrenAndAdd(cm.display.lineMeasure, built.pre)\r\n  return view\r\n}\r\n\r\n// Get a {top, bottom, left, right} box (in line-local coordinates)\r\n// for a given character.\r\nfunction measureChar(cm, line, ch, bias) {\r\n  return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\r\n}\r\n\r\n// Find a line view that corresponds to the given line number.\r\nfunction findViewForLine(cm, lineN) {\r\n  if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\r\n    { return cm.display.view[findViewIndex(cm, lineN)] }\r\n  var ext = cm.display.externalMeasured\r\n  if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\r\n    { return ext }\r\n}\r\n\r\n// Measurement can be split in two steps, the set-up work that\r\n// applies to the whole line, and the measurement of the actual\r\n// character. Functions like coordsChar, that need to do a lot of\r\n// measurements in a row, can thus ensure that the set-up work is\r\n// only done once.\r\nfunction prepareMeasureForLine(cm, line) {\r\n  var lineN = lineNo(line)\r\n  var view = findViewForLine(cm, lineN)\r\n  if (view && !view.text) {\r\n    view = null\r\n  } else if (view && view.changes) {\r\n    updateLineForChanges(cm, view, lineN, getDimensions(cm))\r\n    cm.curOp.forceUpdate = true\r\n  }\r\n  if (!view)\r\n    { view = updateExternalMeasurement(cm, line) }\r\n\r\n  var info = mapFromLineView(view, line, lineN)\r\n  return {\r\n    line: line, view: view, rect: null,\r\n    map: info.map, cache: info.cache, before: info.before,\r\n    hasHeights: false\r\n  }\r\n}\r\n\r\n// Given a prepared measurement object, measures the position of an\r\n// actual character (or fetches it from the cache).\r\nfunction measureCharPrepared(cm, prepared, ch, bias, varHeight) {\r\n  if (prepared.before) { ch = -1 }\r\n  var key = ch + (bias || \"\"), found\r\n  if (prepared.cache.hasOwnProperty(key)) {\r\n    found = prepared.cache[key]\r\n  } else {\r\n    if (!prepared.rect)\r\n      { prepared.rect = prepared.view.text.getBoundingClientRect() }\r\n    if (!prepared.hasHeights) {\r\n      ensureLineHeights(cm, prepared.view, prepared.rect)\r\n      prepared.hasHeights = true\r\n    }\r\n    found = measureCharInner(cm, prepared, ch, bias)\r\n    if (!found.bogus) { prepared.cache[key] = found }\r\n  }\r\n  return {left: found.left, right: found.right,\r\n          top: varHeight ? found.rtop : found.top,\r\n          bottom: varHeight ? found.rbottom : found.bottom}\r\n}\r\n\r\nvar nullRect = {left: 0, right: 0, top: 0, bottom: 0}\r\n\r\nfunction nodeAndOffsetInLineMap(map, ch, bias) {\r\n  var node, start, end, collapse, mStart, mEnd\r\n  // First, search the line map for the text node corresponding to,\r\n  // or closest to, the target character.\r\n  for (var i = 0; i < map.length; i += 3) {\r\n    mStart = map[i]\r\n    mEnd = map[i + 1]\r\n    if (ch < mStart) {\r\n      start = 0; end = 1\r\n      collapse = \"left\"\r\n    } else if (ch < mEnd) {\r\n      start = ch - mStart\r\n      end = start + 1\r\n    } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\r\n      end = mEnd - mStart\r\n      start = end - 1\r\n      if (ch >= mEnd) { collapse = \"right\" }\r\n    }\r\n    if (start != null) {\r\n      node = map[i + 2]\r\n      if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\r\n        { collapse = bias }\r\n      if (bias == \"left\" && start == 0)\r\n        { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\r\n          node = map[(i -= 3) + 2]\r\n          collapse = \"left\"\r\n        } }\r\n      if (bias == \"right\" && start == mEnd - mStart)\r\n        { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\r\n          node = map[(i += 3) + 2]\r\n          collapse = \"right\"\r\n        } }\r\n      break\r\n    }\r\n  }\r\n  return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\r\n}\r\n\r\nfunction getUsefulRect(rects, bias) {\r\n  var rect = nullRect\r\n  if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\r\n    if ((rect = rects[i]).left != rect.right) { break }\r\n  } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\r\n    if ((rect = rects[i$1]).left != rect.right) { break }\r\n  } }\r\n  return rect\r\n}\r\n\r\nfunction measureCharInner(cm, prepared, ch, bias) {\r\n  var place = nodeAndOffsetInLineMap(prepared.map, ch, bias)\r\n  var node = place.node, start = place.start, end = place.end, collapse = place.collapse\r\n\r\n  var rect\r\n  if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\r\n    for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\r\n      while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start }\r\n      while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end }\r\n      if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\r\n        { rect = node.parentNode.getBoundingClientRect() }\r\n      else\r\n        { rect = getUsefulRect(range(node, start, end).getClientRects(), bias) }\r\n      if (rect.left || rect.right || start == 0) { break }\r\n      end = start\r\n      start = start - 1\r\n      collapse = \"right\"\r\n    }\r\n    if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect) }\r\n  } else { // If it is a widget, simply get the box for the whole widget.\r\n    if (start > 0) { collapse = bias = \"right\" }\r\n    var rects\r\n    if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\r\n      { rect = rects[bias == \"right\" ? rects.length - 1 : 0] }\r\n    else\r\n      { rect = node.getBoundingClientRect() }\r\n  }\r\n  if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\r\n    var rSpan = node.parentNode.getClientRects()[0]\r\n    if (rSpan)\r\n      { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom} }\r\n    else\r\n      { rect = nullRect }\r\n  }\r\n\r\n  var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top\r\n  var mid = (rtop + rbot) / 2\r\n  var heights = prepared.view.measure.heights\r\n  var i = 0\r\n  for (; i < heights.length - 1; i++)\r\n    { if (mid < heights[i]) { break } }\r\n  var top = i ? heights[i - 1] : 0, bot = heights[i]\r\n  var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\r\n                right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\r\n                top: top, bottom: bot}\r\n  if (!rect.left && !rect.right) { result.bogus = true }\r\n  if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot }\r\n\r\n  return result\r\n}\r\n\r\n// Work around problem with bounding client rects on ranges being\r\n// returned incorrectly when zoomed on IE10 and below.\r\nfunction maybeUpdateRectForZooming(measure, rect) {\r\n  if (!window.screen || screen.logicalXDPI == null ||\r\n      screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\r\n    { return rect }\r\n  var scaleX = screen.logicalXDPI / screen.deviceXDPI\r\n  var scaleY = screen.logicalYDPI / screen.deviceYDPI\r\n  return {left: rect.left * scaleX, right: rect.right * scaleX,\r\n          top: rect.top * scaleY, bottom: rect.bottom * scaleY}\r\n}\r\n\r\nfunction clearLineMeasurementCacheFor(lineView) {\r\n  if (lineView.measure) {\r\n    lineView.measure.cache = {}\r\n    lineView.measure.heights = null\r\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\r\n      { lineView.measure.caches[i] = {} } }\r\n  }\r\n}\r\n\r\nfunction clearLineMeasurementCache(cm) {\r\n  cm.display.externalMeasure = null\r\n  removeChildren(cm.display.lineMeasure)\r\n  for (var i = 0; i < cm.display.view.length; i++)\r\n    { clearLineMeasurementCacheFor(cm.display.view[i]) }\r\n}\r\n\r\nfunction clearCaches(cm) {\r\n  clearLineMeasurementCache(cm)\r\n  cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null\r\n  if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true }\r\n  cm.display.lineNumChars = null\r\n}\r\n\r\nfunction pageScrollX() { return window.pageXOffset || (document.documentElement || document.body).scrollLeft }\r\nfunction pageScrollY() { return window.pageYOffset || (document.documentElement || document.body).scrollTop }\r\n\r\n// Converts a {top, bottom, left, right} box from line-local\r\n// coordinates into another coordinate system. Context may be one of\r\n// \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\r\n// or \"page\".\r\nfunction intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\r\n  if (!includeWidgets && lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above) {\r\n    var size = widgetHeight(lineObj.widgets[i])\r\n    rect.top += size; rect.bottom += size\r\n  } } }\r\n  if (context == \"line\") { return rect }\r\n  if (!context) { context = \"local\" }\r\n  var yOff = heightAtLine(lineObj)\r\n  if (context == \"local\") { yOff += paddingTop(cm.display) }\r\n  else { yOff -= cm.display.viewOffset }\r\n  if (context == \"page\" || context == \"window\") {\r\n    var lOff = cm.display.lineSpace.getBoundingClientRect()\r\n    yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY())\r\n    var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX())\r\n    rect.left += xOff; rect.right += xOff\r\n  }\r\n  rect.top += yOff; rect.bottom += yOff\r\n  return rect\r\n}\r\n\r\n// Coverts a box from \"div\" coords to another coordinate system.\r\n// Context may be \"window\", \"page\", \"div\", or \"local\"./null.\r\nfunction fromCoordSystem(cm, coords, context) {\r\n  if (context == \"div\") { return coords }\r\n  var left = coords.left, top = coords.top\r\n  // First move into \"page\" coordinate system\r\n  if (context == \"page\") {\r\n    left -= pageScrollX()\r\n    top -= pageScrollY()\r\n  } else if (context == \"local\" || !context) {\r\n    var localBox = cm.display.sizer.getBoundingClientRect()\r\n    left += localBox.left\r\n    top += localBox.top\r\n  }\r\n\r\n  var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect()\r\n  return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\r\n}\r\n\r\nfunction charCoords(cm, pos, context, lineObj, bias) {\r\n  if (!lineObj) { lineObj = getLine(cm.doc, pos.line) }\r\n  return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\r\n}\r\n\r\n// Returns a box for a given cursor position, which may have an\r\n// 'other' property containing the position of the secondary cursor\r\n// on a bidi boundary.\r\n// A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\r\n// and after `char - 1` in writing order of `char - 1`\r\n// A cursor Pos(line, char, \"after\") is on the same visual line as `char`\r\n// and before `char` in writing order of `char`\r\n// Examples (upper-case letters are RTL, lower-case are LTR):\r\n//     Pos(0, 1, ...)\r\n//     before   after\r\n// ab     a|b     a|b\r\n// aB     a|B     aB|\r\n// Ab     |Ab     A|b\r\n// AB     B|A     B|A\r\n// Every position after the last character on a line is considered to stick\r\n// to the last character on the line.\r\nfunction cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\r\n  lineObj = lineObj || getLine(cm.doc, pos.line)\r\n  if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj) }\r\n  function get(ch, right) {\r\n    var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight)\r\n    if (right) { m.left = m.right; } else { m.right = m.left }\r\n    return intoCoordSystem(cm, lineObj, m, context)\r\n  }\r\n  var order = getOrder(lineObj), ch = pos.ch, sticky = pos.sticky\r\n  if (ch >= lineObj.text.length) {\r\n    ch = lineObj.text.length\r\n    sticky = \"before\"\r\n  } else if (ch <= 0) {\r\n    ch = 0\r\n    sticky = \"after\"\r\n  }\r\n  if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\r\n\r\n  function getBidi(ch, partPos, invert) {\r\n    var part = order[partPos], right = (part.level % 2) != 0\r\n    return get(invert ? ch - 1 : ch, right != invert)\r\n  }\r\n  var partPos = getBidiPartAt(order, ch, sticky)\r\n  var other = bidiOther\r\n  var val = getBidi(ch, partPos, sticky == \"before\")\r\n  if (other != null) { val.other = getBidi(ch, other, sticky != \"before\") }\r\n  return val\r\n}\r\n\r\n// Used to cheaply estimate the coordinates for a position. Used for\r\n// intermediate scroll updates.\r\nfunction estimateCoords(cm, pos) {\r\n  var left = 0\r\n  pos = clipPos(cm.doc, pos)\r\n  if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch }\r\n  var lineObj = getLine(cm.doc, pos.line)\r\n  var top = heightAtLine(lineObj) + paddingTop(cm.display)\r\n  return {left: left, right: left, top: top, bottom: top + lineObj.height}\r\n}\r\n\r\n// Positions returned by coordsChar contain some extra information.\r\n// xRel is the relative x position of the input coordinates compared\r\n// to the found position (so xRel > 0 means the coordinates are to\r\n// the right of the character position, for example). When outside\r\n// is true, that means the coordinates lie outside the line's\r\n// vertical range.\r\nfunction PosWithInfo(line, ch, sticky, outside, xRel) {\r\n  var pos = Pos(line, ch, sticky)\r\n  pos.xRel = xRel\r\n  if (outside) { pos.outside = true }\r\n  return pos\r\n}\r\n\r\n// Compute the character position closest to the given coordinates.\r\n// Input must be lineSpace-local (\"div\" coordinate system).\r\nfunction coordsChar(cm, x, y) {\r\n  var doc = cm.doc\r\n  y += cm.display.viewOffset\r\n  if (y < 0) { return PosWithInfo(doc.first, 0, null, true, -1) }\r\n  var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1\r\n  if (lineN > last)\r\n    { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, true, 1) }\r\n  if (x < 0) { x = 0 }\r\n\r\n  var lineObj = getLine(doc, lineN)\r\n  for (;;) {\r\n    var found = coordsCharInner(cm, lineObj, lineN, x, y)\r\n    var merged = collapsedSpanAtEnd(lineObj)\r\n    var mergedPos = merged && merged.find(0, true)\r\n    if (merged && (found.ch > mergedPos.from.ch || found.ch == mergedPos.from.ch && found.xRel > 0))\r\n      { lineN = lineNo(lineObj = mergedPos.to.line) }\r\n    else\r\n      { return found }\r\n  }\r\n}\r\n\r\nfunction wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\r\n  var measure = function (ch) { return intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, ch), \"line\"); }\r\n  var end = lineObj.text.length\r\n  var begin = findFirst(function (ch) { return measure(ch - 1).bottom <= y; }, end, 0)\r\n  end = findFirst(function (ch) { return measure(ch).top > y; }, begin, end)\r\n  return {begin: begin, end: end}\r\n}\r\n\r\nfunction wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\r\n  var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top\r\n  return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\r\n}\r\n\r\nfunction coordsCharInner(cm, lineObj, lineNo, x, y) {\r\n  y -= heightAtLine(lineObj)\r\n  var begin = 0, end = lineObj.text.length\r\n  var preparedMeasure = prepareMeasureForLine(cm, lineObj)\r\n  var pos\r\n  var order = getOrder(lineObj)\r\n  if (order) {\r\n    if (cm.options.lineWrapping) {\r\n      ;var assign;\r\n      ((assign = wrappedLineExtent(cm, lineObj, preparedMeasure, y), begin = assign.begin, end = assign.end, assign))\r\n    }\r\n    pos = new Pos(lineNo, begin)\r\n    var beginLeft = cursorCoords(cm, pos, \"line\", lineObj, preparedMeasure).left\r\n    var dir = beginLeft < x ? 1 : -1\r\n    var prevDiff, diff = beginLeft - x, prevPos\r\n    do {\r\n      prevDiff = diff\r\n      prevPos = pos\r\n      pos = moveVisually(cm, lineObj, pos, dir)\r\n      if (pos == null || pos.ch < begin || end <= (pos.sticky == \"before\" ? pos.ch - 1 : pos.ch)) {\r\n        pos = prevPos\r\n        break\r\n      }\r\n      diff = cursorCoords(cm, pos, \"line\", lineObj, preparedMeasure).left - x\r\n    } while ((dir < 0) != (diff < 0) && (Math.abs(diff) <= Math.abs(prevDiff)))\r\n    if (Math.abs(diff) > Math.abs(prevDiff)) {\r\n      if ((diff < 0) == (prevDiff < 0)) { throw new Error(\"Broke out of infinite loop in coordsCharInner\") }\r\n      pos = prevPos\r\n    }\r\n  } else {\r\n    var ch = findFirst(function (ch) {\r\n      var box = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, ch), \"line\")\r\n      if (box.top > y) {\r\n        // For the cursor stickiness\r\n        end = Math.min(ch, end)\r\n        return true\r\n      }\r\n      else if (box.bottom <= y) { return false }\r\n      else if (box.left > x) { return true }\r\n      else if (box.right < x) { return false }\r\n      else { return (x - box.left < box.right - x) }\r\n    }, begin, end)\r\n    ch = skipExtendingChars(lineObj.text, ch, 1)\r\n    pos = new Pos(lineNo, ch, ch == end ? \"before\" : \"after\")\r\n  }\r\n  var coords = cursorCoords(cm, pos, \"line\", lineObj, preparedMeasure)\r\n  if (y < coords.top || coords.bottom < y) { pos.outside = true }\r\n  pos.xRel = x < coords.left ? -1 : (x > coords.right ? 1 : 0)\r\n  return pos\r\n}\r\n\r\nvar measureText\r\n// Compute the default text height.\r\nfunction textHeight(display) {\r\n  if (display.cachedTextHeight != null) { return display.cachedTextHeight }\r\n  if (measureText == null) {\r\n    measureText = elt(\"pre\")\r\n    // Measure a bunch of lines, for browsers that compute\r\n    // fractional heights.\r\n    for (var i = 0; i < 49; ++i) {\r\n      measureText.appendChild(document.createTextNode(\"x\"))\r\n      measureText.appendChild(elt(\"br\"))\r\n    }\r\n    measureText.appendChild(document.createTextNode(\"x\"))\r\n  }\r\n  removeChildrenAndAdd(display.measure, measureText)\r\n  var height = measureText.offsetHeight / 50\r\n  if (height > 3) { display.cachedTextHeight = height }\r\n  removeChildren(display.measure)\r\n  return height || 1\r\n}\r\n\r\n// Compute the default character width.\r\nfunction charWidth(display) {\r\n  if (display.cachedCharWidth != null) { return display.cachedCharWidth }\r\n  var anchor = elt(\"span\", \"xxxxxxxxxx\")\r\n  var pre = elt(\"pre\", [anchor])\r\n  removeChildrenAndAdd(display.measure, pre)\r\n  var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10\r\n  if (width > 2) { display.cachedCharWidth = width }\r\n  return width || 10\r\n}\r\n\r\n// Do a bulk-read of the DOM positions and sizes needed to draw the\r\n// view, so that we don't interleave reading and writing to the DOM.\r\nfunction getDimensions(cm) {\r\n  var d = cm.display, left = {}, width = {}\r\n  var gutterLeft = d.gutters.clientLeft\r\n  for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\r\n    left[cm.options.gutters[i]] = n.offsetLeft + n.clientLeft + gutterLeft\r\n    width[cm.options.gutters[i]] = n.clientWidth\r\n  }\r\n  return {fixedPos: compensateForHScroll(d),\r\n          gutterTotalWidth: d.gutters.offsetWidth,\r\n          gutterLeft: left,\r\n          gutterWidth: width,\r\n          wrapperWidth: d.wrapper.clientWidth}\r\n}\r\n\r\n// Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\r\n// but using getBoundingClientRect to get a sub-pixel-accurate\r\n// result.\r\nfunction compensateForHScroll(display) {\r\n  return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\r\n}\r\n\r\n// Returns a function that estimates the height of a line, to use as\r\n// first approximation until the line becomes visible (and is thus\r\n// properly measurable).\r\nfunction estimateHeight(cm) {\r\n  var th = textHeight(cm.display), wrapping = cm.options.lineWrapping\r\n  var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3)\r\n  return function (line) {\r\n    if (lineIsHidden(cm.doc, line)) { return 0 }\r\n\r\n    var widgetsHeight = 0\r\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\r\n      if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height }\r\n    } }\r\n\r\n    if (wrapping)\r\n      { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\r\n    else\r\n      { return widgetsHeight + th }\r\n  }\r\n}\r\n\r\nfunction estimateLineHeights(cm) {\r\n  var doc = cm.doc, est = estimateHeight(cm)\r\n  doc.iter(function (line) {\r\n    var estHeight = est(line)\r\n    if (estHeight != line.height) { updateLineHeight(line, estHeight) }\r\n  })\r\n}\r\n\r\n// Given a mouse event, find the corresponding position. If liberal\r\n// is false, it checks whether a gutter or scrollbar was clicked,\r\n// and returns null if it was. forRect is used by rectangular\r\n// selections, and tries to estimate a character position even for\r\n// coordinates beyond the right of the text.\r\nfunction posFromMouse(cm, e, liberal, forRect) {\r\n  var display = cm.display\r\n  if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\r\n\r\n  var x, y, space = display.lineSpace.getBoundingClientRect()\r\n  // Fails unpredictably on IE[67] when mouse is dragged around quickly.\r\n  try { x = e.clientX - space.left; y = e.clientY - space.top }\r\n  catch (e) { return null }\r\n  var coords = coordsChar(cm, x, y), line\r\n  if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\r\n    var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length\r\n    coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff))\r\n  }\r\n  return coords\r\n}\r\n\r\n// Find the view element corresponding to a given line. Return null\r\n// when the line isn't visible.\r\nfunction findViewIndex(cm, n) {\r\n  if (n >= cm.display.viewTo) { return null }\r\n  n -= cm.display.viewFrom\r\n  if (n < 0) { return null }\r\n  var view = cm.display.view\r\n  for (var i = 0; i < view.length; i++) {\r\n    n -= view[i].size\r\n    if (n < 0) { return i }\r\n  }\r\n}\r\n\r\nfunction updateSelection(cm) {\r\n  cm.display.input.showSelection(cm.display.input.prepareSelection())\r\n}\r\n\r\nfunction prepareSelection(cm, primary) {\r\n  var doc = cm.doc, result = {}\r\n  var curFragment = result.cursors = document.createDocumentFragment()\r\n  var selFragment = result.selection = document.createDocumentFragment()\r\n\r\n  for (var i = 0; i < doc.sel.ranges.length; i++) {\r\n    if (primary === false && i == doc.sel.primIndex) { continue }\r\n    var range = doc.sel.ranges[i]\r\n    if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\r\n    var collapsed = range.empty()\r\n    if (collapsed || cm.options.showCursorWhenSelecting)\r\n      { drawSelectionCursor(cm, range.head, curFragment) }\r\n    if (!collapsed)\r\n      { drawSelectionRange(cm, range, selFragment) }\r\n  }\r\n  return result\r\n}\r\n\r\n// Draws a cursor for the given range\r\nfunction drawSelectionCursor(cm, head, output) {\r\n  var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine)\r\n\r\n  var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"))\r\n  cursor.style.left = pos.left + \"px\"\r\n  cursor.style.top = pos.top + \"px\"\r\n  cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\"\r\n\r\n  if (pos.other) {\r\n    // Secondary cursor, shown when on a 'jump' in bi-directional text\r\n    var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"))\r\n    otherCursor.style.display = \"\"\r\n    otherCursor.style.left = pos.other.left + \"px\"\r\n    otherCursor.style.top = pos.other.top + \"px\"\r\n    otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\"\r\n  }\r\n}\r\n\r\n// Draws the given range as a highlighted selection\r\nfunction drawSelectionRange(cm, range, output) {\r\n  var display = cm.display, doc = cm.doc\r\n  var fragment = document.createDocumentFragment()\r\n  var padding = paddingH(cm.display), leftSide = padding.left\r\n  var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right\r\n\r\n  function add(left, top, width, bottom) {\r\n    if (top < 0) { top = 0 }\r\n    top = Math.round(top)\r\n    bottom = Math.round(bottom)\r\n    fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")))\r\n  }\r\n\r\n  function drawForLine(line, fromArg, toArg) {\r\n    var lineObj = getLine(doc, line)\r\n    var lineLen = lineObj.text.length\r\n    var start, end\r\n    function coords(ch, bias) {\r\n      return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\r\n    }\r\n\r\n    iterateBidiSections(getOrder(lineObj), fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir) {\r\n      var leftPos = coords(from, \"left\"), rightPos, left, right\r\n      if (from == to) {\r\n        rightPos = leftPos\r\n        left = right = leftPos.left\r\n      } else {\r\n        rightPos = coords(to - 1, \"right\")\r\n        if (dir == \"rtl\") { var tmp = leftPos; leftPos = rightPos; rightPos = tmp }\r\n        left = leftPos.left\r\n        right = rightPos.right\r\n      }\r\n      if (fromArg == null && from == 0) { left = leftSide }\r\n      if (rightPos.top - leftPos.top > 3) { // Different lines, draw top part\r\n        add(left, leftPos.top, null, leftPos.bottom)\r\n        left = leftSide\r\n        if (leftPos.bottom < rightPos.top) { add(left, leftPos.bottom, null, rightPos.top) }\r\n      }\r\n      if (toArg == null && to == lineLen) { right = rightSide }\r\n      if (!start || leftPos.top < start.top || leftPos.top == start.top && leftPos.left < start.left)\r\n        { start = leftPos }\r\n      if (!end || rightPos.bottom > end.bottom || rightPos.bottom == end.bottom && rightPos.right > end.right)\r\n        { end = rightPos }\r\n      if (left < leftSide + 1) { left = leftSide }\r\n      add(left, rightPos.top, right - left, rightPos.bottom)\r\n    })\r\n    return {start: start, end: end}\r\n  }\r\n\r\n  var sFrom = range.from(), sTo = range.to()\r\n  if (sFrom.line == sTo.line) {\r\n    drawForLine(sFrom.line, sFrom.ch, sTo.ch)\r\n  } else {\r\n    var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line)\r\n    var singleVLine = visualLine(fromLine) == visualLine(toLine)\r\n    var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end\r\n    var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start\r\n    if (singleVLine) {\r\n      if (leftEnd.top < rightStart.top - 2) {\r\n        add(leftEnd.right, leftEnd.top, null, leftEnd.bottom)\r\n        add(leftSide, rightStart.top, rightStart.left, rightStart.bottom)\r\n      } else {\r\n        add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom)\r\n      }\r\n    }\r\n    if (leftEnd.bottom < rightStart.top)\r\n      { add(leftSide, leftEnd.bottom, null, rightStart.top) }\r\n  }\r\n\r\n  output.appendChild(fragment)\r\n}\r\n\r\n// Cursor-blinking\r\nfunction restartBlink(cm) {\r\n  if (!cm.state.focused) { return }\r\n  var display = cm.display\r\n  clearInterval(display.blinker)\r\n  var on = true\r\n  display.cursorDiv.style.visibility = \"\"\r\n  if (cm.options.cursorBlinkRate > 0)\r\n    { display.blinker = setInterval(function () { return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\"; },\r\n      cm.options.cursorBlinkRate) }\r\n  else if (cm.options.cursorBlinkRate < 0)\r\n    { display.cursorDiv.style.visibility = \"hidden\" }\r\n}\r\n\r\nfunction ensureFocus(cm) {\r\n  if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm) }\r\n}\r\n\r\nfunction delayBlurEvent(cm) {\r\n  cm.state.delayingBlurEvent = true\r\n  setTimeout(function () { if (cm.state.delayingBlurEvent) {\r\n    cm.state.delayingBlurEvent = false\r\n    onBlur(cm)\r\n  } }, 100)\r\n}\r\n\r\nfunction onFocus(cm, e) {\r\n  if (cm.state.delayingBlurEvent) { cm.state.delayingBlurEvent = false }\r\n\r\n  if (cm.options.readOnly == \"nocursor\") { return }\r\n  if (!cm.state.focused) {\r\n    signal(cm, \"focus\", cm, e)\r\n    cm.state.focused = true\r\n    addClass(cm.display.wrapper, \"CodeMirror-focused\")\r\n    // This test prevents this from firing when a context\r\n    // menu is closed (since the input reset would kill the\r\n    // select-all detection hack)\r\n    if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\r\n      cm.display.input.reset()\r\n      if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20) } // Issue #1730\r\n    }\r\n    cm.display.input.receivedFocus()\r\n  }\r\n  restartBlink(cm)\r\n}\r\nfunction onBlur(cm, e) {\r\n  if (cm.state.delayingBlurEvent) { return }\r\n\r\n  if (cm.state.focused) {\r\n    signal(cm, \"blur\", cm, e)\r\n    cm.state.focused = false\r\n    rmClass(cm.display.wrapper, \"CodeMirror-focused\")\r\n  }\r\n  clearInterval(cm.display.blinker)\r\n  setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false } }, 150)\r\n}\r\n\r\n// Re-align line numbers and gutter marks to compensate for\r\n// horizontal scrolling.\r\nfunction alignHorizontally(cm) {\r\n  var display = cm.display, view = display.view\r\n  if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\r\n  var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft\r\n  var gutterW = display.gutters.offsetWidth, left = comp + \"px\"\r\n  for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\r\n    if (cm.options.fixedGutter) {\r\n      if (view[i].gutter)\r\n        { view[i].gutter.style.left = left }\r\n      if (view[i].gutterBackground)\r\n        { view[i].gutterBackground.style.left = left }\r\n    }\r\n    var align = view[i].alignable\r\n    if (align) { for (var j = 0; j < align.length; j++)\r\n      { align[j].style.left = left } }\r\n  } }\r\n  if (cm.options.fixedGutter)\r\n    { display.gutters.style.left = (comp + gutterW) + \"px\" }\r\n}\r\n\r\n// Used to ensure that the line number gutter is still the right\r\n// size for the current document size. Returns true when an update\r\n// is needed.\r\nfunction maybeUpdateLineNumberWidth(cm) {\r\n  if (!cm.options.lineNumbers) { return false }\r\n  var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display\r\n  if (last.length != display.lineNumChars) {\r\n    var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\r\n                                               \"CodeMirror-linenumber CodeMirror-gutter-elt\"))\r\n    var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW\r\n    display.lineGutter.style.width = \"\"\r\n    display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1\r\n    display.lineNumWidth = display.lineNumInnerWidth + padding\r\n    display.lineNumChars = display.lineNumInnerWidth ? last.length : -1\r\n    display.lineGutter.style.width = display.lineNumWidth + \"px\"\r\n    updateGutterSpace(cm)\r\n    return true\r\n  }\r\n  return false\r\n}\r\n\r\n// Read the actual heights of the rendered lines, and update their\r\n// stored heights to match.\r\nfunction updateHeightsInViewport(cm) {\r\n  var display = cm.display\r\n  var prevBottom = display.lineDiv.offsetTop\r\n  for (var i = 0; i < display.view.length; i++) {\r\n    var cur = display.view[i], height = (void 0)\r\n    if (cur.hidden) { continue }\r\n    if (ie && ie_version < 8) {\r\n      var bot = cur.node.offsetTop + cur.node.offsetHeight\r\n      height = bot - prevBottom\r\n      prevBottom = bot\r\n    } else {\r\n      var box = cur.node.getBoundingClientRect()\r\n      height = box.bottom - box.top\r\n    }\r\n    var diff = cur.line.height - height\r\n    if (height < 2) { height = textHeight(display) }\r\n    if (diff > .001 || diff < -.001) {\r\n      updateLineHeight(cur.line, height)\r\n      updateWidgetHeight(cur.line)\r\n      if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\r\n        { updateWidgetHeight(cur.rest[j]) } }\r\n    }\r\n  }\r\n}\r\n\r\n// Read and store the height of line widgets associated with the\r\n// given line.\r\nfunction updateWidgetHeight(line) {\r\n  if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i)\r\n    { line.widgets[i].height = line.widgets[i].node.parentNode.offsetHeight } }\r\n}\r\n\r\n// Compute the lines that are visible in a given viewport (defaults\r\n// the the current scroll position). viewport may contain top,\r\n// height, and ensure (see op.scrollToPos) properties.\r\nfunction visibleLines(display, doc, viewport) {\r\n  var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop\r\n  top = Math.floor(top - paddingTop(display))\r\n  var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight\r\n\r\n  var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom)\r\n  // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\r\n  // forces those lines into the viewport (if possible).\r\n  if (viewport && viewport.ensure) {\r\n    var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line\r\n    if (ensureFrom < from) {\r\n      from = ensureFrom\r\n      to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight)\r\n    } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\r\n      from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight)\r\n      to = ensureTo\r\n    }\r\n  }\r\n  return {from: from, to: Math.max(to, from + 1)}\r\n}\r\n\r\n// Sync the scrollable area and scrollbars, ensure the viewport\r\n// covers the visible area.\r\nfunction setScrollTop(cm, val) {\r\n  if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\r\n  cm.doc.scrollTop = val\r\n  if (!gecko) { updateDisplaySimple(cm, {top: val}) }\r\n  if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val }\r\n  cm.display.scrollbars.setScrollTop(val)\r\n  if (gecko) { updateDisplaySimple(cm) }\r\n  startWorker(cm, 100)\r\n}\r\n// Sync scroller and scrollbar, ensure the gutter elements are\r\n// aligned.\r\nfunction setScrollLeft(cm, val, isScroller) {\r\n  if (isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) { return }\r\n  val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth)\r\n  cm.doc.scrollLeft = val\r\n  alignHorizontally(cm)\r\n  if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val }\r\n  cm.display.scrollbars.setScrollLeft(val)\r\n}\r\n\r\n// Since the delta values reported on mouse wheel events are\r\n// unstandardized between browsers and even browser versions, and\r\n// generally horribly unpredictable, this code starts by measuring\r\n// the scroll effect that the first few mouse wheel events have,\r\n// and, from that, detects the way it can convert deltas to pixel\r\n// offsets afterwards.\r\n//\r\n// The reason we want to know the amount a wheel event will scroll\r\n// is that it gives us a chance to update the display before the\r\n// actual scrolling happens, reducing flickering.\r\n\r\nvar wheelSamples = 0;\r\nvar wheelPixelsPerUnit = null;\r\n// Fill in a browser-detected starting value on browsers where we\r\n// know one. These don't have to be accurate -- the result of them\r\n// being wrong would just be a slight flicker on the first wheel\r\n// scroll (if it is large enough).\r\nif (ie) { wheelPixelsPerUnit = -.53 }\r\nelse if (gecko) { wheelPixelsPerUnit = 15 }\r\nelse if (chrome) { wheelPixelsPerUnit = -.7 }\r\nelse if (safari) { wheelPixelsPerUnit = -1/3 }\r\n\r\nfunction wheelEventDelta(e) {\r\n  var dx = e.wheelDeltaX, dy = e.wheelDeltaY\r\n  if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail }\r\n  if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail }\r\n  else if (dy == null) { dy = e.wheelDelta }\r\n  return {x: dx, y: dy}\r\n}\r\nfunction wheelEventPixels(e) {\r\n  var delta = wheelEventDelta(e)\r\n  delta.x *= wheelPixelsPerUnit\r\n  delta.y *= wheelPixelsPerUnit\r\n  return delta\r\n}\r\n\r\nfunction onScrollWheel(cm, e) {\r\n  var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y\r\n\r\n  var display = cm.display, scroll = display.scroller\r\n  // Quit if there's nothing to scroll here\r\n  var canScrollX = scroll.scrollWidth > scroll.clientWidth\r\n  var canScrollY = scroll.scrollHeight > scroll.clientHeight\r\n  if (!(dx && canScrollX || dy && canScrollY)) { return }\r\n\r\n  // Webkit browsers on OS X abort momentum scrolls when the target\r\n  // of the scroll event is removed from the scrollable element.\r\n  // This hack (see related code in patchDisplay) makes sure the\r\n  // element is kept around.\r\n  if (dy && mac && webkit) {\r\n    outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\r\n      for (var i = 0; i < view.length; i++) {\r\n        if (view[i].node == cur) {\r\n          cm.display.currentWheelTarget = cur\r\n          break outer\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // On some browsers, horizontal scrolling will cause redraws to\r\n  // happen before the gutter has been realigned, causing it to\r\n  // wriggle around in a most unseemly way. When we have an\r\n  // estimated pixels/delta value, we just handle horizontal\r\n  // scrolling entirely here. It'll be slightly off from native, but\r\n  // better than glitching out.\r\n  if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\r\n    if (dy && canScrollY)\r\n      { setScrollTop(cm, Math.max(0, Math.min(scroll.scrollTop + dy * wheelPixelsPerUnit, scroll.scrollHeight - scroll.clientHeight))) }\r\n    setScrollLeft(cm, Math.max(0, Math.min(scroll.scrollLeft + dx * wheelPixelsPerUnit, scroll.scrollWidth - scroll.clientWidth)))\r\n    // Only prevent default scrolling if vertical scrolling is\r\n    // actually possible. Otherwise, it causes vertical scroll\r\n    // jitter on OSX trackpads when deltaX is small and deltaY\r\n    // is large (issue #3579)\r\n    if (!dy || (dy && canScrollY))\r\n      { e_preventDefault(e) }\r\n    display.wheelStartX = null // Abort measurement, if in progress\r\n    return\r\n  }\r\n\r\n  // 'Project' the visible viewport to cover the area that is being\r\n  // scrolled into view (if we know enough to estimate it).\r\n  if (dy && wheelPixelsPerUnit != null) {\r\n    var pixels = dy * wheelPixelsPerUnit\r\n    var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight\r\n    if (pixels < 0) { top = Math.max(0, top + pixels - 50) }\r\n    else { bot = Math.min(cm.doc.height, bot + pixels + 50) }\r\n    updateDisplaySimple(cm, {top: top, bottom: bot})\r\n  }\r\n\r\n  if (wheelSamples < 20) {\r\n    if (display.wheelStartX == null) {\r\n      display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop\r\n      display.wheelDX = dx; display.wheelDY = dy\r\n      setTimeout(function () {\r\n        if (display.wheelStartX == null) { return }\r\n        var movedX = scroll.scrollLeft - display.wheelStartX\r\n        var movedY = scroll.scrollTop - display.wheelStartY\r\n        var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\r\n          (movedX && display.wheelDX && movedX / display.wheelDX)\r\n        display.wheelStartX = display.wheelStartY = null\r\n        if (!sample) { return }\r\n        wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1)\r\n        ++wheelSamples\r\n      }, 200)\r\n    } else {\r\n      display.wheelDX += dx; display.wheelDY += dy\r\n    }\r\n  }\r\n}\r\n\r\n// SCROLLBARS\r\n\r\n// Prepare DOM reads needed to update the scrollbars. Done in one\r\n// shot to minimize update/measure roundtrips.\r\nfunction measureForScrollbars(cm) {\r\n  var d = cm.display, gutterW = d.gutters.offsetWidth\r\n  var docH = Math.round(cm.doc.height + paddingVert(cm.display))\r\n  return {\r\n    clientHeight: d.scroller.clientHeight,\r\n    viewHeight: d.wrapper.clientHeight,\r\n    scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\r\n    viewWidth: d.wrapper.clientWidth,\r\n    barLeft: cm.options.fixedGutter ? gutterW : 0,\r\n    docHeight: docH,\r\n    scrollHeight: docH + scrollGap(cm) + d.barHeight,\r\n    nativeBarWidth: d.nativeBarWidth,\r\n    gutterWidth: gutterW\r\n  }\r\n}\r\n\r\nvar NativeScrollbars = function(place, scroll, cm) {\r\n  this.cm = cm\r\n  var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\")\r\n  var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\")\r\n  place(vert); place(horiz)\r\n\r\n  on(vert, \"scroll\", function () {\r\n    if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\") }\r\n  })\r\n  on(horiz, \"scroll\", function () {\r\n    if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\") }\r\n  })\r\n\r\n  this.checkedZeroWidth = false\r\n  // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\r\n  if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\" }\r\n};\r\n\r\nNativeScrollbars.prototype.update = function (measure) {\r\n  var needsH = measure.scrollWidth > measure.clientWidth + 1\r\n  var needsV = measure.scrollHeight > measure.clientHeight + 1\r\n  var sWidth = measure.nativeBarWidth\r\n\r\n  if (needsV) {\r\n    this.vert.style.display = \"block\"\r\n    this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\"\r\n    var totalHeight = measure.viewHeight - (needsH ? sWidth : 0)\r\n    // A bug in IE8 can cause this value to be negative, so guard it.\r\n    this.vert.firstChild.style.height =\r\n      Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\"\r\n  } else {\r\n    this.vert.style.display = \"\"\r\n    this.vert.firstChild.style.height = \"0\"\r\n  }\r\n\r\n  if (needsH) {\r\n    this.horiz.style.display = \"block\"\r\n    this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\"\r\n    this.horiz.style.left = measure.barLeft + \"px\"\r\n    var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0)\r\n    this.horiz.firstChild.style.width =\r\n      Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\"\r\n  } else {\r\n    this.horiz.style.display = \"\"\r\n    this.horiz.firstChild.style.width = \"0\"\r\n  }\r\n\r\n  if (!this.checkedZeroWidth && measure.clientHeight > 0) {\r\n    if (sWidth == 0) { this.zeroWidthHack() }\r\n    this.checkedZeroWidth = true\r\n  }\r\n\r\n  return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\r\n};\r\n\r\nNativeScrollbars.prototype.setScrollLeft = function (pos) {\r\n  if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos }\r\n  if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz) }\r\n};\r\n\r\nNativeScrollbars.prototype.setScrollTop = function (pos) {\r\n  if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos }\r\n  if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert) }\r\n};\r\n\r\nNativeScrollbars.prototype.zeroWidthHack = function () {\r\n  var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\"\r\n  this.horiz.style.height = this.vert.style.width = w\r\n  this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\"\r\n  this.disableHoriz = new Delayed\r\n  this.disableVert = new Delayed\r\n};\r\n\r\nNativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay) {\r\n  bar.style.pointerEvents = \"auto\"\r\n  function maybeDisable() {\r\n    // To find out whether the scrollbar is still visible, we\r\n    // check whether the element under the pixel in the bottom\r\n    // left corner of the scrollbar box is the scrollbar box\r\n    // itself (when the bar is still visible) or its filler child\r\n    // (when the bar is hidden). If it is still visible, we keep\r\n    // it enabled, if it's hidden, we disable pointer events.\r\n    var box = bar.getBoundingClientRect()\r\n    var elt = document.elementFromPoint(box.left + 1, box.bottom - 1)\r\n    if (elt != bar) { bar.style.pointerEvents = \"none\" }\r\n    else { delay.set(1000, maybeDisable) }\r\n  }\r\n  delay.set(1000, maybeDisable)\r\n};\r\n\r\nNativeScrollbars.prototype.clear = function () {\r\n  var parent = this.horiz.parentNode\r\n  parent.removeChild(this.horiz)\r\n  parent.removeChild(this.vert)\r\n};\r\n\r\nvar NullScrollbars = function () {};\r\n\r\nNullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\r\nNullScrollbars.prototype.setScrollLeft = function () {};\r\nNullScrollbars.prototype.setScrollTop = function () {};\r\nNullScrollbars.prototype.clear = function () {};\r\n\r\nfunction updateScrollbars(cm, measure) {\r\n  if (!measure) { measure = measureForScrollbars(cm) }\r\n  var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight\r\n  updateScrollbarsInner(cm, measure)\r\n  for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\r\n    if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\r\n      { updateHeightsInViewport(cm) }\r\n    updateScrollbarsInner(cm, measureForScrollbars(cm))\r\n    startWidth = cm.display.barWidth; startHeight = cm.display.barHeight\r\n  }\r\n}\r\n\r\n// Re-synchronize the fake scrollbars with the actual size of the\r\n// content.\r\nfunction updateScrollbarsInner(cm, measure) {\r\n  var d = cm.display\r\n  var sizes = d.scrollbars.update(measure)\r\n\r\n  d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\"\r\n  d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\"\r\n  d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\"\r\n\r\n  if (sizes.right && sizes.bottom) {\r\n    d.scrollbarFiller.style.display = \"block\"\r\n    d.scrollbarFiller.style.height = sizes.bottom + \"px\"\r\n    d.scrollbarFiller.style.width = sizes.right + \"px\"\r\n  } else { d.scrollbarFiller.style.display = \"\" }\r\n  if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\r\n    d.gutterFiller.style.display = \"block\"\r\n    d.gutterFiller.style.height = sizes.bottom + \"px\"\r\n    d.gutterFiller.style.width = measure.gutterWidth + \"px\"\r\n  } else { d.gutterFiller.style.display = \"\" }\r\n}\r\n\r\nvar scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars}\r\n\r\nfunction initScrollbars(cm) {\r\n  if (cm.display.scrollbars) {\r\n    cm.display.scrollbars.clear()\r\n    if (cm.display.scrollbars.addClass)\r\n      { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass) }\r\n  }\r\n\r\n  cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\r\n    cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller)\r\n    // Prevent clicks in the scrollbars from killing focus\r\n    on(node, \"mousedown\", function () {\r\n      if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0) }\r\n    })\r\n    node.setAttribute(\"cm-not-content\", \"true\")\r\n  }, function (pos, axis) {\r\n    if (axis == \"horizontal\") { setScrollLeft(cm, pos) }\r\n    else { setScrollTop(cm, pos) }\r\n  }, cm)\r\n  if (cm.display.scrollbars.addClass)\r\n    { addClass(cm.display.wrapper, cm.display.scrollbars.addClass) }\r\n}\r\n\r\n// SCROLLING THINGS INTO VIEW\r\n\r\n// If an editor sits on the top or bottom of the window, partially\r\n// scrolled out of view, this ensures that the cursor is visible.\r\nfunction maybeScrollWindow(cm, coords) {\r\n  if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\r\n\r\n  var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null\r\n  if (coords.top + box.top < 0) { doScroll = true }\r\n  else if (coords.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false }\r\n  if (doScroll != null && !phantom) {\r\n    var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (coords.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (coords.bottom - coords.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (coords.left) + \"px; width: 2px;\"))\r\n    cm.display.lineSpace.appendChild(scrollNode)\r\n    scrollNode.scrollIntoView(doScroll)\r\n    cm.display.lineSpace.removeChild(scrollNode)\r\n  }\r\n}\r\n\r\n// Scroll a given position into view (immediately), verifying that\r\n// it actually became visible (as line heights are accurately\r\n// measured, the position of something may 'drift' during drawing).\r\nfunction scrollPosIntoView(cm, pos, end, margin) {\r\n  if (margin == null) { margin = 0 }\r\n  var coords\r\n  for (var limit = 0; limit < 5; limit++) {\r\n    var changed = false\r\n    coords = cursorCoords(cm, pos)\r\n    var endCoords = !end || end == pos ? coords : cursorCoords(cm, end)\r\n    var scrollPos = calculateScrollPos(cm, Math.min(coords.left, endCoords.left),\r\n                                       Math.min(coords.top, endCoords.top) - margin,\r\n                                       Math.max(coords.left, endCoords.left),\r\n                                       Math.max(coords.bottom, endCoords.bottom) + margin)\r\n    var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft\r\n    if (scrollPos.scrollTop != null) {\r\n      setScrollTop(cm, scrollPos.scrollTop)\r\n      if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true }\r\n    }\r\n    if (scrollPos.scrollLeft != null) {\r\n      setScrollLeft(cm, scrollPos.scrollLeft)\r\n      if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true }\r\n    }\r\n    if (!changed) { break }\r\n  }\r\n  return coords\r\n}\r\n\r\n// Scroll a given set of coordinates into view (immediately).\r\nfunction scrollIntoView(cm, x1, y1, x2, y2) {\r\n  var scrollPos = calculateScrollPos(cm, x1, y1, x2, y2)\r\n  if (scrollPos.scrollTop != null) { setScrollTop(cm, scrollPos.scrollTop) }\r\n  if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft) }\r\n}\r\n\r\n// Calculate a new scroll position needed to scroll the given\r\n// rectangle into view. Returns an object with scrollTop and\r\n// scrollLeft properties. When these are undefined, the\r\n// vertical/horizontal position does not need to be adjusted.\r\nfunction calculateScrollPos(cm, x1, y1, x2, y2) {\r\n  var display = cm.display, snapMargin = textHeight(cm.display)\r\n  if (y1 < 0) { y1 = 0 }\r\n  var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop\r\n  var screen = displayHeight(cm), result = {}\r\n  if (y2 - y1 > screen) { y2 = y1 + screen }\r\n  var docBottom = cm.doc.height + paddingVert(display)\r\n  var atTop = y1 < snapMargin, atBottom = y2 > docBottom - snapMargin\r\n  if (y1 < screentop) {\r\n    result.scrollTop = atTop ? 0 : y1\r\n  } else if (y2 > screentop + screen) {\r\n    var newTop = Math.min(y1, (atBottom ? docBottom : y2) - screen)\r\n    if (newTop != screentop) { result.scrollTop = newTop }\r\n  }\r\n\r\n  var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft\r\n  var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0)\r\n  var tooWide = x2 - x1 > screenw\r\n  if (tooWide) { x2 = x1 + screenw }\r\n  if (x1 < 10)\r\n    { result.scrollLeft = 0 }\r\n  else if (x1 < screenleft)\r\n    { result.scrollLeft = Math.max(0, x1 - (tooWide ? 0 : 10)) }\r\n  else if (x2 > screenw + screenleft - 3)\r\n    { result.scrollLeft = x2 + (tooWide ? 0 : 10) - screenw }\r\n  return result\r\n}\r\n\r\n// Store a relative adjustment to the scroll position in the current\r\n// operation (to be applied when the operation finishes).\r\nfunction addToScrollPos(cm, left, top) {\r\n  if (left != null || top != null) { resolveScrollToPos(cm) }\r\n  if (left != null)\r\n    { cm.curOp.scrollLeft = (cm.curOp.scrollLeft == null ? cm.doc.scrollLeft : cm.curOp.scrollLeft) + left }\r\n  if (top != null)\r\n    { cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top }\r\n}\r\n\r\n// Make sure that at the end of the operation the current cursor is\r\n// shown.\r\nfunction ensureCursorVisible(cm) {\r\n  resolveScrollToPos(cm)\r\n  var cur = cm.getCursor(), from = cur, to = cur\r\n  if (!cm.options.lineWrapping) {\r\n    from = cur.ch ? Pos(cur.line, cur.ch - 1) : cur\r\n    to = Pos(cur.line, cur.ch + 1)\r\n  }\r\n  cm.curOp.scrollToPos = {from: from, to: to, margin: cm.options.cursorScrollMargin, isCursor: true}\r\n}\r\n\r\n// When an operation has its scrollToPos property set, and another\r\n// scroll action is applied before the end of the operation, this\r\n// 'simulates' scrolling that position into view in a cheap way, so\r\n// that the effect of intermediate scroll commands is not ignored.\r\nfunction resolveScrollToPos(cm) {\r\n  var range = cm.curOp.scrollToPos\r\n  if (range) {\r\n    cm.curOp.scrollToPos = null\r\n    var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to)\r\n    var sPos = calculateScrollPos(cm, Math.min(from.left, to.left),\r\n                                  Math.min(from.top, to.top) - range.margin,\r\n                                  Math.max(from.right, to.right),\r\n                                  Math.max(from.bottom, to.bottom) + range.margin)\r\n    cm.scrollTo(sPos.scrollLeft, sPos.scrollTop)\r\n  }\r\n}\r\n\r\n// Operations are used to wrap a series of changes to the editor\r\n// state in such a way that each change won't have to update the\r\n// cursor and display (which would be awkward, slow, and\r\n// error-prone). Instead, display updates are batched and then all\r\n// combined and executed at once.\r\n\r\nvar nextOpId = 0\r\n// Start a new operation.\r\nfunction startOperation(cm) {\r\n  cm.curOp = {\r\n    cm: cm,\r\n    viewChanged: false,      // Flag that indicates that lines might need to be redrawn\r\n    startHeight: cm.doc.height, // Used to detect need to update scrollbar\r\n    forceUpdate: false,      // Used to force a redraw\r\n    updateInput: null,       // Whether to reset the input textarea\r\n    typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\r\n    changeObjs: null,        // Accumulated changes, for firing change events\r\n    cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\r\n    cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\r\n    selectionChanged: false, // Whether the selection needs to be redrawn\r\n    updateMaxLine: false,    // Set when the widest line needs to be determined anew\r\n    scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\r\n    scrollToPos: null,       // Used to scroll to a specific position\r\n    focus: false,\r\n    id: ++nextOpId           // Unique ID\r\n  }\r\n  pushOperation(cm.curOp)\r\n}\r\n\r\n// Finish an operation, updating the display and signalling delayed events\r\nfunction endOperation(cm) {\r\n  var op = cm.curOp\r\n  finishOperation(op, function (group) {\r\n    for (var i = 0; i < group.ops.length; i++)\r\n      { group.ops[i].cm.curOp = null }\r\n    endOperations(group)\r\n  })\r\n}\r\n\r\n// The DOM updates done when an operation finishes are batched so\r\n// that the minimum number of relayouts are required.\r\nfunction endOperations(group) {\r\n  var ops = group.ops\r\n  for (var i = 0; i < ops.length; i++) // Read DOM\r\n    { endOperation_R1(ops[i]) }\r\n  for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\r\n    { endOperation_W1(ops[i$1]) }\r\n  for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\r\n    { endOperation_R2(ops[i$2]) }\r\n  for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\r\n    { endOperation_W2(ops[i$3]) }\r\n  for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\r\n    { endOperation_finish(ops[i$4]) }\r\n}\r\n\r\nfunction endOperation_R1(op) {\r\n  var cm = op.cm, display = cm.display\r\n  maybeClipScrollbars(cm)\r\n  if (op.updateMaxLine) { findMaxLine(cm) }\r\n\r\n  op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\r\n    op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\r\n                       op.scrollToPos.to.line >= display.viewTo) ||\r\n    display.maxLineChanged && cm.options.lineWrapping\r\n  op.update = op.mustUpdate &&\r\n    new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate)\r\n}\r\n\r\nfunction endOperation_W1(op) {\r\n  op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update)\r\n}\r\n\r\nfunction endOperation_R2(op) {\r\n  var cm = op.cm, display = cm.display\r\n  if (op.updatedDisplay) { updateHeightsInViewport(cm) }\r\n\r\n  op.barMeasure = measureForScrollbars(cm)\r\n\r\n  // If the max line changed since it was last measured, measure it,\r\n  // and ensure the document's width matches it.\r\n  // updateDisplay_W2 will use these properties to do the actual resizing\r\n  if (display.maxLineChanged && !cm.options.lineWrapping) {\r\n    op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3\r\n    cm.display.sizerWidth = op.adjustWidthTo\r\n    op.barMeasure.scrollWidth =\r\n      Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth)\r\n    op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm))\r\n  }\r\n\r\n  if (op.updatedDisplay || op.selectionChanged)\r\n    { op.preparedSelection = display.input.prepareSelection(op.focus) }\r\n}\r\n\r\nfunction endOperation_W2(op) {\r\n  var cm = op.cm\r\n\r\n  if (op.adjustWidthTo != null) {\r\n    cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\"\r\n    if (op.maxScrollLeft < cm.doc.scrollLeft)\r\n      { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true) }\r\n    cm.display.maxLineChanged = false\r\n  }\r\n\r\n  var takeFocus = op.focus && op.focus == activeElt() && (!document.hasFocus || document.hasFocus())\r\n  if (op.preparedSelection)\r\n    { cm.display.input.showSelection(op.preparedSelection, takeFocus) }\r\n  if (op.updatedDisplay || op.startHeight != cm.doc.height)\r\n    { updateScrollbars(cm, op.barMeasure) }\r\n  if (op.updatedDisplay)\r\n    { setDocumentHeight(cm, op.barMeasure) }\r\n\r\n  if (op.selectionChanged) { restartBlink(cm) }\r\n\r\n  if (cm.state.focused && op.updateInput)\r\n    { cm.display.input.reset(op.typing) }\r\n  if (takeFocus) { ensureFocus(op.cm) }\r\n}\r\n\r\nfunction endOperation_finish(op) {\r\n  var cm = op.cm, display = cm.display, doc = cm.doc\r\n\r\n  if (op.updatedDisplay) { postUpdateDisplay(cm, op.update) }\r\n\r\n  // Abort mouse wheel delta measurement, when scrolling explicitly\r\n  if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\r\n    { display.wheelStartX = display.wheelStartY = null }\r\n\r\n  // Propagate the scroll position to the actual DOM scroller\r\n  if (op.scrollTop != null && (display.scroller.scrollTop != op.scrollTop || op.forceScroll)) {\r\n    doc.scrollTop = Math.max(0, Math.min(display.scroller.scrollHeight - display.scroller.clientHeight, op.scrollTop))\r\n    display.scrollbars.setScrollTop(doc.scrollTop)\r\n    display.scroller.scrollTop = doc.scrollTop\r\n  }\r\n  if (op.scrollLeft != null && (display.scroller.scrollLeft != op.scrollLeft || op.forceScroll)) {\r\n    doc.scrollLeft = Math.max(0, Math.min(display.scroller.scrollWidth - display.scroller.clientWidth, op.scrollLeft))\r\n    display.scrollbars.setScrollLeft(doc.scrollLeft)\r\n    display.scroller.scrollLeft = doc.scrollLeft\r\n    alignHorizontally(cm)\r\n  }\r\n  // If we need to scroll a specific position into view, do so.\r\n  if (op.scrollToPos) {\r\n    var coords = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\r\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin)\r\n    if (op.scrollToPos.isCursor && cm.state.focused) { maybeScrollWindow(cm, coords) }\r\n  }\r\n\r\n  // Fire events for markers that are hidden/unidden by editing or\r\n  // undoing\r\n  var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers\r\n  if (hidden) { for (var i = 0; i < hidden.length; ++i)\r\n    { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\") } } }\r\n  if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\r\n    { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\") } } }\r\n\r\n  if (display.wrapper.offsetHeight)\r\n    { doc.scrollTop = cm.display.scroller.scrollTop }\r\n\r\n  // Fire change events, and delayed event handlers\r\n  if (op.changeObjs)\r\n    { signal(cm, \"changes\", cm, op.changeObjs) }\r\n  if (op.update)\r\n    { op.update.finish() }\r\n}\r\n\r\n// Run the given function in an operation\r\nfunction runInOp(cm, f) {\r\n  if (cm.curOp) { return f() }\r\n  startOperation(cm)\r\n  try { return f() }\r\n  finally { endOperation(cm) }\r\n}\r\n// Wraps a function in an operation. Returns the wrapped function.\r\nfunction operation(cm, f) {\r\n  return function() {\r\n    if (cm.curOp) { return f.apply(cm, arguments) }\r\n    startOperation(cm)\r\n    try { return f.apply(cm, arguments) }\r\n    finally { endOperation(cm) }\r\n  }\r\n}\r\n// Used to add methods to editor and doc instances, wrapping them in\r\n// operations.\r\nfunction methodOp(f) {\r\n  return function() {\r\n    if (this.curOp) { return f.apply(this, arguments) }\r\n    startOperation(this)\r\n    try { return f.apply(this, arguments) }\r\n    finally { endOperation(this) }\r\n  }\r\n}\r\nfunction docMethodOp(f) {\r\n  return function() {\r\n    var cm = this.cm\r\n    if (!cm || cm.curOp) { return f.apply(this, arguments) }\r\n    startOperation(cm)\r\n    try { return f.apply(this, arguments) }\r\n    finally { endOperation(cm) }\r\n  }\r\n}\r\n\r\n// Updates the display.view data structure for a given change to the\r\n// document. From and to are in pre-change coordinates. Lendiff is\r\n// the amount of lines added or subtracted by the change. This is\r\n// used for changes that span multiple lines, or change the way\r\n// lines are divided into visual lines. regLineChange (below)\r\n// registers single-line changes.\r\nfunction regChange(cm, from, to, lendiff) {\r\n  if (from == null) { from = cm.doc.first }\r\n  if (to == null) { to = cm.doc.first + cm.doc.size }\r\n  if (!lendiff) { lendiff = 0 }\r\n\r\n  var display = cm.display\r\n  if (lendiff && to < display.viewTo &&\r\n      (display.updateLineNumbers == null || display.updateLineNumbers > from))\r\n    { display.updateLineNumbers = from }\r\n\r\n  cm.curOp.viewChanged = true\r\n\r\n  if (from >= display.viewTo) { // Change after\r\n    if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\r\n      { resetView(cm) }\r\n  } else if (to <= display.viewFrom) { // Change before\r\n    if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\r\n      resetView(cm)\r\n    } else {\r\n      display.viewFrom += lendiff\r\n      display.viewTo += lendiff\r\n    }\r\n  } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\r\n    resetView(cm)\r\n  } else if (from <= display.viewFrom) { // Top overlap\r\n    var cut = viewCuttingPoint(cm, to, to + lendiff, 1)\r\n    if (cut) {\r\n      display.view = display.view.slice(cut.index)\r\n      display.viewFrom = cut.lineN\r\n      display.viewTo += lendiff\r\n    } else {\r\n      resetView(cm)\r\n    }\r\n  } else if (to >= display.viewTo) { // Bottom overlap\r\n    var cut$1 = viewCuttingPoint(cm, from, from, -1)\r\n    if (cut$1) {\r\n      display.view = display.view.slice(0, cut$1.index)\r\n      display.viewTo = cut$1.lineN\r\n    } else {\r\n      resetView(cm)\r\n    }\r\n  } else { // Gap in the middle\r\n    var cutTop = viewCuttingPoint(cm, from, from, -1)\r\n    var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1)\r\n    if (cutTop && cutBot) {\r\n      display.view = display.view.slice(0, cutTop.index)\r\n        .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\r\n        .concat(display.view.slice(cutBot.index))\r\n      display.viewTo += lendiff\r\n    } else {\r\n      resetView(cm)\r\n    }\r\n  }\r\n\r\n  var ext = display.externalMeasured\r\n  if (ext) {\r\n    if (to < ext.lineN)\r\n      { ext.lineN += lendiff }\r\n    else if (from < ext.lineN + ext.size)\r\n      { display.externalMeasured = null }\r\n  }\r\n}\r\n\r\n// Register a change to a single line. Type must be one of \"text\",\r\n// \"gutter\", \"class\", \"widget\"\r\nfunction regLineChange(cm, line, type) {\r\n  cm.curOp.viewChanged = true\r\n  var display = cm.display, ext = cm.display.externalMeasured\r\n  if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\r\n    { display.externalMeasured = null }\r\n\r\n  if (line < display.viewFrom || line >= display.viewTo) { return }\r\n  var lineView = display.view[findViewIndex(cm, line)]\r\n  if (lineView.node == null) { return }\r\n  var arr = lineView.changes || (lineView.changes = [])\r\n  if (indexOf(arr, type) == -1) { arr.push(type) }\r\n}\r\n\r\n// Clear the view.\r\nfunction resetView(cm) {\r\n  cm.display.viewFrom = cm.display.viewTo = cm.doc.first\r\n  cm.display.view = []\r\n  cm.display.viewOffset = 0\r\n}\r\n\r\nfunction viewCuttingPoint(cm, oldN, newN, dir) {\r\n  var index = findViewIndex(cm, oldN), diff, view = cm.display.view\r\n  if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\r\n    { return {index: index, lineN: newN} }\r\n  var n = cm.display.viewFrom\r\n  for (var i = 0; i < index; i++)\r\n    { n += view[i].size }\r\n  if (n != oldN) {\r\n    if (dir > 0) {\r\n      if (index == view.length - 1) { return null }\r\n      diff = (n + view[index].size) - oldN\r\n      index++\r\n    } else {\r\n      diff = n - oldN\r\n    }\r\n    oldN += diff; newN += diff\r\n  }\r\n  while (visualLineNo(cm.doc, newN) != newN) {\r\n    if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\r\n    newN += dir * view[index - (dir < 0 ? 1 : 0)].size\r\n    index += dir\r\n  }\r\n  return {index: index, lineN: newN}\r\n}\r\n\r\n// Force the view to cover a given range, adding empty view element\r\n// or clipping off existing ones as needed.\r\nfunction adjustView(cm, from, to) {\r\n  var display = cm.display, view = display.view\r\n  if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\r\n    display.view = buildViewArray(cm, from, to)\r\n    display.viewFrom = from\r\n  } else {\r\n    if (display.viewFrom > from)\r\n      { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view) }\r\n    else if (display.viewFrom < from)\r\n      { display.view = display.view.slice(findViewIndex(cm, from)) }\r\n    display.viewFrom = from\r\n    if (display.viewTo < to)\r\n      { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)) }\r\n    else if (display.viewTo > to)\r\n      { display.view = display.view.slice(0, findViewIndex(cm, to)) }\r\n  }\r\n  display.viewTo = to\r\n}\r\n\r\n// Count the number of lines in the view whose DOM representation is\r\n// out of date (or nonexistent).\r\nfunction countDirtyView(cm) {\r\n  var view = cm.display.view, dirty = 0\r\n  for (var i = 0; i < view.length; i++) {\r\n    var lineView = view[i]\r\n    if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty }\r\n  }\r\n  return dirty\r\n}\r\n\r\n// HIGHLIGHT WORKER\r\n\r\nfunction startWorker(cm, time) {\r\n  if (cm.doc.mode.startState && cm.doc.frontier < cm.display.viewTo)\r\n    { cm.state.highlight.set(time, bind(highlightWorker, cm)) }\r\n}\r\n\r\nfunction highlightWorker(cm) {\r\n  var doc = cm.doc\r\n  if (doc.frontier < doc.first) { doc.frontier = doc.first }\r\n  if (doc.frontier >= cm.display.viewTo) { return }\r\n  var end = +new Date + cm.options.workTime\r\n  var state = copyState(doc.mode, getStateBefore(cm, doc.frontier))\r\n  var changedLines = []\r\n\r\n  doc.iter(doc.frontier, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\r\n    if (doc.frontier >= cm.display.viewFrom) { // Visible\r\n      var oldStyles = line.styles, tooLong = line.text.length > cm.options.maxHighlightLength\r\n      var highlighted = highlightLine(cm, line, tooLong ? copyState(doc.mode, state) : state, true)\r\n      line.styles = highlighted.styles\r\n      var oldCls = line.styleClasses, newCls = highlighted.classes\r\n      if (newCls) { line.styleClasses = newCls }\r\n      else if (oldCls) { line.styleClasses = null }\r\n      var ischange = !oldStyles || oldStyles.length != line.styles.length ||\r\n        oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass)\r\n      for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i] }\r\n      if (ischange) { changedLines.push(doc.frontier) }\r\n      line.stateAfter = tooLong ? state : copyState(doc.mode, state)\r\n    } else {\r\n      if (line.text.length <= cm.options.maxHighlightLength)\r\n        { processLine(cm, line.text, state) }\r\n      line.stateAfter = doc.frontier % 5 == 0 ? copyState(doc.mode, state) : null\r\n    }\r\n    ++doc.frontier\r\n    if (+new Date > end) {\r\n      startWorker(cm, cm.options.workDelay)\r\n      return true\r\n    }\r\n  })\r\n  if (changedLines.length) { runInOp(cm, function () {\r\n    for (var i = 0; i < changedLines.length; i++)\r\n      { regLineChange(cm, changedLines[i], \"text\") }\r\n  }) }\r\n}\r\n\r\n// DISPLAY DRAWING\r\n\r\nvar DisplayUpdate = function(cm, viewport, force) {\r\n  var display = cm.display\r\n\r\n  this.viewport = viewport\r\n  // Store some values that we'll need later (but don't want to force a relayout for)\r\n  this.visible = visibleLines(display, cm.doc, viewport)\r\n  this.editorIsHidden = !display.wrapper.offsetWidth\r\n  this.wrapperHeight = display.wrapper.clientHeight\r\n  this.wrapperWidth = display.wrapper.clientWidth\r\n  this.oldDisplayWidth = displayWidth(cm)\r\n  this.force = force\r\n  this.dims = getDimensions(cm)\r\n  this.events = []\r\n};\r\n\r\nDisplayUpdate.prototype.signal = function (emitter, type) {\r\n  if (hasHandler(emitter, type))\r\n    { this.events.push(arguments) }\r\n};\r\nDisplayUpdate.prototype.finish = function () {\r\n    var this$1 = this;\r\n\r\n  for (var i = 0; i < this.events.length; i++)\r\n    { signal.apply(null, this$1.events[i]) }\r\n};\r\n\r\nfunction maybeClipScrollbars(cm) {\r\n  var display = cm.display\r\n  if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\r\n    display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth\r\n    display.heightForcer.style.height = scrollGap(cm) + \"px\"\r\n    display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\"\r\n    display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\"\r\n    display.scrollbarsClipped = true\r\n  }\r\n}\r\n\r\n// Does the actual updating of the line display. Bails out\r\n// (returning false) when there is nothing to be done and forced is\r\n// false.\r\nfunction updateDisplayIfNeeded(cm, update) {\r\n  var display = cm.display, doc = cm.doc\r\n\r\n  if (update.editorIsHidden) {\r\n    resetView(cm)\r\n    return false\r\n  }\r\n\r\n  // Bail out if the visible area is already rendered and nothing changed.\r\n  if (!update.force &&\r\n      update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\r\n      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\r\n      display.renderedView == display.view && countDirtyView(cm) == 0)\r\n    { return false }\r\n\r\n  if (maybeUpdateLineNumberWidth(cm)) {\r\n    resetView(cm)\r\n    update.dims = getDimensions(cm)\r\n  }\r\n\r\n  // Compute a suitable new viewport (from & to)\r\n  var end = doc.first + doc.size\r\n  var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first)\r\n  var to = Math.min(end, update.visible.to + cm.options.viewportMargin)\r\n  if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom) }\r\n  if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo) }\r\n  if (sawCollapsedSpans) {\r\n    from = visualLineNo(cm.doc, from)\r\n    to = visualLineEndNo(cm.doc, to)\r\n  }\r\n\r\n  var different = from != display.viewFrom || to != display.viewTo ||\r\n    display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth\r\n  adjustView(cm, from, to)\r\n\r\n  display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom))\r\n  // Position the mover div to align with the current scroll position\r\n  cm.display.mover.style.top = display.viewOffset + \"px\"\r\n\r\n  var toUpdate = countDirtyView(cm)\r\n  if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\r\n      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\r\n    { return false }\r\n\r\n  // For big changes, we hide the enclosing element during the\r\n  // update, since that speeds up the operations on most browsers.\r\n  var focused = activeElt()\r\n  if (toUpdate > 4) { display.lineDiv.style.display = \"none\" }\r\n  patchDisplay(cm, display.updateLineNumbers, update.dims)\r\n  if (toUpdate > 4) { display.lineDiv.style.display = \"\" }\r\n  display.renderedView = display.view\r\n  // There might have been a widget with a focused element that got\r\n  // hidden or updated, if so re-focus it.\r\n  if (focused && activeElt() != focused && focused.offsetHeight) { focused.focus() }\r\n\r\n  // Prevent selection and cursors from interfering with the scroll\r\n  // width and height.\r\n  removeChildren(display.cursorDiv)\r\n  removeChildren(display.selectionDiv)\r\n  display.gutters.style.height = display.sizer.style.minHeight = 0\r\n\r\n  if (different) {\r\n    display.lastWrapHeight = update.wrapperHeight\r\n    display.lastWrapWidth = update.wrapperWidth\r\n    startWorker(cm, 400)\r\n  }\r\n\r\n  display.updateLineNumbers = null\r\n\r\n  return true\r\n}\r\n\r\nfunction postUpdateDisplay(cm, update) {\r\n  var viewport = update.viewport\r\n\r\n  for (var first = true;; first = false) {\r\n    if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\r\n      // Clip forced viewport to actual scrollable area.\r\n      if (viewport && viewport.top != null)\r\n        { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)} }\r\n      // Updated line heights might result in the drawn area not\r\n      // actually covering the viewport. Keep looping until it does.\r\n      update.visible = visibleLines(cm.display, cm.doc, viewport)\r\n      if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\r\n        { break }\r\n    }\r\n    if (!updateDisplayIfNeeded(cm, update)) { break }\r\n    updateHeightsInViewport(cm)\r\n    var barMeasure = measureForScrollbars(cm)\r\n    updateSelection(cm)\r\n    updateScrollbars(cm, barMeasure)\r\n    setDocumentHeight(cm, barMeasure)\r\n  }\r\n\r\n  update.signal(cm, \"update\", cm)\r\n  if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\r\n    update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo)\r\n    cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo\r\n  }\r\n}\r\n\r\nfunction updateDisplaySimple(cm, viewport) {\r\n  var update = new DisplayUpdate(cm, viewport)\r\n  if (updateDisplayIfNeeded(cm, update)) {\r\n    updateHeightsInViewport(cm)\r\n    postUpdateDisplay(cm, update)\r\n    var barMeasure = measureForScrollbars(cm)\r\n    updateSelection(cm)\r\n    updateScrollbars(cm, barMeasure)\r\n    setDocumentHeight(cm, barMeasure)\r\n    update.finish()\r\n  }\r\n}\r\n\r\n// Sync the actual display DOM structure with display.view, removing\r\n// nodes for lines that are no longer in view, and creating the ones\r\n// that are not there yet, and updating the ones that are out of\r\n// date.\r\nfunction patchDisplay(cm, updateNumbersFrom, dims) {\r\n  var display = cm.display, lineNumbers = cm.options.lineNumbers\r\n  var container = display.lineDiv, cur = container.firstChild\r\n\r\n  function rm(node) {\r\n    var next = node.nextSibling\r\n    // Works around a throw-scroll bug in OS X Webkit\r\n    if (webkit && mac && cm.display.currentWheelTarget == node)\r\n      { node.style.display = \"none\" }\r\n    else\r\n      { node.parentNode.removeChild(node) }\r\n    return next\r\n  }\r\n\r\n  var view = display.view, lineN = display.viewFrom\r\n  // Loop over the elements in the view, syncing cur (the DOM nodes\r\n  // in display.lineDiv) with the view as we go.\r\n  for (var i = 0; i < view.length; i++) {\r\n    var lineView = view[i]\r\n    if (lineView.hidden) {\r\n    } else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\r\n      var node = buildLineElement(cm, lineView, lineN, dims)\r\n      container.insertBefore(node, cur)\r\n    } else { // Already drawn\r\n      while (cur != lineView.node) { cur = rm(cur) }\r\n      var updateNumber = lineNumbers && updateNumbersFrom != null &&\r\n        updateNumbersFrom <= lineN && lineView.lineNumber\r\n      if (lineView.changes) {\r\n        if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false }\r\n        updateLineForChanges(cm, lineView, lineN, dims)\r\n      }\r\n      if (updateNumber) {\r\n        removeChildren(lineView.lineNumber)\r\n        lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)))\r\n      }\r\n      cur = lineView.node.nextSibling\r\n    }\r\n    lineN += lineView.size\r\n  }\r\n  while (cur) { cur = rm(cur) }\r\n}\r\n\r\nfunction updateGutterSpace(cm) {\r\n  var width = cm.display.gutters.offsetWidth\r\n  cm.display.sizer.style.marginLeft = width + \"px\"\r\n}\r\n\r\nfunction setDocumentHeight(cm, measure) {\r\n  cm.display.sizer.style.minHeight = measure.docHeight + \"px\"\r\n  cm.display.heightForcer.style.top = measure.docHeight + \"px\"\r\n  cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\"\r\n}\r\n\r\n// Rebuild the gutter elements, ensure the margin to the left of the\r\n// code matches their width.\r\nfunction updateGutters(cm) {\r\n  var gutters = cm.display.gutters, specs = cm.options.gutters\r\n  removeChildren(gutters)\r\n  var i = 0\r\n  for (; i < specs.length; ++i) {\r\n    var gutterClass = specs[i]\r\n    var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + gutterClass))\r\n    if (gutterClass == \"CodeMirror-linenumbers\") {\r\n      cm.display.lineGutter = gElt\r\n      gElt.style.width = (cm.display.lineNumWidth || 1) + \"px\"\r\n    }\r\n  }\r\n  gutters.style.display = i ? \"\" : \"none\"\r\n  updateGutterSpace(cm)\r\n}\r\n\r\n// Make sure the gutters options contains the element\r\n// \"CodeMirror-linenumbers\" when the lineNumbers option is true.\r\nfunction setGuttersForLineNumbers(options) {\r\n  var found = indexOf(options.gutters, \"CodeMirror-linenumbers\")\r\n  if (found == -1 && options.lineNumbers) {\r\n    options.gutters = options.gutters.concat([\"CodeMirror-linenumbers\"])\r\n  } else if (found > -1 && !options.lineNumbers) {\r\n    options.gutters = options.gutters.slice(0)\r\n    options.gutters.splice(found, 1)\r\n  }\r\n}\r\n\r\n// Selection objects are immutable. A new one is created every time\r\n// the selection changes. A selection is one or more non-overlapping\r\n// (and non-touching) ranges, sorted, and an integer that indicates\r\n// which one is the primary selection (the one that's scrolled into\r\n// view, that getCursor returns, etc).\r\nvar Selection = function(ranges, primIndex) {\r\n  this.ranges = ranges\r\n  this.primIndex = primIndex\r\n};\r\n\r\nSelection.prototype.primary = function () { return this.ranges[this.primIndex] };\r\n\r\nSelection.prototype.equals = function (other) {\r\n    var this$1 = this;\r\n\r\n  if (other == this) { return true }\r\n  if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\r\n  for (var i = 0; i < this.ranges.length; i++) {\r\n    var here = this$1.ranges[i], there = other.ranges[i]\r\n    if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\r\n  }\r\n  return true\r\n};\r\n\r\nSelection.prototype.deepCopy = function () {\r\n    var this$1 = this;\r\n\r\n  var out = []\r\n  for (var i = 0; i < this.ranges.length; i++)\r\n    { out[i] = new Range(copyPos(this$1.ranges[i].anchor), copyPos(this$1.ranges[i].head)) }\r\n  return new Selection(out, this.primIndex)\r\n};\r\n\r\nSelection.prototype.somethingSelected = function () {\r\n    var this$1 = this;\r\n\r\n  for (var i = 0; i < this.ranges.length; i++)\r\n    { if (!this$1.ranges[i].empty()) { return true } }\r\n  return false\r\n};\r\n\r\nSelection.prototype.contains = function (pos, end) {\r\n    var this$1 = this;\r\n\r\n  if (!end) { end = pos }\r\n  for (var i = 0; i < this.ranges.length; i++) {\r\n    var range = this$1.ranges[i]\r\n    if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\r\n      { return i }\r\n  }\r\n  return -1\r\n};\r\n\r\nvar Range = function(anchor, head) {\r\n  this.anchor = anchor; this.head = head\r\n};\r\n\r\nRange.prototype.from = function () { return minPos(this.anchor, this.head) };\r\nRange.prototype.to = function () { return maxPos(this.anchor, this.head) };\r\nRange.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\r\n\r\n// Take an unsorted, potentially overlapping set of ranges, and\r\n// build a selection out of it. 'Consumes' ranges array (modifying\r\n// it).\r\nfunction normalizeSelection(ranges, primIndex) {\r\n  var prim = ranges[primIndex]\r\n  ranges.sort(function (a, b) { return cmp(a.from(), b.from()); })\r\n  primIndex = indexOf(ranges, prim)\r\n  for (var i = 1; i < ranges.length; i++) {\r\n    var cur = ranges[i], prev = ranges[i - 1]\r\n    if (cmp(prev.to(), cur.from()) >= 0) {\r\n      var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to())\r\n      var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head\r\n      if (i <= primIndex) { --primIndex }\r\n      ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to))\r\n    }\r\n  }\r\n  return new Selection(ranges, primIndex)\r\n}\r\n\r\nfunction simpleSelection(anchor, head) {\r\n  return new Selection([new Range(anchor, head || anchor)], 0)\r\n}\r\n\r\n// Compute the position of the end of a change (its 'to' property\r\n// refers to the pre-change end).\r\nfunction changeEnd(change) {\r\n  if (!change.text) { return change.to }\r\n  return Pos(change.from.line + change.text.length - 1,\r\n             lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\r\n}\r\n\r\n// Adjust a position to refer to the post-change position of the\r\n// same text, or the end of the change if the change covers it.\r\nfunction adjustForChange(pos, change) {\r\n  if (cmp(pos, change.from) < 0) { return pos }\r\n  if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\r\n\r\n  var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch\r\n  if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch }\r\n  return Pos(line, ch)\r\n}\r\n\r\nfunction computeSelAfterChange(doc, change) {\r\n  var out = []\r\n  for (var i = 0; i < doc.sel.ranges.length; i++) {\r\n    var range = doc.sel.ranges[i]\r\n    out.push(new Range(adjustForChange(range.anchor, change),\r\n                       adjustForChange(range.head, change)))\r\n  }\r\n  return normalizeSelection(out, doc.sel.primIndex)\r\n}\r\n\r\nfunction offsetPos(pos, old, nw) {\r\n  if (pos.line == old.line)\r\n    { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\r\n  else\r\n    { return Pos(nw.line + (pos.line - old.line), pos.ch) }\r\n}\r\n\r\n// Used by replaceSelections to allow moving the selection to the\r\n// start or around the replaced test. Hint may be \"start\" or \"around\".\r\nfunction computeReplacedSel(doc, changes, hint) {\r\n  var out = []\r\n  var oldPrev = Pos(doc.first, 0), newPrev = oldPrev\r\n  for (var i = 0; i < changes.length; i++) {\r\n    var change = changes[i]\r\n    var from = offsetPos(change.from, oldPrev, newPrev)\r\n    var to = offsetPos(changeEnd(change), oldPrev, newPrev)\r\n    oldPrev = change.to\r\n    newPrev = to\r\n    if (hint == \"around\") {\r\n      var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0\r\n      out[i] = new Range(inv ? to : from, inv ? from : to)\r\n    } else {\r\n      out[i] = new Range(from, from)\r\n    }\r\n  }\r\n  return new Selection(out, doc.sel.primIndex)\r\n}\r\n\r\n// Used to get the editor into a consistent state again when options change.\r\n\r\nfunction loadMode(cm) {\r\n  cm.doc.mode = getMode(cm.options, cm.doc.modeOption)\r\n  resetModeState(cm)\r\n}\r\n\r\nfunction resetModeState(cm) {\r\n  cm.doc.iter(function (line) {\r\n    if (line.stateAfter) { line.stateAfter = null }\r\n    if (line.styles) { line.styles = null }\r\n  })\r\n  cm.doc.frontier = cm.doc.first\r\n  startWorker(cm, 100)\r\n  cm.state.modeGen++\r\n  if (cm.curOp) { regChange(cm) }\r\n}\r\n\r\n// DOCUMENT DATA STRUCTURE\r\n\r\n// By default, updates that start and end at the beginning of a line\r\n// are treated specially, in order to make the association of line\r\n// widgets and marker elements with the text behave more intuitive.\r\nfunction isWholeLineUpdate(doc, change) {\r\n  return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\r\n    (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\r\n}\r\n\r\n// Perform a change on the document data structure.\r\nfunction updateDoc(doc, change, markedSpans, estimateHeight) {\r\n  function spansFor(n) {return markedSpans ? markedSpans[n] : null}\r\n  function update(line, text, spans) {\r\n    updateLine(line, text, spans, estimateHeight)\r\n    signalLater(line, \"change\", line, change)\r\n  }\r\n  function linesFor(start, end) {\r\n    var result = []\r\n    for (var i = start; i < end; ++i)\r\n      { result.push(new Line(text[i], spansFor(i), estimateHeight)) }\r\n    return result\r\n  }\r\n\r\n  var from = change.from, to = change.to, text = change.text\r\n  var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line)\r\n  var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line\r\n\r\n  // Adjust the line structure\r\n  if (change.full) {\r\n    doc.insert(0, linesFor(0, text.length))\r\n    doc.remove(text.length, doc.size - text.length)\r\n  } else if (isWholeLineUpdate(doc, change)) {\r\n    // This is a whole-line replace. Treated specially to make\r\n    // sure line objects move the way they are supposed to.\r\n    var added = linesFor(0, text.length - 1)\r\n    update(lastLine, lastLine.text, lastSpans)\r\n    if (nlines) { doc.remove(from.line, nlines) }\r\n    if (added.length) { doc.insert(from.line, added) }\r\n  } else if (firstLine == lastLine) {\r\n    if (text.length == 1) {\r\n      update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans)\r\n    } else {\r\n      var added$1 = linesFor(1, text.length - 1)\r\n      added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight))\r\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0))\r\n      doc.insert(from.line + 1, added$1)\r\n    }\r\n  } else if (text.length == 1) {\r\n    update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0))\r\n    doc.remove(from.line + 1, nlines)\r\n  } else {\r\n    update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0))\r\n    update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans)\r\n    var added$2 = linesFor(1, text.length - 1)\r\n    if (nlines > 1) { doc.remove(from.line + 1, nlines - 1) }\r\n    doc.insert(from.line + 1, added$2)\r\n  }\r\n\r\n  signalLater(doc, \"change\", doc, change)\r\n}\r\n\r\n// Call f for all linked documents.\r\nfunction linkedDocs(doc, f, sharedHistOnly) {\r\n  function propagate(doc, skip, sharedHist) {\r\n    if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\r\n      var rel = doc.linked[i]\r\n      if (rel.doc == skip) { continue }\r\n      var shared = sharedHist && rel.sharedHist\r\n      if (sharedHistOnly && !shared) { continue }\r\n      f(rel.doc, shared)\r\n      propagate(rel.doc, doc, shared)\r\n    } }\r\n  }\r\n  propagate(doc, null, true)\r\n}\r\n\r\n// Attach a document to an editor.\r\nfunction attachDoc(cm, doc) {\r\n  if (doc.cm) { throw new Error(\"This document is already in use.\") }\r\n  cm.doc = doc\r\n  doc.cm = cm\r\n  estimateLineHeights(cm)\r\n  loadMode(cm)\r\n  if (!cm.options.lineWrapping) { findMaxLine(cm) }\r\n  cm.options.mode = doc.modeOption\r\n  regChange(cm)\r\n}\r\n\r\nfunction History(startGen) {\r\n  // Arrays of change events and selections. Doing something adds an\r\n  // event to done and clears undo. Undoing moves events from done\r\n  // to undone, redoing moves them in the other direction.\r\n  this.done = []; this.undone = []\r\n  this.undoDepth = Infinity\r\n  // Used to track when changes can be merged into a single undo\r\n  // event\r\n  this.lastModTime = this.lastSelTime = 0\r\n  this.lastOp = this.lastSelOp = null\r\n  this.lastOrigin = this.lastSelOrigin = null\r\n  // Used by the isClean() method\r\n  this.generation = this.maxGeneration = startGen || 1\r\n}\r\n\r\n// Create a history change event from an updateDoc-style change\r\n// object.\r\nfunction historyChangeFromChange(doc, change) {\r\n  var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)}\r\n  attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1)\r\n  linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true)\r\n  return histChange\r\n}\r\n\r\n// Pop all selection events off the end of a history array. Stop at\r\n// a change event.\r\nfunction clearSelectionEvents(array) {\r\n  while (array.length) {\r\n    var last = lst(array)\r\n    if (last.ranges) { array.pop() }\r\n    else { break }\r\n  }\r\n}\r\n\r\n// Find the top change event in the history. Pop off selection\r\n// events that are in the way.\r\nfunction lastChangeEvent(hist, force) {\r\n  if (force) {\r\n    clearSelectionEvents(hist.done)\r\n    return lst(hist.done)\r\n  } else if (hist.done.length && !lst(hist.done).ranges) {\r\n    return lst(hist.done)\r\n  } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\r\n    hist.done.pop()\r\n    return lst(hist.done)\r\n  }\r\n}\r\n\r\n// Register a change in the history. Merges changes that are within\r\n// a single operation, or are close together with an origin that\r\n// allows merging (starting with \"+\") into a single event.\r\nfunction addChangeToHistory(doc, change, selAfter, opId) {\r\n  var hist = doc.history\r\n  hist.undone.length = 0\r\n  var time = +new Date, cur\r\n  var last\r\n\r\n  if ((hist.lastOp == opId ||\r\n       hist.lastOrigin == change.origin && change.origin &&\r\n       ((change.origin.charAt(0) == \"+\" && doc.cm && hist.lastModTime > time - doc.cm.options.historyEventDelay) ||\r\n        change.origin.charAt(0) == \"*\")) &&\r\n      (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\r\n    // Merge this change into the last event\r\n    last = lst(cur.changes)\r\n    if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\r\n      // Optimized case for simple insertion -- don't want to add\r\n      // new changesets for every character typed\r\n      last.to = changeEnd(change)\r\n    } else {\r\n      // Add new sub-event\r\n      cur.changes.push(historyChangeFromChange(doc, change))\r\n    }\r\n  } else {\r\n    // Can not be merged, start a new event.\r\n    var before = lst(hist.done)\r\n    if (!before || !before.ranges)\r\n      { pushSelectionToHistory(doc.sel, hist.done) }\r\n    cur = {changes: [historyChangeFromChange(doc, change)],\r\n           generation: hist.generation}\r\n    hist.done.push(cur)\r\n    while (hist.done.length > hist.undoDepth) {\r\n      hist.done.shift()\r\n      if (!hist.done[0].ranges) { hist.done.shift() }\r\n    }\r\n  }\r\n  hist.done.push(selAfter)\r\n  hist.generation = ++hist.maxGeneration\r\n  hist.lastModTime = hist.lastSelTime = time\r\n  hist.lastOp = hist.lastSelOp = opId\r\n  hist.lastOrigin = hist.lastSelOrigin = change.origin\r\n\r\n  if (!last) { signal(doc, \"historyAdded\") }\r\n}\r\n\r\nfunction selectionEventCanBeMerged(doc, origin, prev, sel) {\r\n  var ch = origin.charAt(0)\r\n  return ch == \"*\" ||\r\n    ch == \"+\" &&\r\n    prev.ranges.length == sel.ranges.length &&\r\n    prev.somethingSelected() == sel.somethingSelected() &&\r\n    new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\r\n}\r\n\r\n// Called whenever the selection changes, sets the new selection as\r\n// the pending selection in the history, and pushes the old pending\r\n// selection into the 'done' array when it was significantly\r\n// different (in number of selected ranges, emptiness, or time).\r\nfunction addSelectionToHistory(doc, sel, opId, options) {\r\n  var hist = doc.history, origin = options && options.origin\r\n\r\n  // A new event is started when the previous origin does not match\r\n  // the current, or the origins don't allow matching. Origins\r\n  // starting with * are always merged, those starting with + are\r\n  // merged when similar and close together in time.\r\n  if (opId == hist.lastSelOp ||\r\n      (origin && hist.lastSelOrigin == origin &&\r\n       (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\r\n        selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\r\n    { hist.done[hist.done.length - 1] = sel }\r\n  else\r\n    { pushSelectionToHistory(sel, hist.done) }\r\n\r\n  hist.lastSelTime = +new Date\r\n  hist.lastSelOrigin = origin\r\n  hist.lastSelOp = opId\r\n  if (options && options.clearRedo !== false)\r\n    { clearSelectionEvents(hist.undone) }\r\n}\r\n\r\nfunction pushSelectionToHistory(sel, dest) {\r\n  var top = lst(dest)\r\n  if (!(top && top.ranges && top.equals(sel)))\r\n    { dest.push(sel) }\r\n}\r\n\r\n// Used to store marked span information in the history.\r\nfunction attachLocalSpans(doc, change, from, to) {\r\n  var existing = change[\"spans_\" + doc.id], n = 0\r\n  doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\r\n    if (line.markedSpans)\r\n      { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans }\r\n    ++n\r\n  })\r\n}\r\n\r\n// When un/re-doing restores text containing marked spans, those\r\n// that have been explicitly cleared should not be restored.\r\nfunction removeClearedSpans(spans) {\r\n  if (!spans) { return null }\r\n  var out\r\n  for (var i = 0; i < spans.length; ++i) {\r\n    if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i) } }\r\n    else if (out) { out.push(spans[i]) }\r\n  }\r\n  return !out ? spans : out.length ? out : null\r\n}\r\n\r\n// Retrieve and filter the old marked spans stored in a change event.\r\nfunction getOldSpans(doc, change) {\r\n  var found = change[\"spans_\" + doc.id]\r\n  if (!found) { return null }\r\n  var nw = []\r\n  for (var i = 0; i < change.text.length; ++i)\r\n    { nw.push(removeClearedSpans(found[i])) }\r\n  return nw\r\n}\r\n\r\n// Used for un/re-doing changes from the history. Combines the\r\n// result of computing the existing spans with the set of spans that\r\n// existed in the history (so that deleting around a span and then\r\n// undoing brings back the span).\r\nfunction mergeOldSpans(doc, change) {\r\n  var old = getOldSpans(doc, change)\r\n  var stretched = stretchSpansOverChange(doc, change)\r\n  if (!old) { return stretched }\r\n  if (!stretched) { return old }\r\n\r\n  for (var i = 0; i < old.length; ++i) {\r\n    var oldCur = old[i], stretchCur = stretched[i]\r\n    if (oldCur && stretchCur) {\r\n      spans: for (var j = 0; j < stretchCur.length; ++j) {\r\n        var span = stretchCur[j]\r\n        for (var k = 0; k < oldCur.length; ++k)\r\n          { if (oldCur[k].marker == span.marker) { continue spans } }\r\n        oldCur.push(span)\r\n      }\r\n    } else if (stretchCur) {\r\n      old[i] = stretchCur\r\n    }\r\n  }\r\n  return old\r\n}\r\n\r\n// Used both to provide a JSON-safe object in .getHistory, and, when\r\n// detaching a document, to split the history in two\r\nfunction copyHistoryArray(events, newGroup, instantiateSel) {\r\n  var copy = []\r\n  for (var i = 0; i < events.length; ++i) {\r\n    var event = events[i]\r\n    if (event.ranges) {\r\n      copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event)\r\n      continue\r\n    }\r\n    var changes = event.changes, newChanges = []\r\n    copy.push({changes: newChanges})\r\n    for (var j = 0; j < changes.length; ++j) {\r\n      var change = changes[j], m = (void 0)\r\n      newChanges.push({from: change.from, to: change.to, text: change.text})\r\n      if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\r\n        if (indexOf(newGroup, Number(m[1])) > -1) {\r\n          lst(newChanges)[prop] = change[prop]\r\n          delete change[prop]\r\n        }\r\n      } } }\r\n    }\r\n  }\r\n  return copy\r\n}\r\n\r\n// The 'scroll' parameter given to many of these indicated whether\r\n// the new cursor position should be scrolled into view after\r\n// modifying the selection.\r\n\r\n// If shift is held or the extend flag is set, extends a range to\r\n// include a given position (and optionally a second position).\r\n// Otherwise, simply returns the range between the given positions.\r\n// Used for cursor motion and such.\r\nfunction extendRange(doc, range, head, other) {\r\n  if (doc.cm && doc.cm.display.shift || doc.extend) {\r\n    var anchor = range.anchor\r\n    if (other) {\r\n      var posBefore = cmp(head, anchor) < 0\r\n      if (posBefore != (cmp(other, anchor) < 0)) {\r\n        anchor = head\r\n        head = other\r\n      } else if (posBefore != (cmp(head, other) < 0)) {\r\n        head = other\r\n      }\r\n    }\r\n    return new Range(anchor, head)\r\n  } else {\r\n    return new Range(other || head, head)\r\n  }\r\n}\r\n\r\n// Extend the primary selection range, discard the rest.\r\nfunction extendSelection(doc, head, other, options) {\r\n  setSelection(doc, new Selection([extendRange(doc, doc.sel.primary(), head, other)], 0), options)\r\n}\r\n\r\n// Extend all selections (pos is an array of selections with length\r\n// equal the number of selections)\r\nfunction extendSelections(doc, heads, options) {\r\n  var out = []\r\n  for (var i = 0; i < doc.sel.ranges.length; i++)\r\n    { out[i] = extendRange(doc, doc.sel.ranges[i], heads[i], null) }\r\n  var newSel = normalizeSelection(out, doc.sel.primIndex)\r\n  setSelection(doc, newSel, options)\r\n}\r\n\r\n// Updates a single range in the selection.\r\nfunction replaceOneSelection(doc, i, range, options) {\r\n  var ranges = doc.sel.ranges.slice(0)\r\n  ranges[i] = range\r\n  setSelection(doc, normalizeSelection(ranges, doc.sel.primIndex), options)\r\n}\r\n\r\n// Reset the selection to a single range.\r\nfunction setSimpleSelection(doc, anchor, head, options) {\r\n  setSelection(doc, simpleSelection(anchor, head), options)\r\n}\r\n\r\n// Give beforeSelectionChange handlers a change to influence a\r\n// selection update.\r\nfunction filterSelectionChange(doc, sel, options) {\r\n  var obj = {\r\n    ranges: sel.ranges,\r\n    update: function(ranges) {\r\n      var this$1 = this;\r\n\r\n      this.ranges = []\r\n      for (var i = 0; i < ranges.length; i++)\r\n        { this$1.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\r\n                                   clipPos(doc, ranges[i].head)) }\r\n    },\r\n    origin: options && options.origin\r\n  }\r\n  signal(doc, \"beforeSelectionChange\", doc, obj)\r\n  if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj) }\r\n  if (obj.ranges != sel.ranges) { return normalizeSelection(obj.ranges, obj.ranges.length - 1) }\r\n  else { return sel }\r\n}\r\n\r\nfunction setSelectionReplaceHistory(doc, sel, options) {\r\n  var done = doc.history.done, last = lst(done)\r\n  if (last && last.ranges) {\r\n    done[done.length - 1] = sel\r\n    setSelectionNoUndo(doc, sel, options)\r\n  } else {\r\n    setSelection(doc, sel, options)\r\n  }\r\n}\r\n\r\n// Set a new selection.\r\nfunction setSelection(doc, sel, options) {\r\n  setSelectionNoUndo(doc, sel, options)\r\n  addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options)\r\n}\r\n\r\nfunction setSelectionNoUndo(doc, sel, options) {\r\n  if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\r\n    { sel = filterSelectionChange(doc, sel, options) }\r\n\r\n  var bias = options && options.bias ||\r\n    (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1)\r\n  setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true))\r\n\r\n  if (!(options && options.scroll === false) && doc.cm)\r\n    { ensureCursorVisible(doc.cm) }\r\n}\r\n\r\nfunction setSelectionInner(doc, sel) {\r\n  if (sel.equals(doc.sel)) { return }\r\n\r\n  doc.sel = sel\r\n\r\n  if (doc.cm) {\r\n    doc.cm.curOp.updateInput = doc.cm.curOp.selectionChanged = true\r\n    signalCursorActivity(doc.cm)\r\n  }\r\n  signalLater(doc, \"cursorActivity\", doc)\r\n}\r\n\r\n// Verify that the selection does not partially select any atomic\r\n// marked ranges.\r\nfunction reCheckSelection(doc) {\r\n  setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false), sel_dontScroll)\r\n}\r\n\r\n// Return a selection that does not partially select any atomic\r\n// ranges.\r\nfunction skipAtomicInSelection(doc, sel, bias, mayClear) {\r\n  var out\r\n  for (var i = 0; i < sel.ranges.length; i++) {\r\n    var range = sel.ranges[i]\r\n    var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i]\r\n    var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear)\r\n    var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear)\r\n    if (out || newAnchor != range.anchor || newHead != range.head) {\r\n      if (!out) { out = sel.ranges.slice(0, i) }\r\n      out[i] = new Range(newAnchor, newHead)\r\n    }\r\n  }\r\n  return out ? normalizeSelection(out, sel.primIndex) : sel\r\n}\r\n\r\nfunction skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\r\n  var line = getLine(doc, pos.line)\r\n  if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\r\n    var sp = line.markedSpans[i], m = sp.marker\r\n    if ((sp.from == null || (m.inclusiveLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\r\n        (sp.to == null || (m.inclusiveRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\r\n      if (mayClear) {\r\n        signal(m, \"beforeCursorEnter\")\r\n        if (m.explicitlyCleared) {\r\n          if (!line.markedSpans) { break }\r\n          else {--i; continue}\r\n        }\r\n      }\r\n      if (!m.atomic) { continue }\r\n\r\n      if (oldPos) {\r\n        var near = m.find(dir < 0 ? 1 : -1), diff = (void 0)\r\n        if (dir < 0 ? m.inclusiveRight : m.inclusiveLeft)\r\n          { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null) }\r\n        if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\r\n          { return skipAtomicInner(doc, near, pos, dir, mayClear) }\r\n      }\r\n\r\n      var far = m.find(dir < 0 ? -1 : 1)\r\n      if (dir < 0 ? m.inclusiveLeft : m.inclusiveRight)\r\n        { far = movePos(doc, far, dir, far.line == pos.line ? line : null) }\r\n      return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\r\n    }\r\n  } }\r\n  return pos\r\n}\r\n\r\n// Ensure a given position is not inside an atomic range.\r\nfunction skipAtomic(doc, pos, oldPos, bias, mayClear) {\r\n  var dir = bias || 1\r\n  var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\r\n      (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\r\n      skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\r\n      (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true))\r\n  if (!found) {\r\n    doc.cantEdit = true\r\n    return Pos(doc.first, 0)\r\n  }\r\n  return found\r\n}\r\n\r\nfunction movePos(doc, pos, dir, line) {\r\n  if (dir < 0 && pos.ch == 0) {\r\n    if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\r\n    else { return null }\r\n  } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\r\n    if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\r\n    else { return null }\r\n  } else {\r\n    return new Pos(pos.line, pos.ch + dir)\r\n  }\r\n}\r\n\r\nfunction selectAll(cm) {\r\n  cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll)\r\n}\r\n\r\n// UPDATING\r\n\r\n// Allow \"beforeChange\" event handlers to influence a change\r\nfunction filterChange(doc, change, update) {\r\n  var obj = {\r\n    canceled: false,\r\n    from: change.from,\r\n    to: change.to,\r\n    text: change.text,\r\n    origin: change.origin,\r\n    cancel: function () { return obj.canceled = true; }\r\n  }\r\n  if (update) { obj.update = function (from, to, text, origin) {\r\n    if (from) { obj.from = clipPos(doc, from) }\r\n    if (to) { obj.to = clipPos(doc, to) }\r\n    if (text) { obj.text = text }\r\n    if (origin !== undefined) { obj.origin = origin }\r\n  } }\r\n  signal(doc, \"beforeChange\", doc, obj)\r\n  if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj) }\r\n\r\n  if (obj.canceled) { return null }\r\n  return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\r\n}\r\n\r\n// Apply a change to a document, and add it to the document's\r\n// history, and propagating it to all linked documents.\r\nfunction makeChange(doc, change, ignoreReadOnly) {\r\n  if (doc.cm) {\r\n    if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\r\n    if (doc.cm.state.suppressEdits) { return }\r\n  }\r\n\r\n  if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\r\n    change = filterChange(doc, change, true)\r\n    if (!change) { return }\r\n  }\r\n\r\n  // Possibly split or suppress the update based on the presence\r\n  // of read-only spans in its range.\r\n  var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to)\r\n  if (split) {\r\n    for (var i = split.length - 1; i >= 0; --i)\r\n      { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text}) }\r\n  } else {\r\n    makeChangeInner(doc, change)\r\n  }\r\n}\r\n\r\nfunction makeChangeInner(doc, change) {\r\n  if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\r\n  var selAfter = computeSelAfterChange(doc, change)\r\n  addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN)\r\n\r\n  makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change))\r\n  var rebased = []\r\n\r\n  linkedDocs(doc, function (doc, sharedHist) {\r\n    if (!sharedHist && indexOf(rebased, doc.history) == -1) {\r\n      rebaseHist(doc.history, change)\r\n      rebased.push(doc.history)\r\n    }\r\n    makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change))\r\n  })\r\n}\r\n\r\n// Revert a change stored in a document's history.\r\nfunction makeChangeFromHistory(doc, type, allowSelectionOnly) {\r\n  if (doc.cm && doc.cm.state.suppressEdits && !allowSelectionOnly) { return }\r\n\r\n  var hist = doc.history, event, selAfter = doc.sel\r\n  var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done\r\n\r\n  // Verify that there is a useable event (so that ctrl-z won't\r\n  // needlessly clear selection events)\r\n  var i = 0\r\n  for (; i < source.length; i++) {\r\n    event = source[i]\r\n    if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\r\n      { break }\r\n  }\r\n  if (i == source.length) { return }\r\n  hist.lastOrigin = hist.lastSelOrigin = null\r\n\r\n  for (;;) {\r\n    event = source.pop()\r\n    if (event.ranges) {\r\n      pushSelectionToHistory(event, dest)\r\n      if (allowSelectionOnly && !event.equals(doc.sel)) {\r\n        setSelection(doc, event, {clearRedo: false})\r\n        return\r\n      }\r\n      selAfter = event\r\n    }\r\n    else { break }\r\n  }\r\n\r\n  // Build up a reverse change object to add to the opposite history\r\n  // stack (redo when undoing, and vice versa).\r\n  var antiChanges = []\r\n  pushSelectionToHistory(selAfter, dest)\r\n  dest.push({changes: antiChanges, generation: hist.generation})\r\n  hist.generation = event.generation || ++hist.maxGeneration\r\n\r\n  var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")\r\n\r\n  var loop = function ( i ) {\r\n    var change = event.changes[i]\r\n    change.origin = type\r\n    if (filter && !filterChange(doc, change, false)) {\r\n      source.length = 0\r\n      return {}\r\n    }\r\n\r\n    antiChanges.push(historyChangeFromChange(doc, change))\r\n\r\n    var after = i ? computeSelAfterChange(doc, change) : lst(source)\r\n    makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change))\r\n    if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}) }\r\n    var rebased = []\r\n\r\n    // Propagate to the linked documents\r\n    linkedDocs(doc, function (doc, sharedHist) {\r\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\r\n        rebaseHist(doc.history, change)\r\n        rebased.push(doc.history)\r\n      }\r\n      makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change))\r\n    })\r\n  };\r\n\r\n  for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\r\n    var returned = loop( i$1 );\r\n\r\n    if ( returned ) return returned.v;\r\n  }\r\n}\r\n\r\n// Sub-views need their line numbers shifted when text is added\r\n// above or below them in the parent document.\r\nfunction shiftDoc(doc, distance) {\r\n  if (distance == 0) { return }\r\n  doc.first += distance\r\n  doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\r\n    Pos(range.anchor.line + distance, range.anchor.ch),\r\n    Pos(range.head.line + distance, range.head.ch)\r\n  ); }), doc.sel.primIndex)\r\n  if (doc.cm) {\r\n    regChange(doc.cm, doc.first, doc.first - distance, distance)\r\n    for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\r\n      { regLineChange(doc.cm, l, \"gutter\") }\r\n  }\r\n}\r\n\r\n// More lower-level change function, handling only a single document\r\n// (not linked ones).\r\nfunction makeChangeSingleDoc(doc, change, selAfter, spans) {\r\n  if (doc.cm && !doc.cm.curOp)\r\n    { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\r\n\r\n  if (change.to.line < doc.first) {\r\n    shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line))\r\n    return\r\n  }\r\n  if (change.from.line > doc.lastLine()) { return }\r\n\r\n  // Clip the change to the size of this doc\r\n  if (change.from.line < doc.first) {\r\n    var shift = change.text.length - 1 - (doc.first - change.from.line)\r\n    shiftDoc(doc, shift)\r\n    change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\r\n              text: [lst(change.text)], origin: change.origin}\r\n  }\r\n  var last = doc.lastLine()\r\n  if (change.to.line > last) {\r\n    change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\r\n              text: [change.text[0]], origin: change.origin}\r\n  }\r\n\r\n  change.removed = getBetween(doc, change.from, change.to)\r\n\r\n  if (!selAfter) { selAfter = computeSelAfterChange(doc, change) }\r\n  if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans) }\r\n  else { updateDoc(doc, change, spans) }\r\n  setSelectionNoUndo(doc, selAfter, sel_dontScroll)\r\n}\r\n\r\n// Handle the interaction of a change to a document with the editor\r\n// that this document is part of.\r\nfunction makeChangeSingleDocInEditor(cm, change, spans) {\r\n  var doc = cm.doc, display = cm.display, from = change.from, to = change.to\r\n\r\n  var recomputeMaxLength = false, checkWidthStart = from.line\r\n  if (!cm.options.lineWrapping) {\r\n    checkWidthStart = lineNo(visualLine(getLine(doc, from.line)))\r\n    doc.iter(checkWidthStart, to.line + 1, function (line) {\r\n      if (line == display.maxLine) {\r\n        recomputeMaxLength = true\r\n        return true\r\n      }\r\n    })\r\n  }\r\n\r\n  if (doc.sel.contains(change.from, change.to) > -1)\r\n    { signalCursorActivity(cm) }\r\n\r\n  updateDoc(doc, change, spans, estimateHeight(cm))\r\n\r\n  if (!cm.options.lineWrapping) {\r\n    doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\r\n      var len = lineLength(line)\r\n      if (len > display.maxLineLength) {\r\n        display.maxLine = line\r\n        display.maxLineLength = len\r\n        display.maxLineChanged = true\r\n        recomputeMaxLength = false\r\n      }\r\n    })\r\n    if (recomputeMaxLength) { cm.curOp.updateMaxLine = true }\r\n  }\r\n\r\n  // Adjust frontier, schedule worker\r\n  doc.frontier = Math.min(doc.frontier, from.line)\r\n  startWorker(cm, 400)\r\n\r\n  var lendiff = change.text.length - (to.line - from.line) - 1\r\n  // Remember that these lines changed, for updating the display\r\n  if (change.full)\r\n    { regChange(cm) }\r\n  else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\r\n    { regLineChange(cm, from.line, \"text\") }\r\n  else\r\n    { regChange(cm, from.line, to.line + 1, lendiff) }\r\n\r\n  var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\")\r\n  if (changeHandler || changesHandler) {\r\n    var obj = {\r\n      from: from, to: to,\r\n      text: change.text,\r\n      removed: change.removed,\r\n      origin: change.origin\r\n    }\r\n    if (changeHandler) { signalLater(cm, \"change\", cm, obj) }\r\n    if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj) }\r\n  }\r\n  cm.display.selForContextMenu = null\r\n}\r\n\r\nfunction replaceRange(doc, code, from, to, origin) {\r\n  if (!to) { to = from }\r\n  if (cmp(to, from) < 0) { var tmp = to; to = from; from = tmp }\r\n  if (typeof code == \"string\") { code = doc.splitLines(code) }\r\n  makeChange(doc, {from: from, to: to, text: code, origin: origin})\r\n}\r\n\r\n// Rebasing/resetting history to deal with externally-sourced changes\r\n\r\nfunction rebaseHistSelSingle(pos, from, to, diff) {\r\n  if (to < pos.line) {\r\n    pos.line += diff\r\n  } else if (from < pos.line) {\r\n    pos.line = from\r\n    pos.ch = 0\r\n  }\r\n}\r\n\r\n// Tries to rebase an array of history events given a change in the\r\n// document. If the change touches the same lines as the event, the\r\n// event, and everything 'behind' it, is discarded. If the change is\r\n// before the event, the event's positions are updated. Uses a\r\n// copy-on-write scheme for the positions, to avoid having to\r\n// reallocate them all on every rebase, but also avoid problems with\r\n// shared position objects being unsafely updated.\r\nfunction rebaseHistArray(array, from, to, diff) {\r\n  for (var i = 0; i < array.length; ++i) {\r\n    var sub = array[i], ok = true\r\n    if (sub.ranges) {\r\n      if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true }\r\n      for (var j = 0; j < sub.ranges.length; j++) {\r\n        rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff)\r\n        rebaseHistSelSingle(sub.ranges[j].head, from, to, diff)\r\n      }\r\n      continue\r\n    }\r\n    for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\r\n      var cur = sub.changes[j$1]\r\n      if (to < cur.from.line) {\r\n        cur.from = Pos(cur.from.line + diff, cur.from.ch)\r\n        cur.to = Pos(cur.to.line + diff, cur.to.ch)\r\n      } else if (from <= cur.to.line) {\r\n        ok = false\r\n        break\r\n      }\r\n    }\r\n    if (!ok) {\r\n      array.splice(0, i + 1)\r\n      i = 0\r\n    }\r\n  }\r\n}\r\n\r\nfunction rebaseHist(hist, change) {\r\n  var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1\r\n  rebaseHistArray(hist.done, from, to, diff)\r\n  rebaseHistArray(hist.undone, from, to, diff)\r\n}\r\n\r\n// Utility for applying a change to a line by handle or number,\r\n// returning the number and optionally registering the line as\r\n// changed.\r\nfunction changeLine(doc, handle, changeType, op) {\r\n  var no = handle, line = handle\r\n  if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)) }\r\n  else { no = lineNo(handle) }\r\n  if (no == null) { return null }\r\n  if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType) }\r\n  return line\r\n}\r\n\r\n// The document is represented as a BTree consisting of leaves, with\r\n// chunk of lines in them, and branches, with up to ten leaves or\r\n// other branch nodes below them. The top node is always a branch\r\n// node, and is the document object itself (meaning it has\r\n// additional methods and properties).\r\n//\r\n// All nodes have parent links. The tree is used both to go from\r\n// line numbers to line objects, and to go from objects to numbers.\r\n// It also indexes by height, and is used to convert between height\r\n// and line object, and to find the total height of the document.\r\n//\r\n// See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\r\n\r\nvar LeafChunk = function(lines) {\r\n  var this$1 = this;\r\n\r\n  this.lines = lines\r\n  this.parent = null\r\n  var height = 0\r\n  for (var i = 0; i < lines.length; ++i) {\r\n    lines[i].parent = this$1\r\n    height += lines[i].height\r\n  }\r\n  this.height = height\r\n};\r\n\r\nLeafChunk.prototype.chunkSize = function () { return this.lines.length };\r\n\r\n// Remove the n lines at offset 'at'.\r\nLeafChunk.prototype.removeInner = function (at, n) {\r\n    var this$1 = this;\r\n\r\n  for (var i = at, e = at + n; i < e; ++i) {\r\n    var line = this$1.lines[i]\r\n    this$1.height -= line.height\r\n    cleanUpLine(line)\r\n    signalLater(line, \"delete\")\r\n  }\r\n  this.lines.splice(at, n)\r\n};\r\n\r\n// Helper used to collapse a small branch into a single leaf.\r\nLeafChunk.prototype.collapse = function (lines) {\r\n  lines.push.apply(lines, this.lines)\r\n};\r\n\r\n// Insert the given array of lines at offset 'at', count them as\r\n// having the given height.\r\nLeafChunk.prototype.insertInner = function (at, lines, height) {\r\n    var this$1 = this;\r\n\r\n  this.height += height\r\n  this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at))\r\n  for (var i = 0; i < lines.length; ++i) { lines[i].parent = this$1 }\r\n};\r\n\r\n// Used to iterate over a part of the tree.\r\nLeafChunk.prototype.iterN = function (at, n, op) {\r\n    var this$1 = this;\r\n\r\n  for (var e = at + n; at < e; ++at)\r\n    { if (op(this$1.lines[at])) { return true } }\r\n};\r\n\r\nvar BranchChunk = function(children) {\r\n  var this$1 = this;\r\n\r\n  this.children = children\r\n  var size = 0, height = 0\r\n  for (var i = 0; i < children.length; ++i) {\r\n    var ch = children[i]\r\n    size += ch.chunkSize(); height += ch.height\r\n    ch.parent = this$1\r\n  }\r\n  this.size = size\r\n  this.height = height\r\n  this.parent = null\r\n};\r\n\r\nBranchChunk.prototype.chunkSize = function () { return this.size };\r\n\r\nBranchChunk.prototype.removeInner = function (at, n) {\r\n    var this$1 = this;\r\n\r\n  this.size -= n\r\n  for (var i = 0; i < this.children.length; ++i) {\r\n    var child = this$1.children[i], sz = child.chunkSize()\r\n    if (at < sz) {\r\n      var rm = Math.min(n, sz - at), oldHeight = child.height\r\n      child.removeInner(at, rm)\r\n      this$1.height -= oldHeight - child.height\r\n      if (sz == rm) { this$1.children.splice(i--, 1); child.parent = null }\r\n      if ((n -= rm) == 0) { break }\r\n      at = 0\r\n    } else { at -= sz }\r\n  }\r\n  // If the result is smaller than 25 lines, ensure that it is a\r\n  // single leaf node.\r\n  if (this.size - n < 25 &&\r\n      (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\r\n    var lines = []\r\n    this.collapse(lines)\r\n    this.children = [new LeafChunk(lines)]\r\n    this.children[0].parent = this\r\n  }\r\n};\r\n\r\nBranchChunk.prototype.collapse = function (lines) {\r\n    var this$1 = this;\r\n\r\n  for (var i = 0; i < this.children.length; ++i) { this$1.children[i].collapse(lines) }\r\n};\r\n\r\nBranchChunk.prototype.insertInner = function (at, lines, height) {\r\n    var this$1 = this;\r\n\r\n  this.size += lines.length\r\n  this.height += height\r\n  for (var i = 0; i < this.children.length; ++i) {\r\n    var child = this$1.children[i], sz = child.chunkSize()\r\n    if (at <= sz) {\r\n      child.insertInner(at, lines, height)\r\n      if (child.lines && child.lines.length > 50) {\r\n        // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\r\n        // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\r\n        var remaining = child.lines.length % 25 + 25\r\n        for (var pos = remaining; pos < child.lines.length;) {\r\n          var leaf = new LeafChunk(child.lines.slice(pos, pos += 25))\r\n          child.height -= leaf.height\r\n          this$1.children.splice(++i, 0, leaf)\r\n          leaf.parent = this$1\r\n        }\r\n        child.lines = child.lines.slice(0, remaining)\r\n        this$1.maybeSpill()\r\n      }\r\n      break\r\n    }\r\n    at -= sz\r\n  }\r\n};\r\n\r\n// When a node has grown, check whether it should be split.\r\nBranchChunk.prototype.maybeSpill = function () {\r\n  if (this.children.length <= 10) { return }\r\n  var me = this\r\n  do {\r\n    var spilled = me.children.splice(me.children.length - 5, 5)\r\n    var sibling = new BranchChunk(spilled)\r\n    if (!me.parent) { // Become the parent node\r\n      var copy = new BranchChunk(me.children)\r\n      copy.parent = me\r\n      me.children = [copy, sibling]\r\n      me = copy\r\n   } else {\r\n      me.size -= sibling.size\r\n      me.height -= sibling.height\r\n      var myIndex = indexOf(me.parent.children, me)\r\n      me.parent.children.splice(myIndex + 1, 0, sibling)\r\n    }\r\n    sibling.parent = me.parent\r\n  } while (me.children.length > 10)\r\n  me.parent.maybeSpill()\r\n};\r\n\r\nBranchChunk.prototype.iterN = function (at, n, op) {\r\n    var this$1 = this;\r\n\r\n  for (var i = 0; i < this.children.length; ++i) {\r\n    var child = this$1.children[i], sz = child.chunkSize()\r\n    if (at < sz) {\r\n      var used = Math.min(n, sz - at)\r\n      if (child.iterN(at, used, op)) { return true }\r\n      if ((n -= used) == 0) { break }\r\n      at = 0\r\n    } else { at -= sz }\r\n  }\r\n};\r\n\r\n// Line widgets are block elements displayed above or below a line.\r\n\r\nvar LineWidget = function(doc, node, options) {\r\n  var this$1 = this;\r\n\r\n  if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\r\n    { this$1[opt] = options[opt] } } }\r\n  this.doc = doc\r\n  this.node = node\r\n};\r\n\r\nLineWidget.prototype.clear = function () {\r\n    var this$1 = this;\r\n\r\n  var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line)\r\n  if (no == null || !ws) { return }\r\n  for (var i = 0; i < ws.length; ++i) { if (ws[i] == this$1) { ws.splice(i--, 1) } }\r\n  if (!ws.length) { line.widgets = null }\r\n  var height = widgetHeight(this)\r\n  updateLineHeight(line, Math.max(0, line.height - height))\r\n  if (cm) {\r\n    runInOp(cm, function () {\r\n      adjustScrollWhenAboveVisible(cm, line, -height)\r\n      regLineChange(cm, no, \"widget\")\r\n    })\r\n    signalLater(cm, \"lineWidgetCleared\", cm, this, no)\r\n  }\r\n};\r\n\r\nLineWidget.prototype.changed = function () {\r\n    var this$1 = this;\r\n\r\n  var oldH = this.height, cm = this.doc.cm, line = this.line\r\n  this.height = null\r\n  var diff = widgetHeight(this) - oldH\r\n  if (!diff) { return }\r\n  updateLineHeight(line, line.height + diff)\r\n  if (cm) {\r\n    runInOp(cm, function () {\r\n      cm.curOp.forceUpdate = true\r\n      adjustScrollWhenAboveVisible(cm, line, diff)\r\n      signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line))\r\n    })\r\n  }\r\n};\r\neventMixin(LineWidget)\r\n\r\nfunction adjustScrollWhenAboveVisible(cm, line, diff) {\r\n  if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\r\n    { addToScrollPos(cm, null, diff) }\r\n}\r\n\r\nfunction addLineWidget(doc, handle, node, options) {\r\n  var widget = new LineWidget(doc, node, options)\r\n  var cm = doc.cm\r\n  if (cm && widget.noHScroll) { cm.display.alignWidgets = true }\r\n  changeLine(doc, handle, \"widget\", function (line) {\r\n    var widgets = line.widgets || (line.widgets = [])\r\n    if (widget.insertAt == null) { widgets.push(widget) }\r\n    else { widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget) }\r\n    widget.line = line\r\n    if (cm && !lineIsHidden(doc, line)) {\r\n      var aboveVisible = heightAtLine(line) < doc.scrollTop\r\n      updateLineHeight(line, line.height + widgetHeight(widget))\r\n      if (aboveVisible) { addToScrollPos(cm, null, widget.height) }\r\n      cm.curOp.forceUpdate = true\r\n    }\r\n    return true\r\n  })\r\n  signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle))\r\n  return widget\r\n}\r\n\r\n// TEXTMARKERS\r\n\r\n// Created with markText and setBookmark methods. A TextMarker is a\r\n// handle that can be used to clear or find a marked position in the\r\n// document. Line objects hold arrays (markedSpans) containing\r\n// {from, to, marker} object pointing to such marker objects, and\r\n// indicating that such a marker is present on that line. Multiple\r\n// lines may point to the same marker when it spans across lines.\r\n// The spans will have null for their from/to properties when the\r\n// marker continues beyond the start/end of the line. Markers have\r\n// links back to the lines they currently touch.\r\n\r\n// Collapsed markers have unique ids, in order to be able to order\r\n// them, which is needed for uniquely determining an outer marker\r\n// when they overlap (they may nest, but not partially overlap).\r\nvar nextMarkerId = 0\r\n\r\nvar TextMarker = function(doc, type) {\r\n  this.lines = []\r\n  this.type = type\r\n  this.doc = doc\r\n  this.id = ++nextMarkerId\r\n};\r\n\r\n// Clear the marker.\r\nTextMarker.prototype.clear = function () {\r\n    var this$1 = this;\r\n\r\n  if (this.explicitlyCleared) { return }\r\n  var cm = this.doc.cm, withOp = cm && !cm.curOp\r\n  if (withOp) { startOperation(cm) }\r\n  if (hasHandler(this, \"clear\")) {\r\n    var found = this.find()\r\n    if (found) { signalLater(this, \"clear\", found.from, found.to) }\r\n  }\r\n  var min = null, max = null\r\n  for (var i = 0; i < this.lines.length; ++i) {\r\n    var line = this$1.lines[i]\r\n    var span = getMarkedSpanFor(line.markedSpans, this$1)\r\n    if (cm && !this$1.collapsed) { regLineChange(cm, lineNo(line), \"text\") }\r\n    else if (cm) {\r\n      if (span.to != null) { max = lineNo(line) }\r\n      if (span.from != null) { min = lineNo(line) }\r\n    }\r\n    line.markedSpans = removeMarkedSpan(line.markedSpans, span)\r\n    if (span.from == null && this$1.collapsed && !lineIsHidden(this$1.doc, line) && cm)\r\n      { updateLineHeight(line, textHeight(cm.display)) }\r\n  }\r\n  if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\r\n    var visual = visualLine(this$1.lines[i$1]), len = lineLength(visual)\r\n    if (len > cm.display.maxLineLength) {\r\n      cm.display.maxLine = visual\r\n      cm.display.maxLineLength = len\r\n      cm.display.maxLineChanged = true\r\n    }\r\n  } }\r\n\r\n  if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1) }\r\n  this.lines.length = 0\r\n  this.explicitlyCleared = true\r\n  if (this.atomic && this.doc.cantEdit) {\r\n    this.doc.cantEdit = false\r\n    if (cm) { reCheckSelection(cm.doc) }\r\n  }\r\n  if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max) }\r\n  if (withOp) { endOperation(cm) }\r\n  if (this.parent) { this.parent.clear() }\r\n};\r\n\r\n// Find the position of the marker in the document. Returns a {from,\r\n// to} object by default. Side can be passed to get a specific side\r\n// -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\r\n// Pos objects returned contain a line object, rather than a line\r\n// number (used to prevent looking up the same line twice).\r\nTextMarker.prototype.find = function (side, lineObj) {\r\n    var this$1 = this;\r\n\r\n  if (side == null && this.type == \"bookmark\") { side = 1 }\r\n  var from, to\r\n  for (var i = 0; i < this.lines.length; ++i) {\r\n    var line = this$1.lines[i]\r\n    var span = getMarkedSpanFor(line.markedSpans, this$1)\r\n    if (span.from != null) {\r\n      from = Pos(lineObj ? line : lineNo(line), span.from)\r\n      if (side == -1) { return from }\r\n    }\r\n    if (span.to != null) {\r\n      to = Pos(lineObj ? line : lineNo(line), span.to)\r\n      if (side == 1) { return to }\r\n    }\r\n  }\r\n  return from && {from: from, to: to}\r\n};\r\n\r\n// Signals that the marker's widget changed, and surrounding layout\r\n// should be recomputed.\r\nTextMarker.prototype.changed = function () {\r\n    var this$1 = this;\r\n\r\n  var pos = this.find(-1, true), widget = this, cm = this.doc.cm\r\n  if (!pos || !cm) { return }\r\n  runInOp(cm, function () {\r\n    var line = pos.line, lineN = lineNo(pos.line)\r\n    var view = findViewForLine(cm, lineN)\r\n    if (view) {\r\n      clearLineMeasurementCacheFor(view)\r\n      cm.curOp.selectionChanged = cm.curOp.forceUpdate = true\r\n    }\r\n    cm.curOp.updateMaxLine = true\r\n    if (!lineIsHidden(widget.doc, line) && widget.height != null) {\r\n      var oldHeight = widget.height\r\n      widget.height = null\r\n      var dHeight = widgetHeight(widget) - oldHeight\r\n      if (dHeight)\r\n        { updateLineHeight(line, line.height + dHeight) }\r\n    }\r\n    signalLater(cm, \"markerChanged\", cm, this$1)\r\n  })\r\n};\r\n\r\nTextMarker.prototype.attachLine = function (line) {\r\n  if (!this.lines.length && this.doc.cm) {\r\n    var op = this.doc.cm.curOp\r\n    if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\r\n      { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this) }\r\n  }\r\n  this.lines.push(line)\r\n};\r\n\r\nTextMarker.prototype.detachLine = function (line) {\r\n  this.lines.splice(indexOf(this.lines, line), 1)\r\n  if (!this.lines.length && this.doc.cm) {\r\n    var op = this.doc.cm.curOp\r\n    ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this)\r\n  }\r\n};\r\neventMixin(TextMarker)\r\n\r\n// Create a marker, wire it up to the right lines, and\r\nfunction markText(doc, from, to, options, type) {\r\n  // Shared markers (across linked documents) are handled separately\r\n  // (markTextShared will call out to this again, once per\r\n  // document).\r\n  if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\r\n  // Ensure we are in an operation.\r\n  if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\r\n\r\n  var marker = new TextMarker(doc, type), diff = cmp(from, to)\r\n  if (options) { copyObj(options, marker, false) }\r\n  // Don't connect empty markers unless clearWhenEmpty is false\r\n  if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\r\n    { return marker }\r\n  if (marker.replacedWith) {\r\n    // Showing up as a widget implies collapsed (widget replaces text)\r\n    marker.collapsed = true\r\n    marker.widgetNode = elt(\"span\", [marker.replacedWith], \"CodeMirror-widget\")\r\n    marker.widgetNode.setAttribute(\"role\", \"presentation\") // hide from accessibility tree\r\n    if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\") }\r\n    if (options.insertLeft) { marker.widgetNode.insertLeft = true }\r\n  }\r\n  if (marker.collapsed) {\r\n    if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\r\n        from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\r\n      { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\r\n    seeCollapsedSpans()\r\n  }\r\n\r\n  if (marker.addToHistory)\r\n    { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN) }\r\n\r\n  var curLine = from.line, cm = doc.cm, updateMaxLine\r\n  doc.iter(curLine, to.line + 1, function (line) {\r\n    if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\r\n      { updateMaxLine = true }\r\n    if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0) }\r\n    addMarkedSpan(line, new MarkedSpan(marker,\r\n                                       curLine == from.line ? from.ch : null,\r\n                                       curLine == to.line ? to.ch : null))\r\n    ++curLine\r\n  })\r\n  // lineIsHidden depends on the presence of the spans, so needs a second pass\r\n  if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\r\n    if (lineIsHidden(doc, line)) { updateLineHeight(line, 0) }\r\n  }) }\r\n\r\n  if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }) }\r\n\r\n  if (marker.readOnly) {\r\n    seeReadOnlySpans()\r\n    if (doc.history.done.length || doc.history.undone.length)\r\n      { doc.clearHistory() }\r\n  }\r\n  if (marker.collapsed) {\r\n    marker.id = ++nextMarkerId\r\n    marker.atomic = true\r\n  }\r\n  if (cm) {\r\n    // Sync editor state\r\n    if (updateMaxLine) { cm.curOp.updateMaxLine = true }\r\n    if (marker.collapsed)\r\n      { regChange(cm, from.line, to.line + 1) }\r\n    else if (marker.className || marker.title || marker.startStyle || marker.endStyle || marker.css)\r\n      { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\") } }\r\n    if (marker.atomic) { reCheckSelection(cm.doc) }\r\n    signalLater(cm, \"markerAdded\", cm, marker)\r\n  }\r\n  return marker\r\n}\r\n\r\n// SHARED TEXTMARKERS\r\n\r\n// A shared marker spans multiple linked documents. It is\r\n// implemented as a meta-marker-object controlling multiple normal\r\n// markers.\r\nvar SharedTextMarker = function(markers, primary) {\r\n  var this$1 = this;\r\n\r\n  this.markers = markers\r\n  this.primary = primary\r\n  for (var i = 0; i < markers.length; ++i)\r\n    { markers[i].parent = this$1 }\r\n};\r\n\r\nSharedTextMarker.prototype.clear = function () {\r\n    var this$1 = this;\r\n\r\n  if (this.explicitlyCleared) { return }\r\n  this.explicitlyCleared = true\r\n  for (var i = 0; i < this.markers.length; ++i)\r\n    { this$1.markers[i].clear() }\r\n  signalLater(this, \"clear\")\r\n};\r\n\r\nSharedTextMarker.prototype.find = function (side, lineObj) {\r\n  return this.primary.find(side, lineObj)\r\n};\r\neventMixin(SharedTextMarker)\r\n\r\nfunction markTextShared(doc, from, to, options, type) {\r\n  options = copyObj(options)\r\n  options.shared = false\r\n  var markers = [markText(doc, from, to, options, type)], primary = markers[0]\r\n  var widget = options.widgetNode\r\n  linkedDocs(doc, function (doc) {\r\n    if (widget) { options.widgetNode = widget.cloneNode(true) }\r\n    markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type))\r\n    for (var i = 0; i < doc.linked.length; ++i)\r\n      { if (doc.linked[i].isParent) { return } }\r\n    primary = lst(markers)\r\n  })\r\n  return new SharedTextMarker(markers, primary)\r\n}\r\n\r\nfunction findSharedMarkers(doc) {\r\n  return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\r\n}\r\n\r\nfunction copySharedMarkers(doc, markers) {\r\n  for (var i = 0; i < markers.length; i++) {\r\n    var marker = markers[i], pos = marker.find()\r\n    var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to)\r\n    if (cmp(mFrom, mTo)) {\r\n      var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type)\r\n      marker.markers.push(subMark)\r\n      subMark.parent = marker\r\n    }\r\n  }\r\n}\r\n\r\nfunction detachSharedMarkers(markers) {\r\n  var loop = function ( i ) {\r\n    var marker = markers[i], linked = [marker.primary.doc]\r\n    linkedDocs(marker.primary.doc, function (d) { return linked.push(d); })\r\n    for (var j = 0; j < marker.markers.length; j++) {\r\n      var subMarker = marker.markers[j]\r\n      if (indexOf(linked, subMarker.doc) == -1) {\r\n        subMarker.parent = null\r\n        marker.markers.splice(j--, 1)\r\n      }\r\n    }\r\n  };\r\n\r\n  for (var i = 0; i < markers.length; i++) loop( i );\r\n}\r\n\r\nvar nextDocId = 0\r\nvar Doc = function(text, mode, firstLine, lineSep) {\r\n  if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep) }\r\n  if (firstLine == null) { firstLine = 0 }\r\n\r\n  BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])])\r\n  this.first = firstLine\r\n  this.scrollTop = this.scrollLeft = 0\r\n  this.cantEdit = false\r\n  this.cleanGeneration = 1\r\n  this.frontier = firstLine\r\n  var start = Pos(firstLine, 0)\r\n  this.sel = simpleSelection(start)\r\n  this.history = new History(null)\r\n  this.id = ++nextDocId\r\n  this.modeOption = mode\r\n  this.lineSep = lineSep\r\n  this.extend = false\r\n\r\n  if (typeof text == \"string\") { text = this.splitLines(text) }\r\n  updateDoc(this, {from: start, to: start, text: text})\r\n  setSelection(this, simpleSelection(start), sel_dontScroll)\r\n}\r\n\r\nDoc.prototype = createObj(BranchChunk.prototype, {\r\n  constructor: Doc,\r\n  // Iterate over the document. Supports two forms -- with only one\r\n  // argument, it calls that for each line in the document. With\r\n  // three, it iterates over the range given by the first two (with\r\n  // the second being non-inclusive).\r\n  iter: function(from, to, op) {\r\n    if (op) { this.iterN(from - this.first, to - from, op) }\r\n    else { this.iterN(this.first, this.first + this.size, from) }\r\n  },\r\n\r\n  // Non-public interface for adding and removing lines.\r\n  insert: function(at, lines) {\r\n    var height = 0\r\n    for (var i = 0; i < lines.length; ++i) { height += lines[i].height }\r\n    this.insertInner(at - this.first, lines, height)\r\n  },\r\n  remove: function(at, n) { this.removeInner(at - this.first, n) },\r\n\r\n  // From here, the methods are part of the public interface. Most\r\n  // are also available from CodeMirror (editor) instances.\r\n\r\n  getValue: function(lineSep) {\r\n    var lines = getLines(this, this.first, this.first + this.size)\r\n    if (lineSep === false) { return lines }\r\n    return lines.join(lineSep || this.lineSeparator())\r\n  },\r\n  setValue: docMethodOp(function(code) {\r\n    var top = Pos(this.first, 0), last = this.first + this.size - 1\r\n    makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\r\n                      text: this.splitLines(code), origin: \"setValue\", full: true}, true)\r\n    setSelection(this, simpleSelection(top))\r\n  }),\r\n  replaceRange: function(code, from, to, origin) {\r\n    from = clipPos(this, from)\r\n    to = to ? clipPos(this, to) : from\r\n    replaceRange(this, code, from, to, origin)\r\n  },\r\n  getRange: function(from, to, lineSep) {\r\n    var lines = getBetween(this, clipPos(this, from), clipPos(this, to))\r\n    if (lineSep === false) { return lines }\r\n    return lines.join(lineSep || this.lineSeparator())\r\n  },\r\n\r\n  getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\r\n\r\n  getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\r\n  getLineNumber: function(line) {return lineNo(line)},\r\n\r\n  getLineHandleVisualStart: function(line) {\r\n    if (typeof line == \"number\") { line = getLine(this, line) }\r\n    return visualLine(line)\r\n  },\r\n\r\n  lineCount: function() {return this.size},\r\n  firstLine: function() {return this.first},\r\n  lastLine: function() {return this.first + this.size - 1},\r\n\r\n  clipPos: function(pos) {return clipPos(this, pos)},\r\n\r\n  getCursor: function(start) {\r\n    var range = this.sel.primary(), pos\r\n    if (start == null || start == \"head\") { pos = range.head }\r\n    else if (start == \"anchor\") { pos = range.anchor }\r\n    else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to() }\r\n    else { pos = range.from() }\r\n    return pos\r\n  },\r\n  listSelections: function() { return this.sel.ranges },\r\n  somethingSelected: function() {return this.sel.somethingSelected()},\r\n\r\n  setCursor: docMethodOp(function(line, ch, options) {\r\n    setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options)\r\n  }),\r\n  setSelection: docMethodOp(function(anchor, head, options) {\r\n    setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options)\r\n  }),\r\n  extendSelection: docMethodOp(function(head, other, options) {\r\n    extendSelection(this, clipPos(this, head), other && clipPos(this, other), options)\r\n  }),\r\n  extendSelections: docMethodOp(function(heads, options) {\r\n    extendSelections(this, clipPosArray(this, heads), options)\r\n  }),\r\n  extendSelectionsBy: docMethodOp(function(f, options) {\r\n    var heads = map(this.sel.ranges, f)\r\n    extendSelections(this, clipPosArray(this, heads), options)\r\n  }),\r\n  setSelections: docMethodOp(function(ranges, primary, options) {\r\n    var this$1 = this;\r\n\r\n    if (!ranges.length) { return }\r\n    var out = []\r\n    for (var i = 0; i < ranges.length; i++)\r\n      { out[i] = new Range(clipPos(this$1, ranges[i].anchor),\r\n                         clipPos(this$1, ranges[i].head)) }\r\n    if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex) }\r\n    setSelection(this, normalizeSelection(out, primary), options)\r\n  }),\r\n  addSelection: docMethodOp(function(anchor, head, options) {\r\n    var ranges = this.sel.ranges.slice(0)\r\n    ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)))\r\n    setSelection(this, normalizeSelection(ranges, ranges.length - 1), options)\r\n  }),\r\n\r\n  getSelection: function(lineSep) {\r\n    var this$1 = this;\r\n\r\n    var ranges = this.sel.ranges, lines\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to())\r\n      lines = lines ? lines.concat(sel) : sel\r\n    }\r\n    if (lineSep === false) { return lines }\r\n    else { return lines.join(lineSep || this.lineSeparator()) }\r\n  },\r\n  getSelections: function(lineSep) {\r\n    var this$1 = this;\r\n\r\n    var parts = [], ranges = this.sel.ranges\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to())\r\n      if (lineSep !== false) { sel = sel.join(lineSep || this$1.lineSeparator()) }\r\n      parts[i] = sel\r\n    }\r\n    return parts\r\n  },\r\n  replaceSelection: function(code, collapse, origin) {\r\n    var dup = []\r\n    for (var i = 0; i < this.sel.ranges.length; i++)\r\n      { dup[i] = code }\r\n    this.replaceSelections(dup, collapse, origin || \"+input\")\r\n  },\r\n  replaceSelections: docMethodOp(function(code, collapse, origin) {\r\n    var this$1 = this;\r\n\r\n    var changes = [], sel = this.sel\r\n    for (var i = 0; i < sel.ranges.length; i++) {\r\n      var range = sel.ranges[i]\r\n      changes[i] = {from: range.from(), to: range.to(), text: this$1.splitLines(code[i]), origin: origin}\r\n    }\r\n    var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse)\r\n    for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\r\n      { makeChange(this$1, changes[i$1]) }\r\n    if (newSel) { setSelectionReplaceHistory(this, newSel) }\r\n    else if (this.cm) { ensureCursorVisible(this.cm) }\r\n  }),\r\n  undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\")}),\r\n  redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\")}),\r\n  undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true)}),\r\n  redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true)}),\r\n\r\n  setExtending: function(val) {this.extend = val},\r\n  getExtending: function() {return this.extend},\r\n\r\n  historySize: function() {\r\n    var hist = this.history, done = 0, undone = 0\r\n    for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done } }\r\n    for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone } }\r\n    return {undo: done, redo: undone}\r\n  },\r\n  clearHistory: function() {this.history = new History(this.history.maxGeneration)},\r\n\r\n  markClean: function() {\r\n    this.cleanGeneration = this.changeGeneration(true)\r\n  },\r\n  changeGeneration: function(forceSplit) {\r\n    if (forceSplit)\r\n      { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null }\r\n    return this.history.generation\r\n  },\r\n  isClean: function (gen) {\r\n    return this.history.generation == (gen || this.cleanGeneration)\r\n  },\r\n\r\n  getHistory: function() {\r\n    return {done: copyHistoryArray(this.history.done),\r\n            undone: copyHistoryArray(this.history.undone)}\r\n  },\r\n  setHistory: function(histData) {\r\n    var hist = this.history = new History(this.history.maxGeneration)\r\n    hist.done = copyHistoryArray(histData.done.slice(0), null, true)\r\n    hist.undone = copyHistoryArray(histData.undone.slice(0), null, true)\r\n  },\r\n\r\n  setGutterMarker: docMethodOp(function(line, gutterID, value) {\r\n    return changeLine(this, line, \"gutter\", function (line) {\r\n      var markers = line.gutterMarkers || (line.gutterMarkers = {})\r\n      markers[gutterID] = value\r\n      if (!value && isEmpty(markers)) { line.gutterMarkers = null }\r\n      return true\r\n    })\r\n  }),\r\n\r\n  clearGutter: docMethodOp(function(gutterID) {\r\n    var this$1 = this;\r\n\r\n    this.iter(function (line) {\r\n      if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\r\n        changeLine(this$1, line, \"gutter\", function () {\r\n          line.gutterMarkers[gutterID] = null\r\n          if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null }\r\n          return true\r\n        })\r\n      }\r\n    })\r\n  }),\r\n\r\n  lineInfo: function(line) {\r\n    var n\r\n    if (typeof line == \"number\") {\r\n      if (!isLine(this, line)) { return null }\r\n      n = line\r\n      line = getLine(this, line)\r\n      if (!line) { return null }\r\n    } else {\r\n      n = lineNo(line)\r\n      if (n == null) { return null }\r\n    }\r\n    return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\r\n            textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\r\n            widgets: line.widgets}\r\n  },\r\n\r\n  addLineClass: docMethodOp(function(handle, where, cls) {\r\n    return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\r\n      var prop = where == \"text\" ? \"textClass\"\r\n               : where == \"background\" ? \"bgClass\"\r\n               : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\"\r\n      if (!line[prop]) { line[prop] = cls }\r\n      else if (classTest(cls).test(line[prop])) { return false }\r\n      else { line[prop] += \" \" + cls }\r\n      return true\r\n    })\r\n  }),\r\n  removeLineClass: docMethodOp(function(handle, where, cls) {\r\n    return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\r\n      var prop = where == \"text\" ? \"textClass\"\r\n               : where == \"background\" ? \"bgClass\"\r\n               : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\"\r\n      var cur = line[prop]\r\n      if (!cur) { return false }\r\n      else if (cls == null) { line[prop] = null }\r\n      else {\r\n        var found = cur.match(classTest(cls))\r\n        if (!found) { return false }\r\n        var end = found.index + found[0].length\r\n        line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null\r\n      }\r\n      return true\r\n    })\r\n  }),\r\n\r\n  addLineWidget: docMethodOp(function(handle, node, options) {\r\n    return addLineWidget(this, handle, node, options)\r\n  }),\r\n  removeLineWidget: function(widget) { widget.clear() },\r\n\r\n  markText: function(from, to, options) {\r\n    return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\r\n  },\r\n  setBookmark: function(pos, options) {\r\n    var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\r\n                    insertLeft: options && options.insertLeft,\r\n                    clearWhenEmpty: false, shared: options && options.shared,\r\n                    handleMouseEvents: options && options.handleMouseEvents}\r\n    pos = clipPos(this, pos)\r\n    return markText(this, pos, pos, realOpts, \"bookmark\")\r\n  },\r\n  findMarksAt: function(pos) {\r\n    pos = clipPos(this, pos)\r\n    var markers = [], spans = getLine(this, pos.line).markedSpans\r\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\r\n      var span = spans[i]\r\n      if ((span.from == null || span.from <= pos.ch) &&\r\n          (span.to == null || span.to >= pos.ch))\r\n        { markers.push(span.marker.parent || span.marker) }\r\n    } }\r\n    return markers\r\n  },\r\n  findMarks: function(from, to, filter) {\r\n    from = clipPos(this, from); to = clipPos(this, to)\r\n    var found = [], lineNo = from.line\r\n    this.iter(from.line, to.line + 1, function (line) {\r\n      var spans = line.markedSpans\r\n      if (spans) { for (var i = 0; i < spans.length; i++) {\r\n        var span = spans[i]\r\n        if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\r\n              span.from == null && lineNo != from.line ||\r\n              span.from != null && lineNo == to.line && span.from >= to.ch) &&\r\n            (!filter || filter(span.marker)))\r\n          { found.push(span.marker.parent || span.marker) }\r\n      } }\r\n      ++lineNo\r\n    })\r\n    return found\r\n  },\r\n  getAllMarks: function() {\r\n    var markers = []\r\n    this.iter(function (line) {\r\n      var sps = line.markedSpans\r\n      if (sps) { for (var i = 0; i < sps.length; ++i)\r\n        { if (sps[i].from != null) { markers.push(sps[i].marker) } } }\r\n    })\r\n    return markers\r\n  },\r\n\r\n  posFromIndex: function(off) {\r\n    var ch, lineNo = this.first, sepSize = this.lineSeparator().length\r\n    this.iter(function (line) {\r\n      var sz = line.text.length + sepSize\r\n      if (sz > off) { ch = off; return true }\r\n      off -= sz\r\n      ++lineNo\r\n    })\r\n    return clipPos(this, Pos(lineNo, ch))\r\n  },\r\n  indexFromPos: function (coords) {\r\n    coords = clipPos(this, coords)\r\n    var index = coords.ch\r\n    if (coords.line < this.first || coords.ch < 0) { return 0 }\r\n    var sepSize = this.lineSeparator().length\r\n    this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\r\n      index += line.text.length + sepSize\r\n    })\r\n    return index\r\n  },\r\n\r\n  copy: function(copyHistory) {\r\n    var doc = new Doc(getLines(this, this.first, this.first + this.size),\r\n                      this.modeOption, this.first, this.lineSep)\r\n    doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft\r\n    doc.sel = this.sel\r\n    doc.extend = false\r\n    if (copyHistory) {\r\n      doc.history.undoDepth = this.history.undoDepth\r\n      doc.setHistory(this.getHistory())\r\n    }\r\n    return doc\r\n  },\r\n\r\n  linkedDoc: function(options) {\r\n    if (!options) { options = {} }\r\n    var from = this.first, to = this.first + this.size\r\n    if (options.from != null && options.from > from) { from = options.from }\r\n    if (options.to != null && options.to < to) { to = options.to }\r\n    var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep)\r\n    if (options.sharedHist) { copy.history = this.history\r\n    ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist})\r\n    copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}]\r\n    copySharedMarkers(copy, findSharedMarkers(this))\r\n    return copy\r\n  },\r\n  unlinkDoc: function(other) {\r\n    var this$1 = this;\r\n\r\n    if (other instanceof CodeMirror) { other = other.doc }\r\n    if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\r\n      var link = this$1.linked[i]\r\n      if (link.doc != other) { continue }\r\n      this$1.linked.splice(i, 1)\r\n      other.unlinkDoc(this$1)\r\n      detachSharedMarkers(findSharedMarkers(this$1))\r\n      break\r\n    } }\r\n    // If the histories were shared, split them again\r\n    if (other.history == this.history) {\r\n      var splitIds = [other.id]\r\n      linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true)\r\n      other.history = new History(null)\r\n      other.history.done = copyHistoryArray(this.history.done, splitIds)\r\n      other.history.undone = copyHistoryArray(this.history.undone, splitIds)\r\n    }\r\n  },\r\n  iterLinkedDocs: function(f) {linkedDocs(this, f)},\r\n\r\n  getMode: function() {return this.mode},\r\n  getEditor: function() {return this.cm},\r\n\r\n  splitLines: function(str) {\r\n    if (this.lineSep) { return str.split(this.lineSep) }\r\n    return splitLinesAuto(str)\r\n  },\r\n  lineSeparator: function() { return this.lineSep || \"\\n\" }\r\n})\r\n\r\n// Public alias.\r\nDoc.prototype.eachLine = Doc.prototype.iter\r\n\r\n// Kludge to work around strange IE behavior where it'll sometimes\r\n// re-fire a series of drag-related events right after the drop (#1551)\r\nvar lastDrop = 0\r\n\r\nfunction onDrop(e) {\r\n  var cm = this\r\n  clearDragCursor(cm)\r\n  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\r\n    { return }\r\n  e_preventDefault(e)\r\n  if (ie) { lastDrop = +new Date }\r\n  var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files\r\n  if (!pos || cm.isReadOnly()) { return }\r\n  // Might be a file drop, in which case we simply extract the text\r\n  // and insert it.\r\n  if (files && files.length && window.FileReader && window.File) {\r\n    var n = files.length, text = Array(n), read = 0\r\n    var loadFile = function (file, i) {\r\n      if (cm.options.allowDropFileTypes &&\r\n          indexOf(cm.options.allowDropFileTypes, file.type) == -1)\r\n        { return }\r\n\r\n      var reader = new FileReader\r\n      reader.onload = operation(cm, function () {\r\n        var content = reader.result\r\n        if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) { content = \"\" }\r\n        text[i] = content\r\n        if (++read == n) {\r\n          pos = clipPos(cm.doc, pos)\r\n          var change = {from: pos, to: pos,\r\n                        text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\r\n                        origin: \"paste\"}\r\n          makeChange(cm.doc, change)\r\n          setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)))\r\n        }\r\n      })\r\n      reader.readAsText(file)\r\n    }\r\n    for (var i = 0; i < n; ++i) { loadFile(files[i], i) }\r\n  } else { // Normal drop\r\n    // Don't do a replace if the drop happened inside of the selected text.\r\n    if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\r\n      cm.state.draggingText(e)\r\n      // Ensure the editor is re-focused\r\n      setTimeout(function () { return cm.display.input.focus(); }, 20)\r\n      return\r\n    }\r\n    try {\r\n      var text$1 = e.dataTransfer.getData(\"Text\")\r\n      if (text$1) {\r\n        var selected\r\n        if (cm.state.draggingText && !cm.state.draggingText.copy)\r\n          { selected = cm.listSelections() }\r\n        setSelectionNoUndo(cm.doc, simpleSelection(pos, pos))\r\n        if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\r\n          { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\") } }\r\n        cm.replaceSelection(text$1, \"around\", \"paste\")\r\n        cm.display.input.focus()\r\n      }\r\n    }\r\n    catch(e){}\r\n  }\r\n}\r\n\r\nfunction onDragStart(cm, e) {\r\n  if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\r\n  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\r\n\r\n  e.dataTransfer.setData(\"Text\", cm.getSelection())\r\n  e.dataTransfer.effectAllowed = \"copyMove\"\r\n\r\n  // Use dummy image instead of default browsers image.\r\n  // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\r\n  if (e.dataTransfer.setDragImage && !safari) {\r\n    var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\")\r\n    img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\"\r\n    if (presto) {\r\n      img.width = img.height = 1\r\n      cm.display.wrapper.appendChild(img)\r\n      // Force a relayout, or Opera won't use our image for some obscure reason\r\n      img._top = img.offsetTop\r\n    }\r\n    e.dataTransfer.setDragImage(img, 0, 0)\r\n    if (presto) { img.parentNode.removeChild(img) }\r\n  }\r\n}\r\n\r\nfunction onDragOver(cm, e) {\r\n  var pos = posFromMouse(cm, e)\r\n  if (!pos) { return }\r\n  var frag = document.createDocumentFragment()\r\n  drawSelectionCursor(cm, pos, frag)\r\n  if (!cm.display.dragCursor) {\r\n    cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\")\r\n    cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv)\r\n  }\r\n  removeChildrenAndAdd(cm.display.dragCursor, frag)\r\n}\r\n\r\nfunction clearDragCursor(cm) {\r\n  if (cm.display.dragCursor) {\r\n    cm.display.lineSpace.removeChild(cm.display.dragCursor)\r\n    cm.display.dragCursor = null\r\n  }\r\n}\r\n\r\n// These must be handled carefully, because naively registering a\r\n// handler for each editor will cause the editors to never be\r\n// garbage collected.\r\n\r\nfunction forEachCodeMirror(f) {\r\n  if (!document.body.getElementsByClassName) { return }\r\n  var byClass = document.body.getElementsByClassName(\"CodeMirror\")\r\n  for (var i = 0; i < byClass.length; i++) {\r\n    var cm = byClass[i].CodeMirror\r\n    if (cm) { f(cm) }\r\n  }\r\n}\r\n\r\nvar globalsRegistered = false\r\nfunction ensureGlobalHandlers() {\r\n  if (globalsRegistered) { return }\r\n  registerGlobalHandlers()\r\n  globalsRegistered = true\r\n}\r\nfunction registerGlobalHandlers() {\r\n  // When the window resizes, we need to refresh active editors.\r\n  var resizeTimer\r\n  on(window, \"resize\", function () {\r\n    if (resizeTimer == null) { resizeTimer = setTimeout(function () {\r\n      resizeTimer = null\r\n      forEachCodeMirror(onResize)\r\n    }, 100) }\r\n  })\r\n  // When the window loses focus, we want to show the editor as blurred\r\n  on(window, \"blur\", function () { return forEachCodeMirror(onBlur); })\r\n}\r\n// Called when the window resizes\r\nfunction onResize(cm) {\r\n  var d = cm.display\r\n  if (d.lastWrapHeight == d.wrapper.clientHeight && d.lastWrapWidth == d.wrapper.clientWidth)\r\n    { return }\r\n  // Might be a text scaling operation, clear size caches.\r\n  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null\r\n  d.scrollbarsClipped = false\r\n  cm.setSize()\r\n}\r\n\r\nvar keyNames = {\r\n  3: \"Enter\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\r\n  19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\r\n  36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\r\n  46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\r\n  106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 127: \"Delete\",\r\n  173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\r\n  221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\r\n  63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\r\n}\r\n\r\n// Number keys\r\nfor (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i) }\r\n// Alphabetic keys\r\nfor (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1) }\r\n// Function keys\r\nfor (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2 }\r\n\r\nvar keyMap = {}\r\n\r\nkeyMap.basic = {\r\n  \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\r\n  \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\r\n  \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\r\n  \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\r\n  \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\r\n  \"Esc\": \"singleSelection\"\r\n}\r\n// Note that the save and find-related commands aren't defined by\r\n// default. User code or addons can define them. Unknown commands\r\n// are simply ignored.\r\nkeyMap.pcDefault = {\r\n  \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\r\n  \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\r\n  \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\r\n  \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\r\n  \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\r\n  \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\r\n  \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\r\n  fallthrough: \"basic\"\r\n}\r\n// Very basic readline/emacs-style bindings, which are standard on Mac.\r\nkeyMap.emacsy = {\r\n  \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\r\n  \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\r\n  \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\r\n  \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\r\n  \"Ctrl-O\": \"openLine\"\r\n}\r\nkeyMap.macDefault = {\r\n  \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\r\n  \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\r\n  \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\r\n  \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\r\n  \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\r\n  \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\r\n  \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\r\n  fallthrough: [\"basic\", \"emacsy\"]\r\n}\r\nkeyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault\r\n\r\n// KEYMAP DISPATCH\r\n\r\nfunction normalizeKeyName(name) {\r\n  var parts = name.split(/-(?!$)/)\r\n  name = parts[parts.length - 1]\r\n  var alt, ctrl, shift, cmd\r\n  for (var i = 0; i < parts.length - 1; i++) {\r\n    var mod = parts[i]\r\n    if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true }\r\n    else if (/^a(lt)?$/i.test(mod)) { alt = true }\r\n    else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true }\r\n    else if (/^s(hift)?$/i.test(mod)) { shift = true }\r\n    else { throw new Error(\"Unrecognized modifier name: \" + mod) }\r\n  }\r\n  if (alt) { name = \"Alt-\" + name }\r\n  if (ctrl) { name = \"Ctrl-\" + name }\r\n  if (cmd) { name = \"Cmd-\" + name }\r\n  if (shift) { name = \"Shift-\" + name }\r\n  return name\r\n}\r\n\r\n// This is a kludge to keep keymaps mostly working as raw objects\r\n// (backwards compatibility) while at the same time support features\r\n// like normalization and multi-stroke key bindings. It compiles a\r\n// new normalized keymap, and then updates the old object to reflect\r\n// this.\r\nfunction normalizeKeyMap(keymap) {\r\n  var copy = {}\r\n  for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\r\n    var value = keymap[keyname]\r\n    if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\r\n    if (value == \"...\") { delete keymap[keyname]; continue }\r\n\r\n    var keys = map(keyname.split(\" \"), normalizeKeyName)\r\n    for (var i = 0; i < keys.length; i++) {\r\n      var val = (void 0), name = (void 0)\r\n      if (i == keys.length - 1) {\r\n        name = keys.join(\" \")\r\n        val = value\r\n      } else {\r\n        name = keys.slice(0, i + 1).join(\" \")\r\n        val = \"...\"\r\n      }\r\n      var prev = copy[name]\r\n      if (!prev) { copy[name] = val }\r\n      else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\r\n    }\r\n    delete keymap[keyname]\r\n  } }\r\n  for (var prop in copy) { keymap[prop] = copy[prop] }\r\n  return keymap\r\n}\r\n\r\nfunction lookupKey(key, map, handle, context) {\r\n  map = getKeyMap(map)\r\n  var found = map.call ? map.call(key, context) : map[key]\r\n  if (found === false) { return \"nothing\" }\r\n  if (found === \"...\") { return \"multi\" }\r\n  if (found != null && handle(found)) { return \"handled\" }\r\n\r\n  if (map.fallthrough) {\r\n    if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\r\n      { return lookupKey(key, map.fallthrough, handle, context) }\r\n    for (var i = 0; i < map.fallthrough.length; i++) {\r\n      var result = lookupKey(key, map.fallthrough[i], handle, context)\r\n      if (result) { return result }\r\n    }\r\n  }\r\n}\r\n\r\n// Modifier key presses don't count as 'real' key presses for the\r\n// purpose of keymap fallthrough.\r\nfunction isModifierKey(value) {\r\n  var name = typeof value == \"string\" ? value : keyNames[value.keyCode]\r\n  return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\r\n}\r\n\r\n// Look up the name of a key as indicated by an event object.\r\nfunction keyName(event, noShift) {\r\n  if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\r\n  var base = keyNames[event.keyCode], name = base\r\n  if (name == null || event.altGraphKey) { return false }\r\n  if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name }\r\n  if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name }\r\n  if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") { name = \"Cmd-\" + name }\r\n  if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name }\r\n  return name\r\n}\r\n\r\nfunction getKeyMap(val) {\r\n  return typeof val == \"string\" ? keyMap[val] : val\r\n}\r\n\r\n// Helper for deleting text near the selection(s), used to implement\r\n// backspace, delete, and similar functionality.\r\nfunction deleteNearSelection(cm, compute) {\r\n  var ranges = cm.doc.sel.ranges, kill = []\r\n  // Build up a set of ranges to kill first, merging overlapping\r\n  // ranges.\r\n  for (var i = 0; i < ranges.length; i++) {\r\n    var toKill = compute(ranges[i])\r\n    while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\r\n      var replaced = kill.pop()\r\n      if (cmp(replaced.from, toKill.from) < 0) {\r\n        toKill.from = replaced.from\r\n        break\r\n      }\r\n    }\r\n    kill.push(toKill)\r\n  }\r\n  // Next, remove those actual ranges.\r\n  runInOp(cm, function () {\r\n    for (var i = kill.length - 1; i >= 0; i--)\r\n      { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\") }\r\n    ensureCursorVisible(cm)\r\n  })\r\n}\r\n\r\n// Commands are parameter-less actions that can be performed on an\r\n// editor, mostly used for keybindings.\r\nvar commands = {\r\n  selectAll: selectAll,\r\n  singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\r\n  killLine: function (cm) { return deleteNearSelection(cm, function (range) {\r\n    if (range.empty()) {\r\n      var len = getLine(cm.doc, range.head.line).text.length\r\n      if (range.head.ch == len && range.head.line < cm.lastLine())\r\n        { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\r\n      else\r\n        { return {from: range.head, to: Pos(range.head.line, len)} }\r\n    } else {\r\n      return {from: range.from(), to: range.to()}\r\n    }\r\n  }); },\r\n  deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\r\n    from: Pos(range.from().line, 0),\r\n    to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\r\n  }); }); },\r\n  delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\r\n    from: Pos(range.from().line, 0), to: range.from()\r\n  }); }); },\r\n  delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\r\n    var top = cm.charCoords(range.head, \"div\").top + 5\r\n    var leftPos = cm.coordsChar({left: 0, top: top}, \"div\")\r\n    return {from: leftPos, to: range.from()}\r\n  }); },\r\n  delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\r\n    var top = cm.charCoords(range.head, \"div\").top + 5\r\n    var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\r\n    return {from: range.from(), to: rightPos }\r\n  }); },\r\n  undo: function (cm) { return cm.undo(); },\r\n  redo: function (cm) { return cm.redo(); },\r\n  undoSelection: function (cm) { return cm.undoSelection(); },\r\n  redoSelection: function (cm) { return cm.redoSelection(); },\r\n  goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\r\n  goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\r\n  goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\r\n    {origin: \"+move\", bias: 1}\r\n  ); },\r\n  goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\r\n    {origin: \"+move\", bias: 1}\r\n  ); },\r\n  goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\r\n    {origin: \"+move\", bias: -1}\r\n  ); },\r\n  goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\r\n    var top = cm.charCoords(range.head, \"div\").top + 5\r\n    return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\r\n  }, sel_move); },\r\n  goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\r\n    var top = cm.charCoords(range.head, \"div\").top + 5\r\n    return cm.coordsChar({left: 0, top: top}, \"div\")\r\n  }, sel_move); },\r\n  goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\r\n    var top = cm.charCoords(range.head, \"div\").top + 5\r\n    var pos = cm.coordsChar({left: 0, top: top}, \"div\")\r\n    if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\r\n    return pos\r\n  }, sel_move); },\r\n  goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\r\n  goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\r\n  goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\r\n  goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\r\n  goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\r\n  goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\r\n  goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\r\n  goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\r\n  goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\r\n  goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\r\n  goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\r\n  goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\r\n  delCharBefore: function (cm) { return cm.deleteH(-1, \"char\"); },\r\n  delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\r\n  delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\r\n  delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\r\n  delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\r\n  delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\r\n  indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\r\n  indentMore: function (cm) { return cm.indentSelection(\"add\"); },\r\n  indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\r\n  insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\r\n  insertSoftTab: function (cm) {\r\n    var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      var pos = ranges[i].from()\r\n      var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize)\r\n      spaces.push(spaceStr(tabSize - col % tabSize))\r\n    }\r\n    cm.replaceSelections(spaces)\r\n  },\r\n  defaultTab: function (cm) {\r\n    if (cm.somethingSelected()) { cm.indentSelection(\"add\") }\r\n    else { cm.execCommand(\"insertTab\") }\r\n  },\r\n  // Swap the two chars left and right of each selection's head.\r\n  // Move cursor behind the two swapped characters afterwards.\r\n  //\r\n  // Doesn't consider line feeds a character.\r\n  // Doesn't scan more than one line above to find a character.\r\n  // Doesn't do anything on an empty line.\r\n  // Doesn't do anything with non-empty selections.\r\n  transposeChars: function (cm) { return runInOp(cm, function () {\r\n    var ranges = cm.listSelections(), newSel = []\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      if (!ranges[i].empty()) { continue }\r\n      var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text\r\n      if (line) {\r\n        if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1) }\r\n        if (cur.ch > 0) {\r\n          cur = new Pos(cur.line, cur.ch + 1)\r\n          cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\r\n                          Pos(cur.line, cur.ch - 2), cur, \"+transpose\")\r\n        } else if (cur.line > cm.doc.first) {\r\n          var prev = getLine(cm.doc, cur.line - 1).text\r\n          if (prev) {\r\n            cur = new Pos(cur.line, 1)\r\n            cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\r\n                            prev.charAt(prev.length - 1),\r\n                            Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\")\r\n          }\r\n        }\r\n      }\r\n      newSel.push(new Range(cur, cur))\r\n    }\r\n    cm.setSelections(newSel)\r\n  }); },\r\n  newlineAndIndent: function (cm) { return runInOp(cm, function () {\r\n    var sels = cm.listSelections()\r\n    for (var i = sels.length - 1; i >= 0; i--)\r\n      { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\") }\r\n    sels = cm.listSelections()\r\n    for (var i$1 = 0; i$1 < sels.length; i$1++)\r\n      { cm.indentLine(sels[i$1].from().line, null, true) }\r\n    ensureCursorVisible(cm)\r\n  }); },\r\n  openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\r\n  toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\r\n}\r\n\r\n\r\nfunction lineStart(cm, lineN) {\r\n  var line = getLine(cm.doc, lineN)\r\n  var visual = visualLine(line)\r\n  if (visual != line) { lineN = lineNo(visual) }\r\n  return endOfLine(true, cm, visual, lineN, 1)\r\n}\r\nfunction lineEnd(cm, lineN) {\r\n  var line = getLine(cm.doc, lineN)\r\n  var visual = visualLineEnd(line)\r\n  if (visual != line) { lineN = lineNo(visual) }\r\n  return endOfLine(true, cm, line, lineN, -1)\r\n}\r\nfunction lineStartSmart(cm, pos) {\r\n  var start = lineStart(cm, pos.line)\r\n  var line = getLine(cm.doc, start.line)\r\n  var order = getOrder(line)\r\n  if (!order || order[0].level == 0) {\r\n    var firstNonWS = Math.max(0, line.text.search(/\\S/))\r\n    var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch\r\n    return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\r\n  }\r\n  return start\r\n}\r\n\r\n// Run a handler that was bound to a key.\r\nfunction doHandleBinding(cm, bound, dropShift) {\r\n  if (typeof bound == \"string\") {\r\n    bound = commands[bound]\r\n    if (!bound) { return false }\r\n  }\r\n  // Ensure previous input has been read, so that the handler sees a\r\n  // consistent view of the document\r\n  cm.display.input.ensurePolled()\r\n  var prevShift = cm.display.shift, done = false\r\n  try {\r\n    if (cm.isReadOnly()) { cm.state.suppressEdits = true }\r\n    if (dropShift) { cm.display.shift = false }\r\n    done = bound(cm) != Pass\r\n  } finally {\r\n    cm.display.shift = prevShift\r\n    cm.state.suppressEdits = false\r\n  }\r\n  return done\r\n}\r\n\r\nfunction lookupKeyForEditor(cm, name, handle) {\r\n  for (var i = 0; i < cm.state.keyMaps.length; i++) {\r\n    var result = lookupKey(name, cm.state.keyMaps[i], handle, cm)\r\n    if (result) { return result }\r\n  }\r\n  return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\r\n    || lookupKey(name, cm.options.keyMap, handle, cm)\r\n}\r\n\r\nvar stopSeq = new Delayed\r\nfunction dispatchKey(cm, name, e, handle) {\r\n  var seq = cm.state.keySeq\r\n  if (seq) {\r\n    if (isModifierKey(name)) { return \"handled\" }\r\n    stopSeq.set(50, function () {\r\n      if (cm.state.keySeq == seq) {\r\n        cm.state.keySeq = null\r\n        cm.display.input.reset()\r\n      }\r\n    })\r\n    name = seq + \" \" + name\r\n  }\r\n  var result = lookupKeyForEditor(cm, name, handle)\r\n\r\n  if (result == \"multi\")\r\n    { cm.state.keySeq = name }\r\n  if (result == \"handled\")\r\n    { signalLater(cm, \"keyHandled\", cm, name, e) }\r\n\r\n  if (result == \"handled\" || result == \"multi\") {\r\n    e_preventDefault(e)\r\n    restartBlink(cm)\r\n  }\r\n\r\n  if (seq && !result && /\\'$/.test(name)) {\r\n    e_preventDefault(e)\r\n    return true\r\n  }\r\n  return !!result\r\n}\r\n\r\n// Handle a key from the keydown event.\r\nfunction handleKeyBinding(cm, e) {\r\n  var name = keyName(e, true)\r\n  if (!name) { return false }\r\n\r\n  if (e.shiftKey && !cm.state.keySeq) {\r\n    // First try to resolve full name (including 'Shift-'). Failing\r\n    // that, see if there is a cursor-motion command (starting with\r\n    // 'go') bound to the keyname without 'Shift-'.\r\n    return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\r\n        || dispatchKey(cm, name, e, function (b) {\r\n             if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\r\n               { return doHandleBinding(cm, b) }\r\n           })\r\n  } else {\r\n    return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\r\n  }\r\n}\r\n\r\n// Handle a key from the keypress event\r\nfunction handleCharBinding(cm, e, ch) {\r\n  return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\r\n}\r\n\r\nvar lastStoppedKey = null\r\nfunction onKeyDown(e) {\r\n  var cm = this\r\n  cm.curOp.focus = activeElt()\r\n  if (signalDOMEvent(cm, e)) { return }\r\n  // IE does strange things with escape.\r\n  if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false }\r\n  var code = e.keyCode\r\n  cm.display.shift = code == 16 || e.shiftKey\r\n  var handled = handleKeyBinding(cm, e)\r\n  if (presto) {\r\n    lastStoppedKey = handled ? code : null\r\n    // Opera has no cut event... we try to at least catch the key combo\r\n    if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\r\n      { cm.replaceSelection(\"\", null, \"cut\") }\r\n  }\r\n\r\n  // Turn mouse into crosshair when Alt is held on Mac.\r\n  if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\r\n    { showCrossHair(cm) }\r\n}\r\n\r\nfunction showCrossHair(cm) {\r\n  var lineDiv = cm.display.lineDiv\r\n  addClass(lineDiv, \"CodeMirror-crosshair\")\r\n\r\n  function up(e) {\r\n    if (e.keyCode == 18 || !e.altKey) {\r\n      rmClass(lineDiv, \"CodeMirror-crosshair\")\r\n      off(document, \"keyup\", up)\r\n      off(document, \"mouseover\", up)\r\n    }\r\n  }\r\n  on(document, \"keyup\", up)\r\n  on(document, \"mouseover\", up)\r\n}\r\n\r\nfunction onKeyUp(e) {\r\n  if (e.keyCode == 16) { this.doc.sel.shift = false }\r\n  signalDOMEvent(this, e)\r\n}\r\n\r\nfunction onKeyPress(e) {\r\n  var cm = this\r\n  if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\r\n  var keyCode = e.keyCode, charCode = e.charCode\r\n  if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\r\n  if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\r\n  var ch = String.fromCharCode(charCode == null ? keyCode : charCode)\r\n  // Some browsers fire keypress events for backspace\r\n  if (ch == \"\\x08\") { return }\r\n  if (handleCharBinding(cm, e, ch)) { return }\r\n  cm.display.input.onKeyPress(e)\r\n}\r\n\r\n// A mouse down can be a single click, double click, triple click,\r\n// start of selection drag, start of text drag, new cursor\r\n// (ctrl-click), rectangle drag (alt-drag), or xwin\r\n// middle-click-paste. Or it might be a click on something we should\r\n// not interfere with, such as a scrollbar or widget.\r\nfunction onMouseDown(e) {\r\n  var cm = this, display = cm.display\r\n  if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\r\n  display.input.ensurePolled()\r\n  display.shift = e.shiftKey\r\n\r\n  if (eventInWidget(display, e)) {\r\n    if (!webkit) {\r\n      // Briefly turn off draggability, to allow widgets to do\r\n      // normal dragging things.\r\n      display.scroller.draggable = false\r\n      setTimeout(function () { return display.scroller.draggable = true; }, 100)\r\n    }\r\n    return\r\n  }\r\n  if (clickInGutter(cm, e)) { return }\r\n  var start = posFromMouse(cm, e)\r\n  window.focus()\r\n\r\n  switch (e_button(e)) {\r\n  case 1:\r\n    // #3261: make sure, that we're not starting a second selection\r\n    if (cm.state.selectingText)\r\n      { cm.state.selectingText(e) }\r\n    else if (start)\r\n      { leftButtonDown(cm, e, start) }\r\n    else if (e_target(e) == display.scroller)\r\n      { e_preventDefault(e) }\r\n    break\r\n  case 2:\r\n    if (webkit) { cm.state.lastMiddleDown = +new Date }\r\n    if (start) { extendSelection(cm.doc, start) }\r\n    setTimeout(function () { return display.input.focus(); }, 20)\r\n    e_preventDefault(e)\r\n    break\r\n  case 3:\r\n    if (captureRightClick) { onContextMenu(cm, e) }\r\n    else { delayBlurEvent(cm) }\r\n    break\r\n  }\r\n}\r\n\r\nvar lastClick;\r\nvar lastDoubleClick;\r\nfunction leftButtonDown(cm, e, start) {\r\n  if (ie) { setTimeout(bind(ensureFocus, cm), 0) }\r\n  else { cm.curOp.focus = activeElt() }\r\n\r\n  var now = +new Date, type\r\n  if (lastDoubleClick && lastDoubleClick.time > now - 400 && cmp(lastDoubleClick.pos, start) == 0) {\r\n    type = \"triple\"\r\n  } else if (lastClick && lastClick.time > now - 400 && cmp(lastClick.pos, start) == 0) {\r\n    type = \"double\"\r\n    lastDoubleClick = {time: now, pos: start}\r\n  } else {\r\n    type = \"single\"\r\n    lastClick = {time: now, pos: start}\r\n  }\r\n\r\n  var sel = cm.doc.sel, modifier = mac ? e.metaKey : e.ctrlKey, contained\r\n  if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\r\n      type == \"single\" && (contained = sel.contains(start)) > -1 &&\r\n      (cmp((contained = sel.ranges[contained]).from(), start) < 0 || start.xRel > 0) &&\r\n      (cmp(contained.to(), start) > 0 || start.xRel < 0))\r\n    { leftButtonStartDrag(cm, e, start, modifier) }\r\n  else\r\n    { leftButtonSelect(cm, e, start, type, modifier) }\r\n}\r\n\r\n// Start a text drag. When it ends, see if any dragging actually\r\n// happen, and treat as a click if it didn't.\r\nfunction leftButtonStartDrag(cm, e, start, modifier) {\r\n  var display = cm.display, startTime = +new Date\r\n  var dragEnd = operation(cm, function (e2) {\r\n    if (webkit) { display.scroller.draggable = false }\r\n    cm.state.draggingText = false\r\n    off(document, \"mouseup\", dragEnd)\r\n    off(display.scroller, \"drop\", dragEnd)\r\n    if (Math.abs(e.clientX - e2.clientX) + Math.abs(e.clientY - e2.clientY) < 10) {\r\n      e_preventDefault(e2)\r\n      if (!modifier && +new Date - 200 < startTime)\r\n        { extendSelection(cm.doc, start) }\r\n      // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\r\n      if (webkit || ie && ie_version == 9)\r\n        { setTimeout(function () {document.body.focus(); display.input.focus()}, 20) }\r\n      else\r\n        { display.input.focus() }\r\n    }\r\n  })\r\n  // Let the drag handler handle this.\r\n  if (webkit) { display.scroller.draggable = true }\r\n  cm.state.draggingText = dragEnd\r\n  dragEnd.copy = mac ? e.altKey : e.ctrlKey\r\n  // IE's approach to draggable\r\n  if (display.scroller.dragDrop) { display.scroller.dragDrop() }\r\n  on(document, \"mouseup\", dragEnd)\r\n  on(display.scroller, \"drop\", dragEnd)\r\n}\r\n\r\n// Normal selection, as opposed to text dragging.\r\nfunction leftButtonSelect(cm, e, start, type, addNew) {\r\n  var display = cm.display, doc = cm.doc\r\n  e_preventDefault(e)\r\n\r\n  var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges\r\n  if (addNew && !e.shiftKey) {\r\n    ourIndex = doc.sel.contains(start)\r\n    if (ourIndex > -1)\r\n      { ourRange = ranges[ourIndex] }\r\n    else\r\n      { ourRange = new Range(start, start) }\r\n  } else {\r\n    ourRange = doc.sel.primary()\r\n    ourIndex = doc.sel.primIndex\r\n  }\r\n\r\n  if (chromeOS ? e.shiftKey && e.metaKey : e.altKey) {\r\n    type = \"rect\"\r\n    if (!addNew) { ourRange = new Range(start, start) }\r\n    start = posFromMouse(cm, e, true, true)\r\n    ourIndex = -1\r\n  } else if (type == \"double\") {\r\n    var word = cm.findWordAt(start)\r\n    if (cm.display.shift || doc.extend)\r\n      { ourRange = extendRange(doc, ourRange, word.anchor, word.head) }\r\n    else\r\n      { ourRange = word }\r\n  } else if (type == \"triple\") {\r\n    var line = new Range(Pos(start.line, 0), clipPos(doc, Pos(start.line + 1, 0)))\r\n    if (cm.display.shift || doc.extend)\r\n      { ourRange = extendRange(doc, ourRange, line.anchor, line.head) }\r\n    else\r\n      { ourRange = line }\r\n  } else {\r\n    ourRange = extendRange(doc, ourRange, start)\r\n  }\r\n\r\n  if (!addNew) {\r\n    ourIndex = 0\r\n    setSelection(doc, new Selection([ourRange], 0), sel_mouse)\r\n    startSel = doc.sel\r\n  } else if (ourIndex == -1) {\r\n    ourIndex = ranges.length\r\n    setSelection(doc, normalizeSelection(ranges.concat([ourRange]), ourIndex),\r\n                 {scroll: false, origin: \"*mouse\"})\r\n  } else if (ranges.length > 1 && ranges[ourIndex].empty() && type == \"single\" && !e.shiftKey) {\r\n    setSelection(doc, normalizeSelection(ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\r\n                 {scroll: false, origin: \"*mouse\"})\r\n    startSel = doc.sel\r\n  } else {\r\n    replaceOneSelection(doc, ourIndex, ourRange, sel_mouse)\r\n  }\r\n\r\n  var lastPos = start\r\n  function extendTo(pos) {\r\n    if (cmp(lastPos, pos) == 0) { return }\r\n    lastPos = pos\r\n\r\n    if (type == \"rect\") {\r\n      var ranges = [], tabSize = cm.options.tabSize\r\n      var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize)\r\n      var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize)\r\n      var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol)\r\n      for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\r\n           line <= end; line++) {\r\n        var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize)\r\n        if (left == right)\r\n          { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))) }\r\n        else if (text.length > leftPos)\r\n          { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))) }\r\n      }\r\n      if (!ranges.length) { ranges.push(new Range(start, start)) }\r\n      setSelection(doc, normalizeSelection(startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\r\n                   {origin: \"*mouse\", scroll: false})\r\n      cm.scrollIntoView(pos)\r\n    } else {\r\n      var oldRange = ourRange\r\n      var anchor = oldRange.anchor, head = pos\r\n      if (type != \"single\") {\r\n        var range\r\n        if (type == \"double\")\r\n          { range = cm.findWordAt(pos) }\r\n        else\r\n          { range = new Range(Pos(pos.line, 0), clipPos(doc, Pos(pos.line + 1, 0))) }\r\n        if (cmp(range.anchor, anchor) > 0) {\r\n          head = range.head\r\n          anchor = minPos(oldRange.from(), range.anchor)\r\n        } else {\r\n          head = range.anchor\r\n          anchor = maxPos(oldRange.to(), range.head)\r\n        }\r\n      }\r\n      var ranges$1 = startSel.ranges.slice(0)\r\n      ranges$1[ourIndex] = new Range(clipPos(doc, anchor), head)\r\n      setSelection(doc, normalizeSelection(ranges$1, ourIndex), sel_mouse)\r\n    }\r\n  }\r\n\r\n  var editorSize = display.wrapper.getBoundingClientRect()\r\n  // Used to ensure timeout re-tries don't fire when another extend\r\n  // happened in the meantime (clearTimeout isn't reliable -- at\r\n  // least on Chrome, the timeouts still happen even when cleared,\r\n  // if the clear happens after their scheduled firing time).\r\n  var counter = 0\r\n\r\n  function extend(e) {\r\n    var curCount = ++counter\r\n    var cur = posFromMouse(cm, e, true, type == \"rect\")\r\n    if (!cur) { return }\r\n    if (cmp(cur, lastPos) != 0) {\r\n      cm.curOp.focus = activeElt()\r\n      extendTo(cur)\r\n      var visible = visibleLines(display, doc)\r\n      if (cur.line >= visible.to || cur.line < visible.from)\r\n        { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e) }}), 150) }\r\n    } else {\r\n      var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0\r\n      if (outside) { setTimeout(operation(cm, function () {\r\n        if (counter != curCount) { return }\r\n        display.scroller.scrollTop += outside\r\n        extend(e)\r\n      }), 50) }\r\n    }\r\n  }\r\n\r\n  function done(e) {\r\n    cm.state.selectingText = false\r\n    counter = Infinity\r\n    e_preventDefault(e)\r\n    display.input.focus()\r\n    off(document, \"mousemove\", move)\r\n    off(document, \"mouseup\", up)\r\n    doc.history.lastSelOrigin = null\r\n  }\r\n\r\n  var move = operation(cm, function (e) {\r\n    if (!e_button(e)) { done(e) }\r\n    else { extend(e) }\r\n  })\r\n  var up = operation(cm, done)\r\n  cm.state.selectingText = up\r\n  on(document, \"mousemove\", move)\r\n  on(document, \"mouseup\", up)\r\n}\r\n\r\n\r\n// Determines whether an event happened in the gutter, and fires the\r\n// handlers for the corresponding event.\r\nfunction gutterEvent(cm, e, type, prevent) {\r\n  var mX, mY\r\n  try { mX = e.clientX; mY = e.clientY }\r\n  catch(e) { return false }\r\n  if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\r\n  if (prevent) { e_preventDefault(e) }\r\n\r\n  var display = cm.display\r\n  var lineBox = display.lineDiv.getBoundingClientRect()\r\n\r\n  if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\r\n  mY -= lineBox.top - display.viewOffset\r\n\r\n  for (var i = 0; i < cm.options.gutters.length; ++i) {\r\n    var g = display.gutters.childNodes[i]\r\n    if (g && g.getBoundingClientRect().right >= mX) {\r\n      var line = lineAtHeight(cm.doc, mY)\r\n      var gutter = cm.options.gutters[i]\r\n      signal(cm, type, cm, line, gutter, e)\r\n      return e_defaultPrevented(e)\r\n    }\r\n  }\r\n}\r\n\r\nfunction clickInGutter(cm, e) {\r\n  return gutterEvent(cm, e, \"gutterClick\", true)\r\n}\r\n\r\n// CONTEXT MENU HANDLING\r\n\r\n// To make the context menu work, we need to briefly unhide the\r\n// textarea (making it as unobtrusive as possible) to let the\r\n// right-click take effect on it.\r\nfunction onContextMenu(cm, e) {\r\n  if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\r\n  if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\r\n  cm.display.input.onContextMenu(e)\r\n}\r\n\r\nfunction contextMenuInGutter(cm, e) {\r\n  if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\r\n  return gutterEvent(cm, e, \"gutterContextMenu\", false)\r\n}\r\n\r\nfunction themeChanged(cm) {\r\n  cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\r\n    cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\")\r\n  clearCaches(cm)\r\n}\r\n\r\nvar Init = {toString: function(){return \"CodeMirror.Init\"}}\r\n\r\nvar defaults = {}\r\nvar optionHandlers = {}\r\n\r\nfunction defineOptions(CodeMirror) {\r\n  var optionHandlers = CodeMirror.optionHandlers\r\n\r\n  function option(name, deflt, handle, notOnInit) {\r\n    CodeMirror.defaults[name] = deflt\r\n    if (handle) { optionHandlers[name] =\r\n      notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old) }} : handle }\r\n  }\r\n\r\n  CodeMirror.defineOption = option\r\n\r\n  // Passed to option handlers when there is no old value.\r\n  CodeMirror.Init = Init\r\n\r\n  // These two are, on init, called from the constructor because they\r\n  // have to be initialized before the editor can start at all.\r\n  option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true)\r\n  option(\"mode\", null, function (cm, val) {\r\n    cm.doc.modeOption = val\r\n    loadMode(cm)\r\n  }, true)\r\n\r\n  option(\"indentUnit\", 2, loadMode, true)\r\n  option(\"indentWithTabs\", false)\r\n  option(\"smartIndent\", true)\r\n  option(\"tabSize\", 4, function (cm) {\r\n    resetModeState(cm)\r\n    clearCaches(cm)\r\n    regChange(cm)\r\n  }, true)\r\n  option(\"lineSeparator\", null, function (cm, val) {\r\n    cm.doc.lineSep = val\r\n    if (!val) { return }\r\n    var newBreaks = [], lineNo = cm.doc.first\r\n    cm.doc.iter(function (line) {\r\n      for (var pos = 0;;) {\r\n        var found = line.text.indexOf(val, pos)\r\n        if (found == -1) { break }\r\n        pos = found + val.length\r\n        newBreaks.push(Pos(lineNo, found))\r\n      }\r\n      lineNo++\r\n    })\r\n    for (var i = newBreaks.length - 1; i >= 0; i--)\r\n      { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)) }\r\n  })\r\n  option(\"specialChars\", /[\\u0000-\\u001f\\u007f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function (cm, val, old) {\r\n    cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\")\r\n    if (old != Init) { cm.refresh() }\r\n  })\r\n  option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true)\r\n  option(\"electricChars\", true)\r\n  option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\r\n    throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\r\n  }, true)\r\n  option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true)\r\n  option(\"rtlMoveVisually\", !windows)\r\n  option(\"wholeLineUpdateBefore\", true)\r\n\r\n  option(\"theme\", \"default\", function (cm) {\r\n    themeChanged(cm)\r\n    guttersChanged(cm)\r\n  }, true)\r\n  option(\"keyMap\", \"default\", function (cm, val, old) {\r\n    var next = getKeyMap(val)\r\n    var prev = old != Init && getKeyMap(old)\r\n    if (prev && prev.detach) { prev.detach(cm, next) }\r\n    if (next.attach) { next.attach(cm, prev || null) }\r\n  })\r\n  option(\"extraKeys\", null)\r\n\r\n  option(\"lineWrapping\", false, wrappingChanged, true)\r\n  option(\"gutters\", [], function (cm) {\r\n    setGuttersForLineNumbers(cm.options)\r\n    guttersChanged(cm)\r\n  }, true)\r\n  option(\"fixedGutter\", true, function (cm, val) {\r\n    cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\"\r\n    cm.refresh()\r\n  }, true)\r\n  option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true)\r\n  option(\"scrollbarStyle\", \"native\", function (cm) {\r\n    initScrollbars(cm)\r\n    updateScrollbars(cm)\r\n    cm.display.scrollbars.setScrollTop(cm.doc.scrollTop)\r\n    cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)\r\n  }, true)\r\n  option(\"lineNumbers\", false, function (cm) {\r\n    setGuttersForLineNumbers(cm.options)\r\n    guttersChanged(cm)\r\n  }, true)\r\n  option(\"firstLineNumber\", 1, guttersChanged, true)\r\n  option(\"lineNumberFormatter\", function (integer) { return integer; }, guttersChanged, true)\r\n  option(\"showCursorWhenSelecting\", false, updateSelection, true)\r\n\r\n  option(\"resetSelectionOnContextMenu\", true)\r\n  option(\"lineWiseCopyCut\", true)\r\n\r\n  option(\"readOnly\", false, function (cm, val) {\r\n    if (val == \"nocursor\") {\r\n      onBlur(cm)\r\n      cm.display.input.blur()\r\n      cm.display.disabled = true\r\n    } else {\r\n      cm.display.disabled = false\r\n    }\r\n    cm.display.input.readOnlyChanged(val)\r\n  })\r\n  option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset() }}, true)\r\n  option(\"dragDrop\", true, dragDropChanged)\r\n  option(\"allowDropFileTypes\", null)\r\n\r\n  option(\"cursorBlinkRate\", 530)\r\n  option(\"cursorScrollMargin\", 0)\r\n  option(\"cursorHeight\", 1, updateSelection, true)\r\n  option(\"singleCursorHeightPerLine\", true, updateSelection, true)\r\n  option(\"workTime\", 100)\r\n  option(\"workDelay\", 100)\r\n  option(\"flattenSpans\", true, resetModeState, true)\r\n  option(\"addModeClass\", false, resetModeState, true)\r\n  option(\"pollInterval\", 100)\r\n  option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; })\r\n  option(\"historyEventDelay\", 1250)\r\n  option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true)\r\n  option(\"maxHighlightLength\", 10000, resetModeState, true)\r\n  option(\"moveInputWithCursor\", true, function (cm, val) {\r\n    if (!val) { cm.display.input.resetPosition() }\r\n  })\r\n\r\n  option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; })\r\n  option(\"autofocus\", null)\r\n}\r\n\r\nfunction guttersChanged(cm) {\r\n  updateGutters(cm)\r\n  regChange(cm)\r\n  alignHorizontally(cm)\r\n}\r\n\r\nfunction dragDropChanged(cm, value, old) {\r\n  var wasOn = old && old != Init\r\n  if (!value != !wasOn) {\r\n    var funcs = cm.display.dragFunctions\r\n    var toggle = value ? on : off\r\n    toggle(cm.display.scroller, \"dragstart\", funcs.start)\r\n    toggle(cm.display.scroller, \"dragenter\", funcs.enter)\r\n    toggle(cm.display.scroller, \"dragover\", funcs.over)\r\n    toggle(cm.display.scroller, \"dragleave\", funcs.leave)\r\n    toggle(cm.display.scroller, \"drop\", funcs.drop)\r\n  }\r\n}\r\n\r\nfunction wrappingChanged(cm) {\r\n  if (cm.options.lineWrapping) {\r\n    addClass(cm.display.wrapper, \"CodeMirror-wrap\")\r\n    cm.display.sizer.style.minWidth = \"\"\r\n    cm.display.sizerWidth = null\r\n  } else {\r\n    rmClass(cm.display.wrapper, \"CodeMirror-wrap\")\r\n    findMaxLine(cm)\r\n  }\r\n  estimateLineHeights(cm)\r\n  regChange(cm)\r\n  clearCaches(cm)\r\n  setTimeout(function () { return updateScrollbars(cm); }, 100)\r\n}\r\n\r\n// A CodeMirror instance represents an editor. This is the object\r\n// that user code is usually dealing with.\r\n\r\nfunction CodeMirror(place, options) {\r\n  var this$1 = this;\r\n\r\n  if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\r\n\r\n  this.options = options = options ? copyObj(options) : {}\r\n  // Determine effective options based on given values and defaults.\r\n  copyObj(defaults, options, false)\r\n  setGuttersForLineNumbers(options)\r\n\r\n  var doc = options.value\r\n  if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator) }\r\n  this.doc = doc\r\n\r\n  var input = new CodeMirror.inputStyles[options.inputStyle](this)\r\n  var display = this.display = new Display(place, doc, input)\r\n  display.wrapper.CodeMirror = this\r\n  updateGutters(this)\r\n  themeChanged(this)\r\n  if (options.lineWrapping)\r\n    { this.display.wrapper.className += \" CodeMirror-wrap\" }\r\n  initScrollbars(this)\r\n\r\n  this.state = {\r\n    keyMaps: [],  // stores maps added by addKeyMap\r\n    overlays: [], // highlighting overlays, as added by addOverlay\r\n    modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\r\n    overwrite: false,\r\n    delayingBlurEvent: false,\r\n    focused: false,\r\n    suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\r\n    pasteIncoming: false, cutIncoming: false, // help recognize paste/cut edits in input.poll\r\n    selectingText: false,\r\n    draggingText: false,\r\n    highlight: new Delayed(), // stores highlight worker timeout\r\n    keySeq: null,  // Unfinished key sequence\r\n    specialChars: null\r\n  }\r\n\r\n  if (options.autofocus && !mobile) { display.input.focus() }\r\n\r\n  // Override magic textarea content restore that IE sometimes does\r\n  // on our hidden textarea on reload\r\n  if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20) }\r\n\r\n  registerEventHandlers(this)\r\n  ensureGlobalHandlers()\r\n\r\n  startOperation(this)\r\n  this.curOp.forceUpdate = true\r\n  attachDoc(this, doc)\r\n\r\n  if ((options.autofocus && !mobile) || this.hasFocus())\r\n    { setTimeout(bind(onFocus, this), 20) }\r\n  else\r\n    { onBlur(this) }\r\n\r\n  for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\r\n    { optionHandlers[opt](this$1, options[opt], Init) } }\r\n  maybeUpdateLineNumberWidth(this)\r\n  if (options.finishInit) { options.finishInit(this) }\r\n  for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this$1) }\r\n  endOperation(this)\r\n  // Suppress optimizelegibility in Webkit, since it breaks text\r\n  // measuring on line wrapping boundaries.\r\n  if (webkit && options.lineWrapping &&\r\n      getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\r\n    { display.lineDiv.style.textRendering = \"auto\" }\r\n}\r\n\r\n// The default configuration options.\r\nCodeMirror.defaults = defaults\r\n// Functions to run when options are changed.\r\nCodeMirror.optionHandlers = optionHandlers\r\n\r\n// Attach the necessary event handlers when initializing the editor\r\nfunction registerEventHandlers(cm) {\r\n  var d = cm.display\r\n  on(d.scroller, \"mousedown\", operation(cm, onMouseDown))\r\n  // Older IE's will not fire a second mousedown for a double click\r\n  if (ie && ie_version < 11)\r\n    { on(d.scroller, \"dblclick\", operation(cm, function (e) {\r\n      if (signalDOMEvent(cm, e)) { return }\r\n      var pos = posFromMouse(cm, e)\r\n      if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\r\n      e_preventDefault(e)\r\n      var word = cm.findWordAt(pos)\r\n      extendSelection(cm.doc, word.anchor, word.head)\r\n    })) }\r\n  else\r\n    { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }) }\r\n  // Some browsers fire contextmenu *after* opening the menu, at\r\n  // which point we can't mess with it anymore. Context menu is\r\n  // handled in onMouseDown for these browsers.\r\n  if (!captureRightClick) { on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); }) }\r\n\r\n  // Used to suppress mouse event handling when a touch happens\r\n  var touchFinished, prevTouch = {end: 0}\r\n  function finishTouch() {\r\n    if (d.activeTouch) {\r\n      touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000)\r\n      prevTouch = d.activeTouch\r\n      prevTouch.end = +new Date\r\n    }\r\n  }\r\n  function isMouseLikeTouchEvent(e) {\r\n    if (e.touches.length != 1) { return false }\r\n    var touch = e.touches[0]\r\n    return touch.radiusX <= 1 && touch.radiusY <= 1\r\n  }\r\n  function farAway(touch, other) {\r\n    if (other.left == null) { return true }\r\n    var dx = other.left - touch.left, dy = other.top - touch.top\r\n    return dx * dx + dy * dy > 20 * 20\r\n  }\r\n  on(d.scroller, \"touchstart\", function (e) {\r\n    if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e)) {\r\n      d.input.ensurePolled()\r\n      clearTimeout(touchFinished)\r\n      var now = +new Date\r\n      d.activeTouch = {start: now, moved: false,\r\n                       prev: now - prevTouch.end <= 300 ? prevTouch : null}\r\n      if (e.touches.length == 1) {\r\n        d.activeTouch.left = e.touches[0].pageX\r\n        d.activeTouch.top = e.touches[0].pageY\r\n      }\r\n    }\r\n  })\r\n  on(d.scroller, \"touchmove\", function () {\r\n    if (d.activeTouch) { d.activeTouch.moved = true }\r\n  })\r\n  on(d.scroller, \"touchend\", function (e) {\r\n    var touch = d.activeTouch\r\n    if (touch && !eventInWidget(d, e) && touch.left != null &&\r\n        !touch.moved && new Date - touch.start < 300) {\r\n      var pos = cm.coordsChar(d.activeTouch, \"page\"), range\r\n      if (!touch.prev || farAway(touch, touch.prev)) // Single tap\r\n        { range = new Range(pos, pos) }\r\n      else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\r\n        { range = cm.findWordAt(pos) }\r\n      else // Triple tap\r\n        { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\r\n      cm.setSelection(range.anchor, range.head)\r\n      cm.focus()\r\n      e_preventDefault(e)\r\n    }\r\n    finishTouch()\r\n  })\r\n  on(d.scroller, \"touchcancel\", finishTouch)\r\n\r\n  // Sync scrolling between fake scrollbars and real scrollable\r\n  // area, ensure viewport is updated when scrolling.\r\n  on(d.scroller, \"scroll\", function () {\r\n    if (d.scroller.clientHeight) {\r\n      setScrollTop(cm, d.scroller.scrollTop)\r\n      setScrollLeft(cm, d.scroller.scrollLeft, true)\r\n      signal(cm, \"scroll\", cm)\r\n    }\r\n  })\r\n\r\n  // Listen to wheel events in order to try and update the viewport on time.\r\n  on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); })\r\n  on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); })\r\n\r\n  // Prevent wrapper from ever scrolling\r\n  on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; })\r\n\r\n  d.dragFunctions = {\r\n    enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e) }},\r\n    over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e) }},\r\n    start: function (e) { return onDragStart(cm, e); },\r\n    drop: operation(cm, onDrop),\r\n    leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm) }}\r\n  }\r\n\r\n  var inp = d.input.getField()\r\n  on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); })\r\n  on(inp, \"keydown\", operation(cm, onKeyDown))\r\n  on(inp, \"keypress\", operation(cm, onKeyPress))\r\n  on(inp, \"focus\", function (e) { return onFocus(cm, e); })\r\n  on(inp, \"blur\", function (e) { return onBlur(cm, e); })\r\n}\r\n\r\nvar initHooks = []\r\nCodeMirror.defineInitHook = function (f) { return initHooks.push(f); }\r\n\r\n// Indent the given line. The how parameter can be \"smart\",\r\n// \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\r\n// (typically set to true for forced single-line indents), empty\r\n// lines are not indented, and places where the mode returns Pass\r\n// are left alone.\r\nfunction indentLine(cm, n, how, aggressive) {\r\n  var doc = cm.doc, state\r\n  if (how == null) { how = \"add\" }\r\n  if (how == \"smart\") {\r\n    // Fall back to \"prev\" when the mode doesn't have an indentation\r\n    // method.\r\n    if (!doc.mode.indent) { how = \"prev\" }\r\n    else { state = getStateBefore(cm, n) }\r\n  }\r\n\r\n  var tabSize = cm.options.tabSize\r\n  var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize)\r\n  if (line.stateAfter) { line.stateAfter = null }\r\n  var curSpaceString = line.text.match(/^\\s*/)[0], indentation\r\n  if (!aggressive && !/\\S/.test(line.text)) {\r\n    indentation = 0\r\n    how = \"not\"\r\n  } else if (how == \"smart\") {\r\n    indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text)\r\n    if (indentation == Pass || indentation > 150) {\r\n      if (!aggressive) { return }\r\n      how = \"prev\"\r\n    }\r\n  }\r\n  if (how == \"prev\") {\r\n    if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize) }\r\n    else { indentation = 0 }\r\n  } else if (how == \"add\") {\r\n    indentation = curSpace + cm.options.indentUnit\r\n  } else if (how == \"subtract\") {\r\n    indentation = curSpace - cm.options.indentUnit\r\n  } else if (typeof how == \"number\") {\r\n    indentation = curSpace + how\r\n  }\r\n  indentation = Math.max(0, indentation)\r\n\r\n  var indentString = \"\", pos = 0\r\n  if (cm.options.indentWithTabs)\r\n    { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\"} }\r\n  if (pos < indentation) { indentString += spaceStr(indentation - pos) }\r\n\r\n  if (indentString != curSpaceString) {\r\n    replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\")\r\n    line.stateAfter = null\r\n    return true\r\n  } else {\r\n    // Ensure that, if the cursor was in the whitespace at the start\r\n    // of the line, it is moved to the end of that space.\r\n    for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\r\n      var range = doc.sel.ranges[i$1]\r\n      if (range.head.line == n && range.head.ch < curSpaceString.length) {\r\n        var pos$1 = Pos(n, curSpaceString.length)\r\n        replaceOneSelection(doc, i$1, new Range(pos$1, pos$1))\r\n        break\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// This will be set to a {lineWise: bool, text: [string]} object, so\r\n// that, when pasting, we know what kind of selections the copied\r\n// text was made out of.\r\nvar lastCopied = null\r\n\r\nfunction setLastCopied(newLastCopied) {\r\n  lastCopied = newLastCopied\r\n}\r\n\r\nfunction applyTextInput(cm, inserted, deleted, sel, origin) {\r\n  var doc = cm.doc\r\n  cm.display.shift = false\r\n  if (!sel) { sel = doc.sel }\r\n\r\n  var paste = cm.state.pasteIncoming || origin == \"paste\"\r\n  var textLines = splitLinesAuto(inserted), multiPaste = null\r\n  // When pasing N lines into N selections, insert one line per selection\r\n  if (paste && sel.ranges.length > 1) {\r\n    if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\r\n      if (sel.ranges.length % lastCopied.text.length == 0) {\r\n        multiPaste = []\r\n        for (var i = 0; i < lastCopied.text.length; i++)\r\n          { multiPaste.push(doc.splitLines(lastCopied.text[i])) }\r\n      }\r\n    } else if (textLines.length == sel.ranges.length) {\r\n      multiPaste = map(textLines, function (l) { return [l]; })\r\n    }\r\n  }\r\n\r\n  var updateInput\r\n  // Normal behavior is to insert the new text into every selection\r\n  for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\r\n    var range = sel.ranges[i$1]\r\n    var from = range.from(), to = range.to()\r\n    if (range.empty()) {\r\n      if (deleted && deleted > 0) // Handle deletion\r\n        { from = Pos(from.line, from.ch - deleted) }\r\n      else if (cm.state.overwrite && !paste) // Handle overwrite\r\n        { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)) }\r\n      else if (lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted)\r\n        { from = to = Pos(from.line, 0) }\r\n    }\r\n    updateInput = cm.curOp.updateInput\r\n    var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\r\n                       origin: origin || (paste ? \"paste\" : cm.state.cutIncoming ? \"cut\" : \"+input\")}\r\n    makeChange(cm.doc, changeEvent)\r\n    signalLater(cm, \"inputRead\", cm, changeEvent)\r\n  }\r\n  if (inserted && !paste)\r\n    { triggerElectric(cm, inserted) }\r\n\r\n  ensureCursorVisible(cm)\r\n  cm.curOp.updateInput = updateInput\r\n  cm.curOp.typing = true\r\n  cm.state.pasteIncoming = cm.state.cutIncoming = false\r\n}\r\n\r\nfunction handlePaste(e, cm) {\r\n  var pasted = e.clipboardData && e.clipboardData.getData(\"Text\")\r\n  if (pasted) {\r\n    e.preventDefault()\r\n    if (!cm.isReadOnly() && !cm.options.disableInput)\r\n      { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }) }\r\n    return true\r\n  }\r\n}\r\n\r\nfunction triggerElectric(cm, inserted) {\r\n  // When an 'electric' character is inserted, immediately trigger a reindent\r\n  if (!cm.options.electricChars || !cm.options.smartIndent) { return }\r\n  var sel = cm.doc.sel\r\n\r\n  for (var i = sel.ranges.length - 1; i >= 0; i--) {\r\n    var range = sel.ranges[i]\r\n    if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\r\n    var mode = cm.getModeAt(range.head)\r\n    var indented = false\r\n    if (mode.electricChars) {\r\n      for (var j = 0; j < mode.electricChars.length; j++)\r\n        { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\r\n          indented = indentLine(cm, range.head.line, \"smart\")\r\n          break\r\n        } }\r\n    } else if (mode.electricInput) {\r\n      if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\r\n        { indented = indentLine(cm, range.head.line, \"smart\") }\r\n    }\r\n    if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line) }\r\n  }\r\n}\r\n\r\nfunction copyableRanges(cm) {\r\n  var text = [], ranges = []\r\n  for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\r\n    var line = cm.doc.sel.ranges[i].head.line\r\n    var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)}\r\n    ranges.push(lineRange)\r\n    text.push(cm.getRange(lineRange.anchor, lineRange.head))\r\n  }\r\n  return {text: text, ranges: ranges}\r\n}\r\n\r\nfunction disableBrowserMagic(field, spellcheck) {\r\n  field.setAttribute(\"autocorrect\", \"off\")\r\n  field.setAttribute(\"autocapitalize\", \"off\")\r\n  field.setAttribute(\"spellcheck\", !!spellcheck)\r\n}\r\n\r\nfunction hiddenTextarea() {\r\n  var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\")\r\n  var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\")\r\n  // The textarea is kept positioned near the cursor to prevent the\r\n  // fact that it'll be scrolled into view on input from scrolling\r\n  // our fake cursor out of view. On webkit, when wrap=off, paste is\r\n  // very slow. So make the area wide instead.\r\n  if (webkit) { te.style.width = \"1000px\" }\r\n  else { te.setAttribute(\"wrap\", \"off\") }\r\n  // If border: 0; -- iOS fails to open keyboard (issue #1287)\r\n  if (ios) { te.style.border = \"1px solid black\" }\r\n  disableBrowserMagic(te)\r\n  return div\r\n}\r\n\r\n// The publicly visible API. Note that methodOp(f) means\r\n// 'wrap f in an operation, performed on its `this` parameter'.\r\n\r\n// This is not the complete set of editor methods. Most of the\r\n// methods defined on the Doc type are also injected into\r\n// CodeMirror.prototype, for backwards compatibility and\r\n// convenience.\r\n\r\nfunction addEditorMethods(CodeMirror) {\r\n  var optionHandlers = CodeMirror.optionHandlers\r\n\r\n  var helpers = CodeMirror.helpers = {}\r\n\r\n  CodeMirror.prototype = {\r\n    constructor: CodeMirror,\r\n    focus: function(){window.focus(); this.display.input.focus()},\r\n\r\n    setOption: function(option, value) {\r\n      var options = this.options, old = options[option]\r\n      if (options[option] == value && option != \"mode\") { return }\r\n      options[option] = value\r\n      if (optionHandlers.hasOwnProperty(option))\r\n        { operation(this, optionHandlers[option])(this, value, old) }\r\n      signal(this, \"optionChange\", this, option)\r\n    },\r\n\r\n    getOption: function(option) {return this.options[option]},\r\n    getDoc: function() {return this.doc},\r\n\r\n    addKeyMap: function(map, bottom) {\r\n      this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map))\r\n    },\r\n    removeKeyMap: function(map) {\r\n      var maps = this.state.keyMaps\r\n      for (var i = 0; i < maps.length; ++i)\r\n        { if (maps[i] == map || maps[i].name == map) {\r\n          maps.splice(i, 1)\r\n          return true\r\n        } }\r\n    },\r\n\r\n    addOverlay: methodOp(function(spec, options) {\r\n      var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec)\r\n      if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\r\n      insertSorted(this.state.overlays,\r\n                   {mode: mode, modeSpec: spec, opaque: options && options.opaque,\r\n                    priority: (options && options.priority) || 0},\r\n                   function (overlay) { return overlay.priority; })\r\n      this.state.modeGen++\r\n      regChange(this)\r\n    }),\r\n    removeOverlay: methodOp(function(spec) {\r\n      var this$1 = this;\r\n\r\n      var overlays = this.state.overlays\r\n      for (var i = 0; i < overlays.length; ++i) {\r\n        var cur = overlays[i].modeSpec\r\n        if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\r\n          overlays.splice(i, 1)\r\n          this$1.state.modeGen++\r\n          regChange(this$1)\r\n          return\r\n        }\r\n      }\r\n    }),\r\n\r\n    indentLine: methodOp(function(n, dir, aggressive) {\r\n      if (typeof dir != \"string\" && typeof dir != \"number\") {\r\n        if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\" }\r\n        else { dir = dir ? \"add\" : \"subtract\" }\r\n      }\r\n      if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive) }\r\n    }),\r\n    indentSelection: methodOp(function(how) {\r\n      var this$1 = this;\r\n\r\n      var ranges = this.doc.sel.ranges, end = -1\r\n      for (var i = 0; i < ranges.length; i++) {\r\n        var range = ranges[i]\r\n        if (!range.empty()) {\r\n          var from = range.from(), to = range.to()\r\n          var start = Math.max(end, from.line)\r\n          end = Math.min(this$1.lastLine(), to.line - (to.ch ? 0 : 1)) + 1\r\n          for (var j = start; j < end; ++j)\r\n            { indentLine(this$1, j, how) }\r\n          var newRanges = this$1.doc.sel.ranges\r\n          if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\r\n            { replaceOneSelection(this$1.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll) }\r\n        } else if (range.head.line > end) {\r\n          indentLine(this$1, range.head.line, how, true)\r\n          end = range.head.line\r\n          if (i == this$1.doc.sel.primIndex) { ensureCursorVisible(this$1) }\r\n        }\r\n      }\r\n    }),\r\n\r\n    // Fetch the parser token for a given character. Useful for hacks\r\n    // that want to inspect the mode state (say, for completion).\r\n    getTokenAt: function(pos, precise) {\r\n      return takeToken(this, pos, precise)\r\n    },\r\n\r\n    getLineTokens: function(line, precise) {\r\n      return takeToken(this, Pos(line), precise, true)\r\n    },\r\n\r\n    getTokenTypeAt: function(pos) {\r\n      pos = clipPos(this.doc, pos)\r\n      var styles = getLineStyles(this, getLine(this.doc, pos.line))\r\n      var before = 0, after = (styles.length - 1) / 2, ch = pos.ch\r\n      var type\r\n      if (ch == 0) { type = styles[2] }\r\n      else { for (;;) {\r\n        var mid = (before + after) >> 1\r\n        if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid }\r\n        else if (styles[mid * 2 + 1] < ch) { before = mid + 1 }\r\n        else { type = styles[mid * 2 + 2]; break }\r\n      } }\r\n      var cut = type ? type.indexOf(\"overlay \") : -1\r\n      return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\r\n    },\r\n\r\n    getModeAt: function(pos) {\r\n      var mode = this.doc.mode\r\n      if (!mode.innerMode) { return mode }\r\n      return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\r\n    },\r\n\r\n    getHelper: function(pos, type) {\r\n      return this.getHelpers(pos, type)[0]\r\n    },\r\n\r\n    getHelpers: function(pos, type) {\r\n      var this$1 = this;\r\n\r\n      var found = []\r\n      if (!helpers.hasOwnProperty(type)) { return found }\r\n      var help = helpers[type], mode = this.getModeAt(pos)\r\n      if (typeof mode[type] == \"string\") {\r\n        if (help[mode[type]]) { found.push(help[mode[type]]) }\r\n      } else if (mode[type]) {\r\n        for (var i = 0; i < mode[type].length; i++) {\r\n          var val = help[mode[type][i]]\r\n          if (val) { found.push(val) }\r\n        }\r\n      } else if (mode.helperType && help[mode.helperType]) {\r\n        found.push(help[mode.helperType])\r\n      } else if (help[mode.name]) {\r\n        found.push(help[mode.name])\r\n      }\r\n      for (var i$1 = 0; i$1 < help._global.length; i$1++) {\r\n        var cur = help._global[i$1]\r\n        if (cur.pred(mode, this$1) && indexOf(found, cur.val) == -1)\r\n          { found.push(cur.val) }\r\n      }\r\n      return found\r\n    },\r\n\r\n    getStateAfter: function(line, precise) {\r\n      var doc = this.doc\r\n      line = clipLine(doc, line == null ? doc.first + doc.size - 1: line)\r\n      return getStateBefore(this, line + 1, precise)\r\n    },\r\n\r\n    cursorCoords: function(start, mode) {\r\n      var pos, range = this.doc.sel.primary()\r\n      if (start == null) { pos = range.head }\r\n      else if (typeof start == \"object\") { pos = clipPos(this.doc, start) }\r\n      else { pos = start ? range.from() : range.to() }\r\n      return cursorCoords(this, pos, mode || \"page\")\r\n    },\r\n\r\n    charCoords: function(pos, mode) {\r\n      return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\r\n    },\r\n\r\n    coordsChar: function(coords, mode) {\r\n      coords = fromCoordSystem(this, coords, mode || \"page\")\r\n      return coordsChar(this, coords.left, coords.top)\r\n    },\r\n\r\n    lineAtHeight: function(height, mode) {\r\n      height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top\r\n      return lineAtHeight(this.doc, height + this.display.viewOffset)\r\n    },\r\n    heightAtLine: function(line, mode, includeWidgets) {\r\n      var end = false, lineObj\r\n      if (typeof line == \"number\") {\r\n        var last = this.doc.first + this.doc.size - 1\r\n        if (line < this.doc.first) { line = this.doc.first }\r\n        else if (line > last) { line = last; end = true }\r\n        lineObj = getLine(this.doc, line)\r\n      } else {\r\n        lineObj = line\r\n      }\r\n      return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\r\n        (end ? this.doc.height - heightAtLine(lineObj) : 0)\r\n    },\r\n\r\n    defaultTextHeight: function() { return textHeight(this.display) },\r\n    defaultCharWidth: function() { return charWidth(this.display) },\r\n\r\n    getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\r\n\r\n    addWidget: function(pos, node, scroll, vert, horiz) {\r\n      var display = this.display\r\n      pos = cursorCoords(this, clipPos(this.doc, pos))\r\n      var top = pos.bottom, left = pos.left\r\n      node.style.position = \"absolute\"\r\n      node.setAttribute(\"cm-ignore-events\", \"true\")\r\n      this.display.input.setUneditable(node)\r\n      display.sizer.appendChild(node)\r\n      if (vert == \"over\") {\r\n        top = pos.top\r\n      } else if (vert == \"above\" || vert == \"near\") {\r\n        var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\r\n        hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth)\r\n        // Default to positioning above (if specified and possible); otherwise default to positioning below\r\n        if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\r\n          { top = pos.top - node.offsetHeight }\r\n        else if (pos.bottom + node.offsetHeight <= vspace)\r\n          { top = pos.bottom }\r\n        if (left + node.offsetWidth > hspace)\r\n          { left = hspace - node.offsetWidth }\r\n      }\r\n      node.style.top = top + \"px\"\r\n      node.style.left = node.style.right = \"\"\r\n      if (horiz == \"right\") {\r\n        left = display.sizer.clientWidth - node.offsetWidth\r\n        node.style.right = \"0px\"\r\n      } else {\r\n        if (horiz == \"left\") { left = 0 }\r\n        else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2 }\r\n        node.style.left = left + \"px\"\r\n      }\r\n      if (scroll)\r\n        { scrollIntoView(this, left, top, left + node.offsetWidth, top + node.offsetHeight) }\r\n    },\r\n\r\n    triggerOnKeyDown: methodOp(onKeyDown),\r\n    triggerOnKeyPress: methodOp(onKeyPress),\r\n    triggerOnKeyUp: onKeyUp,\r\n\r\n    execCommand: function(cmd) {\r\n      if (commands.hasOwnProperty(cmd))\r\n        { return commands[cmd].call(null, this) }\r\n    },\r\n\r\n    triggerElectric: methodOp(function(text) { triggerElectric(this, text) }),\r\n\r\n    findPosH: function(from, amount, unit, visually) {\r\n      var this$1 = this;\r\n\r\n      var dir = 1\r\n      if (amount < 0) { dir = -1; amount = -amount }\r\n      var cur = clipPos(this.doc, from)\r\n      for (var i = 0; i < amount; ++i) {\r\n        cur = findPosH(this$1.doc, cur, dir, unit, visually)\r\n        if (cur.hitSide) { break }\r\n      }\r\n      return cur\r\n    },\r\n\r\n    moveH: methodOp(function(dir, unit) {\r\n      var this$1 = this;\r\n\r\n      this.extendSelectionsBy(function (range) {\r\n        if (this$1.display.shift || this$1.doc.extend || range.empty())\r\n          { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\r\n        else\r\n          { return dir < 0 ? range.from() : range.to() }\r\n      }, sel_move)\r\n    }),\r\n\r\n    deleteH: methodOp(function(dir, unit) {\r\n      var sel = this.doc.sel, doc = this.doc\r\n      if (sel.somethingSelected())\r\n        { doc.replaceSelection(\"\", null, \"+delete\") }\r\n      else\r\n        { deleteNearSelection(this, function (range) {\r\n          var other = findPosH(doc, range.head, dir, unit, false)\r\n          return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\r\n        }) }\r\n    }),\r\n\r\n    findPosV: function(from, amount, unit, goalColumn) {\r\n      var this$1 = this;\r\n\r\n      var dir = 1, x = goalColumn\r\n      if (amount < 0) { dir = -1; amount = -amount }\r\n      var cur = clipPos(this.doc, from)\r\n      for (var i = 0; i < amount; ++i) {\r\n        var coords = cursorCoords(this$1, cur, \"div\")\r\n        if (x == null) { x = coords.left }\r\n        else { coords.left = x }\r\n        cur = findPosV(this$1, coords, dir, unit)\r\n        if (cur.hitSide) { break }\r\n      }\r\n      return cur\r\n    },\r\n\r\n    moveV: methodOp(function(dir, unit) {\r\n      var this$1 = this;\r\n\r\n      var doc = this.doc, goals = []\r\n      var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected()\r\n      doc.extendSelectionsBy(function (range) {\r\n        if (collapse)\r\n          { return dir < 0 ? range.from() : range.to() }\r\n        var headPos = cursorCoords(this$1, range.head, \"div\")\r\n        if (range.goalColumn != null) { headPos.left = range.goalColumn }\r\n        goals.push(headPos.left)\r\n        var pos = findPosV(this$1, headPos, dir, unit)\r\n        if (unit == \"page\" && range == doc.sel.primary())\r\n          { addToScrollPos(this$1, null, charCoords(this$1, pos, \"div\").top - headPos.top) }\r\n        return pos\r\n      }, sel_move)\r\n      if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\r\n        { doc.sel.ranges[i].goalColumn = goals[i] } }\r\n    }),\r\n\r\n    // Find the word at the given position (as returned by coordsChar).\r\n    findWordAt: function(pos) {\r\n      var doc = this.doc, line = getLine(doc, pos.line).text\r\n      var start = pos.ch, end = pos.ch\r\n      if (line) {\r\n        var helper = this.getHelper(pos, \"wordChars\")\r\n        if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end }\r\n        var startChar = line.charAt(start)\r\n        var check = isWordChar(startChar, helper)\r\n          ? function (ch) { return isWordChar(ch, helper); }\r\n          : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\r\n          : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); }\r\n        while (start > 0 && check(line.charAt(start - 1))) { --start }\r\n        while (end < line.length && check(line.charAt(end))) { ++end }\r\n      }\r\n      return new Range(Pos(pos.line, start), Pos(pos.line, end))\r\n    },\r\n\r\n    toggleOverwrite: function(value) {\r\n      if (value != null && value == this.state.overwrite) { return }\r\n      if (this.state.overwrite = !this.state.overwrite)\r\n        { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\") }\r\n      else\r\n        { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\") }\r\n\r\n      signal(this, \"overwriteToggle\", this, this.state.overwrite)\r\n    },\r\n    hasFocus: function() { return this.display.input.getField() == activeElt() },\r\n    isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\r\n\r\n    scrollTo: methodOp(function(x, y) {\r\n      if (x != null || y != null) { resolveScrollToPos(this) }\r\n      if (x != null) { this.curOp.scrollLeft = x }\r\n      if (y != null) { this.curOp.scrollTop = y }\r\n    }),\r\n    getScrollInfo: function() {\r\n      var scroller = this.display.scroller\r\n      return {left: scroller.scrollLeft, top: scroller.scrollTop,\r\n              height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\r\n              width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\r\n              clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\r\n    },\r\n\r\n    scrollIntoView: methodOp(function(range, margin) {\r\n      if (range == null) {\r\n        range = {from: this.doc.sel.primary().head, to: null}\r\n        if (margin == null) { margin = this.options.cursorScrollMargin }\r\n      } else if (typeof range == \"number\") {\r\n        range = {from: Pos(range, 0), to: null}\r\n      } else if (range.from == null) {\r\n        range = {from: range, to: null}\r\n      }\r\n      if (!range.to) { range.to = range.from }\r\n      range.margin = margin || 0\r\n\r\n      if (range.from.line != null) {\r\n        resolveScrollToPos(this)\r\n        this.curOp.scrollToPos = range\r\n      } else {\r\n        var sPos = calculateScrollPos(this, Math.min(range.from.left, range.to.left),\r\n                                      Math.min(range.from.top, range.to.top) - range.margin,\r\n                                      Math.max(range.from.right, range.to.right),\r\n                                      Math.max(range.from.bottom, range.to.bottom) + range.margin)\r\n        this.scrollTo(sPos.scrollLeft, sPos.scrollTop)\r\n      }\r\n    }),\r\n\r\n    setSize: methodOp(function(width, height) {\r\n      var this$1 = this;\r\n\r\n      var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; }\r\n      if (width != null) { this.display.wrapper.style.width = interpret(width) }\r\n      if (height != null) { this.display.wrapper.style.height = interpret(height) }\r\n      if (this.options.lineWrapping) { clearLineMeasurementCache(this) }\r\n      var lineNo = this.display.viewFrom\r\n      this.doc.iter(lineNo, this.display.viewTo, function (line) {\r\n        if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\r\n          { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\r\n        ++lineNo\r\n      })\r\n      this.curOp.forceUpdate = true\r\n      signal(this, \"refresh\", this)\r\n    }),\r\n\r\n    operation: function(f){return runInOp(this, f)},\r\n\r\n    refresh: methodOp(function() {\r\n      var oldHeight = this.display.cachedTextHeight\r\n      regChange(this)\r\n      this.curOp.forceUpdate = true\r\n      clearCaches(this)\r\n      this.scrollTo(this.doc.scrollLeft, this.doc.scrollTop)\r\n      updateGutterSpace(this)\r\n      if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)\r\n        { estimateLineHeights(this) }\r\n      signal(this, \"refresh\", this)\r\n    }),\r\n\r\n    swapDoc: methodOp(function(doc) {\r\n      var old = this.doc\r\n      old.cm = null\r\n      attachDoc(this, doc)\r\n      clearCaches(this)\r\n      this.display.input.reset()\r\n      this.scrollTo(doc.scrollLeft, doc.scrollTop)\r\n      this.curOp.forceScroll = true\r\n      signalLater(this, \"swapDoc\", this, old)\r\n      return old\r\n    }),\r\n\r\n    getInputField: function(){return this.display.input.getField()},\r\n    getWrapperElement: function(){return this.display.wrapper},\r\n    getScrollerElement: function(){return this.display.scroller},\r\n    getGutterElement: function(){return this.display.gutters}\r\n  }\r\n  eventMixin(CodeMirror)\r\n\r\n  CodeMirror.registerHelper = function(type, name, value) {\r\n    if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []} }\r\n    helpers[type][name] = value\r\n  }\r\n  CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\r\n    CodeMirror.registerHelper(type, name, value)\r\n    helpers[type]._global.push({pred: predicate, val: value})\r\n  }\r\n}\r\n\r\n// Used for horizontal relative motion. Dir is -1 or 1 (left or\r\n// right), unit can be \"char\", \"column\" (like char, but doesn't\r\n// cross line boundaries), \"word\" (across next word), or \"group\" (to\r\n// the start of next group of word or non-word-non-whitespace\r\n// chars). The visually param controls whether, in right-to-left\r\n// text, direction 1 means to move towards the next index in the\r\n// string, or towards the character to the right of the current\r\n// position. The resulting position will have a hitSide=true\r\n// property if it reached the end of the document.\r\nfunction findPosH(doc, pos, dir, unit, visually) {\r\n  var oldPos = pos\r\n  var origDir = dir\r\n  var lineObj = getLine(doc, pos.line)\r\n  function findNextLine() {\r\n    var l = pos.line + dir\r\n    if (l < doc.first || l >= doc.first + doc.size) { return false }\r\n    pos = new Pos(l, pos.ch, pos.sticky)\r\n    return lineObj = getLine(doc, l)\r\n  }\r\n  function moveOnce(boundToLine) {\r\n    var next\r\n    if (visually) {\r\n      next = moveVisually(doc.cm, lineObj, pos, dir)\r\n    } else {\r\n      next = moveLogically(lineObj, pos, dir)\r\n    }\r\n    if (next == null) {\r\n      if (!boundToLine && findNextLine())\r\n        { pos = endOfLine(visually, doc.cm, lineObj, pos.line, dir) }\r\n      else\r\n        { return false }\r\n    } else {\r\n      pos = next\r\n    }\r\n    return true\r\n  }\r\n\r\n  if (unit == \"char\") {\r\n    moveOnce()\r\n  } else if (unit == \"column\") {\r\n    moveOnce(true)\r\n  } else if (unit == \"word\" || unit == \"group\") {\r\n    var sawType = null, group = unit == \"group\"\r\n    var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\")\r\n    for (var first = true;; first = false) {\r\n      if (dir < 0 && !moveOnce(!first)) { break }\r\n      var cur = lineObj.text.charAt(pos.ch) || \"\\n\"\r\n      var type = isWordChar(cur, helper) ? \"w\"\r\n        : group && cur == \"\\n\" ? \"n\"\r\n        : !group || /\\s/.test(cur) ? null\r\n        : \"p\"\r\n      if (group && !first && !type) { type = \"s\" }\r\n      if (sawType && sawType != type) {\r\n        if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\"}\r\n        break\r\n      }\r\n\r\n      if (type) { sawType = type }\r\n      if (dir > 0 && !moveOnce(!first)) { break }\r\n    }\r\n  }\r\n  var result = skipAtomic(doc, pos, oldPos, origDir, true)\r\n  if (equalCursorPos(oldPos, result)) { result.hitSide = true }\r\n  return result\r\n}\r\n\r\n// For relative vertical movement. Dir may be -1 or 1. Unit can be\r\n// \"page\" or \"line\". The resulting position will have a hitSide=true\r\n// property if it reached the end of the document.\r\nfunction findPosV(cm, pos, dir, unit) {\r\n  var doc = cm.doc, x = pos.left, y\r\n  if (unit == \"page\") {\r\n    var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight)\r\n    var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3)\r\n    y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount\r\n\r\n  } else if (unit == \"line\") {\r\n    y = dir > 0 ? pos.bottom + 3 : pos.top - 3\r\n  }\r\n  var target\r\n  for (;;) {\r\n    target = coordsChar(cm, x, y)\r\n    if (!target.outside) { break }\r\n    if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\r\n    y += dir * 5\r\n  }\r\n  return target\r\n}\r\n\r\n// CONTENTEDITABLE INPUT STYLE\r\n\r\nvar ContentEditableInput = function(cm) {\r\n  this.cm = cm\r\n  this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null\r\n  this.polling = new Delayed()\r\n  this.composing = null\r\n  this.gracePeriod = false\r\n  this.readDOMTimeout = null\r\n};\r\n\r\nContentEditableInput.prototype.init = function (display) {\r\n    var this$1 = this;\r\n\r\n  var input = this, cm = input.cm\r\n  var div = input.div = display.lineDiv\r\n  disableBrowserMagic(div, cm.options.spellcheck)\r\n\r\n  on(div, \"paste\", function (e) {\r\n    if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\r\n    // IE doesn't fire input events, so we schedule a read for the pasted content in this way\r\n    if (ie_version <= 11) { setTimeout(operation(cm, function () {\r\n      if (!input.pollContent()) { regChange(cm) }\r\n    }), 20) }\r\n  })\r\n\r\n  on(div, \"compositionstart\", function (e) {\r\n    this$1.composing = {data: e.data, done: false}\r\n  })\r\n  on(div, \"compositionupdate\", function (e) {\r\n    if (!this$1.composing) { this$1.composing = {data: e.data, done: false} }\r\n  })\r\n  on(div, \"compositionend\", function (e) {\r\n    if (this$1.composing) {\r\n      if (e.data != this$1.composing.data) { this$1.readFromDOMSoon() }\r\n      this$1.composing.done = true\r\n    }\r\n  })\r\n\r\n  on(div, \"touchstart\", function () { return input.forceCompositionEnd(); })\r\n\r\n  on(div, \"input\", function () {\r\n    if (!this$1.composing) { this$1.readFromDOMSoon() }\r\n  })\r\n\r\n  function onCopyCut(e) {\r\n    if (signalDOMEvent(cm, e)) { return }\r\n    if (cm.somethingSelected()) {\r\n      setLastCopied({lineWise: false, text: cm.getSelections()})\r\n      if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\") }\r\n    } else if (!cm.options.lineWiseCopyCut) {\r\n      return\r\n    } else {\r\n      var ranges = copyableRanges(cm)\r\n      setLastCopied({lineWise: true, text: ranges.text})\r\n      if (e.type == \"cut\") {\r\n        cm.operation(function () {\r\n          cm.setSelections(ranges.ranges, 0, sel_dontScroll)\r\n          cm.replaceSelection(\"\", null, \"cut\")\r\n        })\r\n      }\r\n    }\r\n    if (e.clipboardData) {\r\n      e.clipboardData.clearData()\r\n      var content = lastCopied.text.join(\"\\n\")\r\n      // iOS exposes the clipboard API, but seems to discard content inserted into it\r\n      e.clipboardData.setData(\"Text\", content)\r\n      if (e.clipboardData.getData(\"Text\") == content) {\r\n        e.preventDefault()\r\n        return\r\n      }\r\n    }\r\n    // Old-fashioned briefly-focus-a-textarea hack\r\n    var kludge = hiddenTextarea(), te = kludge.firstChild\r\n    cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild)\r\n    te.value = lastCopied.text.join(\"\\n\")\r\n    var hadFocus = document.activeElement\r\n    selectInput(te)\r\n    setTimeout(function () {\r\n      cm.display.lineSpace.removeChild(kludge)\r\n      hadFocus.focus()\r\n      if (hadFocus == div) { input.showPrimarySelection() }\r\n    }, 50)\r\n  }\r\n  on(div, \"copy\", onCopyCut)\r\n  on(div, \"cut\", onCopyCut)\r\n};\r\n\r\nContentEditableInput.prototype.prepareSelection = function () {\r\n  var result = prepareSelection(this.cm, false)\r\n  result.focus = this.cm.state.focused\r\n  return result\r\n};\r\n\r\nContentEditableInput.prototype.showSelection = function (info, takeFocus) {\r\n  if (!info || !this.cm.display.view.length) { return }\r\n  if (info.focus || takeFocus) { this.showPrimarySelection() }\r\n  this.showMultipleSelections(info)\r\n};\r\n\r\nContentEditableInput.prototype.showPrimarySelection = function () {\r\n  var sel = window.getSelection(), prim = this.cm.doc.sel.primary()\r\n  var curAnchor = domToPos(this.cm, sel.anchorNode, sel.anchorOffset)\r\n  var curFocus = domToPos(this.cm, sel.focusNode, sel.focusOffset)\r\n  if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\r\n      cmp(minPos(curAnchor, curFocus), prim.from()) == 0 &&\r\n      cmp(maxPos(curAnchor, curFocus), prim.to()) == 0)\r\n    { return }\r\n\r\n  var start = posToDOM(this.cm, prim.from())\r\n  var end = posToDOM(this.cm, prim.to())\r\n  if (!start && !end) { return }\r\n\r\n  var view = this.cm.display.view\r\n  var old = sel.rangeCount && sel.getRangeAt(0)\r\n  if (!start) {\r\n    start = {node: view[0].measure.map[2], offset: 0}\r\n  } else if (!end) { // FIXME dangerously hacky\r\n    var measure = view[view.length - 1].measure\r\n    var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map\r\n    end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]}\r\n  }\r\n\r\n  var rng\r\n  try { rng = range(start.node, start.offset, end.offset, end.node) }\r\n  catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\r\n  if (rng) {\r\n    if (!gecko && this.cm.state.focused) {\r\n      sel.collapse(start.node, start.offset)\r\n      if (!rng.collapsed) {\r\n        sel.removeAllRanges()\r\n        sel.addRange(rng)\r\n      }\r\n    } else {\r\n      sel.removeAllRanges()\r\n      sel.addRange(rng)\r\n    }\r\n    if (old && sel.anchorNode == null) { sel.addRange(old) }\r\n    else if (gecko) { this.startGracePeriod() }\r\n  }\r\n  this.rememberSelection()\r\n};\r\n\r\nContentEditableInput.prototype.startGracePeriod = function () {\r\n    var this$1 = this;\r\n\r\n  clearTimeout(this.gracePeriod)\r\n  this.gracePeriod = setTimeout(function () {\r\n    this$1.gracePeriod = false\r\n    if (this$1.selectionChanged())\r\n      { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }) }\r\n  }, 20)\r\n};\r\n\r\nContentEditableInput.prototype.showMultipleSelections = function (info) {\r\n  removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors)\r\n  removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection)\r\n};\r\n\r\nContentEditableInput.prototype.rememberSelection = function () {\r\n  var sel = window.getSelection()\r\n  this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset\r\n  this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset\r\n};\r\n\r\nContentEditableInput.prototype.selectionInEditor = function () {\r\n  var sel = window.getSelection()\r\n  if (!sel.rangeCount) { return false }\r\n  var node = sel.getRangeAt(0).commonAncestorContainer\r\n  return contains(this.div, node)\r\n};\r\n\r\nContentEditableInput.prototype.focus = function () {\r\n  if (this.cm.options.readOnly != \"nocursor\") {\r\n    if (!this.selectionInEditor())\r\n      { this.showSelection(this.prepareSelection(), true) }\r\n    this.div.focus()\r\n  }\r\n};\r\nContentEditableInput.prototype.blur = function () { this.div.blur() };\r\nContentEditableInput.prototype.getField = function () { return this.div };\r\n\r\nContentEditableInput.prototype.supportsTouch = function () { return true };\r\n\r\nContentEditableInput.prototype.receivedFocus = function () {\r\n  var input = this\r\n  if (this.selectionInEditor())\r\n    { this.pollSelection() }\r\n  else\r\n    { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }) }\r\n\r\n  function poll() {\r\n    if (input.cm.state.focused) {\r\n      input.pollSelection()\r\n      input.polling.set(input.cm.options.pollInterval, poll)\r\n    }\r\n  }\r\n  this.polling.set(this.cm.options.pollInterval, poll)\r\n};\r\n\r\nContentEditableInput.prototype.selectionChanged = function () {\r\n  var sel = window.getSelection()\r\n  return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\r\n    sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\r\n};\r\n\r\nContentEditableInput.prototype.pollSelection = function () {\r\n  if (!this.composing && this.readDOMTimeout == null && !this.gracePeriod && this.selectionChanged()) {\r\n    var sel = window.getSelection(), cm = this.cm\r\n    this.rememberSelection()\r\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset)\r\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset)\r\n    if (anchor && head) { runInOp(cm, function () {\r\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll)\r\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true }\r\n    }) }\r\n  }\r\n};\r\n\r\nContentEditableInput.prototype.pollContent = function () {\r\n  if (this.readDOMTimeout != null) {\r\n    clearTimeout(this.readDOMTimeout)\r\n    this.readDOMTimeout = null\r\n  }\r\n\r\n  var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary()\r\n  var from = sel.from(), to = sel.to()\r\n  if (from.ch == 0 && from.line > cm.firstLine())\r\n    { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length) }\r\n  if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\r\n    { to = Pos(to.line + 1, 0) }\r\n  if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\r\n\r\n  var fromIndex, fromLine, fromNode\r\n  if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\r\n    fromLine = lineNo(display.view[0].line)\r\n    fromNode = display.view[0].node\r\n  } else {\r\n    fromLine = lineNo(display.view[fromIndex].line)\r\n    fromNode = display.view[fromIndex - 1].node.nextSibling\r\n  }\r\n  var toIndex = findViewIndex(cm, to.line)\r\n  var toLine, toNode\r\n  if (toIndex == display.view.length - 1) {\r\n    toLine = display.viewTo - 1\r\n    toNode = display.lineDiv.lastChild\r\n  } else {\r\n    toLine = lineNo(display.view[toIndex + 1].line) - 1\r\n    toNode = display.view[toIndex + 1].node.previousSibling\r\n  }\r\n\r\n  if (!fromNode) { return false }\r\n  var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine))\r\n  var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length))\r\n  while (newText.length > 1 && oldText.length > 1) {\r\n    if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine-- }\r\n    else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++ }\r\n    else { break }\r\n  }\r\n\r\n  var cutFront = 0, cutEnd = 0\r\n  var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length)\r\n  while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\r\n    { ++cutFront }\r\n  var newBot = lst(newText), oldBot = lst(oldText)\r\n  var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\r\n                           oldBot.length - (oldText.length == 1 ? cutFront : 0))\r\n  while (cutEnd < maxCutEnd &&\r\n         newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\r\n    { ++cutEnd }\r\n\r\n  newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\")\r\n  newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\")\r\n\r\n  var chFrom = Pos(fromLine, cutFront)\r\n  var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0)\r\n  if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\r\n    replaceRange(cm.doc, newText, chFrom, chTo, \"+input\")\r\n    return true\r\n  }\r\n};\r\n\r\nContentEditableInput.prototype.ensurePolled = function () {\r\n  this.forceCompositionEnd()\r\n};\r\nContentEditableInput.prototype.reset = function () {\r\n  this.forceCompositionEnd()\r\n};\r\nContentEditableInput.prototype.forceCompositionEnd = function () {\r\n  if (!this.composing) { return }\r\n  clearTimeout(this.readDOMTimeout)\r\n  this.composing = null\r\n  if (!this.pollContent()) { regChange(this.cm) }\r\n  this.div.blur()\r\n  this.div.focus()\r\n};\r\nContentEditableInput.prototype.readFromDOMSoon = function () {\r\n    var this$1 = this;\r\n\r\n  if (this.readDOMTimeout != null) { return }\r\n  this.readDOMTimeout = setTimeout(function () {\r\n    this$1.readDOMTimeout = null\r\n    if (this$1.composing) {\r\n      if (this$1.composing.done) { this$1.composing = null }\r\n      else { return }\r\n    }\r\n    if (this$1.cm.isReadOnly() || !this$1.pollContent())\r\n      { runInOp(this$1.cm, function () { return regChange(this$1.cm); }) }\r\n  }, 80)\r\n};\r\n\r\nContentEditableInput.prototype.setUneditable = function (node) {\r\n  node.contentEditable = \"false\"\r\n};\r\n\r\nContentEditableInput.prototype.onKeyPress = function (e) {\r\n  if (e.charCode == 0) { return }\r\n  e.preventDefault()\r\n  if (!this.cm.isReadOnly())\r\n    { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0) }\r\n};\r\n\r\nContentEditableInput.prototype.readOnlyChanged = function (val) {\r\n  this.div.contentEditable = String(val != \"nocursor\")\r\n};\r\n\r\nContentEditableInput.prototype.onContextMenu = function () {};\r\nContentEditableInput.prototype.resetPosition = function () {};\r\n\r\nContentEditableInput.prototype.needsContentAttribute = true\r\n\r\nfunction posToDOM(cm, pos) {\r\n  var view = findViewForLine(cm, pos.line)\r\n  if (!view || view.hidden) { return null }\r\n  var line = getLine(cm.doc, pos.line)\r\n  var info = mapFromLineView(view, line, pos.line)\r\n\r\n  var order = getOrder(line), side = \"left\"\r\n  if (order) {\r\n    var partPos = getBidiPartAt(order, pos.ch)\r\n    side = partPos % 2 ? \"right\" : \"left\"\r\n  }\r\n  var result = nodeAndOffsetInLineMap(info.map, pos.ch, side)\r\n  result.offset = result.collapse == \"right\" ? result.end : result.start\r\n  return result\r\n}\r\n\r\nfunction badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\r\n\r\nfunction domTextBetween(cm, from, to, fromLine, toLine) {\r\n  var text = \"\", closing = false, lineSep = cm.doc.lineSeparator()\r\n  function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\r\n  function walk(node) {\r\n    if (node.nodeType == 1) {\r\n      var cmText = node.getAttribute(\"cm-text\")\r\n      if (cmText != null) {\r\n        if (cmText == \"\") { text += node.textContent.replace(/\\u200b/g, \"\") }\r\n        else { text += cmText }\r\n        return\r\n      }\r\n      var markerID = node.getAttribute(\"cm-marker\"), range\r\n      if (markerID) {\r\n        var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID))\r\n        if (found.length && (range = found[0].find()))\r\n          { text += getBetween(cm.doc, range.from, range.to).join(lineSep) }\r\n        return\r\n      }\r\n      if (node.getAttribute(\"contenteditable\") == \"false\") { return }\r\n      for (var i = 0; i < node.childNodes.length; i++)\r\n        { walk(node.childNodes[i]) }\r\n      if (/^(pre|div|p)$/i.test(node.nodeName))\r\n        { closing = true }\r\n    } else if (node.nodeType == 3) {\r\n      var val = node.nodeValue\r\n      if (!val) { return }\r\n      if (closing) {\r\n        text += lineSep\r\n        closing = false\r\n      }\r\n      text += val\r\n    }\r\n  }\r\n  for (;;) {\r\n    walk(from)\r\n    if (from == to) { break }\r\n    from = from.nextSibling\r\n  }\r\n  return text\r\n}\r\n\r\nfunction domToPos(cm, node, offset) {\r\n  var lineNode\r\n  if (node == cm.display.lineDiv) {\r\n    lineNode = cm.display.lineDiv.childNodes[offset]\r\n    if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\r\n    node = null; offset = 0\r\n  } else {\r\n    for (lineNode = node;; lineNode = lineNode.parentNode) {\r\n      if (!lineNode || lineNode == cm.display.lineDiv) { return null }\r\n      if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\r\n    }\r\n  }\r\n  for (var i = 0; i < cm.display.view.length; i++) {\r\n    var lineView = cm.display.view[i]\r\n    if (lineView.node == lineNode)\r\n      { return locateNodeInLineView(lineView, node, offset) }\r\n  }\r\n}\r\n\r\nfunction locateNodeInLineView(lineView, node, offset) {\r\n  var wrapper = lineView.text.firstChild, bad = false\r\n  if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\r\n  if (node == wrapper) {\r\n    bad = true\r\n    node = wrapper.childNodes[offset]\r\n    offset = 0\r\n    if (!node) {\r\n      var line = lineView.rest ? lst(lineView.rest) : lineView.line\r\n      return badPos(Pos(lineNo(line), line.text.length), bad)\r\n    }\r\n  }\r\n\r\n  var textNode = node.nodeType == 3 ? node : null, topNode = node\r\n  if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\r\n    textNode = node.firstChild\r\n    if (offset) { offset = textNode.nodeValue.length }\r\n  }\r\n  while (topNode.parentNode != wrapper) { topNode = topNode.parentNode }\r\n  var measure = lineView.measure, maps = measure.maps\r\n\r\n  function find(textNode, topNode, offset) {\r\n    for (var i = -1; i < (maps ? maps.length : 0); i++) {\r\n      var map = i < 0 ? measure.map : maps[i]\r\n      for (var j = 0; j < map.length; j += 3) {\r\n        var curNode = map[j + 2]\r\n        if (curNode == textNode || curNode == topNode) {\r\n          var line = lineNo(i < 0 ? lineView.line : lineView.rest[i])\r\n          var ch = map[j] + offset\r\n          if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)] }\r\n          return Pos(line, ch)\r\n        }\r\n      }\r\n    }\r\n  }\r\n  var found = find(textNode, topNode, offset)\r\n  if (found) { return badPos(found, bad) }\r\n\r\n  // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\r\n  for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\r\n    found = find(after, after.firstChild, 0)\r\n    if (found)\r\n      { return badPos(Pos(found.line, found.ch - dist), bad) }\r\n    else\r\n      { dist += after.textContent.length }\r\n  }\r\n  for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\r\n    found = find(before, before.firstChild, -1)\r\n    if (found)\r\n      { return badPos(Pos(found.line, found.ch + dist$1), bad) }\r\n    else\r\n      { dist$1 += before.textContent.length }\r\n  }\r\n}\r\n\r\n// TEXTAREA INPUT STYLE\r\n\r\nvar TextareaInput = function(cm) {\r\n  this.cm = cm\r\n  // See input.poll and input.reset\r\n  this.prevInput = \"\"\r\n\r\n  // Flag that indicates whether we expect input to appear real soon\r\n  // now (after some event like 'keypress' or 'input') and are\r\n  // polling intensively.\r\n  this.pollingFast = false\r\n  // Self-resetting timeout for the poller\r\n  this.polling = new Delayed()\r\n  // Tracks when input.reset has punted to just putting a short\r\n  // string into the textarea instead of the full selection.\r\n  this.inaccurateSelection = false\r\n  // Used to work around IE issue with selection being forgotten when focus moves away from textarea\r\n  this.hasSelection = false\r\n  this.composing = null\r\n};\r\n\r\nTextareaInput.prototype.init = function (display) {\r\n    var this$1 = this;\r\n\r\n  var input = this, cm = this.cm\r\n\r\n  // Wraps and hides input textarea\r\n  var div = this.wrapper = hiddenTextarea()\r\n  // The semihidden textarea that is focused when the editor is\r\n  // focused, and receives input.\r\n  var te = this.textarea = div.firstChild\r\n  display.wrapper.insertBefore(div, display.wrapper.firstChild)\r\n\r\n  // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\r\n  if (ios) { te.style.width = \"0px\" }\r\n\r\n  on(te, \"input\", function () {\r\n    if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null }\r\n    input.poll()\r\n  })\r\n\r\n  on(te, \"paste\", function (e) {\r\n    if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\r\n\r\n    cm.state.pasteIncoming = true\r\n    input.fastPoll()\r\n  })\r\n\r\n  function prepareCopyCut(e) {\r\n    if (signalDOMEvent(cm, e)) { return }\r\n    if (cm.somethingSelected()) {\r\n      setLastCopied({lineWise: false, text: cm.getSelections()})\r\n      if (input.inaccurateSelection) {\r\n        input.prevInput = \"\"\r\n        input.inaccurateSelection = false\r\n        te.value = lastCopied.text.join(\"\\n\")\r\n        selectInput(te)\r\n      }\r\n    } else if (!cm.options.lineWiseCopyCut) {\r\n      return\r\n    } else {\r\n      var ranges = copyableRanges(cm)\r\n      setLastCopied({lineWise: true, text: ranges.text})\r\n      if (e.type == \"cut\") {\r\n        cm.setSelections(ranges.ranges, null, sel_dontScroll)\r\n      } else {\r\n        input.prevInput = \"\"\r\n        te.value = ranges.text.join(\"\\n\")\r\n        selectInput(te)\r\n      }\r\n    }\r\n    if (e.type == \"cut\") { cm.state.cutIncoming = true }\r\n  }\r\n  on(te, \"cut\", prepareCopyCut)\r\n  on(te, \"copy\", prepareCopyCut)\r\n\r\n  on(display.scroller, \"paste\", function (e) {\r\n    if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\r\n    cm.state.pasteIncoming = true\r\n    input.focus()\r\n  })\r\n\r\n  // Prevent normal selection in the editor (we handle our own)\r\n  on(display.lineSpace, \"selectstart\", function (e) {\r\n    if (!eventInWidget(display, e)) { e_preventDefault(e) }\r\n  })\r\n\r\n  on(te, \"compositionstart\", function () {\r\n    var start = cm.getCursor(\"from\")\r\n    if (input.composing) { input.composing.range.clear() }\r\n    input.composing = {\r\n      start: start,\r\n      range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\r\n    }\r\n  })\r\n  on(te, \"compositionend\", function () {\r\n    if (input.composing) {\r\n      input.poll()\r\n      input.composing.range.clear()\r\n      input.composing = null\r\n    }\r\n  })\r\n};\r\n\r\nTextareaInput.prototype.prepareSelection = function () {\r\n  // Redraw the selection and/or cursor\r\n  var cm = this.cm, display = cm.display, doc = cm.doc\r\n  var result = prepareSelection(cm)\r\n\r\n  // Move the hidden textarea near the cursor to prevent scrolling artifacts\r\n  if (cm.options.moveInputWithCursor) {\r\n    var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\")\r\n    var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect()\r\n    result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\r\n                                        headPos.top + lineOff.top - wrapOff.top))\r\n    result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\r\n                                         headPos.left + lineOff.left - wrapOff.left))\r\n  }\r\n\r\n  return result\r\n};\r\n\r\nTextareaInput.prototype.showSelection = function (drawn) {\r\n  var cm = this.cm, display = cm.display\r\n  removeChildrenAndAdd(display.cursorDiv, drawn.cursors)\r\n  removeChildrenAndAdd(display.selectionDiv, drawn.selection)\r\n  if (drawn.teTop != null) {\r\n    this.wrapper.style.top = drawn.teTop + \"px\"\r\n    this.wrapper.style.left = drawn.teLeft + \"px\"\r\n  }\r\n};\r\n\r\n// Reset the input to correspond to the selection (or to be empty,\r\n// when not typing and nothing is selected)\r\nTextareaInput.prototype.reset = function (typing) {\r\n  if (this.contextMenuPending) { return }\r\n  var minimal, selected, cm = this.cm, doc = cm.doc\r\n  if (cm.somethingSelected()) {\r\n    this.prevInput = \"\"\r\n    var range = doc.sel.primary()\r\n    minimal = hasCopyEvent &&\r\n      (range.to().line - range.from().line > 100 || (selected = cm.getSelection()).length > 1000)\r\n    var content = minimal ? \"-\" : selected || cm.getSelection()\r\n    this.textarea.value = content\r\n    if (cm.state.focused) { selectInput(this.textarea) }\r\n    if (ie && ie_version >= 9) { this.hasSelection = content }\r\n  } else if (!typing) {\r\n    this.prevInput = this.textarea.value = \"\"\r\n    if (ie && ie_version >= 9) { this.hasSelection = null }\r\n  }\r\n  this.inaccurateSelection = minimal\r\n};\r\n\r\nTextareaInput.prototype.getField = function () { return this.textarea };\r\n\r\nTextareaInput.prototype.supportsTouch = function () { return false };\r\n\r\nTextareaInput.prototype.focus = function () {\r\n  if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\r\n    try { this.textarea.focus() }\r\n    catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\r\n  }\r\n};\r\n\r\nTextareaInput.prototype.blur = function () { this.textarea.blur() };\r\n\r\nTextareaInput.prototype.resetPosition = function () {\r\n  this.wrapper.style.top = this.wrapper.style.left = 0\r\n};\r\n\r\nTextareaInput.prototype.receivedFocus = function () { this.slowPoll() };\r\n\r\n// Poll for input changes, using the normal rate of polling. This\r\n// runs as long as the editor is focused.\r\nTextareaInput.prototype.slowPoll = function () {\r\n    var this$1 = this;\r\n\r\n  if (this.pollingFast) { return }\r\n  this.polling.set(this.cm.options.pollInterval, function () {\r\n    this$1.poll()\r\n    if (this$1.cm.state.focused) { this$1.slowPoll() }\r\n  })\r\n};\r\n\r\n// When an event has just come in that is likely to add or change\r\n// something in the input textarea, we poll faster, to ensure that\r\n// the change appears on the screen quickly.\r\nTextareaInput.prototype.fastPoll = function () {\r\n  var missed = false, input = this\r\n  input.pollingFast = true\r\n  function p() {\r\n    var changed = input.poll()\r\n    if (!changed && !missed) {missed = true; input.polling.set(60, p)}\r\n    else {input.pollingFast = false; input.slowPoll()}\r\n  }\r\n  input.polling.set(20, p)\r\n};\r\n\r\n// Read input from the textarea, and update the document to match.\r\n// When something is selected, it is present in the textarea, and\r\n// selected (unless it is huge, in which case a placeholder is\r\n// used). When nothing is selected, the cursor sits after previously\r\n// seen text (can be empty), which is stored in prevInput (we must\r\n// not reset the textarea when typing, because that breaks IME).\r\nTextareaInput.prototype.poll = function () {\r\n    var this$1 = this;\r\n\r\n  var cm = this.cm, input = this.textarea, prevInput = this.prevInput\r\n  // Since this is called a *lot*, try to bail out as cheaply as\r\n  // possible when it is clear that nothing happened. hasSelection\r\n  // will be the case when there is a lot of text in the textarea,\r\n  // in which case reading its value would be expensive.\r\n  if (this.contextMenuPending || !cm.state.focused ||\r\n      (hasSelection(input) && !prevInput && !this.composing) ||\r\n      cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\r\n    { return false }\r\n\r\n  var text = input.value\r\n  // If nothing changed, bail.\r\n  if (text == prevInput && !cm.somethingSelected()) { return false }\r\n  // Work around nonsensical selection resetting in IE9/10, and\r\n  // inexplicable appearance of private area unicode characters on\r\n  // some key combos in Mac (#2689).\r\n  if (ie && ie_version >= 9 && this.hasSelection === text ||\r\n      mac && /[\\uf700-\\uf7ff]/.test(text)) {\r\n    cm.display.input.reset()\r\n    return false\r\n  }\r\n\r\n  if (cm.doc.sel == cm.display.selForContextMenu) {\r\n    var first = text.charCodeAt(0)\r\n    if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\" }\r\n    if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\r\n  }\r\n  // Find the part of the input that is actually new\r\n  var same = 0, l = Math.min(prevInput.length, text.length)\r\n  while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same }\r\n\r\n  runInOp(cm, function () {\r\n    applyTextInput(cm, text.slice(same), prevInput.length - same,\r\n                   null, this$1.composing ? \"*compose\" : null)\r\n\r\n    // Don't leave long text in the textarea, since it makes further polling slow\r\n    if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\" }\r\n    else { this$1.prevInput = text }\r\n\r\n    if (this$1.composing) {\r\n      this$1.composing.range.clear()\r\n      this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\r\n                                         {className: \"CodeMirror-composing\"})\r\n    }\r\n  })\r\n  return true\r\n};\r\n\r\nTextareaInput.prototype.ensurePolled = function () {\r\n  if (this.pollingFast && this.poll()) { this.pollingFast = false }\r\n};\r\n\r\nTextareaInput.prototype.onKeyPress = function () {\r\n  if (ie && ie_version >= 9) { this.hasSelection = null }\r\n  this.fastPoll()\r\n};\r\n\r\nTextareaInput.prototype.onContextMenu = function (e) {\r\n  var input = this, cm = input.cm, display = cm.display, te = input.textarea\r\n  var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop\r\n  if (!pos || presto) { return } // Opera is difficult.\r\n\r\n  // Reset the current text selection only if the click is done outside of the selection\r\n  // and 'resetSelectionOnContextMenu' option is true.\r\n  var reset = cm.options.resetSelectionOnContextMenu\r\n  if (reset && cm.doc.sel.contains(pos) == -1)\r\n    { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll) }\r\n\r\n  var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText\r\n  input.wrapper.style.cssText = \"position: absolute\"\r\n  var wrapperBox = input.wrapper.getBoundingClientRect()\r\n  te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\"\r\n  var oldScrollY\r\n  if (webkit) { oldScrollY = window.scrollY } // Work around Chrome issue (#2712)\r\n  display.input.focus()\r\n  if (webkit) { window.scrollTo(null, oldScrollY) }\r\n  display.input.reset()\r\n  // Adds \"Select all\" to context menu in FF\r\n  if (!cm.somethingSelected()) { te.value = input.prevInput = \" \" }\r\n  input.contextMenuPending = true\r\n  display.selForContextMenu = cm.doc.sel\r\n  clearTimeout(display.detectingSelectAll)\r\n\r\n  // Select-all will be greyed out if there's nothing to select, so\r\n  // this adds a zero-width space so that we can later check whether\r\n  // it got selected.\r\n  function prepareSelectAllHack() {\r\n    if (te.selectionStart != null) {\r\n      var selected = cm.somethingSelected()\r\n      var extval = \"\\u200b\" + (selected ? te.value : \"\")\r\n      te.value = \"\\u21da\" // Used to catch context-menu undo\r\n      te.value = extval\r\n      input.prevInput = selected ? \"\" : \"\\u200b\"\r\n      te.selectionStart = 1; te.selectionEnd = extval.length\r\n      // Re-set this, in case some other handler touched the\r\n      // selection in the meantime.\r\n      display.selForContextMenu = cm.doc.sel\r\n    }\r\n  }\r\n  function rehide() {\r\n    input.contextMenuPending = false\r\n    input.wrapper.style.cssText = oldWrapperCSS\r\n    te.style.cssText = oldCSS\r\n    if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos) }\r\n\r\n    // Try to detect the user choosing select-all\r\n    if (te.selectionStart != null) {\r\n      if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack() }\r\n      var i = 0, poll = function () {\r\n        if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\r\n            te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\r\n          operation(cm, selectAll)(cm)\r\n        } else if (i++ < 10) {\r\n          display.detectingSelectAll = setTimeout(poll, 500)\r\n        } else {\r\n          display.selForContextMenu = null\r\n          display.input.reset()\r\n        }\r\n      }\r\n      display.detectingSelectAll = setTimeout(poll, 200)\r\n    }\r\n  }\r\n\r\n  if (ie && ie_version >= 9) { prepareSelectAllHack() }\r\n  if (captureRightClick) {\r\n    e_stop(e)\r\n    var mouseup = function () {\r\n      off(window, \"mouseup\", mouseup)\r\n      setTimeout(rehide, 20)\r\n    }\r\n    on(window, \"mouseup\", mouseup)\r\n  } else {\r\n    setTimeout(rehide, 50)\r\n  }\r\n};\r\n\r\nTextareaInput.prototype.readOnlyChanged = function (val) {\r\n  if (!val) { this.reset() }\r\n};\r\n\r\nTextareaInput.prototype.setUneditable = function () {};\r\n\r\nTextareaInput.prototype.needsContentAttribute = false\r\n\r\nfunction fromTextArea(textarea, options) {\r\n  options = options ? copyObj(options) : {}\r\n  options.value = textarea.value\r\n  if (!options.tabindex && textarea.tabIndex)\r\n    { options.tabindex = textarea.tabIndex }\r\n  if (!options.placeholder && textarea.placeholder)\r\n    { options.placeholder = textarea.placeholder }\r\n  // Set autofocus to true if this textarea is focused, or if it has\r\n  // autofocus and no other element is focused.\r\n  if (options.autofocus == null) {\r\n    var hasFocus = activeElt()\r\n    options.autofocus = hasFocus == textarea ||\r\n      textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body\r\n  }\r\n\r\n  function save() {textarea.value = cm.getValue()}\r\n\r\n  var realSubmit\r\n  if (textarea.form) {\r\n    on(textarea.form, \"submit\", save)\r\n    // Deplorable hack to make the submit method do the right thing.\r\n    if (!options.leaveSubmitMethodAlone) {\r\n      var form = textarea.form\r\n      realSubmit = form.submit\r\n      try {\r\n        var wrappedSubmit = form.submit = function () {\r\n          save()\r\n          form.submit = realSubmit\r\n          form.submit()\r\n          form.submit = wrappedSubmit\r\n        }\r\n      } catch(e) {}\r\n    }\r\n  }\r\n\r\n  options.finishInit = function (cm) {\r\n    cm.save = save\r\n    cm.getTextArea = function () { return textarea; }\r\n    cm.toTextArea = function () {\r\n      cm.toTextArea = isNaN // Prevent this from being ran twice\r\n      save()\r\n      textarea.parentNode.removeChild(cm.getWrapperElement())\r\n      textarea.style.display = \"\"\r\n      if (textarea.form) {\r\n        off(textarea.form, \"submit\", save)\r\n        if (typeof textarea.form.submit == \"function\")\r\n          { textarea.form.submit = realSubmit }\r\n      }\r\n    }\r\n  }\r\n\r\n  textarea.style.display = \"none\"\r\n  var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\r\n    options)\r\n  return cm\r\n}\r\n\r\nfunction addLegacyProps(CodeMirror) {\r\n  CodeMirror.off = off\r\n  CodeMirror.on = on\r\n  CodeMirror.wheelEventPixels = wheelEventPixels\r\n  CodeMirror.Doc = Doc\r\n  CodeMirror.splitLines = splitLinesAuto\r\n  CodeMirror.countColumn = countColumn\r\n  CodeMirror.findColumn = findColumn\r\n  CodeMirror.isWordChar = isWordCharBasic\r\n  CodeMirror.Pass = Pass\r\n  CodeMirror.signal = signal\r\n  CodeMirror.Line = Line\r\n  CodeMirror.changeEnd = changeEnd\r\n  CodeMirror.scrollbarModel = scrollbarModel\r\n  CodeMirror.Pos = Pos\r\n  CodeMirror.cmpPos = cmp\r\n  CodeMirror.modes = modes\r\n  CodeMirror.mimeModes = mimeModes\r\n  CodeMirror.resolveMode = resolveMode\r\n  CodeMirror.getMode = getMode\r\n  CodeMirror.modeExtensions = modeExtensions\r\n  CodeMirror.extendMode = extendMode\r\n  CodeMirror.copyState = copyState\r\n  CodeMirror.startState = startState\r\n  CodeMirror.innerMode = innerMode\r\n  CodeMirror.commands = commands\r\n  CodeMirror.keyMap = keyMap\r\n  CodeMirror.keyName = keyName\r\n  CodeMirror.isModifierKey = isModifierKey\r\n  CodeMirror.lookupKey = lookupKey\r\n  CodeMirror.normalizeKeyMap = normalizeKeyMap\r\n  CodeMirror.StringStream = StringStream\r\n  CodeMirror.SharedTextMarker = SharedTextMarker\r\n  CodeMirror.TextMarker = TextMarker\r\n  CodeMirror.LineWidget = LineWidget\r\n  CodeMirror.e_preventDefault = e_preventDefault\r\n  CodeMirror.e_stopPropagation = e_stopPropagation\r\n  CodeMirror.e_stop = e_stop\r\n  CodeMirror.addClass = addClass\r\n  CodeMirror.contains = contains\r\n  CodeMirror.rmClass = rmClass\r\n  CodeMirror.keyNames = keyNames\r\n}\r\n\r\n// EDITOR CONSTRUCTOR\r\n\r\ndefineOptions(CodeMirror)\r\n\r\naddEditorMethods(CodeMirror)\r\n\r\n// Set up methods on CodeMirror's prototype to redirect to the editor's document.\r\nvar dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \")\r\nfor (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\r\n  { CodeMirror.prototype[prop] = (function(method) {\r\n    return function() {return method.apply(this.doc, arguments)}\r\n  })(Doc.prototype[prop]) } }\r\n\r\neventMixin(Doc)\r\n\r\n// INPUT HANDLING\r\n\r\nCodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput}\r\n\r\n// MODE DEFINITION AND QUERYING\r\n\r\n// Extra arguments are stored as the mode's dependencies, which is\r\n// used by (legacy) mechanisms like loadmode.js to automatically\r\n// load a mode. (Preferred mechanism is the require/define calls.)\r\nCodeMirror.defineMode = function(name/*, mode, */) {\r\n  if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name }\r\n  defineMode.apply(this, arguments)\r\n}\r\n\r\nCodeMirror.defineMIME = defineMIME\r\n\r\n// Minimal default mode.\r\nCodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); })\r\nCodeMirror.defineMIME(\"text/plain\", \"null\")\r\n\r\n// EXTENSIONS\r\n\r\nCodeMirror.defineExtension = function (name, func) {\r\n  CodeMirror.prototype[name] = func\r\n}\r\nCodeMirror.defineDocExtension = function (name, func) {\r\n  Doc.prototype[name] = func\r\n}\r\n\r\nCodeMirror.fromTextArea = fromTextArea\r\n\r\naddLegacyProps(CodeMirror)\r\n\r\nCodeMirror.version = \"5.24.2\"\r\n\r\nreturn CodeMirror;\r\n\r\n})));\r\n\r\n// Brackets\r\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\r\n// Distributed under an MIT license: http://codemirror.net/LICENSE\r\n\r\n(function(mod) {\r\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\r\n    mod(require(\"../../lib/codemirror\"));\r\n  else if (typeof define == \"function\" && define.amd) // AMD\r\n    define([\"../../lib/codemirror\"], mod);\r\n  else // Plain browser env\r\n    mod(CodeMirror);\r\n})(function(CodeMirror) {\r\n  var defaults = {\r\n    pairs: \"()[]{}''\\\"\\\"\",\r\n    triples: \"\",\r\n    explode: \"[]{}\"\r\n  };\r\n\r\n  var Pos = CodeMirror.Pos;\r\n\r\n  CodeMirror.defineOption(\"autoCloseBrackets\", false, function(cm, val, old) {\r\n    if (old && old != CodeMirror.Init) {\r\n      cm.removeKeyMap(keyMap);\r\n      cm.state.closeBrackets = null;\r\n    }\r\n    if (val) {\r\n      cm.state.closeBrackets = val;\r\n      cm.addKeyMap(keyMap);\r\n    }\r\n  });\r\n\r\n  function getOption(conf, name) {\r\n    if (name == \"pairs\" && typeof conf == \"string\") return conf;\r\n    if (typeof conf == \"object\" && conf[name] != null) return conf[name];\r\n    return defaults[name];\r\n  }\r\n\r\n  var bind = defaults.pairs + \"`\";\r\n  var keyMap = {Backspace: handleBackspace, Enter: handleEnter};\r\n  for (var i = 0; i < bind.length; i++)\r\n    keyMap[\"'\" + bind.charAt(i) + \"'\"] = handler(bind.charAt(i));\r\n\r\n  function handler(ch) {\r\n    return function(cm) { return handleChar(cm, ch); };\r\n  }\r\n\r\n  function getConfig(cm) {\r\n    var deflt = cm.state.closeBrackets;\r\n    if (!deflt) return null;\r\n    var mode = cm.getModeAt(cm.getCursor());\r\n    return mode.closeBrackets || deflt;\r\n  }\r\n\r\n  function handleBackspace(cm) {\r\n    var conf = getConfig(cm);\r\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\r\n\r\n    var pairs = getOption(conf, \"pairs\");\r\n    var ranges = cm.listSelections();\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      if (!ranges[i].empty()) return CodeMirror.Pass;\r\n      var around = charsAround(cm, ranges[i].head);\r\n      if (!around || pairs.indexOf(around) % 2 != 0) return CodeMirror.Pass;\r\n    }\r\n    for (var i = ranges.length - 1; i >= 0; i--) {\r\n      var cur = ranges[i].head;\r\n      cm.replaceRange(\"\", Pos(cur.line, cur.ch - 1), Pos(cur.line, cur.ch + 1), \"+delete\");\r\n    }\r\n  }\r\n\r\n  function handleEnter(cm) {\r\n    var conf = getConfig(cm);\r\n    var explode = conf && getOption(conf, \"explode\");\r\n    if (!explode || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\r\n\r\n    var ranges = cm.listSelections();\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      if (!ranges[i].empty()) return CodeMirror.Pass;\r\n      var around = charsAround(cm, ranges[i].head);\r\n      if (!around || explode.indexOf(around) % 2 != 0) return CodeMirror.Pass;\r\n    }\r\n    cm.operation(function() {\r\n      cm.replaceSelection(\"\\n\\n\", null);\r\n      cm.execCommand(\"goCharLeft\");\r\n      ranges = cm.listSelections();\r\n      for (var i = 0; i < ranges.length; i++) {\r\n        var line = ranges[i].head.line;\r\n        cm.indentLine(line, null, true);\r\n        cm.indentLine(line + 1, null, true);\r\n      }\r\n    });\r\n  }\r\n\r\n  function contractSelection(sel) {\r\n    var inverted = CodeMirror.cmpPos(sel.anchor, sel.head) > 0;\r\n    return {anchor: new Pos(sel.anchor.line, sel.anchor.ch + (inverted ? -1 : 1)),\r\n            head: new Pos(sel.head.line, sel.head.ch + (inverted ? 1 : -1))};\r\n  }\r\n\r\n  function handleChar(cm, ch) {\r\n    var conf = getConfig(cm);\r\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\r\n\r\n    var pairs = getOption(conf, \"pairs\");\r\n    var pos = pairs.indexOf(ch);\r\n    if (pos == -1) return CodeMirror.Pass;\r\n    var triples = getOption(conf, \"triples\");\r\n\r\n    var identical = pairs.charAt(pos + 1) == ch;\r\n    var ranges = cm.listSelections();\r\n    var opening = pos % 2 == 0;\r\n\r\n    var type;\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      var range = ranges[i], cur = range.head, curType;\r\n      var next = cm.getRange(cur, Pos(cur.line, cur.ch + 1));\r\n      if (opening && !range.empty()) {\r\n        curType = \"surround\";\r\n      } else if ((identical || !opening) && next == ch) {\r\n        if (triples.indexOf(ch) >= 0 && cm.getRange(cur, Pos(cur.line, cur.ch + 3)) == ch + ch + ch)\r\n          curType = \"skipThree\";\r\n        else\r\n          curType = \"skip\";\r\n      } else if (identical && cur.ch > 1 && triples.indexOf(ch) >= 0 &&\r\n                 cm.getRange(Pos(cur.line, cur.ch - 2), cur) == ch + ch &&\r\n                 (cur.ch <= 2 || cm.getRange(Pos(cur.line, cur.ch - 3), Pos(cur.line, cur.ch - 2)) != ch)) {\r\n        curType = \"addFour\";\r\n      } else if (identical) {\r\n        if (!CodeMirror.isWordChar(next) && enteringString(cm, cur, ch)) curType = \"both\";\r\n        else return CodeMirror.Pass;\r\n      } else if (opening && (cm.getLine(cur.line).length == cur.ch ||\r\n                             isClosingBracket(next, pairs) ||\r\n                             /\\s/.test(next))) {\r\n        curType = \"both\";\r\n      } else {\r\n        return CodeMirror.Pass;\r\n      }\r\n      if (!type) type = curType;\r\n      else if (type != curType) return CodeMirror.Pass;\r\n    }\r\n\r\n    var left = pos % 2 ? pairs.charAt(pos - 1) : ch;\r\n    var right = pos % 2 ? ch : pairs.charAt(pos + 1);\r\n    cm.operation(function() {\r\n      if (type == \"skip\") {\r\n        cm.execCommand(\"goCharRight\");\r\n      } else if (type == \"skipThree\") {\r\n        for (var i = 0; i < 3; i++)\r\n          cm.execCommand(\"goCharRight\");\r\n      } else if (type == \"surround\") {\r\n        var sels = cm.getSelections();\r\n        for (var i = 0; i < sels.length; i++)\r\n          sels[i] = left + sels[i] + right;\r\n        cm.replaceSelections(sels, \"around\");\r\n        sels = cm.listSelections().slice();\r\n        for (var i = 0; i < sels.length; i++)\r\n          sels[i] = contractSelection(sels[i]);\r\n        cm.setSelections(sels);\r\n      } else if (type == \"both\") {\r\n        cm.replaceSelection(left + right, null);\r\n        cm.triggerElectric(left + right);\r\n        cm.execCommand(\"goCharLeft\");\r\n      } else if (type == \"addFour\") {\r\n        cm.replaceSelection(left + left + left + left, \"before\");\r\n        cm.execCommand(\"goCharRight\");\r\n      }\r\n    });\r\n  }\r\n\r\n  function isClosingBracket(ch, pairs) {\r\n    var pos = pairs.lastIndexOf(ch);\r\n    return pos > -1 && pos % 2 == 1;\r\n  }\r\n\r\n  function charsAround(cm, pos) {\r\n    var str = cm.getRange(Pos(pos.line, pos.ch - 1),\r\n                          Pos(pos.line, pos.ch + 1));\r\n    return str.length == 2 ? str : null;\r\n  }\r\n\r\n  // Project the token type that will exists after the given char is\r\n  // typed, and use it to determine whether it would cause the start\r\n  // of a string token.\r\n  function enteringString(cm, pos, ch) {\r\n    var line = cm.getLine(pos.line);\r\n    var token = cm.getTokenAt(pos);\r\n    if (/\\bstring2?\\b/.test(token.type)) return false;\r\n    var stream = new CodeMirror.StringStream(line.slice(0, pos.ch) + ch + line.slice(pos.ch), 4);\r\n    stream.pos = stream.start = token.start;\r\n    for (;;) {\r\n      var type1 = cm.getMode().token(stream, token.state);\r\n      if (stream.pos >= pos.ch + 1) return /\\bstring2?\\b/.test(type1);\r\n      stream.start = stream.pos;\r\n    }\r\n  }\r\n});\r\n\r\n// Brackets\r\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\r\n// Distributed under an MIT license: http://codemirror.net/LICENSE\r\n\r\n(function(mod) {\r\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\r\n    mod(require(\"../../lib/codemirror\"));\r\n  else if (typeof define == \"function\" && define.amd) // AMD\r\n    define([\"../../lib/codemirror\"], mod);\r\n  else // Plain browser env\r\n    mod(CodeMirror);\r\n})(function(CodeMirror) {\r\n  var ie_lt8 = /MSIE \\d/.test(navigator.userAgent) &&\r\n    (document.documentMode == null || document.documentMode < 8);\r\n\r\n  var Pos = CodeMirror.Pos;\r\n\r\n  var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\"};\r\n\r\n  function findMatchingBracket(cm, where, strict, config) {\r\n    var line = cm.getLineHandle(where.line), pos = where.ch - 1;\r\n    var match = (pos >= 0 && matching[line.text.charAt(pos)]) || matching[line.text.charAt(++pos)];\r\n    if (!match) return null;\r\n    var dir = match.charAt(1) == \">\" ? 1 : -1;\r\n    if (strict && (dir > 0) != (pos == where.ch)) return null;\r\n    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));\r\n\r\n    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style || null, config);\r\n    if (found == null) return null;\r\n    return {from: Pos(where.line, pos), to: found && found.pos,\r\n            match: found && found.ch == match.charAt(0), forward: dir > 0};\r\n  }\r\n\r\n  // bracketRegex is used to specify which type of bracket to scan\r\n  // should be a regexp, e.g. /[[\\]]/\r\n  //\r\n  // Note: If \"where\" is on an open bracket, then this bracket is ignored.\r\n  //\r\n  // Returns false when no bracket was found, null when it reached\r\n  // maxScanLines and gave up\r\n  function scanForBracket(cm, where, dir, style, config) {\r\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\r\n    var maxScanLines = (config && config.maxScanLines) || 1000;\r\n\r\n    var stack = [];\r\n    var re = config && config.bracketRegex ? config.bracketRegex : /[(){}[\\]]/;\r\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\r\n                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\r\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\r\n      var line = cm.getLine(lineNo);\r\n      if (!line) continue;\r\n      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\r\n      if (line.length > maxScanLen) continue;\r\n      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);\r\n      for (; pos != end; pos += dir) {\r\n        var ch = line.charAt(pos);\r\n        if (re.test(ch) && (style === undefined || cm.getTokenTypeAt(Pos(lineNo, pos + 1)) == style)) {\r\n          var match = matching[ch];\r\n          if ((match.charAt(1) == \">\") == (dir > 0)) stack.push(ch);\r\n          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};\r\n          else stack.pop();\r\n        }\r\n      }\r\n    }\r\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\r\n  }\r\n\r\n  function matchBrackets(cm, autoclear, config) {\r\n    // Disable brace matching in long lines, since it'll cause hugely slow updates\r\n    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000;\r\n    var marks = [], ranges = cm.listSelections();\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, false, config);\r\n      if (match && cm.getLine(match.from.line).length <= maxHighlightLen) {\r\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\r\n        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));\r\n        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)\r\n          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));\r\n      }\r\n    }\r\n\r\n    if (marks.length) {\r\n      // Kludge to work around the IE bug from issue #1193, where text\r\n      // input stops going to the textare whever this fires.\r\n      if (ie_lt8 && cm.state.focused) cm.focus();\r\n\r\n      var clear = function() {\r\n        cm.operation(function() {\r\n          for (var i = 0; i < marks.length; i++) marks[i].clear();\r\n        });\r\n      };\r\n      if (autoclear) setTimeout(clear, 800);\r\n      else return clear;\r\n    }\r\n  }\r\n\r\n  var currentlyHighlighted = null;\r\n  function doMatchBrackets(cm) {\r\n    cm.operation(function() {\r\n      if (currentlyHighlighted) {currentlyHighlighted(); currentlyHighlighted = null;}\r\n      currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);\r\n    });\r\n  }\r\n\r\n  CodeMirror.defineOption(\"matchBrackets\", false, function(cm, val, old) {\r\n    if (old && old != CodeMirror.Init) {\r\n      cm.off(\"cursorActivity\", doMatchBrackets);\r\n      if (currentlyHighlighted) {currentlyHighlighted(); currentlyHighlighted = null;}\r\n    }\r\n    if (val) {\r\n      cm.state.matchBrackets = typeof val == \"object\" ? val : {};\r\n      cm.on(\"cursorActivity\", doMatchBrackets);\r\n    }\r\n  });\r\n\r\n  CodeMirror.defineExtension(\"matchBrackets\", function() {matchBrackets(this, true);});\r\n  CodeMirror.defineExtension(\"findMatchingBracket\", function(pos, strict, config){\r\n    return findMatchingBracket(this, pos, strict, config);\r\n  });\r\n  CodeMirror.defineExtension(\"scanForBracket\", function(pos, dir, style, config){\r\n    return scanForBracket(this, pos, dir, style, config);\r\n  });\r\n});\r\n","'use strict';\r\n\r\n/**\r\n * Binds a CodeMirror widget to a <textarea> element.\r\n */\r\nangular.module('ui.codemirror', [])\r\n  .constant('uiCodemirrorConfig', {})\r\n  .directive('uiCodemirror', ['$timeout','uiCodemirrorConfig',\r\n\r\n/**\r\n * @ngInject\r\n */\r\nfunction uiCodemirrorDirective($timeout, uiCodemirrorConfig) {\r\n\r\n  return {\r\n    restrict: 'EA',\r\n    require: '?ngModel',\r\n    compile: function compile() {\r\n\r\n      // Require CodeMirror\r\n      if (angular.isUndefined(window.CodeMirror)) {\r\n        throw new Error('ui-codemirror needs CodeMirror to work... (o rly?)');\r\n      }\r\n\r\n      return postLink;\r\n    }\r\n  };\r\n\r\n  function postLink(scope, iElement, iAttrs, ngModel) {\r\n\r\n    var codemirrorOptions = angular.extend(\r\n      { value: iElement.text() },\r\n      uiCodemirrorConfig.codemirror || {},\r\n      scope.$eval(iAttrs.uiCodemirror),\r\n      scope.$eval(iAttrs.uiCodemirrorOpts)\r\n    );\r\n\r\n    var codemirror = newCodemirrorEditor(iElement, codemirrorOptions);\r\n\r\n    configOptionsWatcher(\r\n      codemirror,\r\n      iAttrs.uiCodemirror || iAttrs.uiCodemirrorOpts,\r\n      scope\r\n    );\r\n\r\n    configNgModelLink(codemirror, ngModel, scope);\r\n\r\n    configUiRefreshAttribute(codemirror, iAttrs.uiRefresh, scope);\r\n\r\n    // Allow access to the CodeMirror instance through a broadcasted event\r\n    // eg: $broadcast('CodeMirror', function(cm){...});\r\n    scope.$on('CodeMirror', function(event, callback) {\r\n      if (angular.isFunction(callback)) {\r\n        callback(codemirror);\r\n      } else {\r\n        throw new Error('the CodeMirror event requires a callback function');\r\n      }\r\n    });\r\n\r\n    // onLoad callback\r\n    if (angular.isFunction(codemirrorOptions.onLoad)) {\r\n      codemirrorOptions.onLoad(codemirror);\r\n    }\r\n  }\r\n\r\n  function newCodemirrorEditor(iElement, codemirrorOptions) {\r\n    var codemirrot;\r\n\r\n    if (iElement[0].tagName === 'TEXTAREA') {\r\n      // Might bug but still ...\r\n      codemirrot = window.CodeMirror.fromTextArea(iElement[0], codemirrorOptions);\r\n    } else {\r\n      iElement.html('');\r\n      codemirrot = new window.CodeMirror(function(cm_el) {\r\n        iElement.append(cm_el);\r\n      }, codemirrorOptions);\r\n    }\r\n\r\n    return codemirrot;\r\n  }\r\n\r\n  function configOptionsWatcher(codemirrot, uiCodemirrorAttr, scope) {\r\n    if (!uiCodemirrorAttr) { return; }\r\n\r\n    var codemirrorDefaultsKeys = Object.keys(window.CodeMirror.defaults);\r\n    scope.$watch(uiCodemirrorAttr, updateOptions, true);\r\n    function updateOptions(newValues, oldValue) {\r\n      if (!angular.isObject(newValues)) { return; }\r\n      codemirrorDefaultsKeys.forEach(function(key) {\r\n        if (newValues.hasOwnProperty(key)) {\r\n\r\n          if (oldValue && newValues[key] === oldValue[key]) {\r\n            return;\r\n          }\r\n\r\n          codemirrot.setOption(key, newValues[key]);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function configNgModelLink(codemirror, ngModel, scope) {\r\n    if (!ngModel) { return; }\r\n    // CodeMirror expects a string, so make sure it gets one.\r\n    // This does not change the model.\r\n    ngModel.$formatters.push(function(value) {\r\n      if (angular.isUndefined(value) || value === null) {\r\n        return '';\r\n      } else if (angular.isObject(value) || angular.isArray(value)) {\r\n        throw new Error('ui-codemirror cannot use an object or an array as a model');\r\n      }\r\n      return value;\r\n    });\r\n\r\n\r\n    // Override the ngModelController $render method, which is what gets called when the model is updated.\r\n    // This takes care of the synchronizing the codeMirror element with the underlying model, in the case that it is changed by something else.\r\n    ngModel.$render = function() {\r\n      //Code mirror expects a string so make sure it gets one\r\n      //Although the formatter have already done this, it can be possible that another formatter returns undefined (for example the required directive)\r\n      var safeViewValue = ngModel.$viewValue || '';\r\n      codemirror.setValue(safeViewValue);\r\n    };\r\n\r\n\r\n    // Keep the ngModel in sync with changes from CodeMirror\r\n    codemirror.on('change', function(instance) {\r\n      var newValue = instance.getValue();\r\n      if (newValue !== ngModel.$viewValue) {\r\n        scope.$evalAsync(function() {\r\n          ngModel.$setViewValue(newValue);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  function configUiRefreshAttribute(codeMirror, uiRefreshAttr, scope) {\r\n    if (!uiRefreshAttr) { return; }\r\n\r\n    scope.$watch(uiRefreshAttr, function(newVal, oldVal) {\r\n      // Skip the initial watch firing\r\n      if (newVal !== oldVal) {\r\n        $timeout(function() {\r\n          codeMirror.refresh();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n}]);","// JSONata mode for CodeMirror\n\n//require('codemirror');\n\nCodeMirror.defineMode(\"jsonata\", function(config, parserConfig) {\n    var templateMode = parserConfig.template;\n    var jsonata = parserConfig.jsonata;\n\n    const operators = {\n        '.': 75,\n        '[': 80,\n        ']': 0,\n        '{': 70,\n        '}': 0,\n        '(': 80,\n        ')': 0,\n        ',': 0,\n        '@': 75,\n        '#': 70,\n        ';': 80,\n        ':': 80,\n        '?': 20,\n        '+': 50,\n        '-': 50,\n        '*': 60,\n        '/': 60,\n        '%': 60,\n        '|': 20,\n        '=': 40,\n        '<': 40,\n        '>': 40,\n        '`': 80,\n        '**': 60,\n        '..': 20,\n        ':=': 30,\n        '!=': 40,\n        '<=': 40,\n        '>=': 40,\n        'and': 30,\n        'or': 25,\n        '||' : 50,\n        '!': 0   // not an operator, but needed as a stop character for name tokens\n    };\n\n    const escapes = {  // JSON string escape sequences - see json.org\n        '\"': '\"',\n        '\\\\': '\\\\',\n        '/': '/',\n        'b': '\\b',\n        'f': '\\f',\n        'n': '\\n',\n        'r': '\\r',\n        't': '\\t'\n    };\n\n    var tokenizer = function(path) {\n        var position = 0;\n        var length = path.length;\n\n        var create = function(type, value) {\n            var obj = { type: type, value: value, position: position};\n            return obj;\n        };\n\n        var next = function() {\n            if(position >= length) return null;\n            var currentChar = path.charAt(position);\n            // skip whitespace\n            while(position < length && ' \\t\\n\\r\\v'.indexOf(currentChar) > -1) {\n                position++;\n                currentChar = path.charAt(position);\n            }\n            // handle double-char operators\n            if(currentChar === '.' && path.charAt(position+1) === '.') {\n                // double-dot .. range operator\n                position += 2;\n                return create('operator', '..');\n            }\n            if(currentChar === '|' && path.charAt(position+1) === '|') {\n                // double-pipe || string concatenator\n                position += 2;\n                return create('operator', '||');\n            }\n            if(currentChar === ':' && path.charAt(position+1) === '=') {\n                // := assignment\n                position += 2;\n                return create('operator', ':=');\n            }\n            if(currentChar === '!' && path.charAt(position+1) === '=') {\n                // !=\n                position += 2;\n                return create('operator', '!=');\n            }\n            if(currentChar === '>' && path.charAt(position+1) === '=') {\n                // >=\n                position += 2;\n                return create('operator', '>=');\n            }\n            if(currentChar === '<' && path.charAt(position+1) === '=') {\n                // <=\n                position += 2;\n                return create('operator', '<=');\n            }\n            if(currentChar === '*' && path.charAt(position+1) === '*') {\n                // **  descendant wildcard\n                position += 2;\n                return create('operator', '**');\n            }\n            // test for operators\n            if(operators.hasOwnProperty(currentChar)) {\n                position++;\n                return create('operator', currentChar);\n            }\n            // test for string literals\n            if(currentChar === '\"' || currentChar === \"'\") {\n                var quoteType = currentChar;\n                // double quoted string literal - find end of string\n                position++;\n                var qstr = \"\";\n                while(position < length) {\n                    currentChar = path.charAt(position);\n                    if(currentChar === '\\\\') { // escape sequence\n                        position++;\n                        currentChar = path.charAt(position);\n                        if(escapes.hasOwnProperty(currentChar)) {\n                            qstr += escapes[currentChar];\n                        } else if(currentChar === 'u') {\n                            // \\u should be followed by 4 hex digits\n                            var octets = path.substr(position+1, 4);\n                            if(/^[0-9a-fA-F]+$/.test(octets)) {\n                                var codepoint = parseInt(octets, 16);\n                                qstr += String.fromCharCode(codepoint);\n                                position += 4;\n                            } else {\n                                throw new Error('The escape sequence \\\\u must be followed by 4 hex digits at column ' + position);\n                            }\n                        } else {\n                            // illegal escape sequence\n                            throw new Error('unsupported escape sequence: \\\\' + currentChar + ' at column ' + position);\n                        }\n                    } else if(currentChar === quoteType) {\n                        position++;\n                        return create('string', qstr);\n                    } else {\n                        qstr += currentChar;\n                    }\n                    position++;\n                }\n                throw new Error('no terminating quote found in string literal starting at column ' + position);\n            }\n            // test for numbers\n            var numregex = /^-?(0|([1-9][0-9]*))(\\.[0-9]+)?([Ee][-+]?[0-9]+)?/;\n            var match = numregex.exec(path.substring(position));\n            if(match !== null) {\n                var num = parseFloat(match[0]);\n                if(!isNaN(num) && isFinite(num)) {\n                    position += match[0].length;\n                    return create('number', num);\n                } else {\n                    throw new Error('Number out of range: ' + match[0]);\n                }\n            }\n            // test for names\n            var i = position;\n            var ch;\n            var name;\n            while(true) {\n                ch = path.charAt(i);\n                if(i == length || ' \\t\\n\\r\\v'.indexOf(ch) > -1 || operators.hasOwnProperty(ch)) {\n                    if(path.charAt(position) === '$') {\n                        // variable reference\n                        name = path.substring(position + 1, i);\n                        position = i;\n                        return create('variable', name);\n                    } else {\n                        name = path.substring(position, i);\n                        position = i;\n                        switch(name) {\n                            case 'and':\n                            case 'or':\n                                return create('operator', name);\n                            case 'true':\n                                return create('value', true);\n                            case 'false':\n                                return create('value', false);\n                            case 'null':\n                                return create('value', null);\n                            default:\n                                if(position == length && name === '') {\n                                    // whitespace at end of input\n                                    return null;\n                                }\n                                return create('name', name);\n                        }\n                    }\n                } else {\n                    i++;\n                }\n            }\n        };\n\n        return next;\n    };\n\n    var templatizer = function(text) {\n        var position = 0;\n        var length = text.length;\n\n        var create = function(type, value) {\n            var obj = { type: type, value: value, position: position};\n            return obj;\n        };\n\n        var next = function() {\n            if(position >= length) return null;\n            var currentChar = text.charAt(position);\n            // skip whitespace\n            while(position < length && ' \\t\\n\\r\\v'.indexOf(currentChar) > -1) {\n                position++;\n                currentChar = text.charAt(position);\n            }\n\n            if(currentChar === '{' && text.charAt(position+1) === '{') {\n                // found {{\n                position += 2;\n                // parse what follows using the jsonata parser\n                var rest = text.substring(position);\n                try {\n                    jsonata.parser(rest);\n                    // if we get here, we parsed to the end of the buffer with no closing handlebars\n                    position += rest.length;\n                    return create('variable');\n                } catch (err) {\n                    if (err.token === '(end)') {\n                        position = length;\n                        return create('variable');\n                    }\n                    if (rest.charAt(err.position - 1) != \"}\" || rest.charAt(err.position) != \"}\") {\n                        // no closing handlbars\n                        position += err.position;\n                        return create('variable');\n                    }\n                    position += err.position + 1;\n                    return create('variable');\n                }\n            } else {\n                // search forward for next {{\n                position = text.indexOf(\"{{\", position);\n                if(position != -1) {\n                    return create('operator');\n                }\n                position = length;\n                return create('operator');\n            }\n\n        };\n\n        return next;\n    };\n\n    var TOKEN_NAMES = {\n        'operator': 'operator',\n        'variable': 'string-2',\n        'string': 'string',\n        'number': 'number',\n        'value': 'keyword',\n        'name': 'attribute'\n    };\n\n    var currentIndent = 0;\n\n    return {\n        token: function(stream) {\n            var lexer;\n            if(templateMode) {\n                lexer = templatizer(stream.string.substr(stream.pos));\n            } else {\n                lexer = tokenizer(stream.string.substr(stream.pos));\n            }\n            var token;\n            try {\n                token = lexer();\n            } catch(err) {\n                token = null;\n            }\n            if(token === null) {\n                stream.skipToEnd();\n                return null;\n            }\n            var length = token.position;\n            while(length > 0) {\n                stream.next();\n                length--;\n            }\n\n            var style = TOKEN_NAMES[token.type];\n            return style;\n        }  /*,\n         indent: function(state, textAfter) {\n         var close = /^[\\)\\]\\}]/;\n         if(textAfter.match(close)) {\n         currentIndent -= 2;\n         } else {\n         currentIndent += 2;\n         }\n         return currentIndent;\n         }*/\n    }; // end of structure returned by defineMode\n\n\n\n}); // end of defineMode\n\n\n","/**\n * dirPagination - AngularJS module for paginating (almost) anything.\n *\n *\n * Credits\n * =======\n *\n * Daniel Tabuenca: https://groups.google.com/d/msg/angular/an9QpzqIYiM/r8v-3W1X5vcJ\n * for the idea on how to dynamically invoke the ng-repeat directive.\n *\n * I borrowed a couple of lines and a few attribute names from the AngularUI Bootstrap project:\n * https://github.com/angular-ui/bootstrap/blob/master/src/pagination/pagination.js\n *\n * Copyright 2014 Michael Bromley <michael@michaelbromley.co.uk>\n */\n\n(function() {\n\n    /**\n     * Config\n     */\n    var moduleName = 'angularUtils.directives.dirPagination';\n    var DEFAULT_ID = '__default';\n\n    /**\n     * Module\n     */\n    angular.module(moduleName, [])\n        .directive('dirPaginate', ['$compile', '$parse', 'paginationService', dirPaginateDirective])\n        .directive('dirPaginateNoCompile', noCompileDirective)\n        .directive('dirPaginationControls', ['paginationService', 'paginationTemplate', dirPaginationControlsDirective])\n        .filter('itemsPerPage', ['paginationService', itemsPerPageFilter])\n        .service('paginationService', paginationService)\n        .provider('paginationTemplate', paginationTemplateProvider)\n        .run(['$templateCache',dirPaginationControlsTemplateInstaller]);\n\n    function dirPaginateDirective($compile, $parse, paginationService) {\n\n        return  {\n            terminal: true,\n            multiElement: true,\n            priority: 100,\n            compile: dirPaginationCompileFn\n        };\n\n        function dirPaginationCompileFn(tElement, tAttrs){\n\n            var expression = tAttrs.dirPaginate;\n            // regex taken directly from https://github.com/angular/angular.js/blob/v1.4.x/src/ng/directive/ngRepeat.js#L339\n            var match = expression.match(/^\\s*([\\s\\S]+?)\\s+in\\s+([\\s\\S]+?)(?:\\s+as\\s+([\\s\\S]+?))?(?:\\s+track\\s+by\\s+([\\s\\S]+?))?\\s*$/);\n\n            var filterPattern = /\\|\\s*itemsPerPage\\s*:\\s*(.*\\(\\s*\\w*\\)|([^\\)]*?(?=\\s+as\\s+))|[^\\)]*)/;\n            if (match[2].match(filterPattern) === null) {\n                throw 'pagination directive: the \\'itemsPerPage\\' filter must be set.';\n            }\n            var itemsPerPageFilterRemoved = match[2].replace(filterPattern, '');\n            var collectionGetter = $parse(itemsPerPageFilterRemoved);\n\n            addNoCompileAttributes(tElement);\n\n            // If any value is specified for paginationId, we register the un-evaluated expression at this stage for the benefit of any\n            // dir-pagination-controls directives that may be looking for this ID.\n            var rawId = tAttrs.paginationId || DEFAULT_ID;\n            paginationService.registerInstance(rawId);\n\n            return function dirPaginationLinkFn(scope, element, attrs){\n\n                // Now that we have access to the `scope` we can interpolate any expression given in the paginationId attribute and\n                // potentially register a new ID if it evaluates to a different value than the rawId.\n                var paginationId = $parse(attrs.paginationId)(scope) || attrs.paginationId || DEFAULT_ID;\n                // In case rawId != paginationId we deregister using rawId for the sake of general cleanliness\n                // before registering using paginationId\n                paginationService.deregisterInstance(rawId);\n                paginationService.registerInstance(paginationId);\n\n                var repeatExpression = getRepeatExpression(expression, paginationId);\n                addNgRepeatToElement(element, attrs, repeatExpression);\n\n                removeTemporaryAttributes(element);\n                var compiled =  $compile(element);\n\n                var currentPageGetter = makeCurrentPageGetterFn(scope, attrs, paginationId);\n                paginationService.setCurrentPageParser(paginationId, currentPageGetter, scope);\n\n                if (typeof attrs.totalItems !== 'undefined') {\n                    paginationService.setAsyncModeTrue(paginationId);\n                    scope.$watch(function() {\n                        return $parse(attrs.totalItems)(scope);\n                    }, function (result) {\n                        if (0 <= result) {\n                            paginationService.setCollectionLength(paginationId, result);\n                        }\n                    });\n                } else {\n                    paginationService.setAsyncModeFalse(paginationId);\n                    scope.$watchCollection(function() {\n                        return collectionGetter(scope);\n                    }, function(collection) {\n                        if (collection) {\n                            var collectionLength = (collection instanceof Array) ? collection.length : Object.keys(collection).length;\n                            paginationService.setCollectionLength(paginationId, collectionLength);\n                        }\n                    });\n                }\n\n                // Delegate to the link function returned by the new compilation of the ng-repeat\n                compiled(scope);\n                    \n                // When the scope is destroyed, we make sure to remove the reference to it in paginationService\n                // so that it can be properly garbage collected\n                scope.$on('$destroy', function destroyDirPagination() {\n                    paginationService.deregisterInstance(paginationId);\n                });\n            };\n        }\n\n        /**\n         * If a pagination id has been specified, we need to check that it is present as the second argument passed to\n         * the itemsPerPage filter. If it is not there, we add it and return the modified expression.\n         *\n         * @param expression\n         * @param paginationId\n         * @returns {*}\n         */\n        function getRepeatExpression(expression, paginationId) {\n            var repeatExpression,\n                idDefinedInFilter = !!expression.match(/(\\|\\s*itemsPerPage\\s*:[^|]*:[^|]*)/);\n\n            if (paginationId !== DEFAULT_ID && !idDefinedInFilter) {\n                repeatExpression = expression.replace(/(\\|\\s*itemsPerPage\\s*:\\s*[^|\\s]*)/, \"$1 : '\" + paginationId + \"'\");\n            } else {\n                repeatExpression = expression;\n            }\n\n            return repeatExpression;\n        }\n\n        /**\n         * Adds the ng-repeat directive to the element. In the case of multi-element (-start, -end) it adds the\n         * appropriate multi-element ng-repeat to the first and last element in the range.\n         * @param element\n         * @param attrs\n         * @param repeatExpression\n         */\n        function addNgRepeatToElement(element, attrs, repeatExpression) {\n            if (element[0].hasAttribute('dir-paginate-start') || element[0].hasAttribute('data-dir-paginate-start')) {\n                // using multiElement mode (dir-paginate-start, dir-paginate-end)\n                attrs.$set('ngRepeatStart', repeatExpression);\n                element.eq(element.length - 1).attr('ng-repeat-end', true);\n            } else {\n                attrs.$set('ngRepeat', repeatExpression);\n            }\n        }\n\n        /**\n         * Adds the dir-paginate-no-compile directive to each element in the tElement range.\n         * @param tElement\n         */\n        function addNoCompileAttributes(tElement) {\n            angular.forEach(tElement, function(el) {\n                if (el.nodeType === 1) {\n                    angular.element(el).attr('dir-paginate-no-compile', true);\n                }\n            });\n        }\n\n        /**\n         * Removes the variations on dir-paginate (data-, -start, -end) and the dir-paginate-no-compile directives.\n         * @param element\n         */\n        function removeTemporaryAttributes(element) {\n            angular.forEach(element, function(el) {\n                if (el.nodeType === 1) {\n                    angular.element(el).removeAttr('dir-paginate-no-compile');\n                }\n            });\n            element.eq(0).removeAttr('dir-paginate-start').removeAttr('dir-paginate').removeAttr('data-dir-paginate-start').removeAttr('data-dir-paginate');\n            element.eq(element.length - 1).removeAttr('dir-paginate-end').removeAttr('data-dir-paginate-end');\n        }\n\n        /**\n         * Creates a getter function for the current-page attribute, using the expression provided or a default value if\n         * no current-page expression was specified.\n         *\n         * @param scope\n         * @param attrs\n         * @param paginationId\n         * @returns {*}\n         */\n        function makeCurrentPageGetterFn(scope, attrs, paginationId) {\n            var currentPageGetter;\n            if (attrs.currentPage) {\n                currentPageGetter = $parse(attrs.currentPage);\n            } else {\n                // If the current-page attribute was not set, we'll make our own.\n                // Replace any non-alphanumeric characters which might confuse\n                // the $parse service and give unexpected results.\n                // See https://github.com/michaelbromley/angularUtils/issues/233\n                var defaultCurrentPage = (paginationId + '__currentPage').replace(/\\W/g, '_');\n                scope[defaultCurrentPage] = 1;\n                currentPageGetter = $parse(defaultCurrentPage);\n            }\n            return currentPageGetter;\n        }\n    }\n\n    /**\n     * This is a helper directive that allows correct compilation when in multi-element mode (ie dir-paginate-start, dir-paginate-end).\n     * It is dynamically added to all elements in the dir-paginate compile function, and it prevents further compilation of\n     * any inner directives. It is then removed in the link function, and all inner directives are then manually compiled.\n     */\n    function noCompileDirective() {\n        return {\n            priority: 5000,\n            terminal: true\n        };\n    }\n\n    function dirPaginationControlsTemplateInstaller($templateCache) {\n        $templateCache.put('angularUtils.directives.dirPagination.template', '<ul class=\"pagination\" ng-if=\"1 < pages.length || !autoHide\"><li ng-if=\"boundaryLinks\" ng-class=\"{ disabled : pagination.current == 1 }\"><a href=\"\" ng-click=\"setCurrent(1)\">&laquo;</a></li><li ng-if=\"directionLinks\" ng-class=\"{ disabled : pagination.current == 1 }\"><a href=\"\" ng-click=\"setCurrent(pagination.current - 1)\">&lsaquo;</a></li><li ng-repeat=\"pageNumber in pages track by tracker(pageNumber, $index)\" ng-class=\"{ active : pagination.current == pageNumber, disabled : pageNumber == \\'...\\' || ( ! autoHide && pages.length === 1 ) }\"><a href=\"\" ng-click=\"setCurrent(pageNumber)\">{{ pageNumber }}</a></li><li ng-if=\"directionLinks\" ng-class=\"{ disabled : pagination.current == pagination.last }\"><a href=\"\" ng-click=\"setCurrent(pagination.current + 1)\">&rsaquo;</a></li><li ng-if=\"boundaryLinks\"  ng-class=\"{ disabled : pagination.current == pagination.last }\"><a href=\"\" ng-click=\"setCurrent(pagination.last)\">&raquo;</a></li></ul>');\n    }\n\n    function dirPaginationControlsDirective(paginationService, paginationTemplate) {\n\n        var numberRegex = /^\\d+$/;\n\n        var DDO = {\n            restrict: 'AE',\n            scope: {\n                maxSize: '=?',\n                onPageChange: '&?',\n                paginationId: '=?',\n                autoHide: '=?'\n            },\n            link: dirPaginationControlsLinkFn\n        };\n\n        // We need to check the paginationTemplate service to see whether a template path or\n        // string has been specified, and add the `template` or `templateUrl` property to\n        // the DDO as appropriate. The order of priority to decide which template to use is\n        // (highest priority first):\n        // 1. paginationTemplate.getString()\n        // 2. attrs.templateUrl\n        // 3. paginationTemplate.getPath()\n        var templateString = paginationTemplate.getString();\n        if (templateString !== undefined) {\n            DDO.template = templateString;\n        } else {\n            DDO.templateUrl = function(elem, attrs) {\n                return attrs.templateUrl || paginationTemplate.getPath();\n            };\n        }\n        return DDO;\n\n        function dirPaginationControlsLinkFn(scope, element, attrs) {\n\n            // rawId is the un-interpolated value of the pagination-id attribute. This is only important when the corresponding dir-paginate directive has\n            // not yet been linked (e.g. if it is inside an ng-if block), and in that case it prevents this controls directive from assuming that there is\n            // no corresponding dir-paginate directive and wrongly throwing an exception.\n            var rawId = attrs.paginationId ||  DEFAULT_ID;\n            var paginationId = scope.paginationId || attrs.paginationId ||  DEFAULT_ID;\n\n            if (!paginationService.isRegistered(paginationId) && !paginationService.isRegistered(rawId)) {\n                var idMessage = (paginationId !== DEFAULT_ID) ? ' (id: ' + paginationId + ') ' : ' ';\n                if (window.console) {\n                    console.warn('Pagination directive: the pagination controls' + idMessage + 'cannot be used without the corresponding pagination directive, which was not found at link time.');\n                }\n            }\n\n            if (!scope.maxSize) { scope.maxSize = 9; }\n            scope.autoHide = scope.autoHide === undefined ? true : scope.autoHide;\n            scope.directionLinks = angular.isDefined(attrs.directionLinks) ? scope.$parent.$eval(attrs.directionLinks) : true;\n            scope.boundaryLinks = angular.isDefined(attrs.boundaryLinks) ? scope.$parent.$eval(attrs.boundaryLinks) : false;\n\n            var paginationRange = Math.max(scope.maxSize, 5);\n            scope.pages = [];\n            scope.pagination = {\n                last: 1,\n                current: 1\n            };\n            scope.range = {\n                lower: 1,\n                upper: 1,\n                total: 1\n            };\n\n            scope.$watch('maxSize', function(val) {\n                if (val) {\n                    paginationRange = Math.max(scope.maxSize, 5);\n                    generatePagination();\n                }\n            });\n\n            scope.$watch(function() {\n                if (paginationService.isRegistered(paginationId)) {\n                    return (paginationService.getCollectionLength(paginationId) + 1) * paginationService.getItemsPerPage(paginationId);\n                }\n            }, function(length) {\n                if (0 < length) {\n                    generatePagination();\n                }\n            });\n\n            scope.$watch(function() {\n                if (paginationService.isRegistered(paginationId)) {\n                    return (paginationService.getItemsPerPage(paginationId));\n                }\n            }, function(current, previous) {\n                if (current != previous && typeof previous !== 'undefined') {\n                    goToPage(scope.pagination.current);\n                }\n            });\n\n            scope.$watch(function() {\n                if (paginationService.isRegistered(paginationId)) {\n                    return paginationService.getCurrentPage(paginationId);\n                }\n            }, function(currentPage, previousPage) {\n                if (currentPage != previousPage) {\n                    goToPage(currentPage);\n                }\n            });\n\n            scope.setCurrent = function(num) {\n                if (paginationService.isRegistered(paginationId) && isValidPageNumber(num)) {\n                    num = parseInt(num, 10);\n                    paginationService.setCurrentPage(paginationId, num);\n                }\n            };\n\n            /**\n             * Custom \"track by\" function which allows for duplicate \"...\" entries on long lists,\n             * yet fixes the problem of wrongly-highlighted links which happens when using\n             * \"track by $index\" - see https://github.com/michaelbromley/angularUtils/issues/153\n             * @param id\n             * @param index\n             * @returns {string}\n             */\n            scope.tracker = function(id, index) {\n                return id + '_' + index;\n            };\n\n            function goToPage(num) {\n                if (paginationService.isRegistered(paginationId) && isValidPageNumber(num)) {\n                    var oldPageNumber = scope.pagination.current;\n\n                    scope.pages = generatePagesArray(num, paginationService.getCollectionLength(paginationId), paginationService.getItemsPerPage(paginationId), paginationRange);\n                    scope.pagination.current = num;\n                    updateRangeValues();\n\n                    // if a callback has been set, then call it with the page number as the first argument\n                    // and the previous page number as a second argument\n                    if (scope.onPageChange) {\n                        scope.onPageChange({\n                            newPageNumber : num,\n                            oldPageNumber : oldPageNumber\n                        });\n                    }\n                }\n            }\n\n            function generatePagination() {\n                if (paginationService.isRegistered(paginationId)) {\n                    var page = parseInt(paginationService.getCurrentPage(paginationId)) || 1;\n                    scope.pages = generatePagesArray(page, paginationService.getCollectionLength(paginationId), paginationService.getItemsPerPage(paginationId), paginationRange);\n                    scope.pagination.current = page;\n                    scope.pagination.last = scope.pages[scope.pages.length - 1];\n                    if (scope.pagination.last < scope.pagination.current) {\n                        scope.setCurrent(scope.pagination.last);\n                    } else {\n                        updateRangeValues();\n                    }\n                }\n            }\n\n            /**\n             * This function updates the values (lower, upper, total) of the `scope.range` object, which can be used in the pagination\n             * template to display the current page range, e.g. \"showing 21 - 40 of 144 results\";\n             */\n            function updateRangeValues() {\n                if (paginationService.isRegistered(paginationId)) {\n                    var currentPage = paginationService.getCurrentPage(paginationId),\n                        itemsPerPage = paginationService.getItemsPerPage(paginationId),\n                        totalItems = paginationService.getCollectionLength(paginationId);\n\n                    scope.range.lower = (currentPage - 1) * itemsPerPage + 1;\n                    scope.range.upper = Math.min(currentPage * itemsPerPage, totalItems);\n                    scope.range.total = totalItems;\n                }\n            }\n            function isValidPageNumber(num) {\n                return (numberRegex.test(num) && (0 < num && num <= scope.pagination.last));\n            }\n        }\n\n        /**\n         * Generate an array of page numbers (or the '...' string) which is used in an ng-repeat to generate the\n         * links used in pagination\n         *\n         * @param currentPage\n         * @param rowsPerPage\n         * @param paginationRange\n         * @param collectionLength\n         * @returns {Array}\n         */\n        function generatePagesArray(currentPage, collectionLength, rowsPerPage, paginationRange) {\n            var pages = [];\n            var totalPages = Math.ceil(collectionLength / rowsPerPage);\n            var halfWay = Math.ceil(paginationRange / 2);\n            var position;\n\n            if (currentPage <= halfWay) {\n                position = 'start';\n            } else if (totalPages - halfWay < currentPage) {\n                position = 'end';\n            } else {\n                position = 'middle';\n            }\n\n            var ellipsesNeeded = paginationRange < totalPages;\n            var i = 1;\n            while (i <= totalPages && i <= paginationRange) {\n                var pageNumber = calculatePageNumber(i, currentPage, paginationRange, totalPages);\n\n                var openingEllipsesNeeded = (i === 2 && (position === 'middle' || position === 'end'));\n                var closingEllipsesNeeded = (i === paginationRange - 1 && (position === 'middle' || position === 'start'));\n                if (ellipsesNeeded && (openingEllipsesNeeded || closingEllipsesNeeded)) {\n                    pages.push('...');\n                } else {\n                    pages.push(pageNumber);\n                }\n                i ++;\n            }\n            return pages;\n        }\n\n        /**\n         * Given the position in the sequence of pagination links [i], figure out what page number corresponds to that position.\n         *\n         * @param i\n         * @param currentPage\n         * @param paginationRange\n         * @param totalPages\n         * @returns {*}\n         */\n        function calculatePageNumber(i, currentPage, paginationRange, totalPages) {\n            var halfWay = Math.ceil(paginationRange/2);\n            if (i === paginationRange) {\n                return totalPages;\n            } else if (i === 1) {\n                return i;\n            } else if (paginationRange < totalPages) {\n                if (totalPages - halfWay < currentPage) {\n                    return totalPages - paginationRange + i;\n                } else if (halfWay < currentPage) {\n                    return currentPage - halfWay + i;\n                } else {\n                    return i;\n                }\n            } else {\n                return i;\n            }\n        }\n    }\n\n    /**\n     * This filter slices the collection into pages based on the current page number and number of items per page.\n     * @param paginationService\n     * @returns {Function}\n     */\n    function itemsPerPageFilter(paginationService) {\n\n        return function(collection, itemsPerPage, paginationId) {\n            if (typeof (paginationId) === 'undefined') {\n                paginationId = DEFAULT_ID;\n            }\n            if (!paginationService.isRegistered(paginationId)) {\n                throw 'pagination directive: the itemsPerPage id argument (id: ' + paginationId + ') does not match a registered pagination-id.';\n            }\n            var end;\n            var start;\n            if (angular.isObject(collection)) {\n                itemsPerPage = parseInt(itemsPerPage) || 9999999999;\n                if (paginationService.isAsyncMode(paginationId)) {\n                    start = 0;\n                } else {\n                    start = (paginationService.getCurrentPage(paginationId) - 1) * itemsPerPage;\n                }\n                end = start + itemsPerPage;\n                paginationService.setItemsPerPage(paginationId, itemsPerPage);\n\n                if (collection instanceof Array) {\n                    // the array just needs to be sliced\n                    return collection.slice(start, end);\n                } else {\n                    // in the case of an object, we need to get an array of keys, slice that, then map back to\n                    // the original object.\n                    var slicedObject = {};\n                    angular.forEach(keys(collection).slice(start, end), function(key) {\n                        slicedObject[key] = collection[key];\n                    });\n                    return slicedObject;\n                }\n            } else {\n                return collection;\n            }\n        };\n    }\n\n    /**\n     * Shim for the Object.keys() method which does not exist in IE < 9\n     * @param obj\n     * @returns {Array}\n     */\n    function keys(obj) {\n        if (!Object.keys) {\n            var objKeys = [];\n            for (var i in obj) {\n                if (obj.hasOwnProperty(i)) {\n                    objKeys.push(i);\n                }\n            }\n            return objKeys;\n        } else {\n            return Object.keys(obj);\n        }\n    }\n\n    /**\n     * This service allows the various parts of the module to communicate and stay in sync.\n     */\n    function paginationService() {\n\n        var instances = {};\n        var lastRegisteredInstance;\n\n        this.registerInstance = function(instanceId) {\n            if (typeof instances[instanceId] === 'undefined') {\n                instances[instanceId] = {\n                    asyncMode: false\n                };\n                lastRegisteredInstance = instanceId;\n            }\n        };\n\n        this.deregisterInstance = function(instanceId) {\n            delete instances[instanceId];\n        };\n        \n        this.isRegistered = function(instanceId) {\n            return (typeof instances[instanceId] !== 'undefined');\n        };\n\n        this.getLastInstanceId = function() {\n            return lastRegisteredInstance;\n        };\n\n        this.setCurrentPageParser = function(instanceId, val, scope) {\n            instances[instanceId].currentPageParser = val;\n            instances[instanceId].context = scope;\n        };\n        this.setCurrentPage = function(instanceId, val) {\n            instances[instanceId].currentPageParser.assign(instances[instanceId].context, val);\n        };\n        this.getCurrentPage = function(instanceId) {\n            var parser = instances[instanceId].currentPageParser;\n            return parser ? parser(instances[instanceId].context) : 1;\n        };\n\n        this.setItemsPerPage = function(instanceId, val) {\n            instances[instanceId].itemsPerPage = val;\n        };\n        this.getItemsPerPage = function(instanceId) {\n            return instances[instanceId].itemsPerPage;\n        };\n\n        this.setCollectionLength = function(instanceId, val) {\n            instances[instanceId].collectionLength = val;\n        };\n        this.getCollectionLength = function(instanceId) {\n            return instances[instanceId].collectionLength;\n        };\n\n        this.setAsyncModeTrue = function(instanceId) {\n            instances[instanceId].asyncMode = true;\n        };\n\n        this.setAsyncModeFalse = function(instanceId) {\n            instances[instanceId].asyncMode = false;\n        };\n\n        this.isAsyncMode = function(instanceId) {\n            return instances[instanceId].asyncMode;\n        };\n    }\n\n    /**\n     * This provider allows global configuration of the template path used by the dir-pagination-controls directive.\n     */\n    function paginationTemplateProvider() {\n\n        var templatePath = 'angularUtils.directives.dirPagination.template';\n        var templateString;\n\n        /**\n         * Set a templateUrl to be used by all instances of <dir-pagination-controls>\n         * @param {String} path\n         */\n        this.setPath = function(path) {\n            templatePath = path;\n        };\n\n        /**\n         * Set a string of HTML to be used as a template by all instances\n         * of <dir-pagination-controls>. If both a path *and* a string have been set,\n         * the string takes precedence.\n         * @param {String} str\n         */\n        this.setString = function(str) {\n            templateString = str;\n        };\n\n        this.$get = function() {\n            return {\n                getPath: function() {\n                    return templatePath;\n                },\n                getString: function() {\n                    return templateString;\n                }\n            };\n        };\n    }\n})();\n","/*!\n * angular-validation-match\n * Checks if one input matches another\n * @version v1.9.0\n * @link https://github.com/TheSharpieOne/angular-validation-match\n * @license MIT License, http://www.opensource.org/licenses/MIT\n */\n!function(t,a,e){\"use strict\";function n(t){return{require:\"?ngModel\",restrict:\"A\",link:function(e,n,i,r){function c(){var t=o(e);return a.isObject(t)&&t.hasOwnProperty(\"$viewValue\")&&(t=t.$viewValue),t}if(r&&i.match){var o=t(i.match),u=t(i.matchCaseless),l=t(i.notMatch),s=t(i.matchIgnoreEmpty);e.$watch(c,function(){r.$$parseAndValidate()}),r.$validators.match=function(t,n){var i,r=t||n,o=c(),d=l(e);return s(e)&&!n?!0:(i=u(e)?a.lowercase(r)===a.lowercase(o):r===o,i^=d,!!i)}}}}}n.$inject=[\"$parse\"],a.module(\"validation.match\",[]),a.module(\"validation.match\").directive(\"match\",n)}(window,window.angular);","angular.module('angular-content-editable', []);\r\n\r\nangular.module('angular-content-editable')\r\n\r\n.directive('contentEditable', ['$log', '$sce', '$compile', '$window', 'contentEditable', function ($log,$sce,$compile,$window,contentEditable) {\r\n\r\n    var directive = {\r\n        restrict: 'A',\r\n        require: '?ngModel',\r\n        scope: { editCallback: '=', ngModel: '=' },\r\n        link: _link\r\n    }\r\n\r\n    return directive;\r\n\r\n    function _link(scope, elem, attrs, ngModel) {\r\n\r\n        // return if ng model not specified\r\n        if(!ngModel) {\r\n            $log.warn('Error: ngModel is required in elem: ', elem);\r\n            return;\r\n        }\r\n\r\n        var noEscape = true;\r\n        var originalElement = elem[0];\r\n        // get default usage options\r\n        var options = angular.copy(contentEditable);\r\n        // update options with attributes\r\n        angular.forEach(options, function (val, key) {\r\n            if( key in attrs && typeof attrs[key] !== 'undefined' ) { options[key] = attrs[key]; }\r\n        })\r\n\r\n        // if model is invalid or null\r\n        // fill his value with elem html content\r\n        if( !scope.ngModel ) {\r\n            ngModel.$setViewValue( elem.html() );\r\n        }\r\n\r\n        // add editable class\r\n        attrs.$addClass(options.editableClass);\r\n\r\n        // render always with model value\r\n        ngModel.$render = function() {\r\n            elem.html( ngModel.$modelValue || '' );\r\n        }\r\n\r\n        // handle click on element\r\n        function onClick(e){\r\n            e.preventDefault();\r\n            attrs.$set('contenteditable', 'true');\r\n            return originalElement.focus();\r\n        }\r\n\r\n        // check some option extra\r\n        // conditions during focus\r\n        function onFocus(e) {\r\n            // turn on the flag\r\n            noEscape = true;\r\n            // select all on focus\r\n            if( options.focusSelect ) {\r\n                var range = $window.document.createRange();\r\n                range.selectNodeContents( originalElement );\r\n                $window.getSelection().addRange(range);\r\n            }\r\n            // if render-html is enabled convert\r\n            // all text content to plaintext\r\n            // in order to modify html tags\r\n            if( options.renderHtml ) {\r\n                originalElement.textContent = elem.html();\r\n            }\r\n        }\r\n\r\n        function onBlur(e) {\r\n\r\n            // the text\r\n            var html;\r\n\r\n            // disable editability\r\n            attrs.$set('contenteditable', 'false');\r\n\r\n            // if text needs to be rendered as html\r\n            if( options.renderHtml && noEscape ) {\r\n                // get plain text html (with html tags)\r\n                // replace all blank spaces\r\n                html = originalElement.textContent.replace(/\\u00a0/g, \" \");\r\n                // update elem html value\r\n                elem.html(html);\r\n\r\n            } else {\r\n                // get element content replacing html tag\r\n                html = elem.html().replace(/&nbsp;/g, ' ');\r\n            }\r\n\r\n            // if element value is\r\n            // different from model value\r\n            if( html != ngModel.$modelValue ) {\r\n\r\n                /**\r\n                * This method should be called\r\n                * when a controller wants to\r\n                * change the view value\r\n                */\r\n                ngModel.$setViewValue(html)\r\n                // if user passed a variable\r\n                // and is a function\r\n                if( scope.editCallback && angular.isFunction(scope.editCallback) ) {\r\n                    // apply the callback\r\n                    // with arguments: current text and element\r\n                    return scope.$apply( scope.editCallback(html, elem) );\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        function onKeyDown(e) {\r\n\r\n            // on tab key blur and\r\n            // TODO: focus to next\r\n            if( e.which == 9 ) {\r\n                originalElement.blur();\r\n                return;\r\n            }\r\n\r\n            // on esc key roll back value and blur\r\n            if( e.which == 27 ) {\r\n                ngModel.$rollbackViewValue();\r\n                noEscape = false;\r\n                return originalElement.blur();\r\n            }\r\n\r\n            // if single line or ctrl key is\r\n            // pressed trigger the blur event\r\n            if( e.which == 13 && (options.singleLine || e.ctrlKey) ) {\r\n                return originalElement.blur();\r\n            }\r\n\r\n        }\r\n\r\n        /**\r\n        * On click turn the element\r\n        * to editable and focus it\r\n        */\r\n        elem.bind('click', onClick);\r\n\r\n        /**\r\n        * On element focus\r\n        */\r\n        elem.bind('focus', onFocus);\r\n\r\n        /**\r\n        * On element blur turn off\r\n        * editable mode, if HTML, render\r\n        * update model value and run callback\r\n        * if specified\r\n        */\r\n        elem.bind('blur', onBlur);\r\n\r\n        /**\r\n        * Bind the keydown event for many functions\r\n        * TODO: more to come\r\n        */\r\n        elem.bind('keydown', onKeyDown);\r\n\r\n        /**\r\n        * On element destroy, remove all event\r\n        * listeners related to the directive\r\n        * (helps to prevent memory leaks)\r\n        */\r\n        scope.$on('$destroy', function () {\r\n            elem.unbind(onClick);\r\n            elem.unbind(onFocus);\r\n            elem.unbind(onBlur);\r\n        })\r\n\r\n    }\r\n\r\n}])\r\n\r\nangular.module('angular-content-editable')\r\n\r\n/**\r\n * Provider to setup the default\r\n * module options for the directive\r\n */\r\n.provider('contentEditable', function () {\r\n\r\n  var defaults = {\r\n    editableClass: 'editable',\r\n    keyBindings: true, // default true for key shortcuts\r\n    singleLine: false,\r\n    focusSelect: true, // default on focus select all text inside\r\n    renderHtml: false,\r\n    editCallback: false\r\n  }\r\n\r\n  this.configure = function (options) {\r\n    return angular.extend(defaults, options);\r\n  }\r\n\r\n  this.$get = function () {\r\n    return defaults;\r\n  }\r\n\r\n});","angular.module('alpacaEditor', [\r\n\t'firebase',\t\t\t\t\t//Authentication, DB, Storage\r\n\t'rzModule', \t\t\t\t//**Range Slider \r\n\t'dndLists',\t\t\t\t\t//Drag and drop lists\r\n\t'ngTagsInput',\t\t\t//**Multiple Tag Input\r\n\t'swiperRepeat', \t\t//Swipeable repeat\r\n\t'ngAnimate',\t\t\t\t//Animations\r\n\t'flow',\t\t\t\t\t\t\t//File upload\r\n\t'angularResizable',\t//Make elements user-resizable\r\n  'ui.codemirror',    //Code editor, for writing jsonata\r\n\t'angularUtils.directives.dirPagination', //pagination \r\n  'validation.match',\t//remove??\r\n\t'alpacaViewer', \r\n\t'alpacaSchemas', \r\n\t'alpacaTypes',\r\n  'ui.router',\r\n  'angular-content-editable',\r\n  'UserValidation'\r\n]);\r\n\r\nangular.module('alpacaEditor').filter('toArray', function () {\r\n  return function (obj, addKey) {\r\n    if (!angular.isObject(obj)) return obj;\r\n    if ( addKey === false ) {\r\n      return Object.keys(obj).map(function(key) {\r\n        return obj[key];\r\n      });\r\n    } else {\r\n      return Object.keys(obj).map(function (key) {\r\n        var value = obj[key];\r\n        return angular.isObject(value) ?\r\n          Object.defineProperty(value, '$key', { enumerable: false, value: key}) :\r\n          { $key: key, $value: value };\r\n      });\r\n    }\r\n  };\r\n});\r\n\r\nangular.module('alpacaEditor').directive('scrollOnClick', function() {\r\n  return {\r\n    restrict: 'A',\r\n    link: function(scope, $elm, attrs) {\r\n      var idToScroll = attrs.href;\r\n    var speed = attrs.scrollSpeed;\r\n      $elm.on('click', function() {\r\n        var $target;\r\n        if (idToScroll) {\r\n          $target = $(idToScroll);\r\n        } else {\r\n          $target = $elm;\r\n        }\r\n        $(\"body\").animate({scrollTop: $target.offset().top}, speed || \"slow\");\r\n      });\r\n    }\r\n  }\r\n});\r\n","angular.module('alpacaEditor')\n.config([\n  '$stateProvider', \n  '$urlRouterProvider', \n  '$locationProvider', \n  function ($stateProvider, $urlRouterProvider, $locationProvider) {\n  \n  $locationProvider.html5Mode({\n    enabled: true,\n    requireBase: false\n  });\n  \n $stateProvider\n    .state('home', {\n      url: '/',\n      templateUrl: 'about.html'\n    })\n    .state('login', {\n      url: '/login',\n      controller: 'authCtrl'\n    })\n    .state('collections', {\n      url: '/collections',\n      templateUrl: 'collections.html',\n    })\n    .state('collections.collection', {\n      url: '/{collectionId}',\n      templateUrl: 'tabs/edit/edit.html',\n      resolve: {\n        slide: function(){\n          return {content: 'blah'}\n        }\n      }\n    })\n    // .state('editor', {\n    //   url: '/editor.html',\n    //   controller: 'authCtrl'\n    // })\n    .state('index', {\n      url: '/index.html',\n      controller: 'authCtrl'\n    })\n    .state('signup', {\n      url: '/signup.html',\n      controller: 'authCtrl'\n    })\n    .state('settings', {\n      url: '/settings.html',\n      controller: 'authCtrl'\n    })\n    .state('organization', {\n      url: '/organization.html',\n      controller: 'authCtrl'\n    })\n    .state('surveys', {\n      url: '/surveys.html',\n      controller: 'authCtrl'\n    });\n   \n\n  $urlRouterProvider.otherwise('/');  \n\n}]);","angular.module('alpacaEditor').directive('alpacaField', [\r\n\t'$compile', \r\n\t'$templateRequest', \r\n\tfunction($compile, $templateRequest) {\r\n\r\n\t\tvar link = function ($scope, element, attrs) {\r\n\t\t\t//console.log($scope.type)\r\n\t\t\tif (!$scope.type){\r\n\t\t\t\tconsole.error('undefined type', $scope);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t$templateRequest('alpaca-type-' + $scope.type).then(function(tpl){\r\n\t\t\t\tvar template = angular.element(tpl);\r\n\t\t\t\telement.html(template);\r\n\t\t\t\t$compile(template)($scope);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\trestrict: 'E',\r\n\t\t\tlink: link,\r\n\t\t\tscope: {\r\n\t\t\t\tmodel: '=',\r\n\t\t\t\ttype: '=',\r\n\t\t\t\tfield: '=',\r\n\t\t\t\tfn: '=',\r\n\t\t\t\tslide: '=',\r\n\t\t\t\ttemplates: '='\r\n\t\t\t}\r\n\t\t};\r\n}]);\r\n\r\nangular.module('UserValidation', []).directive('validPasswordC', \r\n\tfunction () {\r\n    return {\r\n        require: 'ngModel',\r\n        link: function (scope, elm, attrs, ctrl) {\r\n            ctrl.$parsers.unshift(function (viewValue, $scope) {\r\n                var noMatch = viewValue != scope.myForm.password.$viewValue\r\n                ctrl.$setValidity('noMatch', !noMatch)\r\n            })\r\n        }\r\n    }\r\n})","angular.module('alpacaEditor')\r\n.service('$collectionService', [\r\n\t'$firebaseArray',\r\n\t'$firebaseStorage',\r\n\tfunction($firebaseArray, $firebaseStorage){\r\n\r\n\t\tthis.collections = [];\r\n\t\tthis.currentCollection = null;\r\n\r\n\t\tthis.init = function(){\r\n\t\t\tvar ref = firebase.database().ref('collections/')\r\n\t\t\t\t.orderByChild('user_id')\r\n\t\t\t\t.equalTo(1);\r\n\t\t\tthis.collections = $firebaseArray(ref);\r\n\t\t};\r\n\r\n\t\tthis.add = function(){\r\n\t\t\tvar collection = {\r\n\t\t\t\ttitle: 'Untitled Collection',\r\n\t\t\t\tuser_id: 1,\r\n\t\t\t}\r\n\r\n\t\t\tthis.collections.$add(collection).then(function(ref) {\r\n\t\t\t  //collectionid = ref.key;\r\n\t\t\t  //console.log(\"added record with id \" + id);\r\n\t\t\t  //list.$indexFor(id);\r\n\t\t\t  this.currentCollection = this.collections[this.collections.$indexFor(ref.key)];\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tthis.remove = function(collection, index){\r\n\t\t\tthis.collections.$remove(collection);\r\n\t\t\t\r\n\t\t\tthis.index = null;\r\n\t\t\tthis.currentCollection = null;\r\n\t\t\t\r\n\t\t\tthis.removeImage(collection);\r\n\t\t}\r\n\r\n\t\tthis.setCurrent = function(collection, index){\r\n\t\t\tthis.currentCollection = collection;\r\n\t\t\tthis.index = index;\r\n\t\t}\r\n\r\n\t\tthis.setImage = function($flow, collection){\r\n\t\t\tvar file = $flow.files[$flow.files.length - 1].file;\r\n\r\n\t\t\tvar storageRef = firebase.storage()\r\n\t\t\t\t.ref(\"collection\")\r\n\t\t\t\t.child(collection.$id)\r\n\t\t\t\t.child('image');\r\n\r\n  \t\tvar uploadTask = $firebaseStorage(storageRef).$put(file);\r\n  \t\tuploadTask.$complete(function(snapshot) {\r\n\t\t\t\tcollection.img_url = snapshot.downloadURL;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.removeImage = function(collection){\r\n\t\t\tvar ref = firebase.storage()\r\n\t\t\t\t.ref(\"collection\")\r\n\t\t\t\t.child(collection.$id)\r\n\t\t\t\t.child('image');\r\n\r\n\t\t\t$firebaseStorage(ref).$delete().then(function(){\r\n\t\t\t\tcollection.img_url = null;\r\n\t\t\t});\r\n\t\t}\r\n\r\n}]);","// angular.module('alpacaEditor')\n//     .factory('person', function (fbURL, $firebase) {\n//         return $firebase(new Firebase(fbURL)).$asArray();\n//       })\n// angular.module('alpacaEditor')    \n//      .value('fbURL', 'https://hotpath-f9c54.firebaseio.com/')\n\nangular.module('alpacaEditor')\n    .controller(\"settingsController\", [\n        '$scope', \n        '$firebaseAuth',\n        '$firebaseObject',\n        '$firebaseStorage',\n        '$window',\n        '$rootScope',\n\n        function($scope, \n            $firebaseAuth, \n            $firebaseObject, \n            $firebaseStorage, \n            $window, \n            $rootScope) {\n\n            //Watch for rootScope.currentUser\n            $rootScope.$watch('currentUser', function() {\n                if($rootScope.currentUser) {\n                    var ref = firebase.database().ref('users').child($rootScope.currentUser.uid);\n                    $scope.user = $firebaseObject(ref);\n                    $scope.user.$bindTo($scope, 'user');\n                }\n               \n            });\n            $scope.setImage = function($flow){\n                var file = $flow.files[$flow.files.length - 1].file;\n                console.log(file);\n\n                var storageRef = firebase.storage().ref(\"users\")\n                    .child($rootScope.currentUser.uid)\n                    .child('profilePic');\n            $scope.storage = $firebaseStorage(storageRef);\n\n            var uploadTask = $scope.storage.$put(file);\n            uploadTask.$complete(function(snapshot) {\n                    console.log(snapshot.downloadURL);\n                    $scope.user.profilePic = snapshot.downloadURL;\n                    //console.log('users', model);\n                });\n            }\n\n            $scope.removeImage = function(){\n            var storageRef = firebase.storage().ref(\"users\")\n                .child($rootScope.currentUser.uid)\n                .child('profilePic');\n            $scope.storage = $firebaseStorage(storageRef);\n            $scope.storage.$delete().then(function(){\n                $scope.user.profilePic = null;\n            });\n            } \n\n            $scope.changeEmail = function(email) {\n                $scope.auth.$updateEmail(email).then(function() {\n                    console.log('email changed successfully');\n                }).catch(function(error) {\n                    console.log('error', error);\n                })\n            }\n            $scope.emailDisabled = true;\n            $scope.editorEnabled = false;\n\n}]);  ","angular.module('alpacaEditor').controller('demoController', [\r\n\t'$scope',\r\n\t'$templateList',\r\n\t'$schemas',\r\n\t'$timeout',\r\n\t'$firebaseAuth',\r\n\t'$firebaseObject',\r\n\t'$firebaseArray',\r\n\t'$firebaseStorage',\r\n\t'$collectionService',\r\n\t'$window',\r\n\tfunction(\r\n\t\t$scope, \r\n\t\t$templateList, \r\n\t\t$schemas, \r\n\t\t$timeout, \r\n\t\t$firebaseAuth, \r\n\t\t$firebaseObject, \r\n\t\t$firebaseArray,\r\n\t\t$firebaseStorage,\r\n\t\t$collectionService,\r\n\t\t$window){\r\n\r\n\tvar config = firebase.database().ref().child('config');\r\n\t$firebaseObject(config).$bindTo($scope, 'config');\r\n\r\n\t$scope.templates = $templateList.templates;\r\n\r\n\t//DELETE\r\n\t$scope.collectionSettingsTrue = function(){\r\n\t\t$scope.collectionSettings = true;\r\n\t}\r\n\r\n\t$scope.codemirrorOpts = {\r\n\t\t//mode: {name: 'jsonata', jsonata: jsonata, template: true},\r\n\t\tautoCloseBrackets: {\r\n\t\t\t\tpairs: \"()[]{}\",\r\n\t\t\t\ttriples: \"\",\r\n\t\t\t\texplode: \"[]{}()\"\r\n\t\t},\r\n\t\tmatchBrackets: true,\r\n\t\tviewportMargin: Infinity,\r\n\t\tlineNumbers: true\r\n\t}\r\n\r\n\t$scope.schemas = $schemas.schemas;\r\n\r\n\t$scope.devices = [\r\n\t\t{\r\n\t\t\tname: 'iPhone',\r\n\t\t\twidth: 480,\r\n\t\t\theight: 720,\r\n\t\t\tmaterial_icon: 'smartphone'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Desktop',\r\n\t\t\twidth: 1920,\r\n\t\t\theight: 1080,\r\n\t\t\tmaterial_icon: 'desktop_windows'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'iPad',\r\n\t\t\twidth: 1024,\r\n\t\t\theight: 768,\r\n\t\t\tmaterial_icon: 'tablet'\r\n\t\t}\r\n\t];\r\n\r\n\t$scope.setDevice = function(device) {\r\n\t\t$scope.device = device;\r\n\t\tconsole.log('set device:', device);\r\n\t}\r\n\r\n\t$scope.loading = false;\r\n\r\n\t$scope.search = function(){\r\n\t\t$scope.searching = true;\r\n\t\t\r\n\t\t///JQUERY DEP\r\n\t\t$timeout(function(){$('#search').focus()});\r\n\t}\r\n\r\n\t$scope.$on('device-ready', function(){\r\n\t\t$scope.setDevice($scope.devices[2]);\r\n\t\t$scope.loading = false;\r\n\t});\r\n\r\n\t$scope.fn = {\r\n\t\ttags: {\r\n\t\t\tsearch: function(query){\r\n\t\t\t\t//console.log('query', query);\r\n\t\t\t\tvar ret = [];\r\n\t\t\t\tangular.forEach($scope.config.tags, function(el){\r\n\t\t\t\t\tif (el.text.includes(query))\r\n\t\t\t\t\t\tret.push(el.text);\r\n\t\t\t\t})\r\n\t\t\t\treturn ret;\r\n\t\t\t},\r\n\t\t\tonTagAdded: function(tag){\r\n\t\t\t\t//firebase.database().ref('tags/').child(tag);\r\n\t\t\t\t//fire\r\n\t\t\t\tconsole.log('tag added', tag);\r\n\t\t\t},\r\n\t\t\tonTagRemoved: function(tag){\r\n\t\t\t\tconsole.log('tag removed', tag);\r\n\t\t\t}\r\n\t\t},\r\n\t\tfile: {\r\n\t\t\tfileSuccess: function($file, $flow, slide, field, model){\r\n\t\t\t\t\r\n\t\t\t\tvar file = $flow.files[$flow.files.length - 1].file;\r\n\t\t\t\tconsole.log(file);\r\n\r\n\t\t\t\tvar storageRef = firebase.storage().ref(\"slides\").child(slide.$id).child(field.key);\r\n    \t\t$scope.storage = $firebaseStorage(storageRef);\r\n\r\n    \t\tvar uploadTask = $scope.storage.$put(file);\r\n    \t\tuploadTask.$complete(function(snapshot) {\r\n  \t\t\t\tconsole.log(snapshot.downloadURL);\r\n  \t\t\t\tslide[field.key] = snapshot.downloadURL;\r\n  \t\t\t\tconsole.log('model', model);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tremoveFile: function(slide, field, model){\r\n\t\t\t\tvar storageRef = firebase.storage().ref(\"slides\").child(slide.$id).child(field.key);\r\n    \t\t$scope.storage = $firebaseStorage(storageRef);\r\n    \t\t$scope.storage.$delete();\r\n    \t\tslide[field.key] = null;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t$scope.currentUser = {\r\n\t\tname: 'Dan Poindexter',\r\n\t\tid: 1\r\n\t}\r\n\r\n\t$scope.organizations = [];\r\n\t$scope.organization = {\r\n\t\tinit: function(){ \r\n\t\t\tvar ref = firebase.database().ref('organizations/').orderByChild('user_id').equalTo($scope.currentUser.id);\r\n\t\t\t$scope.organizations = $firebaseArray(ref);\r\n\t\t},\r\n\t\tadd: function(){\r\n\r\n\t\t\tvar organization = {\r\n\t\t\t\tname: $scope.newOrganization.name,\r\n\t\t\t\temail: $scope.newOrganization.email,\r\n\t\t\t}\r\n\r\n\t\t\t$scope.organizations.$add(organization);\r\n\t\t},\r\n\t\tremove: function(organization){\r\n\t\t\t$scope.organizations.$remove(organization);\r\n\t\t},\r\n\t\tsettings: {\r\n\t\t\ttabs: [\r\n\t\t\t\t'Users',\r\n\t\t\t\t'Devices',\r\n\t\t\t\t'Tags',\r\n\t\t\t\t'Endpoints'\r\n\t\t\t],\r\n\t\t\tselectedTab: 'Users'\r\n\t\t}\r\n\t} //organization\r\n\r\n\t//$scope.collections = {};\r\n\t$scope.collections = $collectionService.collections;\r\n\t$scope.collection = $collectionService;\r\n\t$scope.currentCollection = $collectionService.currentCollection;\r\n\t$scope.collectionSettings = false;\r\n\t\r\n\t$scope.$watch('currentCollection', function(){\r\n\t\t$scope.slide.load($scope.currentCollection);\r\n\t\tif ($scope.collections.$save)\r\n\t\t\t$scope.collections.$save($scope.collection.index);\r\n\t\tif (!$scope.currentCollection){\r\n\t\t\t$scope.collectionSettings = false;\r\n\t\t\t$scope.slide.setCurrent(null, null);\r\n\t\t}\r\n\t}, true);\r\n\r\n\t//$scope.currentUser = {};\r\n\t/*$scope.user = {\r\n\t\tsignin: function() {\r\n\t\t\t$firebaseAuth().$signInWithEmailAndPassword(\r\n\r\n\t\t\t)\r\n\t\t},\r\n\t\tcreate: function(){\r\n\t\t\t$firebaseAuth().$createUserWithEmailAndPassword(\r\n\t\t\t\t\t$scope.newUser.email,\r\n\t\t\t\t\t$scope.newUser.password\r\n\t\t\t\t)\r\n\t\t\t\t.then(function(user){\r\n\t\t\t\t\t$scope.currentUser = user;\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t})\r\n\t\t},\r\n\t\tdelete: function(){\r\n\t\t\t$firebaseAuth().deleteUser()\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\tconsole.log('User Deleted. :/')\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t})\r\n\t\t}\r\n\t} //user\r\n*/\r\n\t$scope.slides = [];\r\n\t$scope.searchSlides = [];\r\n\t$scope.slide = {\r\n\t\tadd: function(kind){\r\n\r\n\t\t\t//TODO: Add Switch\r\n\r\n\t\t\tvar to = $scope.slide.index ? $scope.slide.index + 1 : $scope.slide.list.length;\r\n\r\n\t\t\tvar slide = {\r\n\t\t\t\tcollectionId: $scope.currentCollection.$id,\r\n\t\t\t\tkind: kind,\r\n\t\t\t\ttitle: 'untitled',\r\n\t\t\t\tindex: to\r\n\t\t\t}\r\n\r\n\t\t\t$scope.updateIndexes(\r\n\t\t\t\t$scope.slide.list, \r\n\t\t\t\tnull,\r\n\t\t\t\t$scope.slide.list.length,\r\n\t\t\t\tto, \r\n\t\t\t\tfunction(){\r\n\t\t\t\t\t$scope.slide.list.$add(slide);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\t\r\n\t\t},\r\n\t\tremove: function(node, list){\r\n\t\t\tconsole.log('Remove', node, list);\r\n\r\n\t\t\tif ($scope.selected === node){\r\n\t\t\t\t$scope.selected = null;\t\r\n\t\t\t}\r\n\r\n\t\t\t$scope.updateIndexes(\r\n\t\t\t\tlist, \r\n\t\t\t\tnode, \r\n\t\t\t\tnode.index, \r\n\t\t\t\tlist.length,\r\n\t\t\t\tfunction(){\r\n\t\t\t\t\tlist.$remove(node);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t},\r\n\t\tsave: function(node, list){\r\n\t\t\t//console.log('Saving node', node);\r\n\t\t\tlist.$save(node);\r\n\t\t},\r\n\t\tload: function(collection){\r\n\t\t\tif (!collection)\r\n\t\t\t\treturn;\r\n\t\t\t$scope.loading = true;\r\n\t\t\tconsole.log('id', collection.$id);\r\n\t\t\tvar ref = firebase.database().ref('/slides').orderByChild('collectionId').equalTo(collection.$id);\r\n\t\t\t$scope.slides = $firebaseArray(ref);\r\n\t\t\t$scope.slides.$loaded()\r\n\t\t\t\t.then(function(x){\r\n\t\t\t\t\tconsole.log('slides loaded', $scope.slides);\r\n\t\t\t\t\t$scope.$watch('selected', function(){\r\n\t\t\t\t\t\tif ($scope.slide.list){\r\n\t\t\t\t\t\t\t$scope.slide.list.$save(\r\n\t\t\t\t\t\t\t\t$scope.selected\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, true);\r\n\t\t\t\t\t$scope.slide.setCurrent($scope.slides[0], $scope.slides);\r\n\t\t\t\t\t$scope.loading = false;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tget: function(id){\r\n\r\n\t\t},\r\n\t\tsearch: function(){\r\n\t\t\t/*console.log('searching', $scope.searchtext);\r\n\t\t\tvar ref = firebase.database().ref('/slides').orderByChild('tags/' + $scope.searchtext).equalTo(true);\r\n\t\t\t$scope.searchSlides = $firebaseArray(ref);\r\n\t\t\t$scope.searchSlides.$loaded()\r\n\t\t\t\t.then(function(x){\r\n\t\t\t\t\tconsole.log('searchSlides', $scope.searchSlides);\r\n\t\t\t\t});\r\n\t\t\t\t*/\r\n\t\t\t\t$scope.searchSlides = null;\r\n\r\n\t\t\t\tif (!$scope.searchtext || $scope.searchtext.length < 3)\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\tvar ref = firebase.database().ref('search');\r\n\t\t\tvar query = {\r\n\t\t\t\tindex: 'firebase',\r\n\t\t\t\ttype: 'slide',\r\n\t\t\t\tq: $scope.searchtext + '*'\r\n\t\t\t};\r\n\r\n\t\t\tvar key = ref.child('request').push(query).key;\r\n\r\n\t\t\tconsole.log('search', key, query);\r\n\t\t\r\n\t\t\tref.child('response').child(key).on('value', function(snapshot){\r\n\t\t\t\tconsole.log('snapshot', snapshot.val());\r\n\t\t\t\tif (!snapshot.val())\r\n\t\t\t\t\treturn;\r\n\t\t\t\tvar hits = snapshot.val().hits;\r\n\t\t\t\tif (hits && hits.hits && hits.hits.length > 0){\r\n\t\t\t\t\t$scope.$apply(function(){\r\n\t\t\t\t\t\t$scope.searchSlides = hits.hits.map(function(hit){\r\n\t\t\t\t\t\t\treturn hit._source;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetCurrent: function(slide, list){\r\n\r\n\t\t\t$scope.slide.index = slide ? slide.index : null;\r\n\t\t\t$scope.selected = slide;\r\n\t\t\t$scope.slide.list = list;\r\n\r\n\t\t}\r\n\t} //slide\r\n\r\n\t$scope.$watch('searchtext', function(){\r\n\t\tconsole.log('searchtext', $scope.searchtext);\r\n\t\t$scope.slide.search($scope.searchtext);\r\n\t})\r\n\r\n\t// $scope.$watch('selected', function(){\r\n\t// \t$scope.slide.get($scope.selected.$id);\r\n\r\n\t// })\r\n\r\n\t$scope.frame = {\r\n\t\tupdate: function(){\r\n\t\t\tvar key = $scope.currentCollection.name + '-'\r\n\t\t\t\t\t\t\t\t+ $scope.currentLanguage.name + '-'\r\n\t\t\t\t\t\t\t\t+ $scope.currentVersion.name + '-'\r\n\t\t\t\t\t\t\t\t+ $scope.currentFrame.name\r\n\t\t}\r\n\t} //frame\r\n\r\n\t$scope.init = function(){\r\n\t\t$scope.organization.init();\r\n\t\t$scope.collection.init();\r\n\t\t}\r\n\r\n\t\r\n\t$scope.init();\r\n\r\n\t$scope.dropCallback = function(index, item, external, type, list){\r\n\t\tconsole.log('index', index, 'item', item, \r\n\t\t\t'external', external, 'type', type, 'list', list)\r\n\t\t\r\n\t\tvar _from = item.index;\r\n\t\tvar _to = (index > item.index) ? index - 1 : index;\r\n\t\t//console.log(_from + \" ----> \" + _to);\r\n\r\n\t\t$scope.updateIndexes(list, item, _from, _to);\r\n\r\n\t\t//Prevent client side array from changing\r\n\t\treturn false;\r\n\t}\r\n\r\n\t//Manually update indexes\r\n\t$scope.updateIndexes = function(list, item, _from, _to, callback){\r\n\t\tfor(var i=0; i < list.length; i++){\r\n\t\t\tvar el = list[i];\r\n\r\n\t\t\tconsole.log(_from + \" ----> \" + _to);\r\n\r\n\t\t\tif(item && el.$id == item.$id)\r\n\t\t\t\tel.index = _to;\r\n\t\t\telse if(el.index > _from && el.index <= _to)\r\n\t\t\t\tel.index = el.index - 1;\r\n\t\t\telse if(el.index < _from && el.index >= _to)\r\n\t\t\t\tel.index = el.index + 1;\r\n\t\t}\r\n\r\n\t\tfor(var i=0; i < list.length; i++){\r\n\t\t\tlist.$save(i);\r\n\t\t}\r\n\t\tif (callback)\r\n\t\t\tcallback();\r\n\t}\r\n\r\n}]);","angular.module('alpacaEditor')\r\n\t.controller(\"authCtrl\", [\r\n    \"$scope\", \r\n    \"$rootScope\", \r\n    \"$firebaseAuth\",\r\n    \"$state\",\r\n    \"$location\",\r\n    \"$window\",\r\n    \"$firebaseObject\",\r\n    \"$firebaseStorage\",\r\n    \"$timeout\",\r\n\r\n function($scope,\r\n  $rootScope,\r\n  $firebaseAuth, \r\n  $state, \r\n  $location, \r\n  $window,\r\n  $firebaseObject,\r\n  $firebaseStorage,\r\n  $timeout) {\r\n\r\n    $scope.signIn = function () {\r\n      $rootScope.auth.$signInWithEmailAndPassword(\r\n        $scope.email,  $scope.password\r\n      ).then(function(user) {\r\n        console.log(user);\r\n        $rootScope.currentUser = user;\r\n        $state.go('surveys');\r\n        $window.location.reload();\r\n      }, \r\n      function(error) {\r\n        // switch(error) {\r\n        //   case 'INVALID_EMAIL':\r\n        //     console.log('email invalid or not signed up');\r\n        //     alert('Invalid email!');\r\n        //   case 'INVALID_PASSWORD':\r\n        //     console.log('wrong password');\r\n        //     alert('wrong password');\r\n        //   default:\r\n        //     console.log(error);    \r\n        // }\r\n        if (error.code = 'INVALID_EMAIL') {\r\n          console.log('email invalid or not signed up  trying to sign you up!');\r\n          alert('Invalid email or password!'); //FIXME ONLY GOES IN THIS CONDITION\r\n          //$scope.signUp();\r\n        } else if (error.code = 'INVALID_PASSWORD') {\r\n          console.log('wrong password!');\r\n          alert('Wrong password!');\r\n        } else {\r\n          console.log(error);\r\n        }\r\n      });\r\n    };\r\n\r\n    $scope.signUp = function(firstName, \r\n      lastName, \r\n      email, \r\n      password) {\r\n      $rootScope.auth.$createUserWithEmailAndPassword(\r\n        $scope.email, $scope.password\r\n      ).then(function(firebaseUser) {\r\n          firebase.database().ref('users').child(firebaseUser.uid).set({\r\n            firstName: firstName,\r\n            lastName: lastName,\r\n            email: email\r\n          }).then(function() {\r\n            alert('Signed up successfully!')\r\n            $state.go('surveys').then(function(){\r\n              $window.location.reload(); //this doesn't work\r\n              console.log('routing to index');\r\n            });\r\n          })\r\n          console.log('user' + firebaseUser.uid + 'created successfully!');\r\n          console.log(firstName , lastName, email);\r\n\r\n      }).catch(function(error) {\r\n        console.error('Error', error);\r\n      });\r\n    };\r\n\r\n\r\n    $scope.resetPassword = function() {\r\n      $rootScope.auth.$sendPasswordResetEmail(\r\n        $scope.email\r\n        ).then(function() {\r\n          console.log(\"Password reset email sent successfully!\");\r\n          alert(\"Password reset email will be sent you shortly!\");\r\n      }).catch(function(error) {\r\n          console.error(\"Error: \", error);\r\n      }); \r\n    };\r\n\r\n\r\n    $scope.signOut = function() {\r\n      \r\n      $scope.auth.$signOut().then(function() {\r\n        $state.go('index');\r\n        $window.location.reload();\r\n        console.log('signed out');\r\n      }).catch(function(error) {\r\n          console.error(\"Error: \", error);\r\n      });\r\n    };\r\n\r\n\r\n    $scope.signInPageRoute = function()  {\r\n      console.log(\"route to a new page\");\r\n      $state.go('login');\r\n      $window.location.reload();\r\n    };\r\n\r\n\r\n    // $scope.editorPageRoute = function()  {\r\n    //   var firebaseUser = $rootScope.auth.$getAuth();\r\n    //   if (firebaseUser) {\r\n    //     console.log(\"Signed in as:\", firebaseUser.uid);\r\n    //     $state.go('editor');\r\n    //     $window.location.reload();\r\n    //   } else {\r\n    //     console.log(\"Please sign in\");\r\n    //     $state.go('login');\r\n    //     $window.location.reload();\r\n    //   }\r\n    // };\r\n\r\n    $scope.indexPageRoute = function()  {\r\n      var firebaseUser = $rootScope.auth.$getAuth();\r\n      $state.go('index');\r\n      $window.location.reload();\r\n      \r\n    };\r\n\r\n    $scope.signUpRoute = function()  {\r\n      console.log(\"route to a new page\");\r\n      $state.go('signup');\r\n      $window.location.reload();\r\n    };\r\n    $scope.settingsPageRoute = function()  {\r\n      console.log(\"route to a new page\");\r\n      $state.go('settings');\r\n      $window.location.reload();\r\n    };\r\n\r\n    $scope.collectionsPageRoute = function()  {\r\n      console.log(\"route to a new page\");\r\n      $state.go('collections');\r\n      $window.location.reload();\r\n    };\r\n    $scope.organizationPageRoute = function() {\r\n      console.log(\"route to a new page\");\r\n      $state.go('organization');\r\n      $window.location.reload();\r\n    };\r\n    $scope.surveysRoute = function() {\r\n      console.log(\"route to a new page\");\r\n      $state.go('surveys');\r\n      $window.location.reload();\r\n    };\r\n\r\n\r\n\r\n\t\t$scope.init = function(){\r\n\t\t\t$rootScope.auth = $firebaseAuth();\r\n      firebase.auth().onAuthStateChanged(function(firebaseUser) {\r\n        $rootScope.currentUser = firebaseUser;\r\n        //editme\r\n        //$scope.userEmail = firebaseUser.email;\r\n\r\n\r\n        console.log('auth state changed');\r\n        if($rootScope.currentUser) {\r\n          $scope.isLoggedIn = true;\r\n          var ref = firebase.database().ref('users').child($rootScope.currentUser.uid);\r\n          $scope.user = $firebaseObject(ref);\r\n          $scope.user.$bindTo($scope, 'user');\r\n          //$scope.isLoggedIn = true;\r\n\r\n        } else {\r\n          $timeout(function(){\r\n            $scope.isLoggedIn = false;\r\n          }, 100);\r\n          //$scope.isLoggedIn = false;\r\n        }\r\n\r\n      \r\n      \r\n      });\r\n\r\n\t\t}\r\n\r\n\t\t$scope.init();\r\n    $scope.searchValue ='';\r\n  }\r\n\r\n]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n","/*  Todo:\r\n *  *remove jquery dep\r\n *  *combine directives\r\n *  *on window resize\r\n *  *support iframe templates\r\n *  *clean up\r\n *  *publish to github\r\n *  *publish to npm\r\n */\r\n\r\nangular.module('alpacaEditor').directive('devicePreview', function() {\r\n\r\n  var link = function($scope, el, attrs) {\r\n\r\n    var parent = angular.element(el).parent();\r\n    var child = angular.element(el);\r\n\r\n    child.css({\r\n      'background': 'white',\r\n    })\r\n      \r\n    parent.css({\r\n      'display': 'flex',\r\n      'align-items': 'center',\r\n      'justify-content': 'center',\r\n    });\r\n\r\n/*function(){\r\n\r\n      return {\r\n        frame_size: $scope.$parent.frame_size\r\n        device: $scope.device\r\n      }\r\n\r\n    },*/\r\n\r\n    $scope.$watch('device',\r\n     function() {\r\n\r\n      var device = $scope.device;\r\n\r\n      if (!angular.element(el).parent()[0])\r\n        return false;\r\n\r\n      parent.width = $scope.$parent.frame_size.width;\r\n      parent.height = $scope.$parent.frame_size.height;\r\n\r\n      console.log($scope.device);\r\n      \r\n      /*$scope.$watch(\r\n        function(){\r\n          return {\r\n            width: parent.width,\r\n            height: parent.height\r\n          }\r\n        },\r\n        function(){\r\n          $scope.$apply();\r\n        }\r\n      )*/\r\n\r\n      var fit = (parent.width / parent.height > device.width / device.height);\r\n      var scale = fit ? parent.height / device.height : parent.width / device.width;\r\n      var width = fit ? device.width * parent.height / device.height : parent.width;\r\n      var height = fit ? parent.height : device.height * parent.width / device.width;\r\n      \r\n\r\n\r\n      child.css({\r\n        'transform': 'scale(' + scale +')',\r\n        //'zoom': scale,\r\n        'width': width / scale + 'px',\r\n        'height': height / scale + 'px',\r\n      });\r\n\r\n\r\n      var use = {\r\n        x: Math.max(device.width, width),\r\n        y: Math.max(device.height, height)\r\n      }\r\n      var translate = {\r\n        x: -1 * ((use.x - parent.width) / 2),\r\n        y: -1 * ((use.y - parent.height) / 2)\r\n      };\r\n\r\n      $scope.$parent.iframe.css({\r\n        'width': use.x,\r\n        'height': use.y,\r\n        'transform': 'translate(' + translate.x + 'px,' + translate.y + 'px)'\r\n      })\r\n\r\n      console.log('device', device.width, device.height);\r\n      console.log('parent', parent.width, parent.height);\r\n      console.log('scale', scale);\r\n      console.log('new', width, height);\r\n    });\r\n  };\r\n\r\n  return {\r\n    restrict: 'E',\r\n    link: link,\r\n    scope: {\r\n      'device': '='\r\n    }\r\n  }\r\n});\r\n\r\n//http://plnkr.co/edit/KRfAyc5haHyFq7FyCnxg?p=preview\r\nangular.module('alpacaEditor').directive(\"wrapInFrame\", [\r\n  '$compile',\r\n  '$timeout',\r\n  function($compile, $timeout) {\r\n  return {\r\n    restrict: \"E\",\r\n    scope: {},\r\n    transclude: true,\r\n    replace: false,\r\n    link: function($scope, $directiveElement, $attrs, $controller, $transclude) {\r\n      \r\n\r\n      /*$scope.$watch(\r\n          function () { \r\n              return {\r\n                 width: $directiveElement.parent().width(),\r\n                 height: $directiveElement.parent().height(),\r\n              }\r\n         },\r\n         function (data) {\r\n          $scope.$parent.frame_size = data;\r\n          //alert('size changed!');\r\n         }, //listener \r\n         true //deep watch\r\n      );*/\r\n      \r\n      $scope.$parent.frame_size = {\r\n        width: $directiveElement.parent().width(),\r\n        height: $directiveElement.parent().height()\r\n      }\r\n      \r\n      $transclude($scope.$parent, function($children, otherScope) {\r\n\r\n        $directiveElement.html(\"<iframe width='100%' height='100%'>\");\r\n        var iframe = $directiveElement.find(\"iframe\")[0];\r\n\r\n        $scope.$parent.iframe = angular.element(iframe);\r\n\r\n        iframe.onload = function() {\r\n\r\n          $scope.$parent.linked = true;\r\n          \r\n          var iframeBody = angular.element(iframe.contentWindow.document.body);\r\n\r\n          $(\"<link rel='stylesheet' href='./css/viewer.css'/>\").appendTo($(\"iframe\").contents().find(\"head\"));\r\n          //$(\"link[rel='stylesheet'], link[type='text/css'], link[href$='.css']\").clone().appendTo($(\"iframe\").contents().find(\"head\"));\r\n          $('<link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/icon?family=Material+Icons\"/>').appendTo($(\"iframe\").contents().find(\"head\"));\r\n\r\n          $compile($children)($scope.$parent, function(elem) {\r\n            iframeBody.append(elem);\r\n            $scope.$parent.$emit('device-ready');\r\n          });\r\n        };\r\n\r\n        iframe.src = '';\r\n      });\r\n    }\r\n  };\r\n}]);"]}