{"version":3,"sources":["angular-drag-and-drop-lists.js","ng-flow-standalone.js","angular-resizable.js","ng-tags-input.js","rzslider.js","ui-router.js","jsonata.js","codemirror.js","ui-codemirror.js","cm-jsonata.js","dirPagination.js","validation-match.js","alpaca-editor.js","config.js","alpaca-field.js","collections-controller.js","settings-controller.js","demo-controller.js","auth-controller.js","device-preview.js"],"names":["dndLists","filterEffects","effects","effectAllowed","filter","effect","toLowerCase","indexOf","MIME_TYPE","EDGE_MIME_TYPE","MSIE_MIME_TYPE","ALL_EFFECTS","directive","$parse","$timeout","scope","element","attr","dndDisableIf","$watch","disabled","on","event","originalEvent","dndState","isDragging","itemType","dndType","$eval","dropEffect","dndEffectAllowed","dataTransfer","item","dndDraggable","mimeType","setData","angular","toJson","e","data","type","effectsAllowed","addClass","_dndHandle","setDragImage","dndDragstart","dndCallback","callback","params","stopPropagation","$apply","cb","copy","link","move","none","dndDragend","undefined","removeClass","dndSelected","this","dragDrop","getMimeType","types","i","length","substr","getItemType","isDropAllowed","listSettings","externalSources","allowedTypes","getDropEffect","ignoreDataTransfer","ctrlKey","altKey","stopDragover","placeholder","remove","invokeCallback","expression","index","external","getPlaceholderIndex","Array","prototype","call","listNode","children","placeholderNode","getPlaceholderElement","forEach","childNode","child","hasClass","dndAllowedTypes","isArray","join","split","dndExternalSources","horizontal","dndHorizontalList","preventDefault","parentNode","append","target","listItemNode","rect","getBoundingClientRect","isFirstHalf","clientX","left","width","clientY","top","height","insertBefore","nextSibling","dndDragover","JSON","parse","getData","dndDrop","dndList","splice","dndInserted","newTarget","document","elementFromPoint","contains","_dndPhShown","module","window","Flow","opts","support","File","Blob","FileList","slice","webkitSlice","mozSlice","supportDirectory","test","navigator","userAgent","files","defaults","chunkSize","forceChunkSize","simultaneousUploads","singleFile","fileParameterName","progressCallbacksInterval","speedSmoothingFactor","query","headers","withCredentials","preprocess","method","testMethod","uploadMethod","prioritizeFirstAndLastChunk","allowDuplicateUploads","testChunks","generateUniqueIdentifier","maxChunkRetries","chunkRetryInterval","permanentErrors","successStatuses","onDropStopPropagation","initFileFn","readFileFn","webAPIFileRead","events","$","onDrop","items","webkitGetAsEntry","webkitReadDataTransfer","addFiles","preventEvent","extend","FlowFile","flowObj","file","bytes","name","fileName","size","relativePath","webkitRelativePath","uniqueIdentifier","chunks","paused","error","averageSpeed","currentSpeed","_lastProgressCallback","Date","now","_prevUploadedSize","_prevProgress","bootstrap","fileObj","startByte","endByte","fileType","chunk","function_name","readFinished","FlowChunk","offset","tested","retries","pendingRetry","preprocessState","readState","loaded","total","computeEndByte","Math","min","xhr","args","arguments","unshift","chunkEvent","apply","progressHandler","lengthComputable","testHandler","status","message","uploadNextChunk","send","doneHandler","abort","retryInterval","setTimeout","arrayRemove","array","value","evalOpts","async","fn","context","bind","dst","src","each","obj","key","hasOwnProperty","ie10plus","msPointerEnabled","push","off","fire","readDirectory","reader","readEntries","entries","queue","entry","isFile","fullPath","fileReadSuccess","readError","isDirectory","createReader","decrement","substring","fileError","getAsFile","custom","replace","preventEvents","found","outstanding","isComplete","assignBrowse","domNodes","attributes","Element","domNode","input","tagName","createElement","setAttribute","style","visibility","position","appendChild","addEventListener","click","assignDrop","unAssignDrop","removeEventListener","isUploading","uploading","_shouldUploadNext","num","should","upload","ret","started","resume","pause","cancel","progress","totalDone","totalSize","addFile","fileList","getFromUniqueIdentifier","f","removeFile","getSize","sizeUploaded","timeRemaining","sizeDelta","Number","POSITIVE_INFINITY","floor","measureSpeed","timeSpan","smoothingFactor","uploaded","max","reset","c","retry","round","ceil","bytesLoaded","percent","delta","getType","getExtension","lastIndexOf","getParams","flowChunkNumber","flowChunkSize","flowCurrentChunkSize","flowTotalSize","flowIdentifier","flowFilename","flowRelativePath","flowTotalChunks","getTarget","XMLHttpRequest","prepareXhrRequest","preprocessFinished","read","isTest","readyState","responseText","s","paramsMethod","blob","v","k","encodeURIComponent","FormData","open","setRequestHeader","version","exports","define","amd","provider","factory","options","$get","create","flow","controller","$scope","$attrs","flowFactory","flowInit","flowObject","catchAllHandler","eventName","shift","$broadcast","concat","filesSubmitted","fileSuccess","complete","defaultPrevented","$on","$flow","flowName","assign","restrict","require","attrs","isSingleFile","inputAttrs","flowAttrs","isFileDrag","dragEvent","fileDrag","val","promise","enter","flowDragEnter","flowDragLeave","flowDropEnabled","capitaliseFirstLetter","string","charAt","toUpperCase","fileProgress","fileAdded","filesAdded","fileRetry","uploadStart","eventArgs","funcArgs","flowImg","fileReader","FileReader","readAsDataURL","onload","$set","result","transfers","throttle","fun","toCall","rDirections","rCenteredX","rCenteredY","rWidth","rHeight","rFlex","rGrabber","rDisabled","rNoThrottle","flexBasis","documentElement","w","h","start","dragDir","axis","getComputedStyle","dir","vx","vy","inner","info","updateInfo","parseInt","id","evt","getClientX","touches","getClientY","dragging","resizingEmit","$emit","prop","dragEnd","dragStart","direction","getPropertyValue","cancelBubble","returnValue","grabber","innerHTML","ondragstart","down","which","KEYS","backspace","tab","escape","space","up","right","delete","comma","MAX_SAFE_INTEGER","SUPPORTED_INPUT_TYPES","tagsInput","$document","$window","$q","tagsInputConfig","tiUtil","TagList","onTagAdding","onTagRemoving","getTagText","setTagText","canAddTag","canRemoveTag","self","tag","safeToString","displayProperty","text","tagText","valid","minLength","maxLength","allowedTagsPattern","findInObjectArray","keyProperty","when","$tag","then","promisifyValue","addText","add","replaceSpacesWithDashes","trigger","catch","clearSelection","select","selected","selectPrior","selectNext","removeSelected","validateType","tags","templateScope","tagClass","onTagAdded","onInvalidTag","onTagRemoved","onTagClicked","transclude","templateUrl","$element","simplePubSub","load","template","String","tabindex","removeTagSymbol","fromCharCode","Boolean","addOnEnter","addOnSpace","addOnComma","addOnBlur","addOnPaste","pasteSplitPattern","RegExp","enableEditingLastTag","minTags","maxTags","allowLeftoverText","addFromAutocompleteOnly","spellcheck","tagList","handleUndefinedResult","registerAutocomplete","find","addTag","getTags","getCurrentTagText","newTag","getOptions","getTemplateScope","handler","registerTagItem","removeTag","ngModelCtrl","setElementValidity","focusInput","hotkeys","validationOptions","$setValidity","hasFocus","focus","$isEmpty","isDefined","invalid","track","getTagClass","$index","$selected","makeObjectArray","$validate","$observe","eventHandlers","keydown","$event","blur","activeElement","lostFocusToBrowserWindow","lostFocusToChildElement","paste","getTextData","clipboardData","host","$setDirty","triggerHandler","shouldAdd","shouldRemove","shouldSelect","shouldEditLastTag","keyCode","addKeys","isModifierOn","tagsInputCtrl","$$template","$$removeTagSymbol","$getDisplayText","$removeTag","$sce","SuggestionList","loadFn","getDifference","lastPromise","getTagId","array1","array2","a","b","defaultComparer","visible","show","selectFirstMatch","debounce","$query","maxResultsToShow","debounceDelay","scrollToElement","root","eq","parent","elementTop","elementHeight","parentHeight","parentScrollTop","source","matchClass","highlightMatchedText","loadOnDownArrow","loadOnEmpty","loadOnFocus","suggestionList","registerAutocompleteMatch","getQuery","shouldLoadSuggestions","addSuggestionByIndex","addSuggestion","added","getSuggestionClass","$match","handled","stopImmediatePropagation","autoCompleteCtrl","autoComplete","$parent","$highlight","safeHighlight","trustAsHtml","ctrl","transcludeFn","clone","span","resize","getTextAutosizeThreshold","css","originalValue","isString","$parsers","$formatters","$modelValue","tiBindAttrs","globalDefaults","interpolationStatus","autosizeThreshold","setDefaults","setActiveInterpolation","setTextAutosizeThreshold","threshold","$interpolate","converters","defaultValidator","localDefault","validator","converter","getDefault","updateValue","globalValue","newValue","delay","timeoutId","isObject","newArray","comparer","some","str","escapeRegexChars","encodeHTML","match","isUndefined","toString","trim","valueIfUndefined","shiftKey","metaKey","names","first","handlers","every","run","$templateCache","put","angularObj","defaultOptions","step","precision","minRange","maxRange","pushRange","minLimit","maxLimit","translate","getLegend","stepsArray","bindIndexForStepsArray","draggableRange","draggableRangeOnly","showSelectionBar","showSelectionBarEnd","showSelectionBarFromValue","hidePointerLabels","hideLimitLabels","autoHideLimitLabels","readOnly","interval","showTicks","showTicksValues","ticksArray","ticksTooltip","ticksValuesTooltip","vertical","getSelectionBarColor","getTickColor","getPointerColor","keyboardSupport","scale","enforceStep","enforceRange","noSwitching","onlyBindHandles","onStart","onChange","onEnd","rightToLeft","boundPointerLabels","mergeRangeLabelsIfSame","customTemplateScope","logScale","customValueToPosition","customPositionToValue","selectionBarGradient","globalOptions","func","wait","getTime","timeout","previous","later","remaining","trailing","$compile","RzSliderOptions","rzThrottle","Slider","sliderElem","lowValue","highValue","range","rzSliderModel","rzSliderHigh","active","difference","lowLimit","highLimit","positionProperty","dimensionProperty","handleHalfDim","maxPos","tracking","minValue","maxValue","valueRange","intermediateTicks","initHasRun","firstKeyDown","internalChange","cmbLabelShown","currentFocusElement","fullBar","selBar","minH","maxH","flrLab","ceilLab","minLab","maxLab","cmbLab","ticks","init","thrLow","thrHigh","calcDimFn","calcViewDimensions","applyOptions","syncLowValue","syncHighValue","initElemHandles","manageElementsStyle","setDisabledState","setMinAndMax","addAccessibility","updateCeilLab","updateFloorLab","initHandles","manageEventsBindings","onLowHandleChange","onHighHandleChange","resetLabelsValue","resetSlider","oldValue","unbindEvents","findStepIndex","modelValue","isDate","getStepValue","sliderValue","applyLowValue","applyHighValue","updateLowHandle","valueToPosition","updateSelectionBar","updateTicksScale","updateAriaAttributes","updateCmbLabel","updateHighHandle","sliderOptions","rzSliderOptions","isNumber","parseStepsArray","customTrFn","legend","refocusPointerIfNeeded","onPointerFocus","pointer","ref","focusElement","elem","jElem","rzsp","alwaysHide","hideLabelsForTicks","el","hide","rzAlwaysHide","hideEl","showEl","bindEvents","rzsv","translateFn","label","useCustomTr","valStr","getDimension","noLabelInjection","rzsd","html","Error","roundStep","sanitizeValue","aria-valuenow","aria-valuetext","aria-valuemin","aria-valuemax","handleWidth","barDimension","getTicksArray","reverse","map","tick","isTickSelected","transform","tooltip","tooltipPlacement","getDisplayValue","valueTooltip","valueTooltipPlacement","center","setPosition","updateHandles","newPos","getHandleLabelPos","labelName","labelRzsd","nearHandlePos","endOfBarPos","pointercolor","minPointerStyle","backgroundColor","shFloorCeil","maxPointerStyle","flHidden","clHidden","isMinLabAtFloor","isLabelBelowFloorLab","isMinLabAtCeil","isLabelAboveCeilLab","isMaxLabAtCeil","isCmbLabAtFloor","isCmbLabAtCeil","hideCeil","hideFloor","isRTL","pos","dim","floorPos","floorDim","ceilPos","ceilDim","dimension","isSelectionBarFromRight","positionForRange","abs","centerPosition","isModelGreaterThanCenter","setDimension","color","barStyle","reversed","backgroundImage","from","to","backgroundPosition","backgroundSize","pointerType","isLabelOverlap","lowTr","highTr","labelVal","customStep","steppedDifference","parseFloat","toPrecision","toFixed","bottom","linearValueToPosition","logValueToPosition","minVal","maxVal","log","positionToValue","linearPositionToValue","logPositionToValue","exp","getEventXY","clientXY","getEventPosition","sliderPos","eventPos","getEventNames","eventNames","moveEvent","endEvent","getNearestHandle","distanceMin","distanceMax","DOM_ELEMENT","barTracking","barStart","barMove","onDragStart","onDragMove","onMove","onTickClick","ehMove","ehEnd","one","callOnStart","fromTick","ceilValue","flrValue","positionTrackingHandle","moveEventName","callOnEnd","onPointerBlur","onKeyboardEvent","onKeyUp","getKeyActions","currentValue","increaseStep","decreaseStep","increasePage","decreasePage","actions","UP","DOWN","LEFT","RIGHT","PAGEUP","PAGEDOWN","HOME","END","keys","38","40","37","39","33","34","36","35","action","newMinValue","newMaxValue","positionTrackingBar","getValue","outOfBounds","isAbove","ceilLimit","flrLimit","isUnderFlrLimit","isOverCeilLimit","flrH","ceilH","applyModel","valueChanged","applyMinMaxLimit","applyPushRange","applyMinMaxRange","oppositeValue","callOnChange","$evalAsync","RzSlider","rzSliderTplUrl","slider","inherit","extra","merge","ancestors","second","path","n","objectKeys","object","Object","len","inheritParams","currentParams","newParams","$current","$to","parentParams","parents","inherited","inheritList","j","equalForKeys","filterByKeys","values","filtered","pick","omit","collection","silenceUncaughtInPromise","$Resolve","$injector","VISIT_IN_PROGRESS","VISIT_DONE","NOTHING","NO_DEPENDENCIES","NO_LOCALS","NO_PARENT","$$promises","$$values","study","invocables","visit","visited","cycle","plan","get","annotate","param","pop","isResolve","invocableKeys","locals","done","merged","$$inheritedValues","resolution","resolve","fail","reason","$$failure","reject","invoke","invocable","onfailure","invocation","proceed","defer","waitParams","dep","promises","ii","TemplateFactoryProvider","shouldUnsafelyUseHttp","minor","$http","TemplateFactory","fromConfig","config","fromString","fromUrl","templateProvider","fromProvider","isFunction","url","cache","Accept","response","UrlMatcher","pattern","parentMatcher","addParameter","location","paramNames","$$UMFP","Param","quoteRegExp","squash","optional","surroundPattern","matchDetails","m","isSearch","regexp","segment","cfg","last","caseInsensitive","searchPlaceholder","compiled","segments","$$new","ParamSet","p","exec","isOptional","lastIndex","search","sourceSearch","sourcePath","strict","prefix","$$paramNames","Type","$UrlMatcherFactory","valToString","~","/","valFromString","~~","~2F","getDefaultConfig","isStrictMode","isCaseInsensitive","isInjectable","flushTypeQueue","typeQueue","$types","injector","def","defaultSquashPolicy","enqueue","defaultTypes","encode","decode","is","int","bool","date","getFullYear","getMonth","getDate","capture","isNaN","valueOf","equals","toISOString","json","fromJson","any","identity","$$getDefaultValue","strictMode","compile","isMatcher","o","definition","definitionFn","unwrapShorthand","isShorthand","$$fn","urlType","getArrayMode","arrayDefaults","arrayParamNomenclature","getSquashPolicy","getReplace","arrayMode","configuredKeys","defaultPolicy","defaultValue","$value","hasReplaceVal","$replace","replacement","$normalize","$asArray","dynamic","$$parent","$$keys","chain","ignore","paramset","paramValues","$$equals","paramValues1","paramValues2","equal","$$validates","rawVal","normalized","encoded","$UrlRouterProvider","$locationProvider","$urlMatcherFactory","regExpPrefix","re","interpolate","what","handleIfMatch","$location","$rootScope","$browser","$sniffer","appendBasePath","isHtml5","absolute","baseHref","update","check","rule","lastPushedUrl","rules","otherwise","listen","listener","interceptDeferred","sync","urlMatcher","format","$$avoidResync","href","validates","html5Mode","enabled","history","hashPrefix","slash","port","protocol","redirect","handlerIsString","strategies","matcher","regex","global","sticky","deferIntercept","$inject","$StateProvider","$urlRouterProvider","isRelative","stateName","findState","stateOrName","base","isStr","rel","pathLength","current","state","states","queueState","parentName","flushQueuedChildren","queued","registerState","stateBuilder","$delegates","abstractKey","$stateParams","$state","navigable","transitionTo","isGlob","doesStateMatchGlob","glob","globSegments","l","MAX_VALUE","decorator","$view","$resolve","$urlRouter","handleRedirect","TransitionAborted","$retry","TransitionFailed","retryTransition","transition","toParams","TransitionSuperseded","resolveState","paramsAreFiltered","resolveViews","viewsPromises","views","view","injectables","$template","globals","notify","controllerProvider","injectLocals","$$controller","$$state","$$controllerAs","controllerAs","$$resolveAs","resolveAs","all","TransitionSupersededError","TransitionPrevented","reload","go","relative","fromParams","fromPath","toState","hash","redirectResult","toPath","keep","toLocals","reloadState","ownParams","shouldSkipReload","resolved","entering","exiting","onExit","onEnter","reduce","acc","paramDef","includes","lossy","nav","nonSearchParamsEqual","fromAndToState","notSearchParam","nonQueryParamKeys","nonQueryParams","nonQueryParamSet","reloadOnSearch","compositeName","","abstract","$ViewProvider","$templateFactory","$ViewScrollProvider","useAnchorScroll","$anchorScroll","scrollIntoView","$ViewDirective","$uiViewScroll","getService","service","has","getRenderer","statics","after","leave","$animate","$animator","animate","terminal","priority","tElement","tAttrs","$transclude","cleanupLastView","previousEl","currentScope","$destroy","currentEl","$uiViewData","renderer","$$animLeave","updateView","firstTime","newScope","getUiViewName","previousLocals","latestLocals","$new","animEnter","animLeave","viewAnimData","$animEnter","$animLeave","autoScrollExp","onloadExp","autoscroll","inheritedData","$ViewDirectiveFill","$controller","initial","empty","contents","resolveData","$onInit","uiView","uiViewCreatedBy","parseStateRef","parsed","preparsed","paramExpr","stateContext","stateData","getTypeInfo","isSvg","isForm","nodeName","isAnchor","clickable","clickHook","button","ignorePreventDefaultCount","defaultOpts","$StateRefDirective","uiSrefActive","hookFn","uiSref","unlinkInfoFn","uiSrefOpts","$$addStateInfo","$StateRefDynamicDirective","runStateRefLink","group","uiState","uiStateParams","uiStateOpts","watch","$StateRefActiveDirective","addState","stateParams","activeClass","stateHash","createStateHash","stateInfo","activeClasses","idx","anyMatch","exactMatch","activeEqClass","className","uiSrefActiveEq","newState","deregister","$IsStateFilter","isFilter","$stateful","$IncludedByStateFilter","includesFilter","defaultConfig","searchParams","decodePathArray","reverseString","unquoteDashes","allReversed","paramName","parameters","nTotal","nPath","paramVal","encodeDashes","charCodeAt","isPathParam","isDefaultValue","nextSegment","isFinalPathParam","$subPattern","sub","mode","ArrayType","bindTo","callbackName","arrayWrap","arrayUnwrap","falsey","arrayHandler","allTruthyMode","arrayEqualsHandler","val1","val2","$arrayMode","constant","autoinject","jsonata","parseSignature","signature","prevParam","symbol","next","findClosingBracket","openSymbol","closeSymbol","depth","contextRegex","endParen","choice","code","stack","endPos","subtype","regexStr","getSymbol","throwValidationError","badArgs","badSig","partialPattern","goodTo","validate","suppliedSig","arg","isValid","validatedArgs","argIndex","contextType","single","arrayOK","differentItems","isNumeric","isNum","isFinite","isArrayOfNumbers","evaluate","expr","environment","entryCallback","lookup","evaluatePath","evaluateBinary","evaluateUnary","evaluateName","evaluateLiteral","evaluateWildcard","evaluateDescendants","evaluateCondition","evaluateBlock","evaluateRegex","evaluateFunction","evaluateVariable","evaluateLambda","evaluatePartialApplication","applyPredicates","predicate","evaluateGroupExpression","exitCallback","inputSequence","keepSingletonArray","keepArray","resultSequence","res","innerRes","predicates","results","isInteger","ires","functionBoolean","evaluateNumericExpression","evaluateComparisonExpression","evaluateStringConcat","evaluateBooleanExpression","evaluateRangeExpression","evaluateBindExpression","evaluateIncludesExpression","evaluateApplyExpression","token","lhs","functionAppend","flatten","flattened","recurseDescendants","member","rhs","lstr","rstr","functionString","groups","pair","condition","else","frame","createFrame","expressions","closure","end","arg1","_jsonata_function","_jsonata_lambda","isLambda","applyto","evaluatedArgs","proc","procedure","validateArguments","err","applyInner","thunk","body","applyProcedure","implementation","partialApplyProcedure","partialApplyNativeFunction","env","applyNativeFunction","unboundArgs","native","sigArgs","getNativeFunctionArguments","sigArg","bodyAST","parser","partial","sigParens","defineFunction","functionSum","functionCount","functionMax","functionMin","functionAverage","stringify","functionSubstring","functionSubstringBefore","chars","functionSubstringAfter","functionLowercase","functionUppercase","functionLength","functionTrim","functionContains","matches","functionMatch","limit","count","functionReplace","replacer","regexMatch","substitute","dollarVal","maxDigits","LOG10E","submatch","replacedWith","functionSplit","separator","functionJoin","strs","functionNumber","trues","functionNot","functionMap","arr","varargs","func_args","functionFoldLeft","sequence","functionKeys","functionLookup","arg2","functionExists","functionSpread","enclosingEnvironment","bindings","lookupMessage","errorCodes","ast","staticFrame","exec_env","registerFunction","operators",".","[","]","{","}","(",")",",","@","#",";",":","?","+","-","*","%","|","=","<",">","`","**","..",":=","!=","<=",">=","~>","and","or","in","&","!","escapes","\"","\\","r","t","tokenizer","scanRegex","flags","currentChar","quoteType","qstr","octets","codepoint","numregex","ch","node","lexer","symbol_table","base_symbol","nud","bp","lbp","advance","infix","next_token","rbp","led","bindingPower","infixr","sigPos","sig","tok","objectParser","tail_call_optimize","post_parse","lstep","rest","S0101","S0102","S0103","S0104","S0203","S0202","S0204","S0205","S0208","S0209","S0210","S0201","S0206","S0207","S0301","S0302","S0402","S0401","T0410","T0411","T0412","D1001","D1002","T2001","T2002","T1003","T2003","T2004","D2005","D1004","T2006","T1005","T1006","T1007","T1008","D3001","D3010","D3011","D3012","D3020","D3030","CodeMirror","classTest","cls","removeChildren","childNodes","removeChild","firstChild","removeChildrenAndAdd","elt","content","cssText","createTextNode","nodeType","activeElt","joinClasses","as","copyObj","overwrite","countColumn","tabSize","startIndex","startValue","nextTab","findColumn","goal","col","skipped","spaceStr","spaceStrs","lst","out","insertSorted","score","nothing","createObj","props","inst","isWordCharBasic","nonASCIISingleCaseWordChar","isWordChar","helper","isEmpty","isExtendingChar","extendingChars","skipExtendingChars","findFirst","pred","mid","Display","place","doc","d","scrollbarFiller","gutterFiller","lineDiv","selectionDiv","cursorDiv","measure","lineMeasure","lineSpace","mover","sizer","sizerWidth","heightForcer","scrollerGap","gutters","lineGutter","scroller","wrapper","ie","ie_version","zIndex","paddingRight","webkit","gecko","mobile","draggable","viewFrom","viewTo","reportedViewFrom","reportedViewTo","renderedView","externalMeasured","viewOffset","lastWrapHeight","lastWrapWidth","updateLineNumbers","nativeBarWidth","barHeight","barWidth","scrollbarsClipped","lineNumWidth","lineNumInnerWidth","lineNumChars","alignWidgets","cachedCharWidth","cachedTextHeight","cachedPaddingH","maxLine","maxLineLength","maxLineChanged","wheelDX","wheelDY","wheelStartX","wheelStartY","selForContextMenu","activeTouch","getLine","lines","sz","getBetween","line","iter","getLines","updateLineHeight","diff","lineNo","cur","no","lineAtHeight","outer","i$1","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","x","minPos","clipLine","clipPos","clipToLen","linelen","clipPosArray","seeReadOnlySpans","sawReadOnlySpans","seeCollapsedSpans","sawCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","removeMarkedSpan","addMarkedSpan","markedSpans","attachLine","markedSpansBefore","old","startCh","isInsert","nw","startsBefore","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","span$1","found$1","clearEmptySpans","newMarkers","gapMarkers","gap","i$2","i$3","clearWhenEmpty","removeReadOnlyRanges","markers","mark","parts","mk","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","conflictingCollapsedRange","visualLine","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","findMaxLine","cm","display","iterateBidiSections","order","part","level","getBidiPartAt","bidiOther","getOrder","bidiOrdering","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","prepareMeasureForLine","targetTop","measureCharPrepared","moveVisually","bidi","partPos","mv","getWrappedLineExtent","lineWrapping","wrappedLineExtentChar","begin","wrappedLineExtent","searchInVisualLine","getRes","nextCh","getHandlers","emitter","_handlers","noHandlers","detachEvent","signal","signalDOMEvent","override","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","set","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","e_stopPropagation","e_stop","e_target","srcElement","e_button","mac","zeroWidthElement","zwspSupported","offsetHeight","offsetWidth","hasBadBidiRects","badBidiRects","txt","r0","r1","hasBadZoomedRects","badZoomedRects","normal","fromRange","defineMode","dependencies","modes","defineMIME","mime","spec","mimeModes","resolveMode","getMode","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","nstate","innerMode","startState","a1","a2","highlightLine","forceToEnd","st","modeGen","lineClasses","runMode","loop","overlay","overlays","at","i_end","opaque","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getStateBefore","maxHighlightLength","stateAfter","styleClasses","frontier","precise","findStartLine","processLine","save","startAt","stream","StringStream","callBlankLine","eol","readToken","blankLine","takeToken","asArray","getObj","tokens","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","updateLine","estimateHeight","estHeight","cleanUpLine","interpretTokenStyle","styleToClassCacheWithMode","styleToClassCache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","getOption","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","insertLineContent","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","title","startStyle","endStyle","displayText","special","specialChars","mustWrap","createDocumentFragment","txt$1","tabWidth","specialCharPlaceholder","fullStyle","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","Infinity","foundBookmarks","endStyles","j$1","j$2","upto","tokenText","LineView","hidden","buildViewArray","nextPos","pushOperation","op","operationGroup","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","callbacks","cursorActivityCalled","finishOperation","endCb","signalLater","list","orphanDelayedCallbacks","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","updateLineBackground","background","wrap","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","gutterWidth","alignable","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","paddingLeft","marginLeft","widgetHeight","parentStyle","clientWidth","eventInWidget","getAttribute","paddingTop","offsetTop","paddingVert","paddingH","currentStyle","scrollGap","displayWidth","displayHeight","clientHeight","ensureLineHeights","wrapping","curWidth","heights","rects","getClientRects","mapFromLineView","before","updateExternalMeasurement","measureChar","bias","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","nodeAndOffsetInLineMap","collapse","mStart","mEnd","coverStart","coverEnd","getUsefulRect","nullRect","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","pageScrollX","pageXOffset","scrollLeft","pageScrollY","pageYOffset","scrollTop","intoCoordSystem","includeWidgets","yOff","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","getBidi","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","mergedPos","prevDiff","prevPos","beginLeft","box","textHeight","measureText","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","colDiff","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","selection","sel","ranges","primIndex","showCursorWhenSelecting","drawSelectionCursor","head","drawSelectionRange","cursor","cursorHeight","otherCursor","fragment","rightSide","drawForLine","fromArg","toArg","lineLen","rightPos","leftPos","tmp","leftSide","padding","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorBlinkRate","setInterval","ensureFocus","onFocus","delayBlurEvent","delayingBlurEvent","onBlur","receivedFocus","rmClass","alignHorizontally","comp","gutterW","align","maybeUpdateLineNumberWidth","innerW","updateGutterSpace","updateHeightsInViewport","prevBottom","updateWidgetHeight","visibleLines","viewport","ensure","ensureFrom","ensureTo","setScrollTop","updateDisplaySimple","scrollbars","startWorker","setScrollLeft","isScroller","scrollWidth","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","wheelPixelsPerUnit","onScrollWheel","scroll","canScrollX","canScrollY","scrollHeight","currentWheelTarget","presto","pixels","wheelSamples","movedX","movedY","sample","measureForScrollbars","docH","viewHeight","viewWidth","barLeft","docHeight","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","borderBottom","coverGutterNextToScrollbar","initScrollbars","clear","scrollbarModel","scrollbarStyle","maybeScrollWindow","doScroll","innerHeight","phantom","scrollNode","scrollPosIntoView","margin","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","x1","y1","x2","y2","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollPos","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","isCursor","sPos","scrollTo","startOperation","viewChanged","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","nextOpId","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","i$4","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","minWidth","takeFocus","setDocumentHeight","postUpdateDisplay","forceScroll","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","regChange","lendiff","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","time","highlight","highlightWorker","workTime","changedLines","oldStyles","tooLong","highlighted","oldCls","newCls","ischange","workDelay","marginBottom","borderRightWidth","editorIsHidden","force","viewportMargin","different","wrapperHeight","toUpdate","patchDisplay","minHeight","oldDisplayWidth","updateNumbersFrom","rm","container","updateNumber","updateGutters","specs","gElt","setGuttersForLineNumbers","normalizeSelection","prim","sort","prev","inv","Range","Selection","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","Line","firstLine","lastText","lastSpans","nlines","insert","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","shared","attachDoc","History","startGen","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","origin","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","somethingSelected","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","deepCopy","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","this$1","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","sel_dontScroll","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","antiChanges","returned","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","splitLines","rebaseHistSelSingle","rebaseHistArray","ok","copied","changeLine","handle","changeType","adjustScrollWhenAboveVisible","addLineWidget","LineWidget","insertAt","aboveVisible","markText","markTextShared","TextMarker","addToHistory","curLine","clearOnEnter","clearHistory","nextMarkerId","cloneNode","isParent","SharedTextMarker","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","clearDragCursor","lastDrop","isReadOnly","loadFile","allowDropFileTypes","lineSeparator","readAsText","draggingText","text$1","listSelections","replaceSelection","getSelection","safari","img","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","ensureGlobalHandlers","globalsRegistered","registerGlobalHandlers","resizeTimer","onResize","setSize","normalizeKeyName","alt","cmd","mod","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyNames","keyName","noShift","altGraphKey","flipCtrlCmd","keyMap","deleteNearSelection","compute","kill","toKill","replaced","lineStart","visual","lineEnd","lineStartSmart","firstNonWS","inWS","doHandleBinding","bound","dropShift","commands","ensurePolled","prevShift","Pass","lookupKeyForEditor","keyMaps","extraKeys","dispatchKey","seq","keySeq","stopSeq","handleKeyBinding","motion","handleCharBinding","onKeyDown","lastStoppedKey","hasCopyEvent","showCrossHair","onKeyPress","charCode","onMouseDown","supportsTouch","clickInGutter","selectingText","leftButtonDown","lastMiddleDown","captureRightClick","onContextMenu","lastDoubleClick","lastClick","contained","modifier","dragAndDrop","leftButtonStartDrag","leftButtonSelect","startTime","e2","addNew","extendTo","lastPos","startCol","posCol","startSel","ourIndex","oldRange","ourRange","findWordAt","ranges$1","sel_mouse","curCount","counter","editorSize","chromeOS","word","gutterEvent","prevent","mX","mY","lineBox","g","contextMenuInGutter","themeChanged","theme","defineOptions","option","deflt","notOnInit","optionHandlers","Init","defineOption","setValue","lineSep","newBreaks","refresh","getInputField","windows","guttersChanged","detach","attach","wrappingChanged","integer","readOnlyChanged","dragDropChanged","resetPosition","getField","tabIndex","wasOn","funcs","dragFunctions","toggle","over","drop","Doc","inputStyles","inputStyle","pasteIncoming","cutIncoming","Delayed","autofocus","registerEventHandlers","opt","finishInit","initHooks","textRendering","finishTouch","touchFinished","prevTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","clearTimeout","moved","pageX","pageY","inp","indentLine","how","aggressive","indent","curSpace","indentation","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","setLastCopied","newLastCopied","lastCopied","applyTextInput","inserted","deleted","textLines","splitLinesAuto","multiPaste","lineWise","changeEvent","triggerElectric","handlePaste","pasted","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","getRange","disableBrowserMagic","field","hiddenTextarea","te","div","ios","border","addEditorMethods","helpers","constructor","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","indentSelection","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vert","horiz","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","execCommand","findPosH","amount","unit","hitSide","moveH","extendSelectionsBy","rtlMoveVisually","sel_move","deleteH","findPosV","goalColumn","moveV","goals","headPos","startChar","toggleOverwrite","getScrollInfo","interpret","oldHeight","swapDoc","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","findNextLine","moveOnce","boundToLine","origDir","sawType","pageSize","moveAmount","posToDOM","side","badPos","bad","domTextBetween","recognizeMarker","walk","cmText","textContent","markerID","closing","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","dist","previousSibling","dist$1","fromTextArea","textarea","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","platform","ie_upto10","ie_11up","edge","documentMode","qtwebkit","chrome","vendor","mac_geMountainLion","presto_version","createRange","endNode","setEnd","setStart","createTextRange","moveToElementText","moveEnd","moveStart","selectInput","selectionStart","selectionEnd","_e","ms","charType","lowTypes","arabicTypes","BidiSpan","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","outerType","type$1","prev$1","type$2","type$3","i$5","cur$1","type$4","i$6","end$1","replace$1","i$7","nstart","attachEvent","nl","rt","hasSelection","ownerDocument","parentElement","compareEndPoints","oncopy","lastColumnPos","lastColumnValue","sol","peek","eat","eatWhile","eatSpace","skipToEnd","skipTo","backUp","column","consume","cased","hideFirstChars","NativeScrollbars","checkedZeroWidth","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","maybeDisable","NullScrollbars","null","here","there","LeafChunk","removeInner","insertInner","iterN","BranchChunk","leaf","maybeSpill","me","spilled","sibling","myIndex","used","oldH","withOp","dHeight","nextDocId","cleanGeneration","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","setCursor","setSelections","addSelection","getSelections","dup","replaceSelections","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","splitIds","iterLinkedDocs","getEditor","eachLine","3","8","9","13","16","17","18","19","20","27","32","44","45","46","59","61","91","92","93","106","107","109","110","111","127","173","186","187","188","189","190","191","192","219","220","221","222","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","basic","Left","Right","Up","Down","End","Home","PageUp","PageDown","Delete","Backspace","Shift-Backspace","Tab","Shift-Tab","Enter","Insert","Esc","pcDefault","Ctrl-A","Ctrl-D","Ctrl-Z","Shift-Ctrl-Z","Ctrl-Y","Ctrl-Home","Ctrl-End","Ctrl-Up","Ctrl-Down","Ctrl-Left","Ctrl-Right","Alt-Left","Alt-Right","Ctrl-Backspace","Ctrl-Delete","Ctrl-S","Ctrl-F","Ctrl-G","Shift-Ctrl-G","Shift-Ctrl-F","Shift-Ctrl-R","Ctrl-[","Ctrl-]","Ctrl-U","Shift-Ctrl-U","Alt-U","emacsy","Ctrl-B","Ctrl-P","Ctrl-N","Alt-F","Alt-B","Ctrl-E","Ctrl-V","Shift-Ctrl-V","Ctrl-H","Alt-D","Alt-Backspace","Ctrl-K","Ctrl-T","Ctrl-O","macDefault","Cmd-A","Cmd-D","Cmd-Z","Shift-Cmd-Z","Cmd-Y","Cmd-Home","Cmd-Up","Cmd-End","Cmd-Down","Cmd-Left","Cmd-Right","Ctrl-Alt-Backspace","Alt-Delete","Cmd-S","Cmd-F","Cmd-G","Shift-Cmd-G","Cmd-Alt-F","Shift-Cmd-Alt-F","Cmd-[","Cmd-]","Cmd-Backspace","Cmd-Delete","Cmd-U","Shift-Cmd-U","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","goDocStart","goDocEnd","goLineStart","goLineStartSmart","goLineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","goLineDown","goPageUp","goPageDown","goCharLeft","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","transposeChars","newlineAndIndent","sels","openLine","defineInitHook","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","pollContent","readFromDOMSoon","forceCompositionEnd","showMultipleSelections","curAnchor","anchorNode","anchorOffset","curFocus","focusNode","focusOffset","rangeCount","getRangeAt","rng","removeAllRanges","addRange","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","poll","pollSelection","pollInterval","fromIndex","fromNode","toNode","toIndex","newText","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","TextareaInput","prevInput","pollingFast","inaccurateSelection","prepareCopyCut","fastPoll","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","minimal","slowPoll","missed","same","prepareSelectAllHack","extval","rehide","oldWrapperCSS","oldCSS","detectingSelectAll","resetSelectionOnContextMenu","wrapperBox","oldScrollY","scrollY","mouseup","dontDelegate","contenteditable","defineExtension","defineDocExtension","conf","handleChar","getConfig","closeBrackets","handleBackspace","pairs","around","charsAround","handleEnter","explode","contractSelection","inverted","triples","identical","opening","curType","enteringString","isClosingBracket","type1","findMatchingBracket","matching","scanForBracket","forward","maxScanLen","maxScanLineLength","maxScanLines","bracketRegex","matchBrackets","autoclear","maxHighlightLen","maxHighlightLineLength","marks","ie_lt8","doMatchBrackets","currentlyHighlighted","uiCodemirrorConfig","postLink","iElement","iAttrs","ngModel","codemirrorOptions","codemirror","uiCodemirror","uiCodemirrorOpts","newCodemirrorEditor","configOptionsWatcher","configNgModelLink","configUiRefreshAttribute","uiRefresh","onLoad","codemirrot","cm_el","uiCodemirrorAttr","updateOptions","newValues","codemirrorDefaultsKeys","$render","safeViewValue","$viewValue","instance","$setViewValue","codeMirror","uiRefreshAttr","newVal","oldVal","parserConfig","templateMode","||","templatizer","TOKEN_NAMES","operator","variable","number","dirPaginateDirective","paginationService","dirPaginationCompileFn","dirPaginate","filterPattern","itemsPerPageFilterRemoved","collectionGetter","addNoCompileAttributes","rawId","paginationId","DEFAULT_ID","registerInstance","deregisterInstance","repeatExpression","getRepeatExpression","addNgRepeatToElement","removeTemporaryAttributes","currentPageGetter","makeCurrentPageGetterFn","setCurrentPageParser","totalItems","setAsyncModeTrue","setCollectionLength","setAsyncModeFalse","$watchCollection","collectionLength","idDefinedInFilter","hasAttribute","removeAttr","currentPage","defaultCurrentPage","multiElement","noCompileDirective","dirPaginationControlsTemplateInstaller","dirPaginationControlsDirective","paginationTemplate","dirPaginationControlsLinkFn","goToPage","isRegistered","isValidPageNumber","oldPageNumber","pagination","pages","generatePagesArray","getCollectionLength","getItemsPerPage","paginationRange","updateRangeValues","onPageChange","newPageNumber","generatePagination","page","getCurrentPage","setCurrent","itemsPerPage","lower","upper","numberRegex","idMessage","console","warn","maxSize","autoHide","directionLinks","boundaryLinks","previousPage","setCurrentPage","tracker","rowsPerPage","totalPages","halfWay","ellipsesNeeded","pageNumber","calculatePageNumber","openingEllipsesNeeded","closingEllipsesNeeded","DDO","templateString","getString","getPath","itemsPerPageFilter","isAsyncMode","setItemsPerPage","slicedObject","objKeys","lastRegisteredInstance","instances","instanceId","asyncMode","getLastInstanceId","currentPageParser","paginationTemplateProvider","templatePath","setPath","setString","moduleName","u","matchCaseless","notMatch","matchIgnoreEmpty","$$parseAndValidate","$validators","lowercase","addKey","defineProperty","enumerable","$key","$stateProvider","requireBase","$templateRequest","tpl","model","slide","templates","searchValue","surveys","organization","summary","img_url","$firebaseAuth","$firebaseObject","$firebaseStorage","currentUser","firebase","database","uid","user","$bindTo","setImage","storageRef","storage","uploadTask","$put","$complete","snapshot","downloadURL","profilePic","removeImage","$delete","changeEmail","email","auth","$updateEmail","editorEnabled","$templateList","$schemas","$firebaseArray","defaultTags","newDevice","addDevice","devices","tabs","icon","users","setTab","codemirrorOpts","autoCloseBrackets","schemas","maximized","maximizePreview","toggleClass","material_icon","setDevice","device","loading","searching","$file","$id","organizations","orderByChild","equalTo","newOrganization","$add","$remove","settings","selectedTab","collections","user_id","currentCollection","$indexFor","$save","collectionSettings","slides","kind","collectionId","$loaded","new_val","old_val","currentLanguage","currentVersion","currentFrame","signIn","$signInWithEmailAndPassword","password","alert","signUp","firstName","lastName","$createUserWithEmailAndPassword","firebaseUser","resetPassword","$sendPasswordResetEmail","signOut","$signOut","signInPageRoute","editorPageRoute","$getAuth","indexPageRoute","signUpRoute","settingsPageRoute","collectionsPageRoute","organizationPageRoute","onAuthStateChanged","isLoggedIn","align-items","justify-content","frame_size","fit","use","iframe","$directiveElement","$children","otherScope","iframeBody","contentWindow","appendTo"],"mappings":"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","file":"alpaca-editor.min.js","sourcesContent":["/**\r\n * angular-drag-and-drop-lists v2.1.0\r\n *\r\n * Copyright (c) 2014 Marcel Juenemann marcel@juenemann.cc\r\n * Copyright (c) 2014-2017 Google Inc.\r\n * https://github.com/marceljuenemann/angular-drag-and-drop-lists\r\n *\r\n * License: MIT\r\n */\r\n(function(dndLists) {\r\n\r\n  // In standard-compliant browsers we use a custom mime type and also encode the dnd-type in it.\r\n  // However, IE and Edge only support a limited number of mime types. The workarounds are described\r\n  // in https://github.com/marceljuenemann/angular-drag-and-drop-lists/wiki/Data-Transfer-Design\r\n  var MIME_TYPE = 'application/x-dnd';\r\n  var EDGE_MIME_TYPE = 'application/json';\r\n  var MSIE_MIME_TYPE = 'Text';\r\n\r\n  // All valid HTML5 drop effects, in the order in which we prefer to use them.\r\n  var ALL_EFFECTS = ['move', 'copy', 'link'];\r\n\r\n  /**\r\n   * Use the dnd-draggable attribute to make your element draggable\r\n   *\r\n   * Attributes:\r\n   * - dnd-draggable      Required attribute. The value has to be an object that represents the data\r\n   *                      of the element. In case of a drag and drop operation the object will be\r\n   *                      serialized and unserialized on the receiving end.\r\n   * - dnd-effect-allowed Use this attribute to limit the operations that can be performed. Valid\r\n   *                      options are \"move\", \"copy\" and \"link\", as well as \"all\", \"copyMove\",\r\n   *                      \"copyLink\" and \"linkMove\". The semantics of these operations are up to you\r\n   *                      and have to be implemented using the callbacks described below. If you\r\n   *                      allow multiple options, the user can choose between them by using the\r\n   *                      modifier keys (OS specific). The cursor will be changed accordingly,\r\n   *                      expect for IE and Edge, where this is not supported.\r\n   * - dnd-type           Use this attribute if you have different kinds of items in your\r\n   *                      application and you want to limit which items can be dropped into which\r\n   *                      lists. Combine with dnd-allowed-types on the dnd-list(s). This attribute\r\n   *                      must be a lower case string. Upper case characters can be used, but will\r\n   *                      be converted to lower case automatically.\r\n   * - dnd-disable-if     You can use this attribute to dynamically disable the draggability of the\r\n   *                      element. This is useful if you have certain list items that you don't want\r\n   *                      to be draggable, or if you want to disable drag & drop completely without\r\n   *                      having two different code branches (e.g. only allow for admins).\r\n   *\r\n   * Callbacks:\r\n   * - dnd-dragstart      Callback that is invoked when the element was dragged. The original\r\n   *                      dragstart event will be provided in the local event variable.\r\n   * - dnd-moved          Callback that is invoked when the element was moved. Usually you will\r\n   *                      remove your element from the original list in this callback, since the\r\n   *                      directive is not doing that for you automatically. The original dragend\r\n   *                      event will be provided in the local event variable.\r\n   * - dnd-copied         Same as dnd-moved, just that it is called when the element was copied\r\n   *                      instead of moved, so you probably want to implement a different logic.\r\n   * - dnd-linked         Same as dnd-moved, just that it is called when the element was linked\r\n   *                      instead of moved, so you probably want to implement a different logic.\r\n   * - dnd-canceled       Callback that is invoked if the element was dragged, but the operation was\r\n   *                      canceled and the element was not dropped. The original dragend event will\r\n   *                      be provided in the local event variable.\r\n   * - dnd-dragend        Callback that is invoked when the drag operation ended. Available local\r\n   *                      variables are event and dropEffect.\r\n   * - dnd-selected       Callback that is invoked when the element was clicked but not dragged.\r\n   *                      The original click event will be provided in the local event variable.\r\n   * - dnd-callback       Custom callback that is passed to dropzone callbacks and can be used to\r\n   *                      communicate between source and target scopes. The dropzone can pass user\r\n   *                      defined variables to this callback.\r\n   *\r\n   * CSS classes:\r\n   * - dndDragging        This class will be added to the element while the element is being\r\n   *                      dragged. It will affect both the element you see while dragging and the\r\n   *                      source element that stays at it's position. Do not try to hide the source\r\n   *                      element with this class, because that will abort the drag operation.\r\n   * - dndDraggingSource  This class will be added to the element after the drag operation was\r\n   *                      started, meaning it only affects the original element that is still at\r\n   *                      it's source position, and not the \"element\" that the user is dragging with\r\n   *                      his mouse pointer.\r\n   */\r\n  dndLists.directive('dndDraggable', ['$parse', '$timeout', function($parse, $timeout) {\r\n    return function(scope, element, attr) {\r\n      // Set the HTML5 draggable attribute on the element.\r\n      element.attr(\"draggable\", \"true\");\r\n\r\n      // If the dnd-disable-if attribute is set, we have to watch that.\r\n      if (attr.dndDisableIf) {\r\n        scope.$watch(attr.dndDisableIf, function(disabled) {\r\n          element.attr(\"draggable\", !disabled);\r\n        });\r\n      }\r\n\r\n      /**\r\n       * When the drag operation is started we have to prepare the dataTransfer object,\r\n       * which is the primary way we communicate with the target element\r\n       */\r\n      element.on('dragstart', function(event) {\r\n        event = event.originalEvent || event;\r\n\r\n        // Check whether the element is draggable, since dragstart might be triggered on a child.\r\n        if (element.attr('draggable') == 'false') return true;\r\n\r\n        // Initialize global state.\r\n        dndState.isDragging = true;\r\n        dndState.itemType = attr.dndType && scope.$eval(attr.dndType).toLowerCase();\r\n\r\n        // Set the allowed drop effects. See below for special IE handling.\r\n        dndState.dropEffect = \"none\";\r\n        dndState.effectAllowed = attr.dndEffectAllowed || ALL_EFFECTS[0];\r\n        event.dataTransfer.effectAllowed = dndState.effectAllowed;\r\n\r\n        // Internet Explorer and Microsoft Edge don't support custom mime types, see design doc:\r\n        // https://github.com/marceljuenemann/angular-drag-and-drop-lists/wiki/Data-Transfer-Design\r\n        var item = scope.$eval(attr.dndDraggable);\r\n        var mimeType = MIME_TYPE + (dndState.itemType ? ('-' + dndState.itemType) : '');\r\n        try {\r\n          event.dataTransfer.setData(mimeType, angular.toJson(item));\r\n        } catch (e) {\r\n          // Setting a custom MIME type did not work, we are probably in IE or Edge.\r\n          var data = angular.toJson({item: item, type: dndState.itemType});\r\n          try {\r\n            event.dataTransfer.setData(EDGE_MIME_TYPE, data);\r\n          } catch (e) {\r\n            // We are in Internet Explorer and can only use the Text MIME type. Also note that IE\r\n            // does not allow changing the cursor in the dragover event, therefore we have to choose\r\n            // the one we want to display now by setting effectAllowed.\r\n            var effectsAllowed = filterEffects(ALL_EFFECTS, dndState.effectAllowed);\r\n            event.dataTransfer.effectAllowed = effectsAllowed[0];\r\n            event.dataTransfer.setData(MSIE_MIME_TYPE, data);\r\n          }\r\n        }\r\n\r\n        // Add CSS classes. See documentation above.\r\n        element.addClass(\"dndDragging\");\r\n        $timeout(function() { element.addClass(\"dndDraggingSource\"); }, 0);\r\n\r\n        // Try setting a proper drag image if triggered on a dnd-handle (won't work in IE).\r\n        if (event._dndHandle && event.dataTransfer.setDragImage) {\r\n          event.dataTransfer.setDragImage(element[0], 0, 0);\r\n        }\r\n\r\n        // Invoke dragstart callback and prepare extra callback for dropzone.\r\n        $parse(attr.dndDragstart)(scope, {event: event});\r\n        if (attr.dndCallback) {\r\n          var callback = $parse(attr.dndCallback);\r\n          dndState.callback = function(params) { return callback(scope, params || {}); };\r\n        }\r\n\r\n        event.stopPropagation();\r\n      });\r\n\r\n      /**\r\n       * The dragend event is triggered when the element was dropped or when the drag\r\n       * operation was aborted (e.g. hit escape button). Depending on the executed action\r\n       * we will invoke the callbacks specified with the dnd-moved or dnd-copied attribute.\r\n       */\r\n      element.on('dragend', function(event) {\r\n        event = event.originalEvent || event;\r\n\r\n        // Invoke callbacks. Usually we would use event.dataTransfer.dropEffect to determine\r\n        // the used effect, but Chrome has not implemented that field correctly. On Windows\r\n        // it always sets it to 'none', while Chrome on Linux sometimes sets it to something\r\n        // else when it's supposed to send 'none' (drag operation aborted).\r\n        scope.$apply(function() {\r\n          var dropEffect = dndState.dropEffect;\r\n          var cb = {copy: 'dndCopied', link: 'dndLinked', move: 'dndMoved', none: 'dndCanceled'};\r\n          $parse(attr[cb[dropEffect]])(scope, {event: event});\r\n          $parse(attr.dndDragend)(scope, {event: event, dropEffect: dropEffect});\r\n        });\r\n\r\n        // Clean up\r\n        dndState.isDragging = false;\r\n        dndState.callback = undefined;\r\n        element.removeClass(\"dndDragging\");\r\n        element.removeClass(\"dndDraggingSource\");\r\n        event.stopPropagation();\r\n\r\n        // In IE9 it is possible that the timeout from dragstart triggers after the dragend handler.\r\n        $timeout(function() { element.removeClass(\"dndDraggingSource\"); }, 0);\r\n      });\r\n\r\n      /**\r\n       * When the element is clicked we invoke the callback function\r\n       * specified with the dnd-selected attribute.\r\n       */\r\n      element.on('click', function(event) {\r\n        if (!attr.dndSelected) return;\r\n\r\n        event = event.originalEvent || event;\r\n        scope.$apply(function() {\r\n          $parse(attr.dndSelected)(scope, {event: event});\r\n        });\r\n\r\n        // Prevent triggering dndSelected in parent elements.\r\n        event.stopPropagation();\r\n      });\r\n\r\n      /**\r\n       * Workaround to make element draggable in IE9\r\n       */\r\n      element.on('selectstart', function() {\r\n        if (this.dragDrop) this.dragDrop();\r\n      });\r\n    };\r\n  }]);\r\n\r\n  /**\r\n   * Use the dnd-list attribute to make your list element a dropzone. Usually you will add a single\r\n   * li element as child with the ng-repeat directive. If you don't do that, we will not be able to\r\n   * position the dropped element correctly. If you want your list to be sortable, also add the\r\n   * dnd-draggable directive to your li element(s).\r\n   *\r\n   * Attributes:\r\n   * - dnd-list             Required attribute. The value has to be the array in which the data of\r\n   *                        the dropped element should be inserted. The value can be blank if used\r\n   *                        with a custom dnd-drop handler that always returns true.\r\n   * - dnd-allowed-types    Optional array of allowed item types. When used, only items that had a\r\n   *                        matching dnd-type attribute will be dropable. Upper case characters will\r\n   *                        automatically be converted to lower case.\r\n   * - dnd-effect-allowed   Optional string expression that limits the drop effects that can be\r\n   *                        performed in the list. See dnd-effect-allowed on dnd-draggable for more\r\n   *                        details on allowed options. The default value is all.\r\n   * - dnd-disable-if       Optional boolean expresssion. When it evaluates to true, no dropping\r\n   *                        into the list is possible. Note that this also disables rearranging\r\n   *                        items inside the list.\r\n   * - dnd-horizontal-list  Optional boolean expresssion. When it evaluates to true, the positioning\r\n   *                        algorithm will use the left and right halfs of the list items instead of\r\n   *                        the upper and lower halfs.\r\n   * - dnd-external-sources Optional boolean expression. When it evaluates to true, the list accepts\r\n   *                        drops from sources outside of the current browser tab. This allows to\r\n   *                        drag and drop accross different browser tabs. The only major browser\r\n   *                        that does not support this is currently Microsoft Edge.\r\n   *\r\n   * Callbacks:\r\n   * - dnd-dragover         Optional expression that is invoked when an element is dragged over the\r\n   *                        list. If the expression is set, but does not return true, the element is\r\n   *                        not allowed to be dropped. The following variables will be available:\r\n   *                        - event: The original dragover event sent by the browser.\r\n   *                        - index: The position in the list at which the element would be dropped.\r\n   *                        - type: The dnd-type set on the dnd-draggable, or undefined if non was\r\n   *                          set. Will be null for drops from external sources in IE and Edge,\r\n   *                          since we don't know the type in those cases.\r\n   *                        - dropEffect: One of move, copy or link, see dnd-effect-allowed.\r\n   *                        - external: Whether the element was dragged from an external source.\r\n   *                        - callback: If dnd-callback was set on the source element, this is a\r\n   *                          function reference to the callback. The callback can be invoked with\r\n   *                          custom variables like this: callback({var1: value1, var2: value2}).\r\n   *                          The callback will be executed on the scope of the source element. If\r\n   *                          dnd-external-sources was set and external is true, this callback will\r\n   *                          not be available.\r\n   * - dnd-drop             Optional expression that is invoked when an element is dropped on the\r\n   *                        list. The same variables as for dnd-dragover will be available, with the\r\n   *                        exception that type is always known and therefore never null. There\r\n   *                        will also be an item variable, which is the transferred object. The\r\n   *                        return value determines the further handling of the drop:\r\n   *                        - falsy: The drop will be canceled and the element won't be inserted.\r\n   *                        - true: Signalises that the drop is allowed, but the dnd-drop\r\n   *                          callback already took care of inserting the element.\r\n   *                        - otherwise: All other return values will be treated as the object to\r\n   *                          insert into the array. In most cases you want to simply return the\r\n   *                          item parameter, but there are no restrictions on what you can return.\r\n   * - dnd-inserted         Optional expression that is invoked after a drop if the element was\r\n   *                        actually inserted into the list. The same local variables as for\r\n   *                        dnd-drop will be available. Note that for reorderings inside the same\r\n   *                        list the old element will still be in the list due to the fact that\r\n   *                        dnd-moved was not called yet.\r\n   *\r\n   * CSS classes:\r\n   * - dndPlaceholder       When an element is dragged over the list, a new placeholder child\r\n   *                        element will be added. This element is of type li and has the class\r\n   *                        dndPlaceholder set. Alternatively, you can define your own placeholder\r\n   *                        by creating a child element with dndPlaceholder class.\r\n   * - dndDragover          Will be added to the list while an element is dragged over the list.\r\n   */\r\n  dndLists.directive('dndList', ['$parse', function($parse) {\r\n    return function(scope, element, attr) {\r\n      // While an element is dragged over the list, this placeholder element is inserted\r\n      // at the location where the element would be inserted after dropping.\r\n      var placeholder = getPlaceholderElement();\r\n      placeholder.remove();\r\n\r\n      var placeholderNode = placeholder[0];\r\n      var listNode = element[0];\r\n      var listSettings = {};\r\n\r\n      /**\r\n       * The dragenter event is fired when a dragged element or text selection enters a valid drop\r\n       * target. According to the spec, we either need to have a dropzone attribute or listen on\r\n       * dragenter events and call preventDefault(). It should be noted though that no browser seems\r\n       * to enforce this behaviour.\r\n       */\r\n      element.on('dragenter', function (event) {\r\n        event = event.originalEvent || event;\r\n\r\n        // Calculate list properties, so that we don't have to repeat this on every dragover event.\r\n        var types = attr.dndAllowedTypes && scope.$eval(attr.dndAllowedTypes);\r\n        listSettings = {\r\n          allowedTypes: angular.isArray(types) && types.join('|').toLowerCase().split('|'),\r\n          disabled: attr.dndDisableIf && scope.$eval(attr.dndDisableIf),\r\n          externalSources: attr.dndExternalSources && scope.$eval(attr.dndExternalSources),\r\n          horizontal: attr.dndHorizontalList && scope.$eval(attr.dndHorizontalList)\r\n        };\r\n\r\n        var mimeType = getMimeType(event.dataTransfer.types);\r\n        if (!mimeType || !isDropAllowed(getItemType(mimeType))) return true;\r\n        event.preventDefault();\r\n      });\r\n\r\n      /**\r\n       * The dragover event is triggered \"every few hundred milliseconds\" while an element\r\n       * is being dragged over our list, or over an child element.\r\n       */\r\n      element.on('dragover', function(event) {\r\n        event = event.originalEvent || event;\r\n\r\n        // Check whether the drop is allowed and determine mime type.\r\n        var mimeType = getMimeType(event.dataTransfer.types);\r\n        var itemType = getItemType(mimeType);\r\n        if (!mimeType || !isDropAllowed(itemType)) return true;\r\n\r\n        // Make sure the placeholder is shown, which is especially important if the list is empty.\r\n        if (placeholderNode.parentNode != listNode) {\r\n          element.append(placeholder);\r\n        }\r\n\r\n        if (event.target != listNode) {\r\n          // Try to find the node direct directly below the list node.\r\n          var listItemNode = event.target;\r\n          while (listItemNode.parentNode != listNode && listItemNode.parentNode) {\r\n            listItemNode = listItemNode.parentNode;\r\n          }\r\n\r\n          if (listItemNode.parentNode == listNode && listItemNode != placeholderNode) {\r\n            // If the mouse pointer is in the upper half of the list item element,\r\n            // we position the placeholder before the list item, otherwise after it.\r\n            var rect = listItemNode.getBoundingClientRect();\r\n            if (listSettings.horizontal) {\r\n              var isFirstHalf = event.clientX < rect.left + rect.width / 2;\r\n            } else {\r\n              var isFirstHalf = event.clientY < rect.top + rect.height / 2;\r\n            }\r\n            listNode.insertBefore(placeholderNode,\r\n                isFirstHalf ? listItemNode : listItemNode.nextSibling);\r\n          }\r\n        }\r\n\r\n        // In IE we set a fake effectAllowed in dragstart to get the correct cursor, we therefore\r\n        // ignore the effectAllowed passed in dataTransfer. We must also not access dataTransfer for\r\n        // drops from external sources, as that throws an exception.\r\n        var ignoreDataTransfer = mimeType == MSIE_MIME_TYPE;\r\n        var dropEffect = getDropEffect(event, ignoreDataTransfer);\r\n        if (dropEffect == 'none') return stopDragover();\r\n\r\n        // At this point we invoke the callback, which still can disallow the drop.\r\n        // We can't do this earlier because we want to pass the index of the placeholder.\r\n        if (attr.dndDragover && !invokeCallback(attr.dndDragover, event, dropEffect, itemType)) {\r\n          return stopDragover();\r\n        }\r\n\r\n        // Set dropEffect to modify the cursor shown by the browser, unless we're in IE, where this\r\n        // is not supported. This must be done after preventDefault in Firefox.\r\n        event.preventDefault();\r\n        if (!ignoreDataTransfer) {\r\n          event.dataTransfer.dropEffect = dropEffect;\r\n        }\r\n\r\n        element.addClass(\"dndDragover\");\r\n        event.stopPropagation();\r\n        return false;\r\n      });\r\n\r\n      /**\r\n       * When the element is dropped, we use the position of the placeholder element as the\r\n       * position where we insert the transferred data. This assumes that the list has exactly\r\n       * one child element per array element.\r\n       */\r\n      element.on('drop', function(event) {\r\n        event = event.originalEvent || event;\r\n\r\n        // Check whether the drop is allowed and determine mime type.\r\n        var mimeType = getMimeType(event.dataTransfer.types);\r\n        var itemType = getItemType(mimeType);\r\n        if (!mimeType || !isDropAllowed(itemType)) return true;\r\n\r\n        // The default behavior in Firefox is to interpret the dropped element as URL and\r\n        // forward to it. We want to prevent that even if our drop is aborted.\r\n        event.preventDefault();\r\n\r\n        // Unserialize the data that was serialized in dragstart.\r\n        try {\r\n          var data = JSON.parse(event.dataTransfer.getData(mimeType));\r\n        } catch(e) {\r\n          return stopDragover();\r\n        }\r\n\r\n        // Drops with invalid types from external sources might not have been filtered out yet.\r\n        if (mimeType == MSIE_MIME_TYPE || mimeType == EDGE_MIME_TYPE) {\r\n          itemType = data.type || undefined;\r\n          data = data.item;\r\n          if (!isDropAllowed(itemType)) return stopDragover();\r\n        }\r\n\r\n        // Special handling for internal IE drops, see dragover handler.\r\n        var ignoreDataTransfer = mimeType == MSIE_MIME_TYPE;\r\n        var dropEffect = getDropEffect(event, ignoreDataTransfer);\r\n        if (dropEffect == 'none') return stopDragover();\r\n\r\n        // Invoke the callback, which can transform the transferredObject and even abort the drop.\r\n        var index = getPlaceholderIndex();\r\n        if (attr.dndDrop) {\r\n          data = invokeCallback(attr.dndDrop, event, dropEffect, itemType, index, data);\r\n          if (!data) return stopDragover();\r\n        }\r\n\r\n        // The drop is definitely going to happen now, store the dropEffect.\r\n        dndState.dropEffect = dropEffect;\r\n        if (!ignoreDataTransfer) {\r\n          event.dataTransfer.dropEffect = dropEffect;\r\n        }\r\n\r\n        // Insert the object into the array, unless dnd-drop took care of that (returned true).\r\n        if (data !== true) {\r\n          scope.$apply(function() {\r\n            scope.$eval(attr.dndList).splice(index, 0, data);\r\n          });\r\n        }\r\n        invokeCallback(attr.dndInserted, event, dropEffect, itemType, index, data);\r\n\r\n        // Clean up\r\n        stopDragover();\r\n        event.stopPropagation();\r\n        return false;\r\n      });\r\n\r\n      /**\r\n       * We have to remove the placeholder when the element is no longer dragged over our list. The\r\n       * problem is that the dragleave event is not only fired when the element leaves our list,\r\n       * but also when it leaves a child element. Therefore, we determine whether the mouse cursor\r\n       * is still pointing to an element inside the list or not.\r\n       */\r\n      element.on('dragleave', function(event) {\r\n        event = event.originalEvent || event;\r\n\r\n        var newTarget = document.elementFromPoint(event.clientX, event.clientY);\r\n        if (listNode.contains(newTarget) && !event._dndPhShown) {\r\n          // Signalize to potential parent lists that a placeholder is already shown.\r\n          event._dndPhShown = true;\r\n        } else {\r\n          stopDragover();\r\n        }\r\n      });\r\n\r\n      /**\r\n       * Given the types array from the DataTransfer object, returns the first valid mime type.\r\n       * A type is valid if it starts with MIME_TYPE, or it equals MSIE_MIME_TYPE or EDGE_MIME_TYPE.\r\n       */\r\n      function getMimeType(types) {\r\n        if (!types) return MSIE_MIME_TYPE; // IE 9 workaround.\r\n        for (var i = 0; i < types.length; i++) {\r\n          if (types[i] == MSIE_MIME_TYPE || types[i] == EDGE_MIME_TYPE ||\r\n              types[i].substr(0, MIME_TYPE.length) == MIME_TYPE) {\r\n            return types[i];\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n\r\n      /**\r\n       * Determines the type of the item from the dndState, or from the mime type for items from\r\n       * external sources. Returns undefined if no item type was set and null if the item type could\r\n       * not be determined.\r\n       */\r\n      function getItemType(mimeType) {\r\n        if (dndState.isDragging) return dndState.itemType || undefined;\r\n        if (mimeType == MSIE_MIME_TYPE || mimeType == EDGE_MIME_TYPE) return null;\r\n        return (mimeType && mimeType.substr(MIME_TYPE.length + 1)) || undefined;\r\n      }\r\n\r\n      /**\r\n       * Checks various conditions that must be fulfilled for a drop to be allowed, including the\r\n       * dnd-allowed-types attribute. If the item Type is unknown (null), the drop will be allowed.\r\n       */\r\n      function isDropAllowed(itemType) {\r\n        if (listSettings.disabled) return false;\r\n        if (!listSettings.externalSources && !dndState.isDragging) return false;\r\n        if (!listSettings.allowedTypes || itemType === null) return true;\r\n        return itemType && listSettings.allowedTypes.indexOf(itemType) != -1;\r\n      }\r\n\r\n      /**\r\n       * Determines which drop effect to use for the given event. In Internet Explorer we have to\r\n       * ignore the effectAllowed field on dataTransfer, since we set a fake value in dragstart.\r\n       * In those cases we rely on dndState to filter effects. Read the design doc for more details:\r\n       * https://github.com/marceljuenemann/angular-drag-and-drop-lists/wiki/Data-Transfer-Design\r\n       */\r\n      function getDropEffect(event, ignoreDataTransfer) {\r\n        var effects = ALL_EFFECTS;\r\n        if (!ignoreDataTransfer) {\r\n          effects = filterEffects(effects, event.dataTransfer.effectAllowed);\r\n        }\r\n        if (dndState.isDragging) {\r\n          effects = filterEffects(effects, dndState.effectAllowed);\r\n        }\r\n        if (attr.dndEffectAllowed) {\r\n          effects = filterEffects(effects, attr.dndEffectAllowed);\r\n        }\r\n        // MacOS automatically filters dataTransfer.effectAllowed depending on the modifier keys,\r\n        // therefore the following modifier keys will only affect other operating systems.\r\n        if (!effects.length) {\r\n          return 'none';\r\n        } else if (event.ctrlKey && effects.indexOf('copy') != -1) {\r\n          return 'copy';\r\n        } else if (event.altKey && effects.indexOf('link') != -1) {\r\n          return 'link';\r\n        } else {\r\n          return effects[0];\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Small helper function that cleans up if we aborted a drop.\r\n       */\r\n      function stopDragover() {\r\n        placeholder.remove();\r\n        element.removeClass(\"dndDragover\");\r\n        return true;\r\n      }\r\n\r\n      /**\r\n       * Invokes a callback with some interesting parameters and returns the callbacks return value.\r\n       */\r\n      function invokeCallback(expression, event, dropEffect, itemType, index, item) {\r\n        return $parse(expression)(scope, {\r\n          callback: dndState.callback,\r\n          dropEffect: dropEffect,\r\n          event: event,\r\n          external: !dndState.isDragging,\r\n          index: index !== undefined ? index : getPlaceholderIndex(),\r\n          item: item || undefined,\r\n          type: itemType\r\n        });\r\n      }\r\n\r\n      /**\r\n       * We use the position of the placeholder node to determine at which position of the array the\r\n       * object needs to be inserted\r\n       */\r\n      function getPlaceholderIndex() {\r\n        return Array.prototype.indexOf.call(listNode.children, placeholderNode);\r\n      }\r\n\r\n      /**\r\n       * Tries to find a child element that has the dndPlaceholder class set. If none was found, a\r\n       * new li element is created.\r\n       */\r\n      function getPlaceholderElement() {\r\n        var placeholder;\r\n        angular.forEach(element.children(), function(childNode) {\r\n          var child = angular.element(childNode);\r\n          if (child.hasClass('dndPlaceholder')) {\r\n            placeholder = child;\r\n          }\r\n        });\r\n        return placeholder || angular.element(\"<li class='dndPlaceholder'></li>\");\r\n      }\r\n    };\r\n  }]);\r\n\r\n  /**\r\n   * Use the dnd-nodrag attribute inside of dnd-draggable elements to prevent them from starting\r\n   * drag operations. This is especially useful if you want to use input elements inside of\r\n   * dnd-draggable elements or create specific handle elements. Note: This directive does not work\r\n   * in Internet Explorer 9.\r\n   */\r\n  dndLists.directive('dndNodrag', function() {\r\n    return function(scope, element, attr) {\r\n      // Set as draggable so that we can cancel the events explicitly\r\n      element.attr(\"draggable\", \"true\");\r\n\r\n      /**\r\n       * Since the element is draggable, the browser's default operation is to drag it on dragstart.\r\n       * We will prevent that and also stop the event from bubbling up.\r\n       */\r\n      element.on('dragstart', function(event) {\r\n        event = event.originalEvent || event;\r\n\r\n        if (!event._dndHandle) {\r\n          // If a child element already reacted to dragstart and set a dataTransfer object, we will\r\n          // allow that. For example, this is the case for user selections inside of input elements.\r\n          if (!(event.dataTransfer.types && event.dataTransfer.types.length)) {\r\n            event.preventDefault();\r\n          }\r\n          event.stopPropagation();\r\n        }\r\n      });\r\n\r\n      /**\r\n       * Stop propagation of dragend events, otherwise dnd-moved might be triggered and the element\r\n       * would be removed.\r\n       */\r\n      element.on('dragend', function(event) {\r\n        event = event.originalEvent || event;\r\n        if (!event._dndHandle) {\r\n          event.stopPropagation();\r\n        }\r\n      });\r\n    };\r\n  });\r\n\r\n  /**\r\n   * Use the dnd-handle directive within a dnd-nodrag element in order to allow dragging with that\r\n   * element after all. Therefore, by combining dnd-nodrag and dnd-handle you can allow\r\n   * dnd-draggable elements to only be dragged via specific \"handle\" elements. Note that Internet\r\n   * Explorer will show the handle element as drag image instead of the dnd-draggable element. You\r\n   * can work around this by styling the handle element differently when it is being dragged. Use\r\n   * the CSS selector .dndDragging:not(.dndDraggingSource) [dnd-handle] for that.\r\n   */\r\n  dndLists.directive('dndHandle', function() {\r\n    return function(scope, element, attr) {\r\n      element.attr(\"draggable\", \"true\");\r\n\r\n      element.on('dragstart dragend', function(event) {\r\n        event = event.originalEvent || event;\r\n        event._dndHandle = true;\r\n      });\r\n    };\r\n  });\r\n\r\n  /**\r\n   * Filters an array of drop effects using a HTML5 effectAllowed string.\r\n   */\r\n  function filterEffects(effects, effectAllowed) {\r\n    if (effectAllowed == 'all') return effects;\r\n    return effects.filter(function(effect) {\r\n      return effectAllowed.toLowerCase().indexOf(effect) != -1;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * For some features we need to maintain global state. This is done here, with these fields:\r\n   * - callback: A callback function set at dragstart that is passed to internal dropzone handlers.\r\n   * - dropEffect: Set in dragstart to \"none\" and to the actual value in the drop handler. We don't\r\n   *   rely on the dropEffect passed by the browser, since there are various bugs in Chrome and\r\n   *   Safari, and Internet Explorer defaults to copy if effectAllowed is copyMove.\r\n   * - effectAllowed: Set in dragstart based on dnd-effect-allowed. This is needed for IE because\r\n   *   setting effectAllowed on dataTransfer might result in an undesired cursor.\r\n   * - isDragging: True between dragstart and dragend. Falsy for drops from external sources.\r\n   * - itemType: The item type of the dragged element set via dnd-type. This is needed because IE\r\n   *   and Edge don't support custom mime types that we can use to transfer this information.\r\n   */\r\n  var dndState = {};\r\n\r\n})(angular.module('dndLists', []));","/**\r\n * @license MIT\r\n */\r\n(function(window, document, undefined) {'use strict';\r\n  // ie10+\r\n  var ie10plus = window.navigator.msPointerEnabled;\r\n  /**\r\n   * Flow.js is a library providing multiple simultaneous, stable and\r\n   * resumable uploads via the HTML5 File API.\r\n   * @param [opts]\r\n   * @param {number} [opts.chunkSize]\r\n   * @param {bool} [opts.forceChunkSize]\r\n   * @param {number} [opts.simultaneousUploads]\r\n   * @param {bool} [opts.singleFile]\r\n   * @param {string} [opts.fileParameterName]\r\n   * @param {number} [opts.progressCallbacksInterval]\r\n   * @param {number} [opts.speedSmoothingFactor]\r\n   * @param {Object|Function} [opts.query]\r\n   * @param {Object|Function} [opts.headers]\r\n   * @param {bool} [opts.withCredentials]\r\n   * @param {Function} [opts.preprocess]\r\n   * @param {string} [opts.method]\r\n   * @param {string|Function} [opts.testMethod]\r\n   * @param {string|Function} [opts.uploadMethod]\r\n   * @param {bool} [opts.prioritizeFirstAndLastChunk]\r\n   * @param {bool} [opts.allowDuplicateUploads]\r\n   * @param {string|Function} [opts.target]\r\n   * @param {number} [opts.maxChunkRetries]\r\n   * @param {number} [opts.chunkRetryInterval]\r\n   * @param {Array.<number>} [opts.permanentErrors]\r\n   * @param {Array.<number>} [opts.successStatuses]\r\n   * @param {Function} [opts.initFileFn]\r\n   * @param {Function} [opts.readFileFn]\r\n   * @param {Function} [opts.generateUniqueIdentifier]\r\n   * @constructor\r\n   */\r\n  function Flow(opts) {\r\n    /**\r\n     * Supported by browser?\r\n     * @type {boolean}\r\n     */\r\n    this.support = (\r\n        typeof File !== 'undefined' &&\r\n        typeof Blob !== 'undefined' &&\r\n        typeof FileList !== 'undefined' &&\r\n        (\r\n          !!Blob.prototype.slice || !!Blob.prototype.webkitSlice || !!Blob.prototype.mozSlice ||\r\n          false\r\n        ) // slicing files support\r\n    );\r\n\r\n    if (!this.support) {\r\n      return ;\r\n    }\r\n\r\n    /**\r\n     * Check if directory upload is supported\r\n     * @type {boolean}\r\n     */\r\n    this.supportDirectory = /Chrome/.test(window.navigator.userAgent);\r\n\r\n    /**\r\n     * List of FlowFile objects\r\n     * @type {Array.<FlowFile>}\r\n     */\r\n    this.files = [];\r\n\r\n    /**\r\n     * Default options for flow.js\r\n     * @type {Object}\r\n     */\r\n    this.defaults = {\r\n      chunkSize: 1024 * 1024,\r\n      forceChunkSize: false,\r\n      simultaneousUploads: 3,\r\n      singleFile: false,\r\n      fileParameterName: 'file',\r\n      progressCallbacksInterval: 500,\r\n      speedSmoothingFactor: 0.1,\r\n      query: {},\r\n      headers: {},\r\n      withCredentials: false,\r\n      preprocess: null,\r\n      method: 'multipart',\r\n      testMethod: 'GET',\r\n      uploadMethod: 'POST',\r\n      prioritizeFirstAndLastChunk: false,\r\n      allowDuplicateUploads: false,\r\n      target: '/',\r\n      testChunks: true,\r\n      generateUniqueIdentifier: null,\r\n      maxChunkRetries: 0,\r\n      chunkRetryInterval: null,\r\n      permanentErrors: [404, 413, 415, 500, 501],\r\n      successStatuses: [200, 201, 202],\r\n      onDropStopPropagation: false,\r\n      initFileFn: null,\r\n      readFileFn: webAPIFileRead\r\n    };\r\n    \r\n    /**\r\n     * Current options\r\n     * @type {Object}\r\n     */\r\n    this.opts = {};\r\n\r\n    /**\r\n     * List of events:\r\n     *  key stands for event name\r\n     *  value array list of callbacks\r\n     * @type {}\r\n     */\r\n    this.events = {};\r\n\r\n    var $ = this;\r\n\r\n    /**\r\n     * On drop event\r\n     * @function\r\n     * @param {MouseEvent} event\r\n     */\r\n    this.onDrop = function (event) {\r\n      if ($.opts.onDropStopPropagation) {\r\n        event.stopPropagation();\r\n      }\r\n      event.preventDefault();\r\n      var dataTransfer = event.dataTransfer;\r\n      if (dataTransfer.items && dataTransfer.items[0] &&\r\n        dataTransfer.items[0].webkitGetAsEntry) {\r\n        $.webkitReadDataTransfer(event);\r\n      } else {\r\n        $.addFiles(dataTransfer.files, event);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Prevent default\r\n     * @function\r\n     * @param {MouseEvent} event\r\n     */\r\n    this.preventEvent = function (event) {\r\n      event.preventDefault();\r\n    };\r\n\r\n\r\n    /**\r\n     * Current options\r\n     * @type {Object}\r\n     */\r\n    this.opts = Flow.extend({}, this.defaults, opts || {});\r\n\r\n  }\r\n\r\n  Flow.prototype = {\r\n    /**\r\n     * Set a callback for an event, possible events:\r\n     * fileSuccess(file), fileProgress(file), fileAdded(file, event),\r\n     * fileRemoved(file), fileRetry(file), fileError(file, message), \r\n     * complete(), progress(), error(message, file), pause()\r\n     * @function\r\n     * @param {string} event\r\n     * @param {Function} callback\r\n     */\r\n    on: function (event, callback) {\r\n      event = event.toLowerCase();\r\n      if (!this.events.hasOwnProperty(event)) {\r\n        this.events[event] = [];\r\n      }\r\n      this.events[event].push(callback);\r\n    },\r\n\r\n    /**\r\n     * Remove event callback\r\n     * @function\r\n     * @param {string} [event] removes all events if not specified\r\n     * @param {Function} [fn] removes all callbacks of event if not specified\r\n     */\r\n    off: function (event, fn) {\r\n      if (event !== undefined) {\r\n        event = event.toLowerCase();\r\n        if (fn !== undefined) {\r\n          if (this.events.hasOwnProperty(event)) {\r\n            arrayRemove(this.events[event], fn);\r\n          }\r\n        } else {\r\n          delete this.events[event];\r\n        }\r\n      } else {\r\n        this.events = {};\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Fire an event\r\n     * @function\r\n     * @param {string} event event name\r\n     * @param {...} args arguments of a callback\r\n     * @return {bool} value is false if at least one of the event handlers which handled this event\r\n     * returned false. Otherwise it returns true.\r\n     */\r\n    fire: function (event, args) {\r\n      // `arguments` is an object, not array, in FF, so:\r\n      args = Array.prototype.slice.call(arguments);\r\n      event = event.toLowerCase();\r\n      var preventDefault = false;\r\n      if (this.events.hasOwnProperty(event)) {\r\n        each(this.events[event], function (callback) {\r\n          preventDefault = callback.apply(this, args.slice(1)) === false || preventDefault;\r\n        }, this);\r\n      }\r\n      if (event != 'catchall') {\r\n        args.unshift('catchAll');\r\n        preventDefault = this.fire.apply(this, args) === false || preventDefault;\r\n      }\r\n      return !preventDefault;\r\n    },\r\n\r\n    /**\r\n     * Read webkit dataTransfer object\r\n     * @param event\r\n     */\r\n    webkitReadDataTransfer: function (event) {\r\n      var $ = this;\r\n      var queue = event.dataTransfer.items.length;\r\n      var files = [];\r\n      each(event.dataTransfer.items, function (item) {\r\n        var entry = item.webkitGetAsEntry();\r\n        if (!entry) {\r\n          decrement();\r\n          return ;\r\n        }\r\n        if (entry.isFile) {\r\n          // due to a bug in Chrome's File System API impl - #149735\r\n          fileReadSuccess(item.getAsFile(), entry.fullPath);\r\n        } else {\r\n          readDirectory(entry.createReader());\r\n        }\r\n      });\r\n      function readDirectory(reader) {\r\n        reader.readEntries(function (entries) {\r\n          if (entries.length) {\r\n            queue += entries.length;\r\n            each(entries, function(entry) {\r\n              if (entry.isFile) {\r\n                var fullPath = entry.fullPath;\r\n                entry.file(function (file) {\r\n                  fileReadSuccess(file, fullPath);\r\n                }, readError);\r\n              } else if (entry.isDirectory) {\r\n                readDirectory(entry.createReader());\r\n              }\r\n            });\r\n            readDirectory(reader);\r\n          } else {\r\n            decrement();\r\n          }\r\n        }, readError);\r\n      }\r\n      function fileReadSuccess(file, fullPath) {\r\n        // relative path should not start with \"/\"\r\n        file.relativePath = fullPath.substring(1);\r\n        files.push(file);\r\n        decrement();\r\n      }\r\n      function readError(fileError) {\r\n        throw fileError;\r\n      }\r\n      function decrement() {\r\n        if (--queue == 0) {\r\n          $.addFiles(files, event);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Generate unique identifier for a file\r\n     * @function\r\n     * @param {FlowFile} file\r\n     * @returns {string}\r\n     */\r\n    generateUniqueIdentifier: function (file) {\r\n      var custom = this.opts.generateUniqueIdentifier;\r\n      if (typeof custom === 'function') {\r\n        return custom(file);\r\n      }\r\n      // Some confusion in different versions of Firefox\r\n      var relativePath = file.relativePath || file.webkitRelativePath || file.fileName || file.name;\r\n      return file.size + '-' + relativePath.replace(/[^0-9a-zA-Z_-]/img, '');\r\n    },\r\n\r\n    /**\r\n     * Upload next chunk from the queue\r\n     * @function\r\n     * @returns {boolean}\r\n     * @private\r\n     */\r\n    uploadNextChunk: function (preventEvents) {\r\n      // In some cases (such as videos) it's really handy to upload the first\r\n      // and last chunk of a file quickly; this let's the server check the file's\r\n      // metadata and determine if there's even a point in continuing.\r\n      var found = false;\r\n      if (this.opts.prioritizeFirstAndLastChunk) {\r\n        each(this.files, function (file) {\r\n          if (!file.paused && file.chunks.length &&\r\n            file.chunks[0].status() === 'pending') {\r\n            file.chunks[0].send();\r\n            found = true;\r\n            return false;\r\n          }\r\n          if (!file.paused && file.chunks.length > 1 &&\r\n            file.chunks[file.chunks.length - 1].status() === 'pending') {\r\n            file.chunks[file.chunks.length - 1].send();\r\n            found = true;\r\n            return false;\r\n          }\r\n        });\r\n        if (found) {\r\n          return found;\r\n        }\r\n      }\r\n\r\n      // Now, simply look for the next, best thing to upload\r\n      each(this.files, function (file) {\r\n        if (!file.paused) {\r\n          each(file.chunks, function (chunk) {\r\n            if (chunk.status() === 'pending') {\r\n              chunk.send();\r\n              found = true;\r\n              return false;\r\n            }\r\n          });\r\n        }\r\n        if (found) {\r\n          return false;\r\n        }\r\n      });\r\n      if (found) {\r\n        return true;\r\n      }\r\n\r\n      // The are no more outstanding chunks to upload, check is everything is done\r\n      var outstanding = false;\r\n      each(this.files, function (file) {\r\n        if (!file.isComplete()) {\r\n          outstanding = true;\r\n          return false;\r\n        }\r\n      });\r\n      if (!outstanding && !preventEvents) {\r\n        // All chunks have been uploaded, complete\r\n        async(function () {\r\n          this.fire('complete');\r\n        }, this);\r\n      }\r\n      return false;\r\n    },\r\n\r\n\r\n    /**\r\n     * Assign a browse action to one or more DOM nodes.\r\n     * @function\r\n     * @param {Element|Array.<Element>} domNodes\r\n     * @param {boolean} isDirectory Pass in true to allow directories to\r\n     * @param {boolean} singleFile prevent multi file upload\r\n     * @param {Object} attributes set custom attributes:\r\n     *  http://www.w3.org/TR/html-markup/input.file.html#input.file-attributes\r\n     *  eg: accept: 'image/*'\r\n     * be selected (Chrome only).\r\n     */\r\n    assignBrowse: function (domNodes, isDirectory, singleFile, attributes) {\r\n      if (domNodes instanceof Element) {\r\n        domNodes = [domNodes];\r\n      }\r\n\r\n      each(domNodes, function (domNode) {\r\n        var input;\r\n        if (domNode.tagName === 'INPUT' && domNode.type === 'file') {\r\n          input = domNode;\r\n        } else {\r\n          input = document.createElement('input');\r\n          input.setAttribute('type', 'file');\r\n          // display:none - not working in opera 12\r\n          extend(input.style, {\r\n            visibility: 'hidden',\r\n            position: 'absolute',\r\n            width: '1px',\r\n            height: '1px'\r\n          });\r\n          // for opera 12 browser, input must be assigned to a document\r\n          domNode.appendChild(input);\r\n          // https://developer.mozilla.org/en/using_files_from_web_applications)\r\n          // event listener is executed two times\r\n          // first one - original mouse click event\r\n          // second - input.click(), input is inside domNode\r\n          domNode.addEventListener('click', function() {\r\n            input.click();\r\n          }, false);\r\n        }\r\n        if (!this.opts.singleFile && !singleFile) {\r\n          input.setAttribute('multiple', 'multiple');\r\n        }\r\n        if (isDirectory) {\r\n          input.setAttribute('webkitdirectory', 'webkitdirectory');\r\n        }\r\n        each(attributes, function (value, key) {\r\n          input.setAttribute(key, value);\r\n        });\r\n        // When new files are added, simply append them to the overall list\r\n        var $ = this;\r\n        input.addEventListener('change', function (e) {\r\n       \t  if (e.target.value) {\r\n            $.addFiles(e.target.files, e);\r\n            e.target.value = '';\r\n       \t  }\r\n        }, false);\r\n      }, this);\r\n    },\r\n\r\n    /**\r\n     * Assign one or more DOM nodes as a drop target.\r\n     * @function\r\n     * @param {Element|Array.<Element>} domNodes\r\n     */\r\n    assignDrop: function (domNodes) {\r\n      if (typeof domNodes.length === 'undefined') {\r\n        domNodes = [domNodes];\r\n      }\r\n      each(domNodes, function (domNode) {\r\n        domNode.addEventListener('dragover', this.preventEvent, false);\r\n        domNode.addEventListener('dragenter', this.preventEvent, false);\r\n        domNode.addEventListener('drop', this.onDrop, false);\r\n      }, this);\r\n    },\r\n\r\n    /**\r\n     * Un-assign drop event from DOM nodes\r\n     * @function\r\n     * @param domNodes\r\n     */\r\n    unAssignDrop: function (domNodes) {\r\n      if (typeof domNodes.length === 'undefined') {\r\n        domNodes = [domNodes];\r\n      }\r\n      each(domNodes, function (domNode) {\r\n        domNode.removeEventListener('dragover', this.preventEvent);\r\n        domNode.removeEventListener('dragenter', this.preventEvent);\r\n        domNode.removeEventListener('drop', this.onDrop);\r\n      }, this);\r\n    },\r\n\r\n    /**\r\n     * Returns a boolean indicating whether or not the instance is currently\r\n     * uploading anything.\r\n     * @function\r\n     * @returns {boolean}\r\n     */\r\n    isUploading: function () {\r\n      var uploading = false;\r\n      each(this.files, function (file) {\r\n        if (file.isUploading()) {\r\n          uploading = true;\r\n          return false;\r\n        }\r\n      });\r\n      return uploading;\r\n    },\r\n\r\n    /**\r\n     * should upload next chunk\r\n     * @function\r\n     * @returns {boolean|number}\r\n     */\r\n    _shouldUploadNext: function () {\r\n      var num = 0;\r\n      var should = true;\r\n      var simultaneousUploads = this.opts.simultaneousUploads;\r\n      each(this.files, function (file) {\r\n        each(file.chunks, function(chunk) {\r\n          if (chunk.status() === 'uploading') {\r\n            num++;\r\n            if (num >= simultaneousUploads) {\r\n              should = false;\r\n              return false;\r\n            }\r\n          }\r\n        });\r\n      });\r\n      // if should is true then return uploading chunks's length\r\n      return should && num;\r\n    },\r\n\r\n    /**\r\n     * Start or resume uploading.\r\n     * @function\r\n     */\r\n    upload: function () {\r\n      // Make sure we don't start too many uploads at once\r\n      var ret = this._shouldUploadNext();\r\n      if (ret === false) {\r\n        return;\r\n      }\r\n      // Kick off the queue\r\n      this.fire('uploadStart');\r\n      var started = false;\r\n      for (var num = 1; num <= this.opts.simultaneousUploads - ret; num++) {\r\n        started = this.uploadNextChunk(true) || started;\r\n      }\r\n      if (!started) {\r\n        async(function () {\r\n          this.fire('complete');\r\n        }, this);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Resume uploading.\r\n     * @function\r\n     */\r\n    resume: function () {\r\n      each(this.files, function (file) {\r\n        file.resume();\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Pause uploading.\r\n     * @function\r\n     */\r\n    pause: function () {\r\n      each(this.files, function (file) {\r\n        file.pause();\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Cancel upload of all FlowFile objects and remove them from the list.\r\n     * @function\r\n     */\r\n    cancel: function () {\r\n      for (var i = this.files.length - 1; i >= 0; i--) {\r\n        this.files[i].cancel();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Returns a number between 0 and 1 indicating the current upload progress\r\n     * of all files.\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    progress: function () {\r\n      var totalDone = 0;\r\n      var totalSize = 0;\r\n      // Resume all chunks currently being uploaded\r\n      each(this.files, function (file) {\r\n        totalDone += file.progress() * file.size;\r\n        totalSize += file.size;\r\n      });\r\n      return totalSize > 0 ? totalDone / totalSize : 0;\r\n    },\r\n\r\n    /**\r\n     * Add a HTML5 File object to the list of files.\r\n     * @function\r\n     * @param {File} file\r\n     * @param {Event} [event] event is optional\r\n     */\r\n    addFile: function (file, event) {\r\n      this.addFiles([file], event);\r\n    },\r\n\r\n    /**\r\n     * Add a HTML5 File object to the list of files.\r\n     * @function\r\n     * @param {FileList|Array} fileList\r\n     * @param {Event} [event] event is optional\r\n     */\r\n    addFiles: function (fileList, event) {\r\n      var files = [];\r\n      each(fileList, function (file) {\r\n        // https://github.com/flowjs/flow.js/issues/55\r\n        if ((!ie10plus || ie10plus && file.size > 0) && !(file.size % 4096 === 0 && (file.name === '.' || file.fileName === '.')) &&\r\n          (this.opts.allowDuplicateUploads || !this.getFromUniqueIdentifier(this.generateUniqueIdentifier(file)))) {\r\n          var f = new FlowFile(this, file);\r\n          if (this.fire('fileAdded', f, event)) {\r\n            files.push(f);\r\n          }\r\n        }\r\n      }, this);\r\n      if (this.fire('filesAdded', files, event)) {\r\n        each(files, function (file) {\r\n          if (this.opts.singleFile && this.files.length > 0) {\r\n            this.removeFile(this.files[0]);\r\n          }\r\n          this.files.push(file);\r\n        }, this);\r\n        this.fire('filesSubmitted', files, event);\r\n      }\r\n    },\r\n\r\n\r\n    /**\r\n     * Cancel upload of a specific FlowFile object from the list.\r\n     * @function\r\n     * @param {FlowFile} file\r\n     */\r\n    removeFile: function (file) {\r\n      for (var i = this.files.length - 1; i >= 0; i--) {\r\n        if (this.files[i] === file) {\r\n          this.files.splice(i, 1);\r\n          file.abort();\r\n          this.fire('fileRemoved', file);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Look up a FlowFile object by its unique identifier.\r\n     * @function\r\n     * @param {string} uniqueIdentifier\r\n     * @returns {boolean|FlowFile} false if file was not found\r\n     */\r\n    getFromUniqueIdentifier: function (uniqueIdentifier) {\r\n      var ret = false;\r\n      each(this.files, function (file) {\r\n        if (file.uniqueIdentifier === uniqueIdentifier) {\r\n          ret = file;\r\n        }\r\n      });\r\n      return ret;\r\n    },\r\n\r\n    /**\r\n     * Returns the total size of all files in bytes.\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    getSize: function () {\r\n      var totalSize = 0;\r\n      each(this.files, function (file) {\r\n        totalSize += file.size;\r\n      });\r\n      return totalSize;\r\n    },\r\n\r\n    /**\r\n     * Returns the total size uploaded of all files in bytes.\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    sizeUploaded: function () {\r\n      var size = 0;\r\n      each(this.files, function (file) {\r\n        size += file.sizeUploaded();\r\n      });\r\n      return size;\r\n    },\r\n\r\n    /**\r\n     * Returns remaining time to upload all files in seconds. Accuracy is based on average speed.\r\n     * If speed is zero, time remaining will be equal to positive infinity `Number.POSITIVE_INFINITY`\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    timeRemaining: function () {\r\n      var sizeDelta = 0;\r\n      var averageSpeed = 0;\r\n      each(this.files, function (file) {\r\n        if (!file.paused && !file.error) {\r\n          sizeDelta += file.size - file.sizeUploaded();\r\n          averageSpeed += file.averageSpeed;\r\n        }\r\n      });\r\n      if (sizeDelta && !averageSpeed) {\r\n        return Number.POSITIVE_INFINITY;\r\n      }\r\n      if (!sizeDelta && !averageSpeed) {\r\n        return 0;\r\n      }\r\n      return Math.floor(sizeDelta / averageSpeed);\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n  /**\r\n   * FlowFile class\r\n   * @name FlowFile\r\n   * @param {Flow} flowObj\r\n   * @param {File} file\r\n   * @constructor\r\n   */\r\n  function FlowFile(flowObj, file) {\r\n\r\n    /**\r\n     * Reference to parent Flow instance\r\n     * @type {Flow}\r\n     */\r\n    this.flowObj = flowObj;\r\n    \r\n    /**\r\n     * Used to store the bytes read\r\n     * @type {Blob|string}\r\n     */\r\n    this.bytes = null;\r\n\r\n    /**\r\n     * Reference to file\r\n     * @type {File}\r\n     */\r\n    this.file = file;\r\n\r\n    /**\r\n     * File name. Some confusion in different versions of Firefox\r\n     * @type {string}\r\n     */\r\n    this.name = file.fileName || file.name;\r\n\r\n    /**\r\n     * File size\r\n     * @type {number}\r\n     */\r\n    this.size = file.size;\r\n\r\n    /**\r\n     * Relative file path\r\n     * @type {string}\r\n     */\r\n    this.relativePath = file.relativePath || file.webkitRelativePath || this.name;\r\n\r\n    /**\r\n     * File unique identifier\r\n     * @type {string}\r\n     */\r\n    this.uniqueIdentifier = flowObj.generateUniqueIdentifier(file);\r\n\r\n    /**\r\n     * List of chunks\r\n     * @type {Array.<FlowChunk>}\r\n     */\r\n    this.chunks = [];\r\n\r\n    /**\r\n     * Indicated if file is paused\r\n     * @type {boolean}\r\n     */\r\n    this.paused = false;\r\n\r\n    /**\r\n     * Indicated if file has encountered an error\r\n     * @type {boolean}\r\n     */\r\n    this.error = false;\r\n\r\n    /**\r\n     * Average upload speed\r\n     * @type {number}\r\n     */\r\n    this.averageSpeed = 0;\r\n\r\n    /**\r\n     * Current upload speed\r\n     * @type {number}\r\n     */\r\n    this.currentSpeed = 0;\r\n\r\n    /**\r\n     * Date then progress was called last time\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this._lastProgressCallback = Date.now();\r\n\r\n    /**\r\n     * Previously uploaded file size\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this._prevUploadedSize = 0;\r\n\r\n    /**\r\n     * Holds previous progress\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this._prevProgress = 0;\r\n\r\n    this.bootstrap();\r\n  }\r\n\r\n  FlowFile.prototype = {\r\n    /**\r\n     * Update speed parameters\r\n     * @link http://stackoverflow.com/questions/2779600/how-to-estimate-download-time-remaining-accurately\r\n     * @function\r\n     */\r\n    measureSpeed: function () {\r\n      var timeSpan = Date.now() - this._lastProgressCallback;\r\n      if (!timeSpan) {\r\n        return ;\r\n      }\r\n      var smoothingFactor = this.flowObj.opts.speedSmoothingFactor;\r\n      var uploaded = this.sizeUploaded();\r\n      // Prevent negative upload speed after file upload resume\r\n      this.currentSpeed = Math.max((uploaded - this._prevUploadedSize) / timeSpan * 1000, 0);\r\n      this.averageSpeed = smoothingFactor * this.currentSpeed + (1 - smoothingFactor) * this.averageSpeed;\r\n      this._prevUploadedSize = uploaded;\r\n    },\r\n\r\n    /**\r\n     * For internal usage only.\r\n     * Callback when something happens within the chunk.\r\n     * @function\r\n     * @param {FlowChunk} chunk\r\n     * @param {string} event can be 'progress', 'success', 'error' or 'retry'\r\n     * @param {string} [message]\r\n     */\r\n    chunkEvent: function (chunk, event, message) {\r\n      switch (event) {\r\n        case 'progress':\r\n          if (Date.now() - this._lastProgressCallback <\r\n            this.flowObj.opts.progressCallbacksInterval) {\r\n            break;\r\n          }\r\n          this.measureSpeed();\r\n          this.flowObj.fire('fileProgress', this, chunk);\r\n          this.flowObj.fire('progress');\r\n          this._lastProgressCallback = Date.now();\r\n          break;\r\n        case 'error':\r\n          this.error = true;\r\n          this.abort(true);\r\n          this.flowObj.fire('fileError', this, message, chunk);\r\n          this.flowObj.fire('error', message, this, chunk);\r\n          break;\r\n        case 'success':\r\n          if (this.error) {\r\n            return;\r\n          }\r\n          this.measureSpeed();\r\n          this.flowObj.fire('fileProgress', this, chunk);\r\n          this.flowObj.fire('progress');\r\n          this._lastProgressCallback = Date.now();\r\n          if (this.isComplete()) {\r\n            this.currentSpeed = 0;\r\n            this.averageSpeed = 0;\r\n            this.flowObj.fire('fileSuccess', this, message, chunk);\r\n          }\r\n          break;\r\n        case 'retry':\r\n          this.flowObj.fire('fileRetry', this, chunk);\r\n          break;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Pause file upload\r\n     * @function\r\n     */\r\n    pause: function() {\r\n      this.paused = true;\r\n      this.abort();\r\n    },\r\n\r\n    /**\r\n     * Resume file upload\r\n     * @function\r\n     */\r\n    resume: function() {\r\n      this.paused = false;\r\n      this.flowObj.upload();\r\n    },\r\n\r\n    /**\r\n     * Abort current upload\r\n     * @function\r\n     */\r\n    abort: function (reset) {\r\n      this.currentSpeed = 0;\r\n      this.averageSpeed = 0;\r\n      var chunks = this.chunks;\r\n      if (reset) {\r\n        this.chunks = [];\r\n      }\r\n      each(chunks, function (c) {\r\n        if (c.status() === 'uploading') {\r\n          c.abort();\r\n          this.flowObj.uploadNextChunk();\r\n        }\r\n      }, this);\r\n    },\r\n\r\n    /**\r\n     * Cancel current upload and remove from a list\r\n     * @function\r\n     */\r\n    cancel: function () {\r\n      this.flowObj.removeFile(this);\r\n    },\r\n\r\n    /**\r\n     * Retry aborted file upload\r\n     * @function\r\n     */\r\n    retry: function () {\r\n      this.bootstrap();\r\n      this.flowObj.upload();\r\n    },\r\n\r\n    /**\r\n     * Clear current chunks and slice file again\r\n     * @function\r\n     */\r\n    bootstrap: function () {\r\n      if (typeof this.flowObj.opts.initFileFn === \"function\") {\r\n        this.flowObj.opts.initFileFn(this);\r\n      }\r\n\r\n      this.abort(true);\r\n      this.error = false;\r\n      // Rebuild stack of chunks from file\r\n      this._prevProgress = 0;\r\n      var round = this.flowObj.opts.forceChunkSize ? Math.ceil : Math.floor;\r\n      var chunks = Math.max(\r\n        round(this.size / this.flowObj.opts.chunkSize), 1\r\n      );\r\n      for (var offset = 0; offset < chunks; offset++) {\r\n        this.chunks.push(\r\n          new FlowChunk(this.flowObj, this, offset)\r\n        );\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Get current upload progress status\r\n     * @function\r\n     * @returns {number} from 0 to 1\r\n     */\r\n    progress: function () {\r\n      if (this.error) {\r\n        return 1;\r\n      }\r\n      if (this.chunks.length === 1) {\r\n        this._prevProgress = Math.max(this._prevProgress, this.chunks[0].progress());\r\n        return this._prevProgress;\r\n      }\r\n      // Sum up progress across everything\r\n      var bytesLoaded = 0;\r\n      each(this.chunks, function (c) {\r\n        // get chunk progress relative to entire file\r\n        bytesLoaded += c.progress() * (c.endByte - c.startByte);\r\n      });\r\n      var percent = bytesLoaded / this.size;\r\n      // We don't want to lose percentages when an upload is paused\r\n      this._prevProgress = Math.max(this._prevProgress, percent > 0.9999 ? 1 : percent);\r\n      return this._prevProgress;\r\n    },\r\n\r\n    /**\r\n     * Indicates if file is being uploaded at the moment\r\n     * @function\r\n     * @returns {boolean}\r\n     */\r\n    isUploading: function () {\r\n      var uploading = false;\r\n      each(this.chunks, function (chunk) {\r\n        if (chunk.status() === 'uploading') {\r\n          uploading = true;\r\n          return false;\r\n        }\r\n      });\r\n      return uploading;\r\n    },\r\n\r\n    /**\r\n     * Indicates if file is has finished uploading and received a response\r\n     * @function\r\n     * @returns {boolean}\r\n     */\r\n    isComplete: function () {\r\n      var outstanding = false;\r\n      each(this.chunks, function (chunk) {\r\n        var status = chunk.status();\r\n        if (status === 'pending' || status === 'uploading' || status === 'reading' || chunk.preprocessState === 1 || chunk.readState === 1) {\r\n          outstanding = true;\r\n          return false;\r\n        }\r\n      });\r\n      return !outstanding;\r\n    },\r\n\r\n    /**\r\n     * Count total size uploaded\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    sizeUploaded: function () {\r\n      var size = 0;\r\n      each(this.chunks, function (chunk) {\r\n        size += chunk.sizeUploaded();\r\n      });\r\n      return size;\r\n    },\r\n\r\n    /**\r\n     * Returns remaining time to finish upload file in seconds. Accuracy is based on average speed.\r\n     * If speed is zero, time remaining will be equal to positive infinity `Number.POSITIVE_INFINITY`\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    timeRemaining: function () {\r\n      if (this.paused || this.error) {\r\n        return 0;\r\n      }\r\n      var delta = this.size - this.sizeUploaded();\r\n      if (delta && !this.averageSpeed) {\r\n        return Number.POSITIVE_INFINITY;\r\n      }\r\n      if (!delta && !this.averageSpeed) {\r\n        return 0;\r\n      }\r\n      return Math.floor(delta / this.averageSpeed);\r\n    },\r\n\r\n    /**\r\n     * Get file type\r\n     * @function\r\n     * @returns {string}\r\n     */\r\n    getType: function () {\r\n      return this.file.type && this.file.type.split('/')[1];\r\n    },\r\n\r\n    /**\r\n     * Get file extension\r\n     * @function\r\n     * @returns {string}\r\n     */\r\n    getExtension: function () {\r\n      return this.name.substr((~-this.name.lastIndexOf(\".\") >>> 0) + 2).toLowerCase();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Default read function using the webAPI\r\n   *\r\n   * @function webAPIFileRead(fileObj, startByte, endByte, fileType, chunk)\r\n   *\r\n   */\r\n  function webAPIFileRead(fileObj, startByte, endByte, fileType, chunk) {\r\n    var function_name = 'slice';\r\n\r\n    if (fileObj.file.slice)\r\n      function_name =  'slice';\r\n    else if (fileObj.file.mozSlice)\r\n      function_name = 'mozSlice';\r\n    else if (fileObj.file.webkitSlice)\r\n      function_name = 'webkitSlice';\r\n\r\n    chunk.readFinished(fileObj.file[function_name](startByte, endByte, fileType));\r\n  }\r\n\r\n\r\n  /**\r\n   * Class for storing a single chunk\r\n   * @name FlowChunk\r\n   * @param {Flow} flowObj\r\n   * @param {FlowFile} fileObj\r\n   * @param {number} offset\r\n   * @constructor\r\n   */\r\n  function FlowChunk(flowObj, fileObj, offset) {\r\n\r\n    /**\r\n     * Reference to parent flow object\r\n     * @type {Flow}\r\n     */\r\n    this.flowObj = flowObj;\r\n\r\n    /**\r\n     * Reference to parent FlowFile object\r\n     * @type {FlowFile}\r\n     */\r\n    this.fileObj = fileObj;\r\n\r\n    /**\r\n     * File offset\r\n     * @type {number}\r\n     */\r\n    this.offset = offset;\r\n\r\n    /**\r\n     * Indicates if chunk existence was checked on the server\r\n     * @type {boolean}\r\n     */\r\n    this.tested = false;\r\n\r\n    /**\r\n     * Number of retries performed\r\n     * @type {number}\r\n     */\r\n    this.retries = 0;\r\n\r\n    /**\r\n     * Pending retry\r\n     * @type {boolean}\r\n     */\r\n    this.pendingRetry = false;\r\n\r\n    /**\r\n     * Preprocess state\r\n     * @type {number} 0 = unprocessed, 1 = processing, 2 = finished\r\n     */\r\n    this.preprocessState = 0;\r\n\r\n    /**\r\n     * Read state\r\n     * @type {number} 0 = not read, 1 = reading, 2 = finished\r\n     */\r\n    this.readState = 0;\r\n\r\n\r\n    /**\r\n     * Bytes transferred from total request size\r\n     * @type {number}\r\n     */\r\n    this.loaded = 0;\r\n\r\n    /**\r\n     * Total request size\r\n     * @type {number}\r\n     */\r\n    this.total = 0;\r\n\r\n    /**\r\n     * Size of a chunk\r\n     * @type {number}\r\n     */\r\n    this.chunkSize = this.flowObj.opts.chunkSize;\r\n\r\n    /**\r\n     * Chunk start byte in a file\r\n     * @type {number}\r\n     */\r\n    this.startByte = this.offset * this.chunkSize;\r\n\r\n    /**\r\n      * Compute the endbyte in a file\r\n      *\r\n      */\r\n    this.computeEndByte = function() {\r\n      var endByte = Math.min(this.fileObj.size, (this.offset + 1) * this.chunkSize);\r\n      if (this.fileObj.size - endByte < this.chunkSize && !this.flowObj.opts.forceChunkSize) {\r\n        // The last chunk will be bigger than the chunk size,\r\n        // but less than 2 * this.chunkSize\r\n        endByte = this.fileObj.size;\r\n      }\r\n      return endByte;\r\n    }\r\n\r\n    /**\r\n     * Chunk end byte in a file\r\n     * @type {number}\r\n     */\r\n    this.endByte = this.computeEndByte();\r\n\r\n    /**\r\n     * XMLHttpRequest\r\n     * @type {XMLHttpRequest}\r\n     */\r\n    this.xhr = null;\r\n\r\n    var $ = this;\r\n\r\n    /**\r\n     * Send chunk event\r\n     * @param event\r\n     * @param {...} args arguments of a callback\r\n     */\r\n    this.event = function (event, args) {\r\n      args = Array.prototype.slice.call(arguments);\r\n      args.unshift($);\r\n      $.fileObj.chunkEvent.apply($.fileObj, args);\r\n    };\r\n    /**\r\n     * Catch progress event\r\n     * @param {ProgressEvent} event\r\n     */\r\n    this.progressHandler = function(event) {\r\n      if (event.lengthComputable) {\r\n        $.loaded = event.loaded ;\r\n        $.total = event.total;\r\n      }\r\n      $.event('progress', event);\r\n    };\r\n\r\n    /**\r\n     * Catch test event\r\n     * @param {Event} event\r\n     */\r\n    this.testHandler = function(event) {\r\n      var status = $.status(true);\r\n      if (status === 'error') {\r\n        $.event(status, $.message());\r\n        $.flowObj.uploadNextChunk();\r\n      } else if (status === 'success') {\r\n        $.tested = true;\r\n        $.event(status, $.message());\r\n        $.flowObj.uploadNextChunk();\r\n      } else if (!$.fileObj.paused) {\r\n        // Error might be caused by file pause method\r\n        // Chunks does not exist on the server side\r\n        $.tested = true;\r\n        $.send();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Upload has stopped\r\n     * @param {Event} event\r\n     */\r\n    this.doneHandler = function(event) {\r\n      var status = $.status();\r\n      if (status === 'success' || status === 'error') {\r\n        delete this.data;\r\n        $.event(status, $.message());\r\n        $.flowObj.uploadNextChunk();\r\n      } else {\r\n        $.event('retry', $.message());\r\n        $.pendingRetry = true;\r\n        $.abort();\r\n        $.retries++;\r\n        var retryInterval = $.flowObj.opts.chunkRetryInterval;\r\n        if (retryInterval !== null) {\r\n          setTimeout(function () {\r\n            $.send();\r\n          }, retryInterval);\r\n        } else {\r\n          $.send();\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  FlowChunk.prototype = {\r\n    /**\r\n     * Get params for a request\r\n     * @function\r\n     */\r\n    getParams: function () {\r\n      return {\r\n        flowChunkNumber: this.offset + 1,\r\n        flowChunkSize: this.flowObj.opts.chunkSize,\r\n        flowCurrentChunkSize: this.endByte - this.startByte,\r\n        flowTotalSize: this.fileObj.size,\r\n        flowIdentifier: this.fileObj.uniqueIdentifier,\r\n        flowFilename: this.fileObj.name,\r\n        flowRelativePath: this.fileObj.relativePath,\r\n        flowTotalChunks: this.fileObj.chunks.length\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Get target option with query params\r\n     * @function\r\n     * @param params\r\n     * @returns {string}\r\n     */\r\n    getTarget: function(target, params){\r\n      if(target.indexOf('?') < 0) {\r\n        target += '?';\r\n      } else {\r\n        target += '&';\r\n      }\r\n      return target + params.join('&');\r\n    },\r\n\r\n    /**\r\n     * Makes a GET request without any data to see if the chunk has already\r\n     * been uploaded in a previous session\r\n     * @function\r\n     */\r\n    test: function () {\r\n      // Set up request and listen for event\r\n      this.xhr = new XMLHttpRequest();\r\n      this.xhr.addEventListener(\"load\", this.testHandler, false);\r\n      this.xhr.addEventListener(\"error\", this.testHandler, false);\r\n      var testMethod = evalOpts(this.flowObj.opts.testMethod, this.fileObj, this);\r\n      var data = this.prepareXhrRequest(testMethod, true);\r\n      this.xhr.send(data);\r\n    },\r\n\r\n    /**\r\n     * Finish preprocess state\r\n     * @function\r\n     */\r\n    preprocessFinished: function () {\r\n      // Re-compute the endByte after the preprocess function to allow an\r\n      // implementer of preprocess to set the fileObj size\r\n      this.endByte = this.computeEndByte();\r\n\r\n      this.preprocessState = 2;\r\n      this.send();\r\n    },\r\n\r\n    /**\r\n     * Finish read state\r\n     * @function\r\n     */\r\n    readFinished: function (bytes) {\r\n      this.readState = 2;\r\n      this.bytes = bytes;\r\n      this.send();\r\n    },\r\n\r\n\r\n    /**\r\n     * Uploads the actual data in a POST call\r\n     * @function\r\n     */\r\n    send: function () {\r\n      var preprocess = this.flowObj.opts.preprocess;\r\n      var read = this.flowObj.opts.readFileFn;\r\n      if (typeof preprocess === 'function') {\r\n        switch (this.preprocessState) {\r\n          case 0:\r\n            this.preprocessState = 1;\r\n            preprocess(this);\r\n            return;\r\n          case 1:\r\n            return;\r\n        }\r\n      }\r\n      switch (this.readState) {\r\n        case 0:\r\n          this.readState = 1;\r\n          read(this.fileObj, this.startByte, this.endByte, this.fileObj.file.type, this);\r\n          return;\r\n        case 1:\r\n          return;\r\n      }\r\n      if (this.flowObj.opts.testChunks && !this.tested) {\r\n        this.test();\r\n        return;\r\n      }\r\n\r\n      this.loaded = 0;\r\n      this.total = 0;\r\n      this.pendingRetry = false;\r\n\r\n      // Set up request and listen for event\r\n      this.xhr = new XMLHttpRequest();\r\n      this.xhr.upload.addEventListener('progress', this.progressHandler, false);\r\n      this.xhr.addEventListener(\"load\", this.doneHandler, false);\r\n      this.xhr.addEventListener(\"error\", this.doneHandler, false);\r\n\r\n      var uploadMethod = evalOpts(this.flowObj.opts.uploadMethod, this.fileObj, this);\r\n      var data = this.prepareXhrRequest(uploadMethod, false, this.flowObj.opts.method, this.bytes);\r\n      this.xhr.send(data);\r\n    },\r\n\r\n    /**\r\n     * Abort current xhr request\r\n     * @function\r\n     */\r\n    abort: function () {\r\n      // Abort and reset\r\n      var xhr = this.xhr;\r\n      this.xhr = null;\r\n      if (xhr) {\r\n        xhr.abort();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Retrieve current chunk upload status\r\n     * @function\r\n     * @returns {string} 'pending', 'uploading', 'success', 'error'\r\n     */\r\n    status: function (isTest) {\r\n      if (this.readState === 1) {\r\n        return 'reading';\r\n      } else if (this.pendingRetry || this.preprocessState === 1) {\r\n        // if pending retry then that's effectively the same as actively uploading,\r\n        // there might just be a slight delay before the retry starts\r\n        return 'uploading';\r\n      } else if (!this.xhr) {\r\n        return 'pending';\r\n      } else if (this.xhr.readyState < 4) {\r\n        // Status is really 'OPENED', 'HEADERS_RECEIVED'\r\n        // or 'LOADING' - meaning that stuff is happening\r\n        return 'uploading';\r\n      } else {\r\n        if (this.flowObj.opts.successStatuses.indexOf(this.xhr.status) > -1) {\r\n          // HTTP 200, perfect\r\n\t\t      // HTTP 202 Accepted - The request has been accepted for processing, but the processing has not been completed.\r\n          return 'success';\r\n        } else if (this.flowObj.opts.permanentErrors.indexOf(this.xhr.status) > -1 ||\r\n            !isTest && this.retries >= this.flowObj.opts.maxChunkRetries) {\r\n          // HTTP 413/415/500/501, permanent error\r\n          return 'error';\r\n        } else {\r\n          // this should never happen, but we'll reset and queue a retry\r\n          // a likely case for this would be 503 service unavailable\r\n          this.abort();\r\n          return 'pending';\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Get response from xhr request\r\n     * @function\r\n     * @returns {String}\r\n     */\r\n    message: function () {\r\n      return this.xhr ? this.xhr.responseText : '';\r\n    },\r\n\r\n    /**\r\n     * Get upload progress\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    progress: function () {\r\n      if (this.pendingRetry) {\r\n        return 0;\r\n      }\r\n      var s = this.status();\r\n      if (s === 'success' || s === 'error') {\r\n        return 1;\r\n      } else if (s === 'pending') {\r\n        return 0;\r\n      } else {\r\n        return this.total > 0 ? this.loaded / this.total : 0;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Count total size uploaded\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    sizeUploaded: function () {\r\n      var size = this.endByte - this.startByte;\r\n      // can't return only chunk.loaded value, because it is bigger than chunk size\r\n      if (this.status() !== 'success') {\r\n        size = this.progress() * size;\r\n      }\r\n      return size;\r\n    },\r\n\r\n    /**\r\n     * Prepare Xhr request. Set query, headers and data\r\n     * @param {string} method GET or POST\r\n     * @param {bool} isTest is this a test request\r\n     * @param {string} [paramsMethod] octet or form\r\n     * @param {Blob} [blob] to send\r\n     * @returns {FormData|Blob|Null} data to send\r\n     */\r\n    prepareXhrRequest: function(method, isTest, paramsMethod, blob) {\r\n      // Add data from the query options\r\n      var query = evalOpts(this.flowObj.opts.query, this.fileObj, this, isTest);\r\n      query = extend(query, this.getParams());\r\n\r\n      var target = evalOpts(this.flowObj.opts.target, this.fileObj, this, isTest);\r\n      var data = null;\r\n      if (method === 'GET' || paramsMethod === 'octet') {\r\n        // Add data from the query options\r\n        var params = [];\r\n        each(query, function (v, k) {\r\n          params.push([encodeURIComponent(k), encodeURIComponent(v)].join('='));\r\n        });\r\n        target = this.getTarget(target, params);\r\n        data = blob || null;\r\n      } else {\r\n        // Add data from the query options\r\n        data = new FormData();\r\n        each(query, function (v, k) {\r\n          data.append(k, v);\r\n        });\r\n        data.append(this.flowObj.opts.fileParameterName, blob, this.fileObj.file.name);\r\n      }\r\n\r\n      this.xhr.open(method, target, true);\r\n      this.xhr.withCredentials = this.flowObj.opts.withCredentials;\r\n\r\n      // Add data from header options\r\n      each(evalOpts(this.flowObj.opts.headers, this.fileObj, this, isTest), function (v, k) {\r\n        this.xhr.setRequestHeader(k, v);\r\n      }, this);\r\n\r\n      return data;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Remove value from array\r\n   * @param array\r\n   * @param value\r\n   */\r\n  function arrayRemove(array, value) {\r\n    var index = array.indexOf(value);\r\n    if (index > -1) {\r\n      array.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * If option is a function, evaluate it with given params\r\n   * @param {*} data\r\n   * @param {...} args arguments of a callback\r\n   * @returns {*}\r\n   */\r\n  function evalOpts(data, args) {\r\n    if (typeof data === \"function\") {\r\n      // `arguments` is an object, not array, in FF, so:\r\n      args = Array.prototype.slice.call(arguments);\r\n      data = data.apply(null, args.slice(1));\r\n    }\r\n    return data;\r\n  }\r\n  Flow.evalOpts = evalOpts;\r\n\r\n  /**\r\n   * Execute function asynchronously\r\n   * @param fn\r\n   * @param context\r\n   */\r\n  function async(fn, context) {\r\n    setTimeout(fn.bind(context), 0);\r\n  }\r\n\r\n  /**\r\n   * Extends the destination object `dst` by copying all of the properties from\r\n   * the `src` object(s) to `dst`. You can specify multiple `src` objects.\r\n   * @function\r\n   * @param {Object} dst Destination object.\r\n   * @param {...Object} src Source object(s).\r\n   * @returns {Object} Reference to `dst`.\r\n   */\r\n  function extend(dst, src) {\r\n    each(arguments, function(obj) {\r\n      if (obj !== dst) {\r\n        each(obj, function(value, key){\r\n          dst[key] = value;\r\n        });\r\n      }\r\n    });\r\n    return dst;\r\n  }\r\n  Flow.extend = extend;\r\n\r\n  /**\r\n   * Iterate each element of an object\r\n   * @function\r\n   * @param {Array|Object} obj object or an array to iterate\r\n   * @param {Function} callback first argument is a value and second is a key.\r\n   * @param {Object=} context Object to become context (`this`) for the iterator function.\r\n   */\r\n  function each(obj, callback, context) {\r\n    if (!obj) {\r\n      return ;\r\n    }\r\n    var key;\r\n    // Is Array?\r\n    // Array.isArray won't work, not only arrays can be iterated by index https://github.com/flowjs/ng-flow/issues/236#\r\n    if (typeof(obj.length) !== 'undefined') {\r\n      for (key = 0; key < obj.length; key++) {\r\n        if (callback.call(context, obj[key], key) === false) {\r\n          return ;\r\n        }\r\n      }\r\n    } else {\r\n      for (key in obj) {\r\n        if (obj.hasOwnProperty(key) && callback.call(context, obj[key], key) === false) {\r\n          return ;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  Flow.each = each;\r\n\r\n  /**\r\n   * FlowFile constructor\r\n   * @type {FlowFile}\r\n   */\r\n  Flow.FlowFile = FlowFile;\r\n\r\n  /**\r\n   * FlowFile constructor\r\n   * @type {FlowChunk}\r\n   */\r\n  Flow.FlowChunk = FlowChunk;\r\n\r\n  /**\r\n   * Library version\r\n   * @type {string}\r\n   */\r\n  Flow.version = '2.11.2';\r\n\r\n  if ( typeof module === \"object\" && module && typeof module.exports === \"object\" ) {\r\n    // Expose Flow as module.exports in loaders that implement the Node\r\n    // module pattern (including browserify). Do not create the global, since\r\n    // the user will be storing it themselves locally, and globals are frowned\r\n    // upon in the Node module world.\r\n    module.exports = Flow;\r\n  } else {\r\n    // Otherwise expose Flow to the global object as usual\r\n    window.Flow = Flow;\r\n\r\n    // Register as a named AMD module, since Flow can be concatenated with other\r\n    // files that may use define, but not via a proper concatenation script that\r\n    // understands anonymous AMD modules. A named AMD is safest and most robust\r\n    // way to register. Lowercase flow is used because AMD module names are\r\n    // derived from file names, and Flow is normally delivered in a lowercase\r\n    // file name. Do this after creating the global so that if an AMD module wants\r\n    // to call noConflict to hide this version of Flow, it will work.\r\n    if ( typeof define === \"function\" && define.amd ) {\r\n      define( \"flow\", [], function () { return Flow; } );\r\n    }\r\n  }\r\n})(window, document);\r\n\r\n/**\r\n * @description\r\n * var app = angular.module('App', ['flow.provider'], function(flowFactoryProvider){\r\n *    flowFactoryProvider.defaults = {target: '/'};\r\n * });\r\n * @name flowFactoryProvider\r\n */\r\nangular.module('flow.provider', [])\r\n.provider('flowFactory', function() {\r\n  'use strict';\r\n  /**\r\n   * Define the default properties for flow.js\r\n   * @name flowFactoryProvider.defaults\r\n   * @type {Object}\r\n   */\r\n  this.defaults = {};\r\n\r\n  /**\r\n   * Flow, MaybeFlow or NotFlow\r\n   * @name flowFactoryProvider.factory\r\n   * @type {function}\r\n   * @return {Flow}\r\n   */\r\n  this.factory = function (options) {\r\n    return new Flow(options);\r\n  };\r\n\r\n  /**\r\n   * Define the default events\r\n   * @name flowFactoryProvider.events\r\n   * @type {Array}\r\n   * @private\r\n   */\r\n  this.events = [];\r\n\r\n  /**\r\n   * Add default events\r\n   * @name flowFactoryProvider.on\r\n   * @function\r\n   * @param {string} event\r\n   * @param {Function} callback\r\n   */\r\n  this.on = function (event, callback) {\r\n    this.events.push([event, callback]);\r\n  };\r\n\r\n  this.$get = function() {\r\n    var fn = this.factory;\r\n    var defaults = this.defaults;\r\n    var events = this.events;\r\n    return {\r\n      'create': function(opts) {\r\n        // combine default options with global options and options\r\n        var flow = fn(angular.extend({}, defaults, opts));\r\n        angular.forEach(events, function (event) {\r\n          flow.on(event[0], event[1]);\r\n        });\r\n        return flow;\r\n      }\r\n    };\r\n  };\r\n});\r\nangular.module('flow.init', ['flow.provider'])\r\n  .controller('flowCtrl', ['$scope', '$attrs', '$parse', 'flowFactory',\r\n  function ($scope, $attrs, $parse, flowFactory) {\r\n\r\n    var options = angular.extend({}, $scope.$eval($attrs.flowInit));\r\n\r\n    // use existing flow object or create a new one\r\n    var flow  = $scope.$eval($attrs.flowObject) || flowFactory.create(options);\r\n\r\n    var catchAllHandler = function(eventName){\r\n      var args = Array.prototype.slice.call(arguments);\r\n      args.shift();\r\n      var event = $scope.$broadcast.apply($scope, ['flow::' + eventName, flow].concat(args));\r\n      if ({\r\n        'progress':1, 'filesSubmitted':1, 'fileSuccess': 1, 'fileError': 1, 'complete': 1\r\n      }[eventName]) {\r\n        $scope.$apply();\r\n      }\r\n      if (event.defaultPrevented) {\r\n        return false;\r\n      }\r\n    };\r\n\r\n    flow.on('catchAll', catchAllHandler);\r\n    $scope.$on('$destroy', function(){\r\n        flow.off('catchAll', catchAllHandler);\r\n    });\r\n\r\n    $scope.$flow = flow;\r\n\r\n    if ($attrs.hasOwnProperty('flowName')) {\r\n      $parse($attrs.flowName).assign($scope, flow);\r\n      $scope.$on('$destroy', function () {\r\n        $parse($attrs.flowName).assign($scope);\r\n      });\r\n    }\r\n  }])\r\n  .directive('flowInit', [function() {\r\n    return {\r\n      scope: true,\r\n      controller: 'flowCtrl'\r\n    };\r\n  }]);\r\nangular.module('flow.btn', ['flow.init'])\r\n.directive('flowBtn', [function() {\r\n  return {\r\n    'restrict': 'EA',\r\n    'scope': false,\r\n    'require': '^flowInit',\r\n    'link': function(scope, element, attrs) {\r\n      var isDirectory = attrs.hasOwnProperty('flowDirectory');\r\n      var isSingleFile = attrs.hasOwnProperty('flowSingleFile');\r\n      var inputAttrs = attrs.hasOwnProperty('flowAttrs') && scope.$eval(attrs.flowAttrs);\r\n      scope.$flow.assignBrowse(element, isDirectory, isSingleFile, inputAttrs);\r\n    }\r\n  };\r\n}]);\r\nangular.module('flow.dragEvents', ['flow.init'])\r\n/**\r\n * @name flowPreventDrop\r\n * Prevent loading files then dropped on element\r\n */\r\n  .directive('flowPreventDrop', function() {\r\n    return {\r\n      'scope': false,\r\n      'link': function(scope, element, attrs) {\r\n        element.bind('drop dragover', function (event) {\r\n          event.preventDefault();\r\n        });\r\n      }\r\n    };\r\n  })\r\n/**\r\n * @name flowDragEnter\r\n * executes `flowDragEnter` and `flowDragLeave` events\r\n */\r\n  .directive('flowDragEnter', ['$timeout', function($timeout) {\r\n    return {\r\n      'scope': false,\r\n      'link': function(scope, element, attrs) {\r\n        var promise;\r\n        var enter = false;\r\n        element.bind('dragover', function (event) {\r\n          if (!isFileDrag(event)) {\r\n            return ;\r\n          }\r\n          if (!enter) {\r\n            scope.$apply(attrs.flowDragEnter);\r\n            enter = true;\r\n          }\r\n          $timeout.cancel(promise);\r\n          event.preventDefault();\r\n        });\r\n        element.bind('dragleave drop', function (event) {\r\n          $timeout.cancel(promise);\r\n          promise = $timeout(function () {\r\n            scope.$eval(attrs.flowDragLeave);\r\n            promise = null;\r\n            enter = false;\r\n          }, 100);\r\n        });\r\n        function isFileDrag(dragEvent) {\r\n          var fileDrag = false;\r\n          var dataTransfer = dragEvent.dataTransfer || dragEvent.originalEvent.dataTransfer;\r\n          angular.forEach(dataTransfer && dataTransfer.types, function(val) {\r\n            if (val === 'Files') {\r\n              fileDrag = true;\r\n            }\r\n          });\r\n          return fileDrag;\r\n        }\r\n      }\r\n    };\r\n  }]);\r\n\r\nangular.module('flow.drop', ['flow.init'])\r\n.directive('flowDrop', function() {\r\n  return {\r\n    'scope': false,\r\n    'require': '^flowInit',\r\n    'link': function(scope, element, attrs) {\r\n      if (attrs.flowDropEnabled) {\r\n        scope.$watch(attrs.flowDropEnabled, function (value) {\r\n          if (value) {\r\n            assignDrop();\r\n          } else {\r\n            unAssignDrop();\r\n          }\r\n        });\r\n      } else {\r\n        assignDrop();\r\n      }\r\n      function assignDrop() {\r\n        scope.$flow.assignDrop(element);\r\n      }\r\n      function unAssignDrop() {\r\n        scope.$flow.unAssignDrop(element);\r\n      }\r\n    }\r\n  };\r\n});\r\n\r\n!function (angular) {'use strict';\r\n  var module = angular.module('flow.events', ['flow.init']);\r\n  var events = {\r\n    fileSuccess: ['$file', '$message'],\r\n    fileProgress: ['$file'],\r\n    fileAdded: ['$file', '$event'],\r\n    filesAdded: ['$files', '$event'],\r\n    filesSubmitted: ['$files', '$event'],\r\n    fileRetry: ['$file'],\r\n    fileError: ['$file', '$message'],\r\n    uploadStart: [],\r\n    complete: [],\r\n    progress: [],\r\n    error: ['$message', '$file']\r\n  };\r\n\r\n  angular.forEach(events, function (eventArgs, eventName) {\r\n    var name = 'flow' + capitaliseFirstLetter(eventName);\r\n    if (name == 'flowUploadStart') {\r\n      name = 'flowUploadStarted';// event alias\r\n    }\r\n    module.directive(name, [function() {\r\n      return {\r\n        require: '^flowInit',\r\n        controller: ['$scope', '$attrs', function ($scope, $attrs) {\r\n          $scope.$on('flow::' + eventName, function () {\r\n            var funcArgs = Array.prototype.slice.call(arguments);\r\n            var event = funcArgs.shift();// remove angular event\r\n            // remove flow object and ignore event if it is from parent directive\r\n            if ($scope.$flow !== funcArgs.shift()) {\r\n              return ;\r\n            }\r\n            var args = {};\r\n            angular.forEach(eventArgs, function(value, key) {\r\n              args[value] = funcArgs[key];\r\n            });\r\n            if ($scope.$eval($attrs[name], args) === false) {\r\n              event.preventDefault();\r\n            }\r\n          });\r\n        }]\r\n      };\r\n    }]);\r\n  });\r\n\r\n  function capitaliseFirstLetter(string) {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  }\r\n}(angular);\r\nangular.module('flow.img', ['flow.init'])\r\n.directive('flowImg', [function() {\r\n  return {\r\n    'scope': false,\r\n    'require': '^flowInit',\r\n    'link': function(scope, element, attrs) {\r\n      var file = attrs.flowImg;\r\n      scope.$watch(file, function (file) {\r\n        if (!file) {\r\n          return ;\r\n        }\r\n        var fileReader = new FileReader();\r\n        fileReader.readAsDataURL(file.file);\r\n        fileReader.onload = function (event) {\r\n          scope.$apply(function () {\r\n            attrs.$set('src', event.target.result);\r\n          });\r\n        };\r\n      });\r\n    }\r\n  };\r\n}]);\r\nangular.module('flow.transfers', ['flow.init'])\r\n.directive('flowTransfers', [function() {\r\n  return {\r\n    'scope': true,\r\n    'require': '^flowInit',\r\n    'link': function(scope) {\r\n      scope.transfers = scope.$flow.files;\r\n    }\r\n  };\r\n}]);\r\nangular.module('flow', ['flow.provider', 'flow.init', 'flow.events', 'flow.btn',\r\n  'flow.drop', 'flow.transfers', 'flow.img', 'flow.dragEvents']);","angular.module('angularResizable', [])\r\n    .directive('resizable', function() {\r\n        var toCall;\r\n        function throttle(fun) {\r\n            if (toCall === undefined) {\r\n                toCall = fun;\r\n                setTimeout(function() {\r\n                    toCall();\r\n                    toCall = undefined;\r\n                }, 100);\r\n            } else {\r\n                toCall = fun;\r\n            }\r\n        }\r\n        return {\r\n            restrict: 'AE',\r\n            scope: {\r\n                rDirections: '=',\r\n                rCenteredX: '=',\r\n                rCenteredY: '=',\r\n                rWidth: '=',\r\n                rHeight: '=',\r\n                rFlex: '=',\r\n                rGrabber: '@',\r\n                rDisabled: '@',\r\n                rNoThrottle: '='\r\n            },\r\n            link: function(scope, element, attr) {\r\n                var flexBasis = 'flexBasis' in document.documentElement.style ? 'flexBasis' :\r\n                    'webkitFlexBasis' in document.documentElement.style ? 'webkitFlexBasis' :\r\n                    'msFlexPreferredSize' in document.documentElement.style ? 'msFlexPreferredSize' : 'flexBasis';\r\n\r\n                // register watchers on width and height attributes if they are set\r\n                scope.$watch('rWidth', function(value){\r\n                    element[0].style[scope.rFlex ? flexBasis : 'width'] = scope.rWidth + 'px';\r\n                });\r\n                scope.$watch('rHeight', function(value){\r\n                    element[0].style[scope.rFlex ? flexBasis : 'height'] = scope.rHeight + 'px';\r\n                });\r\n\r\n                element.addClass('resizable');\r\n\r\n                var style = window.getComputedStyle(element[0], null),\r\n                    w,\r\n                    h,\r\n                    dir = scope.rDirections || ['right'],\r\n                    vx = scope.rCenteredX ? 2 : 1, // if centered double velocity\r\n                    vy = scope.rCenteredY ? 2 : 1, // if centered double velocity\r\n                    inner = scope.rGrabber ? scope.rGrabber : '<span></span>',\r\n                    start,\r\n                    dragDir,\r\n                    axis,\r\n                    info = {};\r\n\r\n                var updateInfo = function(e) {\r\n                    info.width = false; info.height = false;\r\n                    if(axis === 'x')\r\n                        info.width = parseInt(element[0].style[scope.rFlex ? flexBasis : 'width']);\r\n                    else\r\n                        info.height = parseInt(element[0].style[scope.rFlex ? flexBasis : 'height']);\r\n                    info.id = element[0].id;\r\n                    info.evt = e;\r\n                };\r\n\r\n                var getClientX = function(e) {\r\n                    return e.touches ? e.touches[0].clientX : e.clientX;\r\n                };\r\n\r\n                var getClientY = function(e) {\r\n                    return e.touches ? e.touches[0].clientY : e.clientY;\r\n                };\r\n\r\n                var dragging = function(e) {\r\n                    var prop, offset = axis === 'x' ? start - getClientX(e) : start - getClientY(e);\r\n                    switch(dragDir) {\r\n                        case 'top':\r\n                            prop = scope.rFlex ? flexBasis : 'height';\r\n                            element[0].style[prop] = h + (offset * vy) + 'px';\r\n                            break;\r\n                        case 'bottom':\r\n                            prop = scope.rFlex ? flexBasis : 'height';\r\n                            element[0].style[prop] = h - (offset * vy) + 'px';\r\n                            break;\r\n                        case 'right':\r\n                            prop = scope.rFlex ? flexBasis : 'width';\r\n                            element[0].style[prop] = w - (offset * vx) + 'px';\r\n                            break;\r\n                        case 'left':\r\n                            prop = scope.rFlex ? flexBasis : 'width';\r\n                            element[0].style[prop] = w + (offset * vx) + 'px';\r\n                            break;\r\n                    }\r\n                    updateInfo(e);\r\n                    function resizingEmit(){\r\n                        scope.$emit('angular-resizable.resizing', info);\r\n                    }\r\n                    if (scope.rNoThrottle) {\r\n                        resizingEmit();\r\n                    } else {\r\n                        throttle(resizingEmit);\r\n                    }\r\n                };\r\n                var dragEnd = function(e) {\r\n                    updateInfo();\r\n                    scope.$emit('angular-resizable.resizeEnd', info);\r\n                    scope.$apply();\r\n                    document.removeEventListener('mouseup', dragEnd, false);\r\n                    document.removeEventListener('mousemove', dragging, false);\r\n                    document.removeEventListener('touchend', dragEnd, false);\r\n                    document.removeEventListener('touchmove', dragging, false);\r\n                    element.removeClass('no-transition');\r\n                };\r\n                var dragStart = function(e, direction) {\r\n                    dragDir = direction;\r\n                    axis = dragDir === 'left' || dragDir === 'right' ? 'x' : 'y';\r\n                    start = axis === 'x' ? getClientX(e) : getClientY(e);\r\n                    w = parseInt(style.getPropertyValue('width'));\r\n                    h = parseInt(style.getPropertyValue('height'));\r\n\r\n                    //prevent transition while dragging\r\n                    element.addClass('no-transition');\r\n\r\n                    document.addEventListener('mouseup', dragEnd, false);\r\n                    document.addEventListener('mousemove', dragging, false);\r\n                    document.addEventListener('touchend', dragEnd, false);\r\n                    document.addEventListener('touchmove', dragging, false);\r\n\r\n                    // Disable highlighting while dragging\r\n                    if(e.stopPropagation) e.stopPropagation();\r\n                    if(e.preventDefault) e.preventDefault();\r\n                    e.cancelBubble = true;\r\n                    e.returnValue = false;\r\n\r\n                    updateInfo(e);\r\n                    scope.$emit('angular-resizable.resizeStart', info);\r\n                    scope.$apply();\r\n                };\r\n\r\n                dir.forEach(function (direction) {\r\n                    var grabber = document.createElement('div');\r\n\r\n                    // add class for styling purposes\r\n                    grabber.setAttribute('class', 'rg-' + direction);\r\n                    grabber.innerHTML = inner;\r\n                    element[0].appendChild(grabber);\r\n                    grabber.ondragstart = function() { return false; };\r\n\r\n                    var down = function(e) {\r\n                        var disabled = (scope.rDisabled === 'true');\r\n                        if (!disabled && (e.which === 1 || e.touches)) {\r\n                            // left mouse click or touch screen\r\n                            dragStart(e, direction);\r\n                        }\r\n                    };\r\n                    grabber.addEventListener('mousedown', down, false);\r\n                    grabber.addEventListener('touchstart', down, false);\r\n                });\r\n            }\r\n        };\r\n    });","/*!\r\n * ngTagsInput v3.1.1\r\n * http://mbenford.github.io/ngTagsInput\r\n *\r\n * Copyright (c) 2013-2016 Michael Benford\r\n * License: MIT\r\n *\r\n * Generated at 2016-05-27 12:28:31 -0300\r\n */\r\n(function() {\r\n'use strict';\r\n\r\nvar KEYS = {\r\n    backspace: 8,\r\n    tab: 9,\r\n    enter: 13,\r\n    escape: 27,\r\n    space: 32,\r\n    up: 38,\r\n    down: 40,\r\n    left: 37,\r\n    right: 39,\r\n    delete: 46,\r\n    comma: 188\r\n};\r\n\r\nvar MAX_SAFE_INTEGER = 9007199254740991;\r\nvar SUPPORTED_INPUT_TYPES = ['text', 'email', 'url'];\r\n\r\nvar tagsInput = angular.module('ngTagsInput', []);\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name tagsInput\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Renders an input box with tag editing support.\r\n *\r\n * @param {string} ngModel Assignable Angular expression to data-bind to.\r\n * @param {string=} [template=NA] URL or id of a custom template for rendering each tag.\r\n * @param {string=} [templateScope=NA] Scope to be passed to custom templates - of both tagsInput and\r\n *    autoComplete directives - as $scope.\r\n * @param {string=} [displayProperty=text] Property to be rendered as the tag label.\r\n * @param {string=} [keyProperty=text] Property to be used as a unique identifier for the tag.\r\n * @param {string=} [type=text] Type of the input element. Only 'text', 'email' and 'url' are supported values.\r\n * @param {string=} [text=NA] Assignable Angular expression for data-binding to the element's text.\r\n * @param {number=} tabindex Tab order of the control.\r\n * @param {string=} [placeholder=Add a tag] Placeholder text for the control.\r\n * @param {number=} [minLength=3] Minimum length for a new tag.\r\n * @param {number=} [maxLength=MAX_SAFE_INTEGER] Maximum length allowed for a new tag.\r\n * @param {number=} [minTags=0] Sets minTags validation error key if the number of tags added is less than minTags.\r\n * @param {number=} [maxTags=MAX_SAFE_INTEGER] Sets maxTags validation error key if the number of tags added is greater\r\n *    than maxTags.\r\n * @param {boolean=} [allowLeftoverText=false] Sets leftoverText validation error key if there is any leftover text in\r\n *    the input element when the directive loses focus.\r\n * @param {string=} [removeTagSymbol=×] (Obsolete) Symbol character for the remove tag button.\r\n * @param {boolean=} [addOnEnter=true] Flag indicating that a new tag will be added on pressing the ENTER key.\r\n * @param {boolean=} [addOnSpace=false] Flag indicating that a new tag will be added on pressing the SPACE key.\r\n * @param {boolean=} [addOnComma=true] Flag indicating that a new tag will be added on pressing the COMMA key.\r\n * @param {boolean=} [addOnBlur=true] Flag indicating that a new tag will be added when the input field loses focus.\r\n * @param {boolean=} [addOnPaste=false] Flag indicating that the text pasted into the input field will be split into tags.\r\n * @param {string=} [pasteSplitPattern=,] Regular expression used to split the pasted text into tags.\r\n * @param {boolean=} [replaceSpacesWithDashes=true] Flag indicating that spaces will be replaced with dashes.\r\n * @param {string=} [allowedTagsPattern=.+] Regular expression that determines whether a new tag is valid.\r\n * @param {boolean=} [enableEditingLastTag=false] Flag indicating that the last tag will be moved back into the new tag\r\n *    input box instead of being removed when the backspace key is pressed and the input box is empty.\r\n * @param {boolean=} [addFromAutocompleteOnly=false] Flag indicating that only tags coming from the autocomplete list\r\n *    will be allowed. When this flag is true, addOnEnter, addOnComma, addOnSpace and addOnBlur values are ignored.\r\n * @param {boolean=} [spellcheck=true] Flag indicating whether the browser's spellcheck is enabled for the input field or not.\r\n * @param {expression=} [tagClass=NA] Expression to evaluate for each existing tag in order to get the CSS classes to be used.\r\n *    The expression is provided with the current tag as $tag, its index as $index and its state as $selected. The result\r\n *    of the evaluation must be one of the values supported by the ngClass directive (either a string, an array or an object).\r\n *    See https://docs.angularjs.org/api/ng/directive/ngClass for more information.\r\n * @param {expression=} [onTagAdding=NA] Expression to evaluate that will be invoked before adding a new tag. The new\r\n *    tag is available as $tag. This method must return either a boolean value or a promise. If either a false value or a rejected\r\n *    promise is returned, the tag will not be added.\r\n * @param {expression=} [onTagAdded=NA] Expression to evaluate upon adding a new tag. The new tag is available as $tag.\r\n * @param {expression=} [onInvalidTag=NA] Expression to evaluate when a tag is invalid. The invalid tag is available as $tag.\r\n * @param {expression=} [onTagRemoving=NA] Expression to evaluate that will be invoked before removing a tag. The tag\r\n *    is available as $tag. This method must return either a boolean value or a promise. If either a false value or a rejected\r\n *    promise is returned, the tag will not be removed.\r\n * @param {expression=} [onTagRemoved=NA] Expression to evaluate upon removing an existing tag. The removed tag is available as $tag.\r\n * @param {expression=} [onTagClicked=NA] Expression to evaluate upon clicking an existing tag. The clicked tag is available as $tag.\r\n */\r\ntagsInput.directive('tagsInput', [\"$timeout\", \"$document\", \"$window\", \"$q\", \"tagsInputConfig\", \"tiUtil\", function($timeout, $document, $window, $q, tagsInputConfig, tiUtil) {\r\n    function TagList(options, events, onTagAdding, onTagRemoving) {\r\n        var self = {}, getTagText, setTagText, canAddTag, canRemoveTag;\r\n\r\n        getTagText = function(tag) {\r\n            return tiUtil.safeToString(tag[options.displayProperty]);\r\n        };\r\n\r\n        setTagText = function(tag, text) {\r\n            tag[options.displayProperty] = text;\r\n        };\r\n\r\n        canAddTag = function(tag) {\r\n            var tagText = getTagText(tag);\r\n            var valid = tagText &&\r\n                        tagText.length >= options.minLength &&\r\n                        tagText.length <= options.maxLength &&\r\n                        options.allowedTagsPattern.test(tagText) &&\r\n                        !tiUtil.findInObjectArray(self.items, tag, options.keyProperty || options.displayProperty);\r\n\r\n            return $q.when(valid && onTagAdding({ $tag: tag })).then(tiUtil.promisifyValue);\r\n        };\r\n\r\n        canRemoveTag = function(tag) {\r\n            return $q.when(onTagRemoving({ $tag: tag })).then(tiUtil.promisifyValue);\r\n        };\r\n\r\n        self.items = [];\r\n\r\n        self.addText = function(text) {\r\n            var tag = {};\r\n            setTagText(tag, text);\r\n            return self.add(tag);\r\n        };\r\n\r\n        self.add = function(tag) {\r\n            var tagText = getTagText(tag);\r\n\r\n            if (options.replaceSpacesWithDashes) {\r\n                tagText = tiUtil.replaceSpacesWithDashes(tagText);\r\n            }\r\n\r\n            setTagText(tag, tagText);\r\n\r\n            return canAddTag(tag)\r\n                .then(function() {\r\n                    self.items.push(tag);\r\n                    events.trigger('tag-added', { $tag: tag });\r\n                })\r\n                .catch(function() {\r\n                    if (tagText) {\r\n                      events.trigger('invalid-tag', { $tag: tag });\r\n                    }\r\n                });\r\n        };\r\n\r\n        self.remove = function(index) {\r\n            var tag = self.items[index];\r\n\r\n            return canRemoveTag(tag).then(function() {\r\n                self.items.splice(index, 1);\r\n                self.clearSelection();\r\n                events.trigger('tag-removed', { $tag: tag });\r\n                return tag;\r\n            });\r\n        };\r\n\r\n        self.select = function(index) {\r\n            if (index < 0) {\r\n                index = self.items.length - 1;\r\n            }\r\n            else if (index >= self.items.length) {\r\n                index = 0;\r\n            }\r\n\r\n            self.index = index;\r\n            self.selected = self.items[index];\r\n        };\r\n\r\n        self.selectPrior = function() {\r\n            self.select(--self.index);\r\n        };\r\n\r\n        self.selectNext = function() {\r\n            self.select(++self.index);\r\n        };\r\n\r\n        self.removeSelected = function() {\r\n            return self.remove(self.index);\r\n        };\r\n\r\n        self.clearSelection = function() {\r\n            self.selected = null;\r\n            self.index = -1;\r\n        };\r\n\r\n        self.clearSelection();\r\n\r\n        return self;\r\n    }\r\n\r\n    function validateType(type) {\r\n        return SUPPORTED_INPUT_TYPES.indexOf(type) !== -1;\r\n    }\r\n\r\n    return {\r\n        restrict: 'E',\r\n        require: 'ngModel',\r\n        scope: {\r\n            tags: '=ngModel',\r\n            text: '=?',\r\n            templateScope: '=?',\r\n            tagClass: '&',\r\n            onTagAdding: '&',\r\n            onTagAdded: '&',\r\n            onInvalidTag: '&',\r\n            onTagRemoving: '&',\r\n            onTagRemoved: '&',\r\n            onTagClicked: '&',\r\n        },\r\n        replace: false,\r\n        transclude: true,\r\n        templateUrl: 'ngTagsInput/tags-input.html',\r\n        controller: [\"$scope\", \"$attrs\", \"$element\", function($scope, $attrs, $element) {\r\n            $scope.events = tiUtil.simplePubSub();\r\n\r\n            tagsInputConfig.load('tagsInput', $scope, $attrs, {\r\n                template: [String, 'ngTagsInput/tag-item.html'],\r\n                type: [String, 'text', validateType],\r\n                placeholder: [String, 'Add a tag'],\r\n                tabindex: [Number, null],\r\n                removeTagSymbol: [String, String.fromCharCode(215)],\r\n                replaceSpacesWithDashes: [Boolean, true],\r\n                minLength: [Number, 3],\r\n                maxLength: [Number, MAX_SAFE_INTEGER],\r\n                addOnEnter: [Boolean, true],\r\n                addOnSpace: [Boolean, false],\r\n                addOnComma: [Boolean, true],\r\n                addOnBlur: [Boolean, true],\r\n                addOnPaste: [Boolean, false],\r\n                pasteSplitPattern: [RegExp, /,/],\r\n                allowedTagsPattern: [RegExp, /.+/],\r\n                enableEditingLastTag: [Boolean, false],\r\n                minTags: [Number, 0],\r\n                maxTags: [Number, MAX_SAFE_INTEGER],\r\n                displayProperty: [String, 'text'],\r\n                keyProperty: [String, ''],\r\n                allowLeftoverText: [Boolean, false],\r\n                addFromAutocompleteOnly: [Boolean, false],\r\n                spellcheck: [Boolean, true]\r\n            });\r\n\r\n            $scope.tagList = new TagList($scope.options, $scope.events,\r\n                tiUtil.handleUndefinedResult($scope.onTagAdding, true),\r\n                tiUtil.handleUndefinedResult($scope.onTagRemoving, true));\r\n\r\n            this.registerAutocomplete = function() {\r\n                var input = $element.find('input');\r\n\r\n                return {\r\n                    addTag: function(tag) {\r\n                        return $scope.tagList.add(tag);\r\n                    },\r\n                    getTags: function() {\r\n                        return $scope.tagList.items;\r\n                    },\r\n                    getCurrentTagText: function() {\r\n                        return $scope.newTag.text();\r\n                    },\r\n                    getOptions: function() {\r\n                        return $scope.options;\r\n                    },\r\n                    getTemplateScope: function() {\r\n                        return $scope.templateScope;\r\n                    },\r\n                    on: function(name, handler) {\r\n                        $scope.events.on(name, handler, true);\r\n                        return this;\r\n                    }\r\n                };\r\n            };\r\n\r\n            this.registerTagItem = function() {\r\n                return {\r\n                    getOptions: function() {\r\n                        return $scope.options;\r\n                    },\r\n                    removeTag: function(index) {\r\n                        if ($scope.disabled) {\r\n                            return;\r\n                        }\r\n                        $scope.tagList.remove(index);\r\n                    }\r\n                };\r\n            };\r\n        }],\r\n        link: function(scope, element, attrs, ngModelCtrl) {\r\n            var hotkeys = [KEYS.enter, KEYS.comma, KEYS.space, KEYS.backspace, KEYS.delete, KEYS.left, KEYS.right],\r\n                tagList = scope.tagList,\r\n                events = scope.events,\r\n                options = scope.options,\r\n                input = element.find('input'),\r\n                validationOptions = ['minTags', 'maxTags', 'allowLeftoverText'],\r\n                setElementValidity,\r\n                focusInput;\r\n\r\n            setElementValidity = function() {\r\n                ngModelCtrl.$setValidity('maxTags', tagList.items.length <= options.maxTags);\r\n                ngModelCtrl.$setValidity('minTags', tagList.items.length >= options.minTags);\r\n                ngModelCtrl.$setValidity('leftoverText', scope.hasFocus || options.allowLeftoverText ? true : !scope.newTag.text());\r\n            };\r\n\r\n            focusInput = function() {\r\n                $timeout(function() { input[0].focus(); });\r\n            };\r\n\r\n            ngModelCtrl.$isEmpty = function(value) {\r\n                return !value || !value.length;\r\n            };\r\n\r\n            scope.newTag = {\r\n                text: function(value) {\r\n                    if (angular.isDefined(value)) {\r\n                        scope.text = value;\r\n                        events.trigger('input-change', value);\r\n                    }\r\n                    else {\r\n                        return scope.text || '';\r\n                    }\r\n                },\r\n                invalid: null\r\n            };\r\n\r\n            scope.track = function(tag) {\r\n                return tag[options.keyProperty || options.displayProperty];\r\n            };\r\n\r\n            scope.getTagClass = function(tag, index) {\r\n                var selected = tag === tagList.selected;\r\n                return [\r\n                    scope.tagClass({$tag: tag, $index: index, $selected: selected}),\r\n                    { selected: selected }\r\n                ];\r\n            };\r\n\r\n            scope.$watch('tags', function(value) {\r\n                if (value) {\r\n                    tagList.items = tiUtil.makeObjectArray(value, options.displayProperty);\r\n                    scope.tags = tagList.items;\r\n                }\r\n                else {\r\n                    tagList.items = [];\r\n                }\r\n            });\r\n\r\n            scope.$watch('tags.length', function() {\r\n                setElementValidity();\r\n\r\n                // ngModelController won't trigger validators when the model changes (because it's an array),\r\n                // so we need to do it ourselves. Unfortunately this won't trigger any registered formatter.\r\n                ngModelCtrl.$validate();\r\n            });\r\n\r\n            attrs.$observe('disabled', function(value) {\r\n                scope.disabled = value;\r\n            });\r\n\r\n            scope.eventHandlers = {\r\n                input: {\r\n                    keydown: function($event) {\r\n                        events.trigger('input-keydown', $event);\r\n                    },\r\n                    focus: function() {\r\n                        if (scope.hasFocus) {\r\n                            return;\r\n                        }\r\n\r\n                        scope.hasFocus = true;\r\n                        events.trigger('input-focus');\r\n                    },\r\n                    blur: function() {\r\n                        $timeout(function() {\r\n                            var activeElement = $document.prop('activeElement'),\r\n                                lostFocusToBrowserWindow = activeElement === input[0],\r\n                                lostFocusToChildElement = element[0].contains(activeElement);\r\n\r\n                            if (lostFocusToBrowserWindow || !lostFocusToChildElement) {\r\n                                scope.hasFocus = false;\r\n                                events.trigger('input-blur');\r\n                            }\r\n                        });\r\n                    },\r\n                    paste: function($event) {\r\n                        $event.getTextData = function() {\r\n                            var clipboardData = $event.clipboardData || ($event.originalEvent && $event.originalEvent.clipboardData);\r\n                            return clipboardData ? clipboardData.getData('text/plain') : $window.clipboardData.getData('Text');\r\n                        };\r\n                        events.trigger('input-paste', $event);\r\n                    }\r\n                },\r\n                host: {\r\n                    click: function() {\r\n                        if (scope.disabled) {\r\n                            return;\r\n                        }\r\n                        focusInput();\r\n                    }\r\n                },\r\n                tag: {\r\n                    click: function(tag) {\r\n                        events.trigger('tag-clicked', { $tag: tag });\r\n                    }\r\n                }\r\n            };\r\n\r\n            events\r\n                .on('tag-added', scope.onTagAdded)\r\n                .on('invalid-tag', scope.onInvalidTag)\r\n                .on('tag-removed', scope.onTagRemoved)\r\n                .on('tag-clicked', scope.onTagClicked)\r\n                .on('tag-added', function() {\r\n                    scope.newTag.text('');\r\n                })\r\n                .on('tag-added tag-removed', function() {\r\n                    scope.tags = tagList.items;\r\n                    // Ideally we should be able call $setViewValue here and let it in turn call $setDirty and $validate\r\n                    // automatically, but since the model is an array, $setViewValue does nothing and it's up to us to do it.\r\n                    // Unfortunately this won't trigger any registered $parser and there's no safe way to do it.\r\n                    ngModelCtrl.$setDirty();\r\n                    focusInput();\r\n                })\r\n                .on('invalid-tag', function() {\r\n                    scope.newTag.invalid = true;\r\n                })\r\n                .on('option-change', function(e) {\r\n                    if (validationOptions.indexOf(e.name) !== -1) {\r\n                        setElementValidity();\r\n                    }\r\n                })\r\n                .on('input-change', function() {\r\n                    tagList.clearSelection();\r\n                    scope.newTag.invalid = null;\r\n                })\r\n                .on('input-focus', function() {\r\n                    element.triggerHandler('focus');\r\n                    ngModelCtrl.$setValidity('leftoverText', true);\r\n                })\r\n                .on('input-blur', function() {\r\n                    if (options.addOnBlur && !options.addFromAutocompleteOnly) {\r\n                        tagList.addText(scope.newTag.text());\r\n                    }\r\n                    element.triggerHandler('blur');\r\n                    setElementValidity();\r\n                })\r\n                .on('input-keydown', function(event) {\r\n                    var key = event.keyCode,\r\n                        addKeys = {},\r\n                        shouldAdd, shouldRemove, shouldSelect, shouldEditLastTag;\r\n\r\n                    if (tiUtil.isModifierOn(event) || hotkeys.indexOf(key) === -1) {\r\n                        return;\r\n                    }\r\n\r\n                    addKeys[KEYS.enter] = options.addOnEnter;\r\n                    addKeys[KEYS.comma] = options.addOnComma;\r\n                    addKeys[KEYS.space] = options.addOnSpace;\r\n\r\n                    shouldAdd = !options.addFromAutocompleteOnly && addKeys[key];\r\n                    shouldRemove = (key === KEYS.backspace || key === KEYS.delete) && tagList.selected;\r\n                    shouldEditLastTag = key === KEYS.backspace && scope.newTag.text().length === 0 && options.enableEditingLastTag;\r\n                    shouldSelect = (key === KEYS.backspace || key === KEYS.left || key === KEYS.right) && scope.newTag.text().length === 0 && !options.enableEditingLastTag;\r\n\r\n                    if (shouldAdd) {\r\n                        tagList.addText(scope.newTag.text());\r\n                    }\r\n                    else if (shouldEditLastTag) {\r\n                        tagList.selectPrior();\r\n                        tagList.removeSelected().then(function(tag) {\r\n                            if (tag) {\r\n                                scope.newTag.text(tag[options.displayProperty]);\r\n                            }\r\n                        });\r\n                    }\r\n                    else if (shouldRemove) {\r\n                        tagList.removeSelected();\r\n                    }\r\n                    else if (shouldSelect) {\r\n                        if (key === KEYS.left || key === KEYS.backspace) {\r\n                            tagList.selectPrior();\r\n                        }\r\n                        else if (key === KEYS.right) {\r\n                            tagList.selectNext();\r\n                        }\r\n                    }\r\n\r\n                    if (shouldAdd || shouldSelect || shouldRemove || shouldEditLastTag) {\r\n                        event.preventDefault();\r\n                    }\r\n                })\r\n                .on('input-paste', function(event) {\r\n                    if (options.addOnPaste) {\r\n                        var data = event.getTextData();\r\n                        var tags = data.split(options.pasteSplitPattern);\r\n\r\n                        if (tags.length > 1) {\r\n                            tags.forEach(function(tag) {\r\n                                tagList.addText(tag);\r\n                            });\r\n                            event.preventDefault();\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n    };\r\n}]);\r\n\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name tiTagItem\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Represents a tag item. Used internally by the tagsInput directive.\r\n */\r\ntagsInput.directive('tiTagItem', [\"tiUtil\", function(tiUtil) {\r\n    return {\r\n        restrict: 'E',\r\n        require: '^tagsInput',\r\n        template: '<ng-include src=\"$$template\"></ng-include>',\r\n        scope: {\r\n            $scope: '=scope',\r\n            data: '='\r\n        },\r\n        link: function(scope, element, attrs, tagsInputCtrl) {\r\n            var tagsInput = tagsInputCtrl.registerTagItem(),\r\n                options = tagsInput.getOptions();\r\n\r\n            scope.$$template = options.template;\r\n            scope.$$removeTagSymbol = options.removeTagSymbol;\r\n\r\n            scope.$getDisplayText = function() {\r\n                return tiUtil.safeToString(scope.data[options.displayProperty]);\r\n            };\r\n            scope.$removeTag = function() {\r\n                tagsInput.removeTag(scope.$index);\r\n            };\r\n\r\n            scope.$watch('$parent.$index', function(value) {\r\n                scope.$index = value;\r\n            });\r\n        }\r\n    };\r\n}]);\r\n\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name autoComplete\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Provides autocomplete support for the tagsInput directive.\r\n *\r\n * @param {expression} source Expression to evaluate upon changing the input content. The input value is available as\r\n *    $query. The result of the expression must be a promise that eventually resolves to an array of strings.\r\n * @param {string=} [template=NA] URL or id of a custom template for rendering each element of the autocomplete list.\r\n * @param {string=} [displayProperty=tagsInput.displayText] Property to be rendered as the autocomplete label.\r\n * @param {number=} [debounceDelay=100] Amount of time, in milliseconds, to wait before evaluating the expression in\r\n *    the source option after the last keystroke.\r\n * @param {number=} [minLength=3] Minimum number of characters that must be entered before evaluating the expression\r\n *    in the source option.\r\n * @param {boolean=} [highlightMatchedText=true] Flag indicating that the matched text will be highlighted in the\r\n *    suggestions list.\r\n * @param {number=} [maxResultsToShow=10] Maximum number of results to be displayed at a time.\r\n * @param {boolean=} [loadOnDownArrow=false] Flag indicating that the source option will be evaluated when the down arrow\r\n *    key is pressed and the suggestion list is closed. The current input value is available as $query.\r\n * @param {boolean=} [loadOnEmpty=false] Flag indicating that the source option will be evaluated when the input content\r\n *    becomes empty. The $query variable will be passed to the expression as an empty string.\r\n * @param {boolean=} [loadOnFocus=false] Flag indicating that the source option will be evaluated when the input element\r\n *    gains focus. The current input value is available as $query.\r\n * @param {boolean=} [selectFirstMatch=true] Flag indicating that the first match will be automatically selected once\r\n *    the suggestion list is shown.\r\n * @param {expression=} [matchClass=NA] Expression to evaluate for each match in order to get the CSS classes to be used.\r\n *    The expression is provided with the current match as $match, its index as $index and its state as $selected. The result\r\n *    of the evaluation must be one of the values supported by the ngClass directive (either a string, an array or an object).\r\n *    See https://docs.angularjs.org/api/ng/directive/ngClass for more information.\r\n */\r\ntagsInput.directive('autoComplete', [\"$document\", \"$timeout\", \"$sce\", \"$q\", \"tagsInputConfig\", \"tiUtil\", function($document, $timeout, $sce, $q, tagsInputConfig, tiUtil) {\r\n    function SuggestionList(loadFn, options, events) {\r\n        var self = {}, getDifference, lastPromise, getTagId;\r\n\r\n        getTagId = function() {\r\n            return options.tagsInput.keyProperty || options.tagsInput.displayProperty;\r\n        };\r\n\r\n        getDifference = function(array1, array2) {\r\n            return array1.filter(function(item) {\r\n                return !tiUtil.findInObjectArray(array2, item, getTagId(), function(a, b) {\r\n                    if (options.tagsInput.replaceSpacesWithDashes) {\r\n                        a = tiUtil.replaceSpacesWithDashes(a);\r\n                        b = tiUtil.replaceSpacesWithDashes(b);\r\n                    }\r\n                    return tiUtil.defaultComparer(a, b);\r\n                });\r\n            });\r\n        };\r\n\r\n        self.reset = function() {\r\n            lastPromise = null;\r\n\r\n            self.items = [];\r\n            self.visible = false;\r\n            self.index = -1;\r\n            self.selected = null;\r\n            self.query = null;\r\n        };\r\n        self.show = function() {\r\n            if (options.selectFirstMatch) {\r\n                self.select(0);\r\n            }\r\n            else {\r\n                self.selected = null;\r\n            }\r\n            self.visible = true;\r\n        };\r\n        self.load = tiUtil.debounce(function(query, tags) {\r\n            self.query = query;\r\n\r\n            var promise = $q.when(loadFn({ $query: query }));\r\n            lastPromise = promise;\r\n\r\n            promise.then(function(items) {\r\n                if (promise !== lastPromise) {\r\n                    return;\r\n                }\r\n\r\n                items = tiUtil.makeObjectArray(items.data || items, getTagId());\r\n                items = getDifference(items, tags);\r\n                self.items = items.slice(0, options.maxResultsToShow);\r\n\r\n                if (self.items.length > 0) {\r\n                    self.show();\r\n                }\r\n                else {\r\n                    self.reset();\r\n                }\r\n            });\r\n        }, options.debounceDelay);\r\n\r\n        self.selectNext = function() {\r\n            self.select(++self.index);\r\n        };\r\n        self.selectPrior = function() {\r\n            self.select(--self.index);\r\n        };\r\n        self.select = function(index) {\r\n            if (index < 0) {\r\n                index = self.items.length - 1;\r\n            }\r\n            else if (index >= self.items.length) {\r\n                index = 0;\r\n            }\r\n            self.index = index;\r\n            self.selected = self.items[index];\r\n            events.trigger('suggestion-selected', index);\r\n        };\r\n\r\n        self.reset();\r\n\r\n        return self;\r\n    }\r\n\r\n    function scrollToElement(root, index) {\r\n        var element = root.find('li').eq(index),\r\n            parent = element.parent(),\r\n            elementTop = element.prop('offsetTop'),\r\n            elementHeight = element.prop('offsetHeight'),\r\n            parentHeight = parent.prop('clientHeight'),\r\n            parentScrollTop = parent.prop('scrollTop');\r\n\r\n        if (elementTop < parentScrollTop) {\r\n            parent.prop('scrollTop', elementTop);\r\n        }\r\n        else if (elementTop + elementHeight > parentHeight + parentScrollTop) {\r\n            parent.prop('scrollTop', elementTop + elementHeight - parentHeight);\r\n        }\r\n    }\r\n\r\n    return {\r\n        restrict: 'E',\r\n        require: '^tagsInput',\r\n        scope: {\r\n            source: '&',\r\n            matchClass: '&'\r\n        },\r\n        templateUrl: 'ngTagsInput/auto-complete.html',\r\n        controller: [\"$scope\", \"$element\", \"$attrs\", function($scope, $element, $attrs) {\r\n            $scope.events = tiUtil.simplePubSub();\r\n\r\n            tagsInputConfig.load('autoComplete', $scope, $attrs, {\r\n                template: [String, 'ngTagsInput/auto-complete-match.html'],\r\n                debounceDelay: [Number, 100],\r\n                minLength: [Number, 3],\r\n                highlightMatchedText: [Boolean, true],\r\n                maxResultsToShow: [Number, 10],\r\n                loadOnDownArrow: [Boolean, false],\r\n                loadOnEmpty: [Boolean, false],\r\n                loadOnFocus: [Boolean, false],\r\n                selectFirstMatch: [Boolean, true],\r\n                displayProperty: [String, '']\r\n            });\r\n\r\n            $scope.suggestionList = new SuggestionList($scope.source, $scope.options, $scope.events);\r\n\r\n            this.registerAutocompleteMatch = function() {\r\n                return {\r\n                    getOptions: function() {\r\n                        return $scope.options;\r\n                    },\r\n                    getQuery: function() {\r\n                        return $scope.suggestionList.query;\r\n                    }\r\n                };\r\n            };\r\n        }],\r\n        link: function(scope, element, attrs, tagsInputCtrl) {\r\n            var hotkeys = [KEYS.enter, KEYS.tab, KEYS.escape, KEYS.up, KEYS.down],\r\n                suggestionList = scope.suggestionList,\r\n                tagsInput = tagsInputCtrl.registerAutocomplete(),\r\n                options = scope.options,\r\n                events = scope.events,\r\n                shouldLoadSuggestions;\r\n\r\n            options.tagsInput = tagsInput.getOptions();\r\n\r\n            shouldLoadSuggestions = function(value) {\r\n                return value && value.length >= options.minLength || !value && options.loadOnEmpty;\r\n            };\r\n\r\n            scope.templateScope = tagsInput.getTemplateScope();\r\n\r\n            scope.addSuggestionByIndex = function(index) {\r\n                suggestionList.select(index);\r\n                scope.addSuggestion();\r\n            };\r\n\r\n            scope.addSuggestion = function() {\r\n                var added = false;\r\n\r\n                if (suggestionList.selected) {\r\n                    tagsInput.addTag(angular.copy(suggestionList.selected));\r\n                    suggestionList.reset();\r\n                    added = true;\r\n                }\r\n                return added;\r\n            };\r\n\r\n            scope.track = function(item) {\r\n                return item[options.tagsInput.keyProperty || options.tagsInput.displayProperty];\r\n            };\r\n\r\n            scope.getSuggestionClass = function(item, index) {\r\n                var selected = item === suggestionList.selected;\r\n                return [\r\n                    scope.matchClass({$match: item, $index: index, $selected: selected}),\r\n                    { selected: selected }\r\n                ];\r\n            };\r\n\r\n            tagsInput\r\n                .on('tag-added tag-removed invalid-tag input-blur', function() {\r\n                    suggestionList.reset();\r\n                })\r\n                .on('input-change', function(value) {\r\n                    if (shouldLoadSuggestions(value)) {\r\n                        suggestionList.load(value, tagsInput.getTags());\r\n                    }\r\n                    else {\r\n                        suggestionList.reset();\r\n                    }\r\n                })\r\n                .on('input-focus', function() {\r\n                    var value = tagsInput.getCurrentTagText();\r\n                    if (options.loadOnFocus && shouldLoadSuggestions(value)) {\r\n                        suggestionList.load(value, tagsInput.getTags());\r\n                    }\r\n                })\r\n                .on('input-keydown', function(event) {\r\n                    var key = event.keyCode,\r\n                        handled = false;\r\n\r\n                    if (tiUtil.isModifierOn(event) || hotkeys.indexOf(key) === -1) {\r\n                        return;\r\n                    }\r\n\r\n                    if (suggestionList.visible) {\r\n\r\n                        if (key === KEYS.down) {\r\n                            suggestionList.selectNext();\r\n                            handled = true;\r\n                        }\r\n                        else if (key === KEYS.up) {\r\n                            suggestionList.selectPrior();\r\n                            handled = true;\r\n                        }\r\n                        else if (key === KEYS.escape) {\r\n                            suggestionList.reset();\r\n                            handled = true;\r\n                        }\r\n                        else if (key === KEYS.enter || key === KEYS.tab) {\r\n                            handled = scope.addSuggestion();\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (key === KEYS.down && scope.options.loadOnDownArrow) {\r\n                            suggestionList.load(tagsInput.getCurrentTagText(), tagsInput.getTags());\r\n                            handled = true;\r\n                        }\r\n                    }\r\n\r\n                    if (handled) {\r\n                        event.preventDefault();\r\n                        event.stopImmediatePropagation();\r\n                        return false;\r\n                    }\r\n                });\r\n\r\n            events.on('suggestion-selected', function(index) {\r\n                scrollToElement(element, index);\r\n            });\r\n        }\r\n    };\r\n}]);\r\n\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name tiAutocompleteMatch\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Represents an autocomplete match. Used internally by the autoComplete directive.\r\n */\r\ntagsInput.directive('tiAutocompleteMatch', [\"$sce\", \"tiUtil\", function($sce, tiUtil) {\r\n    return {\r\n        restrict: 'E',\r\n        require: '^autoComplete',\r\n        template: '<ng-include src=\"$$template\"></ng-include>',\r\n        scope: {\r\n            $scope: '=scope',\r\n            data: '='\r\n        },\r\n        link: function(scope, element, attrs, autoCompleteCtrl) {\r\n            var autoComplete = autoCompleteCtrl.registerAutocompleteMatch(),\r\n                options = autoComplete.getOptions();\r\n\r\n            scope.$$template = options.template;\r\n            scope.$index = scope.$parent.$index;\r\n\r\n            scope.$highlight = function(text) {\r\n                if (options.highlightMatchedText) {\r\n                    text = tiUtil.safeHighlight(text, autoComplete.getQuery());\r\n                }\r\n                return $sce.trustAsHtml(text);\r\n            };\r\n            scope.$getDisplayText =  function() {\r\n                return tiUtil.safeToString(scope.data[options.displayProperty || options.tagsInput.displayProperty]);\r\n            };\r\n        }\r\n    };\r\n}]);\r\n\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name tiTranscludeAppend\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Re-creates the old behavior of ng-transclude. Used internally by tagsInput directive.\r\n */\r\ntagsInput.directive('tiTranscludeAppend', function() {\r\n    return function(scope, element, attrs, ctrl, transcludeFn) {\r\n        transcludeFn(function(clone) {\r\n            element.append(clone);\r\n        });\r\n    };\r\n});\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name tiAutosize\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Automatically sets the input's width so its content is always visible. Used internally by tagsInput directive.\r\n */\r\ntagsInput.directive('tiAutosize', [\"tagsInputConfig\", function(tagsInputConfig) {\r\n    return {\r\n        restrict: 'A',\r\n        require: 'ngModel',\r\n        link: function(scope, element, attrs, ctrl) {\r\n            var threshold = tagsInputConfig.getTextAutosizeThreshold(),\r\n                span, resize;\r\n\r\n            span = angular.element('<span class=\"input\"></span>');\r\n            span.css('display', 'none')\r\n                .css('visibility', 'hidden')\r\n                .css('white-space', 'pre');\r\n\r\n            element.parent().append(span);\r\n\r\n            resize = function(originalValue) {\r\n                var value = originalValue, width;\r\n\r\n                if (angular.isString(value) && value.length === 0) {\r\n                    value = attrs.placeholder;\r\n                }\r\n\r\n                if (value) {\r\n                    span.text(value);\r\n                    span.css('display', '');\r\n                    span.css('display', 'none');\r\n                }\r\n\r\n\r\n                return originalValue;\r\n            };\r\n\r\n            ctrl.$parsers.unshift(resize);\r\n            ctrl.$formatters.unshift(resize);\r\n\r\n            attrs.$observe('placeholder', function(value) {\r\n                if (!ctrl.$modelValue) {\r\n                    resize(value);\r\n                }\r\n            });\r\n        }\r\n    };\r\n}]);\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name tiBindAttrs\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Binds attributes to expressions. Used internally by tagsInput directive.\r\n */\r\ntagsInput.directive('tiBindAttrs', function() {\r\n    return function(scope, element, attrs) {\r\n        scope.$watch(attrs.tiBindAttrs, function(value) {\r\n            angular.forEach(value, function(value, key) {\r\n                attrs.$set(key, value);\r\n            });\r\n        }, true);\r\n    };\r\n});\r\n\r\n/**\r\n * @ngdoc service\r\n * @name tagsInputConfig\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Sets global configuration settings for both tagsInput and autoComplete directives. It's also used internally to parse and\r\n *  initialize options from HTML attributes.\r\n */\r\ntagsInput.provider('tagsInputConfig', function() {\r\n    var globalDefaults = {},\r\n        interpolationStatus = {},\r\n        autosizeThreshold = 3;\r\n\r\n    /**\r\n     * @ngdoc method\r\n     * @name tagsInputConfig#setDefaults\r\n     * @description Sets the default configuration option for a directive.\r\n     *\r\n     * @param {string} directive Name of the directive to be configured. Must be either 'tagsInput' or 'autoComplete'.\r\n     * @param {object} defaults Object containing options and their values.\r\n     *\r\n     * @returns {object} The service itself for chaining purposes.\r\n     */\r\n    this.setDefaults = function(directive, defaults) {\r\n        globalDefaults[directive] = defaults;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @ngdoc method\r\n     * @name tagsInputConfig#setActiveInterpolation\r\n     * @description Sets active interpolation for a set of options.\r\n     *\r\n     * @param {string} directive Name of the directive to be configured. Must be either 'tagsInput' or 'autoComplete'.\r\n     * @param {object} options Object containing which options should have interpolation turned on at all times.\r\n     *\r\n     * @returns {object} The service itself for chaining purposes.\r\n     */\r\n    this.setActiveInterpolation = function(directive, options) {\r\n        interpolationStatus[directive] = options;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @ngdoc method\r\n     * @name tagsInputConfig#setTextAutosizeThreshold\r\n     * @description Sets the threshold used by the tagsInput directive to re-size the inner input field element based on its contents.\r\n     *\r\n     * @param {number} threshold Threshold value, in pixels.\r\n     *\r\n     * @returns {object} The service itself for chaining purposes.\r\n     */\r\n    this.setTextAutosizeThreshold = function(threshold) {\r\n        autosizeThreshold = threshold;\r\n        return this;\r\n    };\r\n\r\n    this.$get = [\"$interpolate\", function($interpolate) {\r\n        var converters = {};\r\n        converters[String] = function(value) { return value; };\r\n        converters[Number] = function(value) { return parseInt(value, 10); };\r\n        converters[Boolean] = function(value) { return value.toLowerCase() === 'true'; };\r\n        converters[RegExp] = function(value) { return new RegExp(value); };\r\n\r\n        return {\r\n            load: function(directive, scope, attrs, options) {\r\n                var defaultValidator = function() { return true; };\r\n\r\n                scope.options = {};\r\n\r\n                angular.forEach(options, function(value, key) {\r\n                    var type, localDefault, validator, converter, getDefault, updateValue;\r\n\r\n                    type = value[0];\r\n                    localDefault = value[1];\r\n                    validator = value[2] || defaultValidator;\r\n                    converter = converters[type];\r\n\r\n                    getDefault = function() {\r\n                        var globalValue = globalDefaults[directive] && globalDefaults[directive][key];\r\n                        return angular.isDefined(globalValue) ? globalValue : localDefault;\r\n                    };\r\n\r\n                    updateValue = function(value) {\r\n                        scope.options[key] = value && validator(value) ? converter(value) : getDefault();\r\n                    };\r\n\r\n                    if (interpolationStatus[directive] && interpolationStatus[directive][key]) {\r\n                        attrs.$observe(key, function(value) {\r\n                            updateValue(value);\r\n                            scope.events.trigger('option-change', { name: key, newValue: value });\r\n                        });\r\n                    }\r\n                    else {\r\n                        updateValue(attrs[key] && $interpolate(attrs[key])(scope.$parent));\r\n                    }\r\n                });\r\n            },\r\n            getTextAutosizeThreshold: function() {\r\n                return autosizeThreshold;\r\n            }\r\n        };\r\n    }];\r\n});\r\n\r\n\r\n/***\r\n * @ngdoc service\r\n * @name tiUtil\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Helper methods used internally by the directive. Should not be called directly from user code.\r\n */\r\ntagsInput.factory('tiUtil', [\"$timeout\", \"$q\", function($timeout, $q) {\r\n    var self = {};\r\n\r\n    self.debounce = function(fn, delay) {\r\n        var timeoutId;\r\n        return function() {\r\n            var args = arguments;\r\n            $timeout.cancel(timeoutId);\r\n            timeoutId = $timeout(function() { fn.apply(null, args); }, delay);\r\n        };\r\n    };\r\n\r\n    self.makeObjectArray = function(array, key) {\r\n        if (!angular.isArray(array) || array.length === 0 || angular.isObject(array[0])) {\r\n            return array;\r\n        }\r\n\r\n        var newArray = [];\r\n        array.forEach(function(item) {\r\n            var obj = {};\r\n            obj[key] = item;\r\n            newArray.push(obj);\r\n        });\r\n        return newArray;\r\n    };\r\n\r\n    self.findInObjectArray = function(array, obj, key, comparer) {\r\n        var item = null;\r\n        comparer = comparer || self.defaultComparer;\r\n\r\n        array.some(function(element) {\r\n            if (comparer(element[key], obj[key])) {\r\n                item = element;\r\n                return true;\r\n            }\r\n        });\r\n\r\n        return item;\r\n    };\r\n\r\n    self.defaultComparer = function(a, b) {\r\n        // I'm aware of the internationalization issues regarding toLowerCase()\r\n        // but I couldn't come up with a better solution right now\r\n        return self.safeToString(a).toLowerCase() === self.safeToString(b).toLowerCase();\r\n    };\r\n\r\n    self.safeHighlight = function(str, value) {\r\n        if (!value) {\r\n            return str;\r\n        }\r\n\r\n        function escapeRegexChars(str) {\r\n            return str.replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\r\n        }\r\n\r\n        str = self.encodeHTML(str);\r\n        value = self.encodeHTML(value);\r\n\r\n        var expression = new RegExp('&[^;]+;|' + escapeRegexChars(value), 'gi');\r\n        return str.replace(expression, function(match) {\r\n            return match.toLowerCase() === value.toLowerCase() ? '<em>' + match + '</em>' : match;\r\n        });\r\n    };\r\n\r\n    self.safeToString = function(value) {\r\n        return angular.isUndefined(value) || value == null ? '' : value.toString().trim();\r\n    };\r\n\r\n    self.encodeHTML = function(value) {\r\n        return self.safeToString(value)\r\n            .replace(/&/g, '&amp;')\r\n            .replace(/</g, '&lt;')\r\n            .replace(/>/g, '&gt;');\r\n    };\r\n\r\n    self.handleUndefinedResult = function(fn, valueIfUndefined) {\r\n        return function() {\r\n            var result = fn.apply(null, arguments);\r\n            return angular.isUndefined(result) ? valueIfUndefined : result;\r\n        };\r\n    };\r\n\r\n    self.replaceSpacesWithDashes = function(str) {\r\n        return self.safeToString(str).replace(/\\s/g, '-');\r\n    };\r\n\r\n    self.isModifierOn = function(event) {\r\n        return event.shiftKey || event.ctrlKey || event.altKey || event.metaKey;\r\n    };\r\n\r\n    self.promisifyValue = function(value) {\r\n        value = angular.isUndefined(value) ? true : value;\r\n        return $q[value ? 'when' : 'reject']();\r\n    };\r\n\r\n    self.simplePubSub = function() {\r\n        var events = {};\r\n        return {\r\n            on: function(names, handler, first) {\r\n                names.split(' ').forEach(function(name) {\r\n                    if (!events[name]) {\r\n                        events[name] = [];\r\n                    }\r\n                    var method = first ? [].unshift : [].push;\r\n                    method.call(events[name], handler);\r\n                });\r\n                return this;\r\n            },\r\n            trigger: function(name, args) {\r\n                var handlers = events[name] || [];\r\n                handlers.every(function(handler) {\r\n                    return self.handleUndefinedResult(handler, true)(args);\r\n                });\r\n                return this;\r\n            }\r\n        };\r\n    };\r\n\r\n    return self;\r\n}]);\r\n\r\n/* HTML templates */\r\ntagsInput.run([\"$templateCache\", function($templateCache) {\r\n    $templateCache.put('ngTagsInput/tags-input.html',\r\n    \"<div class=\\\"host\\\" tabindex=\\\"-1\\\" ng-click=\\\"eventHandlers.host.click()\\\" ti-transclude-append><div class=\\\"tags\\\" ng-class=\\\"{focused: hasFocus}\\\"><ul class=\\\"tag-list\\\"><li class=\\\"tag-item\\\" ng-repeat=\\\"tag in tagList.items track by track(tag)\\\" ng-class=\\\"getTagClass(tag, $index)\\\" ng-click=\\\"eventHandlers.tag.click(tag)\\\"><ti-tag-item scope=\\\"templateScope\\\" data=\\\"::tag\\\"></ti-tag-item></li></ul><input class=\\\"input\\\" autocomplete=\\\"off\\\" ng-model=\\\"newTag.text\\\" ng-model-options=\\\"{getterSetter: true}\\\" ng-keydown=\\\"eventHandlers.input.keydown($event)\\\" ng-focus=\\\"eventHandlers.input.focus($event)\\\" ng-blur=\\\"eventHandlers.input.blur($event)\\\" ng-paste=\\\"eventHandlers.input.paste($event)\\\" ng-trim=\\\"false\\\" ng-class=\\\"{'invalid-tag': newTag.invalid}\\\" ng-disabled=\\\"disabled\\\" ti-bind-attrs=\\\"{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}\\\" ti-autosize></div></div>\"\r\n  );\r\n\r\n  $templateCache.put('ngTagsInput/tag-item.html',\r\n    \"<span ng-bind=\\\"$getDisplayText()\\\"></span> <a class=\\\"remove-button\\\" ng-click=\\\"$removeTag()\\\" ng-bind=\\\"::$$removeTagSymbol\\\"></a>\"\r\n  );\r\n\r\n  $templateCache.put('ngTagsInput/auto-complete.html',\r\n    \"<div class=\\\"autocomplete\\\" ng-if=\\\"suggestionList.visible\\\"><ul class=\\\"suggestion-list\\\"><li class=\\\"suggestion-item\\\" ng-repeat=\\\"item in suggestionList.items track by track(item)\\\" ng-class=\\\"getSuggestionClass(item, $index)\\\" ng-click=\\\"addSuggestionByIndex($index)\\\" ng-mouseenter=\\\"suggestionList.select($index)\\\"><ti-autocomplete-match scope=\\\"templateScope\\\" data=\\\"::item\\\"></ti-autocomplete-match></li></ul></div>\"\r\n  );\r\n\r\n  $templateCache.put('ngTagsInput/auto-complete-match.html',\r\n    \"<span ng-bind-html=\\\"$highlight($getDisplayText())\\\"></span>\"\r\n  );\r\n}]);\r\n\r\n}());","/*! angularjs-slider - v6.0.0 - \r\n (c) Rafal Zajac <rzajac@gmail.com>, Valentin Hervieu <valentin@hervieu.me>, Jussi Saarivirta <jusasi@gmail.com>, Angelin Sirbu <angelin.sirbu@gmail.com> - \r\n https://github.com/angular-slider/angularjs-slider - \r\n 2017-01-02 */\r\n/*jslint unparam: true */\r\n/*global angular: false, console: false, define, module */\r\n(function(root, factory) {\r\n  'use strict';\r\n  /* istanbul ignore next */\r\n  if (typeof define === 'function' && define.amd) {\r\n    // AMD. Register as an anonymous module.\r\n    define(['angular'], factory);\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    // Node. Does not work with strict CommonJS, but\r\n    // only CommonJS-like environments that support module.exports,\r\n    // like Node.\r\n    // to support bundler like browserify\r\n    var angularObj = angular || require('angular');\r\n    if ((!angularObj || !angularObj.module) && typeof angular != 'undefined') {\r\n      angularObj = angular;\r\n    }\r\n    module.exports = factory(angularObj);\r\n  } else {\r\n    // Browser globals (root is window)\r\n    factory(root.angular);\r\n  }\r\n\r\n}(this, function(angular) {\r\n  'use strict';\r\n  var module = angular.module('rzModule', [])\r\n\r\n  .factory('RzSliderOptions', function() {\r\n    var defaultOptions = {\r\n      floor: 0,\r\n      ceil: null, //defaults to rz-slider-model\r\n      step: 1,\r\n      precision: 0,\r\n      minRange: null,\r\n      maxRange: null,\r\n      pushRange: false,\r\n      minLimit: null,\r\n      maxLimit: null,\r\n      id: null,\r\n      translate: null,\r\n      getLegend: null,\r\n      stepsArray: null,\r\n      bindIndexForStepsArray: false,\r\n      draggableRange: false,\r\n      draggableRangeOnly: false,\r\n      showSelectionBar: false,\r\n      showSelectionBarEnd: false,\r\n      showSelectionBarFromValue: null,\r\n      hidePointerLabels: false,\r\n      hideLimitLabels: false,\r\n      autoHideLimitLabels: true,\r\n      readOnly: false,\r\n      disabled: false,\r\n      interval: 350,\r\n      showTicks: false,\r\n      showTicksValues: false,\r\n      ticksArray: null,\r\n      ticksTooltip: null,\r\n      ticksValuesTooltip: null,\r\n      vertical: false,\r\n      getSelectionBarColor: null,\r\n      getTickColor: null,\r\n      getPointerColor: null,\r\n      keyboardSupport: true,\r\n      scale: 1,\r\n      enforceStep: true,\r\n      enforceRange: false,\r\n      noSwitching: false,\r\n      onlyBindHandles: false,\r\n      onStart: null,\r\n      onChange: null,\r\n      onEnd: null,\r\n      rightToLeft: false,\r\n      boundPointerLabels: true,\r\n      mergeRangeLabelsIfSame: false,\r\n      customTemplateScope: null,\r\n      logScale: false,\r\n      customValueToPosition: null,\r\n      customPositionToValue: null,\r\n      selectionBarGradient: null\r\n    };\r\n    var globalOptions = {};\r\n\r\n    var factory = {};\r\n    /**\r\n     * `options({})` allows global configuration of all sliders in the\r\n     * application.\r\n     *\r\n     *   var app = angular.module( 'App', ['rzModule'], function( RzSliderOptions ) {\r\n     *     // show ticks for all sliders\r\n     *     RzSliderOptions.options( { showTicks: true } );\r\n     *   });\r\n     */\r\n    factory.options = function(value) {\r\n      angular.extend(globalOptions, value);\r\n    };\r\n\r\n    factory.getOptions = function(options) {\r\n      return angular.extend({}, defaultOptions, globalOptions, options);\r\n    };\r\n\r\n    return factory;\r\n  })\r\n\r\n  .factory('rzThrottle', ['$timeout', function($timeout) {\r\n    /**\r\n     * rzThrottle\r\n     *\r\n     * Taken from underscore project\r\n     *\r\n     * @param {Function} func\r\n     * @param {number} wait\r\n     * @param {ThrottleOptions} options\r\n     * @returns {Function}\r\n     */\r\n    return function(func, wait, options) {\r\n      'use strict';\r\n      /* istanbul ignore next */\r\n      var getTime = (Date.now || function() {\r\n        return new Date().getTime();\r\n      });\r\n      var context, args, result;\r\n      var timeout = null;\r\n      var previous = 0;\r\n      options = options || {};\r\n      var later = function() {\r\n        previous = getTime();\r\n        timeout = null;\r\n        result = func.apply(context, args);\r\n        context = args = null;\r\n      };\r\n      return function() {\r\n        var now = getTime();\r\n        var remaining = wait - (now - previous);\r\n        context = this;\r\n        args = arguments;\r\n        if (remaining <= 0) {\r\n          $timeout.cancel(timeout);\r\n          timeout = null;\r\n          previous = now;\r\n          result = func.apply(context, args);\r\n          context = args = null;\r\n        } else if (!timeout && options.trailing !== false) {\r\n          timeout = $timeout(later, remaining);\r\n        }\r\n        return result;\r\n      };\r\n    }\r\n  }])\r\n\r\n  .factory('RzSlider', ['$timeout', '$document', '$window', '$compile', 'RzSliderOptions', 'rzThrottle', function($timeout, $document, $window, $compile, RzSliderOptions, rzThrottle) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Slider\r\n     *\r\n     * @param {ngScope} scope            The AngularJS scope\r\n     * @param {Element} sliderElem The slider directive element wrapped in jqLite\r\n     * @constructor\r\n     */\r\n    var Slider = function(scope, sliderElem) {\r\n      /**\r\n       * The slider's scope\r\n       *\r\n       * @type {ngScope}\r\n       */\r\n      this.scope = scope;\r\n\r\n      /**\r\n       * The slider inner low value (linked to rzSliderModel)\r\n       * @type {number}\r\n       */\r\n      this.lowValue = 0;\r\n\r\n      /**\r\n       * The slider inner high value (linked to rzSliderHigh)\r\n       * @type {number}\r\n       */\r\n      this.highValue = 0;\r\n\r\n      /**\r\n       * Slider element wrapped in jqLite\r\n       *\r\n       * @type {jqLite}\r\n       */\r\n      this.sliderElem = sliderElem;\r\n\r\n      /**\r\n       * Slider type\r\n       *\r\n       * @type {boolean} Set to true for range slider\r\n       */\r\n      this.range = this.scope.rzSliderModel !== undefined && this.scope.rzSliderHigh !== undefined;\r\n\r\n      /**\r\n       * Values recorded when first dragging the bar\r\n       *\r\n       * @type {Object}\r\n       */\r\n      this.dragging = {\r\n        active: false,\r\n        value: 0,\r\n        difference: 0,\r\n        position: 0,\r\n        lowLimit: 0,\r\n        highLimit: 0\r\n      };\r\n\r\n      /**\r\n       * property that handle position (defaults to left for horizontal)\r\n       * @type {string}\r\n       */\r\n      this.positionProperty = 'left';\r\n\r\n      /**\r\n       * property that handle dimension (defaults to width for horizontal)\r\n       * @type {string}\r\n       */\r\n      this.dimensionProperty = 'width';\r\n\r\n      /**\r\n       * Half of the width or height of the slider handles\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.handleHalfDim = 0;\r\n\r\n      /**\r\n       * Maximum position the slider handle can have\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.maxPos = 0;\r\n\r\n      /**\r\n       * Precision\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.precision = 0;\r\n\r\n      /**\r\n       * Step\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.step = 1;\r\n\r\n      /**\r\n       * The name of the handle we are currently tracking\r\n       *\r\n       * @type {string}\r\n       */\r\n      this.tracking = '';\r\n\r\n      /**\r\n       * Minimum value (floor) of the model\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.minValue = 0;\r\n\r\n      /**\r\n       * Maximum value (ceiling) of the model\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.maxValue = 0;\r\n\r\n\r\n      /**\r\n       * The delta between min and max value\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.valueRange = 0;\r\n\r\n\r\n      /**\r\n       * If showTicks/showTicksValues options are number.\r\n       * In this case, ticks values should be displayed below the slider.\r\n       * @type {boolean}\r\n       */\r\n      this.intermediateTicks = false;\r\n\r\n      /**\r\n       * Set to true if init method already executed\r\n       *\r\n       * @type {boolean}\r\n       */\r\n      this.initHasRun = false;\r\n\r\n      /**\r\n       * Used to call onStart on the first keydown event\r\n       *\r\n       * @type {boolean}\r\n       */\r\n      this.firstKeyDown = false;\r\n\r\n      /**\r\n       * Internal flag to prevent watchers to be called when the sliders value are modified internally.\r\n       * @type {boolean}\r\n       */\r\n      this.internalChange = false;\r\n\r\n      /**\r\n       * Internal flag to keep track of the visibility of combo label\r\n       * @type {boolean}\r\n       */\r\n      this.cmbLabelShown = false;\r\n\r\n      /**\r\n       * Internal variable to keep track of the focus element\r\n       */\r\n      this.currentFocusElement = null;\r\n\r\n      // Slider DOM elements wrapped in jqLite\r\n      this.fullBar = null; // The whole slider bar\r\n      this.selBar = null; // Highlight between two handles\r\n      this.minH = null; // Left slider handle\r\n      this.maxH = null; // Right slider handle\r\n      this.flrLab = null; // Floor label\r\n      this.ceilLab = null; // Ceiling label\r\n      this.minLab = null; // Label above the low value\r\n      this.maxLab = null; // Label above the high value\r\n      this.cmbLab = null; // Combined label\r\n      this.ticks = null; // The ticks\r\n\r\n      // Initialize slider\r\n      this.init();\r\n    };\r\n\r\n    // Add instance methods\r\n    Slider.prototype = {\r\n\r\n      /**\r\n       * Initialize slider\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      init: function() {\r\n        var thrLow, thrHigh,\r\n          self = this;\r\n\r\n        var calcDimFn = function() {\r\n          self.calcViewDimensions();\r\n        };\r\n\r\n        this.applyOptions();\r\n        this.syncLowValue();\r\n        if (this.range)\r\n          this.syncHighValue();\r\n        this.initElemHandles();\r\n        this.manageElementsStyle();\r\n        this.setDisabledState();\r\n        this.calcViewDimensions();\r\n        this.setMinAndMax();\r\n        this.addAccessibility();\r\n        this.updateCeilLab();\r\n        this.updateFloorLab();\r\n        this.initHandles();\r\n        this.manageEventsBindings();\r\n\r\n        // Recalculate slider view dimensions\r\n        this.scope.$on('reCalcViewDimensions', calcDimFn);\r\n\r\n        // Recalculate stuff if view port dimensions have changed\r\n        angular.element($window).on('resize', calcDimFn);\r\n\r\n        this.initHasRun = true;\r\n\r\n        // Watch for changes to the model\r\n        thrLow = rzThrottle(function() {\r\n          self.onLowHandleChange();\r\n        }, self.options.interval);\r\n\r\n        thrHigh = rzThrottle(function() {\r\n          self.onHighHandleChange();\r\n        }, self.options.interval);\r\n\r\n        this.scope.$on('rzSliderForceRender', function() {\r\n          self.resetLabelsValue();\r\n          thrLow();\r\n          if (self.range) {\r\n            thrHigh();\r\n          }\r\n          self.resetSlider();\r\n        });\r\n\r\n        // Watchers (order is important because in case of simultaneous change,\r\n        // watchers will be called in the same order)\r\n        this.scope.$watch('rzSliderOptions()', function(newValue, oldValue) {\r\n          if (newValue === oldValue)\r\n            return;\r\n          self.applyOptions(); // need to be called before synchronizing the values\r\n          self.syncLowValue();\r\n          if (self.range)\r\n            self.syncHighValue();\r\n          self.resetSlider();\r\n        }, true);\r\n\r\n        this.scope.$watch('rzSliderModel', function(newValue, oldValue) {\r\n          if (self.internalChange)\r\n            return;\r\n          if (newValue === oldValue)\r\n            return;\r\n          thrLow();\r\n        });\r\n\r\n        this.scope.$watch('rzSliderHigh', function(newValue, oldValue) {\r\n          if (self.internalChange)\r\n            return;\r\n          if (newValue === oldValue)\r\n            return;\r\n          if (newValue != null)\r\n            thrHigh();\r\n          if (self.range && newValue == null || !self.range && newValue != null) {\r\n            self.applyOptions();\r\n            self.resetSlider();\r\n          }\r\n        });\r\n\r\n        this.scope.$on('$destroy', function() {\r\n          self.unbindEvents();\r\n          angular.element($window).off('resize', calcDimFn);\r\n          self.currentFocusElement = null;\r\n        });\r\n      },\r\n\r\n      findStepIndex: function(modelValue) {\r\n        var index = 0;\r\n        for (var i = 0; i < this.options.stepsArray.length; i++) {\r\n          var step = this.options.stepsArray[i];\r\n          if (step === modelValue) {\r\n            index = i;\r\n            break;\r\n          }\r\n          else if (angular.isDate(step)) {\r\n            if (step.getTime() === modelValue.getTime()) {\r\n              index = i;\r\n              break;\r\n            }\r\n          }\r\n          else if (angular.isObject(step)) {\r\n            if (angular.isDate(step.value) && step.value.getTime() === modelValue.getTime() || step.value === modelValue) {\r\n              index = i;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        return index;\r\n      },\r\n\r\n      syncLowValue: function() {\r\n        if (this.options.stepsArray) {\r\n          if (!this.options.bindIndexForStepsArray)\r\n            this.lowValue = this.findStepIndex(this.scope.rzSliderModel);\r\n          else\r\n            this.lowValue = this.scope.rzSliderModel\r\n        }\r\n        else\r\n          this.lowValue = this.scope.rzSliderModel;\r\n      },\r\n\r\n      syncHighValue: function() {\r\n        if (this.options.stepsArray) {\r\n          if (!this.options.bindIndexForStepsArray)\r\n            this.highValue = this.findStepIndex(this.scope.rzSliderHigh);\r\n          else\r\n            this.highValue = this.scope.rzSliderHigh\r\n        }\r\n        else\r\n          this.highValue = this.scope.rzSliderHigh;\r\n      },\r\n\r\n      getStepValue: function(sliderValue) {\r\n        var step = this.options.stepsArray[sliderValue];\r\n        if (angular.isDate(step))\r\n          return step;\r\n        if (angular.isObject(step))\r\n          return step.value;\r\n        return step;\r\n      },\r\n\r\n      applyLowValue: function() {\r\n        if (this.options.stepsArray) {\r\n          if (!this.options.bindIndexForStepsArray)\r\n            this.scope.rzSliderModel = this.getStepValue(this.lowValue);\r\n          else\r\n            this.scope.rzSliderModel = this.lowValue\r\n        }\r\n        else\r\n          this.scope.rzSliderModel = this.lowValue;\r\n      },\r\n\r\n      applyHighValue: function() {\r\n        if (this.options.stepsArray) {\r\n          if (!this.options.bindIndexForStepsArray)\r\n            this.scope.rzSliderHigh = this.getStepValue(this.highValue);\r\n          else\r\n            this.scope.rzSliderHigh = this.highValue\r\n        }\r\n        else\r\n          this.scope.rzSliderHigh = this.highValue;\r\n      },\r\n\r\n      /*\r\n       * Reflow the slider when the low handle changes (called with throttle)\r\n       */\r\n      onLowHandleChange: function() {\r\n        this.syncLowValue();\r\n        if (this.range)\r\n          this.syncHighValue();\r\n        this.setMinAndMax();\r\n        this.updateLowHandle(this.valueToPosition(this.lowValue));\r\n        this.updateSelectionBar();\r\n        this.updateTicksScale();\r\n        this.updateAriaAttributes();\r\n        if (this.range) {\r\n          this.updateCmbLabel();\r\n        }\r\n      },\r\n\r\n      /*\r\n       * Reflow the slider when the high handle changes (called with throttle)\r\n       */\r\n      onHighHandleChange: function() {\r\n        this.syncLowValue();\r\n        this.syncHighValue();\r\n        this.setMinAndMax();\r\n        this.updateHighHandle(this.valueToPosition(this.highValue));\r\n        this.updateSelectionBar();\r\n        this.updateTicksScale();\r\n        this.updateCmbLabel();\r\n        this.updateAriaAttributes();\r\n      },\r\n\r\n      /**\r\n       * Read the user options and apply them to the slider model\r\n       */\r\n      applyOptions: function() {\r\n        var sliderOptions;\r\n        if (this.scope.rzSliderOptions)\r\n          sliderOptions = this.scope.rzSliderOptions();\r\n        else\r\n          sliderOptions = {};\r\n\r\n        this.options = RzSliderOptions.getOptions(sliderOptions);\r\n\r\n        if (this.options.step <= 0)\r\n          this.options.step = 1;\r\n\r\n        this.range = this.scope.rzSliderModel !== undefined && this.scope.rzSliderHigh !== undefined;\r\n        this.options.draggableRange = this.range && this.options.draggableRange;\r\n        this.options.draggableRangeOnly = this.range && this.options.draggableRangeOnly;\r\n        if (this.options.draggableRangeOnly) {\r\n          this.options.draggableRange = true;\r\n        }\r\n\r\n        this.options.showTicks = this.options.showTicks || this.options.showTicksValues || !!this.options.ticksArray;\r\n        this.scope.showTicks = this.options.showTicks; //scope is used in the template\r\n        if (angular.isNumber(this.options.showTicks) || this.options.ticksArray)\r\n          this.intermediateTicks = true;\r\n\r\n        this.options.showSelectionBar = this.options.showSelectionBar || this.options.showSelectionBarEnd\r\n          || this.options.showSelectionBarFromValue !== null;\r\n\r\n        if (this.options.stepsArray) {\r\n          this.parseStepsArray();\r\n        } else {\r\n          if (this.options.translate)\r\n            this.customTrFn = this.options.translate;\r\n          else\r\n            this.customTrFn = function(value) {\r\n              return String(value);\r\n            };\r\n\r\n          this.getLegend = this.options.getLegend;\r\n        }\r\n\r\n        if (this.options.vertical) {\r\n          this.positionProperty = 'bottom';\r\n          this.dimensionProperty = 'height';\r\n        }\r\n\r\n        if (this.options.customTemplateScope)\r\n          this.scope.custom = this.options.customTemplateScope;\r\n      },\r\n\r\n      parseStepsArray: function() {\r\n        this.options.floor = 0;\r\n        this.options.ceil = this.options.stepsArray.length - 1;\r\n        this.options.step = 1;\r\n\r\n        if (this.options.translate) {\r\n          this.customTrFn = this.options.translate;\r\n        }\r\n        else {\r\n          this.customTrFn = function(modelValue) {\r\n            if (this.options.bindIndexForStepsArray)\r\n              return this.getStepValue(modelValue);\r\n            return modelValue;\r\n          };\r\n        }\r\n\r\n        this.getLegend = function(index) {\r\n          var step = this.options.stepsArray[index];\r\n          if (angular.isObject(step))\r\n            return step.legend;\r\n          return null;\r\n        };\r\n      },\r\n\r\n      /**\r\n       * Resets slider\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      resetSlider: function() {\r\n        this.manageElementsStyle();\r\n        this.addAccessibility();\r\n        this.setMinAndMax();\r\n        this.updateCeilLab();\r\n        this.updateFloorLab();\r\n        this.unbindEvents();\r\n        this.manageEventsBindings();\r\n        this.setDisabledState();\r\n        this.calcViewDimensions();\r\n        this.refocusPointerIfNeeded();\r\n      },\r\n\r\n      refocusPointerIfNeeded: function() {\r\n        if (this.currentFocusElement) {\r\n          this.onPointerFocus(this.currentFocusElement.pointer, this.currentFocusElement.ref);\r\n          this.focusElement(this.currentFocusElement.pointer)\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Set the slider children to variables for easy access\r\n       *\r\n       * Run only once during initialization\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      initElemHandles: function() {\r\n        // Assign all slider elements to object properties for easy access\r\n        angular.forEach(this.sliderElem.children(), function(elem, index) {\r\n          var jElem = angular.element(elem);\r\n\r\n          switch (index) {\r\n            case 0:\r\n              this.fullBar = jElem;\r\n              break;\r\n            case 1:\r\n              this.selBar = jElem;\r\n              break;\r\n            case 2:\r\n              this.minH = jElem;\r\n              break;\r\n            case 3:\r\n              this.maxH = jElem;\r\n              break;\r\n            case 4:\r\n              this.flrLab = jElem;\r\n              break;\r\n            case 5:\r\n              this.ceilLab = jElem;\r\n              break;\r\n            case 6:\r\n              this.minLab = jElem;\r\n              break;\r\n            case 7:\r\n              this.maxLab = jElem;\r\n              break;\r\n            case 8:\r\n              this.cmbLab = jElem;\r\n              break;\r\n            case 9:\r\n              this.ticks = jElem;\r\n              break;\r\n          }\r\n\r\n        }, this);\r\n\r\n        // Initialize position cache properties\r\n        this.selBar.rzsp = 0;\r\n        this.minH.rzsp = 0;\r\n        this.maxH.rzsp = 0;\r\n        this.flrLab.rzsp = 0;\r\n        this.ceilLab.rzsp = 0;\r\n        this.minLab.rzsp = 0;\r\n        this.maxLab.rzsp = 0;\r\n        this.cmbLab.rzsp = 0;\r\n      },\r\n\r\n      /**\r\n       * Update each elements style based on options\r\n       */\r\n      manageElementsStyle: function() {\r\n\r\n        if (!this.range)\r\n          this.maxH.css('display', 'none');\r\n        else\r\n          this.maxH.css('display', '');\r\n\r\n\r\n        this.alwaysHide(this.flrLab, this.options.showTicksValues || this.options.hideLimitLabels);\r\n        this.alwaysHide(this.ceilLab, this.options.showTicksValues || this.options.hideLimitLabels);\r\n\r\n        var hideLabelsForTicks = this.options.showTicksValues && !this.intermediateTicks;\r\n        this.alwaysHide(this.minLab, hideLabelsForTicks || this.options.hidePointerLabels);\r\n        this.alwaysHide(this.maxLab, hideLabelsForTicks || !this.range || this.options.hidePointerLabels);\r\n        this.alwaysHide(this.cmbLab, hideLabelsForTicks || !this.range || this.options.hidePointerLabels);\r\n        this.alwaysHide(this.selBar, !this.range && !this.options.showSelectionBar);\r\n\r\n        if (this.options.vertical)\r\n          this.sliderElem.addClass('rz-vertical');\r\n\r\n        if (this.options.draggableRange)\r\n          this.selBar.addClass('rz-draggable');\r\n        else\r\n          this.selBar.removeClass('rz-draggable');\r\n\r\n        if (this.intermediateTicks && this.options.showTicksValues)\r\n          this.ticks.addClass('rz-ticks-values-under');\r\n      },\r\n\r\n      alwaysHide: function(el, hide) {\r\n        el.rzAlwaysHide = hide;\r\n        if (hide)\r\n          this.hideEl(el);\r\n        else\r\n          this.showEl(el)\r\n      },\r\n\r\n      /**\r\n       * Manage the events bindings based on readOnly and disabled options\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      manageEventsBindings: function() {\r\n        if (this.options.disabled || this.options.readOnly)\r\n          this.unbindEvents();\r\n        else\r\n          this.bindEvents();\r\n      },\r\n\r\n      /**\r\n       * Set the disabled state based on rzSliderDisabled\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      setDisabledState: function() {\r\n        if (this.options.disabled) {\r\n          this.sliderElem.attr('disabled', 'disabled');\r\n        } else {\r\n          this.sliderElem.attr('disabled', null);\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Reset label values\r\n       *\r\n       * @return {undefined}\r\n       */\r\n      resetLabelsValue: function() {\r\n        this.minLab.rzsv = undefined;\r\n        this.maxLab.rzsv = undefined;\r\n      },\r\n\r\n      /**\r\n       * Initialize slider handles positions and labels\r\n       *\r\n       * Run only once during initialization and every time view port changes size\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      initHandles: function() {\r\n        this.updateLowHandle(this.valueToPosition(this.lowValue));\r\n\r\n        /*\r\n         the order here is important since the selection bar should be\r\n         updated after the high handle but before the combined label\r\n         */\r\n        if (this.range)\r\n          this.updateHighHandle(this.valueToPosition(this.highValue));\r\n        this.updateSelectionBar();\r\n        if (this.range)\r\n          this.updateCmbLabel();\r\n\r\n        this.updateTicksScale();\r\n      },\r\n\r\n      /**\r\n       * Translate value to human readable format\r\n       *\r\n       * @param {number|string} value\r\n       * @param {jqLite} label\r\n       * @param {String} which\r\n       * @param {boolean} [useCustomTr]\r\n       * @returns {undefined}\r\n       */\r\n      translateFn: function(value, label, which, useCustomTr) {\r\n        useCustomTr = useCustomTr === undefined ? true : useCustomTr;\r\n\r\n        var valStr = '',\r\n          getDimension = false,\r\n          noLabelInjection = label.hasClass('no-label-injection');\r\n\r\n        if (useCustomTr) {\r\n          if (this.options.stepsArray && !this.options.bindIndexForStepsArray)\r\n            value = this.getStepValue(value);\r\n          valStr = String(this.customTrFn(value, this.options.id, which));\r\n        }\r\n        else {\r\n          valStr = String(value)\r\n        }\r\n\r\n        if (label.rzsv === undefined || label.rzsv.length !== valStr.length || (label.rzsv.length > 0 && label.rzsd === 0)) {\r\n          getDimension = true;\r\n          label.rzsv = valStr;\r\n        }\r\n\r\n        if (!noLabelInjection) {\r\n          label.html(valStr);\r\n        }\r\n        ;\r\n\r\n        this.scope[which + 'Label'] = valStr;\r\n\r\n        // Update width only when length of the label have changed\r\n        if (getDimension) {\r\n          this.getDimension(label);\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Set maximum and minimum values for the slider and ensure the model and high\r\n       * value match these limits\r\n       * @returns {undefined}\r\n       */\r\n      setMinAndMax: function() {\r\n\r\n        this.step = +this.options.step;\r\n        this.precision = +this.options.precision;\r\n\r\n        this.minValue = this.options.floor;\r\n        if (this.options.logScale && this.minValue === 0)\r\n          throw Error(\"Can't use floor=0 with logarithmic scale\");\r\n\r\n        if (this.options.enforceStep) {\r\n          this.lowValue = this.roundStep(this.lowValue);\r\n          if (this.range)\r\n            this.highValue = this.roundStep(this.highValue);\r\n        }\r\n\r\n        if (this.options.ceil != null)\r\n          this.maxValue = this.options.ceil;\r\n        else\r\n          this.maxValue = this.options.ceil = this.range ? this.highValue : this.lowValue;\r\n\r\n        if (this.options.enforceRange) {\r\n          this.lowValue = this.sanitizeValue(this.lowValue);\r\n          if (this.range)\r\n            this.highValue = this.sanitizeValue(this.highValue);\r\n        }\r\n\r\n        this.applyLowValue();\r\n        if (this.range)\r\n          this.applyHighValue();\r\n\r\n        this.valueRange = this.maxValue - this.minValue;\r\n      },\r\n\r\n      /**\r\n       * Adds accessibility attributes\r\n       *\r\n       * Run only once during initialization\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      addAccessibility: function() {\r\n        this.minH.attr('role', 'slider');\r\n        this.updateAriaAttributes();\r\n        if (this.options.keyboardSupport && !(this.options.readOnly || this.options.disabled))\r\n          this.minH.attr('tabindex', '0');\r\n        else\r\n          this.minH.attr('tabindex', '');\r\n        if (this.options.vertical)\r\n          this.minH.attr('aria-orientation', 'vertical');\r\n\r\n        if (this.range) {\r\n          this.maxH.attr('role', 'slider');\r\n          if (this.options.keyboardSupport && !(this.options.readOnly || this.options.disabled))\r\n            this.maxH.attr('tabindex', '0');\r\n          else\r\n            this.maxH.attr('tabindex', '');\r\n          if (this.options.vertical)\r\n            this.maxH.attr('aria-orientation', 'vertical');\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Updates aria attributes according to current values\r\n       */\r\n      updateAriaAttributes: function() {\r\n        this.minH.attr({\r\n          'aria-valuenow': this.scope.rzSliderModel,\r\n          'aria-valuetext': this.customTrFn(this.scope.rzSliderModel, this.options.id, 'model'),\r\n          'aria-valuemin': this.minValue,\r\n          'aria-valuemax': this.maxValue\r\n        });\r\n        if (this.range) {\r\n          this.maxH.attr({\r\n            'aria-valuenow': this.scope.rzSliderHigh,\r\n            'aria-valuetext': this.customTrFn(this.scope.rzSliderHigh, this.options.id, 'high'),\r\n            'aria-valuemin': this.minValue,\r\n            'aria-valuemax': this.maxValue\r\n          });\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Calculate dimensions that are dependent on view port size\r\n       *\r\n       * Run once during initialization and every time view port changes size.\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      calcViewDimensions: function() {\r\n        var handleWidth = this.getDimension(this.minH);\r\n\r\n        this.handleHalfDim = handleWidth / 2;\r\n        this.barDimension = this.getDimension(this.fullBar);\r\n\r\n        this.maxPos = this.barDimension - handleWidth;\r\n\r\n        this.getDimension(this.sliderElem);\r\n        this.sliderElem.rzsp = this.sliderElem[0].getBoundingClientRect()[this.positionProperty];\r\n\r\n        if (this.initHasRun) {\r\n          this.updateFloorLab();\r\n          this.updateCeilLab();\r\n          this.initHandles();\r\n          var self = this;\r\n          $timeout(function() {\r\n            self.updateTicksScale();\r\n          });\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Update the ticks position\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      updateTicksScale: function() {\r\n        if (!this.options.showTicks) return;\r\n\r\n        var ticksArray = this.options.ticksArray || this.getTicksArray(),\r\n          translate = this.options.vertical ? 'translateY' : 'translateX',\r\n          self = this;\r\n\r\n        if (this.options.rightToLeft)\r\n          ticksArray.reverse();\r\n\r\n        this.scope.ticks = ticksArray.map(function(value) {\r\n          var position = self.valueToPosition(value);\r\n\r\n          if (self.options.vertical)\r\n            position = self.maxPos - position;\r\n\r\n          var tick = {\r\n            selected: self.isTickSelected(value),\r\n            style: {\r\n              transform: translate + '(' + Math.round(position) + 'px)'\r\n            }\r\n          };\r\n          if (tick.selected && self.options.getSelectionBarColor) {\r\n            tick.style['background-color'] = self.getSelectionBarColor();\r\n          }\r\n          if (!tick.selected && self.options.getTickColor) {\r\n            tick.style['background-color'] = self.getTickColor(value);\r\n          }\r\n          if (self.options.ticksTooltip) {\r\n            tick.tooltip = self.options.ticksTooltip(value);\r\n            tick.tooltipPlacement = self.options.vertical ? 'right' : 'top';\r\n          }\r\n          if (self.options.showTicksValues) {\r\n            tick.value = self.getDisplayValue(value, 'tick-value');\r\n            if (self.options.ticksValuesTooltip) {\r\n              tick.valueTooltip = self.options.ticksValuesTooltip(value);\r\n              tick.valueTooltipPlacement = self.options.vertical ? 'right' : 'top';\r\n            }\r\n          }\r\n          if (self.getLegend) {\r\n            var legend = self.getLegend(value, self.options.id);\r\n            if (legend)\r\n              tick.legend = legend;\r\n          }\r\n          return tick;\r\n        });\r\n      },\r\n\r\n      getTicksArray: function() {\r\n        var step = this.step,\r\n          ticksArray = [];\r\n        if (this.intermediateTicks)\r\n          step = this.options.showTicks;\r\n        for (var value = this.minValue; value <= this.maxValue; value += step) {\r\n          ticksArray.push(value);\r\n        }\r\n        return ticksArray;\r\n      },\r\n\r\n      isTickSelected: function(value) {\r\n        if (!this.range) {\r\n          if (this.options.showSelectionBarFromValue !== null) {\r\n            var center = this.options.showSelectionBarFromValue;\r\n            if (this.lowValue > center && value >= center && value <= this.lowValue)\r\n              return true;\r\n            else if (this.lowValue < center && value <= center && value >= this.lowValue)\r\n              return true;\r\n          }\r\n          else if (this.options.showSelectionBarEnd) {\r\n            if (value >= this.lowValue)\r\n              return true;\r\n          }\r\n          else if (this.options.showSelectionBar && value <= this.lowValue)\r\n            return true;\r\n        }\r\n        if (this.range && value >= this.lowValue && value <= this.highValue)\r\n          return true;\r\n        return false;\r\n      },\r\n\r\n      /**\r\n       * Update position of the floor label\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      updateFloorLab: function() {\r\n        this.translateFn(this.minValue, this.flrLab, 'floor');\r\n        this.getDimension(this.flrLab);\r\n        var position = this.options.rightToLeft ? this.barDimension - this.flrLab.rzsd : 0;\r\n        this.setPosition(this.flrLab, position);\r\n      },\r\n\r\n      /**\r\n       * Update position of the ceiling label\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      updateCeilLab: function() {\r\n        this.translateFn(this.maxValue, this.ceilLab, 'ceil');\r\n        this.getDimension(this.ceilLab);\r\n        var position = this.options.rightToLeft ? 0 : this.barDimension - this.ceilLab.rzsd;\r\n        this.setPosition(this.ceilLab, position);\r\n      },\r\n\r\n      /**\r\n       * Update slider handles and label positions\r\n       *\r\n       * @param {string} which\r\n       * @param {number} newPos\r\n       */\r\n      updateHandles: function(which, newPos) {\r\n        if (which === 'lowValue')\r\n          this.updateLowHandle(newPos);\r\n        else\r\n          this.updateHighHandle(newPos);\r\n\r\n        this.updateSelectionBar();\r\n        this.updateTicksScale();\r\n        if (this.range)\r\n          this.updateCmbLabel();\r\n      },\r\n\r\n      /**\r\n       * Helper function to work out the position for handle labels depending on RTL or not\r\n       *\r\n       * @param {string} labelName maxLab or minLab\r\n       * @param newPos\r\n       *\r\n       * @returns {number}\r\n       */\r\n      getHandleLabelPos: function(labelName, newPos) {\r\n        var labelRzsd = this[labelName].rzsd,\r\n          nearHandlePos = newPos - labelRzsd / 2 + this.handleHalfDim,\r\n          endOfBarPos = this.barDimension - labelRzsd;\r\n\r\n        if (!this.options.boundPointerLabels)\r\n          return nearHandlePos;\r\n\r\n        if (this.options.rightToLeft && labelName === 'minLab' || !this.options.rightToLeft && labelName === 'maxLab') {\r\n          return Math.min(nearHandlePos, endOfBarPos);\r\n        } else {\r\n          return Math.min(Math.max(nearHandlePos, 0), endOfBarPos);\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Update low slider handle position and label\r\n       *\r\n       * @param {number} newPos\r\n       * @returns {undefined}\r\n       */\r\n      updateLowHandle: function(newPos) {\r\n        this.setPosition(this.minH, newPos);\r\n        this.translateFn(this.lowValue, this.minLab, 'model');\r\n        this.setPosition(this.minLab, this.getHandleLabelPos('minLab', newPos));\r\n\r\n        if (this.options.getPointerColor) {\r\n          var pointercolor = this.getPointerColor('min');\r\n          this.scope.minPointerStyle = {\r\n            backgroundColor: pointercolor\r\n          };\r\n        }\r\n\r\n        if (this.options.autoHideLimitLabels) {\r\n          this.shFloorCeil();\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Update high slider handle position and label\r\n       *\r\n       * @param {number} newPos\r\n       * @returns {undefined}\r\n       */\r\n      updateHighHandle: function(newPos) {\r\n        this.setPosition(this.maxH, newPos);\r\n        this.translateFn(this.highValue, this.maxLab, 'high');\r\n        this.setPosition(this.maxLab, this.getHandleLabelPos('maxLab', newPos));\r\n\r\n        if (this.options.getPointerColor) {\r\n          var pointercolor = this.getPointerColor('max');\r\n          this.scope.maxPointerStyle = {\r\n            backgroundColor: pointercolor\r\n          };\r\n        }\r\n        if (this.options.autoHideLimitLabels) {\r\n          this.shFloorCeil();\r\n        }\r\n\r\n      },\r\n\r\n      /**\r\n       * Show/hide floor/ceiling label\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      shFloorCeil: function() {\r\n        // Show based only on hideLimitLabels if pointer labels are hidden\r\n        if (this.options.hidePointerLabels) {\r\n          return;\r\n        }\r\n        var flHidden = false,\r\n          clHidden = false,\r\n          isMinLabAtFloor = this.isLabelBelowFloorLab(this.minLab),\r\n          isMinLabAtCeil = this.isLabelAboveCeilLab(this.minLab),\r\n          isMaxLabAtCeil = this.isLabelAboveCeilLab(this.maxLab),\r\n          isCmbLabAtFloor = this.isLabelBelowFloorLab(this.cmbLab),\r\n          isCmbLabAtCeil =  this.isLabelAboveCeilLab(this.cmbLab);\r\n\r\n        if (isMinLabAtFloor) {\r\n          flHidden = true;\r\n          this.hideEl(this.flrLab);\r\n        } else {\r\n          flHidden = false;\r\n          this.showEl(this.flrLab);\r\n        }\r\n\r\n        if (isMinLabAtCeil) {\r\n          clHidden = true;\r\n          this.hideEl(this.ceilLab);\r\n        } else {\r\n          clHidden = false;\r\n          this.showEl(this.ceilLab);\r\n        }\r\n\r\n        if (this.range) {\r\n          var hideCeil = this.cmbLabelShown ? isCmbLabAtCeil : isMaxLabAtCeil;\r\n          var hideFloor = this.cmbLabelShown ? isCmbLabAtFloor : isMinLabAtFloor;\r\n\r\n          if (hideCeil) {\r\n            this.hideEl(this.ceilLab);\r\n          } else if (!clHidden) {\r\n            this.showEl(this.ceilLab);\r\n          }\r\n\r\n          // Hide or show floor label\r\n          if (hideFloor) {\r\n            this.hideEl(this.flrLab);\r\n          } else if (!flHidden) {\r\n            this.showEl(this.flrLab);\r\n          }\r\n        }\r\n      },\r\n\r\n      isLabelBelowFloorLab: function(label) {\r\n        var isRTL = this.options.rightToLeft,\r\n          pos = label.rzsp,\r\n          dim = label.rzsd,\r\n          floorPos = this.flrLab.rzsp,\r\n          floorDim = this.flrLab.rzsd;\r\n        return isRTL ?\r\n        pos + dim >= floorPos - 2 :\r\n        pos <= floorPos + floorDim + 2;\r\n      },\r\n\r\n      isLabelAboveCeilLab: function(label) {\r\n        var isRTL = this.options.rightToLeft,\r\n          pos = label.rzsp,\r\n          dim = label.rzsd,\r\n          ceilPos = this.ceilLab.rzsp,\r\n          ceilDim = this.ceilLab.rzsd;\r\n        return isRTL ?\r\n        pos <= ceilPos + ceilDim + 2 :\r\n        pos + dim >= ceilPos - 2;\r\n      },\r\n\r\n      /**\r\n       * Update slider selection bar, combined label and range label\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      updateSelectionBar: function() {\r\n        var position = 0,\r\n          dimension = 0,\r\n          isSelectionBarFromRight = this.options.rightToLeft ? !this.options.showSelectionBarEnd : this.options.showSelectionBarEnd,\r\n          positionForRange = this.options.rightToLeft ? this.maxH.rzsp + this.handleHalfDim : this.minH.rzsp + this.handleHalfDim;\r\n\r\n        if (this.range) {\r\n          dimension = Math.abs(this.maxH.rzsp - this.minH.rzsp);\r\n          position = positionForRange;\r\n        }\r\n        else {\r\n          if (this.options.showSelectionBarFromValue !== null) {\r\n            var center = this.options.showSelectionBarFromValue,\r\n              centerPosition = this.valueToPosition(center),\r\n              isModelGreaterThanCenter = this.options.rightToLeft ? this.lowValue <= center : this.lowValue > center;\r\n            if (isModelGreaterThanCenter) {\r\n              dimension = this.minH.rzsp - centerPosition;\r\n              position = centerPosition + this.handleHalfDim;\r\n            }\r\n            else {\r\n              dimension = centerPosition - this.minH.rzsp;\r\n              position = this.minH.rzsp + this.handleHalfDim;\r\n            }\r\n          }\r\n          else if (isSelectionBarFromRight) {\r\n            dimension = Math.abs(this.maxPos - this.minH.rzsp) + this.handleHalfDim;\r\n            position = this.minH.rzsp + this.handleHalfDim;\r\n          } else {\r\n            dimension = Math.abs(this.maxH.rzsp - this.minH.rzsp) + this.handleHalfDim;\r\n            position = 0;\r\n          }\r\n        }\r\n        this.setDimension(this.selBar, dimension);\r\n        this.setPosition(this.selBar, position);\r\n        if (this.options.getSelectionBarColor) {\r\n          var color = this.getSelectionBarColor();\r\n          this.scope.barStyle = {\r\n            backgroundColor: color\r\n          };\r\n        } else if (this.options.selectionBarGradient) {\r\n          var offset = this.options.showSelectionBarFromValue !== null ? this.valueToPosition(this.options.showSelectionBarFromValue) : 0,\r\n            reversed = offset - position > 0 ^ isSelectionBarFromRight,\r\n            direction = this.options.vertical ? (reversed ? 'bottom' : 'top') : (reversed ? 'left' : 'right');\r\n          this.scope.barStyle = {\r\n            backgroundImage: 'linear-gradient(to ' + direction + ', ' + this.options.selectionBarGradient.from + ' 0%,' + this.options.selectionBarGradient.to + ' 100%)'\r\n          };\r\n          if (this.options.vertical) {\r\n            this.scope.barStyle.backgroundPosition = 'center ' + (offset + dimension + position + (reversed ? -this.handleHalfDim : 0)) + 'px';\r\n            this.scope.barStyle.backgroundSize = '100% ' + (this.barDimension - this.handleHalfDim) + 'px';\r\n          } else {\r\n            this.scope.barStyle.backgroundPosition = (offset - position + (reversed ? this.handleHalfDim : 0)) + 'px center';\r\n            this.scope.barStyle.backgroundSize = (this.barDimension - this.handleHalfDim) + 'px 100%';\r\n          }\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Wrapper around the getSelectionBarColor of the user to pass to\r\n       * correct parameters\r\n       */\r\n      getSelectionBarColor: function() {\r\n        if (this.range)\r\n          return this.options.getSelectionBarColor(this.scope.rzSliderModel, this.scope.rzSliderHigh);\r\n        return this.options.getSelectionBarColor(this.scope.rzSliderModel);\r\n      },\r\n\r\n      /**\r\n       * Wrapper around the getPointerColor of the user to pass to\r\n       * correct parameters\r\n       */\r\n      getPointerColor: function(pointerType) {\r\n        if (pointerType === 'max') {\r\n          return this.options.getPointerColor(this.scope.rzSliderHigh, pointerType);\r\n        }\r\n        return this.options.getPointerColor(this.scope.rzSliderModel, pointerType);\r\n      },\r\n\r\n      /**\r\n       * Wrapper around the getTickColor of the user to pass to\r\n       * correct parameters\r\n       */\r\n      getTickColor: function(value) {\r\n        return this.options.getTickColor(value);\r\n      },\r\n\r\n      /**\r\n       * Update combined label position and value\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      updateCmbLabel: function() {\r\n        var isLabelOverlap = null;\r\n        if (this.options.rightToLeft) {\r\n          isLabelOverlap = this.minLab.rzsp - this.minLab.rzsd - 10 <= this.maxLab.rzsp;\r\n        } else {\r\n          isLabelOverlap = this.minLab.rzsp + this.minLab.rzsd + 10 >= this.maxLab.rzsp;\r\n        }\r\n\r\n        if (isLabelOverlap) {\r\n          var lowTr = this.getDisplayValue(this.lowValue, 'model'),\r\n            highTr = this.getDisplayValue(this.highValue, 'high'),\r\n            labelVal = '';\r\n          if (this.options.mergeRangeLabelsIfSame && lowTr === highTr) {\r\n            labelVal = lowTr;\r\n          } else {\r\n            labelVal = this.options.rightToLeft ? highTr + ' - ' + lowTr : lowTr + ' - ' + highTr;\r\n          }\r\n\r\n          this.translateFn(labelVal, this.cmbLab, 'cmb', false);\r\n          var pos = this.options.boundPointerLabels ? Math.min(\r\n            Math.max(\r\n              this.selBar.rzsp + this.selBar.rzsd / 2 - this.cmbLab.rzsd / 2,\r\n              0\r\n            ),\r\n            this.barDimension - this.cmbLab.rzsd\r\n          ) : this.selBar.rzsp + this.selBar.rzsd / 2 - this.cmbLab.rzsd / 2;\r\n\r\n          this.setPosition(this.cmbLab, pos);\r\n          this.cmbLabelShown = true;\r\n          this.hideEl(this.minLab);\r\n          this.hideEl(this.maxLab);\r\n          this.showEl(this.cmbLab);\r\n        } else {\r\n          this.cmbLabelShown = false;\r\n          this.showEl(this.maxLab);\r\n          this.showEl(this.minLab);\r\n          this.hideEl(this.cmbLab);\r\n        }\r\n        if (this.options.autoHideLimitLabels) {\r\n          this.shFloorCeil();\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Return the translated value if a translate function is provided else the original value\r\n       * @param value\r\n       * @param which if it's min or max handle\r\n       * @returns {*}\r\n       */\r\n      getDisplayValue: function(value, which) {\r\n        if (this.options.stepsArray && !this.options.bindIndexForStepsArray) {\r\n          value = this.getStepValue(value);\r\n        }\r\n        return this.customTrFn(value, this.options.id, which);\r\n      },\r\n\r\n      /**\r\n       * Round value to step and precision based on minValue\r\n       *\r\n       * @param {number} value\r\n       * @param {number} customStep a custom step to override the defined step\r\n       * @returns {number}\r\n       */\r\n      roundStep: function(value, customStep) {\r\n        var step = customStep ? customStep : this.step,\r\n          steppedDifference = parseFloat((value - this.minValue) / step).toPrecision(12);\r\n        steppedDifference = Math.round(+steppedDifference) * step;\r\n        var newValue = (this.minValue + steppedDifference).toFixed(this.precision);\r\n        return +newValue;\r\n      },\r\n\r\n      /**\r\n       * Hide element\r\n       *\r\n       * @param element\r\n       * @returns {jqLite} The jqLite wrapped DOM element\r\n       */\r\n      hideEl: function(element) {\r\n        return element.css({\r\n          visibility: 'hidden'\r\n        });\r\n      },\r\n\r\n      /**\r\n       * Show element\r\n       *\r\n       * @param element The jqLite wrapped DOM element\r\n       * @returns {jqLite} The jqLite\r\n       */\r\n      showEl: function(element) {\r\n        if (!!element.rzAlwaysHide) {\r\n          return element;\r\n        }\r\n\r\n        return element.css({\r\n          visibility: 'visible'\r\n        });\r\n      },\r\n\r\n      /**\r\n       * Set element left/top position depending on whether slider is horizontal or vertical\r\n       *\r\n       * @param {jqLite} elem The jqLite wrapped DOM element\r\n       * @param {number} pos\r\n       * @returns {number}\r\n       */\r\n      setPosition: function(elem, pos) {\r\n        elem.rzsp = pos;\r\n        var css = {};\r\n        css[this.positionProperty] = Math.round(pos) + 'px';\r\n        elem.css(css);\r\n        return pos;\r\n      },\r\n\r\n      /**\r\n       * Get element width/height depending on whether slider is horizontal or vertical\r\n       *\r\n       * @param {jqLite} elem The jqLite wrapped DOM element\r\n       * @returns {number}\r\n       */\r\n      getDimension: function(elem) {\r\n        var val = elem[0].getBoundingClientRect();\r\n        if (this.options.vertical)\r\n          elem.rzsd = (val.bottom - val.top) * this.options.scale;\r\n        else\r\n          elem.rzsd = (val.right - val.left) * this.options.scale;\r\n        return elem.rzsd;\r\n      },\r\n\r\n      /**\r\n       * Set element width/height depending on whether slider is horizontal or vertical\r\n       *\r\n       * @param {jqLite} elem  The jqLite wrapped DOM element\r\n       * @param {number} dim\r\n       * @returns {number}\r\n       */\r\n      setDimension: function(elem, dim) {\r\n        elem.rzsd = dim;\r\n        var css = {};\r\n        css[this.dimensionProperty] = Math.round(dim) + 'px';\r\n        elem.css(css);\r\n        return dim;\r\n      },\r\n\r\n      /**\r\n       * Returns a value that is within slider range\r\n       *\r\n       * @param {number} val\r\n       * @returns {number}\r\n       */\r\n      sanitizeValue: function(val) {\r\n        return Math.min(Math.max(val, this.minValue), this.maxValue);\r\n      },\r\n\r\n      /**\r\n       * Translate value to pixel position\r\n       *\r\n       * @param {number} val\r\n       * @returns {number}\r\n       */\r\n      valueToPosition: function(val) {\r\n        var fn = this.linearValueToPosition;\r\n        if (this.options.customValueToPosition)\r\n          fn = this.options.customValueToPosition;\r\n        else if (this.options.logScale)\r\n          fn = this.logValueToPosition;\r\n\r\n        val = this.sanitizeValue(val);\r\n        var percent = fn(val, this.minValue, this.maxValue) || 0;\r\n        if (this.options.rightToLeft)\r\n          percent = 1 - percent;\r\n        return percent * this.maxPos;\r\n      },\r\n\r\n      linearValueToPosition: function(val, minVal, maxVal) {\r\n        var range = maxVal - minVal;\r\n        return (val - minVal) / range;\r\n      },\r\n\r\n      logValueToPosition: function(val, minVal, maxVal) {\r\n        val = Math.log(val);\r\n        minVal = Math.log(minVal);\r\n        maxVal = Math.log(maxVal);\r\n        var range = maxVal - minVal;\r\n        return (val - minVal) / range;\r\n      },\r\n\r\n      /**\r\n       * Translate position to model value\r\n       *\r\n       * @param {number} position\r\n       * @returns {number}\r\n       */\r\n      positionToValue: function(position) {\r\n        var percent = position / this.maxPos;\r\n        if (this.options.rightToLeft)\r\n          percent = 1 - percent;\r\n        var fn = this.linearPositionToValue;\r\n        if (this.options.customPositionToValue)\r\n          fn = this.options.customPositionToValue;\r\n        else if (this.options.logScale)\r\n          fn = this.logPositionToValue;\r\n        return fn(percent, this.minValue, this.maxValue) || 0;\r\n      },\r\n\r\n      linearPositionToValue: function(percent, minVal, maxVal) {\r\n        return percent * (maxVal - minVal) + minVal;\r\n      },\r\n\r\n      logPositionToValue: function(percent, minVal, maxVal) {\r\n        minVal = Math.log(minVal);\r\n        maxVal = Math.log(maxVal);\r\n        var value = percent * (maxVal - minVal) + minVal;\r\n        return Math.exp(value);\r\n      },\r\n\r\n      // Events\r\n      /**\r\n       * Get the X-coordinate or Y-coordinate of an event\r\n       *\r\n       * @param {Object} event  The event\r\n       * @returns {number}\r\n       */\r\n      getEventXY: function(event) {\r\n        /* http://stackoverflow.com/a/12336075/282882 */\r\n        //noinspection JSLint\r\n        var clientXY = this.options.vertical ? 'clientY' : 'clientX';\r\n        if (event[clientXY] !== undefined) {\r\n          return event[clientXY];\r\n        }\r\n\r\n        return event.originalEvent === undefined ?\r\n          event.touches[0][clientXY] : event.originalEvent.touches[0][clientXY];\r\n      },\r\n\r\n      /**\r\n       * Compute the event position depending on whether the slider is horizontal or vertical\r\n       * @param event\r\n       * @returns {number}\r\n       */\r\n      getEventPosition: function(event) {\r\n        var sliderPos = this.sliderElem.rzsp,\r\n          eventPos = 0;\r\n        if (this.options.vertical)\r\n          eventPos = -this.getEventXY(event) + sliderPos;\r\n        else\r\n          eventPos = this.getEventXY(event) - sliderPos;\r\n        return eventPos * this.options.scale - this.handleHalfDim; // #346 handleHalfDim is already scaled\r\n      },\r\n\r\n      /**\r\n       * Get event names for move and event end\r\n       *\r\n       * @param {Event}    event    The event\r\n       *\r\n       * @return {{moveEvent: string, endEvent: string}}\r\n       */\r\n      getEventNames: function(event) {\r\n        var eventNames = {\r\n          moveEvent: '',\r\n          endEvent: ''\r\n        };\r\n\r\n        if (event.touches || (event.originalEvent !== undefined && event.originalEvent.touches)) {\r\n          eventNames.moveEvent = 'touchmove';\r\n          eventNames.endEvent = 'touchend';\r\n        } else {\r\n          eventNames.moveEvent = 'mousemove';\r\n          eventNames.endEvent = 'mouseup';\r\n        }\r\n\r\n        return eventNames;\r\n      },\r\n\r\n      /**\r\n       * Get the handle closest to an event.\r\n       *\r\n       * @param event {Event} The event\r\n       * @returns {jqLite} The handle closest to the event.\r\n       */\r\n      getNearestHandle: function(event) {\r\n        if (!this.range) {\r\n          return this.minH;\r\n        }\r\n        var position = this.getEventPosition(event),\r\n          distanceMin = Math.abs(position - this.minH.rzsp),\r\n          distanceMax = Math.abs(position - this.maxH.rzsp);\r\n        if (distanceMin < distanceMax)\r\n          return this.minH;\r\n        else if (distanceMin > distanceMax)\r\n          return this.maxH;\r\n        else if (!this.options.rightToLeft)\r\n        //if event is at the same distance from min/max then if it's at left of minH, we return minH else maxH\r\n          return position < this.minH.rzsp ? this.minH : this.maxH;\r\n        else\r\n        //reverse in rtl\r\n          return position > this.minH.rzsp ? this.minH : this.maxH;\r\n      },\r\n\r\n      /**\r\n       * Wrapper function to focus an angular element\r\n       *\r\n       * @param el {AngularElement} the element to focus\r\n       */\r\n      focusElement: function(el) {\r\n        var DOM_ELEMENT = 0;\r\n        el[DOM_ELEMENT].focus();\r\n      },\r\n\r\n      /**\r\n       * Bind mouse and touch events to slider handles\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      bindEvents: function() {\r\n        var barTracking, barStart, barMove;\r\n\r\n        if (this.options.draggableRange) {\r\n          barTracking = 'rzSliderDrag';\r\n          barStart = this.onDragStart;\r\n          barMove = this.onDragMove;\r\n        } else {\r\n          barTracking = 'lowValue';\r\n          barStart = this.onStart;\r\n          barMove = this.onMove;\r\n        }\r\n\r\n        if (!this.options.onlyBindHandles) {\r\n          this.selBar.on('mousedown', angular.bind(this, barStart, null, barTracking));\r\n          this.selBar.on('mousedown', angular.bind(this, barMove, this.selBar));\r\n        }\r\n\r\n        if (this.options.draggableRangeOnly) {\r\n          this.minH.on('mousedown', angular.bind(this, barStart, null, barTracking));\r\n          this.maxH.on('mousedown', angular.bind(this, barStart, null, barTracking));\r\n        } else {\r\n          this.minH.on('mousedown', angular.bind(this, this.onStart, this.minH, 'lowValue'));\r\n          if (this.range) {\r\n            this.maxH.on('mousedown', angular.bind(this, this.onStart, this.maxH, 'highValue'));\r\n          }\r\n          if (!this.options.onlyBindHandles) {\r\n            this.fullBar.on('mousedown', angular.bind(this, this.onStart, null, null));\r\n            this.fullBar.on('mousedown', angular.bind(this, this.onMove, this.fullBar));\r\n            this.ticks.on('mousedown', angular.bind(this, this.onStart, null, null));\r\n            this.ticks.on('mousedown', angular.bind(this, this.onTickClick, this.ticks));\r\n          }\r\n        }\r\n\r\n        if (!this.options.onlyBindHandles) {\r\n          this.selBar.on('touchstart', angular.bind(this, barStart, null, barTracking));\r\n          this.selBar.on('touchstart', angular.bind(this, barMove, this.selBar));\r\n        }\r\n        if (this.options.draggableRangeOnly) {\r\n          this.minH.on('touchstart', angular.bind(this, barStart, null, barTracking));\r\n          this.maxH.on('touchstart', angular.bind(this, barStart, null, barTracking));\r\n        } else {\r\n          this.minH.on('touchstart', angular.bind(this, this.onStart, this.minH, 'lowValue'));\r\n          if (this.range) {\r\n            this.maxH.on('touchstart', angular.bind(this, this.onStart, this.maxH, 'highValue'));\r\n          }\r\n          if (!this.options.onlyBindHandles) {\r\n            this.fullBar.on('touchstart', angular.bind(this, this.onStart, null, null));\r\n            this.fullBar.on('touchstart', angular.bind(this, this.onMove, this.fullBar));\r\n            this.ticks.on('touchstart', angular.bind(this, this.onStart, null, null));\r\n            this.ticks.on('touchstart', angular.bind(this, this.onTickClick, this.ticks));\r\n          }\r\n        }\r\n\r\n        if (this.options.keyboardSupport) {\r\n          this.minH.on('focus', angular.bind(this, this.onPointerFocus, this.minH, 'lowValue'));\r\n          if (this.range) {\r\n            this.maxH.on('focus', angular.bind(this, this.onPointerFocus, this.maxH, 'highValue'));\r\n          }\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Unbind mouse and touch events to slider handles\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      unbindEvents: function() {\r\n        this.minH.off();\r\n        this.maxH.off();\r\n        this.fullBar.off();\r\n        this.selBar.off();\r\n        this.ticks.off();\r\n      },\r\n\r\n      /**\r\n       * onStart event handler\r\n       *\r\n       * @param {?Object} pointer The jqLite wrapped DOM element; if null, the closest handle is used\r\n       * @param {?string} ref     The name of the handle being changed; if null, the closest handle's value is modified\r\n       * @param {Event}   event   The event\r\n       * @returns {undefined}\r\n       */\r\n      onStart: function(pointer, ref, event) {\r\n        var ehMove, ehEnd,\r\n          eventNames = this.getEventNames(event);\r\n\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n\r\n        // We have to do this in case the HTML where the sliders are on\r\n        // have been animated into view.\r\n        this.calcViewDimensions();\r\n\r\n        if (pointer) {\r\n          this.tracking = ref;\r\n        } else {\r\n          pointer = this.getNearestHandle(event);\r\n          this.tracking = pointer === this.minH ? 'lowValue' : 'highValue';\r\n        }\r\n\r\n        pointer.addClass('rz-active');\r\n\r\n        if (this.options.keyboardSupport)\r\n          this.focusElement(pointer);\r\n\r\n        ehMove = angular.bind(this, this.dragging.active ? this.onDragMove : this.onMove, pointer);\r\n        ehEnd = angular.bind(this, this.onEnd, ehMove);\r\n\r\n        $document.on(eventNames.moveEvent, ehMove);\r\n        $document.one(eventNames.endEvent, ehEnd);\r\n        this.callOnStart();\r\n      },\r\n\r\n      /**\r\n       * onMove event handler\r\n       *\r\n       * @param {jqLite} pointer\r\n       * @param {Event}  event The event\r\n       * @param {boolean}  fromTick if the event occured on a tick or not\r\n       * @returns {undefined}\r\n       */\r\n      onMove: function(pointer, event, fromTick) {\r\n        var newPos = this.getEventPosition(event),\r\n          newValue,\r\n          ceilValue = this.options.rightToLeft ? this.minValue : this.maxValue,\r\n          flrValue = this.options.rightToLeft ? this.maxValue : this.minValue;\r\n\r\n        if (newPos <= 0) {\r\n          newValue = flrValue;\r\n        } else if (newPos >= this.maxPos) {\r\n          newValue = ceilValue;\r\n        } else {\r\n          newValue = this.positionToValue(newPos);\r\n          if (fromTick && angular.isNumber(this.options.showTicks))\r\n            newValue = this.roundStep(newValue, this.options.showTicks);\r\n          else\r\n            newValue = this.roundStep(newValue);\r\n        }\r\n        this.positionTrackingHandle(newValue);\r\n      },\r\n\r\n      /**\r\n       * onEnd event handler\r\n       *\r\n       * @param {Event}    event    The event\r\n       * @param {Function} ehMove   The the bound move event handler\r\n       * @returns {undefined}\r\n       */\r\n      onEnd: function(ehMove, event) {\r\n        var moveEventName = this.getEventNames(event).moveEvent;\r\n\r\n        if (!this.options.keyboardSupport) {\r\n          this.minH.removeClass('rz-active');\r\n          this.maxH.removeClass('rz-active');\r\n          this.tracking = '';\r\n        }\r\n        this.dragging.active = false;\r\n\r\n        $document.off(moveEventName, ehMove);\r\n        this.callOnEnd();\r\n      },\r\n\r\n      onTickClick: function(pointer, event) {\r\n        this.onMove(pointer, event, true);\r\n      },\r\n\r\n      onPointerFocus: function(pointer, ref) {\r\n        this.tracking = ref;\r\n        pointer.one('blur', angular.bind(this, this.onPointerBlur, pointer));\r\n        pointer.on('keydown', angular.bind(this, this.onKeyboardEvent));\r\n        pointer.on('keyup', angular.bind(this, this.onKeyUp));\r\n        this.firstKeyDown = true;\r\n        pointer.addClass('rz-active');\r\n\r\n        this.currentFocusElement = {\r\n          pointer: pointer,\r\n          ref: ref\r\n        };\r\n      },\r\n\r\n      onKeyUp: function() {\r\n        this.firstKeyDown = true;\r\n        this.callOnEnd();\r\n      },\r\n\r\n      onPointerBlur: function(pointer) {\r\n        pointer.off('keydown');\r\n        pointer.off('keyup');\r\n        this.tracking = '';\r\n        pointer.removeClass('rz-active');\r\n        this.currentFocusElement = null\r\n      },\r\n\r\n      /**\r\n       * Key actions helper function\r\n       *\r\n       * @param {number} currentValue value of the slider\r\n       *\r\n       * @returns {?Object} action value mappings\r\n       */\r\n      getKeyActions: function(currentValue) {\r\n        var increaseStep = currentValue + this.step,\r\n          decreaseStep = currentValue - this.step,\r\n          increasePage = currentValue + this.valueRange / 10,\r\n          decreasePage = currentValue - this.valueRange / 10;\r\n\r\n        //Left to right default actions\r\n        var actions = {\r\n          'UP': increaseStep,\r\n          'DOWN': decreaseStep,\r\n          'LEFT': decreaseStep,\r\n          'RIGHT': increaseStep,\r\n          'PAGEUP': increasePage,\r\n          'PAGEDOWN': decreasePage,\r\n          'HOME': this.minValue,\r\n          'END': this.maxValue\r\n        };\r\n        //right to left means swapping right and left arrows\r\n        if (this.options.rightToLeft) {\r\n          actions.LEFT = increaseStep;\r\n          actions.RIGHT = decreaseStep;\r\n          // right to left and vertical means we also swap up and down\r\n          if (this.options.vertical) {\r\n            actions.UP = decreaseStep;\r\n            actions.DOWN = increaseStep;\r\n          }\r\n        }\r\n        return actions;\r\n      },\r\n\r\n      onKeyboardEvent: function(event) {\r\n        var currentValue = this[this.tracking],\r\n          keyCode = event.keyCode || event.which,\r\n          keys = {\r\n            38: 'UP',\r\n            40: 'DOWN',\r\n            37: 'LEFT',\r\n            39: 'RIGHT',\r\n            33: 'PAGEUP',\r\n            34: 'PAGEDOWN',\r\n            36: 'HOME',\r\n            35: 'END'\r\n          },\r\n          actions = this.getKeyActions(currentValue),\r\n          key = keys[keyCode],\r\n          action = actions[key];\r\n        if (action == null || this.tracking === '') return;\r\n        event.preventDefault();\r\n\r\n        if (this.firstKeyDown) {\r\n          this.firstKeyDown = false;\r\n          this.callOnStart();\r\n        }\r\n\r\n        var self = this;\r\n        $timeout(function() {\r\n          var newValue = self.roundStep(self.sanitizeValue(action));\r\n          if (!self.options.draggableRangeOnly) {\r\n            self.positionTrackingHandle(newValue);\r\n          }\r\n          else {\r\n            var difference = self.highValue - self.lowValue,\r\n              newMinValue, newMaxValue;\r\n            if (self.tracking === 'lowValue') {\r\n              newMinValue = newValue;\r\n              newMaxValue = newValue + difference;\r\n              if (newMaxValue > self.maxValue) {\r\n                newMaxValue = self.maxValue;\r\n                newMinValue = newMaxValue - difference;\r\n              }\r\n            } else {\r\n              newMaxValue = newValue;\r\n              newMinValue = newValue - difference;\r\n              if (newMinValue < self.minValue) {\r\n                newMinValue = self.minValue;\r\n                newMaxValue = newMinValue + difference;\r\n              }\r\n            }\r\n            self.positionTrackingBar(newMinValue, newMaxValue);\r\n          }\r\n        });\r\n      },\r\n\r\n      /**\r\n       * onDragStart event handler\r\n       *\r\n       * Handles dragging of the middle bar.\r\n       *\r\n       * @param {Object} pointer The jqLite wrapped DOM element\r\n       * @param {string} ref     One of the refLow, refHigh values\r\n       * @param {Event}  event   The event\r\n       * @returns {undefined}\r\n       */\r\n      onDragStart: function(pointer, ref, event) {\r\n        var position = this.getEventPosition(event);\r\n        this.dragging = {\r\n          active: true,\r\n          value: this.positionToValue(position),\r\n          difference: this.highValue - this.lowValue,\r\n          lowLimit: this.options.rightToLeft ? this.minH.rzsp - position : position - this.minH.rzsp,\r\n          highLimit: this.options.rightToLeft ? position - this.maxH.rzsp : this.maxH.rzsp - position\r\n        };\r\n\r\n        this.onStart(pointer, ref, event);\r\n      },\r\n\r\n      /**\r\n       * getValue helper function\r\n       *\r\n       * gets max or min value depending on whether the newPos is outOfBounds above or below the bar and rightToLeft\r\n       *\r\n       * @param {string} type 'max' || 'min' The value we are calculating\r\n       * @param {number} newPos  The new position\r\n       * @param {boolean} outOfBounds Is the new position above or below the max/min?\r\n       * @param {boolean} isAbove Is the new position above the bar if out of bounds?\r\n       *\r\n       * @returns {number}\r\n       */\r\n      getValue: function(type, newPos, outOfBounds, isAbove) {\r\n        var isRTL = this.options.rightToLeft,\r\n          value = null;\r\n\r\n        if (type === 'min') {\r\n          if (outOfBounds) {\r\n            if (isAbove) {\r\n              value = isRTL ? this.minValue : this.maxValue - this.dragging.difference;\r\n            } else {\r\n              value = isRTL ? this.maxValue - this.dragging.difference : this.minValue;\r\n            }\r\n          } else {\r\n            value = isRTL ? this.positionToValue(newPos + this.dragging.lowLimit) : this.positionToValue(newPos - this.dragging.lowLimit)\r\n          }\r\n        } else {\r\n          if (outOfBounds) {\r\n            if (isAbove) {\r\n              value = isRTL ? this.minValue + this.dragging.difference : this.maxValue;\r\n            } else {\r\n              value = isRTL ? this.maxValue : this.minValue + this.dragging.difference;\r\n            }\r\n          } else {\r\n            if (isRTL) {\r\n              value = this.positionToValue(newPos + this.dragging.lowLimit) + this.dragging.difference\r\n            } else {\r\n              value = this.positionToValue(newPos - this.dragging.lowLimit) + this.dragging.difference;\r\n            }\r\n          }\r\n        }\r\n        return this.roundStep(value);\r\n      },\r\n\r\n      /**\r\n       * onDragMove event handler\r\n       *\r\n       * Handles dragging of the middle bar.\r\n       *\r\n       * @param {jqLite} pointer\r\n       * @param {Event}  event The event\r\n       * @returns {undefined}\r\n       */\r\n      onDragMove: function(pointer, event) {\r\n        var newPos = this.getEventPosition(event),\r\n          newMinValue, newMaxValue,\r\n          ceilLimit, flrLimit,\r\n          isUnderFlrLimit, isOverCeilLimit,\r\n          flrH, ceilH;\r\n\r\n        if (this.options.rightToLeft) {\r\n          ceilLimit = this.dragging.lowLimit;\r\n          flrLimit = this.dragging.highLimit;\r\n          flrH = this.maxH;\r\n          ceilH = this.minH;\r\n        } else {\r\n          ceilLimit = this.dragging.highLimit;\r\n          flrLimit = this.dragging.lowLimit;\r\n          flrH = this.minH;\r\n          ceilH = this.maxH;\r\n        }\r\n        isUnderFlrLimit = newPos <= flrLimit;\r\n        isOverCeilLimit = newPos >= this.maxPos - ceilLimit;\r\n\r\n        if (isUnderFlrLimit) {\r\n          if (flrH.rzsp === 0)\r\n            return;\r\n          newMinValue = this.getValue('min', newPos, true, false);\r\n          newMaxValue = this.getValue('max', newPos, true, false);\r\n        } else if (isOverCeilLimit) {\r\n          if (ceilH.rzsp === this.maxPos)\r\n            return;\r\n          newMaxValue = this.getValue('max', newPos, true, true);\r\n          newMinValue = this.getValue('min', newPos, true, true);\r\n        } else {\r\n          newMinValue = this.getValue('min', newPos, false);\r\n          newMaxValue = this.getValue('max', newPos, false);\r\n        }\r\n        this.positionTrackingBar(newMinValue, newMaxValue);\r\n      },\r\n\r\n      /**\r\n       * Set the new value and position for the entire bar\r\n       *\r\n       * @param {number} newMinValue   the new minimum value\r\n       * @param {number} newMaxValue   the new maximum value\r\n       */\r\n      positionTrackingBar: function(newMinValue, newMaxValue) {\r\n\r\n        if (this.options.minLimit != null && newMinValue < this.options.minLimit) {\r\n          newMinValue = this.options.minLimit;\r\n          newMaxValue = newMinValue + this.dragging.difference;\r\n        }\r\n        if (this.options.maxLimit != null && newMaxValue > this.options.maxLimit) {\r\n          newMaxValue = this.options.maxLimit;\r\n          newMinValue = newMaxValue - this.dragging.difference;\r\n        }\r\n\r\n        this.lowValue = newMinValue;\r\n        this.highValue = newMaxValue;\r\n        this.applyLowValue();\r\n        if (this.range)\r\n          this.applyHighValue();\r\n        this.applyModel();\r\n        this.updateHandles('lowValue', this.valueToPosition(newMinValue));\r\n        this.updateHandles('highValue', this.valueToPosition(newMaxValue));\r\n      },\r\n\r\n      /**\r\n       * Set the new value and position to the current tracking handle\r\n       *\r\n       * @param {number} newValue new model value\r\n       */\r\n      positionTrackingHandle: function(newValue) {\r\n        var valueChanged = false;\r\n\r\n        newValue = this.applyMinMaxLimit(newValue);\r\n        if (this.range) {\r\n          if (this.options.pushRange) {\r\n            newValue = this.applyPushRange(newValue);\r\n            valueChanged = true;\r\n          }\r\n          else {\r\n            if (this.options.noSwitching) {\r\n              if (this.tracking === 'lowValue' && newValue > this.highValue)\r\n                newValue = this.applyMinMaxRange(this.highValue);\r\n              else if (this.tracking === 'highValue' && newValue < this.lowValue)\r\n                newValue = this.applyMinMaxRange(this.lowValue);\r\n            }\r\n            newValue = this.applyMinMaxRange(newValue);\r\n            /* This is to check if we need to switch the min and max handles */\r\n            if (this.tracking === 'lowValue' && newValue > this.highValue) {\r\n              this.lowValue = this.highValue;\r\n              this.applyLowValue();\r\n              this.updateHandles(this.tracking, this.maxH.rzsp);\r\n              this.updateAriaAttributes();\r\n              this.tracking = 'highValue';\r\n              this.minH.removeClass('rz-active');\r\n              this.maxH.addClass('rz-active');\r\n              if (this.options.keyboardSupport)\r\n                this.focusElement(this.maxH);\r\n              valueChanged = true;\r\n            }\r\n            else if (this.tracking === 'highValue' && newValue < this.lowValue) {\r\n              this.highValue = this.lowValue;\r\n              this.applyHighValue();\r\n              this.updateHandles(this.tracking, this.minH.rzsp);\r\n              this.updateAriaAttributes();\r\n              this.tracking = 'lowValue';\r\n              this.maxH.removeClass('rz-active');\r\n              this.minH.addClass('rz-active');\r\n              if (this.options.keyboardSupport)\r\n                this.focusElement(this.minH);\r\n              valueChanged = true;\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this[this.tracking] !== newValue) {\r\n          this[this.tracking] = newValue;\r\n          if (this.tracking === 'lowValue')\r\n            this.applyLowValue();\r\n          else\r\n            this.applyHighValue();\r\n          this.updateHandles(this.tracking, this.valueToPosition(newValue));\r\n          this.updateAriaAttributes();\r\n          valueChanged = true;\r\n        }\r\n\r\n        if (valueChanged)\r\n          this.applyModel();\r\n      },\r\n\r\n      applyMinMaxLimit: function(newValue) {\r\n        if (this.options.minLimit != null && newValue < this.options.minLimit)\r\n          return this.options.minLimit;\r\n        if (this.options.maxLimit != null && newValue > this.options.maxLimit)\r\n          return this.options.maxLimit;\r\n        return newValue;\r\n      },\r\n\r\n      applyMinMaxRange: function(newValue) {\r\n        var oppositeValue = this.tracking === 'lowValue' ? this.highValue : this.lowValue,\r\n          difference = Math.abs(newValue - oppositeValue);\r\n        if (this.options.minRange != null) {\r\n          if (difference < this.options.minRange) {\r\n            if (this.tracking === 'lowValue')\r\n              return this.highValue - this.options.minRange;\r\n            else\r\n              return this.lowValue + this.options.minRange;\r\n          }\r\n        }\r\n        if (this.options.maxRange != null) {\r\n          if (difference > this.options.maxRange) {\r\n            if (this.tracking === 'lowValue')\r\n              return this.highValue - this.options.maxRange;\r\n            else\r\n              return this.lowValue + this.options.maxRange;\r\n          }\r\n        }\r\n        return newValue;\r\n      },\r\n\r\n      applyPushRange: function(newValue) {\r\n        var difference = this.tracking === 'lowValue' ? this.highValue - newValue : newValue - this.lowValue,\r\n          minRange = this.options.minRange !== null ? this.options.minRange : this.options.step,\r\n          maxRange = this.options.maxRange;\r\n        // if smaller than minRange\r\n        if (difference < minRange) {\r\n          if (this.tracking === 'lowValue') {\r\n            this.highValue = Math.min(newValue + minRange, this.maxValue);\r\n            newValue = this.highValue - minRange;\r\n            this.applyHighValue();\r\n            this.updateHandles('highValue', this.valueToPosition(this.highValue));\r\n          }\r\n          else {\r\n            this.lowValue = Math.max(newValue - minRange, this.minValue);\r\n            newValue = this.lowValue + minRange;\r\n            this.applyLowValue();\r\n            this.updateHandles('lowValue', this.valueToPosition(this.lowValue));\r\n          }\r\n          this.updateAriaAttributes();\r\n        }\r\n        // if greater than maxRange\r\n        else if (maxRange !== null && difference > maxRange) {\r\n          if (this.tracking === 'lowValue') {\r\n            this.highValue = newValue + maxRange;\r\n            this.applyHighValue();\r\n            this.updateHandles('highValue', this.valueToPosition(this.highValue));\r\n          }\r\n          else {\r\n            this.lowValue = newValue - maxRange;\r\n            this.applyLowValue();\r\n            this.updateHandles('lowValue', this.valueToPosition(this.lowValue));\r\n          }\r\n          this.updateAriaAttributes();\r\n        }\r\n        return newValue;\r\n      },\r\n\r\n      /**\r\n       * Apply the model values using scope.$apply.\r\n       * We wrap it with the internalChange flag to avoid the watchers to be called\r\n       */\r\n      applyModel: function() {\r\n        this.internalChange = true;\r\n        this.scope.$apply();\r\n        this.callOnChange();\r\n        this.internalChange = false;\r\n      },\r\n\r\n      /**\r\n       * Call the onStart callback if defined\r\n       * The callback call is wrapped in a $evalAsync to ensure that its result will be applied to the scope.\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      callOnStart: function() {\r\n        if (this.options.onStart) {\r\n          var self = this,\r\n            pointerType = this.tracking === 'lowValue' ? 'min' : 'max';\r\n          this.scope.$evalAsync(function() {\r\n            self.options.onStart(self.options.id, self.scope.rzSliderModel, self.scope.rzSliderHigh, pointerType);\r\n          });\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Call the onChange callback if defined\r\n       * The callback call is wrapped in a $evalAsync to ensure that its result will be applied to the scope.\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      callOnChange: function() {\r\n        if (this.options.onChange) {\r\n          var self = this,\r\n            pointerType = this.tracking === 'lowValue' ? 'min' : 'max';\r\n          this.scope.$evalAsync(function() {\r\n            self.options.onChange(self.options.id, self.scope.rzSliderModel, self.scope.rzSliderHigh, pointerType);\r\n          });\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Call the onEnd callback if defined\r\n       * The callback call is wrapped in a $evalAsync to ensure that its result will be applied to the scope.\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      callOnEnd: function() {\r\n        if (this.options.onEnd) {\r\n          var self = this,\r\n            pointerType = this.tracking === 'lowValue' ? 'min' : 'max';\r\n          this.scope.$evalAsync(function() {\r\n            self.options.onEnd(self.options.id, self.scope.rzSliderModel, self.scope.rzSliderHigh, pointerType);\r\n          });\r\n        }\r\n        this.scope.$emit('slideEnded');\r\n      }\r\n    };\r\n\r\n    return Slider;\r\n  }])\r\n\r\n  .directive('rzslider', ['RzSlider', function(RzSlider) {\r\n    'use strict';\r\n\r\n    return {\r\n      restrict: 'AE',\r\n      replace: true,\r\n      scope: {\r\n        rzSliderModel: '=?',\r\n        rzSliderHigh: '=?',\r\n        rzSliderOptions: '&?',\r\n        rzSliderTplUrl: '@'\r\n      },\r\n\r\n      /**\r\n       * Return template URL\r\n       *\r\n       * @param {jqLite} elem\r\n       * @param {Object} attrs\r\n       * @return {string}\r\n       */\r\n      templateUrl: function(elem, attrs) {\r\n        //noinspection JSUnresolvedVariable\r\n        return attrs.rzSliderTplUrl || 'rzSliderTpl.html';\r\n      },\r\n\r\n      link: function(scope, elem) {\r\n        scope.slider = new RzSlider(scope, elem); //attach on scope so we can test it\r\n      }\r\n    };\r\n  }]);\r\n\r\n  // IDE assist\r\n\r\n  /**\r\n   * @name ngScope\r\n   *\r\n   * @property {number} rzSliderModel\r\n   * @property {number} rzSliderHigh\r\n   * @property {Object} rzSliderOptions\r\n   */\r\n\r\n  /**\r\n   * @name jqLite\r\n   *\r\n   * @property {number|undefined} rzsp rzslider label position position\r\n   * @property {number|undefined} rzsd rzslider element dimension\r\n   * @property {string|undefined} rzsv rzslider label value/text\r\n   * @property {Function} css\r\n   * @property {Function} text\r\n   */\r\n\r\n  /**\r\n   * @name Event\r\n   * @property {Array} touches\r\n   * @property {Event} originalEvent\r\n   */\r\n\r\n  /**\r\n   * @name ThrottleOptions\r\n   *\r\n   * @property {boolean} leading\r\n   * @property {boolean} trailing\r\n   */\r\n\r\n  module.run(['$templateCache', function($templateCache) {\r\n  'use strict';\r\n\r\n  $templateCache.put('rzSliderTpl.html',\r\n    \"<div class=rzslider><span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class=\\\"rz-bar rz-selection\\\" ng-style=barStyle></span></span> <span class=\\\"rz-pointer rz-pointer-min\\\" ng-style=minPointerStyle></span> <span class=\\\"rz-pointer rz-pointer-max\\\" ng-style=maxPointerStyle></span> <span class=\\\"rz-bubble rz-limit rz-floor\\\"></span> <span class=\\\"rz-bubble rz-limit rz-ceil\\\"></span> <span class=rz-bubble></span> <span class=rz-bubble></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat=\\\"t in ticks track by $index\\\" class=rz-tick ng-class=\\\"{'rz-selected': t.selected}\\\" ng-style=t.style ng-attr-uib-tooltip=\\\"{{ t.tooltip }}\\\" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body=\\\"{{ t.tooltip ? true : undefined}}\\\"><span ng-if=\\\"t.value != null\\\" class=rz-tick-value ng-attr-uib-tooltip=\\\"{{ t.valueTooltip }}\\\" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span> <span ng-if=\\\"t.legend != null\\\" class=rz-tick-legend>{{ t.legend }}</span></li></ul></div>\"\r\n  );\r\n\r\n}]);\r\n\r\n  return module.name\r\n}));","/**\n * State-based routing for AngularJS\n * @version v0.4.2\n * @link http://angular-ui.github.com/\n * @license MIT License, http://www.opensource.org/licenses/MIT\n */\n\n/* commonjs package manager support (eg componentjs) */\nif (typeof module !== \"undefined\" && typeof exports !== \"undefined\" && module.exports === exports){\n  module.exports = 'ui.router';\n}\n\n(function (window, angular, undefined) {\n/*jshint globalstrict:true*/\n/*global angular:false*/\n'use strict';\n\nvar isDefined = angular.isDefined,\n    isFunction = angular.isFunction,\n    isString = angular.isString,\n    isObject = angular.isObject,\n    isArray = angular.isArray,\n    forEach = angular.forEach,\n    extend = angular.extend,\n    copy = angular.copy,\n    toJson = angular.toJson;\n\nfunction inherit(parent, extra) {\n  return extend(new (extend(function() {}, { prototype: parent }))(), extra);\n}\n\nfunction merge(dst) {\n  forEach(arguments, function(obj) {\n    if (obj !== dst) {\n      forEach(obj, function(value, key) {\n        if (!dst.hasOwnProperty(key)) dst[key] = value;\n      });\n    }\n  });\n  return dst;\n}\n\n/**\n * Finds the common ancestor path between two states.\n *\n * @param {Object} first The first state.\n * @param {Object} second The second state.\n * @return {Array} Returns an array of state names in descending order, not including the root.\n */\nfunction ancestors(first, second) {\n  var path = [];\n\n  for (var n in first.path) {\n    if (first.path[n] !== second.path[n]) break;\n    path.push(first.path[n]);\n  }\n  return path;\n}\n\n/**\n * IE8-safe wrapper for `Object.keys()`.\n *\n * @param {Object} object A JavaScript object.\n * @return {Array} Returns the keys of the object as an array.\n */\nfunction objectKeys(object) {\n  if (Object.keys) {\n    return Object.keys(object);\n  }\n  var result = [];\n\n  forEach(object, function(val, key) {\n    result.push(key);\n  });\n  return result;\n}\n\n/**\n * IE8-safe wrapper for `Array.prototype.indexOf()`.\n *\n * @param {Array} array A JavaScript array.\n * @param {*} value A value to search the array for.\n * @return {Number} Returns the array index value of `value`, or `-1` if not present.\n */\nfunction indexOf(array, value) {\n  if (Array.prototype.indexOf) {\n    return array.indexOf(value, Number(arguments[2]) || 0);\n  }\n  var len = array.length >>> 0, from = Number(arguments[2]) || 0;\n  from = (from < 0) ? Math.ceil(from) : Math.floor(from);\n\n  if (from < 0) from += len;\n\n  for (; from < len; from++) {\n    if (from in array && array[from] === value) return from;\n  }\n  return -1;\n}\n\n/**\n * Merges a set of parameters with all parameters inherited between the common parents of the\n * current state and a given destination state.\n *\n * @param {Object} currentParams The value of the current state parameters ($stateParams).\n * @param {Object} newParams The set of parameters which will be composited with inherited params.\n * @param {Object} $current Internal definition of object representing the current state.\n * @param {Object} $to Internal definition of object representing state to transition to.\n */\nfunction inheritParams(currentParams, newParams, $current, $to) {\n  var parents = ancestors($current, $to), parentParams, inherited = {}, inheritList = [];\n\n  for (var i in parents) {\n    if (!parents[i] || !parents[i].params) continue;\n    parentParams = objectKeys(parents[i].params);\n    if (!parentParams.length) continue;\n\n    for (var j in parentParams) {\n      if (indexOf(inheritList, parentParams[j]) >= 0) continue;\n      inheritList.push(parentParams[j]);\n      inherited[parentParams[j]] = currentParams[parentParams[j]];\n    }\n  }\n  return extend({}, inherited, newParams);\n}\n\n/**\n * Performs a non-strict comparison of the subset of two objects, defined by a list of keys.\n *\n * @param {Object} a The first object.\n * @param {Object} b The second object.\n * @param {Array} keys The list of keys within each object to compare. If the list is empty or not specified,\n *                     it defaults to the list of keys in `a`.\n * @return {Boolean} Returns `true` if the keys match, otherwise `false`.\n */\nfunction equalForKeys(a, b, keys) {\n  if (!keys) {\n    keys = [];\n    for (var n in a) keys.push(n); // Used instead of Object.keys() for IE8 compatibility\n  }\n\n  for (var i=0; i<keys.length; i++) {\n    var k = keys[i];\n    if (a[k] != b[k]) return false; // Not '===', values aren't necessarily normalized\n  }\n  return true;\n}\n\n/**\n * Returns the subset of an object, based on a list of keys.\n *\n * @param {Array} keys\n * @param {Object} values\n * @return {Boolean} Returns a subset of `values`.\n */\nfunction filterByKeys(keys, values) {\n  var filtered = {};\n\n  forEach(keys, function (name) {\n    filtered[name] = values[name];\n  });\n  return filtered;\n}\n\n// like _.indexBy\n// when you know that your index values will be unique, or you want last-one-in to win\nfunction indexBy(array, propName) {\n  var result = {};\n  forEach(array, function(item) {\n    result[item[propName]] = item;\n  });\n  return result;\n}\n\n// extracted from underscore.js\n// Return a copy of the object only containing the whitelisted properties.\nfunction pick(obj) {\n  var copy = {};\n  var keys = Array.prototype.concat.apply(Array.prototype, Array.prototype.slice.call(arguments, 1));\n  forEach(keys, function(key) {\n    if (key in obj) copy[key] = obj[key];\n  });\n  return copy;\n}\n\n// extracted from underscore.js\n// Return a copy of the object omitting the blacklisted properties.\nfunction omit(obj) {\n  var copy = {};\n  var keys = Array.prototype.concat.apply(Array.prototype, Array.prototype.slice.call(arguments, 1));\n  for (var key in obj) {\n    if (indexOf(keys, key) == -1) copy[key] = obj[key];\n  }\n  return copy;\n}\n\nfunction pluck(collection, key) {\n  var result = isArray(collection) ? [] : {};\n\n  forEach(collection, function(val, i) {\n    result[i] = isFunction(key) ? key(val) : val[key];\n  });\n  return result;\n}\n\nfunction filter(collection, callback) {\n  var array = isArray(collection);\n  var result = array ? [] : {};\n  forEach(collection, function(val, i) {\n    if (callback(val, i)) {\n      result[array ? result.length : i] = val;\n    }\n  });\n  return result;\n}\n\nfunction map(collection, callback) {\n  var result = isArray(collection) ? [] : {};\n\n  forEach(collection, function(val, i) {\n    result[i] = callback(val, i);\n  });\n  return result;\n}\n\n// issue #2676 #2889\nfunction silenceUncaughtInPromise (promise) {\n  return promise.then(undefined, function() {}) && promise;\n}\n\n/**\n * @ngdoc overview\n * @name ui.router.util\n *\n * @description\n * # ui.router.util sub-module\n *\n * This module is a dependency of other sub-modules. Do not include this module as a dependency\n * in your angular app (use {@link ui.router} module instead).\n *\n */\nangular.module('ui.router.util', ['ng']);\n\n/**\n * @ngdoc overview\n * @name ui.router.router\n * \n * @requires ui.router.util\n *\n * @description\n * # ui.router.router sub-module\n *\n * This module is a dependency of other sub-modules. Do not include this module as a dependency\n * in your angular app (use {@link ui.router} module instead).\n */\nangular.module('ui.router.router', ['ui.router.util']);\n\n/**\n * @ngdoc overview\n * @name ui.router.state\n * \n * @requires ui.router.router\n * @requires ui.router.util\n *\n * @description\n * # ui.router.state sub-module\n *\n * This module is a dependency of the main ui.router module. Do not include this module as a dependency\n * in your angular app (use {@link ui.router} module instead).\n * \n */\nangular.module('ui.router.state', ['ui.router.router', 'ui.router.util']);\n\n/**\n * @ngdoc overview\n * @name ui.router\n *\n * @requires ui.router.state\n *\n * @description\n * # ui.router\n * \n * ## The main module for ui.router \n * There are several sub-modules included with the ui.router module, however only this module is needed\n * as a dependency within your angular app. The other modules are for organization purposes. \n *\n * The modules are:\n * * ui.router - the main \"umbrella\" module\n * * ui.router.router - \n * \n * *You'll need to include **only** this module as the dependency within your angular app.*\n * \n * <pre>\n * <!doctype html>\n * <html ng-app=\"myApp\">\n * <head>\n *   <script src=\"js/angular.js\"></script>\n *   <!-- Include the ui-router script -->\n *   <script src=\"js/angular-ui-router.min.js\"></script>\n *   <script>\n *     // ...and add 'ui.router' as a dependency\n *     var myApp = angular.module('myApp', ['ui.router']);\n *   </script>\n * </head>\n * <body>\n * </body>\n * </html>\n * </pre>\n */\nangular.module('ui.router', ['ui.router.state']);\n\nangular.module('ui.router.compat', ['ui.router']);\n\n/**\n * @ngdoc object\n * @name ui.router.util.$resolve\n *\n * @requires $q\n * @requires $injector\n *\n * @description\n * Manages resolution of (acyclic) graphs of promises.\n */\n$Resolve.$inject = ['$q', '$injector'];\nfunction $Resolve(  $q,    $injector) {\n  \n  var VISIT_IN_PROGRESS = 1,\n      VISIT_DONE = 2,\n      NOTHING = {},\n      NO_DEPENDENCIES = [],\n      NO_LOCALS = NOTHING,\n      NO_PARENT = extend($q.when(NOTHING), { $$promises: NOTHING, $$values: NOTHING });\n  \n\n  /**\n   * @ngdoc function\n   * @name ui.router.util.$resolve#study\n   * @methodOf ui.router.util.$resolve\n   *\n   * @description\n   * Studies a set of invocables that are likely to be used multiple times.\n   * <pre>\n   * $resolve.study(invocables)(locals, parent, self)\n   * </pre>\n   * is equivalent to\n   * <pre>\n   * $resolve.resolve(invocables, locals, parent, self)\n   * </pre>\n   * but the former is more efficient (in fact `resolve` just calls `study` \n   * internally).\n   *\n   * @param {object} invocables Invocable objects\n   * @return {function} a function to pass in locals, parent and self\n   */\n  this.study = function (invocables) {\n    if (!isObject(invocables)) throw new Error(\"'invocables' must be an object\");\n    var invocableKeys = objectKeys(invocables || {});\n    \n    // Perform a topological sort of invocables to build an ordered plan\n    var plan = [], cycle = [], visited = {};\n    function visit(value, key) {\n      if (visited[key] === VISIT_DONE) return;\n      \n      cycle.push(key);\n      if (visited[key] === VISIT_IN_PROGRESS) {\n        cycle.splice(0, indexOf(cycle, key));\n        throw new Error(\"Cyclic dependency: \" + cycle.join(\" -> \"));\n      }\n      visited[key] = VISIT_IN_PROGRESS;\n      \n      if (isString(value)) {\n        plan.push(key, [ function() { return $injector.get(value); }], NO_DEPENDENCIES);\n      } else {\n        var params = $injector.annotate(value);\n        forEach(params, function (param) {\n          if (param !== key && invocables.hasOwnProperty(param)) visit(invocables[param], param);\n        });\n        plan.push(key, value, params);\n      }\n      \n      cycle.pop();\n      visited[key] = VISIT_DONE;\n    }\n    forEach(invocables, visit);\n    invocables = cycle = visited = null; // plan is all that's required\n    \n    function isResolve(value) {\n      return isObject(value) && value.then && value.$$promises;\n    }\n    \n    return function (locals, parent, self) {\n      if (isResolve(locals) && self === undefined) {\n        self = parent; parent = locals; locals = null;\n      }\n      if (!locals) locals = NO_LOCALS;\n      else if (!isObject(locals)) {\n        throw new Error(\"'locals' must be an object\");\n      }       \n      if (!parent) parent = NO_PARENT;\n      else if (!isResolve(parent)) {\n        throw new Error(\"'parent' must be a promise returned by $resolve.resolve()\");\n      }\n      \n      // To complete the overall resolution, we have to wait for the parent\n      // promise and for the promise for each invokable in our plan.\n      var resolution = $q.defer(),\n          result = silenceUncaughtInPromise(resolution.promise),\n          promises = result.$$promises = {},\n          values = extend({}, locals),\n          wait = 1 + plan.length/3,\n          merged = false;\n\n      silenceUncaughtInPromise(result);\n          \n      function done() {\n        // Merge parent values we haven't got yet and publish our own $$values\n        if (!--wait) {\n          if (!merged) merge(values, parent.$$values); \n          result.$$values = values;\n          result.$$promises = result.$$promises || true; // keep for isResolve()\n          delete result.$$inheritedValues;\n          resolution.resolve(values);\n        }\n      }\n      \n      function fail(reason) {\n        result.$$failure = reason;\n        resolution.reject(reason);\n      }\n\n      // Short-circuit if parent has already failed\n      if (isDefined(parent.$$failure)) {\n        fail(parent.$$failure);\n        return result;\n      }\n      \n      if (parent.$$inheritedValues) {\n        merge(values, omit(parent.$$inheritedValues, invocableKeys));\n      }\n\n      // Merge parent values if the parent has already resolved, or merge\n      // parent promises and wait if the parent resolve is still in progress.\n      extend(promises, parent.$$promises);\n      if (parent.$$values) {\n        merged = merge(values, omit(parent.$$values, invocableKeys));\n        result.$$inheritedValues = omit(parent.$$values, invocableKeys);\n        done();\n      } else {\n        if (parent.$$inheritedValues) {\n          result.$$inheritedValues = omit(parent.$$inheritedValues, invocableKeys);\n        }        \n        parent.then(done, fail);\n      }\n      \n      // Process each invocable in the plan, but ignore any where a local of the same name exists.\n      for (var i=0, ii=plan.length; i<ii; i+=3) {\n        if (locals.hasOwnProperty(plan[i])) done();\n        else invoke(plan[i], plan[i+1], plan[i+2]);\n      }\n      \n      function invoke(key, invocable, params) {\n        // Create a deferred for this invocation. Failures will propagate to the resolution as well.\n        var invocation = $q.defer(), waitParams = 0;\n        function onfailure(reason) {\n          invocation.reject(reason);\n          fail(reason);\n        }\n        // Wait for any parameter that we have a promise for (either from parent or from this\n        // resolve; in that case study() will have made sure it's ordered before us in the plan).\n        forEach(params, function (dep) {\n          if (promises.hasOwnProperty(dep) && !locals.hasOwnProperty(dep)) {\n            waitParams++;\n            promises[dep].then(function (result) {\n              values[dep] = result;\n              if (!(--waitParams)) proceed();\n            }, onfailure);\n          }\n        });\n        if (!waitParams) proceed();\n        function proceed() {\n          if (isDefined(result.$$failure)) return;\n          try {\n            invocation.resolve($injector.invoke(invocable, self, values));\n            invocation.promise.then(function (result) {\n              values[key] = result;\n              done();\n            }, onfailure);\n          } catch (e) {\n            onfailure(e);\n          }\n        }\n        // Publish promise synchronously; invocations further down in the plan may depend on it.\n        promises[key] = silenceUncaughtInPromise(invocation.promise);\n      }\n      \n      return result;\n    };\n  };\n  \n  /**\n   * @ngdoc function\n   * @name ui.router.util.$resolve#resolve\n   * @methodOf ui.router.util.$resolve\n   *\n   * @description\n   * Resolves a set of invocables. An invocable is a function to be invoked via \n   * `$injector.invoke()`, and can have an arbitrary number of dependencies. \n   * An invocable can either return a value directly,\n   * or a `$q` promise. If a promise is returned it will be resolved and the \n   * resulting value will be used instead. Dependencies of invocables are resolved \n   * (in this order of precedence)\n   *\n   * - from the specified `locals`\n   * - from another invocable that is part of this `$resolve` call\n   * - from an invocable that is inherited from a `parent` call to `$resolve` \n   *   (or recursively\n   * - from any ancestor `$resolve` of that parent).\n   *\n   * The return value of `$resolve` is a promise for an object that contains \n   * (in this order of precedence)\n   *\n   * - any `locals` (if specified)\n   * - the resolved return values of all injectables\n   * - any values inherited from a `parent` call to `$resolve` (if specified)\n   *\n   * The promise will resolve after the `parent` promise (if any) and all promises \n   * returned by injectables have been resolved. If any invocable \n   * (or `$injector.invoke`) throws an exception, or if a promise returned by an \n   * invocable is rejected, the `$resolve` promise is immediately rejected with the \n   * same error. A rejection of a `parent` promise (if specified) will likewise be \n   * propagated immediately. Once the `$resolve` promise has been rejected, no \n   * further invocables will be called.\n   * \n   * Cyclic dependencies between invocables are not permitted and will cause `$resolve`\n   * to throw an error. As a special case, an injectable can depend on a parameter \n   * with the same name as the injectable, which will be fulfilled from the `parent` \n   * injectable of the same name. This allows inherited values to be decorated. \n   * Note that in this case any other injectable in the same `$resolve` with the same\n   * dependency would see the decorated value, not the inherited value.\n   *\n   * Note that missing dependencies -- unlike cyclic dependencies -- will cause an \n   * (asynchronous) rejection of the `$resolve` promise rather than a (synchronous) \n   * exception.\n   *\n   * Invocables are invoked eagerly as soon as all dependencies are available. \n   * This is true even for dependencies inherited from a `parent` call to `$resolve`.\n   *\n   * As a special case, an invocable can be a string, in which case it is taken to \n   * be a service name to be passed to `$injector.get()`. This is supported primarily \n   * for backwards-compatibility with the `resolve` property of `$routeProvider` \n   * routes.\n   *\n   * @param {object} invocables functions to invoke or \n   * `$injector` services to fetch.\n   * @param {object} locals  values to make available to the injectables\n   * @param {object} parent  a promise returned by another call to `$resolve`.\n   * @param {object} self  the `this` for the invoked methods\n   * @return {object} Promise for an object that contains the resolved return value\n   * of all invocables, as well as any inherited and local values.\n   */\n  this.resolve = function (invocables, locals, parent, self) {\n    return this.study(invocables)(locals, parent, self);\n  };\n}\n\nangular.module('ui.router.util').service('$resolve', $Resolve);\n\n\n\n/**\n * @ngdoc object\n * @name ui.router.util.$templateFactoryProvider\n *\n * @description\n * Provider for $templateFactory. Manages which template-loading mechanism to\n * use, and will default to the most recent one ($templateRequest on Angular\n * versions starting from 1.3, $http otherwise).\n */\nfunction TemplateFactoryProvider() {\n  var shouldUnsafelyUseHttp = angular.version.minor < 3;\n\n  /**\n   * @ngdoc function\n   * @name ui.router.util.$templateFactoryProvider#shouldUnsafelyUseHttp\n   * @methodOf ui.router.util.$templateFactoryProvider\n   *\n   * @description\n   * Forces $templateFactory to use $http instead of $templateRequest. This\n   * might cause XSS, as $http doesn't enforce the regular security checks for\n   * templates that have been introduced in Angular 1.3. Note that setting this\n   * to false on Angular older than 1.3.x will crash, as the $templateRequest\n   * service (and the security checks) are not implemented on these versions.\n   *\n   * See the $sce documentation, section\n   * <a href=\"https://docs.angularjs.org/api/ng/service/$sce#impact-on-loading-templates\">\n   * Impact on loading templates</a> for more details about this mechanism.\n   *\n   * @param {boolean} value\n   */\n  this.shouldUnsafelyUseHttp = function(value) {\n    shouldUnsafelyUseHttp = !!value;\n  };\n\n  /**\n   * @ngdoc object\n   * @name ui.router.util.$templateFactory\n   *\n   * @requires $http\n   * @requires $templateCache\n   * @requires $injector\n   *\n   * @description\n   * Service. Manages loading of templates.\n   */\n  this.$get = ['$http', '$templateCache', '$injector', function($http, $templateCache, $injector){\n    return new TemplateFactory($http, $templateCache, $injector, shouldUnsafelyUseHttp);}];\n}\n\n\n/**\n * @ngdoc object\n * @name ui.router.util.$templateFactory\n *\n * @requires $http\n * @requires $templateCache\n * @requires $injector\n *\n * @description\n * Service. Manages loading of templates.\n */\nfunction TemplateFactory($http, $templateCache, $injector, shouldUnsafelyUseHttp) {\n\n  /**\n   * @ngdoc function\n   * @name ui.router.util.$templateFactory#fromConfig\n   * @methodOf ui.router.util.$templateFactory\n   *\n   * @description\n   * Creates a template from a configuration object. \n   *\n   * @param {object} config Configuration object for which to load a template. \n   * The following properties are search in the specified order, and the first one \n   * that is defined is used to create the template:\n   *\n   * @param {string|object} config.template html string template or function to \n   * load via {@link ui.router.util.$templateFactory#fromString fromString}.\n   * @param {string|object} config.templateUrl url to load or a function returning \n   * the url to load via {@link ui.router.util.$templateFactory#fromUrl fromUrl}.\n   * @param {Function} config.templateProvider function to invoke via \n   * {@link ui.router.util.$templateFactory#fromProvider fromProvider}.\n   * @param {object} params  Parameters to pass to the template function.\n   * @param {object} locals Locals to pass to `invoke` if the template is loaded \n   * via a `templateProvider`. Defaults to `{ params: params }`.\n   *\n   * @return {string|object}  The template html as a string, or a promise for \n   * that string,or `null` if no template is configured.\n   */\n  this.fromConfig = function (config, params, locals) {\n    return (\n      isDefined(config.template) ? this.fromString(config.template, params) :\n      isDefined(config.templateUrl) ? this.fromUrl(config.templateUrl, params) :\n      isDefined(config.templateProvider) ? this.fromProvider(config.templateProvider, params, locals) :\n      null\n    );\n  };\n\n  /**\n   * @ngdoc function\n   * @name ui.router.util.$templateFactory#fromString\n   * @methodOf ui.router.util.$templateFactory\n   *\n   * @description\n   * Creates a template from a string or a function returning a string.\n   *\n   * @param {string|object} template html template as a string or function that \n   * returns an html template as a string.\n   * @param {object} params Parameters to pass to the template function.\n   *\n   * @return {string|object} The template html as a string, or a promise for that \n   * string.\n   */\n  this.fromString = function (template, params) {\n    return isFunction(template) ? template(params) : template;\n  };\n\n  /**\n   * @ngdoc function\n   * @name ui.router.util.$templateFactory#fromUrl\n   * @methodOf ui.router.util.$templateFactory\n   * \n   * @description\n   * Loads a template from the a URL via `$http` and `$templateCache`.\n   *\n   * @param {string|Function} url url of the template to load, or a function \n   * that returns a url.\n   * @param {Object} params Parameters to pass to the url function.\n   * @return {string|Promise.<string>} The template html as a string, or a promise \n   * for that string.\n   */\n  this.fromUrl = function (url, params) {\n    if (isFunction(url)) url = url(params);\n    if (url == null) return null;\n    else {\n      if(!shouldUnsafelyUseHttp) {\n        return $injector.get('$templateRequest')(url);\n      } else {\n        return $http\n          .get(url, { cache: $templateCache, headers: { Accept: 'text/html' }})\n          .then(function(response) { return response.data; });\n      }\n    }\n  };\n\n  /**\n   * @ngdoc function\n   * @name ui.router.util.$templateFactory#fromProvider\n   * @methodOf ui.router.util.$templateFactory\n   *\n   * @description\n   * Creates a template by invoking an injectable provider function.\n   *\n   * @param {Function} provider Function to invoke via `$injector.invoke`\n   * @param {Object} params Parameters for the template.\n   * @param {Object} locals Locals to pass to `invoke`. Defaults to \n   * `{ params: params }`.\n   * @return {string|Promise.<string>} The template html as a string, or a promise \n   * for that string.\n   */\n  this.fromProvider = function (provider, params, locals) {\n    return $injector.invoke(provider, null, locals || { params: params });\n  };\n}\n\nangular.module('ui.router.util').provider('$templateFactory', TemplateFactoryProvider);\n\nvar $$UMFP; // reference to $UrlMatcherFactoryProvider\n\n/**\n * @ngdoc object\n * @name ui.router.util.type:UrlMatcher\n *\n * @description\n * Matches URLs against patterns and extracts named parameters from the path or the search\n * part of the URL. A URL pattern consists of a path pattern, optionally followed by '?' and a list\n * of search parameters. Multiple search parameter names are separated by '&'. Search parameters\n * do not influence whether or not a URL is matched, but their values are passed through into\n * the matched parameters returned by {@link ui.router.util.type:UrlMatcher#methods_exec exec}.\n *\n * Path parameter placeholders can be specified using simple colon/catch-all syntax or curly brace\n * syntax, which optionally allows a regular expression for the parameter to be specified:\n *\n * * `':'` name - colon placeholder\n * * `'*'` name - catch-all placeholder\n * * `'{' name '}'` - curly placeholder\n * * `'{' name ':' regexp|type '}'` - curly placeholder with regexp or type name. Should the\n *   regexp itself contain curly braces, they must be in matched pairs or escaped with a backslash.\n *\n * Parameter names may contain only word characters (latin letters, digits, and underscore) and\n * must be unique within the pattern (across both path and search parameters). For colon\n * placeholders or curly placeholders without an explicit regexp, a path parameter matches any\n * number of characters other than '/'. For catch-all placeholders the path parameter matches\n * any number of characters.\n *\n * Examples:\n *\n * * `'/hello/'` - Matches only if the path is exactly '/hello/'. There is no special treatment for\n *   trailing slashes, and patterns have to match the entire path, not just a prefix.\n * * `'/user/:id'` - Matches '/user/bob' or '/user/1234!!!' or even '/user/' but not '/user' or\n *   '/user/bob/details'. The second path segment will be captured as the parameter 'id'.\n * * `'/user/{id}'` - Same as the previous example, but using curly brace syntax.\n * * `'/user/{id:[^/]*}'` - Same as the previous example.\n * * `'/user/{id:[0-9a-fA-F]{1,8}}'` - Similar to the previous example, but only matches if the id\n *   parameter consists of 1 to 8 hex digits.\n * * `'/files/{path:.*}'` - Matches any URL starting with '/files/' and captures the rest of the\n *   path into the parameter 'path'.\n * * `'/files/*path'` - ditto.\n * * `'/calendar/{start:date}'` - Matches \"/calendar/2014-11-12\" (because the pattern defined\n *   in the built-in  `date` Type matches `2014-11-12`) and provides a Date object in $stateParams.start\n *\n * @param {string} pattern  The pattern to compile into a matcher.\n * @param {Object} config  A configuration object hash:\n * @param {Object=} parentMatcher Used to concatenate the pattern/config onto\n *   an existing UrlMatcher\n *\n * * `caseInsensitive` - `true` if URL matching should be case insensitive, otherwise `false`, the default value (for backward compatibility) is `false`.\n * * `strict` - `false` if matching against a URL with a trailing slash should be treated as equivalent to a URL without a trailing slash, the default value is `true`.\n *\n * @property {string} prefix  A static prefix of this pattern. The matcher guarantees that any\n *   URL matching this matcher (i.e. any string for which {@link ui.router.util.type:UrlMatcher#methods_exec exec()} returns\n *   non-null) will start with this prefix.\n *\n * @property {string} source  The pattern that was passed into the constructor\n *\n * @property {string} sourcePath  The path portion of the source property\n *\n * @property {string} sourceSearch  The search portion of the source property\n *\n * @property {string} regex  The constructed regex that will be used to match against the url when\n *   it is time to determine which url will match.\n *\n * @returns {Object}  New `UrlMatcher` object\n */\nfunction UrlMatcher(pattern, config, parentMatcher) {\n  config = extend({ params: {} }, isObject(config) ? config : {});\n\n  // Find all placeholders and create a compiled pattern, using either classic or curly syntax:\n  //   '*' name\n  //   ':' name\n  //   '{' name '}'\n  //   '{' name ':' regexp '}'\n  // The regular expression is somewhat complicated due to the need to allow curly braces\n  // inside the regular expression. The placeholder regexp breaks down as follows:\n  //    ([:*])([\\w\\[\\]]+)              - classic placeholder ($1 / $2) (search version has - for snake-case)\n  //    \\{([\\w\\[\\]]+)(?:\\:\\s*( ... ))?\\}  - curly brace placeholder ($3) with optional regexp/type ... ($4) (search version has - for snake-case\n  //    (?: ... | ... | ... )+         - the regexp consists of any number of atoms, an atom being either\n  //    [^{}\\\\]+                       - anything other than curly braces or backslash\n  //    \\\\.                            - a backslash escape\n  //    \\{(?:[^{}\\\\]+|\\\\.)*\\}          - a matched set of curly braces containing other atoms\n  var placeholder       = /([:*])([\\w\\[\\]]+)|\\{([\\w\\[\\]]+)(?:\\:\\s*((?:[^{}\\\\]+|\\\\.|\\{(?:[^{}\\\\]+|\\\\.)*\\})+))?\\}/g,\n      searchPlaceholder = /([:]?)([\\w\\[\\].-]+)|\\{([\\w\\[\\].-]+)(?:\\:\\s*((?:[^{}\\\\]+|\\\\.|\\{(?:[^{}\\\\]+|\\\\.)*\\})+))?\\}/g,\n      compiled = '^', last = 0, m,\n      segments = this.segments = [],\n      parentParams = parentMatcher ? parentMatcher.params : {},\n      params = this.params = parentMatcher ? parentMatcher.params.$$new() : new $$UMFP.ParamSet(),\n      paramNames = [];\n\n  function addParameter(id, type, config, location) {\n    paramNames.push(id);\n    if (parentParams[id]) return parentParams[id];\n    if (!/^\\w+([-.]+\\w+)*(?:\\[\\])?$/.test(id)) throw new Error(\"Invalid parameter name '\" + id + \"' in pattern '\" + pattern + \"'\");\n    if (params[id]) throw new Error(\"Duplicate parameter name '\" + id + \"' in pattern '\" + pattern + \"'\");\n    params[id] = new $$UMFP.Param(id, type, config, location);\n    return params[id];\n  }\n\n  function quoteRegExp(string, pattern, squash, optional) {\n    var surroundPattern = ['',''], result = string.replace(/[\\\\\\[\\]\\^$*+?.()|{}]/g, \"\\\\$&\");\n    if (!pattern) return result;\n    switch(squash) {\n      case false: surroundPattern = ['(', ')' + (optional ? \"?\" : \"\")]; break;\n      case true:\n        result = result.replace(/\\/$/, '');\n        surroundPattern = ['(?:\\/(', ')|\\/)?'];\n      break;\n      default:    surroundPattern = ['(' + squash + \"|\", ')?']; break;\n    }\n    return result + surroundPattern[0] + pattern + surroundPattern[1];\n  }\n\n  this.source = pattern;\n\n  // Split into static segments separated by path parameter placeholders.\n  // The number of segments is always 1 more than the number of parameters.\n  function matchDetails(m, isSearch) {\n    var id, regexp, segment, type, cfg, arrayMode;\n    id          = m[2] || m[3]; // IE[78] returns '' for unmatched groups instead of null\n    cfg         = config.params[id];\n    segment     = pattern.substring(last, m.index);\n    regexp      = isSearch ? m[4] : m[4] || (m[1] == '*' ? '.*' : null);\n\n    if (regexp) {\n      type      = $$UMFP.type(regexp) || inherit($$UMFP.type(\"string\"), { pattern: new RegExp(regexp, config.caseInsensitive ? 'i' : undefined) });\n    }\n\n    return {\n      id: id, regexp: regexp, segment: segment, type: type, cfg: cfg\n    };\n  }\n\n  var p, param, segment;\n  while ((m = placeholder.exec(pattern))) {\n    p = matchDetails(m, false);\n    if (p.segment.indexOf('?') >= 0) break; // we're into the search part\n\n    param = addParameter(p.id, p.type, p.cfg, \"path\");\n    compiled += quoteRegExp(p.segment, param.type.pattern.source, param.squash, param.isOptional);\n    segments.push(p.segment);\n    last = placeholder.lastIndex;\n  }\n  segment = pattern.substring(last);\n\n  // Find any search parameter names and remove them from the last segment\n  var i = segment.indexOf('?');\n\n  if (i >= 0) {\n    var search = this.sourceSearch = segment.substring(i);\n    segment = segment.substring(0, i);\n    this.sourcePath = pattern.substring(0, last + i);\n\n    if (search.length > 0) {\n      last = 0;\n      while ((m = searchPlaceholder.exec(search))) {\n        p = matchDetails(m, true);\n        param = addParameter(p.id, p.type, p.cfg, \"search\");\n        last = placeholder.lastIndex;\n        // check if ?&\n      }\n    }\n  } else {\n    this.sourcePath = pattern;\n    this.sourceSearch = '';\n  }\n\n  compiled += quoteRegExp(segment) + (config.strict === false ? '\\/?' : '') + '$';\n  segments.push(segment);\n\n  this.regexp = new RegExp(compiled, config.caseInsensitive ? 'i' : undefined);\n  this.prefix = segments[0];\n  this.$$paramNames = paramNames;\n}\n\n/**\n * @ngdoc function\n * @name ui.router.util.type:UrlMatcher#concat\n * @methodOf ui.router.util.type:UrlMatcher\n *\n * @description\n * Returns a new matcher for a pattern constructed by appending the path part and adding the\n * search parameters of the specified pattern to this pattern. The current pattern is not\n * modified. This can be understood as creating a pattern for URLs that are relative to (or\n * suffixes of) the current pattern.\n *\n * @example\n * The following two matchers are equivalent:\n * <pre>\n * new UrlMatcher('/user/{id}?q').concat('/details?date');\n * new UrlMatcher('/user/{id}/details?q&date');\n * </pre>\n *\n * @param {string} pattern  The pattern to append.\n * @param {Object} config  An object hash of the configuration for the matcher.\n * @returns {UrlMatcher}  A matcher for the concatenated pattern.\n */\nUrlMatcher.prototype.concat = function (pattern, config) {\n  // Because order of search parameters is irrelevant, we can add our own search\n  // parameters to the end of the new pattern. Parse the new pattern by itself\n  // and then join the bits together, but it's much easier to do this on a string level.\n  var defaultConfig = {\n    caseInsensitive: $$UMFP.caseInsensitive(),\n    strict: $$UMFP.strictMode(),\n    squash: $$UMFP.defaultSquashPolicy()\n  };\n  return new UrlMatcher(this.sourcePath + pattern + this.sourceSearch, extend(defaultConfig, config), this);\n};\n\nUrlMatcher.prototype.toString = function () {\n  return this.source;\n};\n\n/**\n * @ngdoc function\n * @name ui.router.util.type:UrlMatcher#exec\n * @methodOf ui.router.util.type:UrlMatcher\n *\n * @description\n * Tests the specified path against this matcher, and returns an object containing the captured\n * parameter values, or null if the path does not match. The returned object contains the values\n * of any search parameters that are mentioned in the pattern, but their value may be null if\n * they are not present in `searchParams`. This means that search parameters are always treated\n * as optional.\n *\n * @example\n * <pre>\n * new UrlMatcher('/user/{id}?q&r').exec('/user/bob', {\n *   x: '1', q: 'hello'\n * });\n * // returns { id: 'bob', q: 'hello', r: null }\n * </pre>\n *\n * @param {string} path  The URL path to match, e.g. `$location.path()`.\n * @param {Object} searchParams  URL search parameters, e.g. `$location.search()`.\n * @returns {Object}  The captured parameter values.\n */\nUrlMatcher.prototype.exec = function (path, searchParams) {\n  var m = this.regexp.exec(path);\n  if (!m) return null;\n  searchParams = searchParams || {};\n\n  var paramNames = this.parameters(), nTotal = paramNames.length,\n    nPath = this.segments.length - 1,\n    values = {}, i, j, cfg, paramName;\n\n  if (nPath !== m.length - 1) throw new Error(\"Unbalanced capture group in route '\" + this.source + \"'\");\n\n  function decodePathArray(string) {\n    function reverseString(str) { return str.split(\"\").reverse().join(\"\"); }\n    function unquoteDashes(str) { return str.replace(/\\\\-/g, \"-\"); }\n\n    var split = reverseString(string).split(/-(?!\\\\)/);\n    var allReversed = map(split, reverseString);\n    return map(allReversed, unquoteDashes).reverse();\n  }\n\n  var param, paramVal;\n  for (i = 0; i < nPath; i++) {\n    paramName = paramNames[i];\n    param = this.params[paramName];\n    paramVal = m[i+1];\n    // if the param value matches a pre-replace pair, replace the value before decoding.\n    for (j = 0; j < param.replace.length; j++) {\n      if (param.replace[j].from === paramVal) paramVal = param.replace[j].to;\n    }\n    if (paramVal && param.array === true) paramVal = decodePathArray(paramVal);\n    if (isDefined(paramVal)) paramVal = param.type.decode(paramVal);\n    values[paramName] = param.value(paramVal);\n  }\n  for (/**/; i < nTotal; i++) {\n    paramName = paramNames[i];\n    values[paramName] = this.params[paramName].value(searchParams[paramName]);\n    param = this.params[paramName];\n    paramVal = searchParams[paramName];\n    for (j = 0; j < param.replace.length; j++) {\n      if (param.replace[j].from === paramVal) paramVal = param.replace[j].to;\n    }\n    if (isDefined(paramVal)) paramVal = param.type.decode(paramVal);\n    values[paramName] = param.value(paramVal);\n  }\n\n  return values;\n};\n\n/**\n * @ngdoc function\n * @name ui.router.util.type:UrlMatcher#parameters\n * @methodOf ui.router.util.type:UrlMatcher\n *\n * @description\n * Returns the names of all path and search parameters of this pattern in an unspecified order.\n *\n * @returns {Array.<string>}  An array of parameter names. Must be treated as read-only. If the\n *    pattern has no parameters, an empty array is returned.\n */\nUrlMatcher.prototype.parameters = function (param) {\n  if (!isDefined(param)) return this.$$paramNames;\n  return this.params[param] || null;\n};\n\n/**\n * @ngdoc function\n * @name ui.router.util.type:UrlMatcher#validates\n * @methodOf ui.router.util.type:UrlMatcher\n *\n * @description\n * Checks an object hash of parameters to validate their correctness according to the parameter\n * types of this `UrlMatcher`.\n *\n * @param {Object} params The object hash of parameters to validate.\n * @returns {boolean} Returns `true` if `params` validates, otherwise `false`.\n */\nUrlMatcher.prototype.validates = function (params) {\n  return this.params.$$validates(params);\n};\n\n/**\n * @ngdoc function\n * @name ui.router.util.type:UrlMatcher#format\n * @methodOf ui.router.util.type:UrlMatcher\n *\n * @description\n * Creates a URL that matches this pattern by substituting the specified values\n * for the path and search parameters. Null values for path parameters are\n * treated as empty strings.\n *\n * @example\n * <pre>\n * new UrlMatcher('/user/{id}?q').format({ id:'bob', q:'yes' });\n * // returns '/user/bob?q=yes'\n * </pre>\n *\n * @param {Object} values  the values to substitute for the parameters in this pattern.\n * @returns {string}  the formatted URL (path and optionally search part).\n */\nUrlMatcher.prototype.format = function (values) {\n  values = values || {};\n  var segments = this.segments, params = this.parameters(), paramset = this.params;\n  if (!this.validates(values)) return null;\n\n  var i, search = false, nPath = segments.length - 1, nTotal = params.length, result = segments[0];\n\n  function encodeDashes(str) { // Replace dashes with encoded \"\\-\"\n    return encodeURIComponent(str).replace(/-/g, function(c) { return '%5C%' + c.charCodeAt(0).toString(16).toUpperCase(); });\n  }\n\n  for (i = 0; i < nTotal; i++) {\n    var isPathParam = i < nPath;\n    var name = params[i], param = paramset[name], value = param.value(values[name]);\n    var isDefaultValue = param.isOptional && param.type.equals(param.value(), value);\n    var squash = isDefaultValue ? param.squash : false;\n    var encoded = param.type.encode(value);\n\n    if (isPathParam) {\n      var nextSegment = segments[i + 1];\n      var isFinalPathParam = i + 1 === nPath;\n\n      if (squash === false) {\n        if (encoded != null) {\n          if (isArray(encoded)) {\n            result += map(encoded, encodeDashes).join(\"-\");\n          } else {\n            result += encodeURIComponent(encoded);\n          }\n        }\n        result += nextSegment;\n      } else if (squash === true) {\n        var capture = result.match(/\\/$/) ? /\\/?(.*)/ : /(.*)/;\n        result += nextSegment.match(capture)[1];\n      } else if (isString(squash)) {\n        result += squash + nextSegment;\n      }\n\n      if (isFinalPathParam && param.squash === true && result.slice(-1) === '/') result = result.slice(0, -1);\n    } else {\n      if (encoded == null || (isDefaultValue && squash !== false)) continue;\n      if (!isArray(encoded)) encoded = [ encoded ];\n      if (encoded.length === 0) continue;\n      encoded = map(encoded, encodeURIComponent).join('&' + name + '=');\n      result += (search ? '&' : '?') + (name + '=' + encoded);\n      search = true;\n    }\n  }\n\n  return result;\n};\n\n/**\n * @ngdoc object\n * @name ui.router.util.type:Type\n *\n * @description\n * Implements an interface to define custom parameter types that can be decoded from and encoded to\n * string parameters matched in a URL. Used by {@link ui.router.util.type:UrlMatcher `UrlMatcher`}\n * objects when matching or formatting URLs, or comparing or validating parameter values.\n *\n * See {@link ui.router.util.$urlMatcherFactory#methods_type `$urlMatcherFactory#type()`} for more\n * information on registering custom types.\n *\n * @param {Object} config  A configuration object which contains the custom type definition.  The object's\n *        properties will override the default methods and/or pattern in `Type`'s public interface.\n * @example\n * <pre>\n * {\n *   decode: function(val) { return parseInt(val, 10); },\n *   encode: function(val) { return val && val.toString(); },\n *   equals: function(a, b) { return this.is(a) && a === b; },\n *   is: function(val) { return angular.isNumber(val) isFinite(val) && val % 1 === 0; },\n *   pattern: /\\d+/\n * }\n * </pre>\n *\n * @property {RegExp} pattern The regular expression pattern used to match values of this type when\n *           coming from a substring of a URL.\n *\n * @returns {Object}  Returns a new `Type` object.\n */\nfunction Type(config) {\n  extend(this, config);\n}\n\n/**\n * @ngdoc function\n * @name ui.router.util.type:Type#is\n * @methodOf ui.router.util.type:Type\n *\n * @description\n * Detects whether a value is of a particular type. Accepts a native (decoded) value\n * and determines whether it matches the current `Type` object.\n *\n * @param {*} val  The value to check.\n * @param {string} key  Optional. If the type check is happening in the context of a specific\n *        {@link ui.router.util.type:UrlMatcher `UrlMatcher`} object, this is the name of the\n *        parameter in which `val` is stored. Can be used for meta-programming of `Type` objects.\n * @returns {Boolean}  Returns `true` if the value matches the type, otherwise `false`.\n */\nType.prototype.is = function(val, key) {\n  return true;\n};\n\n/**\n * @ngdoc function\n * @name ui.router.util.type:Type#encode\n * @methodOf ui.router.util.type:Type\n *\n * @description\n * Encodes a custom/native type value to a string that can be embedded in a URL. Note that the\n * return value does *not* need to be URL-safe (i.e. passed through `encodeURIComponent()`), it\n * only needs to be a representation of `val` that has been coerced to a string.\n *\n * @param {*} val  The value to encode.\n * @param {string} key  The name of the parameter in which `val` is stored. Can be used for\n *        meta-programming of `Type` objects.\n * @returns {string}  Returns a string representation of `val` that can be encoded in a URL.\n */\nType.prototype.encode = function(val, key) {\n  return val;\n};\n\n/**\n * @ngdoc function\n * @name ui.router.util.type:Type#decode\n * @methodOf ui.router.util.type:Type\n *\n * @description\n * Converts a parameter value (from URL string or transition param) to a custom/native value.\n *\n * @param {string} val  The URL parameter value to decode.\n * @param {string} key  The name of the parameter in which `val` is stored. Can be used for\n *        meta-programming of `Type` objects.\n * @returns {*}  Returns a custom representation of the URL parameter value.\n */\nType.prototype.decode = function(val, key) {\n  return val;\n};\n\n/**\n * @ngdoc function\n * @name ui.router.util.type:Type#equals\n * @methodOf ui.router.util.type:Type\n *\n * @description\n * Determines whether two decoded values are equivalent.\n *\n * @param {*} a  A value to compare against.\n * @param {*} b  A value to compare against.\n * @returns {Boolean}  Returns `true` if the values are equivalent/equal, otherwise `false`.\n */\nType.prototype.equals = function(a, b) {\n  return a == b;\n};\n\nType.prototype.$subPattern = function() {\n  var sub = this.pattern.toString();\n  return sub.substr(1, sub.length - 2);\n};\n\nType.prototype.pattern = /.*/;\n\nType.prototype.toString = function() { return \"{Type:\" + this.name + \"}\"; };\n\n/** Given an encoded string, or a decoded object, returns a decoded object */\nType.prototype.$normalize = function(val) {\n  return this.is(val) ? val : this.decode(val);\n};\n\n/*\n * Wraps an existing custom Type as an array of Type, depending on 'mode'.\n * e.g.:\n * - urlmatcher pattern \"/path?{queryParam[]:int}\"\n * - url: \"/path?queryParam=1&queryParam=2\n * - $stateParams.queryParam will be [1, 2]\n * if `mode` is \"auto\", then\n * - url: \"/path?queryParam=1 will create $stateParams.queryParam: 1\n * - url: \"/path?queryParam=1&queryParam=2 will create $stateParams.queryParam: [1, 2]\n */\nType.prototype.$asArray = function(mode, isSearch) {\n  if (!mode) return this;\n  if (mode === \"auto\" && !isSearch) throw new Error(\"'auto' array mode is for query parameters only\");\n\n  function ArrayType(type, mode) {\n    function bindTo(type, callbackName) {\n      return function() {\n        return type[callbackName].apply(type, arguments);\n      };\n    }\n\n    // Wrap non-array value as array\n    function arrayWrap(val) { return isArray(val) ? val : (isDefined(val) ? [ val ] : []); }\n    // Unwrap array value for \"auto\" mode. Return undefined for empty array.\n    function arrayUnwrap(val) {\n      switch(val.length) {\n        case 0: return undefined;\n        case 1: return mode === \"auto\" ? val[0] : val;\n        default: return val;\n      }\n    }\n    function falsey(val) { return !val; }\n\n    // Wraps type (.is/.encode/.decode) functions to operate on each value of an array\n    function arrayHandler(callback, allTruthyMode) {\n      return function handleArray(val) {\n        if (isArray(val) && val.length === 0) return val;\n        val = arrayWrap(val);\n        var result = map(val, callback);\n        if (allTruthyMode === true)\n          return filter(result, falsey).length === 0;\n        return arrayUnwrap(result);\n      };\n    }\n\n    // Wraps type (.equals) functions to operate on each value of an array\n    function arrayEqualsHandler(callback) {\n      return function handleArray(val1, val2) {\n        var left = arrayWrap(val1), right = arrayWrap(val2);\n        if (left.length !== right.length) return false;\n        for (var i = 0; i < left.length; i++) {\n          if (!callback(left[i], right[i])) return false;\n        }\n        return true;\n      };\n    }\n\n    this.encode = arrayHandler(bindTo(type, 'encode'));\n    this.decode = arrayHandler(bindTo(type, 'decode'));\n    this.is     = arrayHandler(bindTo(type, 'is'), true);\n    this.equals = arrayEqualsHandler(bindTo(type, 'equals'));\n    this.pattern = type.pattern;\n    this.$normalize = arrayHandler(bindTo(type, '$normalize'));\n    this.name = type.name;\n    this.$arrayMode = mode;\n  }\n\n  return new ArrayType(this, mode);\n};\n\n\n\n/**\n * @ngdoc object\n * @name ui.router.util.$urlMatcherFactory\n *\n * @description\n * Factory for {@link ui.router.util.type:UrlMatcher `UrlMatcher`} instances. The factory\n * is also available to providers under the name `$urlMatcherFactoryProvider`.\n */\nfunction $UrlMatcherFactory() {\n  $$UMFP = this;\n\n  var isCaseInsensitive = false, isStrictMode = true, defaultSquashPolicy = false;\n\n  // Use tildes to pre-encode slashes.\n  // If the slashes are simply URLEncoded, the browser can choose to pre-decode them,\n  // and bidirectional encoding/decoding fails.\n  // Tilde was chosen because it's not a RFC 3986 section 2.2 Reserved Character\n  function valToString(val) { return val != null ? val.toString().replace(/(~|\\/)/g, function (m) { return {'~':'~~', '/':'~2F'}[m]; }) : val; }\n  function valFromString(val) { return val != null ? val.toString().replace(/(~~|~2F)/g, function (m) { return {'~~':'~', '~2F':'/'}[m]; }) : val; }\n\n  var $types = {}, enqueue = true, typeQueue = [], injector, defaultTypes = {\n    \"string\": {\n      encode: valToString,\n      decode: valFromString,\n      // TODO: in 1.0, make string .is() return false if value is undefined/null by default.\n      // In 0.2.x, string params are optional by default for backwards compat\n      is: function(val) { return val == null || !isDefined(val) || typeof val === \"string\"; },\n      pattern: /[^/]*/\n    },\n    \"int\": {\n      encode: valToString,\n      decode: function(val) { return parseInt(val, 10); },\n      is: function(val) { return val !== undefined && val !== null && this.decode(val.toString()) === val; },\n      pattern: /\\d+/\n    },\n    \"bool\": {\n      encode: function(val) { return val ? 1 : 0; },\n      decode: function(val) { return parseInt(val, 10) !== 0; },\n      is: function(val) { return val === true || val === false; },\n      pattern: /0|1/\n    },\n    \"date\": {\n      encode: function (val) {\n        if (!this.is(val))\n          return undefined;\n        return [ val.getFullYear(),\n          ('0' + (val.getMonth() + 1)).slice(-2),\n          ('0' + val.getDate()).slice(-2)\n        ].join(\"-\");\n      },\n      decode: function (val) {\n        if (this.is(val)) return val;\n        var match = this.capture.exec(val);\n        return match ? new Date(match[1], match[2] - 1, match[3]) : undefined;\n      },\n      is: function(val) { return val instanceof Date && !isNaN(val.valueOf()); },\n      equals: function (a, b) { return this.is(a) && this.is(b) && a.toISOString() === b.toISOString(); },\n      pattern: /[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,\n      capture: /([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/\n    },\n    \"json\": {\n      encode: angular.toJson,\n      decode: angular.fromJson,\n      is: angular.isObject,\n      equals: angular.equals,\n      pattern: /[^/]*/\n    },\n    \"any\": { // does not encode/decode\n      encode: angular.identity,\n      decode: angular.identity,\n      equals: angular.equals,\n      pattern: /.*/\n    }\n  };\n\n  function getDefaultConfig() {\n    return {\n      strict: isStrictMode,\n      caseInsensitive: isCaseInsensitive\n    };\n  }\n\n  function isInjectable(value) {\n    return (isFunction(value) || (isArray(value) && isFunction(value[value.length - 1])));\n  }\n\n  /**\n   * [Internal] Get the default value of a parameter, which may be an injectable function.\n   */\n  $UrlMatcherFactory.$$getDefaultValue = function(config) {\n    if (!isInjectable(config.value)) return config.value;\n    if (!injector) throw new Error(\"Injectable functions cannot be called at configuration time\");\n    return injector.invoke(config.value);\n  };\n\n  /**\n   * @ngdoc function\n   * @name ui.router.util.$urlMatcherFactory#caseInsensitive\n   * @methodOf ui.router.util.$urlMatcherFactory\n   *\n   * @description\n   * Defines whether URL matching should be case sensitive (the default behavior), or not.\n   *\n   * @param {boolean} value `false` to match URL in a case sensitive manner; otherwise `true`;\n   * @returns {boolean} the current value of caseInsensitive\n   */\n  this.caseInsensitive = function(value) {\n    if (isDefined(value))\n      isCaseInsensitive = value;\n    return isCaseInsensitive;\n  };\n\n  /**\n   * @ngdoc function\n   * @name ui.router.util.$urlMatcherFactory#strictMode\n   * @methodOf ui.router.util.$urlMatcherFactory\n   *\n   * @description\n   * Defines whether URLs should match trailing slashes, or not (the default behavior).\n   *\n   * @param {boolean=} value `false` to match trailing slashes in URLs, otherwise `true`.\n   * @returns {boolean} the current value of strictMode\n   */\n  this.strictMode = function(value) {\n    if (isDefined(value))\n      isStrictMode = value;\n    return isStrictMode;\n  };\n\n  /**\n   * @ngdoc function\n   * @name ui.router.util.$urlMatcherFactory#defaultSquashPolicy\n   * @methodOf ui.router.util.$urlMatcherFactory\n   *\n   * @description\n   * Sets the default behavior when generating or matching URLs with default parameter values.\n   *\n   * @param {string} value A string that defines the default parameter URL squashing behavior.\n   *    `nosquash`: When generating an href with a default parameter value, do not squash the parameter value from the URL\n   *    `slash`: When generating an href with a default parameter value, squash (remove) the parameter value, and, if the\n   *             parameter is surrounded by slashes, squash (remove) one slash from the URL\n   *    any other string, e.g. \"~\": When generating an href with a default parameter value, squash (remove)\n   *             the parameter value from the URL and replace it with this string.\n   */\n  this.defaultSquashPolicy = function(value) {\n    if (!isDefined(value)) return defaultSquashPolicy;\n    if (value !== true && value !== false && !isString(value))\n      throw new Error(\"Invalid squash policy: \" + value + \". Valid policies: false, true, arbitrary-string\");\n    defaultSquashPolicy = value;\n    return value;\n  };\n\n  /**\n   * @ngdoc function\n   * @name ui.router.util.$urlMatcherFactory#compile\n   * @methodOf ui.router.util.$urlMatcherFactory\n   *\n   * @description\n   * Creates a {@link ui.router.util.type:UrlMatcher `UrlMatcher`} for the specified pattern.\n   *\n   * @param {string} pattern  The URL pattern.\n   * @param {Object} config  The config object hash.\n   * @returns {UrlMatcher}  The UrlMatcher.\n   */\n  this.compile = function (pattern, config) {\n    return new UrlMatcher(pattern, extend(getDefaultConfig(), config));\n  };\n\n  /**\n   * @ngdoc function\n   * @name ui.router.util.$urlMatcherFactory#isMatcher\n   * @methodOf ui.router.util.$urlMatcherFactory\n   *\n   * @description\n   * Returns true if the specified object is a `UrlMatcher`, or false otherwise.\n   *\n   * @param {Object} object  The object to perform the type check against.\n   * @returns {Boolean}  Returns `true` if the object matches the `UrlMatcher` interface, by\n   *          implementing all the same methods.\n   */\n  this.isMatcher = function (o) {\n    if (!isObject(o)) return false;\n    var result = true;\n\n    forEach(UrlMatcher.prototype, function(val, name) {\n      if (isFunction(val)) {\n        result = result && (isDefined(o[name]) && isFunction(o[name]));\n      }\n    });\n    return result;\n  };\n\n  /**\n   * @ngdoc function\n   * @name ui.router.util.$urlMatcherFactory#type\n   * @methodOf ui.router.util.$urlMatcherFactory\n   *\n   * @description\n   * Registers a custom {@link ui.router.util.type:Type `Type`} object that can be used to\n   * generate URLs with typed parameters.\n   *\n   * @param {string} name  The type name.\n   * @param {Object|Function} definition   The type definition. See\n   *        {@link ui.router.util.type:Type `Type`} for information on the values accepted.\n   * @param {Object|Function} definitionFn (optional) A function that is injected before the app\n   *        runtime starts.  The result of this function is merged into the existing `definition`.\n   *        See {@link ui.router.util.type:Type `Type`} for information on the values accepted.\n   *\n   * @returns {Object}  Returns `$urlMatcherFactoryProvider`.\n   *\n   * @example\n   * This is a simple example of a custom type that encodes and decodes items from an\n   * array, using the array index as the URL-encoded value:\n   *\n   * <pre>\n   * var list = ['John', 'Paul', 'George', 'Ringo'];\n   *\n   * $urlMatcherFactoryProvider.type('listItem', {\n   *   encode: function(item) {\n   *     // Represent the list item in the URL using its corresponding index\n   *     return list.indexOf(item);\n   *   },\n   *   decode: function(item) {\n   *     // Look up the list item by index\n   *     return list[parseInt(item, 10)];\n   *   },\n   *   is: function(item) {\n   *     // Ensure the item is valid by checking to see that it appears\n   *     // in the list\n   *     return list.indexOf(item) > -1;\n   *   }\n   * });\n   *\n   * $stateProvider.state('list', {\n   *   url: \"/list/{item:listItem}\",\n   *   controller: function($scope, $stateParams) {\n   *     console.log($stateParams.item);\n   *   }\n   * });\n   *\n   * // ...\n   *\n   * // Changes URL to '/list/3', logs \"Ringo\" to the console\n   * $state.go('list', { item: \"Ringo\" });\n   * </pre>\n   *\n   * This is a more complex example of a type that relies on dependency injection to\n   * interact with services, and uses the parameter name from the URL to infer how to\n   * handle encoding and decoding parameter values:\n   *\n   * <pre>\n   * // Defines a custom type that gets a value from a service,\n   * // where each service gets different types of values from\n   * // a backend API:\n   * $urlMatcherFactoryProvider.type('dbObject', {}, function(Users, Posts) {\n   *\n   *   // Matches up services to URL parameter names\n   *   var services = {\n   *     user: Users,\n   *     post: Posts\n   *   };\n   *\n   *   return {\n   *     encode: function(object) {\n   *       // Represent the object in the URL using its unique ID\n   *       return object.id;\n   *     },\n   *     decode: function(value, key) {\n   *       // Look up the object by ID, using the parameter\n   *       // name (key) to call the correct service\n   *       return services[key].findById(value);\n   *     },\n   *     is: function(object, key) {\n   *       // Check that object is a valid dbObject\n   *       return angular.isObject(object) && object.id && services[key];\n   *     }\n   *     equals: function(a, b) {\n   *       // Check the equality of decoded objects by comparing\n   *       // their unique IDs\n   *       return a.id === b.id;\n   *     }\n   *   };\n   * });\n   *\n   * // In a config() block, you can then attach URLs with\n   * // type-annotated parameters:\n   * $stateProvider.state('users', {\n   *   url: \"/users\",\n   *   // ...\n   * }).state('users.item', {\n   *   url: \"/{user:dbObject}\",\n   *   controller: function($scope, $stateParams) {\n   *     // $stateParams.user will now be an object returned from\n   *     // the Users service\n   *   },\n   *   // ...\n   * });\n   * </pre>\n   */\n  this.type = function (name, definition, definitionFn) {\n    if (!isDefined(definition)) return $types[name];\n    if ($types.hasOwnProperty(name)) throw new Error(\"A type named '\" + name + \"' has already been defined.\");\n\n    $types[name] = new Type(extend({ name: name }, definition));\n    if (definitionFn) {\n      typeQueue.push({ name: name, def: definitionFn });\n      if (!enqueue) flushTypeQueue();\n    }\n    return this;\n  };\n\n  // `flushTypeQueue()` waits until `$urlMatcherFactory` is injected before invoking the queued `definitionFn`s\n  function flushTypeQueue() {\n    while(typeQueue.length) {\n      var type = typeQueue.shift();\n      if (type.pattern) throw new Error(\"You cannot override a type's .pattern at runtime.\");\n      angular.extend($types[type.name], injector.invoke(type.def));\n    }\n  }\n\n  // Register default types. Store them in the prototype of $types.\n  forEach(defaultTypes, function(type, name) { $types[name] = new Type(extend({name: name}, type)); });\n  $types = inherit($types, {});\n\n  /* No need to document $get, since it returns this */\n  this.$get = ['$injector', function ($injector) {\n    injector = $injector;\n    enqueue = false;\n    flushTypeQueue();\n\n    forEach(defaultTypes, function(type, name) {\n      if (!$types[name]) $types[name] = new Type(type);\n    });\n    return this;\n  }];\n\n  this.Param = function Param(id, type, config, location) {\n    var self = this;\n    config = unwrapShorthand(config);\n    type = getType(config, type, location);\n    var arrayMode = getArrayMode();\n    type = arrayMode ? type.$asArray(arrayMode, location === \"search\") : type;\n    if (type.name === \"string\" && !arrayMode && location === \"path\" && config.value === undefined)\n      config.value = \"\"; // for 0.2.x; in 0.3.0+ do not automatically default to \"\"\n    var isOptional = config.value !== undefined;\n    var squash = getSquashPolicy(config, isOptional);\n    var replace = getReplace(config, arrayMode, isOptional, squash);\n\n    function unwrapShorthand(config) {\n      var keys = isObject(config) ? objectKeys(config) : [];\n      var isShorthand = indexOf(keys, \"value\") === -1 && indexOf(keys, \"type\") === -1 &&\n                        indexOf(keys, \"squash\") === -1 && indexOf(keys, \"array\") === -1;\n      if (isShorthand) config = { value: config };\n      config.$$fn = isInjectable(config.value) ? config.value : function () { return config.value; };\n      return config;\n    }\n\n    function getType(config, urlType, location) {\n      if (config.type && urlType) throw new Error(\"Param '\"+id+\"' has two type configurations.\");\n      if (urlType) return urlType;\n      if (!config.type) return (location === \"config\" ? $types.any : $types.string);\n\n      if (angular.isString(config.type))\n        return $types[config.type];\n      if (config.type instanceof Type)\n        return config.type;\n      return new Type(config.type);\n    }\n\n    // array config: param name (param[]) overrides default settings.  explicit config overrides param name.\n    function getArrayMode() {\n      var arrayDefaults = { array: (location === \"search\" ? \"auto\" : false) };\n      var arrayParamNomenclature = id.match(/\\[\\]$/) ? { array: true } : {};\n      return extend(arrayDefaults, arrayParamNomenclature, config).array;\n    }\n\n    /**\n     * returns false, true, or the squash value to indicate the \"default parameter url squash policy\".\n     */\n    function getSquashPolicy(config, isOptional) {\n      var squash = config.squash;\n      if (!isOptional || squash === false) return false;\n      if (!isDefined(squash) || squash == null) return defaultSquashPolicy;\n      if (squash === true || isString(squash)) return squash;\n      throw new Error(\"Invalid squash policy: '\" + squash + \"'. Valid policies: false, true, or arbitrary string\");\n    }\n\n    function getReplace(config, arrayMode, isOptional, squash) {\n      var replace, configuredKeys, defaultPolicy = [\n        { from: \"\",   to: (isOptional || arrayMode ? undefined : \"\") },\n        { from: null, to: (isOptional || arrayMode ? undefined : \"\") }\n      ];\n      replace = isArray(config.replace) ? config.replace : [];\n      if (isString(squash))\n        replace.push({ from: squash, to: undefined });\n      configuredKeys = map(replace, function(item) { return item.from; } );\n      return filter(defaultPolicy, function(item) { return indexOf(configuredKeys, item.from) === -1; }).concat(replace);\n    }\n\n    /**\n     * [Internal] Get the default value of a parameter, which may be an injectable function.\n     */\n    function $$getDefaultValue() {\n      if (!injector) throw new Error(\"Injectable functions cannot be called at configuration time\");\n      var defaultValue = injector.invoke(config.$$fn);\n      if (defaultValue !== null && defaultValue !== undefined && !self.type.is(defaultValue))\n        throw new Error(\"Default value (\" + defaultValue + \") for parameter '\" + self.id + \"' is not an instance of Type (\" + self.type.name + \")\");\n      return defaultValue;\n    }\n\n    /**\n     * [Internal] Gets the decoded representation of a value if the value is defined, otherwise, returns the\n     * default value, which may be the result of an injectable function.\n     */\n    function $value(value) {\n      function hasReplaceVal(val) { return function(obj) { return obj.from === val; }; }\n      function $replace(value) {\n        var replacement = map(filter(self.replace, hasReplaceVal(value)), function(obj) { return obj.to; });\n        return replacement.length ? replacement[0] : value;\n      }\n      value = $replace(value);\n      return !isDefined(value) ? $$getDefaultValue() : self.type.$normalize(value);\n    }\n\n    function toString() { return \"{Param:\" + id + \" \" + type + \" squash: '\" + squash + \"' optional: \" + isOptional + \"}\"; }\n\n    extend(this, {\n      id: id,\n      type: type,\n      location: location,\n      array: arrayMode,\n      squash: squash,\n      replace: replace,\n      isOptional: isOptional,\n      value: $value,\n      dynamic: undefined,\n      config: config,\n      toString: toString\n    });\n  };\n\n  function ParamSet(params) {\n    extend(this, params || {});\n  }\n\n  ParamSet.prototype = {\n    $$new: function() {\n      return inherit(this, extend(new ParamSet(), { $$parent: this}));\n    },\n    $$keys: function () {\n      var keys = [], chain = [], parent = this,\n        ignore = objectKeys(ParamSet.prototype);\n      while (parent) { chain.push(parent); parent = parent.$$parent; }\n      chain.reverse();\n      forEach(chain, function(paramset) {\n        forEach(objectKeys(paramset), function(key) {\n            if (indexOf(keys, key) === -1 && indexOf(ignore, key) === -1) keys.push(key);\n        });\n      });\n      return keys;\n    },\n    $$values: function(paramValues) {\n      var values = {}, self = this;\n      forEach(self.$$keys(), function(key) {\n        values[key] = self[key].value(paramValues && paramValues[key]);\n      });\n      return values;\n    },\n    $$equals: function(paramValues1, paramValues2) {\n      var equal = true, self = this;\n      forEach(self.$$keys(), function(key) {\n        var left = paramValues1 && paramValues1[key], right = paramValues2 && paramValues2[key];\n        if (!self[key].type.equals(left, right)) equal = false;\n      });\n      return equal;\n    },\n    $$validates: function $$validate(paramValues) {\n      var keys = this.$$keys(), i, param, rawVal, normalized, encoded;\n      for (i = 0; i < keys.length; i++) {\n        param = this[keys[i]];\n        rawVal = paramValues[keys[i]];\n        if ((rawVal === undefined || rawVal === null) && param.isOptional)\n          break; // There was no parameter value, but the param is optional\n        normalized = param.type.$normalize(rawVal);\n        if (!param.type.is(normalized))\n          return false; // The value was not of the correct Type, and could not be decoded to the correct Type\n        encoded = param.type.encode(normalized);\n        if (angular.isString(encoded) && !param.type.pattern.exec(encoded))\n          return false; // The value was of the correct type, but when encoded, did not match the Type's regexp\n      }\n      return true;\n    },\n    $$parent: undefined\n  };\n\n  this.ParamSet = ParamSet;\n}\n\n// Register as a provider so it's available to other providers\nangular.module('ui.router.util').provider('$urlMatcherFactory', $UrlMatcherFactory);\nangular.module('ui.router.util').run(['$urlMatcherFactory', function($urlMatcherFactory) { }]);\n\n/**\n * @ngdoc object\n * @name ui.router.router.$urlRouterProvider\n *\n * @requires ui.router.util.$urlMatcherFactoryProvider\n * @requires $locationProvider\n *\n * @description\n * `$urlRouterProvider` has the responsibility of watching `$location`. \n * When `$location` changes it runs through a list of rules one by one until a \n * match is found. `$urlRouterProvider` is used behind the scenes anytime you specify \n * a url in a state configuration. All urls are compiled into a UrlMatcher object.\n *\n * There are several methods on `$urlRouterProvider` that make it useful to use directly\n * in your module config.\n */\n$UrlRouterProvider.$inject = ['$locationProvider', '$urlMatcherFactoryProvider'];\nfunction $UrlRouterProvider(   $locationProvider,   $urlMatcherFactory) {\n  var rules = [], otherwise = null, interceptDeferred = false, listener;\n\n  // Returns a string that is a prefix of all strings matching the RegExp\n  function regExpPrefix(re) {\n    var prefix = /^\\^((?:\\\\[^a-zA-Z0-9]|[^\\\\\\[\\]\\^$*+?.()|{}]+)*)/.exec(re.source);\n    return (prefix != null) ? prefix[1].replace(/\\\\(.)/g, \"$1\") : '';\n  }\n\n  // Interpolates matched values into a String.replace()-style pattern\n  function interpolate(pattern, match) {\n    return pattern.replace(/\\$(\\$|\\d{1,2})/, function (m, what) {\n      return match[what === '$' ? 0 : Number(what)];\n    });\n  }\n\n  /**\n   * @ngdoc function\n   * @name ui.router.router.$urlRouterProvider#rule\n   * @methodOf ui.router.router.$urlRouterProvider\n   *\n   * @description\n   * Defines rules that are used by `$urlRouterProvider` to find matches for\n   * specific URLs.\n   *\n   * @example\n   * <pre>\n   * var app = angular.module('app', ['ui.router.router']);\n   *\n   * app.config(function ($urlRouterProvider) {\n   *   // Here's an example of how you might allow case insensitive urls\n   *   $urlRouterProvider.rule(function ($injector, $location) {\n   *     var path = $location.path(),\n   *         normalized = path.toLowerCase();\n   *\n   *     if (path !== normalized) {\n   *       return normalized;\n   *     }\n   *   });\n   * });\n   * </pre>\n   *\n   * @param {function} rule Handler function that takes `$injector` and `$location`\n   * services as arguments. You can use them to return a valid path as a string.\n   *\n   * @return {object} `$urlRouterProvider` - `$urlRouterProvider` instance\n   */\n  this.rule = function (rule) {\n    if (!isFunction(rule)) throw new Error(\"'rule' must be a function\");\n    rules.push(rule);\n    return this;\n  };\n\n  /**\n   * @ngdoc object\n   * @name ui.router.router.$urlRouterProvider#otherwise\n   * @methodOf ui.router.router.$urlRouterProvider\n   *\n   * @description\n   * Defines a path that is used when an invalid route is requested.\n   *\n   * @example\n   * <pre>\n   * var app = angular.module('app', ['ui.router.router']);\n   *\n   * app.config(function ($urlRouterProvider) {\n   *   // if the path doesn't match any of the urls you configured\n   *   // otherwise will take care of routing the user to the\n   *   // specified url\n   *   $urlRouterProvider.otherwise('/index');\n   *\n   *   // Example of using function rule as param\n   *   $urlRouterProvider.otherwise(function ($injector, $location) {\n   *     return '/a/valid/url';\n   *   });\n   * });\n   * </pre>\n   *\n   * @param {string|function} rule The url path you want to redirect to or a function \n   * rule that returns the url path. The function version is passed two params: \n   * `$injector` and `$location` services, and must return a url string.\n   *\n   * @return {object} `$urlRouterProvider` - `$urlRouterProvider` instance\n   */\n  this.otherwise = function (rule) {\n    if (isString(rule)) {\n      var redirect = rule;\n      rule = function () { return redirect; };\n    }\n    else if (!isFunction(rule)) throw new Error(\"'rule' must be a function\");\n    otherwise = rule;\n    return this;\n  };\n\n\n  function handleIfMatch($injector, handler, match) {\n    if (!match) return false;\n    var result = $injector.invoke(handler, handler, { $match: match });\n    return isDefined(result) ? result : true;\n  }\n\n  /**\n   * @ngdoc function\n   * @name ui.router.router.$urlRouterProvider#when\n   * @methodOf ui.router.router.$urlRouterProvider\n   *\n   * @description\n   * Registers a handler for a given url matching. \n   * \n   * If the handler is a string, it is\n   * treated as a redirect, and is interpolated according to the syntax of match\n   * (i.e. like `String.replace()` for `RegExp`, or like a `UrlMatcher` pattern otherwise).\n   *\n   * If the handler is a function, it is injectable. It gets invoked if `$location`\n   * matches. You have the option of inject the match object as `$match`.\n   *\n   * The handler can return\n   *\n   * - **falsy** to indicate that the rule didn't match after all, then `$urlRouter`\n   *   will continue trying to find another one that matches.\n   * - **string** which is treated as a redirect and passed to `$location.url()`\n   * - **void** or any **truthy** value tells `$urlRouter` that the url was handled.\n   *\n   * @example\n   * <pre>\n   * var app = angular.module('app', ['ui.router.router']);\n   *\n   * app.config(function ($urlRouterProvider) {\n   *   $urlRouterProvider.when($state.url, function ($match, $stateParams) {\n   *     if ($state.$current.navigable !== state ||\n   *         !equalForKeys($match, $stateParams) {\n   *      $state.transitionTo(state, $match, false);\n   *     }\n   *   });\n   * });\n   * </pre>\n   *\n   * @param {string|object} what The incoming path that you want to redirect.\n   * @param {string|function} handler The path you want to redirect your user to.\n   */\n  this.when = function (what, handler) {\n    var redirect, handlerIsString = isString(handler);\n    if (isString(what)) what = $urlMatcherFactory.compile(what);\n\n    if (!handlerIsString && !isFunction(handler) && !isArray(handler))\n      throw new Error(\"invalid 'handler' in when()\");\n\n    var strategies = {\n      matcher: function (what, handler) {\n        if (handlerIsString) {\n          redirect = $urlMatcherFactory.compile(handler);\n          handler = ['$match', function ($match) { return redirect.format($match); }];\n        }\n        return extend(function ($injector, $location) {\n          return handleIfMatch($injector, handler, what.exec($location.path(), $location.search()));\n        }, {\n          prefix: isString(what.prefix) ? what.prefix : ''\n        });\n      },\n      regex: function (what, handler) {\n        if (what.global || what.sticky) throw new Error(\"when() RegExp must not be global or sticky\");\n\n        if (handlerIsString) {\n          redirect = handler;\n          handler = ['$match', function ($match) { return interpolate(redirect, $match); }];\n        }\n        return extend(function ($injector, $location) {\n          return handleIfMatch($injector, handler, what.exec($location.path()));\n        }, {\n          prefix: regExpPrefix(what)\n        });\n      }\n    };\n\n    var check = { matcher: $urlMatcherFactory.isMatcher(what), regex: what instanceof RegExp };\n\n    for (var n in check) {\n      if (check[n]) return this.rule(strategies[n](what, handler));\n    }\n\n    throw new Error(\"invalid 'what' in when()\");\n  };\n\n  /**\n   * @ngdoc function\n   * @name ui.router.router.$urlRouterProvider#deferIntercept\n   * @methodOf ui.router.router.$urlRouterProvider\n   *\n   * @description\n   * Disables (or enables) deferring location change interception.\n   *\n   * If you wish to customize the behavior of syncing the URL (for example, if you wish to\n   * defer a transition but maintain the current URL), call this method at configuration time.\n   * Then, at run time, call `$urlRouter.listen()` after you have configured your own\n   * `$locationChangeSuccess` event handler.\n   *\n   * @example\n   * <pre>\n   * var app = angular.module('app', ['ui.router.router']);\n   *\n   * app.config(function ($urlRouterProvider) {\n   *\n   *   // Prevent $urlRouter from automatically intercepting URL changes;\n   *   // this allows you to configure custom behavior in between\n   *   // location changes and route synchronization:\n   *   $urlRouterProvider.deferIntercept();\n   *\n   * }).run(function ($rootScope, $urlRouter, UserService) {\n   *\n   *   $rootScope.$on('$locationChangeSuccess', function(e) {\n   *     // UserService is an example service for managing user state\n   *     if (UserService.isLoggedIn()) return;\n   *\n   *     // Prevent $urlRouter's default handler from firing\n   *     e.preventDefault();\n   *\n   *     UserService.handleLogin().then(function() {\n   *       // Once the user has logged in, sync the current URL\n   *       // to the router:\n   *       $urlRouter.sync();\n   *     });\n   *   });\n   *\n   *   // Configures $urlRouter's listener *after* your custom listener\n   *   $urlRouter.listen();\n   * });\n   * </pre>\n   *\n   * @param {boolean} defer Indicates whether to defer location change interception. Passing\n            no parameter is equivalent to `true`.\n   */\n  this.deferIntercept = function (defer) {\n    if (defer === undefined) defer = true;\n    interceptDeferred = defer;\n  };\n\n  /**\n   * @ngdoc object\n   * @name ui.router.router.$urlRouter\n   *\n   * @requires $location\n   * @requires $rootScope\n   * @requires $injector\n   * @requires $browser\n   *\n   * @description\n   *\n   */\n  this.$get = $get;\n  $get.$inject = ['$location', '$rootScope', '$injector', '$browser', '$sniffer'];\n  function $get(   $location,   $rootScope,   $injector,   $browser,   $sniffer) {\n\n    var baseHref = $browser.baseHref(), location = $location.url(), lastPushedUrl;\n\n    function appendBasePath(url, isHtml5, absolute) {\n      if (baseHref === '/') return url;\n      if (isHtml5) return baseHref.slice(0, -1) + url;\n      if (absolute) return baseHref.slice(1) + url;\n      return url;\n    }\n\n    // TODO: Optimize groups of rules with non-empty prefix into some sort of decision tree\n    function update(evt) {\n      if (evt && evt.defaultPrevented) return;\n      var ignoreUpdate = lastPushedUrl && $location.url() === lastPushedUrl;\n      lastPushedUrl = undefined;\n      // TODO: Re-implement this in 1.0 for https://github.com/angular-ui/ui-router/issues/1573\n      //if (ignoreUpdate) return true;\n\n      function check(rule) {\n        var handled = rule($injector, $location);\n\n        if (!handled) return false;\n        if (isString(handled)) $location.replace().url(handled);\n        return true;\n      }\n      var n = rules.length, i;\n\n      for (i = 0; i < n; i++) {\n        if (check(rules[i])) return;\n      }\n      // always check otherwise last to allow dynamic updates to the set of rules\n      if (otherwise) check(otherwise);\n    }\n\n    function listen() {\n      listener = listener || $rootScope.$on('$locationChangeSuccess', update);\n      return listener;\n    }\n\n    if (!interceptDeferred) listen();\n\n    return {\n      /**\n       * @ngdoc function\n       * @name ui.router.router.$urlRouter#sync\n       * @methodOf ui.router.router.$urlRouter\n       *\n       * @description\n       * Triggers an update; the same update that happens when the address bar url changes, aka `$locationChangeSuccess`.\n       * This method is useful when you need to use `preventDefault()` on the `$locationChangeSuccess` event,\n       * perform some custom logic (route protection, auth, config, redirection, etc) and then finally proceed\n       * with the transition by calling `$urlRouter.sync()`.\n       *\n       * @example\n       * <pre>\n       * angular.module('app', ['ui.router'])\n       *   .run(function($rootScope, $urlRouter) {\n       *     $rootScope.$on('$locationChangeSuccess', function(evt) {\n       *       // Halt state change from even starting\n       *       evt.preventDefault();\n       *       // Perform custom logic\n       *       var meetsRequirement = ...\n       *       // Continue with the update and state transition if logic allows\n       *       if (meetsRequirement) $urlRouter.sync();\n       *     });\n       * });\n       * </pre>\n       */\n      sync: function() {\n        update();\n      },\n\n      listen: function() {\n        return listen();\n      },\n\n      update: function(read) {\n        if (read) {\n          location = $location.url();\n          return;\n        }\n        if ($location.url() === location) return;\n\n        $location.url(location);\n        $location.replace();\n      },\n\n      push: function(urlMatcher, params, options) {\n         var url = urlMatcher.format(params || {});\n\n        // Handle the special hash param, if needed\n        if (url !== null && params && params['#']) {\n            url += '#' + params['#'];\n        }\n\n        $location.url(url);\n        lastPushedUrl = options && options.$$avoidResync ? $location.url() : undefined;\n        if (options && options.replace) $location.replace();\n      },\n\n      /**\n       * @ngdoc function\n       * @name ui.router.router.$urlRouter#href\n       * @methodOf ui.router.router.$urlRouter\n       *\n       * @description\n       * A URL generation method that returns the compiled URL for a given\n       * {@link ui.router.util.type:UrlMatcher `UrlMatcher`}, populated with the provided parameters.\n       *\n       * @example\n       * <pre>\n       * $bob = $urlRouter.href(new UrlMatcher(\"/about/:person\"), {\n       *   person: \"bob\"\n       * });\n       * // $bob == \"/about/bob\";\n       * </pre>\n       *\n       * @param {UrlMatcher} urlMatcher The `UrlMatcher` object which is used as the template of the URL to generate.\n       * @param {object=} params An object of parameter values to fill the matcher's required parameters.\n       * @param {object=} options Options object. The options are:\n       *\n       * - **`absolute`** - {boolean=false},  If true will generate an absolute url, e.g. \"http://www.example.com/fullurl\".\n       *\n       * @returns {string} Returns the fully compiled URL, or `null` if `params` fail validation against `urlMatcher`\n       */\n      href: function(urlMatcher, params, options) {\n        if (!urlMatcher.validates(params)) return null;\n\n        var isHtml5 = $locationProvider.html5Mode();\n        if (angular.isObject(isHtml5)) {\n          isHtml5 = isHtml5.enabled;\n        }\n\n        isHtml5 = isHtml5 && $sniffer.history;\n        \n        var url = urlMatcher.format(params);\n        options = options || {};\n\n        if (!isHtml5 && url !== null) {\n          url = \"#\" + $locationProvider.hashPrefix() + url;\n        }\n\n        // Handle special hash param, if needed\n        if (url !== null && params && params['#']) {\n          url += '#' + params['#'];\n        }\n\n        url = appendBasePath(url, isHtml5, options.absolute);\n\n        if (!options.absolute || !url) {\n          return url;\n        }\n\n        var slash = (!isHtml5 && url ? '/' : ''), port = $location.port();\n        port = (port === 80 || port === 443 ? '' : ':' + port);\n\n        return [$location.protocol(), '://', $location.host(), port, slash, url].join('');\n      }\n    };\n  }\n}\n\nangular.module('ui.router.router').provider('$urlRouter', $UrlRouterProvider);\n\n/**\n * @ngdoc object\n * @name ui.router.state.$stateProvider\n *\n * @requires ui.router.router.$urlRouterProvider\n * @requires ui.router.util.$urlMatcherFactoryProvider\n *\n * @description\n * The new `$stateProvider` works similar to Angular's v1 router, but it focuses purely\n * on state.\n *\n * A state corresponds to a \"place\" in the application in terms of the overall UI and\n * navigation. A state describes (via the controller / template / view properties) what\n * the UI looks like and does at that place.\n *\n * States often have things in common, and the primary way of factoring out these\n * commonalities in this model is via the state hierarchy, i.e. parent/child states aka\n * nested states.\n *\n * The `$stateProvider` provides interfaces to declare these states for your app.\n */\n$StateProvider.$inject = ['$urlRouterProvider', '$urlMatcherFactoryProvider'];\nfunction $StateProvider(   $urlRouterProvider,   $urlMatcherFactory) {\n\n  var root, states = {}, $state, queue = {}, abstractKey = 'abstract';\n\n  // Builds state properties from definition passed to registerState()\n  var stateBuilder = {\n\n    // Derive parent state from a hierarchical name only if 'parent' is not explicitly defined.\n    // state.children = [];\n    // if (parent) parent.children.push(state);\n    parent: function(state) {\n      if (isDefined(state.parent) && state.parent) return findState(state.parent);\n      // regex matches any valid composite state name\n      // would match \"contact.list\" but not \"contacts\"\n      var compositeName = /^(.+)\\.[^.]+$/.exec(state.name);\n      return compositeName ? findState(compositeName[1]) : root;\n    },\n\n    // inherit 'data' from parent and override by own values (if any)\n    data: function(state) {\n      if (state.parent && state.parent.data) {\n        state.data = state.self.data = inherit(state.parent.data, state.data);\n      }\n      return state.data;\n    },\n\n    // Build a URLMatcher if necessary, either via a relative or absolute URL\n    url: function(state) {\n      var url = state.url, config = { params: state.params || {} };\n\n      if (isString(url)) {\n        if (url.charAt(0) == '^') return $urlMatcherFactory.compile(url.substring(1), config);\n        return (state.parent.navigable || root).url.concat(url, config);\n      }\n\n      if (!url || $urlMatcherFactory.isMatcher(url)) return url;\n      throw new Error(\"Invalid url '\" + url + \"' in state '\" + state + \"'\");\n    },\n\n    // Keep track of the closest ancestor state that has a URL (i.e. is navigable)\n    navigable: function(state) {\n      return state.url ? state : (state.parent ? state.parent.navigable : null);\n    },\n\n    // Own parameters for this state. state.url.params is already built at this point. Create and add non-url params\n    ownParams: function(state) {\n      var params = state.url && state.url.params || new $$UMFP.ParamSet();\n      forEach(state.params || {}, function(config, id) {\n        if (!params[id]) params[id] = new $$UMFP.Param(id, null, config, \"config\");\n      });\n      return params;\n    },\n\n    // Derive parameters for this state and ensure they're a super-set of parent's parameters\n    params: function(state) {\n      var ownParams = pick(state.ownParams, state.ownParams.$$keys());\n      return state.parent && state.parent.params ? extend(state.parent.params.$$new(), ownParams) : new $$UMFP.ParamSet();\n    },\n\n    // If there is no explicit multi-view configuration, make one up so we don't have\n    // to handle both cases in the view directive later. Note that having an explicit\n    // 'views' property will mean the default unnamed view properties are ignored. This\n    // is also a good time to resolve view names to absolute names, so everything is a\n    // straight lookup at link time.\n    views: function(state) {\n      var views = {};\n\n      forEach(isDefined(state.views) ? state.views : { '': state }, function (view, name) {\n        if (name.indexOf('@') < 0) name += '@' + state.parent.name;\n        view.resolveAs = view.resolveAs || state.resolveAs || '$resolve';\n        views[name] = view;\n      });\n      return views;\n    },\n\n    // Keep a full path from the root down to this state as this is needed for state activation.\n    path: function(state) {\n      return state.parent ? state.parent.path.concat(state) : []; // exclude root from path\n    },\n\n    // Speed up $state.contains() as it's used a lot\n    includes: function(state) {\n      var includes = state.parent ? extend({}, state.parent.includes) : {};\n      includes[state.name] = true;\n      return includes;\n    },\n\n    $delegates: {}\n  };\n\n  function isRelative(stateName) {\n    return stateName.indexOf(\".\") === 0 || stateName.indexOf(\"^\") === 0;\n  }\n\n  function findState(stateOrName, base) {\n    if (!stateOrName) return undefined;\n\n    var isStr = isString(stateOrName),\n        name  = isStr ? stateOrName : stateOrName.name,\n        path  = isRelative(name);\n\n    if (path) {\n      if (!base) throw new Error(\"No reference point given for path '\"  + name + \"'\");\n      base = findState(base);\n      \n      var rel = name.split(\".\"), i = 0, pathLength = rel.length, current = base;\n\n      for (; i < pathLength; i++) {\n        if (rel[i] === \"\" && i === 0) {\n          current = base;\n          continue;\n        }\n        if (rel[i] === \"^\") {\n          if (!current.parent) throw new Error(\"Path '\" + name + \"' not valid for state '\" + base.name + \"'\");\n          current = current.parent;\n          continue;\n        }\n        break;\n      }\n      rel = rel.slice(i).join(\".\");\n      name = current.name + (current.name && rel ? \".\" : \"\") + rel;\n    }\n    var state = states[name];\n\n    if (state && (isStr || (!isStr && (state === stateOrName || state.self === stateOrName)))) {\n      return state;\n    }\n    return undefined;\n  }\n\n  function queueState(parentName, state) {\n    if (!queue[parentName]) {\n      queue[parentName] = [];\n    }\n    queue[parentName].push(state);\n  }\n\n  function flushQueuedChildren(parentName) {\n    var queued = queue[parentName] || [];\n    while(queued.length) {\n      registerState(queued.shift());\n    }\n  }\n\n  function registerState(state) {\n    // Wrap a new object around the state so we can store our private details easily.\n    state = inherit(state, {\n      self: state,\n      resolve: state.resolve || {},\n      toString: function() { return this.name; }\n    });\n\n    var name = state.name;\n    if (!isString(name) || name.indexOf('@') >= 0) throw new Error(\"State must have a valid name\");\n    if (states.hasOwnProperty(name)) throw new Error(\"State '\" + name + \"' is already defined\");\n\n    // Get parent name\n    var parentName = (name.indexOf('.') !== -1) ? name.substring(0, name.lastIndexOf('.'))\n        : (isString(state.parent)) ? state.parent\n        : (isObject(state.parent) && isString(state.parent.name)) ? state.parent.name\n        : '';\n\n    // If parent is not registered yet, add state to queue and register later\n    if (parentName && !states[parentName]) {\n      return queueState(parentName, state.self);\n    }\n\n    for (var key in stateBuilder) {\n      if (isFunction(stateBuilder[key])) state[key] = stateBuilder[key](state, stateBuilder.$delegates[key]);\n    }\n    states[name] = state;\n\n    // Register the state in the global state list and with $urlRouter if necessary.\n    if (!state[abstractKey] && state.url) {\n      $urlRouterProvider.when(state.url, ['$match', '$stateParams', function ($match, $stateParams) {\n        if ($state.$current.navigable != state || !equalForKeys($match, $stateParams)) {\n          $state.transitionTo(state, $match, { inherit: true, location: false });\n        }\n      }]);\n    }\n\n    // Register any queued children\n    flushQueuedChildren(name);\n\n    return state;\n  }\n\n  // Checks text to see if it looks like a glob.\n  function isGlob (text) {\n    return text.indexOf('*') > -1;\n  }\n\n  // Returns true if glob matches current $state name.\n  function doesStateMatchGlob (glob) {\n    var globSegments = glob.split('.'),\n        segments = $state.$current.name.split('.');\n\n    //match single stars\n    for (var i = 0, l = globSegments.length; i < l; i++) {\n      if (globSegments[i] === '*') {\n        segments[i] = '*';\n      }\n    }\n\n    //match greedy starts\n    if (globSegments[0] === '**') {\n       segments = segments.slice(indexOf(segments, globSegments[1]));\n       segments.unshift('**');\n    }\n    //match greedy ends\n    if (globSegments[globSegments.length - 1] === '**') {\n       segments.splice(indexOf(segments, globSegments[globSegments.length - 2]) + 1, Number.MAX_VALUE);\n       segments.push('**');\n    }\n\n    if (globSegments.length != segments.length) {\n      return false;\n    }\n\n    return segments.join('') === globSegments.join('');\n  }\n\n\n  // Implicit root state that is always active\n  root = registerState({\n    name: '',\n    url: '^',\n    views: null,\n    'abstract': true\n  });\n  root.navigable = null;\n\n\n  /**\n   * @ngdoc function\n   * @name ui.router.state.$stateProvider#decorator\n   * @methodOf ui.router.state.$stateProvider\n   *\n   * @description\n   * Allows you to extend (carefully) or override (at your own peril) the \n   * `stateBuilder` object used internally by `$stateProvider`. This can be used \n   * to add custom functionality to ui-router, for example inferring templateUrl \n   * based on the state name.\n   *\n   * When passing only a name, it returns the current (original or decorated) builder\n   * function that matches `name`.\n   *\n   * The builder functions that can be decorated are listed below. Though not all\n   * necessarily have a good use case for decoration, that is up to you to decide.\n   *\n   * In addition, users can attach custom decorators, which will generate new \n   * properties within the state's internal definition. There is currently no clear \n   * use-case for this beyond accessing internal states (i.e. $state.$current), \n   * however, expect this to become increasingly relevant as we introduce additional \n   * meta-programming features.\n   *\n   * **Warning**: Decorators should not be interdependent because the order of \n   * execution of the builder functions in non-deterministic. Builder functions \n   * should only be dependent on the state definition object and super function.\n   *\n   *\n   * Existing builder functions and current return values:\n   *\n   * - **parent** `{object}` - returns the parent state object.\n   * - **data** `{object}` - returns state data, including any inherited data that is not\n   *   overridden by own values (if any).\n   * - **url** `{object}` - returns a {@link ui.router.util.type:UrlMatcher UrlMatcher}\n   *   or `null`.\n   * - **navigable** `{object}` - returns closest ancestor state that has a URL (aka is \n   *   navigable).\n   * - **params** `{object}` - returns an array of state params that are ensured to \n   *   be a super-set of parent's params.\n   * - **views** `{object}` - returns a views object where each key is an absolute view \n   *   name (i.e. \"viewName@stateName\") and each value is the config object \n   *   (template, controller) for the view. Even when you don't use the views object \n   *   explicitly on a state config, one is still created for you internally.\n   *   So by decorating this builder function you have access to decorating template \n   *   and controller properties.\n   * - **ownParams** `{object}` - returns an array of params that belong to the state, \n   *   not including any params defined by ancestor states.\n   * - **path** `{string}` - returns the full path from the root down to this state. \n   *   Needed for state activation.\n   * - **includes** `{object}` - returns an object that includes every state that \n   *   would pass a `$state.includes()` test.\n   *\n   * @example\n   * <pre>\n   * // Override the internal 'views' builder with a function that takes the state\n   * // definition, and a reference to the internal function being overridden:\n   * $stateProvider.decorator('views', function (state, parent) {\n   *   var result = {},\n   *       views = parent(state);\n   *\n   *   angular.forEach(views, function (config, name) {\n   *     var autoName = (state.name + '.' + name).replace('.', '/');\n   *     config.templateUrl = config.templateUrl || '/partials/' + autoName + '.html';\n   *     result[name] = config;\n   *   });\n   *   return result;\n   * });\n   *\n   * $stateProvider.state('home', {\n   *   views: {\n   *     'contact.list': { controller: 'ListController' },\n   *     'contact.item': { controller: 'ItemController' }\n   *   }\n   * });\n   *\n   * // ...\n   *\n   * $state.go('home');\n   * // Auto-populates list and item views with /partials/home/contact/list.html,\n   * // and /partials/home/contact/item.html, respectively.\n   * </pre>\n   *\n   * @param {string} name The name of the builder function to decorate. \n   * @param {object} func A function that is responsible for decorating the original \n   * builder function. The function receives two parameters:\n   *\n   *   - `{object}` - state - The state config object.\n   *   - `{object}` - super - The original builder function.\n   *\n   * @return {object} $stateProvider - $stateProvider instance\n   */\n  this.decorator = decorator;\n  function decorator(name, func) {\n    /*jshint validthis: true */\n    if (isString(name) && !isDefined(func)) {\n      return stateBuilder[name];\n    }\n    if (!isFunction(func) || !isString(name)) {\n      return this;\n    }\n    if (stateBuilder[name] && !stateBuilder.$delegates[name]) {\n      stateBuilder.$delegates[name] = stateBuilder[name];\n    }\n    stateBuilder[name] = func;\n    return this;\n  }\n\n  /**\n   * @ngdoc function\n   * @name ui.router.state.$stateProvider#state\n   * @methodOf ui.router.state.$stateProvider\n   *\n   * @description\n   * Registers a state configuration under a given state name. The stateConfig object\n   * has the following acceptable properties.\n   *\n   * @param {string} name A unique state name, e.g. \"home\", \"about\", \"contacts\".\n   * To create a parent/child state use a dot, e.g. \"about.sales\", \"home.newest\".\n   * @param {object} stateConfig State configuration object.\n   * @param {string|function=} stateConfig.template\n   * <a id='template'></a>\n   *   html template as a string or a function that returns\n   *   an html template as a string which should be used by the uiView directives. This property \n   *   takes precedence over templateUrl.\n   *   \n   *   If `template` is a function, it will be called with the following parameters:\n   *\n   *   - {array.&lt;object&gt;} - state parameters extracted from the current $location.path() by\n   *     applying the current state\n   *\n   * <pre>template:\n   *   \"<h1>inline template definition</h1>\" +\n   *   \"<div ui-view></div>\"</pre>\n   * <pre>template: function(params) {\n   *       return \"<h1>generated template</h1>\"; }</pre>\n   * </div>\n   *\n   * @param {string|function=} stateConfig.templateUrl\n   * <a id='templateUrl'></a>\n   *\n   *   path or function that returns a path to an html\n   *   template that should be used by uiView.\n   *   \n   *   If `templateUrl` is a function, it will be called with the following parameters:\n   *\n   *   - {array.&lt;object&gt;} - state parameters extracted from the current $location.path() by \n   *     applying the current state\n   *\n   * <pre>templateUrl: \"home.html\"</pre>\n   * <pre>templateUrl: function(params) {\n   *     return myTemplates[params.pageId]; }</pre>\n   *\n   * @param {function=} stateConfig.templateProvider\n   * <a id='templateProvider'></a>\n   *    Provider function that returns HTML content string.\n   * <pre> templateProvider:\n   *       function(MyTemplateService, params) {\n   *         return MyTemplateService.getTemplate(params.pageId);\n   *       }</pre>\n   *\n   * @param {string|function=} stateConfig.controller\n   * <a id='controller'></a>\n   *\n   *  Controller fn that should be associated with newly\n   *   related scope or the name of a registered controller if passed as a string.\n   *   Optionally, the ControllerAs may be declared here.\n   * <pre>controller: \"MyRegisteredController\"</pre>\n   * <pre>controller:\n   *     \"MyRegisteredController as fooCtrl\"}</pre>\n   * <pre>controller: function($scope, MyService) {\n   *     $scope.data = MyService.getData(); }</pre>\n   *\n   * @param {function=} stateConfig.controllerProvider\n   * <a id='controllerProvider'></a>\n   *\n   * Injectable provider function that returns the actual controller or string.\n   * <pre>controllerProvider:\n   *   function(MyResolveData) {\n   *     if (MyResolveData.foo)\n   *       return \"FooCtrl\"\n   *     else if (MyResolveData.bar)\n   *       return \"BarCtrl\";\n   *     else return function($scope) {\n   *       $scope.baz = \"Qux\";\n   *     }\n   *   }</pre>\n   *\n   * @param {string=} stateConfig.controllerAs\n   * <a id='controllerAs'></a>\n   * \n   * A controller alias name. If present the controller will be\n   *   published to scope under the controllerAs name.\n   * <pre>controllerAs: \"myCtrl\"</pre>\n   *\n   * @param {string|object=} stateConfig.parent\n   * <a id='parent'></a>\n   * Optionally specifies the parent state of this state.\n   *\n   * <pre>parent: 'parentState'</pre>\n   * <pre>parent: parentState // JS variable</pre>\n   *\n   * @param {object=} stateConfig.resolve\n   * <a id='resolve'></a>\n   *\n   * An optional map&lt;string, function&gt; of dependencies which\n   *   should be injected into the controller. If any of these dependencies are promises, \n   *   the router will wait for them all to be resolved before the controller is instantiated.\n   *   If all the promises are resolved successfully, the $stateChangeSuccess event is fired\n   *   and the values of the resolved promises are injected into any controllers that reference them.\n   *   If any  of the promises are rejected the $stateChangeError event is fired.\n   *\n   *   The map object is:\n   *   \n   *   - key - {string}: name of dependency to be injected into controller\n   *   - factory - {string|function}: If string then it is alias for service. Otherwise if function, \n   *     it is injected and return value it treated as dependency. If result is a promise, it is \n   *     resolved before its value is injected into controller.\n   *\n   * <pre>resolve: {\n   *     myResolve1:\n   *       function($http, $stateParams) {\n   *         return $http.get(\"/api/foos/\"+stateParams.fooID);\n   *       }\n   *     }</pre>\n   *\n   * @param {string=} stateConfig.url\n   * <a id='url'></a>\n   *\n   *   A url fragment with optional parameters. When a state is navigated or\n   *   transitioned to, the `$stateParams` service will be populated with any \n   *   parameters that were passed.\n   *\n   *   (See {@link ui.router.util.type:UrlMatcher UrlMatcher} `UrlMatcher`} for\n   *   more details on acceptable patterns )\n   *\n   * examples:\n   * <pre>url: \"/home\"\n   * url: \"/users/:userid\"\n   * url: \"/books/{bookid:[a-zA-Z_-]}\"\n   * url: \"/books/{categoryid:int}\"\n   * url: \"/books/{publishername:string}/{categoryid:int}\"\n   * url: \"/messages?before&after\"\n   * url: \"/messages?{before:date}&{after:date}\"\n   * url: \"/messages/:mailboxid?{before:date}&{after:date}\"\n   * </pre>\n   *\n   * @param {object=} stateConfig.views\n   * <a id='views'></a>\n   * an optional map&lt;string, object&gt; which defined multiple views, or targets views\n   * manually/explicitly.\n   *\n   * Examples:\n   *\n   * Targets three named `ui-view`s in the parent state's template\n   * <pre>views: {\n   *     header: {\n   *       controller: \"headerCtrl\",\n   *       templateUrl: \"header.html\"\n   *     }, body: {\n   *       controller: \"bodyCtrl\",\n   *       templateUrl: \"body.html\"\n   *     }, footer: {\n   *       controller: \"footCtrl\",\n   *       templateUrl: \"footer.html\"\n   *     }\n   *   }</pre>\n   *\n   * Targets named `ui-view=\"header\"` from grandparent state 'top''s template, and named `ui-view=\"body\" from parent state's template.\n   * <pre>views: {\n   *     'header@top': {\n   *       controller: \"msgHeaderCtrl\",\n   *       templateUrl: \"msgHeader.html\"\n   *     }, 'body': {\n   *       controller: \"messagesCtrl\",\n   *       templateUrl: \"messages.html\"\n   *     }\n   *   }</pre>\n   *\n   * @param {boolean=} [stateConfig.abstract=false]\n   * <a id='abstract'></a>\n   * An abstract state will never be directly activated,\n   *   but can provide inherited properties to its common children states.\n   * <pre>abstract: true</pre>\n   *\n   * @param {function=} stateConfig.onEnter\n   * <a id='onEnter'></a>\n   *\n   * Callback function for when a state is entered. Good way\n   *   to trigger an action or dispatch an event, such as opening a dialog.\n   * If minifying your scripts, make sure to explicitly annotate this function,\n   * because it won't be automatically annotated by your build tools.\n   *\n   * <pre>onEnter: function(MyService, $stateParams) {\n   *     MyService.foo($stateParams.myParam);\n   * }</pre>\n   *\n   * @param {function=} stateConfig.onExit\n   * <a id='onExit'></a>\n   *\n   * Callback function for when a state is exited. Good way to\n   *   trigger an action or dispatch an event, such as opening a dialog.\n   * If minifying your scripts, make sure to explicitly annotate this function,\n   * because it won't be automatically annotated by your build tools.\n   *\n   * <pre>onExit: function(MyService, $stateParams) {\n   *     MyService.cleanup($stateParams.myParam);\n   * }</pre>\n   *\n   * @param {boolean=} [stateConfig.reloadOnSearch=true]\n   * <a id='reloadOnSearch'></a>\n   *\n   * If `false`, will not retrigger the same state\n   *   just because a search/query parameter has changed (via $location.search() or $location.hash()). \n   *   Useful for when you'd like to modify $location.search() without triggering a reload.\n   * <pre>reloadOnSearch: false</pre>\n   *\n   * @param {object=} stateConfig.data\n   * <a id='data'></a>\n   *\n   * Arbitrary data object, useful for custom configuration.  The parent state's `data` is\n   *   prototypally inherited.  In other words, adding a data property to a state adds it to\n   *   the entire subtree via prototypal inheritance.\n   *\n   * <pre>data: {\n   *     requiredRole: 'foo'\n   * } </pre>\n   *\n   * @param {object=} stateConfig.params\n   * <a id='params'></a>\n   *\n   * A map which optionally configures parameters declared in the `url`, or\n   *   defines additional non-url parameters.  For each parameter being\n   *   configured, add a configuration object keyed to the name of the parameter.\n   *\n   *   Each parameter configuration object may contain the following properties:\n   *\n   *   - ** value ** - {object|function=}: specifies the default value for this\n   *     parameter.  This implicitly sets this parameter as optional.\n   *\n   *     When UI-Router routes to a state and no value is\n   *     specified for this parameter in the URL or transition, the\n   *     default value will be used instead.  If `value` is a function,\n   *     it will be injected and invoked, and the return value used.\n   *\n   *     *Note*: `undefined` is treated as \"no default value\" while `null`\n   *     is treated as \"the default value is `null`\".\n   *\n   *     *Shorthand*: If you only need to configure the default value of the\n   *     parameter, you may use a shorthand syntax.   In the **`params`**\n   *     map, instead mapping the param name to a full parameter configuration\n   *     object, simply set map it to the default parameter value, e.g.:\n   *\n   * <pre>// define a parameter's default value\n   * params: {\n   *     param1: { value: \"defaultValue\" }\n   * }\n   * // shorthand default values\n   * params: {\n   *     param1: \"defaultValue\",\n   *     param2: \"param2Default\"\n   * }</pre>\n   *\n   *   - ** array ** - {boolean=}: *(default: false)* If true, the param value will be\n   *     treated as an array of values.  If you specified a Type, the value will be\n   *     treated as an array of the specified Type.  Note: query parameter values\n   *     default to a special `\"auto\"` mode.\n   *\n   *     For query parameters in `\"auto\"` mode, if multiple  values for a single parameter\n   *     are present in the URL (e.g.: `/foo?bar=1&bar=2&bar=3`) then the values\n   *     are mapped to an array (e.g.: `{ foo: [ '1', '2', '3' ] }`).  However, if\n   *     only one value is present (e.g.: `/foo?bar=1`) then the value is treated as single\n   *     value (e.g.: `{ foo: '1' }`).\n   *\n   * <pre>params: {\n   *     param1: { array: true }\n   * }</pre>\n   *\n   *   - ** squash ** - {bool|string=}: `squash` configures how a default parameter value is represented in the URL when\n   *     the current parameter value is the same as the default value. If `squash` is not set, it uses the\n   *     configured default squash policy.\n   *     (See {@link ui.router.util.$urlMatcherFactory#methods_defaultSquashPolicy `defaultSquashPolicy()`})\n   *\n   *   There are three squash settings:\n   *\n   *     - false: The parameter's default value is not squashed.  It is encoded and included in the URL\n   *     - true: The parameter's default value is omitted from the URL.  If the parameter is preceeded and followed\n   *       by slashes in the state's `url` declaration, then one of those slashes are omitted.\n   *       This can allow for cleaner looking URLs.\n   *     - `\"<arbitrary string>\"`: The parameter's default value is replaced with an arbitrary placeholder of  your choice.\n   *\n   * <pre>params: {\n   *     param1: {\n   *       value: \"defaultId\",\n   *       squash: true\n   * } }\n   * // squash \"defaultValue\" to \"~\"\n   * params: {\n   *     param1: {\n   *       value: \"defaultValue\",\n   *       squash: \"~\"\n   * } }\n   * </pre>\n   *\n   *\n   * @example\n   * <pre>\n   * // Some state name examples\n   *\n   * // stateName can be a single top-level name (must be unique).\n   * $stateProvider.state(\"home\", {});\n   *\n   * // Or it can be a nested state name. This state is a child of the\n   * // above \"home\" state.\n   * $stateProvider.state(\"home.newest\", {});\n   *\n   * // Nest states as deeply as needed.\n   * $stateProvider.state(\"home.newest.abc.xyz.inception\", {});\n   *\n   * // state() returns $stateProvider, so you can chain state declarations.\n   * $stateProvider\n   *   .state(\"home\", {})\n   *   .state(\"about\", {})\n   *   .state(\"contacts\", {});\n   * </pre>\n   *\n   */\n  this.state = state;\n  function state(name, definition) {\n    /*jshint validthis: true */\n    if (isObject(name)) definition = name;\n    else definition.name = name;\n    registerState(definition);\n    return this;\n  }\n\n  /**\n   * @ngdoc object\n   * @name ui.router.state.$state\n   *\n   * @requires $rootScope\n   * @requires $q\n   * @requires ui.router.state.$view\n   * @requires $injector\n   * @requires ui.router.util.$resolve\n   * @requires ui.router.state.$stateParams\n   * @requires ui.router.router.$urlRouter\n   *\n   * @property {object} params A param object, e.g. {sectionId: section.id)}, that \n   * you'd like to test against the current active state.\n   * @property {object} current A reference to the state's config object. However \n   * you passed it in. Useful for accessing custom data.\n   * @property {object} transition Currently pending transition. A promise that'll \n   * resolve or reject.\n   *\n   * @description\n   * `$state` service is responsible for representing states as well as transitioning\n   * between them. It also provides interfaces to ask for current state or even states\n   * you're coming from.\n   */\n  this.$get = $get;\n  $get.$inject = ['$rootScope', '$q', '$view', '$injector', '$resolve', '$stateParams', '$urlRouter', '$location', '$urlMatcherFactory'];\n  function $get(   $rootScope,   $q,   $view,   $injector,   $resolve,   $stateParams,   $urlRouter,   $location,   $urlMatcherFactory) {\n\n    var TransitionSupersededError = new Error('transition superseded');\n\n    var TransitionSuperseded = silenceUncaughtInPromise($q.reject(TransitionSupersededError));\n    var TransitionPrevented = silenceUncaughtInPromise($q.reject(new Error('transition prevented')));\n    var TransitionAborted = silenceUncaughtInPromise($q.reject(new Error('transition aborted')));\n    var TransitionFailed = silenceUncaughtInPromise($q.reject(new Error('transition failed')));\n\n    // Handles the case where a state which is the target of a transition is not found, and the user\n    // can optionally retry or defer the transition\n    function handleRedirect(redirect, state, params, options) {\n      /**\n       * @ngdoc event\n       * @name ui.router.state.$state#$stateNotFound\n       * @eventOf ui.router.state.$state\n       * @eventType broadcast on root scope\n       * @description\n       * Fired when a requested state **cannot be found** using the provided state name during transition.\n       * The event is broadcast allowing any handlers a single chance to deal with the error (usually by\n       * lazy-loading the unfound state). A special `unfoundState` object is passed to the listener handler,\n       * you can see its three properties in the example. You can use `event.preventDefault()` to abort the\n       * transition and the promise returned from `go` will be rejected with a `'transition aborted'` value.\n       *\n       * @param {Object} event Event object.\n       * @param {Object} unfoundState Unfound State information. Contains: `to, toParams, options` properties.\n       * @param {State} fromState Current state object.\n       * @param {Object} fromParams Current state params.\n       *\n       * @example\n       *\n       * <pre>\n       * // somewhere, assume lazy.state has not been defined\n       * $state.go(\"lazy.state\", {a:1, b:2}, {inherit:false});\n       *\n       * // somewhere else\n       * $scope.$on('$stateNotFound',\n       * function(event, unfoundState, fromState, fromParams){\n       *     console.log(unfoundState.to); // \"lazy.state\"\n       *     console.log(unfoundState.toParams); // {a:1, b:2}\n       *     console.log(unfoundState.options); // {inherit:false} + default options\n       * })\n       * </pre>\n       */\n      var evt = $rootScope.$broadcast('$stateNotFound', redirect, state, params);\n\n      if (evt.defaultPrevented) {\n        $urlRouter.update();\n        return TransitionAborted;\n      }\n\n      if (!evt.retry) {\n        return null;\n      }\n\n      // Allow the handler to return a promise to defer state lookup retry\n      if (options.$retry) {\n        $urlRouter.update();\n        return TransitionFailed;\n      }\n      var retryTransition = $state.transition = $q.when(evt.retry);\n\n      retryTransition.then(function() {\n        if (retryTransition !== $state.transition) {\n          $rootScope.$broadcast('$stateChangeCancel', redirect.to, redirect.toParams, state, params);\n          return TransitionSuperseded;\n        }\n        redirect.options.$retry = true;\n        return $state.transitionTo(redirect.to, redirect.toParams, redirect.options);\n      }, function() {\n        return TransitionAborted;\n      });\n      $urlRouter.update();\n\n      return retryTransition;\n    }\n\n    root.locals = { resolve: null, globals: { $stateParams: {} } };\n\n    $state = {\n      params: {},\n      current: root.self,\n      $current: root,\n      transition: null\n    };\n\n    /**\n     * @ngdoc function\n     * @name ui.router.state.$state#reload\n     * @methodOf ui.router.state.$state\n     *\n     * @description\n     * A method that force reloads the current state. All resolves are re-resolved,\n     * controllers reinstantiated, and events re-fired.\n     *\n     * @example\n     * <pre>\n     * var app angular.module('app', ['ui.router']);\n     *\n     * app.controller('ctrl', function ($scope, $state) {\n     *   $scope.reload = function(){\n     *     $state.reload();\n     *   }\n     * });\n     * </pre>\n     *\n     * `reload()` is just an alias for:\n     * <pre>\n     * $state.transitionTo($state.current, $stateParams, { \n     *   reload: true, inherit: false, notify: true\n     * });\n     * </pre>\n     *\n     * @param {string=|object=} state - A state name or a state object, which is the root of the resolves to be re-resolved.\n     * @example\n     * <pre>\n     * //assuming app application consists of 3 states: 'contacts', 'contacts.detail', 'contacts.detail.item' \n     * //and current state is 'contacts.detail.item'\n     * var app angular.module('app', ['ui.router']);\n     *\n     * app.controller('ctrl', function ($scope, $state) {\n     *   $scope.reload = function(){\n     *     //will reload 'contact.detail' and 'contact.detail.item' states\n     *     $state.reload('contact.detail');\n     *   }\n     * });\n     * </pre>\n     *\n     * `reload()` is just an alias for:\n     * <pre>\n     * $state.transitionTo($state.current, $stateParams, { \n     *   reload: true, inherit: false, notify: true\n     * });\n     * </pre>\n\n     * @returns {promise} A promise representing the state of the new transition. See\n     * {@link ui.router.state.$state#methods_go $state.go}.\n     */\n    $state.reload = function reload(state) {\n      return $state.transitionTo($state.current, $stateParams, { reload: state || true, inherit: false, notify: true});\n    };\n\n    /**\n     * @ngdoc function\n     * @name ui.router.state.$state#go\n     * @methodOf ui.router.state.$state\n     *\n     * @description\n     * Convenience method for transitioning to a new state. `$state.go` calls \n     * `$state.transitionTo` internally but automatically sets options to \n     * `{ location: true, inherit: true, relative: $state.$current, notify: true }`. \n     * This allows you to easily use an absolute or relative to path and specify \n     * only the parameters you'd like to update (while letting unspecified parameters \n     * inherit from the currently active ancestor states).\n     *\n     * @example\n     * <pre>\n     * var app = angular.module('app', ['ui.router']);\n     *\n     * app.controller('ctrl', function ($scope, $state) {\n     *   $scope.changeState = function () {\n     *     $state.go('contact.detail');\n     *   };\n     * });\n     * </pre>\n     * <img src='../ngdoc_assets/StateGoExamples.png'/>\n     *\n     * @param {string} to Absolute state name or relative state path. Some examples:\n     *\n     * - `$state.go('contact.detail')` - will go to the `contact.detail` state\n     * - `$state.go('^')` - will go to a parent state\n     * - `$state.go('^.sibling')` - will go to a sibling state\n     * - `$state.go('.child.grandchild')` - will go to grandchild state\n     *\n     * @param {object=} params A map of the parameters that will be sent to the state, \n     * will populate $stateParams. Any parameters that are not specified will be inherited from currently \n     * defined parameters. Only parameters specified in the state definition can be overridden, new \n     * parameters will be ignored. This allows, for example, going to a sibling state that shares parameters\n     * specified in a parent state. Parameter inheritance only works between common ancestor states, I.e.\n     * transitioning to a sibling will get you the parameters for all parents, transitioning to a child\n     * will get you all current parameters, etc.\n     * @param {object=} options Options object. The options are:\n     *\n     * - **`location`** - {boolean=true|string=} - If `true` will update the url in the location bar, if `false`\n     *    will not. If string, must be `\"replace\"`, which will update url and also replace last history record.\n     * - **`inherit`** - {boolean=true}, If `true` will inherit url parameters from current url.\n     * - **`relative`** - {object=$state.$current}, When transitioning with relative path (e.g '^'), \n     *    defines which state to be relative from.\n     * - **`notify`** - {boolean=true}, If `true` will broadcast $stateChangeStart and $stateChangeSuccess events.\n     * - **`reload`** (v0.2.5) - {boolean=false|string|object}, If `true` will force transition even if no state or params\n     *    have changed.  It will reload the resolves and views of the current state and parent states.\n     *    If `reload` is a string (or state object), the state object is fetched (by name, or object reference); and \\\n     *    the transition reloads the resolves and views for that matched state, and all its children states.\n     *\n     * @returns {promise} A promise representing the state of the new transition.\n     *\n     * Possible success values:\n     *\n     * - $state.current\n     *\n     * <br/>Possible rejection values:\n     *\n     * - 'transition superseded' - when a newer transition has been started after this one\n     * - 'transition prevented' - when `event.preventDefault()` has been called in a `$stateChangeStart` listener\n     * - 'transition aborted' - when `event.preventDefault()` has been called in a `$stateNotFound` listener or\n     *   when a `$stateNotFound` `event.retry` promise errors.\n     * - 'transition failed' - when a state has been unsuccessfully found after 2 tries.\n     * - *resolve error* - when an error has occurred with a `resolve`\n     *\n     */\n    $state.go = function go(to, params, options) {\n      return $state.transitionTo(to, params, extend({ inherit: true, relative: $state.$current }, options));\n    };\n\n    /**\n     * @ngdoc function\n     * @name ui.router.state.$state#transitionTo\n     * @methodOf ui.router.state.$state\n     *\n     * @description\n     * Low-level method for transitioning to a new state. {@link ui.router.state.$state#methods_go $state.go}\n     * uses `transitionTo` internally. `$state.go` is recommended in most situations.\n     *\n     * @example\n     * <pre>\n     * var app = angular.module('app', ['ui.router']);\n     *\n     * app.controller('ctrl', function ($scope, $state) {\n     *   $scope.changeState = function () {\n     *     $state.transitionTo('contact.detail');\n     *   };\n     * });\n     * </pre>\n     *\n     * @param {string} to State name.\n     * @param {object=} toParams A map of the parameters that will be sent to the state,\n     * will populate $stateParams.\n     * @param {object=} options Options object. The options are:\n     *\n     * - **`location`** - {boolean=true|string=} - If `true` will update the url in the location bar, if `false`\n     *    will not. If string, must be `\"replace\"`, which will update url and also replace last history record.\n     * - **`inherit`** - {boolean=false}, If `true` will inherit url parameters from current url.\n     * - **`relative`** - {object=}, When transitioning with relative path (e.g '^'), \n     *    defines which state to be relative from.\n     * - **`notify`** - {boolean=true}, If `true` will broadcast $stateChangeStart and $stateChangeSuccess events.\n     * - **`reload`** (v0.2.5) - {boolean=false|string=|object=}, If `true` will force transition even if the state or params \n     *    have not changed, aka a reload of the same state. It differs from reloadOnSearch because you'd\n     *    use this when you want to force a reload when *everything* is the same, including search params.\n     *    if String, then will reload the state with the name given in reload, and any children.\n     *    if Object, then a stateObj is expected, will reload the state found in stateObj, and any children.\n     *\n     * @returns {promise} A promise representing the state of the new transition. See\n     * {@link ui.router.state.$state#methods_go $state.go}.\n     */\n    $state.transitionTo = function transitionTo(to, toParams, options) {\n      toParams = toParams || {};\n      options = extend({\n        location: true, inherit: false, relative: null, notify: true, reload: false, $retry: false\n      }, options || {});\n\n      var from = $state.$current, fromParams = $state.params, fromPath = from.path;\n      var evt, toState = findState(to, options.relative);\n\n      // Store the hash param for later (since it will be stripped out by various methods)\n      var hash = toParams['#'];\n\n      if (!isDefined(toState)) {\n        var redirect = { to: to, toParams: toParams, options: options };\n        var redirectResult = handleRedirect(redirect, from.self, fromParams, options);\n\n        if (redirectResult) {\n          return redirectResult;\n        }\n\n        // Always retry once if the $stateNotFound was not prevented\n        // (handles either redirect changed or state lazy-definition)\n        to = redirect.to;\n        toParams = redirect.toParams;\n        options = redirect.options;\n        toState = findState(to, options.relative);\n\n        if (!isDefined(toState)) {\n          if (!options.relative) throw new Error(\"No such state '\" + to + \"'\");\n          throw new Error(\"Could not resolve '\" + to + \"' from state '\" + options.relative + \"'\");\n        }\n      }\n      if (toState[abstractKey]) throw new Error(\"Cannot transition to abstract state '\" + to + \"'\");\n      if (options.inherit) toParams = inheritParams($stateParams, toParams || {}, $state.$current, toState);\n      if (!toState.params.$$validates(toParams)) return TransitionFailed;\n\n      toParams = toState.params.$$values(toParams);\n      to = toState;\n\n      var toPath = to.path;\n\n      // Starting from the root of the path, keep all levels that haven't changed\n      var keep = 0, state = toPath[keep], locals = root.locals, toLocals = [];\n\n      if (!options.reload) {\n        while (state && state === fromPath[keep] && state.ownParams.$$equals(toParams, fromParams)) {\n          locals = toLocals[keep] = state.locals;\n          keep++;\n          state = toPath[keep];\n        }\n      } else if (isString(options.reload) || isObject(options.reload)) {\n        if (isObject(options.reload) && !options.reload.name) {\n          throw new Error('Invalid reload state object');\n        }\n        \n        var reloadState = options.reload === true ? fromPath[0] : findState(options.reload);\n        if (options.reload && !reloadState) {\n          throw new Error(\"No such reload state '\" + (isString(options.reload) ? options.reload : options.reload.name) + \"'\");\n        }\n\n        while (state && state === fromPath[keep] && state !== reloadState) {\n          locals = toLocals[keep] = state.locals;\n          keep++;\n          state = toPath[keep];\n        }\n      }\n\n      // If we're going to the same state and all locals are kept, we've got nothing to do.\n      // But clear 'transition', as we still want to cancel any other pending transitions.\n      // TODO: We may not want to bump 'transition' if we're called from a location change\n      // that we've initiated ourselves, because we might accidentally abort a legitimate\n      // transition initiated from code?\n      if (shouldSkipReload(to, toParams, from, fromParams, locals, options)) {\n        if (hash) toParams['#'] = hash;\n        $state.params = toParams;\n        copy($state.params, $stateParams);\n        copy(filterByKeys(to.params.$$keys(), $stateParams), to.locals.globals.$stateParams);\n        if (options.location && to.navigable && to.navigable.url) {\n          $urlRouter.push(to.navigable.url, toParams, {\n            $$avoidResync: true, replace: options.location === 'replace'\n          });\n          $urlRouter.update(true);\n        }\n        $state.transition = null;\n        return $q.when($state.current);\n      }\n\n      // Filter parameters before we pass them to event handlers etc.\n      toParams = filterByKeys(to.params.$$keys(), toParams || {});\n      \n      // Re-add the saved hash before we start returning things or broadcasting $stateChangeStart\n      if (hash) toParams['#'] = hash;\n      \n      // Broadcast start event and cancel the transition if requested\n      if (options.notify) {\n        /**\n         * @ngdoc event\n         * @name ui.router.state.$state#$stateChangeStart\n         * @eventOf ui.router.state.$state\n         * @eventType broadcast on root scope\n         * @description\n         * Fired when the state transition **begins**. You can use `event.preventDefault()`\n         * to prevent the transition from happening and then the transition promise will be\n         * rejected with a `'transition prevented'` value.\n         *\n         * @param {Object} event Event object.\n         * @param {State} toState The state being transitioned to.\n         * @param {Object} toParams The params supplied to the `toState`.\n         * @param {State} fromState The current state, pre-transition.\n         * @param {Object} fromParams The params supplied to the `fromState`.\n         *\n         * @example\n         *\n         * <pre>\n         * $rootScope.$on('$stateChangeStart',\n         * function(event, toState, toParams, fromState, fromParams){\n         *     event.preventDefault();\n         *     // transitionTo() promise will be rejected with\n         *     // a 'transition prevented' error\n         * })\n         * </pre>\n         */\n        if ($rootScope.$broadcast('$stateChangeStart', to.self, toParams, from.self, fromParams, options).defaultPrevented) {\n          $rootScope.$broadcast('$stateChangeCancel', to.self, toParams, from.self, fromParams);\n          //Don't update and resync url if there's been a new transition started. see issue #2238, #600\n          if ($state.transition == null) $urlRouter.update();\n          return TransitionPrevented;\n        }\n      }\n\n      // Resolve locals for the remaining states, but don't update any global state just\n      // yet -- if anything fails to resolve the current state needs to remain untouched.\n      // We also set up an inheritance chain for the locals here. This allows the view directive\n      // to quickly look up the correct definition for each view in the current state. Even\n      // though we create the locals object itself outside resolveState(), it is initially\n      // empty and gets filled asynchronously. We need to keep track of the promise for the\n      // (fully resolved) current locals, and pass this down the chain.\n      var resolved = $q.when(locals);\n\n      for (var l = keep; l < toPath.length; l++, state = toPath[l]) {\n        locals = toLocals[l] = inherit(locals);\n        resolved = resolveState(state, toParams, state === to, resolved, locals, options);\n      }\n\n      // Once everything is resolved, we are ready to perform the actual transition\n      // and return a promise for the new state. We also keep track of what the\n      // current promise is, so that we can detect overlapping transitions and\n      // keep only the outcome of the last transition.\n      var transition = $state.transition = resolved.then(function () {\n        var l, entering, exiting;\n\n        if ($state.transition !== transition) {\n          $rootScope.$broadcast('$stateChangeCancel', to.self, toParams, from.self, fromParams);\n          return TransitionSuperseded;\n        }\n\n        // Exit 'from' states not kept\n        for (l = fromPath.length - 1; l >= keep; l--) {\n          exiting = fromPath[l];\n          if (exiting.self.onExit) {\n            $injector.invoke(exiting.self.onExit, exiting.self, exiting.locals.globals);\n          }\n          exiting.locals = null;\n        }\n\n        // Enter 'to' states not kept\n        for (l = keep; l < toPath.length; l++) {\n          entering = toPath[l];\n          entering.locals = toLocals[l];\n          if (entering.self.onEnter) {\n            $injector.invoke(entering.self.onEnter, entering.self, entering.locals.globals);\n          }\n        }\n\n        // Run it again, to catch any transitions in callbacks\n        if ($state.transition !== transition) {\n          $rootScope.$broadcast('$stateChangeCancel', to.self, toParams, from.self, fromParams);\n          return TransitionSuperseded;\n        }\n\n        // Update globals in $state\n        $state.$current = to;\n        $state.current = to.self;\n        $state.params = toParams;\n        copy($state.params, $stateParams);\n        $state.transition = null;\n\n        if (options.location && to.navigable) {\n          $urlRouter.push(to.navigable.url, to.navigable.locals.globals.$stateParams, {\n            $$avoidResync: true, replace: options.location === 'replace'\n          });\n        }\n\n        if (options.notify) {\n        /**\n         * @ngdoc event\n         * @name ui.router.state.$state#$stateChangeSuccess\n         * @eventOf ui.router.state.$state\n         * @eventType broadcast on root scope\n         * @description\n         * Fired once the state transition is **complete**.\n         *\n         * @param {Object} event Event object.\n         * @param {State} toState The state being transitioned to.\n         * @param {Object} toParams The params supplied to the `toState`.\n         * @param {State} fromState The current state, pre-transition.\n         * @param {Object} fromParams The params supplied to the `fromState`.\n         */\n          $rootScope.$broadcast('$stateChangeSuccess', to.self, toParams, from.self, fromParams);\n        }\n        $urlRouter.update(true);\n\n        return $state.current;\n      }).then(null, function (error) {\n        // propagate TransitionSuperseded error without emitting $stateChangeCancel\n        // as it was already emitted in the success handler above\n        if (error === TransitionSupersededError) return TransitionSuperseded;\n\n        if ($state.transition !== transition) {\n          $rootScope.$broadcast('$stateChangeCancel', to.self, toParams, from.self, fromParams);\n          return TransitionSuperseded;\n        }\n\n        $state.transition = null;\n        /**\n         * @ngdoc event\n         * @name ui.router.state.$state#$stateChangeError\n         * @eventOf ui.router.state.$state\n         * @eventType broadcast on root scope\n         * @description\n         * Fired when an **error occurs** during transition. It's important to note that if you\n         * have any errors in your resolve functions (javascript errors, non-existent services, etc)\n         * they will not throw traditionally. You must listen for this $stateChangeError event to\n         * catch **ALL** errors.\n         *\n         * @param {Object} event Event object.\n         * @param {State} toState The state being transitioned to.\n         * @param {Object} toParams The params supplied to the `toState`.\n         * @param {State} fromState The current state, pre-transition.\n         * @param {Object} fromParams The params supplied to the `fromState`.\n         * @param {Error} error The resolve error object.\n         */\n        evt = $rootScope.$broadcast('$stateChangeError', to.self, toParams, from.self, fromParams, error);\n\n        if (!evt.defaultPrevented) {\n          $urlRouter.update();\n        }\n\n        return $q.reject(error);\n      });\n\n      silenceUncaughtInPromise(transition);\n      return transition;\n    };\n\n    /**\n     * @ngdoc function\n     * @name ui.router.state.$state#is\n     * @methodOf ui.router.state.$state\n     *\n     * @description\n     * Similar to {@link ui.router.state.$state#methods_includes $state.includes},\n     * but only checks for the full state name. If params is supplied then it will be\n     * tested for strict equality against the current active params object, so all params\n     * must match with none missing and no extras.\n     *\n     * @example\n     * <pre>\n     * $state.$current.name = 'contacts.details.item';\n     *\n     * // absolute name\n     * $state.is('contact.details.item'); // returns true\n     * $state.is(contactDetailItemStateObject); // returns true\n     *\n     * // relative name (. and ^), typically from a template\n     * // E.g. from the 'contacts.details' template\n     * <div ng-class=\"{highlighted: $state.is('.item')}\">Item</div>\n     * </pre>\n     *\n     * @param {string|object} stateOrName The state name (absolute or relative) or state object you'd like to check.\n     * @param {object=} params A param object, e.g. `{sectionId: section.id}`, that you'd like\n     * to test against the current active state.\n     * @param {object=} options An options object.  The options are:\n     *\n     * - **`relative`** - {string|object} -  If `stateOrName` is a relative state name and `options.relative` is set, .is will\n     * test relative to `options.relative` state (or name).\n     *\n     * @returns {boolean} Returns true if it is the state.\n     */\n    $state.is = function is(stateOrName, params, options) {\n      options = extend({ relative: $state.$current }, options || {});\n      var state = findState(stateOrName, options.relative);\n\n      if (!isDefined(state)) { return undefined; }\n      if ($state.$current !== state) { return false; }\n\n      return !params || objectKeys(params).reduce(function(acc, key) {\n        var paramDef = state.params[key];\n        return acc && !paramDef || paramDef.type.equals($stateParams[key], params[key]);\n      }, true);\n    };\n\n    /**\n     * @ngdoc function\n     * @name ui.router.state.$state#includes\n     * @methodOf ui.router.state.$state\n     *\n     * @description\n     * A method to determine if the current active state is equal to or is the child of the\n     * state stateName. If any params are passed then they will be tested for a match as well.\n     * Not all the parameters need to be passed, just the ones you'd like to test for equality.\n     *\n     * @example\n     * Partial and relative names\n     * <pre>\n     * $state.$current.name = 'contacts.details.item';\n     *\n     * // Using partial names\n     * $state.includes(\"contacts\"); // returns true\n     * $state.includes(\"contacts.details\"); // returns true\n     * $state.includes(\"contacts.details.item\"); // returns true\n     * $state.includes(\"contacts.list\"); // returns false\n     * $state.includes(\"about\"); // returns false\n     *\n     * // Using relative names (. and ^), typically from a template\n     * // E.g. from the 'contacts.details' template\n     * <div ng-class=\"{highlighted: $state.includes('.item')}\">Item</div>\n     * </pre>\n     *\n     * Basic globbing patterns\n     * <pre>\n     * $state.$current.name = 'contacts.details.item.url';\n     *\n     * $state.includes(\"*.details.*.*\"); // returns true\n     * $state.includes(\"*.details.**\"); // returns true\n     * $state.includes(\"**.item.**\"); // returns true\n     * $state.includes(\"*.details.item.url\"); // returns true\n     * $state.includes(\"*.details.*.url\"); // returns true\n     * $state.includes(\"*.details.*\"); // returns false\n     * $state.includes(\"item.**\"); // returns false\n     * </pre>\n     *\n     * @param {string} stateOrName A partial name, relative name, or glob pattern\n     * to be searched for within the current state name.\n     * @param {object=} params A param object, e.g. `{sectionId: section.id}`,\n     * that you'd like to test against the current active state.\n     * @param {object=} options An options object.  The options are:\n     *\n     * - **`relative`** - {string|object=} -  If `stateOrName` is a relative state reference and `options.relative` is set,\n     * .includes will test relative to `options.relative` state (or name).\n     *\n     * @returns {boolean} Returns true if it does include the state\n     */\n    $state.includes = function includes(stateOrName, params, options) {\n      options = extend({ relative: $state.$current }, options || {});\n      if (isString(stateOrName) && isGlob(stateOrName)) {\n        if (!doesStateMatchGlob(stateOrName)) {\n          return false;\n        }\n        stateOrName = $state.$current.name;\n      }\n\n      var state = findState(stateOrName, options.relative);\n      if (!isDefined(state)) { return undefined; }\n      if (!isDefined($state.$current.includes[state.name])) { return false; }\n      if (!params) { return true; }\n\n      var keys = objectKeys(params);\n      for (var i = 0; i < keys.length; i++) {\n        var key = keys[i], paramDef = state.params[key];\n        if (paramDef && !paramDef.type.equals($stateParams[key], params[key])) {\n          return false;\n        }\n      }\n\n      return objectKeys(params).reduce(function(acc, key) {\n        var paramDef = state.params[key];\n        return acc && !paramDef || paramDef.type.equals($stateParams[key], params[key]);\n      }, true);\n    };\n\n\n    /**\n     * @ngdoc function\n     * @name ui.router.state.$state#href\n     * @methodOf ui.router.state.$state\n     *\n     * @description\n     * A url generation method that returns the compiled url for the given state populated with the given params.\n     *\n     * @example\n     * <pre>\n     * expect($state.href(\"about.person\", { person: \"bob\" })).toEqual(\"/about/bob\");\n     * </pre>\n     *\n     * @param {string|object} stateOrName The state name or state object you'd like to generate a url from.\n     * @param {object=} params An object of parameter values to fill the state's required parameters.\n     * @param {object=} options Options object. The options are:\n     *\n     * - **`lossy`** - {boolean=true} -  If true, and if there is no url associated with the state provided in the\n     *    first parameter, then the constructed href url will be built from the first navigable ancestor (aka\n     *    ancestor with a valid url).\n     * - **`inherit`** - {boolean=true}, If `true` will inherit url parameters from current url.\n     * - **`relative`** - {object=$state.$current}, When transitioning with relative path (e.g '^'), \n     *    defines which state to be relative from.\n     * - **`absolute`** - {boolean=false},  If true will generate an absolute url, e.g. \"http://www.example.com/fullurl\".\n     * \n     * @returns {string} compiled state url\n     */\n    $state.href = function href(stateOrName, params, options) {\n      options = extend({\n        lossy:    true,\n        inherit:  true,\n        absolute: false,\n        relative: $state.$current\n      }, options || {});\n\n      var state = findState(stateOrName, options.relative);\n\n      if (!isDefined(state)) return null;\n      if (options.inherit) params = inheritParams($stateParams, params || {}, $state.$current, state);\n      \n      var nav = (state && options.lossy) ? state.navigable : state;\n\n      if (!nav || nav.url === undefined || nav.url === null) {\n        return null;\n      }\n      return $urlRouter.href(nav.url, filterByKeys(state.params.$$keys().concat('#'), params || {}), {\n        absolute: options.absolute\n      });\n    };\n\n    /**\n     * @ngdoc function\n     * @name ui.router.state.$state#get\n     * @methodOf ui.router.state.$state\n     *\n     * @description\n     * Returns the state configuration object for any specific state or all states.\n     *\n     * @param {string|object=} stateOrName (absolute or relative) If provided, will only get the config for\n     * the requested state. If not provided, returns an array of ALL state configs.\n     * @param {string|object=} context When stateOrName is a relative state reference, the state will be retrieved relative to context.\n     * @returns {Object|Array} State configuration object or array of all objects.\n     */\n    $state.get = function (stateOrName, context) {\n      if (arguments.length === 0) return map(objectKeys(states), function(name) { return states[name].self; });\n      var state = findState(stateOrName, context || $state.$current);\n      return (state && state.self) ? state.self : null;\n    };\n\n    function resolveState(state, params, paramsAreFiltered, inherited, dst, options) {\n      // Make a restricted $stateParams with only the parameters that apply to this state if\n      // necessary. In addition to being available to the controller and onEnter/onExit callbacks,\n      // we also need $stateParams to be available for any $injector calls we make during the\n      // dependency resolution process.\n      var $stateParams = (paramsAreFiltered) ? params : filterByKeys(state.params.$$keys(), params);\n      var locals = { $stateParams: $stateParams };\n\n      // Resolve 'global' dependencies for the state, i.e. those not specific to a view.\n      // We're also including $stateParams in this; that way the parameters are restricted\n      // to the set that should be visible to the state, and are independent of when we update\n      // the global $state and $stateParams values.\n      dst.resolve = $resolve.resolve(state.resolve, locals, dst.resolve, state);\n      var promises = [dst.resolve.then(function (globals) {\n        dst.globals = globals;\n      })];\n      if (inherited) promises.push(inherited);\n\n      function resolveViews() {\n        var viewsPromises = [];\n\n        // Resolve template and dependencies for all views.\n        forEach(state.views, function (view, name) {\n          var injectables = (view.resolve && view.resolve !== state.resolve ? view.resolve : {});\n          injectables.$template = [ function () {\n            return $view.load(name, { view: view, locals: dst.globals, params: $stateParams, notify: options.notify }) || '';\n          }];\n\n          viewsPromises.push($resolve.resolve(injectables, dst.globals, dst.resolve, state).then(function (result) {\n            // References to the controller (only instantiated at link time)\n            if (isFunction(view.controllerProvider) || isArray(view.controllerProvider)) {\n              var injectLocals = angular.extend({}, injectables, dst.globals);\n              result.$$controller = $injector.invoke(view.controllerProvider, null, injectLocals);\n            } else {\n              result.$$controller = view.controller;\n            }\n            // Provide access to the state itself for internal use\n            result.$$state = state;\n            result.$$controllerAs = view.controllerAs;\n            result.$$resolveAs = view.resolveAs;\n            dst[name] = result;\n          }));\n        });\n\n        return $q.all(viewsPromises).then(function(){\n          return dst.globals;\n        });\n      }\n\n      // Wait for all the promises and then return the activation object\n      return $q.all(promises).then(resolveViews).then(function (values) {\n        return dst;\n      });\n    }\n\n    return $state;\n  }\n\n  function shouldSkipReload(to, toParams, from, fromParams, locals, options) {\n    // Return true if there are no differences in non-search (path/object) params, false if there are differences\n    function nonSearchParamsEqual(fromAndToState, fromParams, toParams) {\n      // Identify whether all the parameters that differ between `fromParams` and `toParams` were search params.\n      function notSearchParam(key) {\n        return fromAndToState.params[key].location != \"search\";\n      }\n      var nonQueryParamKeys = fromAndToState.params.$$keys().filter(notSearchParam);\n      var nonQueryParams = pick.apply({}, [fromAndToState.params].concat(nonQueryParamKeys));\n      var nonQueryParamSet = new $$UMFP.ParamSet(nonQueryParams);\n      return nonQueryParamSet.$$equals(fromParams, toParams);\n    }\n\n    // If reload was not explicitly requested\n    // and we're transitioning to the same state we're already in\n    // and    the locals didn't change\n    //     or they changed in a way that doesn't merit reloading\n    //        (reloadOnParams:false, or reloadOnSearch.false and only search params changed)\n    // Then return true.\n    if (!options.reload && to === from &&\n      (locals === from.locals || (to.self.reloadOnSearch === false && nonSearchParamsEqual(from, fromParams, toParams)))) {\n      return true;\n    }\n  }\n}\n\nangular.module('ui.router.state')\n  .factory('$stateParams', function () { return {}; })\n  .constant(\"$state.runtime\", { autoinject: true })\n  .provider('$state', $StateProvider)\n  // Inject $state to initialize when entering runtime. #2574\n  .run(['$injector', function ($injector) {\n    // Allow tests (stateSpec.js) to turn this off by defining this constant\n    if ($injector.get(\"$state.runtime\").autoinject) {\n      $injector.get('$state');\n    }\n  }]);\n\n\n$ViewProvider.$inject = [];\nfunction $ViewProvider() {\n\n  this.$get = $get;\n  /**\n   * @ngdoc object\n   * @name ui.router.state.$view\n   *\n   * @requires ui.router.util.$templateFactory\n   * @requires $rootScope\n   *\n   * @description\n   *\n   */\n  $get.$inject = ['$rootScope', '$templateFactory'];\n  function $get(   $rootScope,   $templateFactory) {\n    return {\n      // $view.load('full.viewName', { template: ..., controller: ..., resolve: ..., async: false, params: ... })\n      /**\n       * @ngdoc function\n       * @name ui.router.state.$view#load\n       * @methodOf ui.router.state.$view\n       *\n       * @description\n       *\n       * @param {string} name name\n       * @param {object} options option object.\n       */\n      load: function load(name, options) {\n        var result, defaults = {\n          template: null, controller: null, view: null, locals: null, notify: true, async: true, params: {}\n        };\n        options = extend(defaults, options);\n\n        if (options.view) {\n          result = $templateFactory.fromConfig(options.view, options.params, options.locals);\n        }\n        return result;\n      }\n    };\n  }\n}\n\nangular.module('ui.router.state').provider('$view', $ViewProvider);\n\n/**\n * @ngdoc object\n * @name ui.router.state.$uiViewScrollProvider\n *\n * @description\n * Provider that returns the {@link ui.router.state.$uiViewScroll} service function.\n */\nfunction $ViewScrollProvider() {\n\n  var useAnchorScroll = false;\n\n  /**\n   * @ngdoc function\n   * @name ui.router.state.$uiViewScrollProvider#useAnchorScroll\n   * @methodOf ui.router.state.$uiViewScrollProvider\n   *\n   * @description\n   * Reverts back to using the core [`$anchorScroll`](http://docs.angularjs.org/api/ng.$anchorScroll) service for\n   * scrolling based on the url anchor.\n   */\n  this.useAnchorScroll = function () {\n    useAnchorScroll = true;\n  };\n\n  /**\n   * @ngdoc object\n   * @name ui.router.state.$uiViewScroll\n   *\n   * @requires $anchorScroll\n   * @requires $timeout\n   *\n   * @description\n   * When called with a jqLite element, it scrolls the element into view (after a\n   * `$timeout` so the DOM has time to refresh).\n   *\n   * If you prefer to rely on `$anchorScroll` to scroll the view to the anchor,\n   * this can be enabled by calling {@link ui.router.state.$uiViewScrollProvider#methods_useAnchorScroll `$uiViewScrollProvider.useAnchorScroll()`}.\n   */\n  this.$get = ['$anchorScroll', '$timeout', function ($anchorScroll, $timeout) {\n    if (useAnchorScroll) {\n      return $anchorScroll;\n    }\n\n    return function ($element) {\n      return $timeout(function () {\n        $element[0].scrollIntoView();\n      }, 0, false);\n    };\n  }];\n}\n\nangular.module('ui.router.state').provider('$uiViewScroll', $ViewScrollProvider);\n\n/**\n * @ngdoc directive\n * @name ui.router.state.directive:ui-view\n *\n * @requires ui.router.state.$state\n * @requires $compile\n * @requires $controller\n * @requires $injector\n * @requires ui.router.state.$uiViewScroll\n * @requires $document\n *\n * @restrict ECA\n *\n * @description\n * The ui-view directive tells $state where to place your templates.\n *\n * @param {string=} name A view name. The name should be unique amongst the other views in the\n * same state. You can have views of the same name that live in different states.\n *\n * @param {string=} autoscroll It allows you to set the scroll behavior of the browser window\n * when a view is populated. By default, $anchorScroll is overridden by ui-router's custom scroll\n * service, {@link ui.router.state.$uiViewScroll}. This custom service let's you\n * scroll ui-view elements into view when they are populated during a state activation.\n *\n * *Note: To revert back to old [`$anchorScroll`](http://docs.angularjs.org/api/ng.$anchorScroll)\n * functionality, call `$uiViewScrollProvider.useAnchorScroll()`.*\n *\n * @param {string=} onload Expression to evaluate whenever the view updates.\n *\n * @example\n * A view can be unnamed or named.\n * <pre>\n * <!-- Unnamed -->\n * <div ui-view></div>\n *\n * <!-- Named -->\n * <div ui-view=\"viewName\"></div>\n * </pre>\n *\n * You can only have one unnamed view within any template (or root html). If you are only using a\n * single view and it is unnamed then you can populate it like so:\n * <pre>\n * <div ui-view></div>\n * $stateProvider.state(\"home\", {\n *   template: \"<h1>HELLO!</h1>\"\n * })\n * </pre>\n *\n * The above is a convenient shortcut equivalent to specifying your view explicitly with the {@link ui.router.state.$stateProvider#methods_state `views`}\n * config property, by name, in this case an empty name:\n * <pre>\n * $stateProvider.state(\"home\", {\n *   views: {\n *     \"\": {\n *       template: \"<h1>HELLO!</h1>\"\n *     }\n *   }    \n * })\n * </pre>\n *\n * But typically you'll only use the views property if you name your view or have more than one view\n * in the same template. There's not really a compelling reason to name a view if its the only one,\n * but you could if you wanted, like so:\n * <pre>\n * <div ui-view=\"main\"></div>\n * </pre>\n * <pre>\n * $stateProvider.state(\"home\", {\n *   views: {\n *     \"main\": {\n *       template: \"<h1>HELLO!</h1>\"\n *     }\n *   }    \n * })\n * </pre>\n *\n * Really though, you'll use views to set up multiple views:\n * <pre>\n * <div ui-view></div>\n * <div ui-view=\"chart\"></div>\n * <div ui-view=\"data\"></div>\n * </pre>\n *\n * <pre>\n * $stateProvider.state(\"home\", {\n *   views: {\n *     \"\": {\n *       template: \"<h1>HELLO!</h1>\"\n *     },\n *     \"chart\": {\n *       template: \"<chart_thing/>\"\n *     },\n *     \"data\": {\n *       template: \"<data_thing/>\"\n *     }\n *   }    \n * })\n * </pre>\n *\n * Examples for `autoscroll`:\n *\n * <pre>\n * <!-- If autoscroll present with no expression,\n *      then scroll ui-view into view -->\n * <ui-view autoscroll/>\n *\n * <!-- If autoscroll present with valid expression,\n *      then scroll ui-view into view if expression evaluates to true -->\n * <ui-view autoscroll='true'/>\n * <ui-view autoscroll='false'/>\n * <ui-view autoscroll='scopeVariable'/>\n * </pre>\n *\n * Resolve data:\n *\n * The resolved data from the state's `resolve` block is placed on the scope as `$resolve` (this\n * can be customized using [[ViewDeclaration.resolveAs]]).  This can be then accessed from the template.\n *\n * Note that when `controllerAs` is being used, `$resolve` is set on the controller instance *after* the\n * controller is instantiated.  The `$onInit()` hook can be used to perform initialization code which\n * depends on `$resolve` data.\n *\n * Example usage of $resolve in a view template\n * <pre>\n * $stateProvider.state('home', {\n *   template: '<my-component user=\"$resolve.user\"></my-component>',\n *   resolve: {\n *     user: function(UserService) { return UserService.fetchUser(); }\n *   }\n * });\n * </pre>\n */\n$ViewDirective.$inject = ['$state', '$injector', '$uiViewScroll', '$interpolate', '$q'];\nfunction $ViewDirective(   $state,   $injector,   $uiViewScroll,   $interpolate,   $q) {\n\n  function getService() {\n    return ($injector.has) ? function(service) {\n      return $injector.has(service) ? $injector.get(service) : null;\n    } : function(service) {\n      try {\n        return $injector.get(service);\n      } catch (e) {\n        return null;\n      }\n    };\n  }\n\n  var service = getService(),\n      $animator = service('$animator'),\n      $animate = service('$animate');\n\n  // Returns a set of DOM manipulation functions based on which Angular version\n  // it should use\n  function getRenderer(attrs, scope) {\n    var statics = function() {\n      return {\n        enter: function (element, target, cb) { target.after(element); cb(); },\n        leave: function (element, cb) { element.remove(); cb(); }\n      };\n    };\n\n    if ($animate) {\n      return {\n        enter: function(element, target, cb) {\n          if (angular.version.minor > 2) {\n            $animate.enter(element, null, target).then(cb);\n          } else {\n            $animate.enter(element, null, target, cb);\n          }\n        },\n        leave: function(element, cb) {\n          if (angular.version.minor > 2) {\n            $animate.leave(element).then(cb);\n          } else {\n            $animate.leave(element, cb);\n          }\n        }\n      };\n    }\n\n    if ($animator) {\n      var animate = $animator && $animator(scope, attrs);\n\n      return {\n        enter: function(element, target, cb) {animate.enter(element, null, target); cb(); },\n        leave: function(element, cb) { animate.leave(element); cb(); }\n      };\n    }\n\n    return statics();\n  }\n\n  var directive = {\n    restrict: 'ECA',\n    terminal: true,\n    priority: 400,\n    transclude: 'element',\n    compile: function (tElement, tAttrs, $transclude) {\n      return function (scope, $element, attrs) {\n        var previousEl, currentEl, currentScope, latestLocals,\n            onloadExp     = attrs.onload || '',\n            autoScrollExp = attrs.autoscroll,\n            renderer      = getRenderer(attrs, scope),\n            inherited     = $element.inheritedData('$uiView');\n\n        scope.$on('$stateChangeSuccess', function() {\n          updateView(false);\n        });\n\n        updateView(true);\n\n        function cleanupLastView() {\n          if (previousEl) {\n            previousEl.remove();\n            previousEl = null;\n          }\n\n          if (currentScope) {\n            currentScope.$destroy();\n            currentScope = null;\n          }\n\n          if (currentEl) {\n            var $uiViewData = currentEl.data('$uiViewAnim');\n            renderer.leave(currentEl, function() {\n              $uiViewData.$$animLeave.resolve();\n              previousEl = null;\n            });\n\n            previousEl = currentEl;\n            currentEl = null;\n          }\n        }\n\n        function updateView(firstTime) {\n          var newScope,\n              name            = getUiViewName(scope, attrs, $element, $interpolate),\n              previousLocals  = name && $state.$current && $state.$current.locals[name];\n\n          if (!firstTime && previousLocals === latestLocals) return; // nothing to do\n          newScope = scope.$new();\n          latestLocals = $state.$current.locals[name];\n\n          /**\n           * @ngdoc event\n           * @name ui.router.state.directive:ui-view#$viewContentLoading\n           * @eventOf ui.router.state.directive:ui-view\n           * @eventType emits on ui-view directive scope\n           * @description\n           *\n           * Fired once the view **begins loading**, *before* the DOM is rendered.\n           *\n           * @param {Object} event Event object.\n           * @param {string} viewName Name of the view.\n           */\n          newScope.$emit('$viewContentLoading', name);\n\n          var clone = $transclude(newScope, function(clone) {\n            var animEnter = $q.defer(), animLeave = $q.defer();\n            var viewAnimData = {\n              $animEnter: animEnter.promise,\n              $animLeave: animLeave.promise,\n              $$animLeave: animLeave\n            };\n\n            clone.data('$uiViewAnim', viewAnimData);\n            renderer.enter(clone, $element, function onUiViewEnter() {\n              animEnter.resolve();\n              if(currentScope) {\n                currentScope.$emit('$viewContentAnimationEnded');\n              }\n\n              if (angular.isDefined(autoScrollExp) && !autoScrollExp || scope.$eval(autoScrollExp)) {\n                $uiViewScroll(clone);\n              }\n            });\n            cleanupLastView();\n          });\n\n          currentEl = clone;\n          currentScope = newScope;\n          /**\n           * @ngdoc event\n           * @name ui.router.state.directive:ui-view#$viewContentLoaded\n           * @eventOf ui.router.state.directive:ui-view\n           * @eventType emits on ui-view directive scope\n           * @description\n           * Fired once the view is **loaded**, *after* the DOM is rendered.\n           *\n           * @param {Object} event Event object.\n           * @param {string} viewName Name of the view.\n           */\n          currentScope.$emit('$viewContentLoaded', name);\n          currentScope.$eval(onloadExp);\n        }\n      };\n    }\n  };\n\n  return directive;\n}\n\n$ViewDirectiveFill.$inject = ['$compile', '$controller', '$state', '$interpolate'];\nfunction $ViewDirectiveFill (  $compile,   $controller,   $state,   $interpolate) {\n  return {\n    restrict: 'ECA',\n    priority: -400,\n    compile: function (tElement) {\n      var initial = tElement.html();\n      if (tElement.empty) {\n        tElement.empty();\n      } else {\n        // ng 1.0.0 doesn't have empty(), which cleans up data and handlers\n        tElement[0].innerHTML = null;\n      }\n\n      return function (scope, $element, attrs) {\n        var current = $state.$current,\n            name = getUiViewName(scope, attrs, $element, $interpolate),\n            locals  = current && current.locals[name];\n\n        if (! locals) {\n          $element.html(initial);\n          $compile($element.contents())(scope);\n          return;\n        }\n\n        $element.data('$uiView', { name: name, state: locals.$$state });\n        $element.html(locals.$template ? locals.$template : initial);\n\n        var resolveData = angular.extend({}, locals);\n        scope[locals.$$resolveAs] = resolveData;\n\n        var link = $compile($element.contents());\n\n        if (locals.$$controller) {\n          locals.$scope = scope;\n          locals.$element = $element;\n          var controller = $controller(locals.$$controller, locals);\n          if (locals.$$controllerAs) {\n            scope[locals.$$controllerAs] = controller;\n            scope[locals.$$controllerAs][locals.$$resolveAs] = resolveData;\n          }\n          if (isFunction(controller.$onInit)) controller.$onInit();\n          $element.data('$ngControllerController', controller);\n          $element.children().data('$ngControllerController', controller);\n        }\n\n        link(scope);\n      };\n    }\n  };\n}\n\n/**\n * Shared ui-view code for both directives:\n * Given scope, element, and its attributes, return the view's name\n */\nfunction getUiViewName(scope, attrs, element, $interpolate) {\n  var name = $interpolate(attrs.uiView || attrs.name || '')(scope);\n  var uiViewCreatedBy = element.inheritedData('$uiView');\n  return name.indexOf('@') >= 0 ?  name :  (name + '@' + (uiViewCreatedBy ? uiViewCreatedBy.state.name : ''));\n}\n\nangular.module('ui.router.state').directive('uiView', $ViewDirective);\nangular.module('ui.router.state').directive('uiView', $ViewDirectiveFill);\n\nfunction parseStateRef(ref, current) {\n  var preparsed = ref.match(/^\\s*({[^}]*})\\s*$/), parsed;\n  if (preparsed) ref = current + '(' + preparsed[1] + ')';\n  parsed = ref.replace(/\\n/g, \" \").match(/^([^(]+?)\\s*(\\((.*)\\))?$/);\n  if (!parsed || parsed.length !== 4) throw new Error(\"Invalid state ref '\" + ref + \"'\");\n  return { state: parsed[1], paramExpr: parsed[3] || null };\n}\n\nfunction stateContext(el) {\n  var stateData = el.parent().inheritedData('$uiView');\n\n  if (stateData && stateData.state && stateData.state.name) {\n    return stateData.state;\n  }\n}\n\nfunction getTypeInfo(el) {\n  // SVGAElement does not use the href attribute, but rather the 'xlinkHref' attribute.\n  var isSvg = Object.prototype.toString.call(el.prop('href')) === '[object SVGAnimatedString]';\n  var isForm = el[0].nodeName === \"FORM\";\n\n  return {\n    attr: isForm ? \"action\" : (isSvg ? 'xlink:href' : 'href'),\n    isAnchor: el.prop(\"tagName\").toUpperCase() === \"A\",\n    clickable: !isForm\n  };\n}\n\nfunction clickHook(el, $state, $timeout, type, current) {\n  return function(e) {\n    var button = e.which || e.button, target = current();\n\n    if (!(button > 1 || e.ctrlKey || e.metaKey || e.shiftKey || el.attr('target'))) {\n      // HACK: This is to allow ng-clicks to be processed before the transition is initiated:\n      var transition = $timeout(function() {\n        $state.go(target.state, target.params, target.options);\n      });\n      e.preventDefault();\n\n      // if the state has no URL, ignore one preventDefault from the <a> directive.\n      var ignorePreventDefaultCount = type.isAnchor && !target.href ? 1: 0;\n\n      e.preventDefault = function() {\n        if (ignorePreventDefaultCount-- <= 0) $timeout.cancel(transition);\n      };\n    }\n  };\n}\n\nfunction defaultOpts(el, $state) {\n  return { relative: stateContext(el) || $state.$current, inherit: true };\n}\n\n/**\n * @ngdoc directive\n * @name ui.router.state.directive:ui-sref\n *\n * @requires ui.router.state.$state\n * @requires $timeout\n *\n * @restrict A\n *\n * @description\n * A directive that binds a link (`<a>` tag) to a state. If the state has an associated\n * URL, the directive will automatically generate & update the `href` attribute via\n * the {@link ui.router.state.$state#methods_href $state.href()} method. Clicking\n * the link will trigger a state transition with optional parameters.\n *\n * Also middle-clicking, right-clicking, and ctrl-clicking on the link will be\n * handled natively by the browser.\n *\n * You can also use relative state paths within ui-sref, just like the relative\n * paths passed to `$state.go()`. You just need to be aware that the path is relative\n * to the state that the link lives in, in other words the state that loaded the\n * template containing the link.\n *\n * You can specify options to pass to {@link ui.router.state.$state#methods_go $state.go()}\n * using the `ui-sref-opts` attribute. Options are restricted to `location`, `inherit`,\n * and `reload`.\n *\n * @example\n * Here's an example of how you'd use ui-sref and how it would compile. If you have the\n * following template:\n * <pre>\n * <a ui-sref=\"home\">Home</a> | <a ui-sref=\"about\">About</a> | <a ui-sref=\"{page: 2}\">Next page</a>\n *\n * <ul>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a ui-sref=\"contacts.detail({ id: contact.id })\">{{ contact.name }}</a>\n *     </li>\n * </ul>\n * </pre>\n *\n * Then the compiled html would be (assuming Html5Mode is off and current state is contacts):\n * <pre>\n * <a href=\"#/home\" ui-sref=\"home\">Home</a> | <a href=\"#/about\" ui-sref=\"about\">About</a> | <a href=\"#/contacts?page=2\" ui-sref=\"{page: 2}\">Next page</a>\n *\n * <ul>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a href=\"#/contacts/1\" ui-sref=\"contacts.detail({ id: contact.id })\">Joe</a>\n *     </li>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a href=\"#/contacts/2\" ui-sref=\"contacts.detail({ id: contact.id })\">Alice</a>\n *     </li>\n *     <li ng-repeat=\"contact in contacts\">\n *         <a href=\"#/contacts/3\" ui-sref=\"contacts.detail({ id: contact.id })\">Bob</a>\n *     </li>\n * </ul>\n *\n * <a ui-sref=\"home\" ui-sref-opts=\"{reload: true}\">Home</a>\n * </pre>\n *\n * @param {string} ui-sref 'stateName' can be any valid absolute or relative state\n * @param {Object} ui-sref-opts options to pass to {@link ui.router.state.$state#methods_go $state.go()}\n */\n$StateRefDirective.$inject = ['$state', '$timeout'];\nfunction $StateRefDirective($state, $timeout) {\n  return {\n    restrict: 'A',\n    require: ['?^uiSrefActive', '?^uiSrefActiveEq'],\n    link: function(scope, element, attrs, uiSrefActive) {\n      var ref    = parseStateRef(attrs.uiSref, $state.current.name);\n      var def    = { state: ref.state, href: null, params: null };\n      var type   = getTypeInfo(element);\n      var active = uiSrefActive[1] || uiSrefActive[0];\n      var unlinkInfoFn = null;\n      var hookFn;\n\n      def.options = extend(defaultOpts(element, $state), attrs.uiSrefOpts ? scope.$eval(attrs.uiSrefOpts) : {});\n\n      var update = function(val) {\n        if (val) def.params = angular.copy(val);\n        def.href = $state.href(ref.state, def.params, def.options);\n\n        if (unlinkInfoFn) unlinkInfoFn();\n        if (active) unlinkInfoFn = active.$$addStateInfo(ref.state, def.params);\n        if (def.href !== null) attrs.$set(type.attr, def.href);\n      };\n\n      if (ref.paramExpr) {\n        scope.$watch(ref.paramExpr, function(val) { if (val !== def.params) update(val); }, true);\n        def.params = angular.copy(scope.$eval(ref.paramExpr));\n      }\n      update();\n\n      if (!type.clickable) return;\n      hookFn = clickHook(element, $state, $timeout, type, function() { return def; });\n      element[element.on ? 'on' : 'bind'](\"click\", hookFn);\n      scope.$on('$destroy', function() {\n        element[element.off ? 'off' : 'unbind'](\"click\", hookFn);\n      });\n    }\n  };\n}\n\n/**\n * @ngdoc directive\n * @name ui.router.state.directive:ui-state\n *\n * @requires ui.router.state.uiSref\n *\n * @restrict A\n *\n * @description\n * Much like ui-sref, but will accept named $scope properties to evaluate for a state definition,\n * params and override options.\n *\n * @param {string} ui-state 'stateName' can be any valid absolute or relative state\n * @param {Object} ui-state-params params to pass to {@link ui.router.state.$state#methods_href $state.href()}\n * @param {Object} ui-state-opts options to pass to {@link ui.router.state.$state#methods_go $state.go()}\n */\n$StateRefDynamicDirective.$inject = ['$state', '$timeout'];\nfunction $StateRefDynamicDirective($state, $timeout) {\n  return {\n    restrict: 'A',\n    require: ['?^uiSrefActive', '?^uiSrefActiveEq'],\n    link: function(scope, element, attrs, uiSrefActive) {\n      var type   = getTypeInfo(element);\n      var active = uiSrefActive[1] || uiSrefActive[0];\n      var group  = [attrs.uiState, attrs.uiStateParams || null, attrs.uiStateOpts || null];\n      var watch  = '[' + group.map(function(val) { return val || 'null'; }).join(', ') + ']';\n      var def    = { state: null, params: null, options: null, href: null };\n      var unlinkInfoFn = null;\n      var hookFn;\n\n      function runStateRefLink (group) {\n        def.state = group[0]; def.params = group[1]; def.options = group[2];\n        def.href = $state.href(def.state, def.params, def.options);\n\n        if (unlinkInfoFn) unlinkInfoFn();\n        if (active) unlinkInfoFn = active.$$addStateInfo(def.state, def.params);\n        if (def.href) attrs.$set(type.attr, def.href);\n      }\n\n      scope.$watch(watch, runStateRefLink, true);\n      runStateRefLink(scope.$eval(watch));\n\n      if (!type.clickable) return;\n      hookFn = clickHook(element, $state, $timeout, type, function() { return def; });\n      element[element.on ? 'on' : 'bind'](\"click\", hookFn);\n      scope.$on('$destroy', function() {\n        element[element.off ? 'off' : 'unbind'](\"click\", hookFn);\n      });\n    }\n  };\n}\n\n\n/**\n * @ngdoc directive\n * @name ui.router.state.directive:ui-sref-active\n *\n * @requires ui.router.state.$state\n * @requires ui.router.state.$stateParams\n * @requires $interpolate\n *\n * @restrict A\n *\n * @description\n * A directive working alongside ui-sref to add classes to an element when the\n * related ui-sref directive's state is active, and removing them when it is inactive.\n * The primary use-case is to simplify the special appearance of navigation menus\n * relying on `ui-sref`, by having the \"active\" state's menu button appear different,\n * distinguishing it from the inactive menu items.\n *\n * ui-sref-active can live on the same element as ui-sref or on a parent element. The first\n * ui-sref-active found at the same level or above the ui-sref will be used.\n *\n * Will activate when the ui-sref's target state or any child state is active. If you\n * need to activate only when the ui-sref target state is active and *not* any of\n * it's children, then you will use\n * {@link ui.router.state.directive:ui-sref-active-eq ui-sref-active-eq}\n *\n * @example\n * Given the following template:\n * <pre>\n * <ul>\n *   <li ui-sref-active=\"active\" class=\"item\">\n *     <a href ui-sref=\"app.user({user: 'bilbobaggins'})\">@bilbobaggins</a>\n *   </li>\n * </ul>\n * </pre>\n *\n *\n * When the app state is \"app.user\" (or any children states), and contains the state parameter \"user\" with value \"bilbobaggins\",\n * the resulting HTML will appear as (note the 'active' class):\n * <pre>\n * <ul>\n *   <li ui-sref-active=\"active\" class=\"item active\">\n *     <a ui-sref=\"app.user({user: 'bilbobaggins'})\" href=\"/users/bilbobaggins\">@bilbobaggins</a>\n *   </li>\n * </ul>\n * </pre>\n *\n * The class name is interpolated **once** during the directives link time (any further changes to the\n * interpolated value are ignored).\n *\n * Multiple classes may be specified in a space-separated format:\n * <pre>\n * <ul>\n *   <li ui-sref-active='class1 class2 class3'>\n *     <a ui-sref=\"app.user\">link</a>\n *   </li>\n * </ul>\n * </pre>\n *\n * It is also possible to pass ui-sref-active an expression that evaluates\n * to an object hash, whose keys represent active class names and whose\n * values represent the respective state names/globs.\n * ui-sref-active will match if the current active state **includes** any of\n * the specified state names/globs, even the abstract ones.\n *\n * @Example\n * Given the following template, with \"admin\" being an abstract state:\n * <pre>\n * <div ui-sref-active=\"{'active': 'admin.*'}\">\n *   <a ui-sref-active=\"active\" ui-sref=\"admin.roles\">Roles</a>\n * </div>\n * </pre>\n *\n * When the current state is \"admin.roles\" the \"active\" class will be applied\n * to both the <div> and <a> elements. It is important to note that the state\n * names/globs passed to ui-sref-active shadow the state provided by ui-sref.\n */\n\n/**\n * @ngdoc directive\n * @name ui.router.state.directive:ui-sref-active-eq\n *\n * @requires ui.router.state.$state\n * @requires ui.router.state.$stateParams\n * @requires $interpolate\n *\n * @restrict A\n *\n * @description\n * The same as {@link ui.router.state.directive:ui-sref-active ui-sref-active} but will only activate\n * when the exact target state used in the `ui-sref` is active; no child states.\n *\n */\n$StateRefActiveDirective.$inject = ['$state', '$stateParams', '$interpolate'];\nfunction $StateRefActiveDirective($state, $stateParams, $interpolate) {\n  return  {\n    restrict: \"A\",\n    controller: ['$scope', '$element', '$attrs', '$timeout', function ($scope, $element, $attrs, $timeout) {\n      var states = [], activeClasses = {}, activeEqClass, uiSrefActive;\n\n      // There probably isn't much point in $observing this\n      // uiSrefActive and uiSrefActiveEq share the same directive object with some\n      // slight difference in logic routing\n      activeEqClass = $interpolate($attrs.uiSrefActiveEq || '', false)($scope);\n\n      try {\n        uiSrefActive = $scope.$eval($attrs.uiSrefActive);\n      } catch (e) {\n        // Do nothing. uiSrefActive is not a valid expression.\n        // Fall back to using $interpolate below\n      }\n      uiSrefActive = uiSrefActive || $interpolate($attrs.uiSrefActive || '', false)($scope);\n      if (isObject(uiSrefActive)) {\n        forEach(uiSrefActive, function(stateOrName, activeClass) {\n          if (isString(stateOrName)) {\n            var ref = parseStateRef(stateOrName, $state.current.name);\n            addState(ref.state, $scope.$eval(ref.paramExpr), activeClass);\n          }\n        });\n      }\n\n      // Allow uiSref to communicate with uiSrefActive[Equals]\n      this.$$addStateInfo = function (newState, newParams) {\n        // we already got an explicit state provided by ui-sref-active, so we\n        // shadow the one that comes from ui-sref\n        if (isObject(uiSrefActive) && states.length > 0) {\n          return;\n        }\n        var deregister = addState(newState, newParams, uiSrefActive);\n        update();\n        return deregister;\n      };\n\n      $scope.$on('$stateChangeSuccess', update);\n\n      function addState(stateName, stateParams, activeClass) {\n        var state = $state.get(stateName, stateContext($element));\n        var stateHash = createStateHash(stateName, stateParams);\n\n        var stateInfo = {\n          state: state || { name: stateName },\n          params: stateParams,\n          hash: stateHash\n        };\n\n        states.push(stateInfo);\n        activeClasses[stateHash] = activeClass;\n\n        return function removeState() {\n          var idx = states.indexOf(stateInfo);\n          if (idx !== -1) states.splice(idx, 1);\n        };\n      }\n\n      /**\n       * @param {string} state\n       * @param {Object|string} [params]\n       * @return {string}\n       */\n      function createStateHash(state, params) {\n        if (!isString(state)) {\n          throw new Error('state should be a string');\n        }\n        if (isObject(params)) {\n          return state + toJson(params);\n        }\n        params = $scope.$eval(params);\n        if (isObject(params)) {\n          return state + toJson(params);\n        }\n        return state;\n      }\n\n      // Update route state\n      function update() {\n        for (var i = 0; i < states.length; i++) {\n          if (anyMatch(states[i].state, states[i].params)) {\n            addClass($element, activeClasses[states[i].hash]);\n          } else {\n            removeClass($element, activeClasses[states[i].hash]);\n          }\n\n          if (exactMatch(states[i].state, states[i].params)) {\n            addClass($element, activeEqClass);\n          } else {\n            removeClass($element, activeEqClass);\n          }\n        }\n      }\n\n      function addClass(el, className) { $timeout(function () { el.addClass(className); }); }\n      function removeClass(el, className) { el.removeClass(className); }\n      function anyMatch(state, params) { return $state.includes(state.name, params); }\n      function exactMatch(state, params) { return $state.is(state.name, params); }\n\n      update();\n    }]\n  };\n}\n\nangular.module('ui.router.state')\n  .directive('uiSref', $StateRefDirective)\n  .directive('uiSrefActive', $StateRefActiveDirective)\n  .directive('uiSrefActiveEq', $StateRefActiveDirective)\n  .directive('uiState', $StateRefDynamicDirective);\n\n/**\n * @ngdoc filter\n * @name ui.router.state.filter:isState\n *\n * @requires ui.router.state.$state\n *\n * @description\n * Translates to {@link ui.router.state.$state#methods_is $state.is(\"stateName\")}.\n */\n$IsStateFilter.$inject = ['$state'];\nfunction $IsStateFilter($state) {\n  var isFilter = function (state, params) {\n    return $state.is(state, params);\n  };\n  isFilter.$stateful = true;\n  return isFilter;\n}\n\n/**\n * @ngdoc filter\n * @name ui.router.state.filter:includedByState\n *\n * @requires ui.router.state.$state\n *\n * @description\n * Translates to {@link ui.router.state.$state#methods_includes $state.includes('fullOrPartialStateName')}.\n */\n$IncludedByStateFilter.$inject = ['$state'];\nfunction $IncludedByStateFilter($state) {\n  var includesFilter = function (state, params, options) {\n    return $state.includes(state, params, options);\n  };\n  includesFilter.$stateful = true;\n  return  includesFilter;\n}\n\nangular.module('ui.router.state')\n  .filter('isState', $IsStateFilter)\n  .filter('includedByState', $IncludedByStateFilter);\n})(window, window.angular);","/**\r\n * © Copyright IBM Corp. 2016, 2017 All Rights Reserved\r\n *   Project name: JSONata\r\n *   This project is licensed under the MIT License, see LICENSE\r\n */\r\n\r\n/**\r\n * @module JSONata\r\n * @description JSON query and transformation language\r\n */\r\n\r\n/**\r\n * jsonata\r\n * @function\r\n * @param {Object} expr - JSONata expression\r\n * @returns {{evaluate: evaluate, assign: assign}} Evaluated expression\r\n */\r\nvar jsonata = (function() {\r\n    'use strict';\r\n\r\n    var operators = {\r\n        '.': 75,\r\n        '[': 80,\r\n        ']': 0,\r\n        '{': 70,\r\n        '}': 0,\r\n        '(': 80,\r\n        ')': 0,\r\n        ',': 0,\r\n        '@': 75,\r\n        '#': 70,\r\n        ';': 80,\r\n        ':': 80,\r\n        '?': 20,\r\n        '+': 50,\r\n        '-': 50,\r\n        '*': 60,\r\n        '/': 60,\r\n        '%': 60,\r\n        '|': 20,\r\n        '=': 40,\r\n        '<': 40,\r\n        '>': 40,\r\n        '`': 80,\r\n        '**': 60,\r\n        '..': 20,\r\n        ':=': 10,\r\n        '!=': 40,\r\n        '<=': 40,\r\n        '>=': 40,\r\n        '~>': 40,\r\n        'and': 30,\r\n        'or': 25,\r\n        'in': 40,\r\n        '&': 50,\r\n        '!': 0,   // not an operator, but needed as a stop character for name tokens\r\n        '~': 0   // not an operator, but needed as a stop character for name tokens\r\n    };\r\n\r\n    var escapes = {  // JSON string escape sequences - see json.org\r\n        '\"': '\"',\r\n        '\\\\': '\\\\',\r\n        '/': '/',\r\n        'b': '\\b',\r\n        'f': '\\f',\r\n        'n': '\\n',\r\n        'r': '\\r',\r\n        't': '\\t'\r\n    };\r\n\r\n    // Tokenizer (lexer) - invoked by the parser to return one token at a time\r\n    var tokenizer = function (path) {\r\n        var position = 0;\r\n        var length = path.length;\r\n\r\n        var create = function (type, value) {\r\n            var obj = {type: type, value: value, position: position};\r\n            return obj;\r\n        };\r\n\r\n        var scanRegex = function() {\r\n            // the prefix '/' will have been previously scanned. Find the end of the regex.\r\n            // search for closing '/' ignoring any that are escaped, or within brackets\r\n            var start = position;\r\n            var depth = 0;\r\n            var pattern;\r\n            var flags;\r\n            while(position < length) {\r\n                var currentChar = path.charAt(position);\r\n                if(currentChar === '/' && path.charAt(position - 1) !== '\\\\' && depth === 0) {\r\n                    // end of regex found\r\n                    pattern = path.substring(start, position);\r\n                    if(pattern === '') {\r\n                        throw {\r\n                            code: \"S0301\",\r\n                            stack: (new Error()).stack,\r\n                            position: position\r\n                        };\r\n                    }\r\n                    position++;\r\n                    currentChar = path.charAt(position);\r\n                    // flags\r\n                    start = position;\r\n                    while(currentChar === 'i' || currentChar === 'm') {\r\n                        position++;\r\n                        currentChar = path.charAt(position);\r\n                    }\r\n                    flags = path.substring(start, position) + 'g';\r\n                    return new RegExp(pattern, flags);\r\n                }\r\n                if((currentChar === '(' || currentChar === '[' || currentChar === '{') && path.charAt(position - 1) !== '\\\\' ) {\r\n                    depth++;\r\n                }\r\n                if((currentChar === ')' || currentChar === ']' || currentChar === '}') && path.charAt(position - 1) !== '\\\\' ) {\r\n                    depth--;\r\n                }\r\n\r\n                position++;\r\n            }\r\n            throw {\r\n                code: \"S0302\",\r\n                stack: (new Error()).stack,\r\n                position: position\r\n            };\r\n        };\r\n\r\n        var next = function (prefix) {\r\n            if (position >= length) return null;\r\n            var currentChar = path.charAt(position);\r\n            // skip whitespace\r\n            while (position < length && ' \\t\\n\\r\\v'.indexOf(currentChar) > -1) {\r\n                position++;\r\n                currentChar = path.charAt(position);\r\n            }\r\n            // test for regex\r\n            if (prefix !== true && currentChar === '/') {\r\n                position++;\r\n                return create('regex', scanRegex());\r\n            }\r\n            // handle double-char operators\r\n            if (currentChar === '.' && path.charAt(position + 1) === '.') {\r\n                // double-dot .. range operator\r\n                position += 2;\r\n                return create('operator', '..');\r\n            }\r\n            if (currentChar === ':' && path.charAt(position + 1) === '=') {\r\n                // := assignment\r\n                position += 2;\r\n                return create('operator', ':=');\r\n            }\r\n            if (currentChar === '!' && path.charAt(position + 1) === '=') {\r\n                // !=\r\n                position += 2;\r\n                return create('operator', '!=');\r\n            }\r\n            if (currentChar === '>' && path.charAt(position + 1) === '=') {\r\n                // >=\r\n                position += 2;\r\n                return create('operator', '>=');\r\n            }\r\n            if (currentChar === '<' && path.charAt(position + 1) === '=') {\r\n                // <=\r\n                position += 2;\r\n                return create('operator', '<=');\r\n            }\r\n            if (currentChar === '*' && path.charAt(position + 1) === '*') {\r\n                // **  descendant wildcard\r\n                position += 2;\r\n                return create('operator', '**');\r\n            }\r\n            if (currentChar === '~' && path.charAt(position + 1) === '>') {\r\n                // ~>  chain function\r\n                position += 2;\r\n                return create('operator', '~>');\r\n            }\r\n            // test for single char operators\r\n            if (operators.hasOwnProperty(currentChar)) {\r\n                position++;\r\n                return create('operator', currentChar);\r\n            }\r\n            // test for string literals\r\n            if (currentChar === '\"' || currentChar === \"'\") {\r\n                var quoteType = currentChar;\r\n                // double quoted string literal - find end of string\r\n                position++;\r\n                var qstr = \"\";\r\n                while (position < length) {\r\n                    currentChar = path.charAt(position);\r\n                    if (currentChar === '\\\\') { // escape sequence\r\n                        position++;\r\n                        currentChar = path.charAt(position);\r\n                        if (escapes.hasOwnProperty(currentChar)) {\r\n                            qstr += escapes[currentChar];\r\n                        } else if (currentChar === 'u') {\r\n                            // \\u should be followed by 4 hex digits\r\n                            var octets = path.substr(position + 1, 4);\r\n                            if (/^[0-9a-fA-F]+$/.test(octets)) {\r\n                                var codepoint = parseInt(octets, 16);\r\n                                qstr += String.fromCharCode(codepoint);\r\n                                position += 4;\r\n                            } else {\r\n                                throw {\r\n                                    code: \"S0104\",\r\n                                    stack: (new Error()).stack,\r\n                                    position: position\r\n                                };\r\n                            }\r\n                        } else {\r\n                            // illegal escape sequence\r\n                            throw {\r\n                                code: \"S0103\",\r\n                                stack: (new Error()).stack,\r\n                                position: position,\r\n                                token: currentChar\r\n                            };\r\n\r\n                        }\r\n                    } else if (currentChar === quoteType) {\r\n                        position++;\r\n                        return create('string', qstr);\r\n                    } else {\r\n                        qstr += currentChar;\r\n                    }\r\n                    position++;\r\n                }\r\n                throw {\r\n                    code: \"S0101\",\r\n                    stack: (new Error()).stack,\r\n                    position: position\r\n                };\r\n            }\r\n            // test for numbers\r\n            var numregex = /^-?(0|([1-9][0-9]*))(\\.[0-9]+)?([Ee][-+]?[0-9]+)?/;\r\n            var match = numregex.exec(path.substring(position));\r\n            if (match !== null) {\r\n                var num = parseFloat(match[0]);\r\n                if (!isNaN(num) && isFinite(num)) {\r\n                    position += match[0].length;\r\n                    return create('number', num);\r\n                } else {\r\n                    throw {\r\n                        code: \"S0102\",\r\n                        stack: (new Error()).stack,\r\n                        position: position,\r\n                        token: match[0]\r\n                    };\r\n                }\r\n            }\r\n            // test for names\r\n            var i = position;\r\n            var ch;\r\n            var name;\r\n            for (;;) {\r\n                ch = path.charAt(i);\r\n                if (i === length || ' \\t\\n\\r\\v'.indexOf(ch) > -1 || operators.hasOwnProperty(ch)) {\r\n                    if (path.charAt(position) === '$') {\r\n                        // variable reference\r\n                        name = path.substring(position + 1, i);\r\n                        position = i;\r\n                        return create('variable', name);\r\n                    } else {\r\n                        name = path.substring(position, i);\r\n                        position = i;\r\n                        switch (name) {\r\n                            case 'or':\r\n                            case 'in':\r\n                            case 'and':\r\n                                return create('operator', name);\r\n                            case 'true':\r\n                                return create('value', true);\r\n                            case 'false':\r\n                                return create('value', false);\r\n                            case 'null':\r\n                                return create('value', null);\r\n                            default:\r\n                                if (position === length && name === '') {\r\n                                    // whitespace at end of input\r\n                                    return null;\r\n                                }\r\n                                return create('name', name);\r\n                        }\r\n                    }\r\n                } else {\r\n                    i++;\r\n                }\r\n            }\r\n        };\r\n\r\n        return next;\r\n    };\r\n\r\n    /**\r\n     * Parses a function signature definition and returns a validation function\r\n     * @param {string} signature - the signature between the <angle brackets>\r\n     * @returns {Function} validation function\r\n     */\r\n    function parseSignature(signature) {\r\n        // create a Regex that represents this signature and return a function that when invoked,\r\n        // returns the validated (possibly fixed-up) arguments, or throws a validation error\r\n        // step through the signature, one symbol at a time\r\n        var position = 1;\r\n        var params = [];\r\n        var param = {};\r\n        var prevParam = param;\r\n        while (position < signature.length) {\r\n            var symbol = signature.charAt(position);\r\n            if(symbol === ':') {\r\n                // TODO figure out what to do with the return type\r\n                // ignore it for now\r\n                break;\r\n            }\r\n\r\n            var next = function() {\r\n                params.push(param);\r\n                prevParam = param;\r\n                param = {};\r\n            };\r\n\r\n            var findClosingBracket = function(str, start, openSymbol, closeSymbol) {\r\n                // returns the position of the closing symbol (e.g. bracket) in a string\r\n                // that balances the opening symbol at position start\r\n                var depth = 1;\r\n                var position = start;\r\n                while(position < str.length) {\r\n                    position++;\r\n                    symbol = str.charAt(position);\r\n                    if(symbol === closeSymbol) {\r\n                        depth--;\r\n                        if(depth === 0) {\r\n                            // we're done\r\n                            break; // out of while loop\r\n                        }\r\n                    } else if(symbol === openSymbol) {\r\n                        depth++;\r\n                    }\r\n                }\r\n                return position;\r\n            };\r\n\r\n            switch (symbol) {\r\n                case 's': // string\r\n                case 'n': // number\r\n                case 'b': // boolean\r\n                case 'l': // not so sure about expecting null?\r\n                case 'o': // object\r\n                    param.regex = '[' + symbol + 'm]';\r\n                    param.type = symbol;\r\n                    next();\r\n                    break;\r\n                case 'a': // array\r\n                    //  normally treat any value as singleton array\r\n                    param.regex = '[asnblfom]';\r\n                    param.type = symbol;\r\n                    param.array = true;\r\n                    next();\r\n                    break;\r\n                case 'f': // function\r\n                    param.regex = 'f';\r\n                    param.type = symbol;\r\n                    next();\r\n                    break;\r\n                case 'j': // any JSON type\r\n                    param.regex = '[asnblom]';\r\n                    param.type = symbol;\r\n                    next();\r\n                    break;\r\n                case 'x': // any type\r\n                    param.regex = '[asnblfom]';\r\n                    param.type = symbol;\r\n                    next();\r\n                    break;\r\n                case '-': // use context if param not supplied\r\n                    prevParam.context = true;\r\n                    prevParam.contextRegex = new RegExp(prevParam.regex); // pre-compiled to test the context type at runtime\r\n                    prevParam.regex += '?';\r\n                    break;\r\n                case '?': // optional param\r\n                case '+': // one or more\r\n                    prevParam.regex += symbol;\r\n                    break;\r\n                case '(': // choice of types\r\n                    // search forward for matching ')'\r\n                    var endParen = findClosingBracket(signature, position, '(', ')');\r\n                    var choice = signature.substring(position + 1, endParen);\r\n                    if(choice.indexOf('<') === -1) {\r\n                        // no parameterized types, simple regex\r\n                        param.regex = '[' + choice + 'm]';\r\n                    } else {\r\n                        // TODO harder\r\n                        throw {\r\n                            code: \"S0402\",\r\n                            stack: (new Error()).stack,\r\n                            value: choice,\r\n                            offset: position\r\n                        };\r\n                    }\r\n                    param.type = '(' + choice + ')';\r\n                    position = endParen;\r\n                    next();\r\n                    break;\r\n                case '<': // type parameter - can only be applied to 'a' and 'f'\r\n                    if(prevParam.type === 'a' || prevParam.type === 'f') {\r\n                        // search forward for matching '>'\r\n                        var endPos = findClosingBracket(signature, position, '<', '>');\r\n                        prevParam.subtype = signature.substring(position + 1, endPos);\r\n                        position = endPos;\r\n                    } else {\r\n                        throw {\r\n                            code: \"S0401\",\r\n                            stack: (new Error()).stack,\r\n                            value: prevParam.type,\r\n                            offset: position\r\n                        };\r\n                    }\r\n                    break;\r\n            }\r\n            position++;\r\n        }\r\n        var regexStr = '^' +\r\n          params.map(function(param) {\r\n              return '(' + param.regex + ')';\r\n          }).join('') +\r\n          '$';\r\n        var regex = new RegExp(regexStr);\r\n        var getSymbol = function(value) {\r\n            var symbol;\r\n            if(isFunction(value)) {\r\n                symbol = 'f';\r\n            } else {\r\n                var type = typeof value;\r\n                switch (type) {\r\n                    case 'string':\r\n                        symbol = 's';\r\n                        break;\r\n                    case 'number':\r\n                        symbol = 'n';\r\n                        break;\r\n                    case 'boolean':\r\n                        symbol = 'b';\r\n                        break;\r\n                    case 'object':\r\n                        if (value === null) {\r\n                            symbol = 'l';\r\n                        } else if (Array.isArray(value)) {\r\n                            symbol = 'a';\r\n                        } else {\r\n                            symbol = 'o';\r\n                        }\r\n                        break;\r\n                    case 'undefined':\r\n                        // any value can be undefined, but should be allowed to match\r\n                        symbol = 'm'; // m for missing\r\n                }\r\n            }\r\n            return symbol;\r\n        };\r\n\r\n        var throwValidationError = function(badArgs, badSig) {\r\n            // to figure out where this went wrong we need apply each component of the\r\n            // regex to each argument until we get to the one that fails to match\r\n            var partialPattern = '^';\r\n            var goodTo = 0;\r\n            for(var index = 0; index < params.length; index++) {\r\n                partialPattern += params[index].regex;\r\n                var match = badSig.match(partialPattern);\r\n                if(match === null) {\r\n                    // failed here\r\n                    throw {\r\n                        code: \"T0410\",\r\n                        stack: (new Error()).stack,\r\n                        value: badArgs[goodTo],\r\n                        index: goodTo + 1\r\n                    };\r\n                }\r\n                goodTo = match[0].length;\r\n            }\r\n            // if it got this far, it's probably because of extraneous arguments (we\r\n            // haven't added the trailing '$' in the regex yet.\r\n            throw {\r\n                code: \"T0410\",\r\n                stack: (new Error()).stack,\r\n                value: badArgs[goodTo],\r\n                index: goodTo + 1\r\n            };\r\n        };\r\n\r\n        return {\r\n            definition: signature,\r\n            validate: function(args, context) {\r\n                var suppliedSig = '';\r\n                args.forEach(function(arg) {\r\n                    suppliedSig += getSymbol(arg);\r\n                });\r\n                var isValid = regex.exec(suppliedSig);\r\n                if(isValid) {\r\n                    var validatedArgs = [];\r\n                    var argIndex = 0;\r\n                    params.forEach(function(param, index) {\r\n                        var arg = args[argIndex];\r\n                        var match = isValid[index + 1];\r\n                        if(match === '') {\r\n                            if (param.context) {\r\n                                // substitute context value for missing arg\r\n                                // first check that the context value is the right type\r\n                                var contextType = getSymbol(context);\r\n                                // test contextType against the regex for this arg (without the trailing ?)\r\n                                if(param.contextRegex.test(contextType)) {\r\n                                    validatedArgs.push(context);\r\n                                } else {\r\n                                    // context value not compatible with this argument\r\n                                    throw {\r\n                                        code: \"T0411\",\r\n                                        stack: (new Error()).stack,\r\n                                        value: context,\r\n                                        index: argIndex + 1\r\n                                    };\r\n                                }\r\n                            } else {\r\n                                validatedArgs.push(arg);\r\n                                argIndex++;\r\n                            }\r\n                        } else {\r\n                            // may have matched multiple args (if the regex ends with a '+'\r\n                            // split into single tokens\r\n                            match.split('').forEach(function(single) {\r\n                                if (param.type === 'a') {\r\n                                    if (single === 'm') {\r\n                                        // missing (undefined)\r\n                                        arg = undefined;\r\n                                    } else {\r\n                                        arg = args[argIndex];\r\n                                        var arrayOK = true;\r\n                                        // is there type information on the contents of the array?\r\n                                        if (typeof param.subtype !== 'undefined') {\r\n                                            if (single !== 'a' && match !== param.subtype) {\r\n                                                arrayOK = false;\r\n                                            } else if (single === 'a') {\r\n                                                if (arg.length > 0) {\r\n                                                    var itemType = getSymbol(arg[0]);\r\n                                                    if (itemType !== param.subtype.charAt(0)) { // TODO recurse further\r\n                                                        arrayOK = false;\r\n                                                    } else {\r\n                                                        // make sure every item in the array is this type\r\n                                                        var differentItems = arg.filter(function (val) {\r\n                                                            return (getSymbol(val) !== itemType);\r\n                                                        });\r\n                                                        arrayOK = (differentItems.length === 0);\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        if (!arrayOK) {\r\n                                            throw {\r\n                                                code: \"T0412\",\r\n                                                stack: (new Error()).stack,\r\n                                                value: arg,\r\n                                                index: argIndex + 1,\r\n                                                type: param.subtype // TODO translate symbol to type name\r\n                                            };\r\n                                        }\r\n                                        // the function expects an array. If it's not one, make it so\r\n                                        if (single !== 'a') {\r\n                                            arg = [arg];\r\n                                        }\r\n                                    }\r\n                                    validatedArgs.push(arg);\r\n                                    argIndex++;\r\n                                } else {\r\n                                    validatedArgs.push(arg);\r\n                                    argIndex++;\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                    return validatedArgs;\r\n                }\r\n                throwValidationError(args, suppliedSig);\r\n            }\r\n        };\r\n    }\r\n\r\n    // This parser implements the 'Top down operator precedence' algorithm developed by Vaughan R Pratt; http://dl.acm.org/citation.cfm?id=512931.\r\n    // and builds on the Javascript framework described by Douglas Crockford at http://javascript.crockford.com/tdop/tdop.html\r\n    // and in 'Beautiful Code', edited by Andy Oram and Greg Wilson, Copyright 2007 O'Reilly Media, Inc. 798-0-596-51004-6\r\n\r\n    var parser = function (source) {\r\n        var node;\r\n        var lexer;\r\n\r\n        var symbol_table = {};\r\n\r\n        var base_symbol = {\r\n            nud: function () {\r\n                return this;\r\n            }\r\n        };\r\n\r\n        var symbol = function (id, bp) {\r\n            var s = symbol_table[id];\r\n            bp = bp || 0;\r\n            if (s) {\r\n                if (bp >= s.lbp) {\r\n                    s.lbp = bp;\r\n                }\r\n            } else {\r\n                s = Object.create(base_symbol);\r\n                s.id = s.value = id;\r\n                s.lbp = bp;\r\n                symbol_table[id] = s;\r\n            }\r\n            return s;\r\n        };\r\n\r\n        var advance = function (id, infix) {\r\n            if (id && node.id !== id) {\r\n                var code;\r\n                if(node.id === '(end)') {\r\n                    // unexpected end of buffer\r\n                    code = \"S0203\";\r\n                } else {\r\n                    code = \"S0202\";\r\n                }\r\n                throw {\r\n                    code: code,\r\n                    stack: (new Error()).stack,\r\n                    position: node.position,\r\n                    token: node.id,\r\n                    value: id\r\n                };\r\n            }\r\n            var next_token = lexer(infix);\r\n            if (next_token === null) {\r\n                node = symbol_table[\"(end)\"];\r\n                node.position = source.length;\r\n                return node;\r\n            }\r\n            var value = next_token.value;\r\n            var type = next_token.type;\r\n            var symbol;\r\n            switch (type) {\r\n                case 'name':\r\n                case 'variable':\r\n                    symbol = symbol_table[\"(name)\"];\r\n                    break;\r\n                case 'operator':\r\n                    symbol = symbol_table[value];\r\n                    if (!symbol) {\r\n                        throw {\r\n                            code: \"S0204\",\r\n                            stack: (new Error()).stack,\r\n                            position: next_token.position,\r\n                            token: value\r\n                        };\r\n                    }\r\n                    break;\r\n                case 'string':\r\n                case 'number':\r\n                case 'value':\r\n                    type = \"literal\";\r\n                    symbol = symbol_table[\"(literal)\"];\r\n                    break;\r\n                case 'regex':\r\n                    type = \"regex\";\r\n                    symbol = symbol_table[\"(regex)\"];\r\n                    break;\r\n              /* istanbul ignore next */\r\n                default:\r\n                    throw {\r\n                        code: \"S0205\",\r\n                        stack: (new Error()).stack,\r\n                        position: next_token.position,\r\n                        token: value\r\n                    };\r\n            }\r\n\r\n            node = Object.create(symbol);\r\n            node.value = value;\r\n            node.type = type;\r\n            node.position = next_token.position;\r\n            return node;\r\n        };\r\n\r\n        // Pratt's algorithm\r\n        var expression = function (rbp) {\r\n            var left;\r\n            var t = node;\r\n            advance(null, true);\r\n            left = t.nud();\r\n            while (rbp < node.lbp) {\r\n                t = node;\r\n                advance();\r\n                left = t.led(left);\r\n            }\r\n            return left;\r\n        };\r\n\r\n        // match infix operators\r\n        // <expression> <operator> <expression>\r\n        // left associative\r\n        var infix = function (id, bp, led) {\r\n            var bindingPower = bp || operators[id];\r\n            var s = symbol(id, bindingPower);\r\n            s.led = led || function (left) {\r\n                this.lhs = left;\r\n                this.rhs = expression(bindingPower);\r\n                this.type = \"binary\";\r\n                return this;\r\n            };\r\n            return s;\r\n        };\r\n\r\n        // match infix operators\r\n        // <expression> <operator> <expression>\r\n        // right associative\r\n        var infixr = function (id, bp, led) {\r\n            var bindingPower = bp || operators[id];\r\n            var s = symbol(id, bindingPower);\r\n            s.led = led || function (left) {\r\n                this.lhs = left;\r\n                this.rhs = expression(bindingPower - 1); // subtract 1 from bindingPower for right associative operators\r\n                this.type = \"binary\";\r\n                return this;\r\n            };\r\n            return s;\r\n        };\r\n\r\n        // match prefix operators\r\n        // <operator> <expression>\r\n        var prefix = function (id, nud) {\r\n            var s = symbol(id);\r\n            s.nud = nud || function () {\r\n                this.expression = expression(70);\r\n                this.type = \"unary\";\r\n                return this;\r\n            };\r\n            return s;\r\n        };\r\n\r\n        symbol(\"(end)\");\r\n        symbol(\"(name)\");\r\n        symbol(\"(literal)\");\r\n        symbol(\"(regex)\");\r\n        symbol(\":\");\r\n        symbol(\";\");\r\n        symbol(\",\");\r\n        symbol(\")\");\r\n        symbol(\"]\");\r\n        symbol(\"}\");\r\n        symbol(\"..\"); // range operator\r\n        infix(\".\"); // field reference\r\n        infix(\"+\"); // numeric addition\r\n        infix(\"-\"); // numeric subtraction\r\n        infix(\"*\"); // numeric multiplication\r\n        infix(\"/\"); // numeric division\r\n        infix(\"%\"); // numeric modulus\r\n        infix(\"=\"); // equality\r\n        infix(\"<\"); // less than\r\n        infix(\">\"); // greater than\r\n        infix(\"!=\"); // not equal to\r\n        infix(\"<=\"); // less than or equal\r\n        infix(\">=\"); // greater than or equal\r\n        infix(\"&\"); // string concatenation\r\n        infix(\"and\"); // Boolean AND\r\n        infix(\"or\"); // Boolean OR\r\n        infix(\"in\"); // is member of array\r\n        infixr(\":=\"); // bind variable\r\n        prefix(\"-\"); // unary numeric negation\r\n        infix(\"~>\"); // function application\r\n\r\n        // field wildcard (single level)\r\n        prefix('*', function () {\r\n            this.type = \"wildcard\";\r\n            return this;\r\n        });\r\n\r\n        // descendant wildcard (multi-level)\r\n        prefix('**', function () {\r\n            this.type = \"descendant\";\r\n            return this;\r\n        });\r\n\r\n        // function invocation\r\n        infix(\"(\", operators['('], function (left) {\r\n            // left is is what we are trying to invoke\r\n            this.procedure = left;\r\n            this.type = 'function';\r\n            this.arguments = [];\r\n            if (node.id !== ')') {\r\n                for (;;) {\r\n                    if (node.type === 'operator' && node.id === '?') {\r\n                        // partial function application\r\n                        this.type = 'partial';\r\n                        this.arguments.push(node);\r\n                        advance('?');\r\n                    } else {\r\n                        this.arguments.push(expression(0));\r\n                    }\r\n                    if (node.id !== ',') break;\r\n                    advance(',');\r\n                }\r\n            }\r\n            advance(\")\", true);\r\n            // if the name of the function is 'function' or λ, then this is function definition (lambda function)\r\n            if (left.type === 'name' && (left.value === 'function' || left.value === '\\u03BB')) {\r\n                // all of the args must be VARIABLE tokens\r\n                this.arguments.forEach(function (arg, index) {\r\n                    if (arg.type !== 'variable') {\r\n                        throw {\r\n                            code: \"S0208\",\r\n                            stack: (new Error()).stack,\r\n                            position: arg.position,\r\n                            token: arg.value,\r\n                            value: index + 1\r\n                        };\r\n                    }\r\n                });\r\n                this.type = 'lambda';\r\n                // is the next token a '<' - if so, parse the function signature\r\n                if(node.id === '<') {\r\n                    var sigPos = node.position;\r\n                    var depth = 1;\r\n                    var sig = '<';\r\n                    while(depth > 0 && node.id !== '{' && node.id !== '(end)') {\r\n                        var tok = advance();\r\n                        if(tok.id === '>') {\r\n                            depth--;\r\n                        } else if(tok.id === '<') {\r\n                            depth++;\r\n                        }\r\n                        sig += tok.value;\r\n                    }\r\n                    advance('>');\r\n                    try {\r\n                        this.signature = parseSignature(sig);\r\n                    } catch(err) {\r\n                        // insert the position into this error\r\n                        err.position = sigPos + err.offset;\r\n                        throw err;\r\n                    }\r\n                }\r\n                // parse the function body\r\n                advance('{');\r\n                this.body = expression(0);\r\n                advance('}');\r\n            }\r\n            return this;\r\n        });\r\n\r\n        // parenthesis - block expression\r\n        prefix(\"(\", function () {\r\n            var expressions = [];\r\n            while (node.id !== \")\") {\r\n                expressions.push(expression(0));\r\n                if (node.id !== \";\") {\r\n                    break;\r\n                }\r\n                advance(\";\");\r\n            }\r\n            advance(\")\", true);\r\n            this.type = 'block';\r\n            this.expressions = expressions;\r\n            return this;\r\n        });\r\n\r\n        // array constructor\r\n        prefix(\"[\", function () {\r\n            var a = [];\r\n            if (node.id !== \"]\") {\r\n                for (;;) {\r\n                    var item = expression(0);\r\n                    if (node.id === \"..\") {\r\n                        // range operator\r\n                        var range = {type: \"binary\", value: \"..\", position: node.position, lhs: item};\r\n                        advance(\"..\");\r\n                        range.rhs = expression(0);\r\n                        item = range;\r\n                    }\r\n                    a.push(item);\r\n                    if (node.id !== \",\") {\r\n                        break;\r\n                    }\r\n                    advance(\",\");\r\n                }\r\n            }\r\n            advance(\"]\", true);\r\n            this.lhs = a;\r\n            this.type = \"unary\";\r\n            return this;\r\n        });\r\n\r\n        // filter - predicate or array index\r\n        infix(\"[\", operators['['], function (left) {\r\n            if(node.id === \"]\") {\r\n                // empty predicate means maintain singleton arrays in the output\r\n                var step = left;\r\n                while(step && step.type === 'binary' && step.value === '[') {\r\n                    step = step.lhs;\r\n                }\r\n                step.keepArray = true;\r\n                advance(\"]\");\r\n                return left;\r\n            } else {\r\n                this.lhs = left;\r\n                this.rhs = expression(operators[']']);\r\n                this.type = 'binary';\r\n                advance(\"]\", true);\r\n                return this;\r\n            }\r\n        });\r\n\r\n        var objectParser = function (left) {\r\n            var a = [];\r\n            if (node.id !== \"}\") {\r\n                for (;;) {\r\n                    var n = expression(0);\r\n                    advance(\":\");\r\n                    var v = expression(0);\r\n                    a.push([n, v]); // holds an array of name/value expression pairs\r\n                    if (node.id !== \",\") {\r\n                        break;\r\n                    }\r\n                    advance(\",\");\r\n                }\r\n            }\r\n            advance(\"}\", true);\r\n            if(typeof left === 'undefined') {\r\n                // NUD - unary prefix form\r\n                this.lhs = a;\r\n                this.type = \"unary\";\r\n            } else {\r\n                // LED - binary infix form\r\n                this.lhs = left;\r\n                this.rhs = a;\r\n                this.type = 'binary';\r\n            }\r\n            return this;\r\n        };\r\n\r\n        // object constructor\r\n        prefix(\"{\", objectParser);\r\n\r\n        // object grouping\r\n        infix(\"{\", operators['{'], objectParser);\r\n\r\n        // if/then/else ternary operator ?:\r\n        infix(\"?\", operators['?'], function (left) {\r\n            this.type = 'condition';\r\n            this.condition = left;\r\n            this.then = expression(0);\r\n            if (node.id === ':') {\r\n                // else condition\r\n                advance(\":\");\r\n                this.else = expression(0);\r\n            }\r\n            return this;\r\n        });\r\n\r\n        // tail call optimization\r\n        // this is invoked by the post parser to analyse lambda functions to see\r\n        // if they make a tail call.  If so, it is replaced by a thunk which will\r\n        // be invoked by the trampoline loop during function application.\r\n        // This enables tail-recursive functions to be written without growing the stack\r\n        var tail_call_optimize = function(expr) {\r\n            var result;\r\n            if(expr.type === 'function') {\r\n                var thunk = {type: 'lambda', thunk: true, arguments: [], position: expr.position};\r\n                thunk.body = expr;\r\n                result = thunk;\r\n            } else if(expr.type === 'condition') {\r\n                // analyse both branches\r\n                expr.then = tail_call_optimize(expr.then);\r\n                expr.else = tail_call_optimize(expr.else);\r\n                result = expr;\r\n            } else if(expr.type === 'block') {\r\n                // only the last expression in the block\r\n                var length = expr.expressions.length;\r\n                if(length > 0) {\r\n                    expr.expressions[length - 1] = tail_call_optimize(expr.expressions[length - 1]);\r\n                }\r\n                result = expr;\r\n            } else {\r\n                result = expr;\r\n            }\r\n            return result;\r\n        };\r\n\r\n        // post-parse stage\r\n        // the purpose of this is flatten the parts of the AST representing location paths,\r\n        // converting them to arrays of steps which in turn may contain arrays of predicates.\r\n        // following this, nodes containing '.' and '[' should be eliminated from the AST.\r\n        var post_parse = function (expr) {\r\n            var result = [];\r\n            switch (expr.type) {\r\n                case 'binary':\r\n                    switch (expr.value) {\r\n                        case '.':\r\n                            var lstep = post_parse(expr.lhs);\r\n                            if (lstep.type === 'path') {\r\n                                Array.prototype.push.apply(result, lstep);\r\n                            } else {\r\n                                result.push(lstep);\r\n                            }\r\n                            var rest = post_parse(expr.rhs);\r\n                            if(rest.type !== 'path') {\r\n                                rest = [rest];\r\n                            }\r\n                            Array.prototype.push.apply(result, rest);\r\n                            result.type = 'path';\r\n                            break;\r\n                        case '[':\r\n                            // predicated step\r\n                            // LHS is a step or a predicated step\r\n                            // RHS is the predicate expr\r\n                            result = post_parse(expr.lhs);\r\n                            var step = result;\r\n                            if(result.type === 'path') {\r\n                                step = result[result.length - 1];\r\n                            }\r\n                            if (typeof step.group !== 'undefined') {\r\n                                throw {\r\n                                    code: \"S0209\",\r\n                                    stack: (new Error()).stack,\r\n                                    position: expr.position\r\n                                };\r\n                            }\r\n                            if (typeof step.predicate === 'undefined') {\r\n                                step.predicate = [];\r\n                            }\r\n                            step.predicate.push(post_parse(expr.rhs));\r\n                            break;\r\n                        case '{':\r\n                            // group-by\r\n                            // LHS is a step or a predicated step\r\n                            // RHS is the object constructor expr\r\n                            result = post_parse(expr.lhs);\r\n                            if (typeof result.group !== 'undefined') {\r\n                                throw {\r\n                                    code: \"S0210\",\r\n                                    stack: (new Error()).stack,\r\n                                    position: expr.position\r\n                                };\r\n                            }\r\n                            // object constructor - process each pair\r\n                            result.group = {\r\n                                lhs: expr.rhs.map(function (pair) {\r\n                                    return [post_parse(pair[0]), post_parse(pair[1])];\r\n                                }),\r\n                                position: expr.position\r\n                            };\r\n                            break;\r\n                        default:\r\n                            result = {type: expr.type, value: expr.value, position: expr.position};\r\n                            result.lhs = post_parse(expr.lhs);\r\n                            result.rhs = post_parse(expr.rhs);\r\n                    }\r\n                    break;\r\n                case 'unary':\r\n                    result = {type: expr.type, value: expr.value, position: expr.position};\r\n                    if (expr.value === '[') {\r\n                        // array constructor - process each item\r\n                        result.lhs = expr.lhs.map(function (item) {\r\n                            return post_parse(item);\r\n                        });\r\n                    } else if (expr.value === '{') {\r\n                        // object constructor - process each pair\r\n                        result.lhs = expr.lhs.map(function (pair) {\r\n                            return [post_parse(pair[0]), post_parse(pair[1])];\r\n                        });\r\n                    } else {\r\n                        // all other unary expressions - just process the expression\r\n                        result.expression = post_parse(expr.expression);\r\n                        // if unary minus on a number, then pre-process\r\n                        if (expr.value === '-' && result.expression.type === 'literal' && isNumeric(result.expression.value)) {\r\n                            result = result.expression;\r\n                            result.value = -result.value;\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'function':\r\n                case 'partial':\r\n                    result = {type: expr.type, name: expr.name, value: expr.value, position: expr.position};\r\n                    result.arguments = expr.arguments.map(function (arg) {\r\n                        return post_parse(arg);\r\n                    });\r\n                    result.procedure = post_parse(expr.procedure);\r\n                    break;\r\n                case 'lambda':\r\n                    result = {type: expr.type, arguments: expr.arguments, signature: expr.signature, position: expr.position};\r\n                    var body = post_parse(expr.body);\r\n                    result.body = tail_call_optimize(body);\r\n                    break;\r\n                case 'condition':\r\n                    result = {type: expr.type, position: expr.position};\r\n                    result.condition = post_parse(expr.condition);\r\n                    result.then = post_parse(expr.then);\r\n                    if (typeof expr.else !== 'undefined') {\r\n                        result.else = post_parse(expr.else);\r\n                    }\r\n                    break;\r\n                case 'block':\r\n                    result = {type: expr.type, position: expr.position};\r\n                    // array of expressions - process each one\r\n                    result.expressions = expr.expressions.map(function (item) {\r\n                        return post_parse(item);\r\n                    });\r\n                    // TODO scan the array of expressions to see if any of them assign variables\r\n                    // if so, need to mark the block as one that needs to create a new frame\r\n                    break;\r\n                case 'name':\r\n                    result = [expr];\r\n                    result.type = 'path';\r\n                    break;\r\n                case 'literal':\r\n                case 'wildcard':\r\n                case 'descendant':\r\n                case 'variable':\r\n                case 'regex':\r\n                    result = expr;\r\n                    break;\r\n                case 'operator':\r\n                    // the tokens 'and' and 'or' might have been used as a name rather than an operator\r\n                    if (expr.value === 'and' || expr.value === 'or' || expr.value === 'in') {\r\n                        expr.type = 'name';\r\n                        result = post_parse(expr);\r\n                    } else if (expr.value === '?') {\r\n                        // partial application\r\n                        result = expr;\r\n                    } else {\r\n                        throw {\r\n                            code: \"S0201\",\r\n                            stack: (new Error()).stack,\r\n                            position: expr.position,\r\n                            token: expr.value\r\n                        };\r\n                    }\r\n                    break;\r\n                default:\r\n                    var code = \"S0206\";\r\n                    /* istanbul ignore else */\r\n                    if (expr.id === '(end)') {\r\n                        code = \"S0207\";\r\n                    }\r\n                    throw {\r\n                        code: code,\r\n                        stack: (new Error()).stack,\r\n                        position: expr.position,\r\n                        token: expr.value\r\n                    };\r\n            }\r\n            return result;\r\n        };\r\n\r\n        // now invoke the tokenizer and the parser and return the syntax tree\r\n\r\n        lexer = tokenizer(source);\r\n        advance();\r\n        // parse the tokens\r\n        var expr = expression(0);\r\n        if (node.id !== '(end)') {\r\n            throw {\r\n                code: \"S0201\",\r\n                stack: (new Error()).stack,\r\n                position: node.position,\r\n                token: node.value\r\n            };\r\n        }\r\n        expr = post_parse(expr);\r\n\r\n        return expr;\r\n    };\r\n\r\n// Start of Evaluator code\r\n\r\n    var staticFrame = createFrame(null);\r\n\r\n    /**\r\n     * Check if value is a finite number\r\n     * @param {float} n - number to evaluate\r\n     * @returns {boolean} True if n is a finite number\r\n     */\r\n    function isNumeric(n) {\r\n        var isNum = false;\r\n        if(typeof n === 'number') {\r\n            var num = parseFloat(n);\r\n            isNum = !isNaN(num);\r\n            if (isNum && !isFinite(num)) {\r\n                throw {\r\n                    code: \"D1001\",\r\n                    value: n,\r\n                    stack: (new Error()).stack\r\n                };\r\n            }\r\n        }\r\n        return isNum;\r\n    }\r\n\r\n    /**\r\n     * Returns true if the arg is an array of numbers\r\n     * @param {*} arg - the item to test\r\n     * @returns {boolean} True if arg is an array of numbers\r\n     */\r\n    function isArrayOfNumbers(arg) {\r\n        var result = false;\r\n        if(Array.isArray(arg)) {\r\n            result = (arg.filter(function(item){return !isNumeric(item);}).length === 0);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    // Polyfill\r\n    /* istanbul ignore next */\r\n    Number.isInteger = Number.isInteger || function(value) {\r\n        return typeof value === \"number\" &&\r\n          isFinite(value) &&\r\n          Math.floor(value) === value;\r\n    };\r\n\r\n    /**\r\n     * Evaluate expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluate(expr, input, environment) {\r\n        var result;\r\n\r\n        var entryCallback = environment.lookup('__evaluate_entry');\r\n        if(entryCallback) {\r\n            entryCallback(expr, input, environment);\r\n        }\r\n\r\n        switch (expr.type) {\r\n            case 'path':\r\n                result = evaluatePath(expr, input, environment);\r\n                break;\r\n            case 'binary':\r\n                result = evaluateBinary(expr, input, environment);\r\n                break;\r\n            case 'unary':\r\n                result = evaluateUnary(expr, input, environment);\r\n                break;\r\n            case 'name':\r\n                result = evaluateName(expr, input, environment);\r\n                break;\r\n            case 'literal':\r\n                result = evaluateLiteral(expr, input, environment);\r\n                break;\r\n            case 'wildcard':\r\n                result = evaluateWildcard(expr, input, environment);\r\n                break;\r\n            case 'descendant':\r\n                result = evaluateDescendants(expr, input, environment);\r\n                break;\r\n            case 'condition':\r\n                result = evaluateCondition(expr, input, environment);\r\n                break;\r\n            case 'block':\r\n                result = evaluateBlock(expr, input, environment);\r\n                break;\r\n            case 'regex':\r\n                result = evaluateRegex(expr, input, environment);\r\n                break;\r\n            case 'function':\r\n                result = evaluateFunction(expr, input, environment);\r\n                break;\r\n            case 'variable':\r\n                result = evaluateVariable(expr, input, environment);\r\n                break;\r\n            case 'lambda':\r\n                result = evaluateLambda(expr, input, environment);\r\n                break;\r\n            case 'partial':\r\n                result = evaluatePartialApplication(expr, input, environment);\r\n                break;\r\n        }\r\n        if (expr.hasOwnProperty('predicate')) {\r\n            result = applyPredicates(expr.predicate, result, environment);\r\n        }\r\n        if (expr.hasOwnProperty('group')) {\r\n            result = evaluateGroupExpression(expr.group, result, environment);\r\n        }\r\n\r\n        var exitCallback = environment.lookup('__evaluate_exit');\r\n        if(exitCallback) {\r\n            exitCallback(expr, input, environment, result);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate path expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluatePath(expr, input, environment) {\r\n        var result;\r\n        var inputSequence;\r\n        var keepSingletonArray = false;\r\n        // expr is an array of steps\r\n        // if the first step is a variable reference ($...), including root reference ($$),\r\n        //   then the path is absolute rather than relative\r\n        if (expr[0].type === 'variable') {\r\n            expr[0].absolute = true;\r\n        } else if(expr[0].type === 'unary' && expr[0].value === '[') {\r\n            // array constructor - not relative to the input\r\n            input = [null];// dummy singleton sequence for first step\r\n        }\r\n\r\n        // evaluate each step in turn\r\n        for(var ii = 0; ii < expr.length; ii++) {\r\n            var step = expr[ii];\r\n            if(step.keepArray === true) {\r\n                keepSingletonArray = true;\r\n            }\r\n            var resultSequence = [];\r\n            result = undefined;\r\n            // if input is not an array, make it so\r\n            if (step.absolute === true) {\r\n                inputSequence = [input]; // dummy singleton sequence for first (absolute) step\r\n            } else if (Array.isArray(input)) {\r\n                inputSequence = input;\r\n            } else {\r\n                inputSequence = [input];\r\n            }\r\n            // if there is more than one step in the path, handle quoted field names as names not literals\r\n            if (expr.length > 1 && step.type === 'literal') {\r\n                step.type = 'name';\r\n            }\r\n            inputSequence.forEach(function (item) {\r\n                var res = evaluate(step, item, environment);\r\n                if (typeof res !== 'undefined') {\r\n                    if (Array.isArray(res) && (step.value !== '[' )) {\r\n                        // is res an array - if so, flatten it into the parent array\r\n                        res.forEach(function (innerRes) {\r\n                            if (typeof innerRes !== 'undefined') {\r\n                                resultSequence.push(innerRes);\r\n                            }\r\n                        });\r\n                    } else {\r\n                        resultSequence.push(res);\r\n                    }\r\n                }\r\n            });\r\n            if (resultSequence.length === 1) {\r\n                if(keepSingletonArray) {\r\n                    result = resultSequence;\r\n                } else {\r\n                    result = resultSequence[0];\r\n                }\r\n            } else if (resultSequence.length > 1) {\r\n                result = resultSequence;\r\n            }\r\n\r\n            if(typeof result === 'undefined') {\r\n                break;\r\n            }\r\n            input = result;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Apply predicates to input data\r\n     * @param {Object} predicates - Predicates\r\n     * @param {Object} input - Input data to apply predicates against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Result after applying predicates\r\n     */\r\n    function applyPredicates(predicates, input, environment) {\r\n        var result;\r\n        var inputSequence = input;\r\n        // lhs potentially holds an array\r\n        // we want to iterate over the array, and only keep the items that are\r\n        // truthy when applied to the predicate.\r\n        // if the predicate evaluates to an integer, then select that index\r\n\r\n        var results = [];\r\n        predicates.forEach(function (predicate) {\r\n            // if it's not an array, turn it into one\r\n            // since in XPath >= 2.0 an item is equivalent to a singleton sequence of that item\r\n            // if input is not an array, make it so\r\n            if (!Array.isArray(inputSequence)) {\r\n                inputSequence = [inputSequence];\r\n            }\r\n            results = [];\r\n            result = undefined;\r\n            if (predicate.type === 'literal' && isNumeric(predicate.value)) {\r\n                var index = predicate.value;\r\n                if (!Number.isInteger(index)) {\r\n                    // round it down\r\n                    index = Math.floor(index);\r\n                }\r\n                if (index < 0) {\r\n                    // count in from end of array\r\n                    index = inputSequence.length + index;\r\n                }\r\n                result = inputSequence[index];\r\n            } else {\r\n                inputSequence.forEach(function (item, index) {\r\n                    var res = evaluate(predicate, item, environment);\r\n                    if (isNumeric(res)) {\r\n                        res = [res];\r\n                    }\r\n                    if(isArrayOfNumbers(res)) {\r\n                        res.forEach(function(ires) {\r\n                            if (!Number.isInteger(ires)) {\r\n                                // round it down\r\n                                ires = Math.floor(ires);\r\n                            }\r\n                            if (ires < 0) {\r\n                                // count in from end of array\r\n                                ires = inputSequence.length + ires;\r\n                            }\r\n                            if (ires === index) {\r\n                                results.push(item);\r\n                            }\r\n                        });\r\n                    } else if (functionBoolean(res)) { // truthy\r\n                        results.push(item);\r\n                    }\r\n                });\r\n            }\r\n            if (results.length === 1) {\r\n                result = results[0];\r\n            } else if (results.length > 1) {\r\n                result = results;\r\n            }\r\n            inputSequence = result;\r\n        });\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate binary expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateBinary(expr, input, environment) {\r\n        var result;\r\n\r\n        switch (expr.value) {\r\n            case '+':\r\n            case '-':\r\n            case '*':\r\n            case '/':\r\n            case '%':\r\n                result = evaluateNumericExpression(expr, input, environment);\r\n                break;\r\n            case '=':\r\n            case '!=':\r\n            case '<':\r\n            case '<=':\r\n            case '>':\r\n            case '>=':\r\n                result = evaluateComparisonExpression(expr, input, environment);\r\n                break;\r\n            case '&':\r\n                result = evaluateStringConcat(expr, input, environment);\r\n                break;\r\n            case 'and':\r\n            case 'or':\r\n                result = evaluateBooleanExpression(expr, input, environment);\r\n                break;\r\n            case '..':\r\n                result = evaluateRangeExpression(expr, input, environment);\r\n                break;\r\n            case ':=':\r\n                result = evaluateBindExpression(expr, input, environment);\r\n                break;\r\n            case 'in':\r\n                result = evaluateIncludesExpression(expr, input, environment);\r\n                break;\r\n            case '~>':\r\n                result = evaluateApplyExpression(expr, input, environment);\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate unary expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateUnary(expr, input, environment) {\r\n        var result;\r\n\r\n        switch (expr.value) {\r\n            case '-':\r\n                result = evaluate(expr.expression, input, environment);\r\n                if (isNumeric(result)) {\r\n                    result = -result;\r\n                } else {\r\n                    throw {\r\n                        code: \"D1002\",\r\n                        stack: (new Error()).stack,\r\n                        position: expr.position,\r\n                        token: expr.value,\r\n                        value: result\r\n                    };\r\n                }\r\n                break;\r\n            case '[':\r\n                // array constructor - evaluate each item\r\n                result = [];\r\n                expr.lhs.forEach(function (item) {\r\n                    var value = evaluate(item, input, environment);\r\n                    if (typeof value !== 'undefined') {\r\n                        if(item.value === '[') {\r\n                            result.push(value);\r\n                        } else {\r\n                            result = functionAppend(result, value);\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            case '{':\r\n                // object constructor - apply grouping\r\n                result = evaluateGroupExpression(expr, input, environment);\r\n                break;\r\n\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate name object against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateName(expr, input, environment) {\r\n        // lookup the 'name' item in the input\r\n        var result;\r\n        if (Array.isArray(input)) {\r\n            var results = [];\r\n            input.forEach(function (item) {\r\n                var res = evaluateName(expr, item, environment);\r\n                if (typeof res !== 'undefined') {\r\n                    results.push(res);\r\n                }\r\n            });\r\n            if (results.length === 1) {\r\n                result = results[0];\r\n            } else if (results.length > 1) {\r\n                result = results;\r\n            }\r\n        } else if (input !== null && typeof input === 'object') {\r\n            result = input[expr.value];\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate literal against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateLiteral(expr) {\r\n        return expr.value;\r\n    }\r\n\r\n    /**\r\n     * Evaluate wildcard against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateWildcard(expr, input) {\r\n        var result;\r\n        var results = [];\r\n        if (input !== null && typeof input === 'object') {\r\n            Object.keys(input).forEach(function (key) {\r\n                var value = input[key];\r\n                if(Array.isArray(value)) {\r\n                    value = flatten(value);\r\n                    results = functionAppend(results, value);\r\n                } else {\r\n                    results.push(value);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (results.length === 1) {\r\n            result = results[0];\r\n        } else if (results.length > 1) {\r\n            result = results;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Returns a flattened array\r\n     * @param {Array} arg - the array to be flatten\r\n     * @param {Array} flattened - carries the flattened array - if not defined, will initialize to []\r\n     * @returns {Array} - the flattened array\r\n     */\r\n    function flatten(arg, flattened) {\r\n        if(typeof flattened === 'undefined') {\r\n            flattened = [];\r\n        }\r\n        if(Array.isArray(arg)) {\r\n            arg.forEach(function (item) {\r\n                flatten(item, flattened);\r\n            });\r\n        } else {\r\n            flattened.push(arg);\r\n        }\r\n        return flattened;\r\n    }\r\n\r\n    /**\r\n     * Evaluate descendants against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateDescendants(expr, input) {\r\n        var result;\r\n        var resultSequence = [];\r\n        if (typeof input !== 'undefined') {\r\n            // traverse all descendants of this object/array\r\n            recurseDescendants(input, resultSequence);\r\n            if (resultSequence.length === 1) {\r\n                result = resultSequence[0];\r\n            } else {\r\n                result = resultSequence;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Recurse through descendants\r\n     * @param {Object} input - Input data\r\n     * @param {Object} results - Results\r\n     */\r\n    function recurseDescendants(input, results) {\r\n        // this is the equivalent of //* in XPath\r\n        if (!Array.isArray(input)) {\r\n            results.push(input);\r\n        }\r\n        if (Array.isArray(input)) {\r\n            input.forEach(function (member) {\r\n                recurseDescendants(member, results);\r\n            });\r\n        } else if (input !== null && typeof input === 'object') {\r\n            Object.keys(input).forEach(function (key) {\r\n                recurseDescendants(input[key], results);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Evaluate numeric expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateNumericExpression(expr, input, environment) {\r\n        var result;\r\n\r\n        var lhs = evaluate(expr.lhs, input, environment);\r\n        var rhs = evaluate(expr.rhs, input, environment);\r\n\r\n        if (typeof lhs === 'undefined' || typeof rhs === 'undefined') {\r\n            // if either side is undefined, the result is undefined\r\n            return result;\r\n        }\r\n\r\n        if (!isNumeric(lhs)) {\r\n            throw {\r\n                code: \"T2001\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.value,\r\n                value: lhs\r\n            };\r\n        }\r\n        if (!isNumeric(rhs)) {\r\n            throw {\r\n                code: \"T2002\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.value,\r\n                value: rhs\r\n            };\r\n        }\r\n\r\n        switch (expr.value) {\r\n            case '+':\r\n                result = lhs + rhs;\r\n                break;\r\n            case '-':\r\n                result = lhs - rhs;\r\n                break;\r\n            case '*':\r\n                result = lhs * rhs;\r\n                break;\r\n            case '/':\r\n                result = lhs / rhs;\r\n                break;\r\n            case '%':\r\n                result = lhs % rhs;\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate comparison expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateComparisonExpression(expr, input, environment) {\r\n        var result;\r\n\r\n        var lhs = evaluate(expr.lhs, input, environment);\r\n        var rhs = evaluate(expr.rhs, input, environment);\r\n\r\n        if (typeof lhs === 'undefined' || typeof rhs === 'undefined') {\r\n            // if either side is undefined, the result is false\r\n            return false;\r\n        }\r\n\r\n        switch (expr.value) {\r\n            case '=':\r\n                result = lhs === rhs;\r\n                break;\r\n            case '!=':\r\n                result = (lhs !== rhs);\r\n                break;\r\n            case '<':\r\n                result = lhs < rhs;\r\n                break;\r\n            case '<=':\r\n                result = lhs <= rhs;\r\n                break;\r\n            case '>':\r\n                result = lhs > rhs;\r\n                break;\r\n            case '>=':\r\n                result = lhs >= rhs;\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Inclusion operator - in\r\n     *\r\n     * @param {Object} expr - AST\r\n     * @param {*} input - input context\r\n     * @param {Object} environment - frame\r\n     * @returns {boolean} - true if lhs is a member of rhs\r\n     */\r\n    function evaluateIncludesExpression(expr, input, environment) {\r\n        var result = false;\r\n\r\n        var lhs = evaluate(expr.lhs, input, environment);\r\n        var rhs = evaluate(expr.rhs, input, environment);\r\n\r\n        if (typeof lhs === 'undefined' || typeof rhs === 'undefined') {\r\n            // if either side is undefined, the result is false\r\n            return false;\r\n        }\r\n\r\n        if(!Array.isArray(rhs)) {\r\n            rhs = [rhs];\r\n        }\r\n\r\n        for(var i = 0; i < rhs.length; i++) {\r\n            if(rhs[i] === lhs) {\r\n                result = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate boolean expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateBooleanExpression(expr, input, environment) {\r\n        var result;\r\n\r\n        switch (expr.value) {\r\n            case 'and':\r\n                result = functionBoolean(evaluate(expr.lhs, input, environment)) &&\r\n                  functionBoolean(evaluate(expr.rhs, input, environment));\r\n                break;\r\n            case 'or':\r\n                result = functionBoolean(evaluate(expr.lhs, input, environment)) ||\r\n                  functionBoolean(evaluate(expr.rhs, input, environment));\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate string concatenation against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {string|*} Evaluated input data\r\n     */\r\n    function evaluateStringConcat(expr, input, environment) {\r\n        var result;\r\n        var lhs = evaluate(expr.lhs, input, environment);\r\n        var rhs = evaluate(expr.rhs, input, environment);\r\n\r\n        var lstr = '';\r\n        var rstr = '';\r\n        if (typeof lhs !== 'undefined') {\r\n            lstr = functionString(lhs);\r\n        }\r\n        if (typeof rhs !== 'undefined') {\r\n            rstr = functionString(rhs);\r\n        }\r\n\r\n        result = lstr.concat(rstr);\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate group expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {{}} Evaluated input data\r\n     */\r\n    function evaluateGroupExpression(expr, input, environment) {\r\n        var result = {};\r\n        var groups = {};\r\n        // group the input sequence by 'key' expression\r\n        if (!Array.isArray(input)) {\r\n            input = [input];\r\n        }\r\n        input.forEach(function (item) {\r\n            expr.lhs.forEach(function (pair) {\r\n                var key = evaluate(pair[0], item, environment);\r\n                // key has to be a string\r\n                if (typeof  key !== 'string') {\r\n                    throw {\r\n                        code: \"T1003\",\r\n                        stack: (new Error()).stack,\r\n                        position: expr.position,\r\n                        value: key\r\n                    };\r\n                }\r\n                var entry = {data: item, expr: pair[1]};\r\n                if (groups.hasOwnProperty(key)) {\r\n                    // a value already exists in this slot\r\n                    // append it as an array\r\n                    groups[key].data = functionAppend(groups[key].data, item);\r\n                } else {\r\n                    groups[key] = entry;\r\n                }\r\n            });\r\n        });\r\n        // iterate over the groups to evaluate the 'value' expression\r\n        for (var key in groups) {\r\n            var entry = groups[key];\r\n            var value = evaluate(entry.expr, entry.data, environment);\r\n            result[key] = value;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate range expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateRangeExpression(expr, input, environment) {\r\n        var result;\r\n\r\n        var lhs = evaluate(expr.lhs, input, environment);\r\n        var rhs = evaluate(expr.rhs, input, environment);\r\n\r\n        if (typeof lhs === 'undefined' || typeof rhs === 'undefined') {\r\n            // if either side is undefined, the result is undefined\r\n            return result;\r\n        }\r\n\r\n        if (lhs > rhs) {\r\n            // if the lhs is greater than the rhs, return undefined\r\n            return result;\r\n        }\r\n\r\n        if (!Number.isInteger(lhs)) {\r\n            throw {\r\n                code: \"T2003\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.value,\r\n                value: lhs\r\n            };\r\n        }\r\n        if (!Number.isInteger(rhs)) {\r\n            throw {\r\n                code: \"T2004\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.value,\r\n                value: rhs\r\n            };\r\n        }\r\n\r\n        result = new Array(rhs - lhs + 1);\r\n        for (var item = lhs, index = 0; item <= rhs; item++, index++) {\r\n            result[index] = item;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate bind expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateBindExpression(expr, input, environment) {\r\n        // The RHS is the expression to evaluate\r\n        // The LHS is the name of the variable to bind to - should be a VARIABLE token\r\n        var value = evaluate(expr.rhs, input, environment);\r\n        if (expr.lhs.type !== 'variable') {\r\n            throw {\r\n                code: \"D2005\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.value,\r\n                value: expr.lhs.type === 'path' ? expr.lhs[0].value : expr.lhs.value\r\n            };\r\n        }\r\n        environment.bind(expr.lhs.value, value);\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * Evaluate condition against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateCondition(expr, input, environment) {\r\n        var result;\r\n        var condition = evaluate(expr.condition, input, environment);\r\n        if (functionBoolean(condition)) {\r\n            result = evaluate(expr.then, input, environment);\r\n        } else if (typeof expr.else !== 'undefined') {\r\n            result = evaluate(expr.else, input, environment);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate block against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateBlock(expr, input, environment) {\r\n        var result;\r\n        // create a new frame to limit the scope of variable assignments\r\n        // TODO, only do this if the post-parse stage has flagged this as required\r\n        var frame = createFrame(environment);\r\n        // invoke each expression in turn\r\n        // only return the result of the last one\r\n        expr.expressions.forEach(function (expression) {\r\n            result = evaluate(expression, input, frame);\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Prepare a regex\r\n     * @param {Object} expr - expression containing regex\r\n     * @returns {Function} Higher order function representing prepared regex\r\n     */\r\n    function evaluateRegex(expr) {\r\n        expr.value.lastIndex = 0;\r\n        var closure = function(str) {\r\n            var re = expr.value;\r\n            //var result = str.match(expr.value);\r\n            var result;\r\n            var match = re.exec(str);\r\n            if(match !== null) {\r\n                result = {\r\n                    match: match[0],\r\n                    start: match.index,\r\n                    end: match.index + match[0].length,\r\n                    groups: []\r\n                };\r\n                if(match.length > 1) {\r\n                    for(var i = 1; i < match.length; i++) {\r\n                        result.groups.push(match[i]);\r\n                    }\r\n                }\r\n                result.next = function() {\r\n                    if(re.lastIndex >= str.length) {\r\n                        return undefined;\r\n                    } else {\r\n                        var next = closure(str);\r\n                        if(next && next.match === '' && re.lastIndex === expr.value.lastIndex) {\r\n                            // matches zero length string; this will never progress\r\n                            throw {\r\n                                code: \"D1004\",\r\n                                stack: (new Error()).stack,\r\n                                position: expr.position,\r\n                                value: expr.value.source\r\n                            };\r\n                        }\r\n                        return next;\r\n                    }\r\n                };\r\n            }\r\n\r\n            return result;\r\n        };\r\n        return closure;\r\n    }\r\n\r\n    /**\r\n     * Evaluate variable against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateVariable(expr, input, environment) {\r\n        // lookup the variable value in the environment\r\n        var result;\r\n        // if the variable name is empty string, then it refers to context value\r\n        if (expr.value === '') {\r\n            result = input;\r\n        } else {\r\n            result = environment.lookup(expr.value);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    var chain = evaluate(parser('function($f, $g) { function($x){ $g($f($x)) } }'), null, staticFrame);\r\n\r\n    /**\r\n     * Apply the function on the RHS using the sequence on the LHS as the first argument\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateApplyExpression(expr, input, environment) {\r\n        var result;\r\n\r\n        var arg1 = evaluate(expr.lhs, input, environment);\r\n\r\n        if(expr.rhs.type === 'function') {\r\n            // this is a function _invocation_; invoke it with arg1 at the start\r\n            result = evaluateFunction(expr.rhs, input, environment, {context: arg1});\r\n        } else {\r\n            var func = evaluate(expr.rhs, input, environment);\r\n\r\n            if(!isFunction(func)) {\r\n                throw {\r\n                    code: \"T2006\",\r\n                    stack: (new Error()).stack,\r\n                    position: expr.position,\r\n                    value: func\r\n                };\r\n            }\r\n\r\n            if(isFunction(arg1)) {\r\n                // this is function chaining (func1 ~> func2)\r\n                // λ($f, $g) { λ($x){ $g($f($x)) } }\r\n                result = apply(chain, [arg1, func], environment, null);\r\n            } else {\r\n                result = apply(func, [arg1], environment, null);\r\n            }\r\n\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {Object} arg - expression to test\r\n     * @returns {boolean} - true if it is a function (lambda or built-in)\r\n     */\r\n    function isFunction(arg) {\r\n        return ((arg && (arg._jsonata_function === true || arg._jsonata_lambda === true)) || typeof arg === 'function');\r\n    }\r\n\r\n    /**\r\n     * Tests whether arg is a lambda function\r\n     * @param {*} arg - the value to test\r\n     * @returns {boolean} - true if it is a lambda function\r\n     */\r\n    function isLambda(arg) {\r\n        return arg && arg._jsonata_lambda === true;\r\n    }\r\n\r\n    /**\r\n     * Evaluate function against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @param {Object} [applyto] - LHS of ~> operator\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateFunction(expr, input, environment, applyto) {\r\n        var result;\r\n        // evaluate the arguments\r\n        var evaluatedArgs = [];\r\n        expr.arguments.forEach(function (arg) {\r\n            evaluatedArgs.push(evaluate(arg, input, environment));\r\n        });\r\n        if(applyto) {\r\n            // insert the first argument from the LHS of ~>\r\n            evaluatedArgs.unshift(applyto.context);\r\n        }\r\n        // lambda function on lhs\r\n        // create the procedure\r\n        // can't assume that expr.procedure is a lambda type directly\r\n        // could be an expression that evaluates to a function (e.g. variable reference, parens expr etc.\r\n        // evaluate it generically first, then check that it is a function.  Throw error if not.\r\n        var proc = evaluate(expr.procedure, input, environment);\r\n\r\n        if (typeof proc === 'undefined' && expr.procedure.type === 'path' && environment.lookup(expr.procedure[0].value)) {\r\n            // help the user out here if they simply forgot the leading $\r\n            throw {\r\n                code: \"T1005\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.procedure[0].value\r\n            };\r\n        }\r\n        // apply the procedure\r\n        try {\r\n            var validatedArgs = evaluatedArgs;\r\n            if(proc) {\r\n                validatedArgs = validateArguments(proc.signature, evaluatedArgs, input);\r\n            }\r\n            result = apply(proc, validatedArgs, input);\r\n        } catch (err) {\r\n            // add the position field to the error\r\n            err.position = expr.position;\r\n            // and the function identifier\r\n            err.token = expr.procedure.type === 'path' ? expr.procedure[0].value : expr.procedure.value;\r\n            throw err;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Apply procedure or function\r\n     * @param {Object} proc - Procedure\r\n     * @param {Array} args - Arguments\r\n     * @param {Object} self - Self\r\n     * @returns {*} Result of procedure\r\n     */\r\n    function apply(proc, args, self) {\r\n        var result;\r\n        result = applyInner(proc, args, self);\r\n        while(isLambda(result) && result.thunk === true) {\r\n            // trampoline loop - this gets invoked as a result of tail-call optimization\r\n            // the function returned a tail-call thunk\r\n            // unpack it, evaluate its arguments, and apply the tail call\r\n            var next = evaluate(result.body.procedure, result.input, result.environment);\r\n            var evaluatedArgs = [];\r\n            result.body.arguments.forEach(function (arg) {\r\n                evaluatedArgs.push(evaluate(arg, result.input, result.environment));\r\n            });\r\n\r\n            result = applyInner(next, evaluatedArgs, self);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Apply procedure or function\r\n     * @param {Object} proc - Procedure\r\n     * @param {Array} args - Arguments\r\n     * @param {Object} self - Self\r\n     * @returns {*} Result of procedure\r\n     */\r\n    function applyInner(proc, args, self) {\r\n        var result;\r\n        if (isLambda(proc)) {\r\n            result = applyProcedure(proc, args);\r\n        } else if (proc && proc._jsonata_function === true) {\r\n            result = proc.implementation.apply(self, args);\r\n        } else if (typeof proc === 'function') {\r\n            result = proc.apply(self, args);\r\n        } else {\r\n            throw {\r\n                code: \"T1006\",\r\n                stack: (new Error()).stack\r\n            };\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate lambda against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {{lambda: boolean, input: *, environment: *, arguments: *, body: *}} Evaluated input data\r\n     */\r\n    function evaluateLambda(expr, input, environment) {\r\n        // make a function (closure)\r\n        var procedure = {\r\n            _jsonata_lambda: true,\r\n            input: input,\r\n            environment: environment,\r\n            arguments: expr.arguments,\r\n            signature: expr.signature,\r\n            body: expr.body\r\n        };\r\n        if(expr.thunk === true) {\r\n            procedure.thunk = true;\r\n        }\r\n        return procedure;\r\n    }\r\n\r\n    /**\r\n     * Evaluate partial application\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluatePartialApplication(expr, input, environment) {\r\n        // partially apply a function\r\n        var result;\r\n        // evaluate the arguments\r\n        var evaluatedArgs = [];\r\n        expr.arguments.forEach(function (arg) {\r\n            if (arg.type === 'operator' && arg.value === '?') {\r\n                evaluatedArgs.push(arg);\r\n            } else {\r\n                evaluatedArgs.push(evaluate(arg, input, environment));\r\n            }\r\n        });\r\n        // lookup the procedure\r\n        var proc = evaluate(expr.procedure, input, environment);\r\n        if (typeof proc === 'undefined' && expr.procedure.type === 'path' && environment.lookup(expr.procedure[0].value)) {\r\n            // help the user out here if they simply forgot the leading $\r\n            throw {\r\n                code: \"T1007\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.procedure[0].value\r\n            };\r\n        }\r\n        if (isLambda(proc)) {\r\n            result = partialApplyProcedure(proc, evaluatedArgs);\r\n        } else if (proc && proc._jsonata_function === true) {\r\n            result = partialApplyNativeFunction(proc.implementation, evaluatedArgs);\r\n        } else if (typeof proc === 'function') {\r\n            result = partialApplyNativeFunction(proc, evaluatedArgs);\r\n        } else {\r\n            throw {\r\n                code: \"T1008\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.procedure.type === 'path' ? expr.procedure[0].value : expr.procedure.value\r\n            };\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Validate the arguments against the signature validator (if it exists)\r\n     * @param {Function} signature - validator function\r\n     * @param {Array} args - function arguments\r\n     * @param {*} context - context value\r\n     * @returns {Array} - validated arguments\r\n     */\r\n    function validateArguments(signature, args, context) {\r\n        if(typeof signature === 'undefined') {\r\n            // nothing to validate\r\n            return args;\r\n        }\r\n        var validatedArgs = signature.validate(args, context);\r\n        return validatedArgs;\r\n    }\r\n\r\n    /**\r\n     * Apply procedure\r\n     * @param {Object} proc - Procedure\r\n     * @param {Array} args - Arguments\r\n     * @returns {*} Result of procedure\r\n     */\r\n    function applyProcedure(proc, args) {\r\n        var result;\r\n        var env = createFrame(proc.environment);\r\n        proc.arguments.forEach(function (param, index) {\r\n            env.bind(param.value, args[index]);\r\n        });\r\n        if (typeof proc.body === 'function') {\r\n            // this is a lambda that wraps a native function - generated by partially evaluating a native\r\n            result = applyNativeFunction(proc.body, env);\r\n        } else {\r\n            result = evaluate(proc.body, proc.input, env);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Partially apply procedure\r\n     * @param {Object} proc - Procedure\r\n     * @param {Array} args - Arguments\r\n     * @returns {{lambda: boolean, input: *, environment: {bind, lookup}, arguments: Array, body: *}} Result of partially applied procedure\r\n     */\r\n    function partialApplyProcedure(proc, args) {\r\n        // create a closure, bind the supplied parameters and return a function that takes the remaining (?) parameters\r\n        var env = createFrame(proc.environment);\r\n        var unboundArgs = [];\r\n        proc.arguments.forEach(function (param, index) {\r\n            var arg = args[index];\r\n            if (arg && arg.type === 'operator' && arg.value === '?') {\r\n                unboundArgs.push(param);\r\n            } else {\r\n                env.bind(param.value, arg);\r\n            }\r\n        });\r\n        var procedure = {\r\n            _jsonata_lambda: true,\r\n            input: proc.input,\r\n            environment: env,\r\n            arguments: unboundArgs,\r\n            body: proc.body\r\n        };\r\n        return procedure;\r\n    }\r\n\r\n    /**\r\n     * Partially apply native function\r\n     * @param {Function} native - Native function\r\n     * @param {Array} args - Arguments\r\n     * @returns {{lambda: boolean, input: *, environment: {bind, lookup}, arguments: Array, body: *}} Result of partially applying native function\r\n     */\r\n    function partialApplyNativeFunction(native, args) {\r\n        // create a lambda function that wraps and invokes the native function\r\n        // get the list of declared arguments from the native function\r\n        // this has to be picked out from the toString() value\r\n        var sigArgs = getNativeFunctionArguments(native);\r\n        sigArgs = sigArgs.map(function (sigArg) {\r\n            return '$' + sigArg.trim();\r\n        });\r\n        var body = 'function(' + sigArgs.join(', ') + '){ _ }';\r\n\r\n        var bodyAST = parser(body);\r\n        bodyAST.body = native;\r\n\r\n        var partial = partialApplyProcedure(bodyAST, args);\r\n        return partial;\r\n    }\r\n\r\n    /**\r\n     * Apply native function\r\n     * @param {Object} proc - Procedure\r\n     * @param {Object} env - Environment\r\n     * @returns {*} Result of applying native function\r\n     */\r\n    function applyNativeFunction(proc, env) {\r\n        var sigArgs = getNativeFunctionArguments(proc);\r\n        // generate the array of arguments for invoking the function - look them up in the environment\r\n        var args = sigArgs.map(function (sigArg) {\r\n            return env.lookup(sigArg.trim());\r\n        });\r\n\r\n        var result = proc.apply(null, args);\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Get native function arguments\r\n     * @param {Function} func - Function\r\n     * @returns {*|Array} Native function arguments\r\n     */\r\n    function getNativeFunctionArguments(func) {\r\n        var signature = func.toString();\r\n        var sigParens = /\\(([^\\)]*)\\)/.exec(signature)[1]; // the contents of the parens\r\n        var sigArgs = sigParens.split(',');\r\n        return sigArgs;\r\n    }\r\n\r\n    /**\r\n     * Creates a function definition\r\n     * @param {Function} func - function implementation in Javascript\r\n     * @param {string} signature - JSONata function signature definition\r\n     * @returns {{implementation: *, signature: *}} function definition\r\n     */\r\n    function defineFunction(func, signature) {\r\n        var definition = {\r\n            _jsonata_function: true,\r\n            implementation: func\r\n        };\r\n        if(typeof signature !== 'undefined') {\r\n            definition.signature = parseSignature(signature);\r\n        }\r\n        return definition;\r\n    }\r\n\r\n    /**\r\n     * Sum function\r\n     * @param {Object} args - Arguments\r\n     * @returns {number} Total value of arguments\r\n     */\r\n    function functionSum(args) {\r\n        // undefined inputs always return undefined\r\n        if(typeof args === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        var total = 0;\r\n        args.forEach(function(num){total += num;});\r\n        return total;\r\n    }\r\n\r\n    /**\r\n     * Count function\r\n     * @param {Object} args - Arguments\r\n     * @returns {number} Number of elements in the array\r\n     */\r\n    function functionCount(args) {\r\n        // undefined inputs always return undefined\r\n        if(typeof args === 'undefined') {\r\n            return 0;\r\n        }\r\n\r\n        return args.length;\r\n    }\r\n\r\n    /**\r\n     * Max function\r\n     * @param {Object} args - Arguments\r\n     * @returns {number} Max element in the array\r\n     */\r\n    function functionMax(args) {\r\n        // undefined inputs always return undefined\r\n        if(typeof args === 'undefined' || args.length === 0) {\r\n            return undefined;\r\n        }\r\n\r\n        return Math.max.apply(Math, args);\r\n    }\r\n\r\n    /**\r\n     * Min function\r\n     * @param {Object} args - Arguments\r\n     * @returns {number} Min element in the array\r\n     */\r\n    function functionMin(args) {\r\n        // undefined inputs always return undefined\r\n        if(typeof args === 'undefined' || args.length === 0) {\r\n            return undefined;\r\n        }\r\n\r\n        return Math.min.apply(Math, args);\r\n    }\r\n\r\n    /**\r\n     * Average function\r\n     * @param {Object} args - Arguments\r\n     * @returns {number} Average element in the array\r\n     */\r\n    function functionAverage(args) {\r\n        // undefined inputs always return undefined\r\n        if(typeof args === 'undefined' || args.length === 0) {\r\n            return undefined;\r\n        }\r\n\r\n        var total = 0;\r\n        args.forEach(function(num){total += num;});\r\n        return total/args.length;\r\n    }\r\n\r\n    /**\r\n     * Stingify arguments\r\n     * @param {Object} arg - Arguments\r\n     * @returns {String} String from arguments\r\n     */\r\n    function functionString(arg) {\r\n        // undefined inputs always return undefined\r\n        if(typeof arg === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        var str;\r\n\r\n        if (typeof arg === 'string') {\r\n            // already a string\r\n            str = arg;\r\n        } else if(isFunction(arg)) {\r\n            // functions (built-in and lambda convert to empty string\r\n            str = '';\r\n        } else if (typeof arg === 'number' && !isFinite(arg)) {\r\n            throw {\r\n                code: \"D3001\",\r\n                value: arg,\r\n                stack: (new Error()).stack\r\n            };\r\n        } else\r\n            str = JSON.stringify(arg, function (key, val) {\r\n                return (typeof val !== 'undefined' && val !== null && val.toPrecision && isNumeric(val)) ? Number(val.toPrecision(13)) :\r\n                  (val && isFunction(val)) ? '' : val;\r\n            });\r\n        return str;\r\n    }\r\n\r\n    /**\r\n     * Create substring based on character number and length\r\n     * @param {String} str - String to evaluate\r\n     * @param {Integer} start - Character number to start substring\r\n     * @param {Integer} [length] - Number of characters in substring\r\n     * @returns {string|*} Substring\r\n     */\r\n    function functionSubstring(str, start, length) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        return str.substr(start, length);\r\n    }\r\n\r\n    /**\r\n     * Create substring up until a character\r\n     * @param {String} str - String to evaluate\r\n     * @param {String} chars - Character to define substring boundary\r\n     * @returns {*} Substring\r\n     */\r\n    function functionSubstringBefore(str, chars) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        var pos = str.indexOf(chars);\r\n        if (pos > -1) {\r\n            return str.substr(0, pos);\r\n        } else {\r\n            return str;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create substring after a character\r\n     * @param {String} str - String to evaluate\r\n     * @param {String} chars - Character to define substring boundary\r\n     * @returns {*} Substring\r\n     */\r\n    function functionSubstringAfter(str, chars) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        var pos = str.indexOf(chars);\r\n        if (pos > -1) {\r\n            return str.substr(pos + chars.length);\r\n        } else {\r\n            return str;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Lowercase a string\r\n     * @param {String} str - String to evaluate\r\n     * @returns {string} Lowercase string\r\n     */\r\n    function functionLowercase(str) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        return str.toLowerCase();\r\n    }\r\n\r\n    /**\r\n     * Uppercase a string\r\n     * @param {String} str - String to evaluate\r\n     * @returns {string} Uppercase string\r\n     */\r\n    function functionUppercase(str) {\r\n         // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        return str.toUpperCase();\r\n    }\r\n\r\n    /**\r\n     * length of a string\r\n     * @param {String} str - string\r\n     * @returns {Number} The number of characters in the string\r\n     */\r\n    function functionLength(str) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        return str.length;\r\n    }\r\n\r\n    /**\r\n     * Normalize and trim whitespace within a string\r\n     * @param {string} str - string to be trimmed\r\n     * @returns {string} - trimmed string\r\n     */\r\n    function functionTrim(str) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        // normalize whitespace\r\n        var result = str.replace(/[ \\t\\n\\r]+/gm, ' ');\r\n        if(result.charAt(0) === ' ') {\r\n            // strip leading space\r\n            result = result.substring(1);\r\n        }\r\n        if(result.charAt(result.length - 1) === ' ') {\r\n            // strip trailing space\r\n            result = result.substring(0, result.length - 1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Tests if the str contains the token\r\n     * @param {String} str - string to test\r\n     * @param {String} token - substring or regex to find\r\n     * @returns {Boolean} - true if str contains token\r\n     */\r\n    function functionContains(str, token) {\r\n         // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        var result;\r\n\r\n        if(typeof token === 'string') {\r\n            result = (str.indexOf(token) !== -1);\r\n        } else {\r\n            var matches = token(str);\r\n            result = (typeof matches !== 'undefined');\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Match a string with a regex returning an array of object containing details of each match\r\n     * @param {String} str - string\r\n     * @param {String} regex - the regex applied to the string\r\n     * @param {Integer} [limit] - max number of matches to return\r\n     * @returns {Array} The array of match objects\r\n     */\r\n    function functionMatch(str, regex, limit) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        // limit, if specified, must be a non-negative number\r\n        if(limit < 0) {\r\n            throw {\r\n                stack: (new Error()).stack,\r\n                value: limit,\r\n                code: 'D3040',\r\n                index: 3\r\n            };\r\n        }\r\n\r\n        var result = [];\r\n\r\n        if(typeof limit === 'undefined' || limit > 0) {\r\n            var count = 0;\r\n            var matches = regex(str);\r\n            if (typeof matches !== 'undefined') {\r\n                while (typeof matches !== 'undefined' && (typeof limit === 'undefined' || count < limit)) {\r\n                    result.push({\r\n                        match: matches.match,\r\n                        index: matches.start,\r\n                        groups: matches.groups\r\n                    });\r\n                    matches = matches.next();\r\n                    count++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Match a string with a regex returning an array of object containing details of each match\r\n     * @param {String} str - string\r\n     * @param {String} pattern - the substring/regex applied to the string\r\n     * @param {String} replacement - text to replace the matched substrings\r\n     * @param {Integer} [limit] - max number of matches to return\r\n     * @returns {Array} The array of match objects\r\n     */\r\n    function functionReplace(str, pattern, replacement, limit) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        // pattern cannot be an empty string\r\n        if(pattern === '') {\r\n            throw {\r\n                code: \"D3010\",\r\n                stack: (new Error()).stack,\r\n                value: pattern,\r\n                index: 2\r\n            };\r\n        }\r\n\r\n        // limit, if specified, must be a non-negative number\r\n        if(limit < 0) {\r\n            throw {\r\n                code: \"D3011\",\r\n                stack: (new Error()).stack,\r\n                value: limit,\r\n                index: 4\r\n            };\r\n        }\r\n\r\n        var replacer;\r\n        if(typeof replacement === 'string') {\r\n            replacer = function (regexMatch) {\r\n                var substitute = '';\r\n                // scan forward, copying the replacement text into the substitute string\r\n                // and replace any occurrence of $n with the values matched by the regex\r\n                var position = 0;\r\n                var index = replacement.indexOf('$', position);\r\n                while (index !== -1 && position < replacement.length) {\r\n                    substitute += replacement.substring(position, index);\r\n                    position = index + 1;\r\n                    var dollarVal = replacement.charAt(position);\r\n                    if (dollarVal === '$') {\r\n                        // literal $\r\n                        substitute += '$';\r\n                        position++;\r\n                    } else if (dollarVal === '0') {\r\n                        substitute += regexMatch.match;\r\n                        position++;\r\n                    } else {\r\n                        var maxDigits;\r\n                        if(regexMatch.groups.length === 0) {\r\n                            // no sub-matches; any $ followed by a digit will be replaced by an empty string\r\n                            maxDigits = 1;\r\n                        } else {\r\n                            // max number of digits to parse following the $\r\n                            maxDigits = Math.floor(Math.log(regexMatch.groups.length) * Math.LOG10E) + 1;\r\n                        }\r\n                        index = parseInt(replacement.substring(position, position + maxDigits), 10);\r\n                        if(maxDigits > 1 && index > regexMatch.groups.length) {\r\n                            index = parseInt(replacement.substring(position, position + maxDigits - 1), 10);\r\n                        }\r\n                        if (!isNaN(index)) {\r\n                            if(regexMatch.groups.length > 0 ) {\r\n                                var submatch = regexMatch.groups[index - 1];\r\n                                if (typeof submatch !== 'undefined') {\r\n                                    substitute += submatch;\r\n                                }\r\n                            }\r\n                            position += index.toString().length;\r\n                        } else {\r\n                            // not a capture group, treat the $ as literal\r\n                            substitute += '$';\r\n                        }\r\n                    }\r\n                    index = replacement.indexOf('$', position);\r\n                }\r\n                substitute += replacement.substring(position);\r\n                return substitute;\r\n            };\r\n        } else {\r\n            replacer = replacement;\r\n        }\r\n\r\n        var result = '';\r\n        var position = 0;\r\n\r\n        if(typeof limit === 'undefined' || limit > 0) {\r\n            var count = 0;\r\n            if(typeof pattern === 'string') {\r\n                var index = str.indexOf(pattern, position);\r\n                while(index !== -1 && (typeof limit === 'undefined' || count < limit)) {\r\n                    result += str.substring(position, index);\r\n                    result += replacement;\r\n                    position = index + pattern.length;\r\n                    count++;\r\n                    index = str.indexOf(pattern, position);\r\n                }\r\n                result += str.substring(position);\r\n            } else {\r\n                var matches = pattern(str);\r\n                if (typeof matches !== 'undefined') {\r\n                    while (typeof matches !== 'undefined' && (typeof limit === 'undefined' || count < limit)) {\r\n                        result += str.substring(position, matches.start);\r\n                        var replacedWith = apply(replacer, [matches], null);\r\n                        // check replacedWith is a string\r\n                        if(typeof replacedWith === 'string') {\r\n                            result += replacedWith;\r\n                        } else {\r\n                            // not a string - throw error\r\n                            throw {\r\n                                code: \"D3012\",\r\n                                stack: (new Error()).stack,\r\n                                value: replacedWith\r\n                            };\r\n                        }\r\n                        position = matches.start + matches.match.length;\r\n                        count++;\r\n                        matches = matches.next();\r\n                    }\r\n                    result += str.substring(position);\r\n                } else {\r\n                    result = str;\r\n                }\r\n            }\r\n        } else {\r\n            result = str;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n\r\n    /**\r\n     * Split a string into an array of substrings\r\n     * @param {String} str - string\r\n     * @param {String} separator - the token or regex that splits the string\r\n     * @param {Integer} [limit] - max number of substrings\r\n     * @returns {Array} The array of string\r\n     */\r\n    function functionSplit(str, separator, limit) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        // limit, if specified, must be a non-negative number\r\n        if(limit < 0) {\r\n            throw {\r\n                code: \"D3020\",\r\n                stack: (new Error()).stack,\r\n                value: limit,\r\n                index: 3\r\n            };\r\n        }\r\n\r\n        var result = [];\r\n\r\n        if(typeof limit === 'undefined' || limit > 0) {\r\n            if (typeof separator === 'string') {\r\n                result = str.split(separator, limit);\r\n            } else {\r\n                var count = 0;\r\n                var matches = separator(str);\r\n                if (typeof matches !== 'undefined') {\r\n                    var start = 0;\r\n                    while (typeof matches !== 'undefined' && (typeof limit === 'undefined' || count < limit)) {\r\n                        result.push(str.substring(start, matches.start));\r\n                        start = matches.end;\r\n                        matches = matches.next();\r\n                        count++;\r\n                    }\r\n                    if(typeof limit === 'undefined' || count < limit) {\r\n                        result.push(str.substring(start));\r\n                    }\r\n                } else {\r\n                    result = [str];\r\n                }\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Join an array of strings\r\n     * @param {Array} strs - array of string\r\n     * @param {String} [separator] - the token that splits the string\r\n     * @returns {String} The concatenated string\r\n     */\r\n    function functionJoin(strs, separator) {\r\n        // undefined inputs always return undefined\r\n        if(typeof strs === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        // if separator is not specified, default to empty string\r\n        if(typeof separator === 'undefined') {\r\n            separator = \"\";\r\n        }\r\n\r\n        return strs.join(separator);\r\n    }\r\n\r\n    /**\r\n     * Cast argument to number\r\n     * @param {Object} arg - Argument\r\n     * @returns {Number} numeric value of argument\r\n     */\r\n    function functionNumber(arg) {\r\n        var result;\r\n\r\n        // undefined inputs always return undefined\r\n        if(typeof arg === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        if (typeof arg === 'number') {\r\n            // already a number\r\n            result = arg;\r\n        } else if(typeof arg === 'string' && /^-?(0|([1-9][0-9]*))(\\.[0-9]+)?([Ee][-+]?[0-9]+)?$/.test(arg) && !isNaN(parseFloat(arg)) && isFinite(arg)) {\r\n            result = parseFloat(arg);\r\n        } else {\r\n            throw {\r\n                code: \"D3030\",\r\n                value: arg,\r\n                stack: (new Error()).stack,\r\n                index: 1\r\n            };\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n    /**\r\n     * Evaluate an input and return a boolean\r\n     * @param {*} arg - Arguments\r\n     * @returns {boolean} Boolean\r\n     */\r\n    function functionBoolean(arg) {\r\n        // cast arg to its effective boolean value\r\n        // boolean: unchanged\r\n        // string: zero-length -> false; otherwise -> true\r\n        // number: 0 -> false; otherwise -> true\r\n        // null -> false\r\n        // array: empty -> false; length > 1 -> true\r\n        // object: empty -> false; non-empty -> true\r\n        // function -> false\r\n\r\n        // undefined inputs always return undefined\r\n        if(typeof arg === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        var result = false;\r\n        if (Array.isArray(arg)) {\r\n            if (arg.length === 1) {\r\n                result = functionBoolean(arg[0]);\r\n            } else if (arg.length > 1) {\r\n                var trues = arg.filter(function(val) {return functionBoolean(val);});\r\n                result = trues.length > 0;\r\n            }\r\n        } else if (typeof arg === 'string') {\r\n            if (arg.length > 0) {\r\n                result = true;\r\n            }\r\n        } else if (isNumeric(arg)) {\r\n            if (arg !== 0) {\r\n                result = true;\r\n            }\r\n        } else if (arg !== null && typeof arg === 'object') {\r\n            if (Object.keys(arg).length > 0) {\r\n                // make sure it's not a lambda function\r\n                if (!(isLambda(arg) || arg._jsonata_function)) {\r\n                    result = true;\r\n                }\r\n            }\r\n        } else if (typeof arg === 'boolean' && arg === true) {\r\n            result = true;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * returns the Boolean NOT of the arg\r\n     * @param {*} arg - argument\r\n     * @returns {boolean} - NOT arg\r\n     */\r\n    function functionNot(arg) {\r\n        return !functionBoolean(arg);\r\n    }\r\n\r\n    /**\r\n     * Create a map from an array of arguments\r\n     * @param {Function} func - function to apply\r\n     * @param {Array} [arr] - array to map over\r\n     * @returns {Array} Map array\r\n     */\r\n    function functionMap(func, arr) {\r\n        // this can take a variable number of arguments - each one should be mapped to the equivalent arg of func\r\n        // assert that func is a function\r\n        var varargs = arguments;\r\n        var result = [];\r\n\r\n        // each subsequent arg must be an array - coerce if not\r\n        var args = arr;\r\n        args = [];\r\n        for (var ii = 1; ii < varargs.length; ii++) {\r\n            args.push(varargs[ii]);\r\n        }\r\n        // do the map - iterate over the arrays, and invoke func\r\n        for (var i = 0; i < args[0].length; i++) {\r\n            var func_args = [];\r\n            var length = typeof func === 'function' ? func.length :\r\n              func._jsonata_function === true ? func.implementation.length : func.arguments.length;\r\n            for (var j = 0; j < length; j++) {\r\n                func_args.push(args[j][i]);\r\n            }\r\n            // invoke func\r\n            result.push(apply(func, func_args, null));\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Fold left function\r\n     * @param {Function} func - Function\r\n     * @param {Array} sequence - Sequence\r\n     * @param {Object} init - Initial value\r\n     * @returns {*} Result\r\n     */\r\n    function functionFoldLeft(func, sequence, init) {\r\n        var result;\r\n\r\n        if (!(func.length === 2 || (func._jsonata_function === true && func.implementation.length === 2) || func.arguments.length === 2)) {\r\n            throw {\r\n                stack: (new Error()).stack,\r\n                code: \"D3050\",\r\n                index: 1\r\n            };\r\n        }\r\n\r\n        var index;\r\n        if (typeof init === 'undefined' && sequence.length > 0) {\r\n            result = sequence[0];\r\n            index = 1;\r\n        } else {\r\n            result = init;\r\n            index = 0;\r\n        }\r\n\r\n        while (index < sequence.length) {\r\n            result = apply(func, [result, sequence[index]], null);\r\n            index++;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Return keys for an object\r\n     * @param {Object} arg - Object\r\n     * @returns {Array} Array of keys\r\n     */\r\n    function functionKeys(arg) {\r\n        var result = [];\r\n\r\n        if(Array.isArray(arg)) {\r\n            // merge the keys of all of the items in the array\r\n            var merge = {};\r\n            arg.forEach(function(item) {\r\n                var keys = functionKeys(item);\r\n                if(Array.isArray(keys)) {\r\n                    keys.forEach(function(key) {\r\n                        merge[key] = true;\r\n                    });\r\n                }\r\n            });\r\n            result = functionKeys(merge);\r\n        } else if(arg !== null && typeof arg === 'object' && !(isLambda(arg))) {\r\n            result = Object.keys(arg);\r\n            if(result.length === 0) {\r\n                result = undefined;\r\n            }\r\n        } else {\r\n            result = undefined;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Return value from an object for a given key\r\n     * @param {Object} object - Object\r\n     * @param {String} key - Key in object\r\n     * @returns {*} Value of key in object\r\n     */\r\n    function functionLookup(object, key) {\r\n        var result = evaluateName({value: key}, object);\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Append second argument to first\r\n     * @param {Array|Object} arg1 - First argument\r\n     * @param {Array|Object} arg2 - Second argument\r\n     * @returns {*} Appended arguments\r\n     */\r\n    function functionAppend(arg1, arg2) {\r\n        // disregard undefined args\r\n        if (typeof arg1 === 'undefined') {\r\n            return arg2;\r\n        }\r\n        if (typeof arg2 === 'undefined') {\r\n            return arg1;\r\n        }\r\n        // if either argument is not an array, make it so\r\n        if (!Array.isArray(arg1)) {\r\n            arg1 = [arg1];\r\n        }\r\n        if (!Array.isArray(arg2)) {\r\n            arg2 = [arg2];\r\n        }\r\n        Array.prototype.push.apply(arg1, arg2);\r\n        return arg1;\r\n    }\r\n\r\n    /**\r\n     * Determines if the argument is undefined\r\n     * @param {*} arg - argument\r\n     * @returns {boolean} False if argument undefined, otherwise true\r\n     */\r\n    function functionExists(arg){\r\n        if (typeof arg === 'undefined') {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Splits an object into an array of object with one property each\r\n     * @param {*} arg - the object to split\r\n     * @returns {*} - the array\r\n     */\r\n    function functionSpread(arg) {\r\n        var result = [];\r\n\r\n        if(Array.isArray(arg)) {\r\n            // spread all of the items in the array\r\n            arg.forEach(function(item) {\r\n                result = functionAppend(result, functionSpread(item));\r\n            });\r\n        } else if(arg !== null && typeof arg === 'object' && !isLambda(arg)) {\r\n            for(var key in arg) {\r\n                var obj = {};\r\n                obj[key] = arg[key];\r\n                result.push(obj);\r\n            }\r\n        } else {\r\n            result = arg;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Create frame\r\n     * @param {Object} enclosingEnvironment - Enclosing environment\r\n     * @returns {{bind: bind, lookup: lookup}} Created frame\r\n     */\r\n    function createFrame(enclosingEnvironment) {\r\n        var bindings = {};\r\n        return {\r\n            bind: function (name, value) {\r\n                bindings[name] = value;\r\n            },\r\n            lookup: function (name) {\r\n                var value;\r\n                if(bindings.hasOwnProperty(name)) {\r\n                    value = bindings[name];\r\n                } else if (enclosingEnvironment) {\r\n                    value = enclosingEnvironment.lookup(name);\r\n                }\r\n                return value;\r\n            }\r\n        };\r\n    }\r\n\r\n    // Function registration\r\n    staticFrame.bind('sum', defineFunction(functionSum, '<a<n>:n>'));\r\n    staticFrame.bind('count', defineFunction(functionCount, '<a:n>'));\r\n    staticFrame.bind('max', defineFunction(functionMax, '<a<n>:n>'));\r\n    staticFrame.bind('min', defineFunction(functionMin, '<a<n>:n>'));\r\n    staticFrame.bind('average', defineFunction(functionAverage, '<a<n>:n>'));\r\n    staticFrame.bind('string', defineFunction(functionString, '<x-:s>'));\r\n    staticFrame.bind('substring', defineFunction(functionSubstring, '<s-nn?:s>'));\r\n    staticFrame.bind('substringBefore', defineFunction(functionSubstringBefore, '<s-s:s>'));\r\n    staticFrame.bind('substringAfter', defineFunction(functionSubstringAfter, '<s-s:s>'));\r\n    staticFrame.bind('lowercase', defineFunction(functionLowercase, '<s-:s>'));\r\n    staticFrame.bind('uppercase', defineFunction(functionUppercase, '<s-:s>'));\r\n    staticFrame.bind('length', defineFunction(functionLength, '<s-:n>'));\r\n    staticFrame.bind('trim', defineFunction(functionTrim, '<s-:s>'));\r\n    staticFrame.bind('match', defineFunction(functionMatch, '<s-f<s:o>n?:a<o>>'));\r\n    staticFrame.bind('contains', defineFunction(functionContains, '<s-(sf):b>')); // TODO <s-(sf<s:o>):b>\r\n    staticFrame.bind('replace', defineFunction(functionReplace, '<s-(sf)(sf)n?:s>')); // TODO <s-(sf<s:o>)(sf<o:s>)n?:s>\r\n    staticFrame.bind('split', defineFunction(functionSplit, '<s-(sf)n?:a<s>>')); // TODO <s-(sf<s:o>)n?:a<s>>\r\n    staticFrame.bind('join', defineFunction(functionJoin, '<a<s>s?:s>'));\r\n    staticFrame.bind('number', defineFunction(functionNumber, '<(ns)-:n>'));\r\n    staticFrame.bind('boolean', defineFunction(functionBoolean, '<x-:b>'));\r\n    staticFrame.bind('not', defineFunction(functionNot, '<x-:b>'));\r\n    staticFrame.bind('map', defineFunction(functionMap, '<fa+>'));\r\n    staticFrame.bind('reduce', defineFunction(functionFoldLeft, '<faj?:j>')); // TODO <f<jj:j>a<j>j?:j>\r\n    staticFrame.bind('keys', defineFunction(functionKeys, '<x-:a<s>>'));\r\n    staticFrame.bind('lookup', defineFunction(functionLookup, '<x-s:x>'));\r\n    staticFrame.bind('append', defineFunction(functionAppend, '<xx:a>'));\r\n    staticFrame.bind('exists', defineFunction(functionExists, '<x:b>'));\r\n    staticFrame.bind('spread', defineFunction(functionSpread, '<x-:a<o>>'));\r\n\r\n    /**\r\n     * Error codes\r\n     *\r\n     */\r\n    var errorCodes = {\r\n        \"S0101\": \"No terminating quote found in string literal\",\r\n        \"S0102\": \"Number out of range: {{token}}\",\r\n        \"S0103\": \"unsupported escape sequence: \\\\{{token}}\",\r\n        \"S0104\": \"The escape sequence \\\\u must be followed by 4 hex digits\",\r\n        \"S0203\": \"Syntax error: expected '{{value}}' before end of expression\",\r\n        \"S0202\": \"Syntax error: expected '{{value}}', got '{{token}}'\",\r\n        \"S0204\": \"Unknown operator: {{token}}\",\r\n        \"S0205\": \"Unexpected token: {{token}}\",\r\n        \"S0208\": \"Parameter {{value}} of function definition must be a variable name (start with $)\",\r\n        \"S0209\": \"A predicate cannot follow a grouping expression in a step.\",\r\n        \"S0210\": \"Each step can only have one grouping expression.\",\r\n        \"S0201\": \"Syntax error: {{token}}\",\r\n        \"S0206\": \"Unknown expression type: {{token}}\",\r\n        \"S0207\": \"Syntax error: unexpected end of expression\",\r\n        \"S0301\": \"Empty regular expressions are not allowed\",\r\n        \"S0302\": \"No terminating / in regular expression\",\r\n        \"S0402\": \"Choice groups containing parameterized types not supported\",\r\n        \"S0401\": \"Type parameters can only be applied to functions and arrays\",\r\n        \"T0410\": \"Argument {{index}} of function '{{token}}' does not match function signature\",\r\n        \"T0411\": \"Context value is not a compatible type with argument {{index}} of function '{{token}}'\",\r\n        \"T0412\": \"Argument {{index}} of function '{{token}}' must be an array of {{type}}\",\r\n        \"D1001\": \"Number out of range: {{value}}\",\r\n        \"D1002\": \"Cannot negate a non-numeric value: {{value}}\",\r\n        \"T2001\": \"LHS of {{token}} operator must evaluate to a number\",\r\n        \"T2002\": \"RHS of {{token}} operator must evaluate to a number\",\r\n        \"T1003\": \"Key in object structure must evaluate to a string. Got: {{value}}\",\r\n        \"T2003\": \"LHS of range operator (..) must evaluate to an integer\",\r\n        \"T2004\": \"RHS of range operator (..) must evaluate to an integer\",\r\n        \"D2005\": \"Left hand side of := must be a variable name (start with $)\",\r\n        \"D1004\": \"Regular expression matches zero length string\",\r\n        \"T2006\": \"RHS of function application operator ~> is not a function\",\r\n        \"T1005\": \"Attempted to invoke a non-function. Did you mean '${{token}}'?\",\r\n        \"T1006\": \"Attempted to invoke a non-function\",\r\n        \"T1007\": \"Attempted to partially apply a non-function. Did you mean '${{token}}'?\",\r\n        \"T1008\": \"Attempted to partially apply a non-function\",\r\n        \"D3001\": \"Attempting to invoke string function on Infinity or NaN\",\r\n        \"D3010\": \"Second argument of replace function cannot be an empty string\",\r\n        \"D3011\": \"Forth argument of replace function must evaluate to a positive number\",\r\n        \"D3012\": \"Attempted to replace a matched string with a non-string value\",\r\n        \"D3020\": \"Third argument of split function must evaluate to a positive number\",\r\n        \"D3030\": \"Unable to cast value to a number: {{value}}\"\r\n    };\r\n\r\n    /**\r\n     * lookup a message template from the catalog and substitute the inserts\r\n     * @param {string} err - error code to lookup\r\n     * @returns {string} message\r\n     */\r\n    function lookupMessage(err) {\r\n        var message = 'Unknown error';\r\n        if(typeof err.message !== 'undefined') {\r\n            message = err.message;\r\n        }\r\n        var template = errorCodes[err.code];\r\n        if(typeof template !== 'undefined') {\r\n            // if there are any handlebars, replace them with the field references\r\n            message = template.replace(/\\{\\{([^}]+)}}/g, function() {\r\n                return err[arguments[1]];\r\n            });\r\n        }\r\n        return message;\r\n    }\r\n\r\n    /**\r\n     * JSONata\r\n     * @param {Object} expr - JSONata expression\r\n     * @returns {{evaluate: evaluate, assign: assign}} Evaluated expression\r\n     */\r\n    function jsonata(expr) {\r\n        var ast;\r\n        try {\r\n            ast = parser(expr);\r\n        } catch(err) {\r\n            // insert error message into structure\r\n            err.message = lookupMessage(err);\r\n            throw err;\r\n        }\r\n        var environment = createFrame(staticFrame);\r\n        return {\r\n            evaluate: function (input, bindings) {\r\n                if (typeof bindings !== 'undefined') {\r\n                    var exec_env;\r\n                    // the variable bindings have been passed in - create a frame to hold these\r\n                    exec_env = createFrame(environment);\r\n                    for (var v in bindings) {\r\n                        exec_env.bind(v, bindings[v]);\r\n                    }\r\n                } else {\r\n                    exec_env = environment;\r\n                }\r\n                // put the input document into the environment as the root object\r\n                exec_env.bind('$', input);\r\n                var result;\r\n                try {\r\n                    result = evaluate(ast, input, exec_env);\r\n                } catch(err) {\r\n                    // insert error message into structure\r\n                    err.message = lookupMessage(err);\r\n                    throw err;\r\n                }\r\n                return result;\r\n            },\r\n            assign: function (name, value) {\r\n                environment.bind(name, value);\r\n            },\r\n            registerFunction: function(name, implementation, signature) {\r\n                var func = defineFunction(implementation, signature);\r\n                environment.bind(name, func);\r\n            }\r\n        };\r\n    }\r\n\r\n    jsonata.parser = parser;\r\n\r\n    return jsonata;\r\n\r\n})();\r\n\r\n// node.js only - export the jsonata and parser functions\r\n// istanbul ignore else\r\nif(typeof module !== 'undefined') {\r\n    module.exports = jsonata;\r\n}","// CodeMirror, copyright (c) by Marijn Haverbeke and others\r\n// Distributed under an MIT license: http://codemirror.net/LICENSE\r\n\r\n// This is CodeMirror (http://codemirror.net), a code editor\r\n// implemented in JavaScript on top of the browser's DOM.\r\n//\r\n// You can find some technical background for some of the code below\r\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\r\n\r\n(function (global, factory) {\r\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n  typeof define === 'function' && define.amd ? define(factory) :\r\n  (global.CodeMirror = factory());\r\n}(this, (function () { 'use strict';\r\n\r\n// Kludges for bugs and behavior differences that can't be feature\r\n// detected are enabled based on userAgent etc sniffing.\r\nvar userAgent = navigator.userAgent\r\nvar platform = navigator.platform\r\n\r\nvar gecko = /gecko\\/\\d/i.test(userAgent)\r\nvar ie_upto10 = /MSIE \\d/.test(userAgent)\r\nvar ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent)\r\nvar edge = /Edge\\/(\\d+)/.exec(userAgent)\r\nvar ie = ie_upto10 || ie_11up || edge\r\nvar ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1])\r\nvar webkit = !edge && /WebKit\\//.test(userAgent)\r\nvar qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent)\r\nvar chrome = !edge && /Chrome\\//.test(userAgent)\r\nvar presto = /Opera\\//.test(userAgent)\r\nvar safari = /Apple Computer/.test(navigator.vendor)\r\nvar mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent)\r\nvar phantom = /PhantomJS/.test(userAgent)\r\n\r\nvar ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent)\r\n// This is woefully incomplete. Suggestions for alternative methods welcome.\r\nvar mobile = ios || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent)\r\nvar mac = ios || /Mac/.test(platform)\r\nvar chromeOS = /\\bCrOS\\b/.test(userAgent)\r\nvar windows = /win/i.test(platform)\r\n\r\nvar presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/)\r\nif (presto_version) { presto_version = Number(presto_version[1]) }\r\nif (presto_version && presto_version >= 15) { presto = false; webkit = true }\r\n// Some browsers use the wrong event properties to signal cmd/ctrl on OS X\r\nvar flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11))\r\nvar captureRightClick = gecko || (ie && ie_version >= 9)\r\n\r\nfunction classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\r\n\r\nvar rmClass = function(node, cls) {\r\n  var current = node.className\r\n  var match = classTest(cls).exec(current)\r\n  if (match) {\r\n    var after = current.slice(match.index + match[0].length)\r\n    node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\")\r\n  }\r\n}\r\n\r\nfunction removeChildren(e) {\r\n  for (var count = e.childNodes.length; count > 0; --count)\r\n    { e.removeChild(e.firstChild) }\r\n  return e\r\n}\r\n\r\nfunction removeChildrenAndAdd(parent, e) {\r\n  return removeChildren(parent).appendChild(e)\r\n}\r\n\r\nfunction elt(tag, content, className, style) {\r\n  var e = document.createElement(tag)\r\n  if (className) { e.className = className }\r\n  if (style) { e.style.cssText = style }\r\n  if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)) }\r\n  else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]) } }\r\n  return e\r\n}\r\n\r\nvar range\r\nif (document.createRange) { range = function(node, start, end, endNode) {\r\n  var r = document.createRange()\r\n  r.setEnd(endNode || node, end)\r\n  r.setStart(node, start)\r\n  return r\r\n} }\r\nelse { range = function(node, start, end) {\r\n  var r = document.body.createTextRange()\r\n  try { r.moveToElementText(node.parentNode) }\r\n  catch(e) { return r }\r\n  r.collapse(true)\r\n  r.moveEnd(\"character\", end)\r\n  r.moveStart(\"character\", start)\r\n  return r\r\n} }\r\n\r\nfunction contains(parent, child) {\r\n  if (child.nodeType == 3) // Android browser always returns false when child is a textnode\r\n    { child = child.parentNode }\r\n  if (parent.contains)\r\n    { return parent.contains(child) }\r\n  do {\r\n    if (child.nodeType == 11) { child = child.host }\r\n    if (child == parent) { return true }\r\n  } while (child = child.parentNode)\r\n}\r\n\r\nfunction activeElt() {\r\n  // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\r\n  // IE < 10 will throw when accessed while the page is loading or in an iframe.\r\n  // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\r\n  var activeElement\r\n  try {\r\n    activeElement = document.activeElement\r\n  } catch(e) {\r\n    activeElement = document.body || null\r\n  }\r\n  while (activeElement && activeElement.root && activeElement.root.activeElement)\r\n    { activeElement = activeElement.root.activeElement }\r\n  return activeElement\r\n}\r\n\r\nfunction addClass(node, cls) {\r\n  var current = node.className\r\n  if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls }\r\n}\r\nfunction joinClasses(a, b) {\r\n  var as = a.split(\" \")\r\n  for (var i = 0; i < as.length; i++)\r\n    { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i] } }\r\n  return b\r\n}\r\n\r\nvar selectInput = function(node) { node.select() }\r\nif (ios) // Mobile Safari apparently has a bug where select() is broken.\r\n  { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length } }\r\nelse if (ie) // Suppress mysterious IE10 errors\r\n  { selectInput = function(node) { try { node.select() } catch(_e) {} } }\r\n\r\nfunction bind(f) {\r\n  var args = Array.prototype.slice.call(arguments, 1)\r\n  return function(){return f.apply(null, args)}\r\n}\r\n\r\nfunction copyObj(obj, target, overwrite) {\r\n  if (!target) { target = {} }\r\n  for (var prop in obj)\r\n    { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\r\n      { target[prop] = obj[prop] } }\r\n  return target\r\n}\r\n\r\n// Counts the column offset in a string, taking tabs into account.\r\n// Used mostly to find indentation.\r\nfunction countColumn(string, end, tabSize, startIndex, startValue) {\r\n  if (end == null) {\r\n    end = string.search(/[^\\s\\u00a0]/)\r\n    if (end == -1) { end = string.length }\r\n  }\r\n  for (var i = startIndex || 0, n = startValue || 0;;) {\r\n    var nextTab = string.indexOf(\"\\t\", i)\r\n    if (nextTab < 0 || nextTab >= end)\r\n      { return n + (end - i) }\r\n    n += nextTab - i\r\n    n += tabSize - (n % tabSize)\r\n    i = nextTab + 1\r\n  }\r\n}\r\n\r\nvar Delayed = function() {this.id = null};\r\nDelayed.prototype.set = function (ms, f) {\r\n  clearTimeout(this.id)\r\n  this.id = setTimeout(f, ms)\r\n};\r\n\r\nfunction indexOf(array, elt) {\r\n  for (var i = 0; i < array.length; ++i)\r\n    { if (array[i] == elt) { return i } }\r\n  return -1\r\n}\r\n\r\n// Number of pixels added to scroller and sizer to hide scrollbar\r\nvar scrollerGap = 30\r\n\r\n// Returned or thrown by various protocols to signal 'I'm not\r\n// handling this'.\r\nvar Pass = {toString: function(){return \"CodeMirror.Pass\"}}\r\n\r\n// Reused option objects for setSelection & friends\r\nvar sel_dontScroll = {scroll: false};\r\nvar sel_mouse = {origin: \"*mouse\"};\r\nvar sel_move = {origin: \"+move\"};\r\n// The inverse of countColumn -- find the offset that corresponds to\r\n// a particular column.\r\nfunction findColumn(string, goal, tabSize) {\r\n  for (var pos = 0, col = 0;;) {\r\n    var nextTab = string.indexOf(\"\\t\", pos)\r\n    if (nextTab == -1) { nextTab = string.length }\r\n    var skipped = nextTab - pos\r\n    if (nextTab == string.length || col + skipped >= goal)\r\n      { return pos + Math.min(skipped, goal - col) }\r\n    col += nextTab - pos\r\n    col += tabSize - (col % tabSize)\r\n    pos = nextTab + 1\r\n    if (col >= goal) { return pos }\r\n  }\r\n}\r\n\r\nvar spaceStrs = [\"\"]\r\nfunction spaceStr(n) {\r\n  while (spaceStrs.length <= n)\r\n    { spaceStrs.push(lst(spaceStrs) + \" \") }\r\n  return spaceStrs[n]\r\n}\r\n\r\nfunction lst(arr) { return arr[arr.length-1] }\r\n\r\nfunction map(array, f) {\r\n  var out = []\r\n  for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i) }\r\n  return out\r\n}\r\n\r\nfunction insertSorted(array, value, score) {\r\n  var pos = 0, priority = score(value)\r\n  while (pos < array.length && score(array[pos]) <= priority) { pos++ }\r\n  array.splice(pos, 0, value)\r\n}\r\n\r\nfunction nothing() {}\r\n\r\nfunction createObj(base, props) {\r\n  var inst\r\n  if (Object.create) {\r\n    inst = Object.create(base)\r\n  } else {\r\n    nothing.prototype = base\r\n    inst = new nothing()\r\n  }\r\n  if (props) { copyObj(props, inst) }\r\n  return inst\r\n}\r\n\r\nvar nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/\r\nfunction isWordCharBasic(ch) {\r\n  return /\\w/.test(ch) || ch > \"\\x80\" &&\r\n    (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\r\n}\r\nfunction isWordChar(ch, helper) {\r\n  if (!helper) { return isWordCharBasic(ch) }\r\n  if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\r\n  return helper.test(ch)\r\n}\r\n\r\nfunction isEmpty(obj) {\r\n  for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\r\n  return true\r\n}\r\n\r\n// Extending unicode characters. A series of a non-extending char +\r\n// any number of extending chars is treated as a single unit as far\r\n// as editing and measuring is concerned. This is not fully correct,\r\n// since some scripts/fonts/browsers also treat other configurations\r\n// of code points as a group.\r\nvar extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/\r\nfunction isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\r\n\r\n// Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\r\nfunction skipExtendingChars(str, pos, dir) {\r\n  while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir }\r\n  return pos\r\n}\r\n\r\n// Returns the value from the range [`from`; `to`] that satisfies\r\n// `pred` and is closest to `from`. Assumes that at least `to` satisfies `pred`.\r\nfunction findFirst(pred, from, to) {\r\n  for (;;) {\r\n    if (Math.abs(from - to) <= 1) { return pred(from) ? from : to }\r\n    var mid = Math.floor((from + to) / 2)\r\n    if (pred(mid)) { to = mid }\r\n    else { from = mid }\r\n  }\r\n}\r\n\r\n// The display handles the DOM integration, both for input reading\r\n// and content drawing. It holds references to DOM nodes and\r\n// display-related state.\r\n\r\nfunction Display(place, doc, input) {\r\n  var d = this\r\n  this.input = input\r\n\r\n  // Covers bottom-right square when both scrollbars are present.\r\n  d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\")\r\n  d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\")\r\n  // Covers bottom of gutter when coverGutterNextToScrollbar is on\r\n  // and h scrollbar is present.\r\n  d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\")\r\n  d.gutterFiller.setAttribute(\"cm-not-content\", \"true\")\r\n  // Will contain the actual code, positioned to cover the viewport.\r\n  d.lineDiv = elt(\"div\", null, \"CodeMirror-code\")\r\n  // Elements are added to these to represent selection and cursors.\r\n  d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\")\r\n  d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\")\r\n  // A visibility: hidden element used to find the size of things.\r\n  d.measure = elt(\"div\", null, \"CodeMirror-measure\")\r\n  // When lines outside of the viewport are measured, they are drawn in this.\r\n  d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\")\r\n  // Wraps everything that needs to exist inside the vertically-padded coordinate system\r\n  d.lineSpace = elt(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\r\n                    null, \"position: relative; outline: none\")\r\n  // Moved around its parent to cover visible view.\r\n  d.mover = elt(\"div\", [elt(\"div\", [d.lineSpace], \"CodeMirror-lines\")], null, \"position: relative\")\r\n  // Set to the height of the document, allowing scrolling.\r\n  d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\")\r\n  d.sizerWidth = null\r\n  // Behavior of elts with overflow: auto and padding is\r\n  // inconsistent across browsers. This is used to ensure the\r\n  // scrollable area is big enough.\r\n  d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\")\r\n  // Will contain the gutters, if any.\r\n  d.gutters = elt(\"div\", null, \"CodeMirror-gutters\")\r\n  d.lineGutter = null\r\n  // Actual scrollable element.\r\n  d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\")\r\n  d.scroller.setAttribute(\"tabIndex\", \"-1\")\r\n  // The element in which the editor lives.\r\n  d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\")\r\n\r\n  // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\r\n  if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0 }\r\n  if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true }\r\n\r\n  if (place) {\r\n    if (place.appendChild) { place.appendChild(d.wrapper) }\r\n    else { place(d.wrapper) }\r\n  }\r\n\r\n  // Current rendered range (may be bigger than the view window).\r\n  d.viewFrom = d.viewTo = doc.first\r\n  d.reportedViewFrom = d.reportedViewTo = doc.first\r\n  // Information about the rendered lines.\r\n  d.view = []\r\n  d.renderedView = null\r\n  // Holds info about a single rendered line when it was rendered\r\n  // for measurement, while not in view.\r\n  d.externalMeasured = null\r\n  // Empty space (in pixels) above the view\r\n  d.viewOffset = 0\r\n  d.lastWrapHeight = d.lastWrapWidth = 0\r\n  d.updateLineNumbers = null\r\n\r\n  d.nativeBarWidth = d.barHeight = d.barWidth = 0\r\n  d.scrollbarsClipped = false\r\n\r\n  // Used to only resize the line number gutter when necessary (when\r\n  // the amount of lines crosses a boundary that makes its width change)\r\n  d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null\r\n  // Set to true when a non-horizontal-scrolling line widget is\r\n  // added. As an optimization, line widget aligning is skipped when\r\n  // this is false.\r\n  d.alignWidgets = false\r\n\r\n  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null\r\n\r\n  // Tracks the maximum line length so that the horizontal scrollbar\r\n  // can be kept static when scrolling.\r\n  d.maxLine = null\r\n  d.maxLineLength = 0\r\n  d.maxLineChanged = false\r\n\r\n  // Used for measuring wheel scrolling granularity\r\n  d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null\r\n\r\n  // True when shift is held down.\r\n  d.shift = false\r\n\r\n  // Used to track whether anything happened since the context menu\r\n  // was opened.\r\n  d.selForContextMenu = null\r\n\r\n  d.activeTouch = null\r\n\r\n  input.init(d)\r\n}\r\n\r\n// Find the line object corresponding to the given line number.\r\nfunction getLine(doc, n) {\r\n  n -= doc.first\r\n  if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\r\n  var chunk = doc\r\n  while (!chunk.lines) {\r\n    for (var i = 0;; ++i) {\r\n      var child = chunk.children[i], sz = child.chunkSize()\r\n      if (n < sz) { chunk = child; break }\r\n      n -= sz\r\n    }\r\n  }\r\n  return chunk.lines[n]\r\n}\r\n\r\n// Get the part of a document between two positions, as an array of\r\n// strings.\r\nfunction getBetween(doc, start, end) {\r\n  var out = [], n = start.line\r\n  doc.iter(start.line, end.line + 1, function (line) {\r\n    var text = line.text\r\n    if (n == end.line) { text = text.slice(0, end.ch) }\r\n    if (n == start.line) { text = text.slice(start.ch) }\r\n    out.push(text)\r\n    ++n\r\n  })\r\n  return out\r\n}\r\n// Get the lines between from and to, as array of strings.\r\nfunction getLines(doc, from, to) {\r\n  var out = []\r\n  doc.iter(from, to, function (line) { out.push(line.text) }) // iter aborts when callback returns truthy value\r\n  return out\r\n}\r\n\r\n// Update the height of a line, propagating the height change\r\n// upwards to parent nodes.\r\nfunction updateLineHeight(line, height) {\r\n  var diff = height - line.height\r\n  if (diff) { for (var n = line; n; n = n.parent) { n.height += diff } }\r\n}\r\n\r\n// Given a line object, find its line number by walking up through\r\n// its parent links.\r\nfunction lineNo(line) {\r\n  if (line.parent == null) { return null }\r\n  var cur = line.parent, no = indexOf(cur.lines, line)\r\n  for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\r\n    for (var i = 0;; ++i) {\r\n      if (chunk.children[i] == cur) { break }\r\n      no += chunk.children[i].chunkSize()\r\n    }\r\n  }\r\n  return no + cur.first\r\n}\r\n\r\n// Find the line at the given vertical position, using the height\r\n// information in the document tree.\r\nfunction lineAtHeight(chunk, h) {\r\n  var n = chunk.first\r\n  outer: do {\r\n    for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\r\n      var child = chunk.children[i$1], ch = child.height\r\n      if (h < ch) { chunk = child; continue outer }\r\n      h -= ch\r\n      n += child.chunkSize()\r\n    }\r\n    return n\r\n  } while (!chunk.lines)\r\n  var i = 0\r\n  for (; i < chunk.lines.length; ++i) {\r\n    var line = chunk.lines[i], lh = line.height\r\n    if (h < lh) { break }\r\n    h -= lh\r\n  }\r\n  return n + i\r\n}\r\n\r\nfunction isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\r\n\r\nfunction lineNumberFor(options, i) {\r\n  return String(options.lineNumberFormatter(i + options.firstLineNumber))\r\n}\r\n\r\n// A Pos instance represents a position within the text.\r\nfunction Pos(line, ch, sticky) {\r\n  if ( sticky === void 0 ) sticky = null;\r\n\r\n  if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\r\n  this.line = line\r\n  this.ch = ch\r\n  this.sticky = sticky\r\n}\r\n\r\n// Compare two positions, return 0 if they are the same, a negative\r\n// number when a is less, and a positive number otherwise.\r\nfunction cmp(a, b) { return a.line - b.line || a.ch - b.ch }\r\n\r\nfunction equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\r\n\r\nfunction copyPos(x) {return Pos(x.line, x.ch)}\r\nfunction maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\r\nfunction minPos(a, b) { return cmp(a, b) < 0 ? a : b }\r\n\r\n// Most of the external API clips given positions to make sure they\r\n// actually exist within the document.\r\nfunction clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\r\nfunction clipPos(doc, pos) {\r\n  if (pos.line < doc.first) { return Pos(doc.first, 0) }\r\n  var last = doc.first + doc.size - 1\r\n  if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\r\n  return clipToLen(pos, getLine(doc, pos.line).text.length)\r\n}\r\nfunction clipToLen(pos, linelen) {\r\n  var ch = pos.ch\r\n  if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\r\n  else if (ch < 0) { return Pos(pos.line, 0) }\r\n  else { return pos }\r\n}\r\nfunction clipPosArray(doc, array) {\r\n  var out = []\r\n  for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]) }\r\n  return out\r\n}\r\n\r\n// Optimize some code when these features are not used.\r\nvar sawReadOnlySpans = false;\r\nvar sawCollapsedSpans = false;\r\nfunction seeReadOnlySpans() {\r\n  sawReadOnlySpans = true\r\n}\r\n\r\nfunction seeCollapsedSpans() {\r\n  sawCollapsedSpans = true\r\n}\r\n\r\n// TEXTMARKER SPANS\r\n\r\nfunction MarkedSpan(marker, from, to) {\r\n  this.marker = marker\r\n  this.from = from; this.to = to\r\n}\r\n\r\n// Search an array of spans for a span matching the given marker.\r\nfunction getMarkedSpanFor(spans, marker) {\r\n  if (spans) { for (var i = 0; i < spans.length; ++i) {\r\n    var span = spans[i]\r\n    if (span.marker == marker) { return span }\r\n  } }\r\n}\r\n// Remove a span from an array, returning undefined if no spans are\r\n// left (we don't store arrays for lines without spans).\r\nfunction removeMarkedSpan(spans, span) {\r\n  var r\r\n  for (var i = 0; i < spans.length; ++i)\r\n    { if (spans[i] != span) { (r || (r = [])).push(spans[i]) } }\r\n  return r\r\n}\r\n// Add a span to a line.\r\nfunction addMarkedSpan(line, span) {\r\n  line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span]\r\n  span.marker.attachLine(line)\r\n}\r\n\r\n// Used for the algorithm that adjusts markers for a change in the\r\n// document. These functions cut an array of spans at a given\r\n// character position, returning an array of remaining chunks (or\r\n// undefined if nothing remains).\r\nfunction markedSpansBefore(old, startCh, isInsert) {\r\n  var nw\r\n  if (old) { for (var i = 0; i < old.length; ++i) {\r\n    var span = old[i], marker = span.marker\r\n    var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh)\r\n    if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\r\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\r\n      ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to))\r\n    }\r\n  } }\r\n  return nw\r\n}\r\nfunction markedSpansAfter(old, endCh, isInsert) {\r\n  var nw\r\n  if (old) { for (var i = 0; i < old.length; ++i) {\r\n    var span = old[i], marker = span.marker\r\n    var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh)\r\n    if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\r\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\r\n      ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\r\n                                            span.to == null ? null : span.to - endCh))\r\n    }\r\n  } }\r\n  return nw\r\n}\r\n\r\n// Given a change object, compute the new set of marker spans that\r\n// cover the line in which the change took place. Removes spans\r\n// entirely within the change, reconnects spans belonging to the\r\n// same marker that appear on both sides of the change, and cuts off\r\n// spans partially within the change. Returns an array of span\r\n// arrays with one element for each line in (after) the change.\r\nfunction stretchSpansOverChange(doc, change) {\r\n  if (change.full) { return null }\r\n  var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans\r\n  var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans\r\n  if (!oldFirst && !oldLast) { return null }\r\n\r\n  var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0\r\n  // Get the spans that 'stick out' on both sides\r\n  var first = markedSpansBefore(oldFirst, startCh, isInsert)\r\n  var last = markedSpansAfter(oldLast, endCh, isInsert)\r\n\r\n  // Next, merge those two ends\r\n  var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0)\r\n  if (first) {\r\n    // Fix up .to properties of first\r\n    for (var i = 0; i < first.length; ++i) {\r\n      var span = first[i]\r\n      if (span.to == null) {\r\n        var found = getMarkedSpanFor(last, span.marker)\r\n        if (!found) { span.to = startCh }\r\n        else if (sameLine) { span.to = found.to == null ? null : found.to + offset }\r\n      }\r\n    }\r\n  }\r\n  if (last) {\r\n    // Fix up .from in last (or move them into first in case of sameLine)\r\n    for (var i$1 = 0; i$1 < last.length; ++i$1) {\r\n      var span$1 = last[i$1]\r\n      if (span$1.to != null) { span$1.to += offset }\r\n      if (span$1.from == null) {\r\n        var found$1 = getMarkedSpanFor(first, span$1.marker)\r\n        if (!found$1) {\r\n          span$1.from = offset\r\n          if (sameLine) { (first || (first = [])).push(span$1) }\r\n        }\r\n      } else {\r\n        span$1.from += offset\r\n        if (sameLine) { (first || (first = [])).push(span$1) }\r\n      }\r\n    }\r\n  }\r\n  // Make sure we didn't create any zero-length spans\r\n  if (first) { first = clearEmptySpans(first) }\r\n  if (last && last != first) { last = clearEmptySpans(last) }\r\n\r\n  var newMarkers = [first]\r\n  if (!sameLine) {\r\n    // Fill gap with whole-line-spans\r\n    var gap = change.text.length - 2, gapMarkers\r\n    if (gap > 0 && first)\r\n      { for (var i$2 = 0; i$2 < first.length; ++i$2)\r\n        { if (first[i$2].to == null)\r\n          { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)) } } }\r\n    for (var i$3 = 0; i$3 < gap; ++i$3)\r\n      { newMarkers.push(gapMarkers) }\r\n    newMarkers.push(last)\r\n  }\r\n  return newMarkers\r\n}\r\n\r\n// Remove spans that are empty and don't have a clearWhenEmpty\r\n// option of false.\r\nfunction clearEmptySpans(spans) {\r\n  for (var i = 0; i < spans.length; ++i) {\r\n    var span = spans[i]\r\n    if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\r\n      { spans.splice(i--, 1) }\r\n  }\r\n  if (!spans.length) { return null }\r\n  return spans\r\n}\r\n\r\n// Used to 'clip' out readOnly ranges when making a change.\r\nfunction removeReadOnlyRanges(doc, from, to) {\r\n  var markers = null\r\n  doc.iter(from.line, to.line + 1, function (line) {\r\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\r\n      var mark = line.markedSpans[i].marker\r\n      if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\r\n        { (markers || (markers = [])).push(mark) }\r\n    } }\r\n  })\r\n  if (!markers) { return null }\r\n  var parts = [{from: from, to: to}]\r\n  for (var i = 0; i < markers.length; ++i) {\r\n    var mk = markers[i], m = mk.find(0)\r\n    for (var j = 0; j < parts.length; ++j) {\r\n      var p = parts[j]\r\n      if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\r\n      var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to)\r\n      if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\r\n        { newParts.push({from: p.from, to: m.from}) }\r\n      if (dto > 0 || !mk.inclusiveRight && !dto)\r\n        { newParts.push({from: m.to, to: p.to}) }\r\n      parts.splice.apply(parts, newParts)\r\n      j += newParts.length - 3\r\n    }\r\n  }\r\n  return parts\r\n}\r\n\r\n// Connect or disconnect spans from a line.\r\nfunction detachMarkedSpans(line) {\r\n  var spans = line.markedSpans\r\n  if (!spans) { return }\r\n  for (var i = 0; i < spans.length; ++i)\r\n    { spans[i].marker.detachLine(line) }\r\n  line.markedSpans = null\r\n}\r\nfunction attachMarkedSpans(line, spans) {\r\n  if (!spans) { return }\r\n  for (var i = 0; i < spans.length; ++i)\r\n    { spans[i].marker.attachLine(line) }\r\n  line.markedSpans = spans\r\n}\r\n\r\n// Helpers used when computing which overlapping collapsed span\r\n// counts as the larger one.\r\nfunction extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\r\nfunction extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\r\n\r\n// Returns a number indicating which of two overlapping collapsed\r\n// spans is larger (and thus includes the other). Falls back to\r\n// comparing ids when the spans cover exactly the same range.\r\nfunction compareCollapsedMarkers(a, b) {\r\n  var lenDiff = a.lines.length - b.lines.length\r\n  if (lenDiff != 0) { return lenDiff }\r\n  var aPos = a.find(), bPos = b.find()\r\n  var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b)\r\n  if (fromCmp) { return -fromCmp }\r\n  var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b)\r\n  if (toCmp) { return toCmp }\r\n  return b.id - a.id\r\n}\r\n\r\n// Find out whether a line ends or starts in a collapsed span. If\r\n// so, return the marker for that span.\r\nfunction collapsedSpanAtSide(line, start) {\r\n  var sps = sawCollapsedSpans && line.markedSpans, found\r\n  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\r\n    sp = sps[i]\r\n    if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\r\n        (!found || compareCollapsedMarkers(found, sp.marker) < 0))\r\n      { found = sp.marker }\r\n  } }\r\n  return found\r\n}\r\nfunction collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\r\nfunction collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\r\n\r\n// Test whether there exists a collapsed span that partially\r\n// overlaps (covers the start or end, but not both) of a new span.\r\n// Such overlap is not allowed.\r\nfunction conflictingCollapsedRange(doc, lineNo, from, to, marker) {\r\n  var line = getLine(doc, lineNo)\r\n  var sps = sawCollapsedSpans && line.markedSpans\r\n  if (sps) { for (var i = 0; i < sps.length; ++i) {\r\n    var sp = sps[i]\r\n    if (!sp.marker.collapsed) { continue }\r\n    var found = sp.marker.find(0)\r\n    var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker)\r\n    var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker)\r\n    if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\r\n    if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\r\n        fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\r\n      { return true }\r\n  } }\r\n}\r\n\r\n// A visual line is a line as drawn on the screen. Folding, for\r\n// example, can cause multiple logical lines to appear on the same\r\n// visual line. This finds the start of the visual line that the\r\n// given line is part of (usually that is the line itself).\r\nfunction visualLine(line) {\r\n  var merged\r\n  while (merged = collapsedSpanAtStart(line))\r\n    { line = merged.find(-1, true).line }\r\n  return line\r\n}\r\n\r\nfunction visualLineEnd(line) {\r\n  var merged\r\n  while (merged = collapsedSpanAtEnd(line))\r\n    { line = merged.find(1, true).line }\r\n  return line\r\n}\r\n\r\n// Returns an array of logical lines that continue the visual line\r\n// started by the argument, or undefined if there are no such lines.\r\nfunction visualLineContinued(line) {\r\n  var merged, lines\r\n  while (merged = collapsedSpanAtEnd(line)) {\r\n    line = merged.find(1, true).line\r\n    ;(lines || (lines = [])).push(line)\r\n  }\r\n  return lines\r\n}\r\n\r\n// Get the line number of the start of the visual line that the\r\n// given line number is part of.\r\nfunction visualLineNo(doc, lineN) {\r\n  var line = getLine(doc, lineN), vis = visualLine(line)\r\n  if (line == vis) { return lineN }\r\n  return lineNo(vis)\r\n}\r\n\r\n// Get the line number of the start of the next visual line after\r\n// the given line.\r\nfunction visualLineEndNo(doc, lineN) {\r\n  if (lineN > doc.lastLine()) { return lineN }\r\n  var line = getLine(doc, lineN), merged\r\n  if (!lineIsHidden(doc, line)) { return lineN }\r\n  while (merged = collapsedSpanAtEnd(line))\r\n    { line = merged.find(1, true).line }\r\n  return lineNo(line) + 1\r\n}\r\n\r\n// Compute whether a line is hidden. Lines count as hidden when they\r\n// are part of a visual line that starts with another line, or when\r\n// they are entirely covered by collapsed, non-widget span.\r\nfunction lineIsHidden(doc, line) {\r\n  var sps = sawCollapsedSpans && line.markedSpans\r\n  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\r\n    sp = sps[i]\r\n    if (!sp.marker.collapsed) { continue }\r\n    if (sp.from == null) { return true }\r\n    if (sp.marker.widgetNode) { continue }\r\n    if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\r\n      { return true }\r\n  } }\r\n}\r\nfunction lineIsHiddenInner(doc, line, span) {\r\n  if (span.to == null) {\r\n    var end = span.marker.find(1, true)\r\n    return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\r\n  }\r\n  if (span.marker.inclusiveRight && span.to == line.text.length)\r\n    { return true }\r\n  for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\r\n    sp = line.markedSpans[i]\r\n    if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\r\n        (sp.to == null || sp.to != span.from) &&\r\n        (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\r\n        lineIsHiddenInner(doc, line, sp)) { return true }\r\n  }\r\n}\r\n\r\n// Find the height above the given line.\r\nfunction heightAtLine(lineObj) {\r\n  lineObj = visualLine(lineObj)\r\n\r\n  var h = 0, chunk = lineObj.parent\r\n  for (var i = 0; i < chunk.lines.length; ++i) {\r\n    var line = chunk.lines[i]\r\n    if (line == lineObj) { break }\r\n    else { h += line.height }\r\n  }\r\n  for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\r\n    for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\r\n      var cur = p.children[i$1]\r\n      if (cur == chunk) { break }\r\n      else { h += cur.height }\r\n    }\r\n  }\r\n  return h\r\n}\r\n\r\n// Compute the character length of a line, taking into account\r\n// collapsed ranges (see markText) that might hide parts, and join\r\n// other lines onto it.\r\nfunction lineLength(line) {\r\n  if (line.height == 0) { return 0 }\r\n  var len = line.text.length, merged, cur = line\r\n  while (merged = collapsedSpanAtStart(cur)) {\r\n    var found = merged.find(0, true)\r\n    cur = found.from.line\r\n    len += found.from.ch - found.to.ch\r\n  }\r\n  cur = line\r\n  while (merged = collapsedSpanAtEnd(cur)) {\r\n    var found$1 = merged.find(0, true)\r\n    len -= cur.text.length - found$1.from.ch\r\n    cur = found$1.to.line\r\n    len += cur.text.length - found$1.to.ch\r\n  }\r\n  return len\r\n}\r\n\r\n// Find the longest line in the document.\r\nfunction findMaxLine(cm) {\r\n  var d = cm.display, doc = cm.doc\r\n  d.maxLine = getLine(doc, doc.first)\r\n  d.maxLineLength = lineLength(d.maxLine)\r\n  d.maxLineChanged = true\r\n  doc.iter(function (line) {\r\n    var len = lineLength(line)\r\n    if (len > d.maxLineLength) {\r\n      d.maxLineLength = len\r\n      d.maxLine = line\r\n    }\r\n  })\r\n}\r\n\r\n// BIDI HELPERS\r\n\r\nfunction iterateBidiSections(order, from, to, f) {\r\n  if (!order) { return f(from, to, \"ltr\") }\r\n  var found = false\r\n  for (var i = 0; i < order.length; ++i) {\r\n    var part = order[i]\r\n    if (part.from < to && part.to > from || from == to && part.to == from) {\r\n      f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\")\r\n      found = true\r\n    }\r\n  }\r\n  if (!found) { f(from, to, \"ltr\") }\r\n}\r\n\r\nvar bidiOther = null\r\nfunction getBidiPartAt(order, ch, sticky) {\r\n  var found\r\n  bidiOther = null\r\n  for (var i = 0; i < order.length; ++i) {\r\n    var cur = order[i]\r\n    if (cur.from < ch && cur.to > ch) { return i }\r\n    if (cur.to == ch) {\r\n      if (cur.from != cur.to && sticky == \"before\") { found = i }\r\n      else { bidiOther = i }\r\n    }\r\n    if (cur.from == ch) {\r\n      if (cur.from != cur.to && sticky != \"before\") { found = i }\r\n      else { bidiOther = i }\r\n    }\r\n  }\r\n  return found != null ? found : bidiOther\r\n}\r\n\r\n// Bidirectional ordering algorithm\r\n// See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\r\n// that this (partially) implements.\r\n\r\n// One-char codes used for character types:\r\n// L (L):   Left-to-Right\r\n// R (R):   Right-to-Left\r\n// r (AL):  Right-to-Left Arabic\r\n// 1 (EN):  European Number\r\n// + (ES):  European Number Separator\r\n// % (ET):  European Number Terminator\r\n// n (AN):  Arabic Number\r\n// , (CS):  Common Number Separator\r\n// m (NSM): Non-Spacing Mark\r\n// b (BN):  Boundary Neutral\r\n// s (B):   Paragraph Separator\r\n// t (S):   Segment Separator\r\n// w (WS):  Whitespace\r\n// N (ON):  Other Neutrals\r\n\r\n// Returns null if characters are ordered as they appear\r\n// (left-to-right), or an array of sections ({from, to, level}\r\n// objects) in the order in which they occur visually.\r\nvar bidiOrdering = (function() {\r\n  // Character types for codepoints 0 to 0xff\r\n  var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\"\r\n  // Character types for codepoints 0x600 to 0x6f9\r\n  var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\"\r\n  function charType(code) {\r\n    if (code <= 0xf7) { return lowTypes.charAt(code) }\r\n    else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\r\n    else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\r\n    else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\r\n    else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\r\n    else if (code == 0x200c) { return \"b\" }\r\n    else { return \"L\" }\r\n  }\r\n\r\n  var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/\r\n  var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/\r\n  // Browsers seem to always treat the boundaries of block elements as being L.\r\n  var outerType = \"L\"\r\n\r\n  function BidiSpan(level, from, to) {\r\n    this.level = level\r\n    this.from = from; this.to = to\r\n  }\r\n\r\n  return function(str) {\r\n    if (!bidiRE.test(str)) { return false }\r\n    var len = str.length, types = []\r\n    for (var i = 0; i < len; ++i)\r\n      { types.push(charType(str.charCodeAt(i))) }\r\n\r\n    // W1. Examine each non-spacing mark (NSM) in the level run, and\r\n    // change the type of the NSM to the type of the previous\r\n    // character. If the NSM is at the start of the level run, it will\r\n    // get the type of sor.\r\n    for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\r\n      var type = types[i$1]\r\n      if (type == \"m\") { types[i$1] = prev }\r\n      else { prev = type }\r\n    }\r\n\r\n    // W2. Search backwards from each instance of a European number\r\n    // until the first strong type (R, L, AL, or sor) is found. If an\r\n    // AL is found, change the type of the European number to Arabic\r\n    // number.\r\n    // W3. Change all ALs to R.\r\n    for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\r\n      var type$1 = types[i$2]\r\n      if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\" }\r\n      else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\" } }\r\n    }\r\n\r\n    // W4. A single European separator between two European numbers\r\n    // changes to a European number. A single common separator between\r\n    // two numbers of the same type changes to that type.\r\n    for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\r\n      var type$2 = types[i$3]\r\n      if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\" }\r\n      else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\r\n               (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1 }\r\n      prev$1 = type$2\r\n    }\r\n\r\n    // W5. A sequence of European terminators adjacent to European\r\n    // numbers changes to all European numbers.\r\n    // W6. Otherwise, separators and terminators change to Other\r\n    // Neutral.\r\n    for (var i$4 = 0; i$4 < len; ++i$4) {\r\n      var type$3 = types[i$4]\r\n      if (type$3 == \",\") { types[i$4] = \"N\" }\r\n      else if (type$3 == \"%\") {\r\n        var end = (void 0)\r\n        for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\r\n        var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\"\r\n        for (var j = i$4; j < end; ++j) { types[j] = replace }\r\n        i$4 = end - 1\r\n      }\r\n    }\r\n\r\n    // W7. Search backwards from each instance of a European number\r\n    // until the first strong type (R, L, or sor) is found. If an L is\r\n    // found, then change the type of the European number to L.\r\n    for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\r\n      var type$4 = types[i$5]\r\n      if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\" }\r\n      else if (isStrong.test(type$4)) { cur$1 = type$4 }\r\n    }\r\n\r\n    // N1. A sequence of neutrals takes the direction of the\r\n    // surrounding strong text if the text on both sides has the same\r\n    // direction. European and Arabic numbers act as if they were R in\r\n    // terms of their influence on neutrals. Start-of-level-run (sor)\r\n    // and end-of-level-run (eor) are used at level run boundaries.\r\n    // N2. Any remaining neutrals take the embedding direction.\r\n    for (var i$6 = 0; i$6 < len; ++i$6) {\r\n      if (isNeutral.test(types[i$6])) {\r\n        var end$1 = (void 0)\r\n        for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\r\n        var before = (i$6 ? types[i$6-1] : outerType) == \"L\"\r\n        var after = (end$1 < len ? types[end$1] : outerType) == \"L\"\r\n        var replace$1 = before || after ? \"L\" : \"R\"\r\n        for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1 }\r\n        i$6 = end$1 - 1\r\n      }\r\n    }\r\n\r\n    // Here we depart from the documented algorithm, in order to avoid\r\n    // building up an actual levels array. Since there are only three\r\n    // levels (0, 1, 2) in an implementation that doesn't take\r\n    // explicit embedding into account, we can build up the order on\r\n    // the fly, without following the level-based algorithm.\r\n    var order = [], m\r\n    for (var i$7 = 0; i$7 < len;) {\r\n      if (countsAsLeft.test(types[i$7])) {\r\n        var start = i$7\r\n        for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\r\n        order.push(new BidiSpan(0, start, i$7))\r\n      } else {\r\n        var pos = i$7, at = order.length\r\n        for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\r\n        for (var j$2 = pos; j$2 < i$7;) {\r\n          if (countsAsNum.test(types[j$2])) {\r\n            if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)) }\r\n            var nstart = j$2\r\n            for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\r\n            order.splice(at, 0, new BidiSpan(2, nstart, j$2))\r\n            pos = j$2\r\n          } else { ++j$2 }\r\n        }\r\n        if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)) }\r\n      }\r\n    }\r\n    if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\r\n      order[0].from = m[0].length\r\n      order.unshift(new BidiSpan(0, 0, m[0].length))\r\n    }\r\n    if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\r\n      lst(order).to -= m[0].length\r\n      order.push(new BidiSpan(0, len - m[0].length, len))\r\n    }\r\n\r\n    return order\r\n  }\r\n})()\r\n\r\n// Get the bidi ordering for the given line (and cache it). Returns\r\n// false for lines that are fully left-to-right, and an array of\r\n// BidiSpan objects otherwise.\r\nfunction getOrder(line) {\r\n  var order = line.order\r\n  if (order == null) { order = line.order = bidiOrdering(line.text) }\r\n  return order\r\n}\r\n\r\nfunction moveCharLogically(line, ch, dir) {\r\n  var target = skipExtendingChars(line.text, ch + dir, dir)\r\n  return target < 0 || target > line.text.length ? null : target\r\n}\r\n\r\nfunction moveLogically(line, start, dir) {\r\n  var ch = moveCharLogically(line, start.ch, dir)\r\n  return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\r\n}\r\n\r\nfunction endOfLine(visually, cm, lineObj, lineNo, dir) {\r\n  if (visually) {\r\n    var order = getOrder(lineObj)\r\n    if (order) {\r\n      var part = dir < 0 ? lst(order) : order[0]\r\n      var moveInStorageOrder = (dir < 0) == (part.level == 1)\r\n      var sticky = moveInStorageOrder ? \"after\" : \"before\"\r\n      var ch\r\n      // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\r\n      // it could be that the last bidi part is not on the last visual line,\r\n      // since visual lines contain content order-consecutive chunks.\r\n      // Thus, in rtl, we are looking for the first (content-order) character\r\n      // in the rtl chunk that is on the last line (that is, the same line\r\n      // as the last (content-order) character).\r\n      if (part.level > 0) {\r\n        var prep = prepareMeasureForLine(cm, lineObj)\r\n        ch = dir < 0 ? lineObj.text.length - 1 : 0\r\n        var targetTop = measureCharPrepared(cm, prep, ch).top\r\n        ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch)\r\n        if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1, true) }\r\n      } else { ch = dir < 0 ? part.to : part.from }\r\n      return new Pos(lineNo, ch, sticky)\r\n    }\r\n  }\r\n  return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\r\n}\r\n\r\nfunction moveVisually(cm, line, start, dir) {\r\n  var bidi = getOrder(line)\r\n  if (!bidi) { return moveLogically(line, start, dir) }\r\n  if (start.ch >= line.text.length) {\r\n    start.ch = line.text.length\r\n    start.sticky = \"before\"\r\n  } else if (start.ch <= 0) {\r\n    start.ch = 0\r\n    start.sticky = \"after\"\r\n  }\r\n  var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos]\r\n  if (part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\r\n    // Case 1: We move within an ltr part. Even with wrapped lines,\r\n    // nothing interesting happens.\r\n    return moveLogically(line, start, dir)\r\n  }\r\n\r\n  var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); }\r\n  var prep\r\n  var getWrappedLineExtent = function (ch) {\r\n    if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\r\n    prep = prep || prepareMeasureForLine(cm, line)\r\n    return wrappedLineExtentChar(cm, line, prep, ch)\r\n  }\r\n  var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch)\r\n\r\n  if (part.level % 2 == 1) {\r\n    var ch = mv(start, -dir)\r\n    if (ch != null && (dir > 0 ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\r\n      // Case 2: We move within an rtl part on the same visual line\r\n      var sticky = dir < 0 ? \"before\" : \"after\"\r\n      return new Pos(start.line, ch, sticky)\r\n    }\r\n  }\r\n\r\n  // Case 3: Could not move within this bidi part in this visual line, so leave\r\n  // the current bidi part\r\n\r\n  var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\r\n    var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\r\n      ? new Pos(start.line, mv(ch, 1), \"before\")\r\n      : new Pos(start.line, ch, \"after\"); }\r\n\r\n    for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\r\n      var part = bidi[partPos]\r\n      var moveInStorageOrder = (dir > 0) == (part.level != 1)\r\n      var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1)\r\n      if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\r\n      ch = moveInStorageOrder ? part.from : mv(part.to, -1)\r\n      if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\r\n    }\r\n  }\r\n\r\n  // Case 3a: Look for other bidi parts on the same visual line\r\n  var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent)\r\n  if (res) { return res }\r\n\r\n  // Case 3b: Look for other bidi parts on the next visual line\r\n  var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1)\r\n  if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\r\n    res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh))\r\n    if (res) { return res }\r\n  }\r\n\r\n  // Case 4: Nowhere to move\r\n  return null\r\n}\r\n\r\n// EVENT HANDLING\r\n\r\n// Lightweight event framework. on/off also work on DOM nodes,\r\n// registering native DOM handlers.\r\n\r\nvar noHandlers = []\r\n\r\nvar on = function(emitter, type, f) {\r\n  if (emitter.addEventListener) {\r\n    emitter.addEventListener(type, f, false)\r\n  } else if (emitter.attachEvent) {\r\n    emitter.attachEvent(\"on\" + type, f)\r\n  } else {\r\n    var map = emitter._handlers || (emitter._handlers = {})\r\n    map[type] = (map[type] || noHandlers).concat(f)\r\n  }\r\n}\r\n\r\nfunction getHandlers(emitter, type) {\r\n  return emitter._handlers && emitter._handlers[type] || noHandlers\r\n}\r\n\r\nfunction off(emitter, type, f) {\r\n  if (emitter.removeEventListener) {\r\n    emitter.removeEventListener(type, f, false)\r\n  } else if (emitter.detachEvent) {\r\n    emitter.detachEvent(\"on\" + type, f)\r\n  } else {\r\n    var map = emitter._handlers, arr = map && map[type]\r\n    if (arr) {\r\n      var index = indexOf(arr, f)\r\n      if (index > -1)\r\n        { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)) }\r\n    }\r\n  }\r\n}\r\n\r\nfunction signal(emitter, type /*, values...*/) {\r\n  var handlers = getHandlers(emitter, type)\r\n  if (!handlers.length) { return }\r\n  var args = Array.prototype.slice.call(arguments, 2)\r\n  for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args) }\r\n}\r\n\r\n// The DOM events that CodeMirror handles can be overridden by\r\n// registering a (non-DOM) handler on the editor for the event name,\r\n// and preventDefault-ing the event in that handler.\r\nfunction signalDOMEvent(cm, e, override) {\r\n  if (typeof e == \"string\")\r\n    { e = {type: e, preventDefault: function() { this.defaultPrevented = true }} }\r\n  signal(cm, override || e.type, cm, e)\r\n  return e_defaultPrevented(e) || e.codemirrorIgnore\r\n}\r\n\r\nfunction signalCursorActivity(cm) {\r\n  var arr = cm._handlers && cm._handlers.cursorActivity\r\n  if (!arr) { return }\r\n  var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = [])\r\n  for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\r\n    { set.push(arr[i]) } }\r\n}\r\n\r\nfunction hasHandler(emitter, type) {\r\n  return getHandlers(emitter, type).length > 0\r\n}\r\n\r\n// Add on and off methods to a constructor's prototype, to make\r\n// registering events on such objects more convenient.\r\nfunction eventMixin(ctor) {\r\n  ctor.prototype.on = function(type, f) {on(this, type, f)}\r\n  ctor.prototype.off = function(type, f) {off(this, type, f)}\r\n}\r\n\r\n// Due to the fact that we still support jurassic IE versions, some\r\n// compatibility wrappers are needed.\r\n\r\nfunction e_preventDefault(e) {\r\n  if (e.preventDefault) { e.preventDefault() }\r\n  else { e.returnValue = false }\r\n}\r\nfunction e_stopPropagation(e) {\r\n  if (e.stopPropagation) { e.stopPropagation() }\r\n  else { e.cancelBubble = true }\r\n}\r\nfunction e_defaultPrevented(e) {\r\n  return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\r\n}\r\nfunction e_stop(e) {e_preventDefault(e); e_stopPropagation(e)}\r\n\r\nfunction e_target(e) {return e.target || e.srcElement}\r\nfunction e_button(e) {\r\n  var b = e.which\r\n  if (b == null) {\r\n    if (e.button & 1) { b = 1 }\r\n    else if (e.button & 2) { b = 3 }\r\n    else if (e.button & 4) { b = 2 }\r\n  }\r\n  if (mac && e.ctrlKey && b == 1) { b = 3 }\r\n  return b\r\n}\r\n\r\n// Detect drag-and-drop\r\nvar dragAndDrop = function() {\r\n  // There is *some* kind of drag-and-drop support in IE6-8, but I\r\n  // couldn't get it to work yet.\r\n  if (ie && ie_version < 9) { return false }\r\n  var div = elt('div')\r\n  return \"draggable\" in div || \"dragDrop\" in div\r\n}()\r\n\r\nvar zwspSupported\r\nfunction zeroWidthElement(measure) {\r\n  if (zwspSupported == null) {\r\n    var test = elt(\"span\", \"\\u200b\")\r\n    removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]))\r\n    if (measure.firstChild.offsetHeight != 0)\r\n      { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8) }\r\n  }\r\n  var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\r\n    elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\")\r\n  node.setAttribute(\"cm-text\", \"\")\r\n  return node\r\n}\r\n\r\n// Feature-detect IE's crummy client rect reporting for bidi text\r\nvar badBidiRects\r\nfunction hasBadBidiRects(measure) {\r\n  if (badBidiRects != null) { return badBidiRects }\r\n  var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"))\r\n  var r0 = range(txt, 0, 1).getBoundingClientRect()\r\n  var r1 = range(txt, 1, 2).getBoundingClientRect()\r\n  removeChildren(measure)\r\n  if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\r\n  return badBidiRects = (r1.right - r0.right < 3)\r\n}\r\n\r\n// See if \"\".split is the broken IE version, if so, provide an\r\n// alternative way to split lines.\r\nvar splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\r\n  var pos = 0, result = [], l = string.length\r\n  while (pos <= l) {\r\n    var nl = string.indexOf(\"\\n\", pos)\r\n    if (nl == -1) { nl = string.length }\r\n    var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl)\r\n    var rt = line.indexOf(\"\\r\")\r\n    if (rt != -1) {\r\n      result.push(line.slice(0, rt))\r\n      pos += rt + 1\r\n    } else {\r\n      result.push(line)\r\n      pos = nl + 1\r\n    }\r\n  }\r\n  return result\r\n} : function (string) { return string.split(/\\r\\n?|\\n/); }\r\n\r\nvar hasSelection = window.getSelection ? function (te) {\r\n  try { return te.selectionStart != te.selectionEnd }\r\n  catch(e) { return false }\r\n} : function (te) {\r\n  var range\r\n  try {range = te.ownerDocument.selection.createRange()}\r\n  catch(e) {}\r\n  if (!range || range.parentElement() != te) { return false }\r\n  return range.compareEndPoints(\"StartToEnd\", range) != 0\r\n}\r\n\r\nvar hasCopyEvent = (function () {\r\n  var e = elt(\"div\")\r\n  if (\"oncopy\" in e) { return true }\r\n  e.setAttribute(\"oncopy\", \"return;\")\r\n  return typeof e.oncopy == \"function\"\r\n})()\r\n\r\nvar badZoomedRects = null\r\nfunction hasBadZoomedRects(measure) {\r\n  if (badZoomedRects != null) { return badZoomedRects }\r\n  var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"))\r\n  var normal = node.getBoundingClientRect()\r\n  var fromRange = range(node, 0, 1).getBoundingClientRect()\r\n  return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\r\n}\r\n\r\nvar modes = {};\r\nvar mimeModes = {};\r\n// Extra arguments are stored as the mode's dependencies, which is\r\n// used by (legacy) mechanisms like loadmode.js to automatically\r\n// load a mode. (Preferred mechanism is the require/define calls.)\r\nfunction defineMode(name, mode) {\r\n  if (arguments.length > 2)\r\n    { mode.dependencies = Array.prototype.slice.call(arguments, 2) }\r\n  modes[name] = mode\r\n}\r\n\r\nfunction defineMIME(mime, spec) {\r\n  mimeModes[mime] = spec\r\n}\r\n\r\n// Given a MIME type, a {name, ...options} config object, or a name\r\n// string, return a mode config object.\r\nfunction resolveMode(spec) {\r\n  if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\r\n    spec = mimeModes[spec]\r\n  } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\r\n    var found = mimeModes[spec.name]\r\n    if (typeof found == \"string\") { found = {name: found} }\r\n    spec = createObj(found, spec)\r\n    spec.name = found.name\r\n  } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\r\n    return resolveMode(\"application/xml\")\r\n  } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\r\n    return resolveMode(\"application/json\")\r\n  }\r\n  if (typeof spec == \"string\") { return {name: spec} }\r\n  else { return spec || {name: \"null\"} }\r\n}\r\n\r\n// Given a mode spec (anything that resolveMode accepts), find and\r\n// initialize an actual mode object.\r\nfunction getMode(options, spec) {\r\n  spec = resolveMode(spec)\r\n  var mfactory = modes[spec.name]\r\n  if (!mfactory) { return getMode(options, \"text/plain\") }\r\n  var modeObj = mfactory(options, spec)\r\n  if (modeExtensions.hasOwnProperty(spec.name)) {\r\n    var exts = modeExtensions[spec.name]\r\n    for (var prop in exts) {\r\n      if (!exts.hasOwnProperty(prop)) { continue }\r\n      if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop] }\r\n      modeObj[prop] = exts[prop]\r\n    }\r\n  }\r\n  modeObj.name = spec.name\r\n  if (spec.helperType) { modeObj.helperType = spec.helperType }\r\n  if (spec.modeProps) { for (var prop$1 in spec.modeProps)\r\n    { modeObj[prop$1] = spec.modeProps[prop$1] } }\r\n\r\n  return modeObj\r\n}\r\n\r\n// This can be used to attach properties to mode objects from\r\n// outside the actual mode definition.\r\nvar modeExtensions = {}\r\nfunction extendMode(mode, properties) {\r\n  var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {})\r\n  copyObj(properties, exts)\r\n}\r\n\r\nfunction copyState(mode, state) {\r\n  if (state === true) { return state }\r\n  if (mode.copyState) { return mode.copyState(state) }\r\n  var nstate = {}\r\n  for (var n in state) {\r\n    var val = state[n]\r\n    if (val instanceof Array) { val = val.concat([]) }\r\n    nstate[n] = val\r\n  }\r\n  return nstate\r\n}\r\n\r\n// Given a mode and a state (for that mode), find the inner mode and\r\n// state at the position that the state refers to.\r\nfunction innerMode(mode, state) {\r\n  var info\r\n  while (mode.innerMode) {\r\n    info = mode.innerMode(state)\r\n    if (!info || info.mode == mode) { break }\r\n    state = info.state\r\n    mode = info.mode\r\n  }\r\n  return info || {mode: mode, state: state}\r\n}\r\n\r\nfunction startState(mode, a1, a2) {\r\n  return mode.startState ? mode.startState(a1, a2) : true\r\n}\r\n\r\n// STRING STREAM\r\n\r\n// Fed to the mode parsers, provides helper functions to make\r\n// parsers more succinct.\r\n\r\nvar StringStream = function(string, tabSize) {\r\n  this.pos = this.start = 0\r\n  this.string = string\r\n  this.tabSize = tabSize || 8\r\n  this.lastColumnPos = this.lastColumnValue = 0\r\n  this.lineStart = 0\r\n};\r\n\r\nStringStream.prototype.eol = function () {return this.pos >= this.string.length};\r\nStringStream.prototype.sol = function () {return this.pos == this.lineStart};\r\nStringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\r\nStringStream.prototype.next = function () {\r\n  if (this.pos < this.string.length)\r\n    { return this.string.charAt(this.pos++) }\r\n};\r\nStringStream.prototype.eat = function (match) {\r\n  var ch = this.string.charAt(this.pos)\r\n  var ok\r\n  if (typeof match == \"string\") { ok = ch == match }\r\n  else { ok = ch && (match.test ? match.test(ch) : match(ch)) }\r\n  if (ok) {++this.pos; return ch}\r\n};\r\nStringStream.prototype.eatWhile = function (match) {\r\n  var start = this.pos\r\n  while (this.eat(match)){}\r\n  return this.pos > start\r\n};\r\nStringStream.prototype.eatSpace = function () {\r\n    var this$1 = this;\r\n\r\n  var start = this.pos\r\n  while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this$1.pos }\r\n  return this.pos > start\r\n};\r\nStringStream.prototype.skipToEnd = function () {this.pos = this.string.length};\r\nStringStream.prototype.skipTo = function (ch) {\r\n  var found = this.string.indexOf(ch, this.pos)\r\n  if (found > -1) {this.pos = found; return true}\r\n};\r\nStringStream.prototype.backUp = function (n) {this.pos -= n};\r\nStringStream.prototype.column = function () {\r\n  if (this.lastColumnPos < this.start) {\r\n    this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue)\r\n    this.lastColumnPos = this.start\r\n  }\r\n  return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\r\n};\r\nStringStream.prototype.indentation = function () {\r\n  return countColumn(this.string, null, this.tabSize) -\r\n    (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\r\n};\r\nStringStream.prototype.match = function (pattern, consume, caseInsensitive) {\r\n  if (typeof pattern == \"string\") {\r\n    var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; }\r\n    var substr = this.string.substr(this.pos, pattern.length)\r\n    if (cased(substr) == cased(pattern)) {\r\n      if (consume !== false) { this.pos += pattern.length }\r\n      return true\r\n    }\r\n  } else {\r\n    var match = this.string.slice(this.pos).match(pattern)\r\n    if (match && match.index > 0) { return null }\r\n    if (match && consume !== false) { this.pos += match[0].length }\r\n    return match\r\n  }\r\n};\r\nStringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\r\nStringStream.prototype.hideFirstChars = function (n, inner) {\r\n  this.lineStart += n\r\n  try { return inner() }\r\n  finally { this.lineStart -= n }\r\n};\r\n\r\n// Compute a style array (an array starting with a mode generation\r\n// -- for invalidation -- followed by pairs of end positions and\r\n// style strings), which is used to highlight the tokens on the\r\n// line.\r\nfunction highlightLine(cm, line, state, forceToEnd) {\r\n  // A styles array always starts with a number identifying the\r\n  // mode/overlays that it is based on (for easy invalidation).\r\n  var st = [cm.state.modeGen], lineClasses = {}\r\n  // Compute the base array of styles\r\n  runMode(cm, line.text, cm.doc.mode, state, function (end, style) { return st.push(end, style); },\r\n    lineClasses, forceToEnd)\r\n\r\n  // Run overlays, adjust style array.\r\n  var loop = function ( o ) {\r\n    var overlay = cm.state.overlays[o], i = 1, at = 0\r\n    runMode(cm, line.text, overlay.mode, true, function (end, style) {\r\n      var start = i\r\n      // Ensure there's a token end at the current position, and that i points at it\r\n      while (at < end) {\r\n        var i_end = st[i]\r\n        if (i_end > end)\r\n          { st.splice(i, 1, end, st[i+1], i_end) }\r\n        i += 2\r\n        at = Math.min(end, i_end)\r\n      }\r\n      if (!style) { return }\r\n      if (overlay.opaque) {\r\n        st.splice(start, i - start, end, \"overlay \" + style)\r\n        i = start + 2\r\n      } else {\r\n        for (; start < i; start += 2) {\r\n          var cur = st[start+1]\r\n          st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style\r\n        }\r\n      }\r\n    }, lineClasses)\r\n  };\r\n\r\n  for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\r\n\r\n  return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\r\n}\r\n\r\nfunction getLineStyles(cm, line, updateFrontier) {\r\n  if (!line.styles || line.styles[0] != cm.state.modeGen) {\r\n    var state = getStateBefore(cm, lineNo(line))\r\n    var result = highlightLine(cm, line, line.text.length > cm.options.maxHighlightLength ? copyState(cm.doc.mode, state) : state)\r\n    line.stateAfter = state\r\n    line.styles = result.styles\r\n    if (result.classes) { line.styleClasses = result.classes }\r\n    else if (line.styleClasses) { line.styleClasses = null }\r\n    if (updateFrontier === cm.doc.frontier) { cm.doc.frontier++ }\r\n  }\r\n  return line.styles\r\n}\r\n\r\nfunction getStateBefore(cm, n, precise) {\r\n  var doc = cm.doc, display = cm.display\r\n  if (!doc.mode.startState) { return true }\r\n  var pos = findStartLine(cm, n, precise), state = pos > doc.first && getLine(doc, pos-1).stateAfter\r\n  if (!state) { state = startState(doc.mode) }\r\n  else { state = copyState(doc.mode, state) }\r\n  doc.iter(pos, n, function (line) {\r\n    processLine(cm, line.text, state)\r\n    var save = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo\r\n    line.stateAfter = save ? copyState(doc.mode, state) : null\r\n    ++pos\r\n  })\r\n  if (precise) { doc.frontier = pos }\r\n  return state\r\n}\r\n\r\n// Lightweight form of highlight -- proceed over this line and\r\n// update state, but don't save a style array. Used for lines that\r\n// aren't currently visible.\r\nfunction processLine(cm, text, state, startAt) {\r\n  var mode = cm.doc.mode\r\n  var stream = new StringStream(text, cm.options.tabSize)\r\n  stream.start = stream.pos = startAt || 0\r\n  if (text == \"\") { callBlankLine(mode, state) }\r\n  while (!stream.eol()) {\r\n    readToken(mode, stream, state)\r\n    stream.start = stream.pos\r\n  }\r\n}\r\n\r\nfunction callBlankLine(mode, state) {\r\n  if (mode.blankLine) { return mode.blankLine(state) }\r\n  if (!mode.innerMode) { return }\r\n  var inner = innerMode(mode, state)\r\n  if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\r\n}\r\n\r\nfunction readToken(mode, stream, state, inner) {\r\n  for (var i = 0; i < 10; i++) {\r\n    if (inner) { inner[0] = innerMode(mode, state).mode }\r\n    var style = mode.token(stream, state)\r\n    if (stream.pos > stream.start) { return style }\r\n  }\r\n  throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\r\n}\r\n\r\n// Utility for getTokenAt and getLineTokens\r\nfunction takeToken(cm, pos, precise, asArray) {\r\n  var getObj = function (copy) { return ({\r\n    start: stream.start, end: stream.pos,\r\n    string: stream.current(),\r\n    type: style || null,\r\n    state: copy ? copyState(doc.mode, state) : state\r\n  }); }\r\n\r\n  var doc = cm.doc, mode = doc.mode, style\r\n  pos = clipPos(doc, pos)\r\n  var line = getLine(doc, pos.line), state = getStateBefore(cm, pos.line, precise)\r\n  var stream = new StringStream(line.text, cm.options.tabSize), tokens\r\n  if (asArray) { tokens = [] }\r\n  while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\r\n    stream.start = stream.pos\r\n    style = readToken(mode, stream, state)\r\n    if (asArray) { tokens.push(getObj(true)) }\r\n  }\r\n  return asArray ? tokens : getObj()\r\n}\r\n\r\nfunction extractLineClasses(type, output) {\r\n  if (type) { for (;;) {\r\n    var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/)\r\n    if (!lineClass) { break }\r\n    type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length)\r\n    var prop = lineClass[1] ? \"bgClass\" : \"textClass\"\r\n    if (output[prop] == null)\r\n      { output[prop] = lineClass[2] }\r\n    else if (!(new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\")).test(output[prop]))\r\n      { output[prop] += \" \" + lineClass[2] }\r\n  } }\r\n  return type\r\n}\r\n\r\n// Run the given mode's parser over a line, calling f for each token.\r\nfunction runMode(cm, text, mode, state, f, lineClasses, forceToEnd) {\r\n  var flattenSpans = mode.flattenSpans\r\n  if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans }\r\n  var curStart = 0, curStyle = null\r\n  var stream = new StringStream(text, cm.options.tabSize), style\r\n  var inner = cm.options.addModeClass && [null]\r\n  if (text == \"\") { extractLineClasses(callBlankLine(mode, state), lineClasses) }\r\n  while (!stream.eol()) {\r\n    if (stream.pos > cm.options.maxHighlightLength) {\r\n      flattenSpans = false\r\n      if (forceToEnd) { processLine(cm, text, state, stream.pos) }\r\n      stream.pos = text.length\r\n      style = null\r\n    } else {\r\n      style = extractLineClasses(readToken(mode, stream, state, inner), lineClasses)\r\n    }\r\n    if (inner) {\r\n      var mName = inner[0].name\r\n      if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName) }\r\n    }\r\n    if (!flattenSpans || curStyle != style) {\r\n      while (curStart < stream.start) {\r\n        curStart = Math.min(stream.start, curStart + 5000)\r\n        f(curStart, curStyle)\r\n      }\r\n      curStyle = style\r\n    }\r\n    stream.start = stream.pos\r\n  }\r\n  while (curStart < stream.pos) {\r\n    // Webkit seems to refuse to render text nodes longer than 57444\r\n    // characters, and returns inaccurate measurements in nodes\r\n    // starting around 5000 chars.\r\n    var pos = Math.min(stream.pos, curStart + 5000)\r\n    f(pos, curStyle)\r\n    curStart = pos\r\n  }\r\n}\r\n\r\n// Finds the line to start with when starting a parse. Tries to\r\n// find a line with a stateAfter, so that it can start with a\r\n// valid state. If that fails, it returns the line with the\r\n// smallest indentation, which tends to need the least context to\r\n// parse correctly.\r\nfunction findStartLine(cm, n, precise) {\r\n  var minindent, minline, doc = cm.doc\r\n  var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100)\r\n  for (var search = n; search > lim; --search) {\r\n    if (search <= doc.first) { return doc.first }\r\n    var line = getLine(doc, search - 1)\r\n    if (line.stateAfter && (!precise || search <= doc.frontier)) { return search }\r\n    var indented = countColumn(line.text, null, cm.options.tabSize)\r\n    if (minline == null || minindent > indented) {\r\n      minline = search - 1\r\n      minindent = indented\r\n    }\r\n  }\r\n  return minline\r\n}\r\n\r\n// LINE DATA STRUCTURE\r\n\r\n// Line objects. These hold state related to a line, including\r\n// highlighting info (the styles array).\r\nvar Line = function(text, markedSpans, estimateHeight) {\r\n  this.text = text\r\n  attachMarkedSpans(this, markedSpans)\r\n  this.height = estimateHeight ? estimateHeight(this) : 1\r\n};\r\n\r\nLine.prototype.lineNo = function () { return lineNo(this) };\r\neventMixin(Line)\r\n\r\n// Change the content (text, markers) of a line. Automatically\r\n// invalidates cached information and tries to re-estimate the\r\n// line's height.\r\nfunction updateLine(line, text, markedSpans, estimateHeight) {\r\n  line.text = text\r\n  if (line.stateAfter) { line.stateAfter = null }\r\n  if (line.styles) { line.styles = null }\r\n  if (line.order != null) { line.order = null }\r\n  detachMarkedSpans(line)\r\n  attachMarkedSpans(line, markedSpans)\r\n  var estHeight = estimateHeight ? estimateHeight(line) : 1\r\n  if (estHeight != line.height) { updateLineHeight(line, estHeight) }\r\n}\r\n\r\n// Detach a line from the document tree and its markers.\r\nfunction cleanUpLine(line) {\r\n  line.parent = null\r\n  detachMarkedSpans(line)\r\n}\r\n\r\n// Convert a style as returned by a mode (either null, or a string\r\n// containing one or more styles) to a CSS style. This is cached,\r\n// and also looks for line-wide styles.\r\nvar styleToClassCache = {};\r\nvar styleToClassCacheWithMode = {};\r\nfunction interpretTokenStyle(style, options) {\r\n  if (!style || /^\\s*$/.test(style)) { return null }\r\n  var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache\r\n  return cache[style] ||\r\n    (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\r\n}\r\n\r\n// Render the DOM representation of the text of a line. Also builds\r\n// up a 'line map', which points at the DOM nodes that represent\r\n// specific stretches of text, and is used by the measuring code.\r\n// The returned object contains the DOM node, this map, and\r\n// information about line-wide styles that were set by the mode.\r\nfunction buildLineContent(cm, lineView) {\r\n  // The padding-right forces the element to have a 'border', which\r\n  // is needed on Webkit to be able to get line-level bounding\r\n  // rectangles for it (in measureChar).\r\n  var content = elt(\"span\", null, null, webkit ? \"padding-right: .1px\" : null)\r\n  var builder = {pre: elt(\"pre\", [content], \"CodeMirror-line\"), content: content,\r\n                 col: 0, pos: 0, cm: cm,\r\n                 trailingSpace: false,\r\n                 splitSpaces: (ie || webkit) && cm.getOption(\"lineWrapping\")}\r\n  // hide from accessibility tree\r\n  content.setAttribute(\"role\", \"presentation\")\r\n  builder.pre.setAttribute(\"role\", \"presentation\")\r\n  lineView.measure = {}\r\n\r\n  // Iterate over the logical lines that make up this visual line.\r\n  for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\r\n    var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0)\r\n    builder.pos = 0\r\n    builder.addToken = buildToken\r\n    // Optionally wire in some hacks into the token-rendering\r\n    // algorithm, to deal with browser quirks.\r\n    if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line)))\r\n      { builder.addToken = buildTokenBadBidi(builder.addToken, order) }\r\n    builder.map = []\r\n    var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line)\r\n    insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate))\r\n    if (line.styleClasses) {\r\n      if (line.styleClasses.bgClass)\r\n        { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\") }\r\n      if (line.styleClasses.textClass)\r\n        { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\") }\r\n    }\r\n\r\n    // Ensure at least a single node is present, for measuring.\r\n    if (builder.map.length == 0)\r\n      { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))) }\r\n\r\n    // Store the map and a cache object for the current logical line\r\n    if (i == 0) {\r\n      lineView.measure.map = builder.map\r\n      lineView.measure.cache = {}\r\n    } else {\r\n      ;(lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\r\n      ;(lineView.measure.caches || (lineView.measure.caches = [])).push({})\r\n    }\r\n  }\r\n\r\n  // See issue #2901\r\n  if (webkit) {\r\n    var last = builder.content.lastChild\r\n    if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\r\n      { builder.content.className = \"cm-tab-wrap-hack\" }\r\n  }\r\n\r\n  signal(cm, \"renderLine\", cm, lineView.line, builder.pre)\r\n  if (builder.pre.className)\r\n    { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\") }\r\n\r\n  return builder\r\n}\r\n\r\nfunction defaultSpecialCharPlaceholder(ch) {\r\n  var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\")\r\n  token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16)\r\n  token.setAttribute(\"aria-label\", token.title)\r\n  return token\r\n}\r\n\r\n// Build up the DOM representation for a single token, and add it to\r\n// the line map. Takes care to render special characters separately.\r\nfunction buildToken(builder, text, style, startStyle, endStyle, title, css) {\r\n  if (!text) { return }\r\n  var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text\r\n  var special = builder.cm.state.specialChars, mustWrap = false\r\n  var content\r\n  if (!special.test(text)) {\r\n    builder.col += text.length\r\n    content = document.createTextNode(displayText)\r\n    builder.map.push(builder.pos, builder.pos + text.length, content)\r\n    if (ie && ie_version < 9) { mustWrap = true }\r\n    builder.pos += text.length\r\n  } else {\r\n    content = document.createDocumentFragment()\r\n    var pos = 0\r\n    while (true) {\r\n      special.lastIndex = pos\r\n      var m = special.exec(text)\r\n      var skipped = m ? m.index - pos : text.length - pos\r\n      if (skipped) {\r\n        var txt = document.createTextNode(displayText.slice(pos, pos + skipped))\r\n        if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])) }\r\n        else { content.appendChild(txt) }\r\n        builder.map.push(builder.pos, builder.pos + skipped, txt)\r\n        builder.col += skipped\r\n        builder.pos += skipped\r\n      }\r\n      if (!m) { break }\r\n      pos += skipped + 1\r\n      var txt$1 = (void 0)\r\n      if (m[0] == \"\\t\") {\r\n        var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize\r\n        txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"))\r\n        txt$1.setAttribute(\"role\", \"presentation\")\r\n        txt$1.setAttribute(\"cm-text\", \"\\t\")\r\n        builder.col += tabWidth\r\n      } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\r\n        txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"))\r\n        txt$1.setAttribute(\"cm-text\", m[0])\r\n        builder.col += 1\r\n      } else {\r\n        txt$1 = builder.cm.options.specialCharPlaceholder(m[0])\r\n        txt$1.setAttribute(\"cm-text\", m[0])\r\n        if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])) }\r\n        else { content.appendChild(txt$1) }\r\n        builder.col += 1\r\n      }\r\n      builder.map.push(builder.pos, builder.pos + 1, txt$1)\r\n      builder.pos++\r\n    }\r\n  }\r\n  builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32\r\n  if (style || startStyle || endStyle || mustWrap || css) {\r\n    var fullStyle = style || \"\"\r\n    if (startStyle) { fullStyle += startStyle }\r\n    if (endStyle) { fullStyle += endStyle }\r\n    var token = elt(\"span\", [content], fullStyle, css)\r\n    if (title) { token.title = title }\r\n    return builder.content.appendChild(token)\r\n  }\r\n  builder.content.appendChild(content)\r\n}\r\n\r\nfunction splitSpaces(text, trailingBefore) {\r\n  if (text.length > 1 && !/  /.test(text)) { return text }\r\n  var spaceBefore = trailingBefore, result = \"\"\r\n  for (var i = 0; i < text.length; i++) {\r\n    var ch = text.charAt(i)\r\n    if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\r\n      { ch = \"\\u00a0\" }\r\n    result += ch\r\n    spaceBefore = ch == \" \"\r\n  }\r\n  return result\r\n}\r\n\r\n// Work around nonsense dimensions being reported for stretches of\r\n// right-to-left text.\r\nfunction buildTokenBadBidi(inner, order) {\r\n  return function (builder, text, style, startStyle, endStyle, title, css) {\r\n    style = style ? style + \" cm-force-border\" : \"cm-force-border\"\r\n    var start = builder.pos, end = start + text.length\r\n    for (;;) {\r\n      // Find the part that overlaps with the start of this text\r\n      var part = (void 0)\r\n      for (var i = 0; i < order.length; i++) {\r\n        part = order[i]\r\n        if (part.to > start && part.from <= start) { break }\r\n      }\r\n      if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, title, css) }\r\n      inner(builder, text.slice(0, part.to - start), style, startStyle, null, title, css)\r\n      startStyle = null\r\n      text = text.slice(part.to - start)\r\n      start = part.to\r\n    }\r\n  }\r\n}\r\n\r\nfunction buildCollapsedSpan(builder, size, marker, ignoreWidget) {\r\n  var widget = !ignoreWidget && marker.widgetNode\r\n  if (widget) { builder.map.push(builder.pos, builder.pos + size, widget) }\r\n  if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\r\n    if (!widget)\r\n      { widget = builder.content.appendChild(document.createElement(\"span\")) }\r\n    widget.setAttribute(\"cm-marker\", marker.id)\r\n  }\r\n  if (widget) {\r\n    builder.cm.display.input.setUneditable(widget)\r\n    builder.content.appendChild(widget)\r\n  }\r\n  builder.pos += size\r\n  builder.trailingSpace = false\r\n}\r\n\r\n// Outputs a number of spans to make up a line, taking highlighting\r\n// and marked text into account.\r\nfunction insertLineContent(line, builder, styles) {\r\n  var spans = line.markedSpans, allText = line.text, at = 0\r\n  if (!spans) {\r\n    for (var i$1 = 1; i$1 < styles.length; i$1+=2)\r\n      { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)) }\r\n    return\r\n  }\r\n\r\n  var len = allText.length, pos = 0, i = 1, text = \"\", style, css\r\n  var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, title, collapsed\r\n  for (;;) {\r\n    if (nextChange == pos) { // Update current marker set\r\n      spanStyle = spanEndStyle = spanStartStyle = title = css = \"\"\r\n      collapsed = null; nextChange = Infinity\r\n      var foundBookmarks = [], endStyles = (void 0)\r\n      for (var j = 0; j < spans.length; ++j) {\r\n        var sp = spans[j], m = sp.marker\r\n        if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\r\n          foundBookmarks.push(m)\r\n        } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\r\n          if (sp.to != null && sp.to != pos && nextChange > sp.to) {\r\n            nextChange = sp.to\r\n            spanEndStyle = \"\"\r\n          }\r\n          if (m.className) { spanStyle += \" \" + m.className }\r\n          if (m.css) { css = (css ? css + \";\" : \"\") + m.css }\r\n          if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle }\r\n          if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to) }\r\n          if (m.title && !title) { title = m.title }\r\n          if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\r\n            { collapsed = sp }\r\n        } else if (sp.from > pos && nextChange > sp.from) {\r\n          nextChange = sp.from\r\n        }\r\n      }\r\n      if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\r\n        { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1] } } }\r\n\r\n      if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\r\n        { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]) } }\r\n      if (collapsed && (collapsed.from || 0) == pos) {\r\n        buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\r\n                           collapsed.marker, collapsed.from == null)\r\n        if (collapsed.to == null) { return }\r\n        if (collapsed.to == pos) { collapsed = false }\r\n      }\r\n    }\r\n    if (pos >= len) { break }\r\n\r\n    var upto = Math.min(len, nextChange)\r\n    while (true) {\r\n      if (text) {\r\n        var end = pos + text.length\r\n        if (!collapsed) {\r\n          var tokenText = end > upto ? text.slice(0, upto - pos) : text\r\n          builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\r\n                           spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", title, css)\r\n        }\r\n        if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\r\n        pos = end\r\n        spanStartStyle = \"\"\r\n      }\r\n      text = allText.slice(at, at = styles[i++])\r\n      style = interpretTokenStyle(styles[i++], builder.cm.options)\r\n    }\r\n  }\r\n}\r\n\r\n\r\n// These objects are used to represent the visible (currently drawn)\r\n// part of the document. A LineView may correspond to multiple\r\n// logical lines, if those are connected by collapsed ranges.\r\nfunction LineView(doc, line, lineN) {\r\n  // The starting line\r\n  this.line = line\r\n  // Continuing lines, if any\r\n  this.rest = visualLineContinued(line)\r\n  // Number of logical lines in this visual line\r\n  this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1\r\n  this.node = this.text = null\r\n  this.hidden = lineIsHidden(doc, line)\r\n}\r\n\r\n// Create a range of LineView objects for the given lines.\r\nfunction buildViewArray(cm, from, to) {\r\n  var array = [], nextPos\r\n  for (var pos = from; pos < to; pos = nextPos) {\r\n    var view = new LineView(cm.doc, getLine(cm.doc, pos), pos)\r\n    nextPos = pos + view.size\r\n    array.push(view)\r\n  }\r\n  return array\r\n}\r\n\r\nvar operationGroup = null\r\n\r\nfunction pushOperation(op) {\r\n  if (operationGroup) {\r\n    operationGroup.ops.push(op)\r\n  } else {\r\n    op.ownsGroup = operationGroup = {\r\n      ops: [op],\r\n      delayedCallbacks: []\r\n    }\r\n  }\r\n}\r\n\r\nfunction fireCallbacksForOps(group) {\r\n  // Calls delayed callbacks and cursorActivity handlers until no\r\n  // new ones appear\r\n  var callbacks = group.delayedCallbacks, i = 0\r\n  do {\r\n    for (; i < callbacks.length; i++)\r\n      { callbacks[i].call(null) }\r\n    for (var j = 0; j < group.ops.length; j++) {\r\n      var op = group.ops[j]\r\n      if (op.cursorActivityHandlers)\r\n        { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\r\n          { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm) } }\r\n    }\r\n  } while (i < callbacks.length)\r\n}\r\n\r\nfunction finishOperation(op, endCb) {\r\n  var group = op.ownsGroup\r\n  if (!group) { return }\r\n\r\n  try { fireCallbacksForOps(group) }\r\n  finally {\r\n    operationGroup = null\r\n    endCb(group)\r\n  }\r\n}\r\n\r\nvar orphanDelayedCallbacks = null\r\n\r\n// Often, we want to signal events at a point where we are in the\r\n// middle of some work, but don't want the handler to start calling\r\n// other methods on the editor, which might be in an inconsistent\r\n// state or simply not expect any other events to happen.\r\n// signalLater looks whether there are any handlers, and schedules\r\n// them to be executed when the last operation ends, or, if no\r\n// operation is active, when a timeout fires.\r\nfunction signalLater(emitter, type /*, values...*/) {\r\n  var arr = getHandlers(emitter, type)\r\n  if (!arr.length) { return }\r\n  var args = Array.prototype.slice.call(arguments, 2), list\r\n  if (operationGroup) {\r\n    list = operationGroup.delayedCallbacks\r\n  } else if (orphanDelayedCallbacks) {\r\n    list = orphanDelayedCallbacks\r\n  } else {\r\n    list = orphanDelayedCallbacks = []\r\n    setTimeout(fireOrphanDelayed, 0)\r\n  }\r\n  var loop = function ( i ) {\r\n    list.push(function () { return arr[i].apply(null, args); })\r\n  };\r\n\r\n  for (var i = 0; i < arr.length; ++i)\r\n    loop( i );\r\n}\r\n\r\nfunction fireOrphanDelayed() {\r\n  var delayed = orphanDelayedCallbacks\r\n  orphanDelayedCallbacks = null\r\n  for (var i = 0; i < delayed.length; ++i) { delayed[i]() }\r\n}\r\n\r\n// When an aspect of a line changes, a string is added to\r\n// lineView.changes. This updates the relevant part of the line's\r\n// DOM structure.\r\nfunction updateLineForChanges(cm, lineView, lineN, dims) {\r\n  for (var j = 0; j < lineView.changes.length; j++) {\r\n    var type = lineView.changes[j]\r\n    if (type == \"text\") { updateLineText(cm, lineView) }\r\n    else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims) }\r\n    else if (type == \"class\") { updateLineClasses(lineView) }\r\n    else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims) }\r\n  }\r\n  lineView.changes = null\r\n}\r\n\r\n// Lines with gutter elements, widgets or a background class need to\r\n// be wrapped, and have the extra elements added to the wrapper div\r\nfunction ensureLineWrapped(lineView) {\r\n  if (lineView.node == lineView.text) {\r\n    lineView.node = elt(\"div\", null, null, \"position: relative\")\r\n    if (lineView.text.parentNode)\r\n      { lineView.text.parentNode.replaceChild(lineView.node, lineView.text) }\r\n    lineView.node.appendChild(lineView.text)\r\n    if (ie && ie_version < 8) { lineView.node.style.zIndex = 2 }\r\n  }\r\n  return lineView.node\r\n}\r\n\r\nfunction updateLineBackground(lineView) {\r\n  var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass\r\n  if (cls) { cls += \" CodeMirror-linebackground\" }\r\n  if (lineView.background) {\r\n    if (cls) { lineView.background.className = cls }\r\n    else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null }\r\n  } else if (cls) {\r\n    var wrap = ensureLineWrapped(lineView)\r\n    lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild)\r\n  }\r\n}\r\n\r\n// Wrapper around buildLineContent which will reuse the structure\r\n// in display.externalMeasured when possible.\r\nfunction getLineContent(cm, lineView) {\r\n  var ext = cm.display.externalMeasured\r\n  if (ext && ext.line == lineView.line) {\r\n    cm.display.externalMeasured = null\r\n    lineView.measure = ext.measure\r\n    return ext.built\r\n  }\r\n  return buildLineContent(cm, lineView)\r\n}\r\n\r\n// Redraw the line's text. Interacts with the background and text\r\n// classes because the mode may output tokens that influence these\r\n// classes.\r\nfunction updateLineText(cm, lineView) {\r\n  var cls = lineView.text.className\r\n  var built = getLineContent(cm, lineView)\r\n  if (lineView.text == lineView.node) { lineView.node = built.pre }\r\n  lineView.text.parentNode.replaceChild(built.pre, lineView.text)\r\n  lineView.text = built.pre\r\n  if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\r\n    lineView.bgClass = built.bgClass\r\n    lineView.textClass = built.textClass\r\n    updateLineClasses(lineView)\r\n  } else if (cls) {\r\n    lineView.text.className = cls\r\n  }\r\n}\r\n\r\nfunction updateLineClasses(lineView) {\r\n  updateLineBackground(lineView)\r\n  if (lineView.line.wrapClass)\r\n    { ensureLineWrapped(lineView).className = lineView.line.wrapClass }\r\n  else if (lineView.node != lineView.text)\r\n    { lineView.node.className = \"\" }\r\n  var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass\r\n  lineView.text.className = textClass || \"\"\r\n}\r\n\r\nfunction updateLineGutter(cm, lineView, lineN, dims) {\r\n  if (lineView.gutter) {\r\n    lineView.node.removeChild(lineView.gutter)\r\n    lineView.gutter = null\r\n  }\r\n  if (lineView.gutterBackground) {\r\n    lineView.node.removeChild(lineView.gutterBackground)\r\n    lineView.gutterBackground = null\r\n  }\r\n  if (lineView.line.gutterClass) {\r\n    var wrap = ensureLineWrapped(lineView)\r\n    lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\r\n                                    (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"))\r\n    wrap.insertBefore(lineView.gutterBackground, lineView.text)\r\n  }\r\n  var markers = lineView.line.gutterMarkers\r\n  if (cm.options.lineNumbers || markers) {\r\n    var wrap$1 = ensureLineWrapped(lineView)\r\n    var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"))\r\n    cm.display.input.setUneditable(gutterWrap)\r\n    wrap$1.insertBefore(gutterWrap, lineView.text)\r\n    if (lineView.line.gutterClass)\r\n      { gutterWrap.className += \" \" + lineView.line.gutterClass }\r\n    if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\r\n      { lineView.lineNumber = gutterWrap.appendChild(\r\n        elt(\"div\", lineNumberFor(cm.options, lineN),\r\n            \"CodeMirror-linenumber CodeMirror-gutter-elt\",\r\n            (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))) }\r\n    if (markers) { for (var k = 0; k < cm.options.gutters.length; ++k) {\r\n      var id = cm.options.gutters[k], found = markers.hasOwnProperty(id) && markers[id]\r\n      if (found)\r\n        { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\r\n                                   (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))) }\r\n    } }\r\n  }\r\n}\r\n\r\nfunction updateLineWidgets(cm, lineView, dims) {\r\n  if (lineView.alignable) { lineView.alignable = null }\r\n  for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\r\n    next = node.nextSibling\r\n    if (node.className == \"CodeMirror-linewidget\")\r\n      { lineView.node.removeChild(node) }\r\n  }\r\n  insertLineWidgets(cm, lineView, dims)\r\n}\r\n\r\n// Build a line's DOM representation from scratch\r\nfunction buildLineElement(cm, lineView, lineN, dims) {\r\n  var built = getLineContent(cm, lineView)\r\n  lineView.text = lineView.node = built.pre\r\n  if (built.bgClass) { lineView.bgClass = built.bgClass }\r\n  if (built.textClass) { lineView.textClass = built.textClass }\r\n\r\n  updateLineClasses(lineView)\r\n  updateLineGutter(cm, lineView, lineN, dims)\r\n  insertLineWidgets(cm, lineView, dims)\r\n  return lineView.node\r\n}\r\n\r\n// A lineView may contain multiple logical lines (when merged by\r\n// collapsed spans). The widgets for all of them need to be drawn.\r\nfunction insertLineWidgets(cm, lineView, dims) {\r\n  insertLineWidgetsFor(cm, lineView.line, lineView, dims, true)\r\n  if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\r\n    { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false) } }\r\n}\r\n\r\nfunction insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\r\n  if (!line.widgets) { return }\r\n  var wrap = ensureLineWrapped(lineView)\r\n  for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\r\n    var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\")\r\n    if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\") }\r\n    positionLineWidget(widget, node, lineView, dims)\r\n    cm.display.input.setUneditable(node)\r\n    if (allowAbove && widget.above)\r\n      { wrap.insertBefore(node, lineView.gutter || lineView.text) }\r\n    else\r\n      { wrap.appendChild(node) }\r\n    signalLater(widget, \"redraw\")\r\n  }\r\n}\r\n\r\nfunction positionLineWidget(widget, node, lineView, dims) {\r\n  if (widget.noHScroll) {\r\n    ;(lineView.alignable || (lineView.alignable = [])).push(node)\r\n    var width = dims.wrapperWidth\r\n    node.style.left = dims.fixedPos + \"px\"\r\n    if (!widget.coverGutter) {\r\n      width -= dims.gutterTotalWidth\r\n      node.style.paddingLeft = dims.gutterTotalWidth + \"px\"\r\n    }\r\n    node.style.width = width + \"px\"\r\n  }\r\n  if (widget.coverGutter) {\r\n    node.style.zIndex = 5\r\n    node.style.position = \"relative\"\r\n    if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\" }\r\n  }\r\n}\r\n\r\nfunction widgetHeight(widget) {\r\n  if (widget.height != null) { return widget.height }\r\n  var cm = widget.doc.cm\r\n  if (!cm) { return 0 }\r\n  if (!contains(document.body, widget.node)) {\r\n    var parentStyle = \"position: relative;\"\r\n    if (widget.coverGutter)\r\n      { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\" }\r\n    if (widget.noHScroll)\r\n      { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\" }\r\n    removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle))\r\n  }\r\n  return widget.height = widget.node.parentNode.offsetHeight\r\n}\r\n\r\n// Return true when the given mouse event happened in a widget\r\nfunction eventInWidget(display, e) {\r\n  for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\r\n    if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\r\n        (n.parentNode == display.sizer && n != display.mover))\r\n      { return true }\r\n  }\r\n}\r\n\r\n// POSITION MEASUREMENT\r\n\r\nfunction paddingTop(display) {return display.lineSpace.offsetTop}\r\nfunction paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\r\nfunction paddingH(display) {\r\n  if (display.cachedPaddingH) { return display.cachedPaddingH }\r\n  var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\"))\r\n  var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle\r\n  var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)}\r\n  if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data }\r\n  return data\r\n}\r\n\r\nfunction scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\r\nfunction displayWidth(cm) {\r\n  return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\r\n}\r\nfunction displayHeight(cm) {\r\n  return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\r\n}\r\n\r\n// Ensure the lineView.wrapping.heights array is populated. This is\r\n// an array of bottom offsets for the lines that make up a drawn\r\n// line. When lineWrapping is on, there might be more than one\r\n// height.\r\nfunction ensureLineHeights(cm, lineView, rect) {\r\n  var wrapping = cm.options.lineWrapping\r\n  var curWidth = wrapping && displayWidth(cm)\r\n  if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\r\n    var heights = lineView.measure.heights = []\r\n    if (wrapping) {\r\n      lineView.measure.width = curWidth\r\n      var rects = lineView.text.firstChild.getClientRects()\r\n      for (var i = 0; i < rects.length - 1; i++) {\r\n        var cur = rects[i], next = rects[i + 1]\r\n        if (Math.abs(cur.bottom - next.bottom) > 2)\r\n          { heights.push((cur.bottom + next.top) / 2 - rect.top) }\r\n      }\r\n    }\r\n    heights.push(rect.bottom - rect.top)\r\n  }\r\n}\r\n\r\n// Find a line map (mapping character offsets to text nodes) and a\r\n// measurement cache for the given line number. (A line view might\r\n// contain multiple lines when collapsed ranges are present.)\r\nfunction mapFromLineView(lineView, line, lineN) {\r\n  if (lineView.line == line)\r\n    { return {map: lineView.measure.map, cache: lineView.measure.cache} }\r\n  for (var i = 0; i < lineView.rest.length; i++)\r\n    { if (lineView.rest[i] == line)\r\n      { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\r\n  for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\r\n    { if (lineNo(lineView.rest[i$1]) > lineN)\r\n      { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\r\n}\r\n\r\n// Render a line into the hidden node display.externalMeasured. Used\r\n// when measurement is needed for a line that's not in the viewport.\r\nfunction updateExternalMeasurement(cm, line) {\r\n  line = visualLine(line)\r\n  var lineN = lineNo(line)\r\n  var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN)\r\n  view.lineN = lineN\r\n  var built = view.built = buildLineContent(cm, view)\r\n  view.text = built.pre\r\n  removeChildrenAndAdd(cm.display.lineMeasure, built.pre)\r\n  return view\r\n}\r\n\r\n// Get a {top, bottom, left, right} box (in line-local coordinates)\r\n// for a given character.\r\nfunction measureChar(cm, line, ch, bias) {\r\n  return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\r\n}\r\n\r\n// Find a line view that corresponds to the given line number.\r\nfunction findViewForLine(cm, lineN) {\r\n  if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\r\n    { return cm.display.view[findViewIndex(cm, lineN)] }\r\n  var ext = cm.display.externalMeasured\r\n  if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\r\n    { return ext }\r\n}\r\n\r\n// Measurement can be split in two steps, the set-up work that\r\n// applies to the whole line, and the measurement of the actual\r\n// character. Functions like coordsChar, that need to do a lot of\r\n// measurements in a row, can thus ensure that the set-up work is\r\n// only done once.\r\nfunction prepareMeasureForLine(cm, line) {\r\n  var lineN = lineNo(line)\r\n  var view = findViewForLine(cm, lineN)\r\n  if (view && !view.text) {\r\n    view = null\r\n  } else if (view && view.changes) {\r\n    updateLineForChanges(cm, view, lineN, getDimensions(cm))\r\n    cm.curOp.forceUpdate = true\r\n  }\r\n  if (!view)\r\n    { view = updateExternalMeasurement(cm, line) }\r\n\r\n  var info = mapFromLineView(view, line, lineN)\r\n  return {\r\n    line: line, view: view, rect: null,\r\n    map: info.map, cache: info.cache, before: info.before,\r\n    hasHeights: false\r\n  }\r\n}\r\n\r\n// Given a prepared measurement object, measures the position of an\r\n// actual character (or fetches it from the cache).\r\nfunction measureCharPrepared(cm, prepared, ch, bias, varHeight) {\r\n  if (prepared.before) { ch = -1 }\r\n  var key = ch + (bias || \"\"), found\r\n  if (prepared.cache.hasOwnProperty(key)) {\r\n    found = prepared.cache[key]\r\n  } else {\r\n    if (!prepared.rect)\r\n      { prepared.rect = prepared.view.text.getBoundingClientRect() }\r\n    if (!prepared.hasHeights) {\r\n      ensureLineHeights(cm, prepared.view, prepared.rect)\r\n      prepared.hasHeights = true\r\n    }\r\n    found = measureCharInner(cm, prepared, ch, bias)\r\n    if (!found.bogus) { prepared.cache[key] = found }\r\n  }\r\n  return {left: found.left, right: found.right,\r\n          top: varHeight ? found.rtop : found.top,\r\n          bottom: varHeight ? found.rbottom : found.bottom}\r\n}\r\n\r\nvar nullRect = {left: 0, right: 0, top: 0, bottom: 0}\r\n\r\nfunction nodeAndOffsetInLineMap(map, ch, bias) {\r\n  var node, start, end, collapse, mStart, mEnd\r\n  // First, search the line map for the text node corresponding to,\r\n  // or closest to, the target character.\r\n  for (var i = 0; i < map.length; i += 3) {\r\n    mStart = map[i]\r\n    mEnd = map[i + 1]\r\n    if (ch < mStart) {\r\n      start = 0; end = 1\r\n      collapse = \"left\"\r\n    } else if (ch < mEnd) {\r\n      start = ch - mStart\r\n      end = start + 1\r\n    } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\r\n      end = mEnd - mStart\r\n      start = end - 1\r\n      if (ch >= mEnd) { collapse = \"right\" }\r\n    }\r\n    if (start != null) {\r\n      node = map[i + 2]\r\n      if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\r\n        { collapse = bias }\r\n      if (bias == \"left\" && start == 0)\r\n        { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\r\n          node = map[(i -= 3) + 2]\r\n          collapse = \"left\"\r\n        } }\r\n      if (bias == \"right\" && start == mEnd - mStart)\r\n        { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\r\n          node = map[(i += 3) + 2]\r\n          collapse = \"right\"\r\n        } }\r\n      break\r\n    }\r\n  }\r\n  return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\r\n}\r\n\r\nfunction getUsefulRect(rects, bias) {\r\n  var rect = nullRect\r\n  if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\r\n    if ((rect = rects[i]).left != rect.right) { break }\r\n  } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\r\n    if ((rect = rects[i$1]).left != rect.right) { break }\r\n  } }\r\n  return rect\r\n}\r\n\r\nfunction measureCharInner(cm, prepared, ch, bias) {\r\n  var place = nodeAndOffsetInLineMap(prepared.map, ch, bias)\r\n  var node = place.node, start = place.start, end = place.end, collapse = place.collapse\r\n\r\n  var rect\r\n  if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\r\n    for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\r\n      while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start }\r\n      while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end }\r\n      if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\r\n        { rect = node.parentNode.getBoundingClientRect() }\r\n      else\r\n        { rect = getUsefulRect(range(node, start, end).getClientRects(), bias) }\r\n      if (rect.left || rect.right || start == 0) { break }\r\n      end = start\r\n      start = start - 1\r\n      collapse = \"right\"\r\n    }\r\n    if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect) }\r\n  } else { // If it is a widget, simply get the box for the whole widget.\r\n    if (start > 0) { collapse = bias = \"right\" }\r\n    var rects\r\n    if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\r\n      { rect = rects[bias == \"right\" ? rects.length - 1 : 0] }\r\n    else\r\n      { rect = node.getBoundingClientRect() }\r\n  }\r\n  if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\r\n    var rSpan = node.parentNode.getClientRects()[0]\r\n    if (rSpan)\r\n      { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom} }\r\n    else\r\n      { rect = nullRect }\r\n  }\r\n\r\n  var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top\r\n  var mid = (rtop + rbot) / 2\r\n  var heights = prepared.view.measure.heights\r\n  var i = 0\r\n  for (; i < heights.length - 1; i++)\r\n    { if (mid < heights[i]) { break } }\r\n  var top = i ? heights[i - 1] : 0, bot = heights[i]\r\n  var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\r\n                right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\r\n                top: top, bottom: bot}\r\n  if (!rect.left && !rect.right) { result.bogus = true }\r\n  if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot }\r\n\r\n  return result\r\n}\r\n\r\n// Work around problem with bounding client rects on ranges being\r\n// returned incorrectly when zoomed on IE10 and below.\r\nfunction maybeUpdateRectForZooming(measure, rect) {\r\n  if (!window.screen || screen.logicalXDPI == null ||\r\n      screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\r\n    { return rect }\r\n  var scaleX = screen.logicalXDPI / screen.deviceXDPI\r\n  var scaleY = screen.logicalYDPI / screen.deviceYDPI\r\n  return {left: rect.left * scaleX, right: rect.right * scaleX,\r\n          top: rect.top * scaleY, bottom: rect.bottom * scaleY}\r\n}\r\n\r\nfunction clearLineMeasurementCacheFor(lineView) {\r\n  if (lineView.measure) {\r\n    lineView.measure.cache = {}\r\n    lineView.measure.heights = null\r\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\r\n      { lineView.measure.caches[i] = {} } }\r\n  }\r\n}\r\n\r\nfunction clearLineMeasurementCache(cm) {\r\n  cm.display.externalMeasure = null\r\n  removeChildren(cm.display.lineMeasure)\r\n  for (var i = 0; i < cm.display.view.length; i++)\r\n    { clearLineMeasurementCacheFor(cm.display.view[i]) }\r\n}\r\n\r\nfunction clearCaches(cm) {\r\n  clearLineMeasurementCache(cm)\r\n  cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null\r\n  if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true }\r\n  cm.display.lineNumChars = null\r\n}\r\n\r\nfunction pageScrollX() { return window.pageXOffset || (document.documentElement || document.body).scrollLeft }\r\nfunction pageScrollY() { return window.pageYOffset || (document.documentElement || document.body).scrollTop }\r\n\r\n// Converts a {top, bottom, left, right} box from line-local\r\n// coordinates into another coordinate system. Context may be one of\r\n// \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\r\n// or \"page\".\r\nfunction intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\r\n  if (!includeWidgets && lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above) {\r\n    var size = widgetHeight(lineObj.widgets[i])\r\n    rect.top += size; rect.bottom += size\r\n  } } }\r\n  if (context == \"line\") { return rect }\r\n  if (!context) { context = \"local\" }\r\n  var yOff = heightAtLine(lineObj)\r\n  if (context == \"local\") { yOff += paddingTop(cm.display) }\r\n  else { yOff -= cm.display.viewOffset }\r\n  if (context == \"page\" || context == \"window\") {\r\n    var lOff = cm.display.lineSpace.getBoundingClientRect()\r\n    yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY())\r\n    var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX())\r\n    rect.left += xOff; rect.right += xOff\r\n  }\r\n  rect.top += yOff; rect.bottom += yOff\r\n  return rect\r\n}\r\n\r\n// Coverts a box from \"div\" coords to another coordinate system.\r\n// Context may be \"window\", \"page\", \"div\", or \"local\"./null.\r\nfunction fromCoordSystem(cm, coords, context) {\r\n  if (context == \"div\") { return coords }\r\n  var left = coords.left, top = coords.top\r\n  // First move into \"page\" coordinate system\r\n  if (context == \"page\") {\r\n    left -= pageScrollX()\r\n    top -= pageScrollY()\r\n  } else if (context == \"local\" || !context) {\r\n    var localBox = cm.display.sizer.getBoundingClientRect()\r\n    left += localBox.left\r\n    top += localBox.top\r\n  }\r\n\r\n  var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect()\r\n  return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\r\n}\r\n\r\nfunction charCoords(cm, pos, context, lineObj, bias) {\r\n  if (!lineObj) { lineObj = getLine(cm.doc, pos.line) }\r\n  return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\r\n}\r\n\r\n// Returns a box for a given cursor position, which may have an\r\n// 'other' property containing the position of the secondary cursor\r\n// on a bidi boundary.\r\n// A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\r\n// and after `char - 1` in writing order of `char - 1`\r\n// A cursor Pos(line, char, \"after\") is on the same visual line as `char`\r\n// and before `char` in writing order of `char`\r\n// Examples (upper-case letters are RTL, lower-case are LTR):\r\n//     Pos(0, 1, ...)\r\n//     before   after\r\n// ab     a|b     a|b\r\n// aB     a|B     aB|\r\n// Ab     |Ab     A|b\r\n// AB     B|A     B|A\r\n// Every position after the last character on a line is considered to stick\r\n// to the last character on the line.\r\nfunction cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\r\n  lineObj = lineObj || getLine(cm.doc, pos.line)\r\n  if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj) }\r\n  function get(ch, right) {\r\n    var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight)\r\n    if (right) { m.left = m.right; } else { m.right = m.left }\r\n    return intoCoordSystem(cm, lineObj, m, context)\r\n  }\r\n  var order = getOrder(lineObj), ch = pos.ch, sticky = pos.sticky\r\n  if (ch >= lineObj.text.length) {\r\n    ch = lineObj.text.length\r\n    sticky = \"before\"\r\n  } else if (ch <= 0) {\r\n    ch = 0\r\n    sticky = \"after\"\r\n  }\r\n  if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\r\n\r\n  function getBidi(ch, partPos, invert) {\r\n    var part = order[partPos], right = (part.level % 2) != 0\r\n    return get(invert ? ch - 1 : ch, right != invert)\r\n  }\r\n  var partPos = getBidiPartAt(order, ch, sticky)\r\n  var other = bidiOther\r\n  var val = getBidi(ch, partPos, sticky == \"before\")\r\n  if (other != null) { val.other = getBidi(ch, other, sticky != \"before\") }\r\n  return val\r\n}\r\n\r\n// Used to cheaply estimate the coordinates for a position. Used for\r\n// intermediate scroll updates.\r\nfunction estimateCoords(cm, pos) {\r\n  var left = 0\r\n  pos = clipPos(cm.doc, pos)\r\n  if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch }\r\n  var lineObj = getLine(cm.doc, pos.line)\r\n  var top = heightAtLine(lineObj) + paddingTop(cm.display)\r\n  return {left: left, right: left, top: top, bottom: top + lineObj.height}\r\n}\r\n\r\n// Positions returned by coordsChar contain some extra information.\r\n// xRel is the relative x position of the input coordinates compared\r\n// to the found position (so xRel > 0 means the coordinates are to\r\n// the right of the character position, for example). When outside\r\n// is true, that means the coordinates lie outside the line's\r\n// vertical range.\r\nfunction PosWithInfo(line, ch, sticky, outside, xRel) {\r\n  var pos = Pos(line, ch, sticky)\r\n  pos.xRel = xRel\r\n  if (outside) { pos.outside = true }\r\n  return pos\r\n}\r\n\r\n// Compute the character position closest to the given coordinates.\r\n// Input must be lineSpace-local (\"div\" coordinate system).\r\nfunction coordsChar(cm, x, y) {\r\n  var doc = cm.doc\r\n  y += cm.display.viewOffset\r\n  if (y < 0) { return PosWithInfo(doc.first, 0, null, true, -1) }\r\n  var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1\r\n  if (lineN > last)\r\n    { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, true, 1) }\r\n  if (x < 0) { x = 0 }\r\n\r\n  var lineObj = getLine(doc, lineN)\r\n  for (;;) {\r\n    var found = coordsCharInner(cm, lineObj, lineN, x, y)\r\n    var merged = collapsedSpanAtEnd(lineObj)\r\n    var mergedPos = merged && merged.find(0, true)\r\n    if (merged && (found.ch > mergedPos.from.ch || found.ch == mergedPos.from.ch && found.xRel > 0))\r\n      { lineN = lineNo(lineObj = mergedPos.to.line) }\r\n    else\r\n      { return found }\r\n  }\r\n}\r\n\r\nfunction wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\r\n  var measure = function (ch) { return intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, ch), \"line\"); }\r\n  var end = lineObj.text.length\r\n  var begin = findFirst(function (ch) { return measure(ch - 1).bottom <= y; }, end, 0)\r\n  end = findFirst(function (ch) { return measure(ch).top > y; }, begin, end)\r\n  return {begin: begin, end: end}\r\n}\r\n\r\nfunction wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\r\n  var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top\r\n  return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\r\n}\r\n\r\nfunction coordsCharInner(cm, lineObj, lineNo, x, y) {\r\n  y -= heightAtLine(lineObj)\r\n  var begin = 0, end = lineObj.text.length\r\n  var preparedMeasure = prepareMeasureForLine(cm, lineObj)\r\n  var pos\r\n  var order = getOrder(lineObj)\r\n  if (order) {\r\n    if (cm.options.lineWrapping) {\r\n      ;var assign;\r\n      ((assign = wrappedLineExtent(cm, lineObj, preparedMeasure, y), begin = assign.begin, end = assign.end, assign))\r\n    }\r\n    pos = new Pos(lineNo, begin)\r\n    var beginLeft = cursorCoords(cm, pos, \"line\", lineObj, preparedMeasure).left\r\n    var dir = beginLeft < x ? 1 : -1\r\n    var prevDiff, diff = beginLeft - x, prevPos\r\n    do {\r\n      prevDiff = diff\r\n      prevPos = pos\r\n      pos = moveVisually(cm, lineObj, pos, dir)\r\n      if (pos == null || pos.ch < begin || end <= (pos.sticky == \"before\" ? pos.ch - 1 : pos.ch)) {\r\n        pos = prevPos\r\n        break\r\n      }\r\n      diff = cursorCoords(cm, pos, \"line\", lineObj, preparedMeasure).left - x\r\n    } while ((dir < 0) != (diff < 0) && (Math.abs(diff) <= Math.abs(prevDiff)))\r\n    if (Math.abs(diff) > Math.abs(prevDiff)) {\r\n      if ((diff < 0) == (prevDiff < 0)) { throw new Error(\"Broke out of infinite loop in coordsCharInner\") }\r\n      pos = prevPos\r\n    }\r\n  } else {\r\n    var ch = findFirst(function (ch) {\r\n      var box = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, ch), \"line\")\r\n      if (box.top > y) {\r\n        // For the cursor stickiness\r\n        end = Math.min(ch, end)\r\n        return true\r\n      }\r\n      else if (box.bottom <= y) { return false }\r\n      else if (box.left > x) { return true }\r\n      else if (box.right < x) { return false }\r\n      else { return (x - box.left < box.right - x) }\r\n    }, begin, end)\r\n    ch = skipExtendingChars(lineObj.text, ch, 1)\r\n    pos = new Pos(lineNo, ch, ch == end ? \"before\" : \"after\")\r\n  }\r\n  var coords = cursorCoords(cm, pos, \"line\", lineObj, preparedMeasure)\r\n  if (y < coords.top || coords.bottom < y) { pos.outside = true }\r\n  pos.xRel = x < coords.left ? -1 : (x > coords.right ? 1 : 0)\r\n  return pos\r\n}\r\n\r\nvar measureText\r\n// Compute the default text height.\r\nfunction textHeight(display) {\r\n  if (display.cachedTextHeight != null) { return display.cachedTextHeight }\r\n  if (measureText == null) {\r\n    measureText = elt(\"pre\")\r\n    // Measure a bunch of lines, for browsers that compute\r\n    // fractional heights.\r\n    for (var i = 0; i < 49; ++i) {\r\n      measureText.appendChild(document.createTextNode(\"x\"))\r\n      measureText.appendChild(elt(\"br\"))\r\n    }\r\n    measureText.appendChild(document.createTextNode(\"x\"))\r\n  }\r\n  removeChildrenAndAdd(display.measure, measureText)\r\n  var height = measureText.offsetHeight / 50\r\n  if (height > 3) { display.cachedTextHeight = height }\r\n  removeChildren(display.measure)\r\n  return height || 1\r\n}\r\n\r\n// Compute the default character width.\r\nfunction charWidth(display) {\r\n  if (display.cachedCharWidth != null) { return display.cachedCharWidth }\r\n  var anchor = elt(\"span\", \"xxxxxxxxxx\")\r\n  var pre = elt(\"pre\", [anchor])\r\n  removeChildrenAndAdd(display.measure, pre)\r\n  var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10\r\n  if (width > 2) { display.cachedCharWidth = width }\r\n  return width || 10\r\n}\r\n\r\n// Do a bulk-read of the DOM positions and sizes needed to draw the\r\n// view, so that we don't interleave reading and writing to the DOM.\r\nfunction getDimensions(cm) {\r\n  var d = cm.display, left = {}, width = {}\r\n  var gutterLeft = d.gutters.clientLeft\r\n  for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\r\n    left[cm.options.gutters[i]] = n.offsetLeft + n.clientLeft + gutterLeft\r\n    width[cm.options.gutters[i]] = n.clientWidth\r\n  }\r\n  return {fixedPos: compensateForHScroll(d),\r\n          gutterTotalWidth: d.gutters.offsetWidth,\r\n          gutterLeft: left,\r\n          gutterWidth: width,\r\n          wrapperWidth: d.wrapper.clientWidth}\r\n}\r\n\r\n// Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\r\n// but using getBoundingClientRect to get a sub-pixel-accurate\r\n// result.\r\nfunction compensateForHScroll(display) {\r\n  return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\r\n}\r\n\r\n// Returns a function that estimates the height of a line, to use as\r\n// first approximation until the line becomes visible (and is thus\r\n// properly measurable).\r\nfunction estimateHeight(cm) {\r\n  var th = textHeight(cm.display), wrapping = cm.options.lineWrapping\r\n  var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3)\r\n  return function (line) {\r\n    if (lineIsHidden(cm.doc, line)) { return 0 }\r\n\r\n    var widgetsHeight = 0\r\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\r\n      if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height }\r\n    } }\r\n\r\n    if (wrapping)\r\n      { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\r\n    else\r\n      { return widgetsHeight + th }\r\n  }\r\n}\r\n\r\nfunction estimateLineHeights(cm) {\r\n  var doc = cm.doc, est = estimateHeight(cm)\r\n  doc.iter(function (line) {\r\n    var estHeight = est(line)\r\n    if (estHeight != line.height) { updateLineHeight(line, estHeight) }\r\n  })\r\n}\r\n\r\n// Given a mouse event, find the corresponding position. If liberal\r\n// is false, it checks whether a gutter or scrollbar was clicked,\r\n// and returns null if it was. forRect is used by rectangular\r\n// selections, and tries to estimate a character position even for\r\n// coordinates beyond the right of the text.\r\nfunction posFromMouse(cm, e, liberal, forRect) {\r\n  var display = cm.display\r\n  if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\r\n\r\n  var x, y, space = display.lineSpace.getBoundingClientRect()\r\n  // Fails unpredictably on IE[67] when mouse is dragged around quickly.\r\n  try { x = e.clientX - space.left; y = e.clientY - space.top }\r\n  catch (e) { return null }\r\n  var coords = coordsChar(cm, x, y), line\r\n  if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\r\n    var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length\r\n    coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff))\r\n  }\r\n  return coords\r\n}\r\n\r\n// Find the view element corresponding to a given line. Return null\r\n// when the line isn't visible.\r\nfunction findViewIndex(cm, n) {\r\n  if (n >= cm.display.viewTo) { return null }\r\n  n -= cm.display.viewFrom\r\n  if (n < 0) { return null }\r\n  var view = cm.display.view\r\n  for (var i = 0; i < view.length; i++) {\r\n    n -= view[i].size\r\n    if (n < 0) { return i }\r\n  }\r\n}\r\n\r\nfunction updateSelection(cm) {\r\n  cm.display.input.showSelection(cm.display.input.prepareSelection())\r\n}\r\n\r\nfunction prepareSelection(cm, primary) {\r\n  var doc = cm.doc, result = {}\r\n  var curFragment = result.cursors = document.createDocumentFragment()\r\n  var selFragment = result.selection = document.createDocumentFragment()\r\n\r\n  for (var i = 0; i < doc.sel.ranges.length; i++) {\r\n    if (primary === false && i == doc.sel.primIndex) { continue }\r\n    var range = doc.sel.ranges[i]\r\n    if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\r\n    var collapsed = range.empty()\r\n    if (collapsed || cm.options.showCursorWhenSelecting)\r\n      { drawSelectionCursor(cm, range.head, curFragment) }\r\n    if (!collapsed)\r\n      { drawSelectionRange(cm, range, selFragment) }\r\n  }\r\n  return result\r\n}\r\n\r\n// Draws a cursor for the given range\r\nfunction drawSelectionCursor(cm, head, output) {\r\n  var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine)\r\n\r\n  var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"))\r\n  cursor.style.left = pos.left + \"px\"\r\n  cursor.style.top = pos.top + \"px\"\r\n  cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\"\r\n\r\n  if (pos.other) {\r\n    // Secondary cursor, shown when on a 'jump' in bi-directional text\r\n    var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"))\r\n    otherCursor.style.display = \"\"\r\n    otherCursor.style.left = pos.other.left + \"px\"\r\n    otherCursor.style.top = pos.other.top + \"px\"\r\n    otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\"\r\n  }\r\n}\r\n\r\n// Draws the given range as a highlighted selection\r\nfunction drawSelectionRange(cm, range, output) {\r\n  var display = cm.display, doc = cm.doc\r\n  var fragment = document.createDocumentFragment()\r\n  var padding = paddingH(cm.display), leftSide = padding.left\r\n  var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right\r\n\r\n  function add(left, top, width, bottom) {\r\n    if (top < 0) { top = 0 }\r\n    top = Math.round(top)\r\n    bottom = Math.round(bottom)\r\n    fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")))\r\n  }\r\n\r\n  function drawForLine(line, fromArg, toArg) {\r\n    var lineObj = getLine(doc, line)\r\n    var lineLen = lineObj.text.length\r\n    var start, end\r\n    function coords(ch, bias) {\r\n      return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\r\n    }\r\n\r\n    iterateBidiSections(getOrder(lineObj), fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir) {\r\n      var leftPos = coords(from, \"left\"), rightPos, left, right\r\n      if (from == to) {\r\n        rightPos = leftPos\r\n        left = right = leftPos.left\r\n      } else {\r\n        rightPos = coords(to - 1, \"right\")\r\n        if (dir == \"rtl\") { var tmp = leftPos; leftPos = rightPos; rightPos = tmp }\r\n        left = leftPos.left\r\n        right = rightPos.right\r\n      }\r\n      if (fromArg == null && from == 0) { left = leftSide }\r\n      if (rightPos.top - leftPos.top > 3) { // Different lines, draw top part\r\n        add(left, leftPos.top, null, leftPos.bottom)\r\n        left = leftSide\r\n        if (leftPos.bottom < rightPos.top) { add(left, leftPos.bottom, null, rightPos.top) }\r\n      }\r\n      if (toArg == null && to == lineLen) { right = rightSide }\r\n      if (!start || leftPos.top < start.top || leftPos.top == start.top && leftPos.left < start.left)\r\n        { start = leftPos }\r\n      if (!end || rightPos.bottom > end.bottom || rightPos.bottom == end.bottom && rightPos.right > end.right)\r\n        { end = rightPos }\r\n      if (left < leftSide + 1) { left = leftSide }\r\n      add(left, rightPos.top, right - left, rightPos.bottom)\r\n    })\r\n    return {start: start, end: end}\r\n  }\r\n\r\n  var sFrom = range.from(), sTo = range.to()\r\n  if (sFrom.line == sTo.line) {\r\n    drawForLine(sFrom.line, sFrom.ch, sTo.ch)\r\n  } else {\r\n    var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line)\r\n    var singleVLine = visualLine(fromLine) == visualLine(toLine)\r\n    var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end\r\n    var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start\r\n    if (singleVLine) {\r\n      if (leftEnd.top < rightStart.top - 2) {\r\n        add(leftEnd.right, leftEnd.top, null, leftEnd.bottom)\r\n        add(leftSide, rightStart.top, rightStart.left, rightStart.bottom)\r\n      } else {\r\n        add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom)\r\n      }\r\n    }\r\n    if (leftEnd.bottom < rightStart.top)\r\n      { add(leftSide, leftEnd.bottom, null, rightStart.top) }\r\n  }\r\n\r\n  output.appendChild(fragment)\r\n}\r\n\r\n// Cursor-blinking\r\nfunction restartBlink(cm) {\r\n  if (!cm.state.focused) { return }\r\n  var display = cm.display\r\n  clearInterval(display.blinker)\r\n  var on = true\r\n  display.cursorDiv.style.visibility = \"\"\r\n  if (cm.options.cursorBlinkRate > 0)\r\n    { display.blinker = setInterval(function () { return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\"; },\r\n      cm.options.cursorBlinkRate) }\r\n  else if (cm.options.cursorBlinkRate < 0)\r\n    { display.cursorDiv.style.visibility = \"hidden\" }\r\n}\r\n\r\nfunction ensureFocus(cm) {\r\n  if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm) }\r\n}\r\n\r\nfunction delayBlurEvent(cm) {\r\n  cm.state.delayingBlurEvent = true\r\n  setTimeout(function () { if (cm.state.delayingBlurEvent) {\r\n    cm.state.delayingBlurEvent = false\r\n    onBlur(cm)\r\n  } }, 100)\r\n}\r\n\r\nfunction onFocus(cm, e) {\r\n  if (cm.state.delayingBlurEvent) { cm.state.delayingBlurEvent = false }\r\n\r\n  if (cm.options.readOnly == \"nocursor\") { return }\r\n  if (!cm.state.focused) {\r\n    signal(cm, \"focus\", cm, e)\r\n    cm.state.focused = true\r\n    addClass(cm.display.wrapper, \"CodeMirror-focused\")\r\n    // This test prevents this from firing when a context\r\n    // menu is closed (since the input reset would kill the\r\n    // select-all detection hack)\r\n    if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\r\n      cm.display.input.reset()\r\n      if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20) } // Issue #1730\r\n    }\r\n    cm.display.input.receivedFocus()\r\n  }\r\n  restartBlink(cm)\r\n}\r\nfunction onBlur(cm, e) {\r\n  if (cm.state.delayingBlurEvent) { return }\r\n\r\n  if (cm.state.focused) {\r\n    signal(cm, \"blur\", cm, e)\r\n    cm.state.focused = false\r\n    rmClass(cm.display.wrapper, \"CodeMirror-focused\")\r\n  }\r\n  clearInterval(cm.display.blinker)\r\n  setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false } }, 150)\r\n}\r\n\r\n// Re-align line numbers and gutter marks to compensate for\r\n// horizontal scrolling.\r\nfunction alignHorizontally(cm) {\r\n  var display = cm.display, view = display.view\r\n  if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\r\n  var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft\r\n  var gutterW = display.gutters.offsetWidth, left = comp + \"px\"\r\n  for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\r\n    if (cm.options.fixedGutter) {\r\n      if (view[i].gutter)\r\n        { view[i].gutter.style.left = left }\r\n      if (view[i].gutterBackground)\r\n        { view[i].gutterBackground.style.left = left }\r\n    }\r\n    var align = view[i].alignable\r\n    if (align) { for (var j = 0; j < align.length; j++)\r\n      { align[j].style.left = left } }\r\n  } }\r\n  if (cm.options.fixedGutter)\r\n    { display.gutters.style.left = (comp + gutterW) + \"px\" }\r\n}\r\n\r\n// Used to ensure that the line number gutter is still the right\r\n// size for the current document size. Returns true when an update\r\n// is needed.\r\nfunction maybeUpdateLineNumberWidth(cm) {\r\n  if (!cm.options.lineNumbers) { return false }\r\n  var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display\r\n  if (last.length != display.lineNumChars) {\r\n    var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\r\n                                               \"CodeMirror-linenumber CodeMirror-gutter-elt\"))\r\n    var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW\r\n    display.lineGutter.style.width = \"\"\r\n    display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1\r\n    display.lineNumWidth = display.lineNumInnerWidth + padding\r\n    display.lineNumChars = display.lineNumInnerWidth ? last.length : -1\r\n    display.lineGutter.style.width = display.lineNumWidth + \"px\"\r\n    updateGutterSpace(cm)\r\n    return true\r\n  }\r\n  return false\r\n}\r\n\r\n// Read the actual heights of the rendered lines, and update their\r\n// stored heights to match.\r\nfunction updateHeightsInViewport(cm) {\r\n  var display = cm.display\r\n  var prevBottom = display.lineDiv.offsetTop\r\n  for (var i = 0; i < display.view.length; i++) {\r\n    var cur = display.view[i], height = (void 0)\r\n    if (cur.hidden) { continue }\r\n    if (ie && ie_version < 8) {\r\n      var bot = cur.node.offsetTop + cur.node.offsetHeight\r\n      height = bot - prevBottom\r\n      prevBottom = bot\r\n    } else {\r\n      var box = cur.node.getBoundingClientRect()\r\n      height = box.bottom - box.top\r\n    }\r\n    var diff = cur.line.height - height\r\n    if (height < 2) { height = textHeight(display) }\r\n    if (diff > .001 || diff < -.001) {\r\n      updateLineHeight(cur.line, height)\r\n      updateWidgetHeight(cur.line)\r\n      if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\r\n        { updateWidgetHeight(cur.rest[j]) } }\r\n    }\r\n  }\r\n}\r\n\r\n// Read and store the height of line widgets associated with the\r\n// given line.\r\nfunction updateWidgetHeight(line) {\r\n  if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i)\r\n    { line.widgets[i].height = line.widgets[i].node.parentNode.offsetHeight } }\r\n}\r\n\r\n// Compute the lines that are visible in a given viewport (defaults\r\n// the the current scroll position). viewport may contain top,\r\n// height, and ensure (see op.scrollToPos) properties.\r\nfunction visibleLines(display, doc, viewport) {\r\n  var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop\r\n  top = Math.floor(top - paddingTop(display))\r\n  var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight\r\n\r\n  var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom)\r\n  // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\r\n  // forces those lines into the viewport (if possible).\r\n  if (viewport && viewport.ensure) {\r\n    var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line\r\n    if (ensureFrom < from) {\r\n      from = ensureFrom\r\n      to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight)\r\n    } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\r\n      from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight)\r\n      to = ensureTo\r\n    }\r\n  }\r\n  return {from: from, to: Math.max(to, from + 1)}\r\n}\r\n\r\n// Sync the scrollable area and scrollbars, ensure the viewport\r\n// covers the visible area.\r\nfunction setScrollTop(cm, val) {\r\n  if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\r\n  cm.doc.scrollTop = val\r\n  if (!gecko) { updateDisplaySimple(cm, {top: val}) }\r\n  if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val }\r\n  cm.display.scrollbars.setScrollTop(val)\r\n  if (gecko) { updateDisplaySimple(cm) }\r\n  startWorker(cm, 100)\r\n}\r\n// Sync scroller and scrollbar, ensure the gutter elements are\r\n// aligned.\r\nfunction setScrollLeft(cm, val, isScroller) {\r\n  if (isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) { return }\r\n  val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth)\r\n  cm.doc.scrollLeft = val\r\n  alignHorizontally(cm)\r\n  if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val }\r\n  cm.display.scrollbars.setScrollLeft(val)\r\n}\r\n\r\n// Since the delta values reported on mouse wheel events are\r\n// unstandardized between browsers and even browser versions, and\r\n// generally horribly unpredictable, this code starts by measuring\r\n// the scroll effect that the first few mouse wheel events have,\r\n// and, from that, detects the way it can convert deltas to pixel\r\n// offsets afterwards.\r\n//\r\n// The reason we want to know the amount a wheel event will scroll\r\n// is that it gives us a chance to update the display before the\r\n// actual scrolling happens, reducing flickering.\r\n\r\nvar wheelSamples = 0;\r\nvar wheelPixelsPerUnit = null;\r\n// Fill in a browser-detected starting value on browsers where we\r\n// know one. These don't have to be accurate -- the result of them\r\n// being wrong would just be a slight flicker on the first wheel\r\n// scroll (if it is large enough).\r\nif (ie) { wheelPixelsPerUnit = -.53 }\r\nelse if (gecko) { wheelPixelsPerUnit = 15 }\r\nelse if (chrome) { wheelPixelsPerUnit = -.7 }\r\nelse if (safari) { wheelPixelsPerUnit = -1/3 }\r\n\r\nfunction wheelEventDelta(e) {\r\n  var dx = e.wheelDeltaX, dy = e.wheelDeltaY\r\n  if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail }\r\n  if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail }\r\n  else if (dy == null) { dy = e.wheelDelta }\r\n  return {x: dx, y: dy}\r\n}\r\nfunction wheelEventPixels(e) {\r\n  var delta = wheelEventDelta(e)\r\n  delta.x *= wheelPixelsPerUnit\r\n  delta.y *= wheelPixelsPerUnit\r\n  return delta\r\n}\r\n\r\nfunction onScrollWheel(cm, e) {\r\n  var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y\r\n\r\n  var display = cm.display, scroll = display.scroller\r\n  // Quit if there's nothing to scroll here\r\n  var canScrollX = scroll.scrollWidth > scroll.clientWidth\r\n  var canScrollY = scroll.scrollHeight > scroll.clientHeight\r\n  if (!(dx && canScrollX || dy && canScrollY)) { return }\r\n\r\n  // Webkit browsers on OS X abort momentum scrolls when the target\r\n  // of the scroll event is removed from the scrollable element.\r\n  // This hack (see related code in patchDisplay) makes sure the\r\n  // element is kept around.\r\n  if (dy && mac && webkit) {\r\n    outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\r\n      for (var i = 0; i < view.length; i++) {\r\n        if (view[i].node == cur) {\r\n          cm.display.currentWheelTarget = cur\r\n          break outer\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // On some browsers, horizontal scrolling will cause redraws to\r\n  // happen before the gutter has been realigned, causing it to\r\n  // wriggle around in a most unseemly way. When we have an\r\n  // estimated pixels/delta value, we just handle horizontal\r\n  // scrolling entirely here. It'll be slightly off from native, but\r\n  // better than glitching out.\r\n  if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\r\n    if (dy && canScrollY)\r\n      { setScrollTop(cm, Math.max(0, Math.min(scroll.scrollTop + dy * wheelPixelsPerUnit, scroll.scrollHeight - scroll.clientHeight))) }\r\n    setScrollLeft(cm, Math.max(0, Math.min(scroll.scrollLeft + dx * wheelPixelsPerUnit, scroll.scrollWidth - scroll.clientWidth)))\r\n    // Only prevent default scrolling if vertical scrolling is\r\n    // actually possible. Otherwise, it causes vertical scroll\r\n    // jitter on OSX trackpads when deltaX is small and deltaY\r\n    // is large (issue #3579)\r\n    if (!dy || (dy && canScrollY))\r\n      { e_preventDefault(e) }\r\n    display.wheelStartX = null // Abort measurement, if in progress\r\n    return\r\n  }\r\n\r\n  // 'Project' the visible viewport to cover the area that is being\r\n  // scrolled into view (if we know enough to estimate it).\r\n  if (dy && wheelPixelsPerUnit != null) {\r\n    var pixels = dy * wheelPixelsPerUnit\r\n    var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight\r\n    if (pixels < 0) { top = Math.max(0, top + pixels - 50) }\r\n    else { bot = Math.min(cm.doc.height, bot + pixels + 50) }\r\n    updateDisplaySimple(cm, {top: top, bottom: bot})\r\n  }\r\n\r\n  if (wheelSamples < 20) {\r\n    if (display.wheelStartX == null) {\r\n      display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop\r\n      display.wheelDX = dx; display.wheelDY = dy\r\n      setTimeout(function () {\r\n        if (display.wheelStartX == null) { return }\r\n        var movedX = scroll.scrollLeft - display.wheelStartX\r\n        var movedY = scroll.scrollTop - display.wheelStartY\r\n        var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\r\n          (movedX && display.wheelDX && movedX / display.wheelDX)\r\n        display.wheelStartX = display.wheelStartY = null\r\n        if (!sample) { return }\r\n        wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1)\r\n        ++wheelSamples\r\n      }, 200)\r\n    } else {\r\n      display.wheelDX += dx; display.wheelDY += dy\r\n    }\r\n  }\r\n}\r\n\r\n// SCROLLBARS\r\n\r\n// Prepare DOM reads needed to update the scrollbars. Done in one\r\n// shot to minimize update/measure roundtrips.\r\nfunction measureForScrollbars(cm) {\r\n  var d = cm.display, gutterW = d.gutters.offsetWidth\r\n  var docH = Math.round(cm.doc.height + paddingVert(cm.display))\r\n  return {\r\n    clientHeight: d.scroller.clientHeight,\r\n    viewHeight: d.wrapper.clientHeight,\r\n    scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\r\n    viewWidth: d.wrapper.clientWidth,\r\n    barLeft: cm.options.fixedGutter ? gutterW : 0,\r\n    docHeight: docH,\r\n    scrollHeight: docH + scrollGap(cm) + d.barHeight,\r\n    nativeBarWidth: d.nativeBarWidth,\r\n    gutterWidth: gutterW\r\n  }\r\n}\r\n\r\nvar NativeScrollbars = function(place, scroll, cm) {\r\n  this.cm = cm\r\n  var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\")\r\n  var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\")\r\n  place(vert); place(horiz)\r\n\r\n  on(vert, \"scroll\", function () {\r\n    if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\") }\r\n  })\r\n  on(horiz, \"scroll\", function () {\r\n    if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\") }\r\n  })\r\n\r\n  this.checkedZeroWidth = false\r\n  // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\r\n  if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\" }\r\n};\r\n\r\nNativeScrollbars.prototype.update = function (measure) {\r\n  var needsH = measure.scrollWidth > measure.clientWidth + 1\r\n  var needsV = measure.scrollHeight > measure.clientHeight + 1\r\n  var sWidth = measure.nativeBarWidth\r\n\r\n  if (needsV) {\r\n    this.vert.style.display = \"block\"\r\n    this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\"\r\n    var totalHeight = measure.viewHeight - (needsH ? sWidth : 0)\r\n    // A bug in IE8 can cause this value to be negative, so guard it.\r\n    this.vert.firstChild.style.height =\r\n      Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\"\r\n  } else {\r\n    this.vert.style.display = \"\"\r\n    this.vert.firstChild.style.height = \"0\"\r\n  }\r\n\r\n  if (needsH) {\r\n    this.horiz.style.display = \"block\"\r\n    this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\"\r\n    this.horiz.style.left = measure.barLeft + \"px\"\r\n    var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0)\r\n    this.horiz.firstChild.style.width =\r\n      Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\"\r\n  } else {\r\n    this.horiz.style.display = \"\"\r\n    this.horiz.firstChild.style.width = \"0\"\r\n  }\r\n\r\n  if (!this.checkedZeroWidth && measure.clientHeight > 0) {\r\n    if (sWidth == 0) { this.zeroWidthHack() }\r\n    this.checkedZeroWidth = true\r\n  }\r\n\r\n  return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\r\n};\r\n\r\nNativeScrollbars.prototype.setScrollLeft = function (pos) {\r\n  if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos }\r\n  if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz) }\r\n};\r\n\r\nNativeScrollbars.prototype.setScrollTop = function (pos) {\r\n  if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos }\r\n  if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert) }\r\n};\r\n\r\nNativeScrollbars.prototype.zeroWidthHack = function () {\r\n  var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\"\r\n  this.horiz.style.height = this.vert.style.width = w\r\n  this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\"\r\n  this.disableHoriz = new Delayed\r\n  this.disableVert = new Delayed\r\n};\r\n\r\nNativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay) {\r\n  bar.style.pointerEvents = \"auto\"\r\n  function maybeDisable() {\r\n    // To find out whether the scrollbar is still visible, we\r\n    // check whether the element under the pixel in the bottom\r\n    // left corner of the scrollbar box is the scrollbar box\r\n    // itself (when the bar is still visible) or its filler child\r\n    // (when the bar is hidden). If it is still visible, we keep\r\n    // it enabled, if it's hidden, we disable pointer events.\r\n    var box = bar.getBoundingClientRect()\r\n    var elt = document.elementFromPoint(box.left + 1, box.bottom - 1)\r\n    if (elt != bar) { bar.style.pointerEvents = \"none\" }\r\n    else { delay.set(1000, maybeDisable) }\r\n  }\r\n  delay.set(1000, maybeDisable)\r\n};\r\n\r\nNativeScrollbars.prototype.clear = function () {\r\n  var parent = this.horiz.parentNode\r\n  parent.removeChild(this.horiz)\r\n  parent.removeChild(this.vert)\r\n};\r\n\r\nvar NullScrollbars = function () {};\r\n\r\nNullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\r\nNullScrollbars.prototype.setScrollLeft = function () {};\r\nNullScrollbars.prototype.setScrollTop = function () {};\r\nNullScrollbars.prototype.clear = function () {};\r\n\r\nfunction updateScrollbars(cm, measure) {\r\n  if (!measure) { measure = measureForScrollbars(cm) }\r\n  var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight\r\n  updateScrollbarsInner(cm, measure)\r\n  for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\r\n    if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\r\n      { updateHeightsInViewport(cm) }\r\n    updateScrollbarsInner(cm, measureForScrollbars(cm))\r\n    startWidth = cm.display.barWidth; startHeight = cm.display.barHeight\r\n  }\r\n}\r\n\r\n// Re-synchronize the fake scrollbars with the actual size of the\r\n// content.\r\nfunction updateScrollbarsInner(cm, measure) {\r\n  var d = cm.display\r\n  var sizes = d.scrollbars.update(measure)\r\n\r\n  d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\"\r\n  d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\"\r\n  d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\"\r\n\r\n  if (sizes.right && sizes.bottom) {\r\n    d.scrollbarFiller.style.display = \"block\"\r\n    d.scrollbarFiller.style.height = sizes.bottom + \"px\"\r\n    d.scrollbarFiller.style.width = sizes.right + \"px\"\r\n  } else { d.scrollbarFiller.style.display = \"\" }\r\n  if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\r\n    d.gutterFiller.style.display = \"block\"\r\n    d.gutterFiller.style.height = sizes.bottom + \"px\"\r\n    d.gutterFiller.style.width = measure.gutterWidth + \"px\"\r\n  } else { d.gutterFiller.style.display = \"\" }\r\n}\r\n\r\nvar scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars}\r\n\r\nfunction initScrollbars(cm) {\r\n  if (cm.display.scrollbars) {\r\n    cm.display.scrollbars.clear()\r\n    if (cm.display.scrollbars.addClass)\r\n      { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass) }\r\n  }\r\n\r\n  cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\r\n    cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller)\r\n    // Prevent clicks in the scrollbars from killing focus\r\n    on(node, \"mousedown\", function () {\r\n      if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0) }\r\n    })\r\n    node.setAttribute(\"cm-not-content\", \"true\")\r\n  }, function (pos, axis) {\r\n    if (axis == \"horizontal\") { setScrollLeft(cm, pos) }\r\n    else { setScrollTop(cm, pos) }\r\n  }, cm)\r\n  if (cm.display.scrollbars.addClass)\r\n    { addClass(cm.display.wrapper, cm.display.scrollbars.addClass) }\r\n}\r\n\r\n// SCROLLING THINGS INTO VIEW\r\n\r\n// If an editor sits on the top or bottom of the window, partially\r\n// scrolled out of view, this ensures that the cursor is visible.\r\nfunction maybeScrollWindow(cm, coords) {\r\n  if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\r\n\r\n  var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null\r\n  if (coords.top + box.top < 0) { doScroll = true }\r\n  else if (coords.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false }\r\n  if (doScroll != null && !phantom) {\r\n    var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (coords.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (coords.bottom - coords.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (coords.left) + \"px; width: 2px;\"))\r\n    cm.display.lineSpace.appendChild(scrollNode)\r\n    scrollNode.scrollIntoView(doScroll)\r\n    cm.display.lineSpace.removeChild(scrollNode)\r\n  }\r\n}\r\n\r\n// Scroll a given position into view (immediately), verifying that\r\n// it actually became visible (as line heights are accurately\r\n// measured, the position of something may 'drift' during drawing).\r\nfunction scrollPosIntoView(cm, pos, end, margin) {\r\n  if (margin == null) { margin = 0 }\r\n  var coords\r\n  for (var limit = 0; limit < 5; limit++) {\r\n    var changed = false\r\n    coords = cursorCoords(cm, pos)\r\n    var endCoords = !end || end == pos ? coords : cursorCoords(cm, end)\r\n    var scrollPos = calculateScrollPos(cm, Math.min(coords.left, endCoords.left),\r\n                                       Math.min(coords.top, endCoords.top) - margin,\r\n                                       Math.max(coords.left, endCoords.left),\r\n                                       Math.max(coords.bottom, endCoords.bottom) + margin)\r\n    var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft\r\n    if (scrollPos.scrollTop != null) {\r\n      setScrollTop(cm, scrollPos.scrollTop)\r\n      if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true }\r\n    }\r\n    if (scrollPos.scrollLeft != null) {\r\n      setScrollLeft(cm, scrollPos.scrollLeft)\r\n      if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true }\r\n    }\r\n    if (!changed) { break }\r\n  }\r\n  return coords\r\n}\r\n\r\n// Scroll a given set of coordinates into view (immediately).\r\nfunction scrollIntoView(cm, x1, y1, x2, y2) {\r\n  var scrollPos = calculateScrollPos(cm, x1, y1, x2, y2)\r\n  if (scrollPos.scrollTop != null) { setScrollTop(cm, scrollPos.scrollTop) }\r\n  if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft) }\r\n}\r\n\r\n// Calculate a new scroll position needed to scroll the given\r\n// rectangle into view. Returns an object with scrollTop and\r\n// scrollLeft properties. When these are undefined, the\r\n// vertical/horizontal position does not need to be adjusted.\r\nfunction calculateScrollPos(cm, x1, y1, x2, y2) {\r\n  var display = cm.display, snapMargin = textHeight(cm.display)\r\n  if (y1 < 0) { y1 = 0 }\r\n  var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop\r\n  var screen = displayHeight(cm), result = {}\r\n  if (y2 - y1 > screen) { y2 = y1 + screen }\r\n  var docBottom = cm.doc.height + paddingVert(display)\r\n  var atTop = y1 < snapMargin, atBottom = y2 > docBottom - snapMargin\r\n  if (y1 < screentop) {\r\n    result.scrollTop = atTop ? 0 : y1\r\n  } else if (y2 > screentop + screen) {\r\n    var newTop = Math.min(y1, (atBottom ? docBottom : y2) - screen)\r\n    if (newTop != screentop) { result.scrollTop = newTop }\r\n  }\r\n\r\n  var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft\r\n  var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0)\r\n  var tooWide = x2 - x1 > screenw\r\n  if (tooWide) { x2 = x1 + screenw }\r\n  if (x1 < 10)\r\n    { result.scrollLeft = 0 }\r\n  else if (x1 < screenleft)\r\n    { result.scrollLeft = Math.max(0, x1 - (tooWide ? 0 : 10)) }\r\n  else if (x2 > screenw + screenleft - 3)\r\n    { result.scrollLeft = x2 + (tooWide ? 0 : 10) - screenw }\r\n  return result\r\n}\r\n\r\n// Store a relative adjustment to the scroll position in the current\r\n// operation (to be applied when the operation finishes).\r\nfunction addToScrollPos(cm, left, top) {\r\n  if (left != null || top != null) { resolveScrollToPos(cm) }\r\n  if (left != null)\r\n    { cm.curOp.scrollLeft = (cm.curOp.scrollLeft == null ? cm.doc.scrollLeft : cm.curOp.scrollLeft) + left }\r\n  if (top != null)\r\n    { cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top }\r\n}\r\n\r\n// Make sure that at the end of the operation the current cursor is\r\n// shown.\r\nfunction ensureCursorVisible(cm) {\r\n  resolveScrollToPos(cm)\r\n  var cur = cm.getCursor(), from = cur, to = cur\r\n  if (!cm.options.lineWrapping) {\r\n    from = cur.ch ? Pos(cur.line, cur.ch - 1) : cur\r\n    to = Pos(cur.line, cur.ch + 1)\r\n  }\r\n  cm.curOp.scrollToPos = {from: from, to: to, margin: cm.options.cursorScrollMargin, isCursor: true}\r\n}\r\n\r\n// When an operation has its scrollToPos property set, and another\r\n// scroll action is applied before the end of the operation, this\r\n// 'simulates' scrolling that position into view in a cheap way, so\r\n// that the effect of intermediate scroll commands is not ignored.\r\nfunction resolveScrollToPos(cm) {\r\n  var range = cm.curOp.scrollToPos\r\n  if (range) {\r\n    cm.curOp.scrollToPos = null\r\n    var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to)\r\n    var sPos = calculateScrollPos(cm, Math.min(from.left, to.left),\r\n                                  Math.min(from.top, to.top) - range.margin,\r\n                                  Math.max(from.right, to.right),\r\n                                  Math.max(from.bottom, to.bottom) + range.margin)\r\n    cm.scrollTo(sPos.scrollLeft, sPos.scrollTop)\r\n  }\r\n}\r\n\r\n// Operations are used to wrap a series of changes to the editor\r\n// state in such a way that each change won't have to update the\r\n// cursor and display (which would be awkward, slow, and\r\n// error-prone). Instead, display updates are batched and then all\r\n// combined and executed at once.\r\n\r\nvar nextOpId = 0\r\n// Start a new operation.\r\nfunction startOperation(cm) {\r\n  cm.curOp = {\r\n    cm: cm,\r\n    viewChanged: false,      // Flag that indicates that lines might need to be redrawn\r\n    startHeight: cm.doc.height, // Used to detect need to update scrollbar\r\n    forceUpdate: false,      // Used to force a redraw\r\n    updateInput: null,       // Whether to reset the input textarea\r\n    typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\r\n    changeObjs: null,        // Accumulated changes, for firing change events\r\n    cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\r\n    cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\r\n    selectionChanged: false, // Whether the selection needs to be redrawn\r\n    updateMaxLine: false,    // Set when the widest line needs to be determined anew\r\n    scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\r\n    scrollToPos: null,       // Used to scroll to a specific position\r\n    focus: false,\r\n    id: ++nextOpId           // Unique ID\r\n  }\r\n  pushOperation(cm.curOp)\r\n}\r\n\r\n// Finish an operation, updating the display and signalling delayed events\r\nfunction endOperation(cm) {\r\n  var op = cm.curOp\r\n  finishOperation(op, function (group) {\r\n    for (var i = 0; i < group.ops.length; i++)\r\n      { group.ops[i].cm.curOp = null }\r\n    endOperations(group)\r\n  })\r\n}\r\n\r\n// The DOM updates done when an operation finishes are batched so\r\n// that the minimum number of relayouts are required.\r\nfunction endOperations(group) {\r\n  var ops = group.ops\r\n  for (var i = 0; i < ops.length; i++) // Read DOM\r\n    { endOperation_R1(ops[i]) }\r\n  for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\r\n    { endOperation_W1(ops[i$1]) }\r\n  for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\r\n    { endOperation_R2(ops[i$2]) }\r\n  for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\r\n    { endOperation_W2(ops[i$3]) }\r\n  for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\r\n    { endOperation_finish(ops[i$4]) }\r\n}\r\n\r\nfunction endOperation_R1(op) {\r\n  var cm = op.cm, display = cm.display\r\n  maybeClipScrollbars(cm)\r\n  if (op.updateMaxLine) { findMaxLine(cm) }\r\n\r\n  op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\r\n    op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\r\n                       op.scrollToPos.to.line >= display.viewTo) ||\r\n    display.maxLineChanged && cm.options.lineWrapping\r\n  op.update = op.mustUpdate &&\r\n    new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate)\r\n}\r\n\r\nfunction endOperation_W1(op) {\r\n  op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update)\r\n}\r\n\r\nfunction endOperation_R2(op) {\r\n  var cm = op.cm, display = cm.display\r\n  if (op.updatedDisplay) { updateHeightsInViewport(cm) }\r\n\r\n  op.barMeasure = measureForScrollbars(cm)\r\n\r\n  // If the max line changed since it was last measured, measure it,\r\n  // and ensure the document's width matches it.\r\n  // updateDisplay_W2 will use these properties to do the actual resizing\r\n  if (display.maxLineChanged && !cm.options.lineWrapping) {\r\n    op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3\r\n    cm.display.sizerWidth = op.adjustWidthTo\r\n    op.barMeasure.scrollWidth =\r\n      Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth)\r\n    op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm))\r\n  }\r\n\r\n  if (op.updatedDisplay || op.selectionChanged)\r\n    { op.preparedSelection = display.input.prepareSelection(op.focus) }\r\n}\r\n\r\nfunction endOperation_W2(op) {\r\n  var cm = op.cm\r\n\r\n  if (op.adjustWidthTo != null) {\r\n    cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\"\r\n    if (op.maxScrollLeft < cm.doc.scrollLeft)\r\n      { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true) }\r\n    cm.display.maxLineChanged = false\r\n  }\r\n\r\n  var takeFocus = op.focus && op.focus == activeElt() && (!document.hasFocus || document.hasFocus())\r\n  if (op.preparedSelection)\r\n    { cm.display.input.showSelection(op.preparedSelection, takeFocus) }\r\n  if (op.updatedDisplay || op.startHeight != cm.doc.height)\r\n    { updateScrollbars(cm, op.barMeasure) }\r\n  if (op.updatedDisplay)\r\n    { setDocumentHeight(cm, op.barMeasure) }\r\n\r\n  if (op.selectionChanged) { restartBlink(cm) }\r\n\r\n  if (cm.state.focused && op.updateInput)\r\n    { cm.display.input.reset(op.typing) }\r\n  if (takeFocus) { ensureFocus(op.cm) }\r\n}\r\n\r\nfunction endOperation_finish(op) {\r\n  var cm = op.cm, display = cm.display, doc = cm.doc\r\n\r\n  if (op.updatedDisplay) { postUpdateDisplay(cm, op.update) }\r\n\r\n  // Abort mouse wheel delta measurement, when scrolling explicitly\r\n  if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\r\n    { display.wheelStartX = display.wheelStartY = null }\r\n\r\n  // Propagate the scroll position to the actual DOM scroller\r\n  if (op.scrollTop != null && (display.scroller.scrollTop != op.scrollTop || op.forceScroll)) {\r\n    doc.scrollTop = Math.max(0, Math.min(display.scroller.scrollHeight - display.scroller.clientHeight, op.scrollTop))\r\n    display.scrollbars.setScrollTop(doc.scrollTop)\r\n    display.scroller.scrollTop = doc.scrollTop\r\n  }\r\n  if (op.scrollLeft != null && (display.scroller.scrollLeft != op.scrollLeft || op.forceScroll)) {\r\n    doc.scrollLeft = Math.max(0, Math.min(display.scroller.scrollWidth - display.scroller.clientWidth, op.scrollLeft))\r\n    display.scrollbars.setScrollLeft(doc.scrollLeft)\r\n    display.scroller.scrollLeft = doc.scrollLeft\r\n    alignHorizontally(cm)\r\n  }\r\n  // If we need to scroll a specific position into view, do so.\r\n  if (op.scrollToPos) {\r\n    var coords = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\r\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin)\r\n    if (op.scrollToPos.isCursor && cm.state.focused) { maybeScrollWindow(cm, coords) }\r\n  }\r\n\r\n  // Fire events for markers that are hidden/unidden by editing or\r\n  // undoing\r\n  var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers\r\n  if (hidden) { for (var i = 0; i < hidden.length; ++i)\r\n    { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\") } } }\r\n  if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\r\n    { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\") } } }\r\n\r\n  if (display.wrapper.offsetHeight)\r\n    { doc.scrollTop = cm.display.scroller.scrollTop }\r\n\r\n  // Fire change events, and delayed event handlers\r\n  if (op.changeObjs)\r\n    { signal(cm, \"changes\", cm, op.changeObjs) }\r\n  if (op.update)\r\n    { op.update.finish() }\r\n}\r\n\r\n// Run the given function in an operation\r\nfunction runInOp(cm, f) {\r\n  if (cm.curOp) { return f() }\r\n  startOperation(cm)\r\n  try { return f() }\r\n  finally { endOperation(cm) }\r\n}\r\n// Wraps a function in an operation. Returns the wrapped function.\r\nfunction operation(cm, f) {\r\n  return function() {\r\n    if (cm.curOp) { return f.apply(cm, arguments) }\r\n    startOperation(cm)\r\n    try { return f.apply(cm, arguments) }\r\n    finally { endOperation(cm) }\r\n  }\r\n}\r\n// Used to add methods to editor and doc instances, wrapping them in\r\n// operations.\r\nfunction methodOp(f) {\r\n  return function() {\r\n    if (this.curOp) { return f.apply(this, arguments) }\r\n    startOperation(this)\r\n    try { return f.apply(this, arguments) }\r\n    finally { endOperation(this) }\r\n  }\r\n}\r\nfunction docMethodOp(f) {\r\n  return function() {\r\n    var cm = this.cm\r\n    if (!cm || cm.curOp) { return f.apply(this, arguments) }\r\n    startOperation(cm)\r\n    try { return f.apply(this, arguments) }\r\n    finally { endOperation(cm) }\r\n  }\r\n}\r\n\r\n// Updates the display.view data structure for a given change to the\r\n// document. From and to are in pre-change coordinates. Lendiff is\r\n// the amount of lines added or subtracted by the change. This is\r\n// used for changes that span multiple lines, or change the way\r\n// lines are divided into visual lines. regLineChange (below)\r\n// registers single-line changes.\r\nfunction regChange(cm, from, to, lendiff) {\r\n  if (from == null) { from = cm.doc.first }\r\n  if (to == null) { to = cm.doc.first + cm.doc.size }\r\n  if (!lendiff) { lendiff = 0 }\r\n\r\n  var display = cm.display\r\n  if (lendiff && to < display.viewTo &&\r\n      (display.updateLineNumbers == null || display.updateLineNumbers > from))\r\n    { display.updateLineNumbers = from }\r\n\r\n  cm.curOp.viewChanged = true\r\n\r\n  if (from >= display.viewTo) { // Change after\r\n    if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\r\n      { resetView(cm) }\r\n  } else if (to <= display.viewFrom) { // Change before\r\n    if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\r\n      resetView(cm)\r\n    } else {\r\n      display.viewFrom += lendiff\r\n      display.viewTo += lendiff\r\n    }\r\n  } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\r\n    resetView(cm)\r\n  } else if (from <= display.viewFrom) { // Top overlap\r\n    var cut = viewCuttingPoint(cm, to, to + lendiff, 1)\r\n    if (cut) {\r\n      display.view = display.view.slice(cut.index)\r\n      display.viewFrom = cut.lineN\r\n      display.viewTo += lendiff\r\n    } else {\r\n      resetView(cm)\r\n    }\r\n  } else if (to >= display.viewTo) { // Bottom overlap\r\n    var cut$1 = viewCuttingPoint(cm, from, from, -1)\r\n    if (cut$1) {\r\n      display.view = display.view.slice(0, cut$1.index)\r\n      display.viewTo = cut$1.lineN\r\n    } else {\r\n      resetView(cm)\r\n    }\r\n  } else { // Gap in the middle\r\n    var cutTop = viewCuttingPoint(cm, from, from, -1)\r\n    var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1)\r\n    if (cutTop && cutBot) {\r\n      display.view = display.view.slice(0, cutTop.index)\r\n        .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\r\n        .concat(display.view.slice(cutBot.index))\r\n      display.viewTo += lendiff\r\n    } else {\r\n      resetView(cm)\r\n    }\r\n  }\r\n\r\n  var ext = display.externalMeasured\r\n  if (ext) {\r\n    if (to < ext.lineN)\r\n      { ext.lineN += lendiff }\r\n    else if (from < ext.lineN + ext.size)\r\n      { display.externalMeasured = null }\r\n  }\r\n}\r\n\r\n// Register a change to a single line. Type must be one of \"text\",\r\n// \"gutter\", \"class\", \"widget\"\r\nfunction regLineChange(cm, line, type) {\r\n  cm.curOp.viewChanged = true\r\n  var display = cm.display, ext = cm.display.externalMeasured\r\n  if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\r\n    { display.externalMeasured = null }\r\n\r\n  if (line < display.viewFrom || line >= display.viewTo) { return }\r\n  var lineView = display.view[findViewIndex(cm, line)]\r\n  if (lineView.node == null) { return }\r\n  var arr = lineView.changes || (lineView.changes = [])\r\n  if (indexOf(arr, type) == -1) { arr.push(type) }\r\n}\r\n\r\n// Clear the view.\r\nfunction resetView(cm) {\r\n  cm.display.viewFrom = cm.display.viewTo = cm.doc.first\r\n  cm.display.view = []\r\n  cm.display.viewOffset = 0\r\n}\r\n\r\nfunction viewCuttingPoint(cm, oldN, newN, dir) {\r\n  var index = findViewIndex(cm, oldN), diff, view = cm.display.view\r\n  if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\r\n    { return {index: index, lineN: newN} }\r\n  var n = cm.display.viewFrom\r\n  for (var i = 0; i < index; i++)\r\n    { n += view[i].size }\r\n  if (n != oldN) {\r\n    if (dir > 0) {\r\n      if (index == view.length - 1) { return null }\r\n      diff = (n + view[index].size) - oldN\r\n      index++\r\n    } else {\r\n      diff = n - oldN\r\n    }\r\n    oldN += diff; newN += diff\r\n  }\r\n  while (visualLineNo(cm.doc, newN) != newN) {\r\n    if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\r\n    newN += dir * view[index - (dir < 0 ? 1 : 0)].size\r\n    index += dir\r\n  }\r\n  return {index: index, lineN: newN}\r\n}\r\n\r\n// Force the view to cover a given range, adding empty view element\r\n// or clipping off existing ones as needed.\r\nfunction adjustView(cm, from, to) {\r\n  var display = cm.display, view = display.view\r\n  if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\r\n    display.view = buildViewArray(cm, from, to)\r\n    display.viewFrom = from\r\n  } else {\r\n    if (display.viewFrom > from)\r\n      { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view) }\r\n    else if (display.viewFrom < from)\r\n      { display.view = display.view.slice(findViewIndex(cm, from)) }\r\n    display.viewFrom = from\r\n    if (display.viewTo < to)\r\n      { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)) }\r\n    else if (display.viewTo > to)\r\n      { display.view = display.view.slice(0, findViewIndex(cm, to)) }\r\n  }\r\n  display.viewTo = to\r\n}\r\n\r\n// Count the number of lines in the view whose DOM representation is\r\n// out of date (or nonexistent).\r\nfunction countDirtyView(cm) {\r\n  var view = cm.display.view, dirty = 0\r\n  for (var i = 0; i < view.length; i++) {\r\n    var lineView = view[i]\r\n    if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty }\r\n  }\r\n  return dirty\r\n}\r\n\r\n// HIGHLIGHT WORKER\r\n\r\nfunction startWorker(cm, time) {\r\n  if (cm.doc.mode.startState && cm.doc.frontier < cm.display.viewTo)\r\n    { cm.state.highlight.set(time, bind(highlightWorker, cm)) }\r\n}\r\n\r\nfunction highlightWorker(cm) {\r\n  var doc = cm.doc\r\n  if (doc.frontier < doc.first) { doc.frontier = doc.first }\r\n  if (doc.frontier >= cm.display.viewTo) { return }\r\n  var end = +new Date + cm.options.workTime\r\n  var state = copyState(doc.mode, getStateBefore(cm, doc.frontier))\r\n  var changedLines = []\r\n\r\n  doc.iter(doc.frontier, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\r\n    if (doc.frontier >= cm.display.viewFrom) { // Visible\r\n      var oldStyles = line.styles, tooLong = line.text.length > cm.options.maxHighlightLength\r\n      var highlighted = highlightLine(cm, line, tooLong ? copyState(doc.mode, state) : state, true)\r\n      line.styles = highlighted.styles\r\n      var oldCls = line.styleClasses, newCls = highlighted.classes\r\n      if (newCls) { line.styleClasses = newCls }\r\n      else if (oldCls) { line.styleClasses = null }\r\n      var ischange = !oldStyles || oldStyles.length != line.styles.length ||\r\n        oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass)\r\n      for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i] }\r\n      if (ischange) { changedLines.push(doc.frontier) }\r\n      line.stateAfter = tooLong ? state : copyState(doc.mode, state)\r\n    } else {\r\n      if (line.text.length <= cm.options.maxHighlightLength)\r\n        { processLine(cm, line.text, state) }\r\n      line.stateAfter = doc.frontier % 5 == 0 ? copyState(doc.mode, state) : null\r\n    }\r\n    ++doc.frontier\r\n    if (+new Date > end) {\r\n      startWorker(cm, cm.options.workDelay)\r\n      return true\r\n    }\r\n  })\r\n  if (changedLines.length) { runInOp(cm, function () {\r\n    for (var i = 0; i < changedLines.length; i++)\r\n      { regLineChange(cm, changedLines[i], \"text\") }\r\n  }) }\r\n}\r\n\r\n// DISPLAY DRAWING\r\n\r\nvar DisplayUpdate = function(cm, viewport, force) {\r\n  var display = cm.display\r\n\r\n  this.viewport = viewport\r\n  // Store some values that we'll need later (but don't want to force a relayout for)\r\n  this.visible = visibleLines(display, cm.doc, viewport)\r\n  this.editorIsHidden = !display.wrapper.offsetWidth\r\n  this.wrapperHeight = display.wrapper.clientHeight\r\n  this.wrapperWidth = display.wrapper.clientWidth\r\n  this.oldDisplayWidth = displayWidth(cm)\r\n  this.force = force\r\n  this.dims = getDimensions(cm)\r\n  this.events = []\r\n};\r\n\r\nDisplayUpdate.prototype.signal = function (emitter, type) {\r\n  if (hasHandler(emitter, type))\r\n    { this.events.push(arguments) }\r\n};\r\nDisplayUpdate.prototype.finish = function () {\r\n    var this$1 = this;\r\n\r\n  for (var i = 0; i < this.events.length; i++)\r\n    { signal.apply(null, this$1.events[i]) }\r\n};\r\n\r\nfunction maybeClipScrollbars(cm) {\r\n  var display = cm.display\r\n  if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\r\n    display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth\r\n    display.heightForcer.style.height = scrollGap(cm) + \"px\"\r\n    display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\"\r\n    display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\"\r\n    display.scrollbarsClipped = true\r\n  }\r\n}\r\n\r\n// Does the actual updating of the line display. Bails out\r\n// (returning false) when there is nothing to be done and forced is\r\n// false.\r\nfunction updateDisplayIfNeeded(cm, update) {\r\n  var display = cm.display, doc = cm.doc\r\n\r\n  if (update.editorIsHidden) {\r\n    resetView(cm)\r\n    return false\r\n  }\r\n\r\n  // Bail out if the visible area is already rendered and nothing changed.\r\n  if (!update.force &&\r\n      update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\r\n      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\r\n      display.renderedView == display.view && countDirtyView(cm) == 0)\r\n    { return false }\r\n\r\n  if (maybeUpdateLineNumberWidth(cm)) {\r\n    resetView(cm)\r\n    update.dims = getDimensions(cm)\r\n  }\r\n\r\n  // Compute a suitable new viewport (from & to)\r\n  var end = doc.first + doc.size\r\n  var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first)\r\n  var to = Math.min(end, update.visible.to + cm.options.viewportMargin)\r\n  if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom) }\r\n  if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo) }\r\n  if (sawCollapsedSpans) {\r\n    from = visualLineNo(cm.doc, from)\r\n    to = visualLineEndNo(cm.doc, to)\r\n  }\r\n\r\n  var different = from != display.viewFrom || to != display.viewTo ||\r\n    display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth\r\n  adjustView(cm, from, to)\r\n\r\n  display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom))\r\n  // Position the mover div to align with the current scroll position\r\n  cm.display.mover.style.top = display.viewOffset + \"px\"\r\n\r\n  var toUpdate = countDirtyView(cm)\r\n  if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\r\n      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\r\n    { return false }\r\n\r\n  // For big changes, we hide the enclosing element during the\r\n  // update, since that speeds up the operations on most browsers.\r\n  var focused = activeElt()\r\n  if (toUpdate > 4) { display.lineDiv.style.display = \"none\" }\r\n  patchDisplay(cm, display.updateLineNumbers, update.dims)\r\n  if (toUpdate > 4) { display.lineDiv.style.display = \"\" }\r\n  display.renderedView = display.view\r\n  // There might have been a widget with a focused element that got\r\n  // hidden or updated, if so re-focus it.\r\n  if (focused && activeElt() != focused && focused.offsetHeight) { focused.focus() }\r\n\r\n  // Prevent selection and cursors from interfering with the scroll\r\n  // width and height.\r\n  removeChildren(display.cursorDiv)\r\n  removeChildren(display.selectionDiv)\r\n  display.gutters.style.height = display.sizer.style.minHeight = 0\r\n\r\n  if (different) {\r\n    display.lastWrapHeight = update.wrapperHeight\r\n    display.lastWrapWidth = update.wrapperWidth\r\n    startWorker(cm, 400)\r\n  }\r\n\r\n  display.updateLineNumbers = null\r\n\r\n  return true\r\n}\r\n\r\nfunction postUpdateDisplay(cm, update) {\r\n  var viewport = update.viewport\r\n\r\n  for (var first = true;; first = false) {\r\n    if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\r\n      // Clip forced viewport to actual scrollable area.\r\n      if (viewport && viewport.top != null)\r\n        { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)} }\r\n      // Updated line heights might result in the drawn area not\r\n      // actually covering the viewport. Keep looping until it does.\r\n      update.visible = visibleLines(cm.display, cm.doc, viewport)\r\n      if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\r\n        { break }\r\n    }\r\n    if (!updateDisplayIfNeeded(cm, update)) { break }\r\n    updateHeightsInViewport(cm)\r\n    var barMeasure = measureForScrollbars(cm)\r\n    updateSelection(cm)\r\n    updateScrollbars(cm, barMeasure)\r\n    setDocumentHeight(cm, barMeasure)\r\n  }\r\n\r\n  update.signal(cm, \"update\", cm)\r\n  if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\r\n    update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo)\r\n    cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo\r\n  }\r\n}\r\n\r\nfunction updateDisplaySimple(cm, viewport) {\r\n  var update = new DisplayUpdate(cm, viewport)\r\n  if (updateDisplayIfNeeded(cm, update)) {\r\n    updateHeightsInViewport(cm)\r\n    postUpdateDisplay(cm, update)\r\n    var barMeasure = measureForScrollbars(cm)\r\n    updateSelection(cm)\r\n    updateScrollbars(cm, barMeasure)\r\n    setDocumentHeight(cm, barMeasure)\r\n    update.finish()\r\n  }\r\n}\r\n\r\n// Sync the actual display DOM structure with display.view, removing\r\n// nodes for lines that are no longer in view, and creating the ones\r\n// that are not there yet, and updating the ones that are out of\r\n// date.\r\nfunction patchDisplay(cm, updateNumbersFrom, dims) {\r\n  var display = cm.display, lineNumbers = cm.options.lineNumbers\r\n  var container = display.lineDiv, cur = container.firstChild\r\n\r\n  function rm(node) {\r\n    var next = node.nextSibling\r\n    // Works around a throw-scroll bug in OS X Webkit\r\n    if (webkit && mac && cm.display.currentWheelTarget == node)\r\n      { node.style.display = \"none\" }\r\n    else\r\n      { node.parentNode.removeChild(node) }\r\n    return next\r\n  }\r\n\r\n  var view = display.view, lineN = display.viewFrom\r\n  // Loop over the elements in the view, syncing cur (the DOM nodes\r\n  // in display.lineDiv) with the view as we go.\r\n  for (var i = 0; i < view.length; i++) {\r\n    var lineView = view[i]\r\n    if (lineView.hidden) {\r\n    } else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\r\n      var node = buildLineElement(cm, lineView, lineN, dims)\r\n      container.insertBefore(node, cur)\r\n    } else { // Already drawn\r\n      while (cur != lineView.node) { cur = rm(cur) }\r\n      var updateNumber = lineNumbers && updateNumbersFrom != null &&\r\n        updateNumbersFrom <= lineN && lineView.lineNumber\r\n      if (lineView.changes) {\r\n        if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false }\r\n        updateLineForChanges(cm, lineView, lineN, dims)\r\n      }\r\n      if (updateNumber) {\r\n        removeChildren(lineView.lineNumber)\r\n        lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)))\r\n      }\r\n      cur = lineView.node.nextSibling\r\n    }\r\n    lineN += lineView.size\r\n  }\r\n  while (cur) { cur = rm(cur) }\r\n}\r\n\r\nfunction updateGutterSpace(cm) {\r\n  var width = cm.display.gutters.offsetWidth\r\n  cm.display.sizer.style.marginLeft = width + \"px\"\r\n}\r\n\r\nfunction setDocumentHeight(cm, measure) {\r\n  cm.display.sizer.style.minHeight = measure.docHeight + \"px\"\r\n  cm.display.heightForcer.style.top = measure.docHeight + \"px\"\r\n  cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\"\r\n}\r\n\r\n// Rebuild the gutter elements, ensure the margin to the left of the\r\n// code matches their width.\r\nfunction updateGutters(cm) {\r\n  var gutters = cm.display.gutters, specs = cm.options.gutters\r\n  removeChildren(gutters)\r\n  var i = 0\r\n  for (; i < specs.length; ++i) {\r\n    var gutterClass = specs[i]\r\n    var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + gutterClass))\r\n    if (gutterClass == \"CodeMirror-linenumbers\") {\r\n      cm.display.lineGutter = gElt\r\n      gElt.style.width = (cm.display.lineNumWidth || 1) + \"px\"\r\n    }\r\n  }\r\n  gutters.style.display = i ? \"\" : \"none\"\r\n  updateGutterSpace(cm)\r\n}\r\n\r\n// Make sure the gutters options contains the element\r\n// \"CodeMirror-linenumbers\" when the lineNumbers option is true.\r\nfunction setGuttersForLineNumbers(options) {\r\n  var found = indexOf(options.gutters, \"CodeMirror-linenumbers\")\r\n  if (found == -1 && options.lineNumbers) {\r\n    options.gutters = options.gutters.concat([\"CodeMirror-linenumbers\"])\r\n  } else if (found > -1 && !options.lineNumbers) {\r\n    options.gutters = options.gutters.slice(0)\r\n    options.gutters.splice(found, 1)\r\n  }\r\n}\r\n\r\n// Selection objects are immutable. A new one is created every time\r\n// the selection changes. A selection is one or more non-overlapping\r\n// (and non-touching) ranges, sorted, and an integer that indicates\r\n// which one is the primary selection (the one that's scrolled into\r\n// view, that getCursor returns, etc).\r\nvar Selection = function(ranges, primIndex) {\r\n  this.ranges = ranges\r\n  this.primIndex = primIndex\r\n};\r\n\r\nSelection.prototype.primary = function () { return this.ranges[this.primIndex] };\r\n\r\nSelection.prototype.equals = function (other) {\r\n    var this$1 = this;\r\n\r\n  if (other == this) { return true }\r\n  if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\r\n  for (var i = 0; i < this.ranges.length; i++) {\r\n    var here = this$1.ranges[i], there = other.ranges[i]\r\n    if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\r\n  }\r\n  return true\r\n};\r\n\r\nSelection.prototype.deepCopy = function () {\r\n    var this$1 = this;\r\n\r\n  var out = []\r\n  for (var i = 0; i < this.ranges.length; i++)\r\n    { out[i] = new Range(copyPos(this$1.ranges[i].anchor), copyPos(this$1.ranges[i].head)) }\r\n  return new Selection(out, this.primIndex)\r\n};\r\n\r\nSelection.prototype.somethingSelected = function () {\r\n    var this$1 = this;\r\n\r\n  for (var i = 0; i < this.ranges.length; i++)\r\n    { if (!this$1.ranges[i].empty()) { return true } }\r\n  return false\r\n};\r\n\r\nSelection.prototype.contains = function (pos, end) {\r\n    var this$1 = this;\r\n\r\n  if (!end) { end = pos }\r\n  for (var i = 0; i < this.ranges.length; i++) {\r\n    var range = this$1.ranges[i]\r\n    if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\r\n      { return i }\r\n  }\r\n  return -1\r\n};\r\n\r\nvar Range = function(anchor, head) {\r\n  this.anchor = anchor; this.head = head\r\n};\r\n\r\nRange.prototype.from = function () { return minPos(this.anchor, this.head) };\r\nRange.prototype.to = function () { return maxPos(this.anchor, this.head) };\r\nRange.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\r\n\r\n// Take an unsorted, potentially overlapping set of ranges, and\r\n// build a selection out of it. 'Consumes' ranges array (modifying\r\n// it).\r\nfunction normalizeSelection(ranges, primIndex) {\r\n  var prim = ranges[primIndex]\r\n  ranges.sort(function (a, b) { return cmp(a.from(), b.from()); })\r\n  primIndex = indexOf(ranges, prim)\r\n  for (var i = 1; i < ranges.length; i++) {\r\n    var cur = ranges[i], prev = ranges[i - 1]\r\n    if (cmp(prev.to(), cur.from()) >= 0) {\r\n      var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to())\r\n      var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head\r\n      if (i <= primIndex) { --primIndex }\r\n      ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to))\r\n    }\r\n  }\r\n  return new Selection(ranges, primIndex)\r\n}\r\n\r\nfunction simpleSelection(anchor, head) {\r\n  return new Selection([new Range(anchor, head || anchor)], 0)\r\n}\r\n\r\n// Compute the position of the end of a change (its 'to' property\r\n// refers to the pre-change end).\r\nfunction changeEnd(change) {\r\n  if (!change.text) { return change.to }\r\n  return Pos(change.from.line + change.text.length - 1,\r\n             lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\r\n}\r\n\r\n// Adjust a position to refer to the post-change position of the\r\n// same text, or the end of the change if the change covers it.\r\nfunction adjustForChange(pos, change) {\r\n  if (cmp(pos, change.from) < 0) { return pos }\r\n  if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\r\n\r\n  var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch\r\n  if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch }\r\n  return Pos(line, ch)\r\n}\r\n\r\nfunction computeSelAfterChange(doc, change) {\r\n  var out = []\r\n  for (var i = 0; i < doc.sel.ranges.length; i++) {\r\n    var range = doc.sel.ranges[i]\r\n    out.push(new Range(adjustForChange(range.anchor, change),\r\n                       adjustForChange(range.head, change)))\r\n  }\r\n  return normalizeSelection(out, doc.sel.primIndex)\r\n}\r\n\r\nfunction offsetPos(pos, old, nw) {\r\n  if (pos.line == old.line)\r\n    { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\r\n  else\r\n    { return Pos(nw.line + (pos.line - old.line), pos.ch) }\r\n}\r\n\r\n// Used by replaceSelections to allow moving the selection to the\r\n// start or around the replaced test. Hint may be \"start\" or \"around\".\r\nfunction computeReplacedSel(doc, changes, hint) {\r\n  var out = []\r\n  var oldPrev = Pos(doc.first, 0), newPrev = oldPrev\r\n  for (var i = 0; i < changes.length; i++) {\r\n    var change = changes[i]\r\n    var from = offsetPos(change.from, oldPrev, newPrev)\r\n    var to = offsetPos(changeEnd(change), oldPrev, newPrev)\r\n    oldPrev = change.to\r\n    newPrev = to\r\n    if (hint == \"around\") {\r\n      var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0\r\n      out[i] = new Range(inv ? to : from, inv ? from : to)\r\n    } else {\r\n      out[i] = new Range(from, from)\r\n    }\r\n  }\r\n  return new Selection(out, doc.sel.primIndex)\r\n}\r\n\r\n// Used to get the editor into a consistent state again when options change.\r\n\r\nfunction loadMode(cm) {\r\n  cm.doc.mode = getMode(cm.options, cm.doc.modeOption)\r\n  resetModeState(cm)\r\n}\r\n\r\nfunction resetModeState(cm) {\r\n  cm.doc.iter(function (line) {\r\n    if (line.stateAfter) { line.stateAfter = null }\r\n    if (line.styles) { line.styles = null }\r\n  })\r\n  cm.doc.frontier = cm.doc.first\r\n  startWorker(cm, 100)\r\n  cm.state.modeGen++\r\n  if (cm.curOp) { regChange(cm) }\r\n}\r\n\r\n// DOCUMENT DATA STRUCTURE\r\n\r\n// By default, updates that start and end at the beginning of a line\r\n// are treated specially, in order to make the association of line\r\n// widgets and marker elements with the text behave more intuitive.\r\nfunction isWholeLineUpdate(doc, change) {\r\n  return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\r\n    (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\r\n}\r\n\r\n// Perform a change on the document data structure.\r\nfunction updateDoc(doc, change, markedSpans, estimateHeight) {\r\n  function spansFor(n) {return markedSpans ? markedSpans[n] : null}\r\n  function update(line, text, spans) {\r\n    updateLine(line, text, spans, estimateHeight)\r\n    signalLater(line, \"change\", line, change)\r\n  }\r\n  function linesFor(start, end) {\r\n    var result = []\r\n    for (var i = start; i < end; ++i)\r\n      { result.push(new Line(text[i], spansFor(i), estimateHeight)) }\r\n    return result\r\n  }\r\n\r\n  var from = change.from, to = change.to, text = change.text\r\n  var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line)\r\n  var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line\r\n\r\n  // Adjust the line structure\r\n  if (change.full) {\r\n    doc.insert(0, linesFor(0, text.length))\r\n    doc.remove(text.length, doc.size - text.length)\r\n  } else if (isWholeLineUpdate(doc, change)) {\r\n    // This is a whole-line replace. Treated specially to make\r\n    // sure line objects move the way they are supposed to.\r\n    var added = linesFor(0, text.length - 1)\r\n    update(lastLine, lastLine.text, lastSpans)\r\n    if (nlines) { doc.remove(from.line, nlines) }\r\n    if (added.length) { doc.insert(from.line, added) }\r\n  } else if (firstLine == lastLine) {\r\n    if (text.length == 1) {\r\n      update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans)\r\n    } else {\r\n      var added$1 = linesFor(1, text.length - 1)\r\n      added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight))\r\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0))\r\n      doc.insert(from.line + 1, added$1)\r\n    }\r\n  } else if (text.length == 1) {\r\n    update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0))\r\n    doc.remove(from.line + 1, nlines)\r\n  } else {\r\n    update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0))\r\n    update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans)\r\n    var added$2 = linesFor(1, text.length - 1)\r\n    if (nlines > 1) { doc.remove(from.line + 1, nlines - 1) }\r\n    doc.insert(from.line + 1, added$2)\r\n  }\r\n\r\n  signalLater(doc, \"change\", doc, change)\r\n}\r\n\r\n// Call f for all linked documents.\r\nfunction linkedDocs(doc, f, sharedHistOnly) {\r\n  function propagate(doc, skip, sharedHist) {\r\n    if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\r\n      var rel = doc.linked[i]\r\n      if (rel.doc == skip) { continue }\r\n      var shared = sharedHist && rel.sharedHist\r\n      if (sharedHistOnly && !shared) { continue }\r\n      f(rel.doc, shared)\r\n      propagate(rel.doc, doc, shared)\r\n    } }\r\n  }\r\n  propagate(doc, null, true)\r\n}\r\n\r\n// Attach a document to an editor.\r\nfunction attachDoc(cm, doc) {\r\n  if (doc.cm) { throw new Error(\"This document is already in use.\") }\r\n  cm.doc = doc\r\n  doc.cm = cm\r\n  estimateLineHeights(cm)\r\n  loadMode(cm)\r\n  if (!cm.options.lineWrapping) { findMaxLine(cm) }\r\n  cm.options.mode = doc.modeOption\r\n  regChange(cm)\r\n}\r\n\r\nfunction History(startGen) {\r\n  // Arrays of change events and selections. Doing something adds an\r\n  // event to done and clears undo. Undoing moves events from done\r\n  // to undone, redoing moves them in the other direction.\r\n  this.done = []; this.undone = []\r\n  this.undoDepth = Infinity\r\n  // Used to track when changes can be merged into a single undo\r\n  // event\r\n  this.lastModTime = this.lastSelTime = 0\r\n  this.lastOp = this.lastSelOp = null\r\n  this.lastOrigin = this.lastSelOrigin = null\r\n  // Used by the isClean() method\r\n  this.generation = this.maxGeneration = startGen || 1\r\n}\r\n\r\n// Create a history change event from an updateDoc-style change\r\n// object.\r\nfunction historyChangeFromChange(doc, change) {\r\n  var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)}\r\n  attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1)\r\n  linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true)\r\n  return histChange\r\n}\r\n\r\n// Pop all selection events off the end of a history array. Stop at\r\n// a change event.\r\nfunction clearSelectionEvents(array) {\r\n  while (array.length) {\r\n    var last = lst(array)\r\n    if (last.ranges) { array.pop() }\r\n    else { break }\r\n  }\r\n}\r\n\r\n// Find the top change event in the history. Pop off selection\r\n// events that are in the way.\r\nfunction lastChangeEvent(hist, force) {\r\n  if (force) {\r\n    clearSelectionEvents(hist.done)\r\n    return lst(hist.done)\r\n  } else if (hist.done.length && !lst(hist.done).ranges) {\r\n    return lst(hist.done)\r\n  } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\r\n    hist.done.pop()\r\n    return lst(hist.done)\r\n  }\r\n}\r\n\r\n// Register a change in the history. Merges changes that are within\r\n// a single operation, or are close together with an origin that\r\n// allows merging (starting with \"+\") into a single event.\r\nfunction addChangeToHistory(doc, change, selAfter, opId) {\r\n  var hist = doc.history\r\n  hist.undone.length = 0\r\n  var time = +new Date, cur\r\n  var last\r\n\r\n  if ((hist.lastOp == opId ||\r\n       hist.lastOrigin == change.origin && change.origin &&\r\n       ((change.origin.charAt(0) == \"+\" && doc.cm && hist.lastModTime > time - doc.cm.options.historyEventDelay) ||\r\n        change.origin.charAt(0) == \"*\")) &&\r\n      (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\r\n    // Merge this change into the last event\r\n    last = lst(cur.changes)\r\n    if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\r\n      // Optimized case for simple insertion -- don't want to add\r\n      // new changesets for every character typed\r\n      last.to = changeEnd(change)\r\n    } else {\r\n      // Add new sub-event\r\n      cur.changes.push(historyChangeFromChange(doc, change))\r\n    }\r\n  } else {\r\n    // Can not be merged, start a new event.\r\n    var before = lst(hist.done)\r\n    if (!before || !before.ranges)\r\n      { pushSelectionToHistory(doc.sel, hist.done) }\r\n    cur = {changes: [historyChangeFromChange(doc, change)],\r\n           generation: hist.generation}\r\n    hist.done.push(cur)\r\n    while (hist.done.length > hist.undoDepth) {\r\n      hist.done.shift()\r\n      if (!hist.done[0].ranges) { hist.done.shift() }\r\n    }\r\n  }\r\n  hist.done.push(selAfter)\r\n  hist.generation = ++hist.maxGeneration\r\n  hist.lastModTime = hist.lastSelTime = time\r\n  hist.lastOp = hist.lastSelOp = opId\r\n  hist.lastOrigin = hist.lastSelOrigin = change.origin\r\n\r\n  if (!last) { signal(doc, \"historyAdded\") }\r\n}\r\n\r\nfunction selectionEventCanBeMerged(doc, origin, prev, sel) {\r\n  var ch = origin.charAt(0)\r\n  return ch == \"*\" ||\r\n    ch == \"+\" &&\r\n    prev.ranges.length == sel.ranges.length &&\r\n    prev.somethingSelected() == sel.somethingSelected() &&\r\n    new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\r\n}\r\n\r\n// Called whenever the selection changes, sets the new selection as\r\n// the pending selection in the history, and pushes the old pending\r\n// selection into the 'done' array when it was significantly\r\n// different (in number of selected ranges, emptiness, or time).\r\nfunction addSelectionToHistory(doc, sel, opId, options) {\r\n  var hist = doc.history, origin = options && options.origin\r\n\r\n  // A new event is started when the previous origin does not match\r\n  // the current, or the origins don't allow matching. Origins\r\n  // starting with * are always merged, those starting with + are\r\n  // merged when similar and close together in time.\r\n  if (opId == hist.lastSelOp ||\r\n      (origin && hist.lastSelOrigin == origin &&\r\n       (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\r\n        selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\r\n    { hist.done[hist.done.length - 1] = sel }\r\n  else\r\n    { pushSelectionToHistory(sel, hist.done) }\r\n\r\n  hist.lastSelTime = +new Date\r\n  hist.lastSelOrigin = origin\r\n  hist.lastSelOp = opId\r\n  if (options && options.clearRedo !== false)\r\n    { clearSelectionEvents(hist.undone) }\r\n}\r\n\r\nfunction pushSelectionToHistory(sel, dest) {\r\n  var top = lst(dest)\r\n  if (!(top && top.ranges && top.equals(sel)))\r\n    { dest.push(sel) }\r\n}\r\n\r\n// Used to store marked span information in the history.\r\nfunction attachLocalSpans(doc, change, from, to) {\r\n  var existing = change[\"spans_\" + doc.id], n = 0\r\n  doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\r\n    if (line.markedSpans)\r\n      { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans }\r\n    ++n\r\n  })\r\n}\r\n\r\n// When un/re-doing restores text containing marked spans, those\r\n// that have been explicitly cleared should not be restored.\r\nfunction removeClearedSpans(spans) {\r\n  if (!spans) { return null }\r\n  var out\r\n  for (var i = 0; i < spans.length; ++i) {\r\n    if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i) } }\r\n    else if (out) { out.push(spans[i]) }\r\n  }\r\n  return !out ? spans : out.length ? out : null\r\n}\r\n\r\n// Retrieve and filter the old marked spans stored in a change event.\r\nfunction getOldSpans(doc, change) {\r\n  var found = change[\"spans_\" + doc.id]\r\n  if (!found) { return null }\r\n  var nw = []\r\n  for (var i = 0; i < change.text.length; ++i)\r\n    { nw.push(removeClearedSpans(found[i])) }\r\n  return nw\r\n}\r\n\r\n// Used for un/re-doing changes from the history. Combines the\r\n// result of computing the existing spans with the set of spans that\r\n// existed in the history (so that deleting around a span and then\r\n// undoing brings back the span).\r\nfunction mergeOldSpans(doc, change) {\r\n  var old = getOldSpans(doc, change)\r\n  var stretched = stretchSpansOverChange(doc, change)\r\n  if (!old) { return stretched }\r\n  if (!stretched) { return old }\r\n\r\n  for (var i = 0; i < old.length; ++i) {\r\n    var oldCur = old[i], stretchCur = stretched[i]\r\n    if (oldCur && stretchCur) {\r\n      spans: for (var j = 0; j < stretchCur.length; ++j) {\r\n        var span = stretchCur[j]\r\n        for (var k = 0; k < oldCur.length; ++k)\r\n          { if (oldCur[k].marker == span.marker) { continue spans } }\r\n        oldCur.push(span)\r\n      }\r\n    } else if (stretchCur) {\r\n      old[i] = stretchCur\r\n    }\r\n  }\r\n  return old\r\n}\r\n\r\n// Used both to provide a JSON-safe object in .getHistory, and, when\r\n// detaching a document, to split the history in two\r\nfunction copyHistoryArray(events, newGroup, instantiateSel) {\r\n  var copy = []\r\n  for (var i = 0; i < events.length; ++i) {\r\n    var event = events[i]\r\n    if (event.ranges) {\r\n      copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event)\r\n      continue\r\n    }\r\n    var changes = event.changes, newChanges = []\r\n    copy.push({changes: newChanges})\r\n    for (var j = 0; j < changes.length; ++j) {\r\n      var change = changes[j], m = (void 0)\r\n      newChanges.push({from: change.from, to: change.to, text: change.text})\r\n      if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\r\n        if (indexOf(newGroup, Number(m[1])) > -1) {\r\n          lst(newChanges)[prop] = change[prop]\r\n          delete change[prop]\r\n        }\r\n      } } }\r\n    }\r\n  }\r\n  return copy\r\n}\r\n\r\n// The 'scroll' parameter given to many of these indicated whether\r\n// the new cursor position should be scrolled into view after\r\n// modifying the selection.\r\n\r\n// If shift is held or the extend flag is set, extends a range to\r\n// include a given position (and optionally a second position).\r\n// Otherwise, simply returns the range between the given positions.\r\n// Used for cursor motion and such.\r\nfunction extendRange(doc, range, head, other) {\r\n  if (doc.cm && doc.cm.display.shift || doc.extend) {\r\n    var anchor = range.anchor\r\n    if (other) {\r\n      var posBefore = cmp(head, anchor) < 0\r\n      if (posBefore != (cmp(other, anchor) < 0)) {\r\n        anchor = head\r\n        head = other\r\n      } else if (posBefore != (cmp(head, other) < 0)) {\r\n        head = other\r\n      }\r\n    }\r\n    return new Range(anchor, head)\r\n  } else {\r\n    return new Range(other || head, head)\r\n  }\r\n}\r\n\r\n// Extend the primary selection range, discard the rest.\r\nfunction extendSelection(doc, head, other, options) {\r\n  setSelection(doc, new Selection([extendRange(doc, doc.sel.primary(), head, other)], 0), options)\r\n}\r\n\r\n// Extend all selections (pos is an array of selections with length\r\n// equal the number of selections)\r\nfunction extendSelections(doc, heads, options) {\r\n  var out = []\r\n  for (var i = 0; i < doc.sel.ranges.length; i++)\r\n    { out[i] = extendRange(doc, doc.sel.ranges[i], heads[i], null) }\r\n  var newSel = normalizeSelection(out, doc.sel.primIndex)\r\n  setSelection(doc, newSel, options)\r\n}\r\n\r\n// Updates a single range in the selection.\r\nfunction replaceOneSelection(doc, i, range, options) {\r\n  var ranges = doc.sel.ranges.slice(0)\r\n  ranges[i] = range\r\n  setSelection(doc, normalizeSelection(ranges, doc.sel.primIndex), options)\r\n}\r\n\r\n// Reset the selection to a single range.\r\nfunction setSimpleSelection(doc, anchor, head, options) {\r\n  setSelection(doc, simpleSelection(anchor, head), options)\r\n}\r\n\r\n// Give beforeSelectionChange handlers a change to influence a\r\n// selection update.\r\nfunction filterSelectionChange(doc, sel, options) {\r\n  var obj = {\r\n    ranges: sel.ranges,\r\n    update: function(ranges) {\r\n      var this$1 = this;\r\n\r\n      this.ranges = []\r\n      for (var i = 0; i < ranges.length; i++)\r\n        { this$1.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\r\n                                   clipPos(doc, ranges[i].head)) }\r\n    },\r\n    origin: options && options.origin\r\n  }\r\n  signal(doc, \"beforeSelectionChange\", doc, obj)\r\n  if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj) }\r\n  if (obj.ranges != sel.ranges) { return normalizeSelection(obj.ranges, obj.ranges.length - 1) }\r\n  else { return sel }\r\n}\r\n\r\nfunction setSelectionReplaceHistory(doc, sel, options) {\r\n  var done = doc.history.done, last = lst(done)\r\n  if (last && last.ranges) {\r\n    done[done.length - 1] = sel\r\n    setSelectionNoUndo(doc, sel, options)\r\n  } else {\r\n    setSelection(doc, sel, options)\r\n  }\r\n}\r\n\r\n// Set a new selection.\r\nfunction setSelection(doc, sel, options) {\r\n  setSelectionNoUndo(doc, sel, options)\r\n  addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options)\r\n}\r\n\r\nfunction setSelectionNoUndo(doc, sel, options) {\r\n  if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\r\n    { sel = filterSelectionChange(doc, sel, options) }\r\n\r\n  var bias = options && options.bias ||\r\n    (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1)\r\n  setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true))\r\n\r\n  if (!(options && options.scroll === false) && doc.cm)\r\n    { ensureCursorVisible(doc.cm) }\r\n}\r\n\r\nfunction setSelectionInner(doc, sel) {\r\n  if (sel.equals(doc.sel)) { return }\r\n\r\n  doc.sel = sel\r\n\r\n  if (doc.cm) {\r\n    doc.cm.curOp.updateInput = doc.cm.curOp.selectionChanged = true\r\n    signalCursorActivity(doc.cm)\r\n  }\r\n  signalLater(doc, \"cursorActivity\", doc)\r\n}\r\n\r\n// Verify that the selection does not partially select any atomic\r\n// marked ranges.\r\nfunction reCheckSelection(doc) {\r\n  setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false), sel_dontScroll)\r\n}\r\n\r\n// Return a selection that does not partially select any atomic\r\n// ranges.\r\nfunction skipAtomicInSelection(doc, sel, bias, mayClear) {\r\n  var out\r\n  for (var i = 0; i < sel.ranges.length; i++) {\r\n    var range = sel.ranges[i]\r\n    var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i]\r\n    var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear)\r\n    var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear)\r\n    if (out || newAnchor != range.anchor || newHead != range.head) {\r\n      if (!out) { out = sel.ranges.slice(0, i) }\r\n      out[i] = new Range(newAnchor, newHead)\r\n    }\r\n  }\r\n  return out ? normalizeSelection(out, sel.primIndex) : sel\r\n}\r\n\r\nfunction skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\r\n  var line = getLine(doc, pos.line)\r\n  if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\r\n    var sp = line.markedSpans[i], m = sp.marker\r\n    if ((sp.from == null || (m.inclusiveLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\r\n        (sp.to == null || (m.inclusiveRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\r\n      if (mayClear) {\r\n        signal(m, \"beforeCursorEnter\")\r\n        if (m.explicitlyCleared) {\r\n          if (!line.markedSpans) { break }\r\n          else {--i; continue}\r\n        }\r\n      }\r\n      if (!m.atomic) { continue }\r\n\r\n      if (oldPos) {\r\n        var near = m.find(dir < 0 ? 1 : -1), diff = (void 0)\r\n        if (dir < 0 ? m.inclusiveRight : m.inclusiveLeft)\r\n          { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null) }\r\n        if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\r\n          { return skipAtomicInner(doc, near, pos, dir, mayClear) }\r\n      }\r\n\r\n      var far = m.find(dir < 0 ? -1 : 1)\r\n      if (dir < 0 ? m.inclusiveLeft : m.inclusiveRight)\r\n        { far = movePos(doc, far, dir, far.line == pos.line ? line : null) }\r\n      return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\r\n    }\r\n  } }\r\n  return pos\r\n}\r\n\r\n// Ensure a given position is not inside an atomic range.\r\nfunction skipAtomic(doc, pos, oldPos, bias, mayClear) {\r\n  var dir = bias || 1\r\n  var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\r\n      (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\r\n      skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\r\n      (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true))\r\n  if (!found) {\r\n    doc.cantEdit = true\r\n    return Pos(doc.first, 0)\r\n  }\r\n  return found\r\n}\r\n\r\nfunction movePos(doc, pos, dir, line) {\r\n  if (dir < 0 && pos.ch == 0) {\r\n    if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\r\n    else { return null }\r\n  } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\r\n    if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\r\n    else { return null }\r\n  } else {\r\n    return new Pos(pos.line, pos.ch + dir)\r\n  }\r\n}\r\n\r\nfunction selectAll(cm) {\r\n  cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll)\r\n}\r\n\r\n// UPDATING\r\n\r\n// Allow \"beforeChange\" event handlers to influence a change\r\nfunction filterChange(doc, change, update) {\r\n  var obj = {\r\n    canceled: false,\r\n    from: change.from,\r\n    to: change.to,\r\n    text: change.text,\r\n    origin: change.origin,\r\n    cancel: function () { return obj.canceled = true; }\r\n  }\r\n  if (update) { obj.update = function (from, to, text, origin) {\r\n    if (from) { obj.from = clipPos(doc, from) }\r\n    if (to) { obj.to = clipPos(doc, to) }\r\n    if (text) { obj.text = text }\r\n    if (origin !== undefined) { obj.origin = origin }\r\n  } }\r\n  signal(doc, \"beforeChange\", doc, obj)\r\n  if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj) }\r\n\r\n  if (obj.canceled) { return null }\r\n  return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\r\n}\r\n\r\n// Apply a change to a document, and add it to the document's\r\n// history, and propagating it to all linked documents.\r\nfunction makeChange(doc, change, ignoreReadOnly) {\r\n  if (doc.cm) {\r\n    if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\r\n    if (doc.cm.state.suppressEdits) { return }\r\n  }\r\n\r\n  if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\r\n    change = filterChange(doc, change, true)\r\n    if (!change) { return }\r\n  }\r\n\r\n  // Possibly split or suppress the update based on the presence\r\n  // of read-only spans in its range.\r\n  var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to)\r\n  if (split) {\r\n    for (var i = split.length - 1; i >= 0; --i)\r\n      { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text}) }\r\n  } else {\r\n    makeChangeInner(doc, change)\r\n  }\r\n}\r\n\r\nfunction makeChangeInner(doc, change) {\r\n  if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\r\n  var selAfter = computeSelAfterChange(doc, change)\r\n  addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN)\r\n\r\n  makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change))\r\n  var rebased = []\r\n\r\n  linkedDocs(doc, function (doc, sharedHist) {\r\n    if (!sharedHist && indexOf(rebased, doc.history) == -1) {\r\n      rebaseHist(doc.history, change)\r\n      rebased.push(doc.history)\r\n    }\r\n    makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change))\r\n  })\r\n}\r\n\r\n// Revert a change stored in a document's history.\r\nfunction makeChangeFromHistory(doc, type, allowSelectionOnly) {\r\n  if (doc.cm && doc.cm.state.suppressEdits && !allowSelectionOnly) { return }\r\n\r\n  var hist = doc.history, event, selAfter = doc.sel\r\n  var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done\r\n\r\n  // Verify that there is a useable event (so that ctrl-z won't\r\n  // needlessly clear selection events)\r\n  var i = 0\r\n  for (; i < source.length; i++) {\r\n    event = source[i]\r\n    if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\r\n      { break }\r\n  }\r\n  if (i == source.length) { return }\r\n  hist.lastOrigin = hist.lastSelOrigin = null\r\n\r\n  for (;;) {\r\n    event = source.pop()\r\n    if (event.ranges) {\r\n      pushSelectionToHistory(event, dest)\r\n      if (allowSelectionOnly && !event.equals(doc.sel)) {\r\n        setSelection(doc, event, {clearRedo: false})\r\n        return\r\n      }\r\n      selAfter = event\r\n    }\r\n    else { break }\r\n  }\r\n\r\n  // Build up a reverse change object to add to the opposite history\r\n  // stack (redo when undoing, and vice versa).\r\n  var antiChanges = []\r\n  pushSelectionToHistory(selAfter, dest)\r\n  dest.push({changes: antiChanges, generation: hist.generation})\r\n  hist.generation = event.generation || ++hist.maxGeneration\r\n\r\n  var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")\r\n\r\n  var loop = function ( i ) {\r\n    var change = event.changes[i]\r\n    change.origin = type\r\n    if (filter && !filterChange(doc, change, false)) {\r\n      source.length = 0\r\n      return {}\r\n    }\r\n\r\n    antiChanges.push(historyChangeFromChange(doc, change))\r\n\r\n    var after = i ? computeSelAfterChange(doc, change) : lst(source)\r\n    makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change))\r\n    if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}) }\r\n    var rebased = []\r\n\r\n    // Propagate to the linked documents\r\n    linkedDocs(doc, function (doc, sharedHist) {\r\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\r\n        rebaseHist(doc.history, change)\r\n        rebased.push(doc.history)\r\n      }\r\n      makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change))\r\n    })\r\n  };\r\n\r\n  for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\r\n    var returned = loop( i$1 );\r\n\r\n    if ( returned ) return returned.v;\r\n  }\r\n}\r\n\r\n// Sub-views need their line numbers shifted when text is added\r\n// above or below them in the parent document.\r\nfunction shiftDoc(doc, distance) {\r\n  if (distance == 0) { return }\r\n  doc.first += distance\r\n  doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\r\n    Pos(range.anchor.line + distance, range.anchor.ch),\r\n    Pos(range.head.line + distance, range.head.ch)\r\n  ); }), doc.sel.primIndex)\r\n  if (doc.cm) {\r\n    regChange(doc.cm, doc.first, doc.first - distance, distance)\r\n    for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\r\n      { regLineChange(doc.cm, l, \"gutter\") }\r\n  }\r\n}\r\n\r\n// More lower-level change function, handling only a single document\r\n// (not linked ones).\r\nfunction makeChangeSingleDoc(doc, change, selAfter, spans) {\r\n  if (doc.cm && !doc.cm.curOp)\r\n    { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\r\n\r\n  if (change.to.line < doc.first) {\r\n    shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line))\r\n    return\r\n  }\r\n  if (change.from.line > doc.lastLine()) { return }\r\n\r\n  // Clip the change to the size of this doc\r\n  if (change.from.line < doc.first) {\r\n    var shift = change.text.length - 1 - (doc.first - change.from.line)\r\n    shiftDoc(doc, shift)\r\n    change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\r\n              text: [lst(change.text)], origin: change.origin}\r\n  }\r\n  var last = doc.lastLine()\r\n  if (change.to.line > last) {\r\n    change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\r\n              text: [change.text[0]], origin: change.origin}\r\n  }\r\n\r\n  change.removed = getBetween(doc, change.from, change.to)\r\n\r\n  if (!selAfter) { selAfter = computeSelAfterChange(doc, change) }\r\n  if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans) }\r\n  else { updateDoc(doc, change, spans) }\r\n  setSelectionNoUndo(doc, selAfter, sel_dontScroll)\r\n}\r\n\r\n// Handle the interaction of a change to a document with the editor\r\n// that this document is part of.\r\nfunction makeChangeSingleDocInEditor(cm, change, spans) {\r\n  var doc = cm.doc, display = cm.display, from = change.from, to = change.to\r\n\r\n  var recomputeMaxLength = false, checkWidthStart = from.line\r\n  if (!cm.options.lineWrapping) {\r\n    checkWidthStart = lineNo(visualLine(getLine(doc, from.line)))\r\n    doc.iter(checkWidthStart, to.line + 1, function (line) {\r\n      if (line == display.maxLine) {\r\n        recomputeMaxLength = true\r\n        return true\r\n      }\r\n    })\r\n  }\r\n\r\n  if (doc.sel.contains(change.from, change.to) > -1)\r\n    { signalCursorActivity(cm) }\r\n\r\n  updateDoc(doc, change, spans, estimateHeight(cm))\r\n\r\n  if (!cm.options.lineWrapping) {\r\n    doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\r\n      var len = lineLength(line)\r\n      if (len > display.maxLineLength) {\r\n        display.maxLine = line\r\n        display.maxLineLength = len\r\n        display.maxLineChanged = true\r\n        recomputeMaxLength = false\r\n      }\r\n    })\r\n    if (recomputeMaxLength) { cm.curOp.updateMaxLine = true }\r\n  }\r\n\r\n  // Adjust frontier, schedule worker\r\n  doc.frontier = Math.min(doc.frontier, from.line)\r\n  startWorker(cm, 400)\r\n\r\n  var lendiff = change.text.length - (to.line - from.line) - 1\r\n  // Remember that these lines changed, for updating the display\r\n  if (change.full)\r\n    { regChange(cm) }\r\n  else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\r\n    { regLineChange(cm, from.line, \"text\") }\r\n  else\r\n    { regChange(cm, from.line, to.line + 1, lendiff) }\r\n\r\n  var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\")\r\n  if (changeHandler || changesHandler) {\r\n    var obj = {\r\n      from: from, to: to,\r\n      text: change.text,\r\n      removed: change.removed,\r\n      origin: change.origin\r\n    }\r\n    if (changeHandler) { signalLater(cm, \"change\", cm, obj) }\r\n    if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj) }\r\n  }\r\n  cm.display.selForContextMenu = null\r\n}\r\n\r\nfunction replaceRange(doc, code, from, to, origin) {\r\n  if (!to) { to = from }\r\n  if (cmp(to, from) < 0) { var tmp = to; to = from; from = tmp }\r\n  if (typeof code == \"string\") { code = doc.splitLines(code) }\r\n  makeChange(doc, {from: from, to: to, text: code, origin: origin})\r\n}\r\n\r\n// Rebasing/resetting history to deal with externally-sourced changes\r\n\r\nfunction rebaseHistSelSingle(pos, from, to, diff) {\r\n  if (to < pos.line) {\r\n    pos.line += diff\r\n  } else if (from < pos.line) {\r\n    pos.line = from\r\n    pos.ch = 0\r\n  }\r\n}\r\n\r\n// Tries to rebase an array of history events given a change in the\r\n// document. If the change touches the same lines as the event, the\r\n// event, and everything 'behind' it, is discarded. If the change is\r\n// before the event, the event's positions are updated. Uses a\r\n// copy-on-write scheme for the positions, to avoid having to\r\n// reallocate them all on every rebase, but also avoid problems with\r\n// shared position objects being unsafely updated.\r\nfunction rebaseHistArray(array, from, to, diff) {\r\n  for (var i = 0; i < array.length; ++i) {\r\n    var sub = array[i], ok = true\r\n    if (sub.ranges) {\r\n      if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true }\r\n      for (var j = 0; j < sub.ranges.length; j++) {\r\n        rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff)\r\n        rebaseHistSelSingle(sub.ranges[j].head, from, to, diff)\r\n      }\r\n      continue\r\n    }\r\n    for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\r\n      var cur = sub.changes[j$1]\r\n      if (to < cur.from.line) {\r\n        cur.from = Pos(cur.from.line + diff, cur.from.ch)\r\n        cur.to = Pos(cur.to.line + diff, cur.to.ch)\r\n      } else if (from <= cur.to.line) {\r\n        ok = false\r\n        break\r\n      }\r\n    }\r\n    if (!ok) {\r\n      array.splice(0, i + 1)\r\n      i = 0\r\n    }\r\n  }\r\n}\r\n\r\nfunction rebaseHist(hist, change) {\r\n  var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1\r\n  rebaseHistArray(hist.done, from, to, diff)\r\n  rebaseHistArray(hist.undone, from, to, diff)\r\n}\r\n\r\n// Utility for applying a change to a line by handle or number,\r\n// returning the number and optionally registering the line as\r\n// changed.\r\nfunction changeLine(doc, handle, changeType, op) {\r\n  var no = handle, line = handle\r\n  if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)) }\r\n  else { no = lineNo(handle) }\r\n  if (no == null) { return null }\r\n  if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType) }\r\n  return line\r\n}\r\n\r\n// The document is represented as a BTree consisting of leaves, with\r\n// chunk of lines in them, and branches, with up to ten leaves or\r\n// other branch nodes below them. The top node is always a branch\r\n// node, and is the document object itself (meaning it has\r\n// additional methods and properties).\r\n//\r\n// All nodes have parent links. The tree is used both to go from\r\n// line numbers to line objects, and to go from objects to numbers.\r\n// It also indexes by height, and is used to convert between height\r\n// and line object, and to find the total height of the document.\r\n//\r\n// See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\r\n\r\nvar LeafChunk = function(lines) {\r\n  var this$1 = this;\r\n\r\n  this.lines = lines\r\n  this.parent = null\r\n  var height = 0\r\n  for (var i = 0; i < lines.length; ++i) {\r\n    lines[i].parent = this$1\r\n    height += lines[i].height\r\n  }\r\n  this.height = height\r\n};\r\n\r\nLeafChunk.prototype.chunkSize = function () { return this.lines.length };\r\n\r\n// Remove the n lines at offset 'at'.\r\nLeafChunk.prototype.removeInner = function (at, n) {\r\n    var this$1 = this;\r\n\r\n  for (var i = at, e = at + n; i < e; ++i) {\r\n    var line = this$1.lines[i]\r\n    this$1.height -= line.height\r\n    cleanUpLine(line)\r\n    signalLater(line, \"delete\")\r\n  }\r\n  this.lines.splice(at, n)\r\n};\r\n\r\n// Helper used to collapse a small branch into a single leaf.\r\nLeafChunk.prototype.collapse = function (lines) {\r\n  lines.push.apply(lines, this.lines)\r\n};\r\n\r\n// Insert the given array of lines at offset 'at', count them as\r\n// having the given height.\r\nLeafChunk.prototype.insertInner = function (at, lines, height) {\r\n    var this$1 = this;\r\n\r\n  this.height += height\r\n  this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at))\r\n  for (var i = 0; i < lines.length; ++i) { lines[i].parent = this$1 }\r\n};\r\n\r\n// Used to iterate over a part of the tree.\r\nLeafChunk.prototype.iterN = function (at, n, op) {\r\n    var this$1 = this;\r\n\r\n  for (var e = at + n; at < e; ++at)\r\n    { if (op(this$1.lines[at])) { return true } }\r\n};\r\n\r\nvar BranchChunk = function(children) {\r\n  var this$1 = this;\r\n\r\n  this.children = children\r\n  var size = 0, height = 0\r\n  for (var i = 0; i < children.length; ++i) {\r\n    var ch = children[i]\r\n    size += ch.chunkSize(); height += ch.height\r\n    ch.parent = this$1\r\n  }\r\n  this.size = size\r\n  this.height = height\r\n  this.parent = null\r\n};\r\n\r\nBranchChunk.prototype.chunkSize = function () { return this.size };\r\n\r\nBranchChunk.prototype.removeInner = function (at, n) {\r\n    var this$1 = this;\r\n\r\n  this.size -= n\r\n  for (var i = 0; i < this.children.length; ++i) {\r\n    var child = this$1.children[i], sz = child.chunkSize()\r\n    if (at < sz) {\r\n      var rm = Math.min(n, sz - at), oldHeight = child.height\r\n      child.removeInner(at, rm)\r\n      this$1.height -= oldHeight - child.height\r\n      if (sz == rm) { this$1.children.splice(i--, 1); child.parent = null }\r\n      if ((n -= rm) == 0) { break }\r\n      at = 0\r\n    } else { at -= sz }\r\n  }\r\n  // If the result is smaller than 25 lines, ensure that it is a\r\n  // single leaf node.\r\n  if (this.size - n < 25 &&\r\n      (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\r\n    var lines = []\r\n    this.collapse(lines)\r\n    this.children = [new LeafChunk(lines)]\r\n    this.children[0].parent = this\r\n  }\r\n};\r\n\r\nBranchChunk.prototype.collapse = function (lines) {\r\n    var this$1 = this;\r\n\r\n  for (var i = 0; i < this.children.length; ++i) { this$1.children[i].collapse(lines) }\r\n};\r\n\r\nBranchChunk.prototype.insertInner = function (at, lines, height) {\r\n    var this$1 = this;\r\n\r\n  this.size += lines.length\r\n  this.height += height\r\n  for (var i = 0; i < this.children.length; ++i) {\r\n    var child = this$1.children[i], sz = child.chunkSize()\r\n    if (at <= sz) {\r\n      child.insertInner(at, lines, height)\r\n      if (child.lines && child.lines.length > 50) {\r\n        // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\r\n        // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\r\n        var remaining = child.lines.length % 25 + 25\r\n        for (var pos = remaining; pos < child.lines.length;) {\r\n          var leaf = new LeafChunk(child.lines.slice(pos, pos += 25))\r\n          child.height -= leaf.height\r\n          this$1.children.splice(++i, 0, leaf)\r\n          leaf.parent = this$1\r\n        }\r\n        child.lines = child.lines.slice(0, remaining)\r\n        this$1.maybeSpill()\r\n      }\r\n      break\r\n    }\r\n    at -= sz\r\n  }\r\n};\r\n\r\n// When a node has grown, check whether it should be split.\r\nBranchChunk.prototype.maybeSpill = function () {\r\n  if (this.children.length <= 10) { return }\r\n  var me = this\r\n  do {\r\n    var spilled = me.children.splice(me.children.length - 5, 5)\r\n    var sibling = new BranchChunk(spilled)\r\n    if (!me.parent) { // Become the parent node\r\n      var copy = new BranchChunk(me.children)\r\n      copy.parent = me\r\n      me.children = [copy, sibling]\r\n      me = copy\r\n   } else {\r\n      me.size -= sibling.size\r\n      me.height -= sibling.height\r\n      var myIndex = indexOf(me.parent.children, me)\r\n      me.parent.children.splice(myIndex + 1, 0, sibling)\r\n    }\r\n    sibling.parent = me.parent\r\n  } while (me.children.length > 10)\r\n  me.parent.maybeSpill()\r\n};\r\n\r\nBranchChunk.prototype.iterN = function (at, n, op) {\r\n    var this$1 = this;\r\n\r\n  for (var i = 0; i < this.children.length; ++i) {\r\n    var child = this$1.children[i], sz = child.chunkSize()\r\n    if (at < sz) {\r\n      var used = Math.min(n, sz - at)\r\n      if (child.iterN(at, used, op)) { return true }\r\n      if ((n -= used) == 0) { break }\r\n      at = 0\r\n    } else { at -= sz }\r\n  }\r\n};\r\n\r\n// Line widgets are block elements displayed above or below a line.\r\n\r\nvar LineWidget = function(doc, node, options) {\r\n  var this$1 = this;\r\n\r\n  if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\r\n    { this$1[opt] = options[opt] } } }\r\n  this.doc = doc\r\n  this.node = node\r\n};\r\n\r\nLineWidget.prototype.clear = function () {\r\n    var this$1 = this;\r\n\r\n  var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line)\r\n  if (no == null || !ws) { return }\r\n  for (var i = 0; i < ws.length; ++i) { if (ws[i] == this$1) { ws.splice(i--, 1) } }\r\n  if (!ws.length) { line.widgets = null }\r\n  var height = widgetHeight(this)\r\n  updateLineHeight(line, Math.max(0, line.height - height))\r\n  if (cm) {\r\n    runInOp(cm, function () {\r\n      adjustScrollWhenAboveVisible(cm, line, -height)\r\n      regLineChange(cm, no, \"widget\")\r\n    })\r\n    signalLater(cm, \"lineWidgetCleared\", cm, this, no)\r\n  }\r\n};\r\n\r\nLineWidget.prototype.changed = function () {\r\n    var this$1 = this;\r\n\r\n  var oldH = this.height, cm = this.doc.cm, line = this.line\r\n  this.height = null\r\n  var diff = widgetHeight(this) - oldH\r\n  if (!diff) { return }\r\n  updateLineHeight(line, line.height + diff)\r\n  if (cm) {\r\n    runInOp(cm, function () {\r\n      cm.curOp.forceUpdate = true\r\n      adjustScrollWhenAboveVisible(cm, line, diff)\r\n      signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line))\r\n    })\r\n  }\r\n};\r\neventMixin(LineWidget)\r\n\r\nfunction adjustScrollWhenAboveVisible(cm, line, diff) {\r\n  if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\r\n    { addToScrollPos(cm, null, diff) }\r\n}\r\n\r\nfunction addLineWidget(doc, handle, node, options) {\r\n  var widget = new LineWidget(doc, node, options)\r\n  var cm = doc.cm\r\n  if (cm && widget.noHScroll) { cm.display.alignWidgets = true }\r\n  changeLine(doc, handle, \"widget\", function (line) {\r\n    var widgets = line.widgets || (line.widgets = [])\r\n    if (widget.insertAt == null) { widgets.push(widget) }\r\n    else { widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget) }\r\n    widget.line = line\r\n    if (cm && !lineIsHidden(doc, line)) {\r\n      var aboveVisible = heightAtLine(line) < doc.scrollTop\r\n      updateLineHeight(line, line.height + widgetHeight(widget))\r\n      if (aboveVisible) { addToScrollPos(cm, null, widget.height) }\r\n      cm.curOp.forceUpdate = true\r\n    }\r\n    return true\r\n  })\r\n  signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle))\r\n  return widget\r\n}\r\n\r\n// TEXTMARKERS\r\n\r\n// Created with markText and setBookmark methods. A TextMarker is a\r\n// handle that can be used to clear or find a marked position in the\r\n// document. Line objects hold arrays (markedSpans) containing\r\n// {from, to, marker} object pointing to such marker objects, and\r\n// indicating that such a marker is present on that line. Multiple\r\n// lines may point to the same marker when it spans across lines.\r\n// The spans will have null for their from/to properties when the\r\n// marker continues beyond the start/end of the line. Markers have\r\n// links back to the lines they currently touch.\r\n\r\n// Collapsed markers have unique ids, in order to be able to order\r\n// them, which is needed for uniquely determining an outer marker\r\n// when they overlap (they may nest, but not partially overlap).\r\nvar nextMarkerId = 0\r\n\r\nvar TextMarker = function(doc, type) {\r\n  this.lines = []\r\n  this.type = type\r\n  this.doc = doc\r\n  this.id = ++nextMarkerId\r\n};\r\n\r\n// Clear the marker.\r\nTextMarker.prototype.clear = function () {\r\n    var this$1 = this;\r\n\r\n  if (this.explicitlyCleared) { return }\r\n  var cm = this.doc.cm, withOp = cm && !cm.curOp\r\n  if (withOp) { startOperation(cm) }\r\n  if (hasHandler(this, \"clear\")) {\r\n    var found = this.find()\r\n    if (found) { signalLater(this, \"clear\", found.from, found.to) }\r\n  }\r\n  var min = null, max = null\r\n  for (var i = 0; i < this.lines.length; ++i) {\r\n    var line = this$1.lines[i]\r\n    var span = getMarkedSpanFor(line.markedSpans, this$1)\r\n    if (cm && !this$1.collapsed) { regLineChange(cm, lineNo(line), \"text\") }\r\n    else if (cm) {\r\n      if (span.to != null) { max = lineNo(line) }\r\n      if (span.from != null) { min = lineNo(line) }\r\n    }\r\n    line.markedSpans = removeMarkedSpan(line.markedSpans, span)\r\n    if (span.from == null && this$1.collapsed && !lineIsHidden(this$1.doc, line) && cm)\r\n      { updateLineHeight(line, textHeight(cm.display)) }\r\n  }\r\n  if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\r\n    var visual = visualLine(this$1.lines[i$1]), len = lineLength(visual)\r\n    if (len > cm.display.maxLineLength) {\r\n      cm.display.maxLine = visual\r\n      cm.display.maxLineLength = len\r\n      cm.display.maxLineChanged = true\r\n    }\r\n  } }\r\n\r\n  if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1) }\r\n  this.lines.length = 0\r\n  this.explicitlyCleared = true\r\n  if (this.atomic && this.doc.cantEdit) {\r\n    this.doc.cantEdit = false\r\n    if (cm) { reCheckSelection(cm.doc) }\r\n  }\r\n  if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max) }\r\n  if (withOp) { endOperation(cm) }\r\n  if (this.parent) { this.parent.clear() }\r\n};\r\n\r\n// Find the position of the marker in the document. Returns a {from,\r\n// to} object by default. Side can be passed to get a specific side\r\n// -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\r\n// Pos objects returned contain a line object, rather than a line\r\n// number (used to prevent looking up the same line twice).\r\nTextMarker.prototype.find = function (side, lineObj) {\r\n    var this$1 = this;\r\n\r\n  if (side == null && this.type == \"bookmark\") { side = 1 }\r\n  var from, to\r\n  for (var i = 0; i < this.lines.length; ++i) {\r\n    var line = this$1.lines[i]\r\n    var span = getMarkedSpanFor(line.markedSpans, this$1)\r\n    if (span.from != null) {\r\n      from = Pos(lineObj ? line : lineNo(line), span.from)\r\n      if (side == -1) { return from }\r\n    }\r\n    if (span.to != null) {\r\n      to = Pos(lineObj ? line : lineNo(line), span.to)\r\n      if (side == 1) { return to }\r\n    }\r\n  }\r\n  return from && {from: from, to: to}\r\n};\r\n\r\n// Signals that the marker's widget changed, and surrounding layout\r\n// should be recomputed.\r\nTextMarker.prototype.changed = function () {\r\n    var this$1 = this;\r\n\r\n  var pos = this.find(-1, true), widget = this, cm = this.doc.cm\r\n  if (!pos || !cm) { return }\r\n  runInOp(cm, function () {\r\n    var line = pos.line, lineN = lineNo(pos.line)\r\n    var view = findViewForLine(cm, lineN)\r\n    if (view) {\r\n      clearLineMeasurementCacheFor(view)\r\n      cm.curOp.selectionChanged = cm.curOp.forceUpdate = true\r\n    }\r\n    cm.curOp.updateMaxLine = true\r\n    if (!lineIsHidden(widget.doc, line) && widget.height != null) {\r\n      var oldHeight = widget.height\r\n      widget.height = null\r\n      var dHeight = widgetHeight(widget) - oldHeight\r\n      if (dHeight)\r\n        { updateLineHeight(line, line.height + dHeight) }\r\n    }\r\n    signalLater(cm, \"markerChanged\", cm, this$1)\r\n  })\r\n};\r\n\r\nTextMarker.prototype.attachLine = function (line) {\r\n  if (!this.lines.length && this.doc.cm) {\r\n    var op = this.doc.cm.curOp\r\n    if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\r\n      { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this) }\r\n  }\r\n  this.lines.push(line)\r\n};\r\n\r\nTextMarker.prototype.detachLine = function (line) {\r\n  this.lines.splice(indexOf(this.lines, line), 1)\r\n  if (!this.lines.length && this.doc.cm) {\r\n    var op = this.doc.cm.curOp\r\n    ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this)\r\n  }\r\n};\r\neventMixin(TextMarker)\r\n\r\n// Create a marker, wire it up to the right lines, and\r\nfunction markText(doc, from, to, options, type) {\r\n  // Shared markers (across linked documents) are handled separately\r\n  // (markTextShared will call out to this again, once per\r\n  // document).\r\n  if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\r\n  // Ensure we are in an operation.\r\n  if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\r\n\r\n  var marker = new TextMarker(doc, type), diff = cmp(from, to)\r\n  if (options) { copyObj(options, marker, false) }\r\n  // Don't connect empty markers unless clearWhenEmpty is false\r\n  if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\r\n    { return marker }\r\n  if (marker.replacedWith) {\r\n    // Showing up as a widget implies collapsed (widget replaces text)\r\n    marker.collapsed = true\r\n    marker.widgetNode = elt(\"span\", [marker.replacedWith], \"CodeMirror-widget\")\r\n    marker.widgetNode.setAttribute(\"role\", \"presentation\") // hide from accessibility tree\r\n    if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\") }\r\n    if (options.insertLeft) { marker.widgetNode.insertLeft = true }\r\n  }\r\n  if (marker.collapsed) {\r\n    if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\r\n        from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\r\n      { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\r\n    seeCollapsedSpans()\r\n  }\r\n\r\n  if (marker.addToHistory)\r\n    { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN) }\r\n\r\n  var curLine = from.line, cm = doc.cm, updateMaxLine\r\n  doc.iter(curLine, to.line + 1, function (line) {\r\n    if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\r\n      { updateMaxLine = true }\r\n    if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0) }\r\n    addMarkedSpan(line, new MarkedSpan(marker,\r\n                                       curLine == from.line ? from.ch : null,\r\n                                       curLine == to.line ? to.ch : null))\r\n    ++curLine\r\n  })\r\n  // lineIsHidden depends on the presence of the spans, so needs a second pass\r\n  if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\r\n    if (lineIsHidden(doc, line)) { updateLineHeight(line, 0) }\r\n  }) }\r\n\r\n  if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }) }\r\n\r\n  if (marker.readOnly) {\r\n    seeReadOnlySpans()\r\n    if (doc.history.done.length || doc.history.undone.length)\r\n      { doc.clearHistory() }\r\n  }\r\n  if (marker.collapsed) {\r\n    marker.id = ++nextMarkerId\r\n    marker.atomic = true\r\n  }\r\n  if (cm) {\r\n    // Sync editor state\r\n    if (updateMaxLine) { cm.curOp.updateMaxLine = true }\r\n    if (marker.collapsed)\r\n      { regChange(cm, from.line, to.line + 1) }\r\n    else if (marker.className || marker.title || marker.startStyle || marker.endStyle || marker.css)\r\n      { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\") } }\r\n    if (marker.atomic) { reCheckSelection(cm.doc) }\r\n    signalLater(cm, \"markerAdded\", cm, marker)\r\n  }\r\n  return marker\r\n}\r\n\r\n// SHARED TEXTMARKERS\r\n\r\n// A shared marker spans multiple linked documents. It is\r\n// implemented as a meta-marker-object controlling multiple normal\r\n// markers.\r\nvar SharedTextMarker = function(markers, primary) {\r\n  var this$1 = this;\r\n\r\n  this.markers = markers\r\n  this.primary = primary\r\n  for (var i = 0; i < markers.length; ++i)\r\n    { markers[i].parent = this$1 }\r\n};\r\n\r\nSharedTextMarker.prototype.clear = function () {\r\n    var this$1 = this;\r\n\r\n  if (this.explicitlyCleared) { return }\r\n  this.explicitlyCleared = true\r\n  for (var i = 0; i < this.markers.length; ++i)\r\n    { this$1.markers[i].clear() }\r\n  signalLater(this, \"clear\")\r\n};\r\n\r\nSharedTextMarker.prototype.find = function (side, lineObj) {\r\n  return this.primary.find(side, lineObj)\r\n};\r\neventMixin(SharedTextMarker)\r\n\r\nfunction markTextShared(doc, from, to, options, type) {\r\n  options = copyObj(options)\r\n  options.shared = false\r\n  var markers = [markText(doc, from, to, options, type)], primary = markers[0]\r\n  var widget = options.widgetNode\r\n  linkedDocs(doc, function (doc) {\r\n    if (widget) { options.widgetNode = widget.cloneNode(true) }\r\n    markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type))\r\n    for (var i = 0; i < doc.linked.length; ++i)\r\n      { if (doc.linked[i].isParent) { return } }\r\n    primary = lst(markers)\r\n  })\r\n  return new SharedTextMarker(markers, primary)\r\n}\r\n\r\nfunction findSharedMarkers(doc) {\r\n  return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\r\n}\r\n\r\nfunction copySharedMarkers(doc, markers) {\r\n  for (var i = 0; i < markers.length; i++) {\r\n    var marker = markers[i], pos = marker.find()\r\n    var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to)\r\n    if (cmp(mFrom, mTo)) {\r\n      var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type)\r\n      marker.markers.push(subMark)\r\n      subMark.parent = marker\r\n    }\r\n  }\r\n}\r\n\r\nfunction detachSharedMarkers(markers) {\r\n  var loop = function ( i ) {\r\n    var marker = markers[i], linked = [marker.primary.doc]\r\n    linkedDocs(marker.primary.doc, function (d) { return linked.push(d); })\r\n    for (var j = 0; j < marker.markers.length; j++) {\r\n      var subMarker = marker.markers[j]\r\n      if (indexOf(linked, subMarker.doc) == -1) {\r\n        subMarker.parent = null\r\n        marker.markers.splice(j--, 1)\r\n      }\r\n    }\r\n  };\r\n\r\n  for (var i = 0; i < markers.length; i++) loop( i );\r\n}\r\n\r\nvar nextDocId = 0\r\nvar Doc = function(text, mode, firstLine, lineSep) {\r\n  if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep) }\r\n  if (firstLine == null) { firstLine = 0 }\r\n\r\n  BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])])\r\n  this.first = firstLine\r\n  this.scrollTop = this.scrollLeft = 0\r\n  this.cantEdit = false\r\n  this.cleanGeneration = 1\r\n  this.frontier = firstLine\r\n  var start = Pos(firstLine, 0)\r\n  this.sel = simpleSelection(start)\r\n  this.history = new History(null)\r\n  this.id = ++nextDocId\r\n  this.modeOption = mode\r\n  this.lineSep = lineSep\r\n  this.extend = false\r\n\r\n  if (typeof text == \"string\") { text = this.splitLines(text) }\r\n  updateDoc(this, {from: start, to: start, text: text})\r\n  setSelection(this, simpleSelection(start), sel_dontScroll)\r\n}\r\n\r\nDoc.prototype = createObj(BranchChunk.prototype, {\r\n  constructor: Doc,\r\n  // Iterate over the document. Supports two forms -- with only one\r\n  // argument, it calls that for each line in the document. With\r\n  // three, it iterates over the range given by the first two (with\r\n  // the second being non-inclusive).\r\n  iter: function(from, to, op) {\r\n    if (op) { this.iterN(from - this.first, to - from, op) }\r\n    else { this.iterN(this.first, this.first + this.size, from) }\r\n  },\r\n\r\n  // Non-public interface for adding and removing lines.\r\n  insert: function(at, lines) {\r\n    var height = 0\r\n    for (var i = 0; i < lines.length; ++i) { height += lines[i].height }\r\n    this.insertInner(at - this.first, lines, height)\r\n  },\r\n  remove: function(at, n) { this.removeInner(at - this.first, n) },\r\n\r\n  // From here, the methods are part of the public interface. Most\r\n  // are also available from CodeMirror (editor) instances.\r\n\r\n  getValue: function(lineSep) {\r\n    var lines = getLines(this, this.first, this.first + this.size)\r\n    if (lineSep === false) { return lines }\r\n    return lines.join(lineSep || this.lineSeparator())\r\n  },\r\n  setValue: docMethodOp(function(code) {\r\n    var top = Pos(this.first, 0), last = this.first + this.size - 1\r\n    makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\r\n                      text: this.splitLines(code), origin: \"setValue\", full: true}, true)\r\n    setSelection(this, simpleSelection(top))\r\n  }),\r\n  replaceRange: function(code, from, to, origin) {\r\n    from = clipPos(this, from)\r\n    to = to ? clipPos(this, to) : from\r\n    replaceRange(this, code, from, to, origin)\r\n  },\r\n  getRange: function(from, to, lineSep) {\r\n    var lines = getBetween(this, clipPos(this, from), clipPos(this, to))\r\n    if (lineSep === false) { return lines }\r\n    return lines.join(lineSep || this.lineSeparator())\r\n  },\r\n\r\n  getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\r\n\r\n  getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\r\n  getLineNumber: function(line) {return lineNo(line)},\r\n\r\n  getLineHandleVisualStart: function(line) {\r\n    if (typeof line == \"number\") { line = getLine(this, line) }\r\n    return visualLine(line)\r\n  },\r\n\r\n  lineCount: function() {return this.size},\r\n  firstLine: function() {return this.first},\r\n  lastLine: function() {return this.first + this.size - 1},\r\n\r\n  clipPos: function(pos) {return clipPos(this, pos)},\r\n\r\n  getCursor: function(start) {\r\n    var range = this.sel.primary(), pos\r\n    if (start == null || start == \"head\") { pos = range.head }\r\n    else if (start == \"anchor\") { pos = range.anchor }\r\n    else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to() }\r\n    else { pos = range.from() }\r\n    return pos\r\n  },\r\n  listSelections: function() { return this.sel.ranges },\r\n  somethingSelected: function() {return this.sel.somethingSelected()},\r\n\r\n  setCursor: docMethodOp(function(line, ch, options) {\r\n    setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options)\r\n  }),\r\n  setSelection: docMethodOp(function(anchor, head, options) {\r\n    setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options)\r\n  }),\r\n  extendSelection: docMethodOp(function(head, other, options) {\r\n    extendSelection(this, clipPos(this, head), other && clipPos(this, other), options)\r\n  }),\r\n  extendSelections: docMethodOp(function(heads, options) {\r\n    extendSelections(this, clipPosArray(this, heads), options)\r\n  }),\r\n  extendSelectionsBy: docMethodOp(function(f, options) {\r\n    var heads = map(this.sel.ranges, f)\r\n    extendSelections(this, clipPosArray(this, heads), options)\r\n  }),\r\n  setSelections: docMethodOp(function(ranges, primary, options) {\r\n    var this$1 = this;\r\n\r\n    if (!ranges.length) { return }\r\n    var out = []\r\n    for (var i = 0; i < ranges.length; i++)\r\n      { out[i] = new Range(clipPos(this$1, ranges[i].anchor),\r\n                         clipPos(this$1, ranges[i].head)) }\r\n    if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex) }\r\n    setSelection(this, normalizeSelection(out, primary), options)\r\n  }),\r\n  addSelection: docMethodOp(function(anchor, head, options) {\r\n    var ranges = this.sel.ranges.slice(0)\r\n    ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)))\r\n    setSelection(this, normalizeSelection(ranges, ranges.length - 1), options)\r\n  }),\r\n\r\n  getSelection: function(lineSep) {\r\n    var this$1 = this;\r\n\r\n    var ranges = this.sel.ranges, lines\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to())\r\n      lines = lines ? lines.concat(sel) : sel\r\n    }\r\n    if (lineSep === false) { return lines }\r\n    else { return lines.join(lineSep || this.lineSeparator()) }\r\n  },\r\n  getSelections: function(lineSep) {\r\n    var this$1 = this;\r\n\r\n    var parts = [], ranges = this.sel.ranges\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to())\r\n      if (lineSep !== false) { sel = sel.join(lineSep || this$1.lineSeparator()) }\r\n      parts[i] = sel\r\n    }\r\n    return parts\r\n  },\r\n  replaceSelection: function(code, collapse, origin) {\r\n    var dup = []\r\n    for (var i = 0; i < this.sel.ranges.length; i++)\r\n      { dup[i] = code }\r\n    this.replaceSelections(dup, collapse, origin || \"+input\")\r\n  },\r\n  replaceSelections: docMethodOp(function(code, collapse, origin) {\r\n    var this$1 = this;\r\n\r\n    var changes = [], sel = this.sel\r\n    for (var i = 0; i < sel.ranges.length; i++) {\r\n      var range = sel.ranges[i]\r\n      changes[i] = {from: range.from(), to: range.to(), text: this$1.splitLines(code[i]), origin: origin}\r\n    }\r\n    var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse)\r\n    for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\r\n      { makeChange(this$1, changes[i$1]) }\r\n    if (newSel) { setSelectionReplaceHistory(this, newSel) }\r\n    else if (this.cm) { ensureCursorVisible(this.cm) }\r\n  }),\r\n  undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\")}),\r\n  redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\")}),\r\n  undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true)}),\r\n  redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true)}),\r\n\r\n  setExtending: function(val) {this.extend = val},\r\n  getExtending: function() {return this.extend},\r\n\r\n  historySize: function() {\r\n    var hist = this.history, done = 0, undone = 0\r\n    for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done } }\r\n    for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone } }\r\n    return {undo: done, redo: undone}\r\n  },\r\n  clearHistory: function() {this.history = new History(this.history.maxGeneration)},\r\n\r\n  markClean: function() {\r\n    this.cleanGeneration = this.changeGeneration(true)\r\n  },\r\n  changeGeneration: function(forceSplit) {\r\n    if (forceSplit)\r\n      { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null }\r\n    return this.history.generation\r\n  },\r\n  isClean: function (gen) {\r\n    return this.history.generation == (gen || this.cleanGeneration)\r\n  },\r\n\r\n  getHistory: function() {\r\n    return {done: copyHistoryArray(this.history.done),\r\n            undone: copyHistoryArray(this.history.undone)}\r\n  },\r\n  setHistory: function(histData) {\r\n    var hist = this.history = new History(this.history.maxGeneration)\r\n    hist.done = copyHistoryArray(histData.done.slice(0), null, true)\r\n    hist.undone = copyHistoryArray(histData.undone.slice(0), null, true)\r\n  },\r\n\r\n  setGutterMarker: docMethodOp(function(line, gutterID, value) {\r\n    return changeLine(this, line, \"gutter\", function (line) {\r\n      var markers = line.gutterMarkers || (line.gutterMarkers = {})\r\n      markers[gutterID] = value\r\n      if (!value && isEmpty(markers)) { line.gutterMarkers = null }\r\n      return true\r\n    })\r\n  }),\r\n\r\n  clearGutter: docMethodOp(function(gutterID) {\r\n    var this$1 = this;\r\n\r\n    this.iter(function (line) {\r\n      if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\r\n        changeLine(this$1, line, \"gutter\", function () {\r\n          line.gutterMarkers[gutterID] = null\r\n          if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null }\r\n          return true\r\n        })\r\n      }\r\n    })\r\n  }),\r\n\r\n  lineInfo: function(line) {\r\n    var n\r\n    if (typeof line == \"number\") {\r\n      if (!isLine(this, line)) { return null }\r\n      n = line\r\n      line = getLine(this, line)\r\n      if (!line) { return null }\r\n    } else {\r\n      n = lineNo(line)\r\n      if (n == null) { return null }\r\n    }\r\n    return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\r\n            textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\r\n            widgets: line.widgets}\r\n  },\r\n\r\n  addLineClass: docMethodOp(function(handle, where, cls) {\r\n    return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\r\n      var prop = where == \"text\" ? \"textClass\"\r\n               : where == \"background\" ? \"bgClass\"\r\n               : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\"\r\n      if (!line[prop]) { line[prop] = cls }\r\n      else if (classTest(cls).test(line[prop])) { return false }\r\n      else { line[prop] += \" \" + cls }\r\n      return true\r\n    })\r\n  }),\r\n  removeLineClass: docMethodOp(function(handle, where, cls) {\r\n    return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\r\n      var prop = where == \"text\" ? \"textClass\"\r\n               : where == \"background\" ? \"bgClass\"\r\n               : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\"\r\n      var cur = line[prop]\r\n      if (!cur) { return false }\r\n      else if (cls == null) { line[prop] = null }\r\n      else {\r\n        var found = cur.match(classTest(cls))\r\n        if (!found) { return false }\r\n        var end = found.index + found[0].length\r\n        line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null\r\n      }\r\n      return true\r\n    })\r\n  }),\r\n\r\n  addLineWidget: docMethodOp(function(handle, node, options) {\r\n    return addLineWidget(this, handle, node, options)\r\n  }),\r\n  removeLineWidget: function(widget) { widget.clear() },\r\n\r\n  markText: function(from, to, options) {\r\n    return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\r\n  },\r\n  setBookmark: function(pos, options) {\r\n    var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\r\n                    insertLeft: options && options.insertLeft,\r\n                    clearWhenEmpty: false, shared: options && options.shared,\r\n                    handleMouseEvents: options && options.handleMouseEvents}\r\n    pos = clipPos(this, pos)\r\n    return markText(this, pos, pos, realOpts, \"bookmark\")\r\n  },\r\n  findMarksAt: function(pos) {\r\n    pos = clipPos(this, pos)\r\n    var markers = [], spans = getLine(this, pos.line).markedSpans\r\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\r\n      var span = spans[i]\r\n      if ((span.from == null || span.from <= pos.ch) &&\r\n          (span.to == null || span.to >= pos.ch))\r\n        { markers.push(span.marker.parent || span.marker) }\r\n    } }\r\n    return markers\r\n  },\r\n  findMarks: function(from, to, filter) {\r\n    from = clipPos(this, from); to = clipPos(this, to)\r\n    var found = [], lineNo = from.line\r\n    this.iter(from.line, to.line + 1, function (line) {\r\n      var spans = line.markedSpans\r\n      if (spans) { for (var i = 0; i < spans.length; i++) {\r\n        var span = spans[i]\r\n        if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\r\n              span.from == null && lineNo != from.line ||\r\n              span.from != null && lineNo == to.line && span.from >= to.ch) &&\r\n            (!filter || filter(span.marker)))\r\n          { found.push(span.marker.parent || span.marker) }\r\n      } }\r\n      ++lineNo\r\n    })\r\n    return found\r\n  },\r\n  getAllMarks: function() {\r\n    var markers = []\r\n    this.iter(function (line) {\r\n      var sps = line.markedSpans\r\n      if (sps) { for (var i = 0; i < sps.length; ++i)\r\n        { if (sps[i].from != null) { markers.push(sps[i].marker) } } }\r\n    })\r\n    return markers\r\n  },\r\n\r\n  posFromIndex: function(off) {\r\n    var ch, lineNo = this.first, sepSize = this.lineSeparator().length\r\n    this.iter(function (line) {\r\n      var sz = line.text.length + sepSize\r\n      if (sz > off) { ch = off; return true }\r\n      off -= sz\r\n      ++lineNo\r\n    })\r\n    return clipPos(this, Pos(lineNo, ch))\r\n  },\r\n  indexFromPos: function (coords) {\r\n    coords = clipPos(this, coords)\r\n    var index = coords.ch\r\n    if (coords.line < this.first || coords.ch < 0) { return 0 }\r\n    var sepSize = this.lineSeparator().length\r\n    this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\r\n      index += line.text.length + sepSize\r\n    })\r\n    return index\r\n  },\r\n\r\n  copy: function(copyHistory) {\r\n    var doc = new Doc(getLines(this, this.first, this.first + this.size),\r\n                      this.modeOption, this.first, this.lineSep)\r\n    doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft\r\n    doc.sel = this.sel\r\n    doc.extend = false\r\n    if (copyHistory) {\r\n      doc.history.undoDepth = this.history.undoDepth\r\n      doc.setHistory(this.getHistory())\r\n    }\r\n    return doc\r\n  },\r\n\r\n  linkedDoc: function(options) {\r\n    if (!options) { options = {} }\r\n    var from = this.first, to = this.first + this.size\r\n    if (options.from != null && options.from > from) { from = options.from }\r\n    if (options.to != null && options.to < to) { to = options.to }\r\n    var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep)\r\n    if (options.sharedHist) { copy.history = this.history\r\n    ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist})\r\n    copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}]\r\n    copySharedMarkers(copy, findSharedMarkers(this))\r\n    return copy\r\n  },\r\n  unlinkDoc: function(other) {\r\n    var this$1 = this;\r\n\r\n    if (other instanceof CodeMirror) { other = other.doc }\r\n    if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\r\n      var link = this$1.linked[i]\r\n      if (link.doc != other) { continue }\r\n      this$1.linked.splice(i, 1)\r\n      other.unlinkDoc(this$1)\r\n      detachSharedMarkers(findSharedMarkers(this$1))\r\n      break\r\n    } }\r\n    // If the histories were shared, split them again\r\n    if (other.history == this.history) {\r\n      var splitIds = [other.id]\r\n      linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true)\r\n      other.history = new History(null)\r\n      other.history.done = copyHistoryArray(this.history.done, splitIds)\r\n      other.history.undone = copyHistoryArray(this.history.undone, splitIds)\r\n    }\r\n  },\r\n  iterLinkedDocs: function(f) {linkedDocs(this, f)},\r\n\r\n  getMode: function() {return this.mode},\r\n  getEditor: function() {return this.cm},\r\n\r\n  splitLines: function(str) {\r\n    if (this.lineSep) { return str.split(this.lineSep) }\r\n    return splitLinesAuto(str)\r\n  },\r\n  lineSeparator: function() { return this.lineSep || \"\\n\" }\r\n})\r\n\r\n// Public alias.\r\nDoc.prototype.eachLine = Doc.prototype.iter\r\n\r\n// Kludge to work around strange IE behavior where it'll sometimes\r\n// re-fire a series of drag-related events right after the drop (#1551)\r\nvar lastDrop = 0\r\n\r\nfunction onDrop(e) {\r\n  var cm = this\r\n  clearDragCursor(cm)\r\n  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\r\n    { return }\r\n  e_preventDefault(e)\r\n  if (ie) { lastDrop = +new Date }\r\n  var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files\r\n  if (!pos || cm.isReadOnly()) { return }\r\n  // Might be a file drop, in which case we simply extract the text\r\n  // and insert it.\r\n  if (files && files.length && window.FileReader && window.File) {\r\n    var n = files.length, text = Array(n), read = 0\r\n    var loadFile = function (file, i) {\r\n      if (cm.options.allowDropFileTypes &&\r\n          indexOf(cm.options.allowDropFileTypes, file.type) == -1)\r\n        { return }\r\n\r\n      var reader = new FileReader\r\n      reader.onload = operation(cm, function () {\r\n        var content = reader.result\r\n        if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) { content = \"\" }\r\n        text[i] = content\r\n        if (++read == n) {\r\n          pos = clipPos(cm.doc, pos)\r\n          var change = {from: pos, to: pos,\r\n                        text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\r\n                        origin: \"paste\"}\r\n          makeChange(cm.doc, change)\r\n          setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)))\r\n        }\r\n      })\r\n      reader.readAsText(file)\r\n    }\r\n    for (var i = 0; i < n; ++i) { loadFile(files[i], i) }\r\n  } else { // Normal drop\r\n    // Don't do a replace if the drop happened inside of the selected text.\r\n    if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\r\n      cm.state.draggingText(e)\r\n      // Ensure the editor is re-focused\r\n      setTimeout(function () { return cm.display.input.focus(); }, 20)\r\n      return\r\n    }\r\n    try {\r\n      var text$1 = e.dataTransfer.getData(\"Text\")\r\n      if (text$1) {\r\n        var selected\r\n        if (cm.state.draggingText && !cm.state.draggingText.copy)\r\n          { selected = cm.listSelections() }\r\n        setSelectionNoUndo(cm.doc, simpleSelection(pos, pos))\r\n        if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\r\n          { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\") } }\r\n        cm.replaceSelection(text$1, \"around\", \"paste\")\r\n        cm.display.input.focus()\r\n      }\r\n    }\r\n    catch(e){}\r\n  }\r\n}\r\n\r\nfunction onDragStart(cm, e) {\r\n  if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\r\n  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\r\n\r\n  e.dataTransfer.setData(\"Text\", cm.getSelection())\r\n  e.dataTransfer.effectAllowed = \"copyMove\"\r\n\r\n  // Use dummy image instead of default browsers image.\r\n  // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\r\n  if (e.dataTransfer.setDragImage && !safari) {\r\n    var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\")\r\n    img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\"\r\n    if (presto) {\r\n      img.width = img.height = 1\r\n      cm.display.wrapper.appendChild(img)\r\n      // Force a relayout, or Opera won't use our image for some obscure reason\r\n      img._top = img.offsetTop\r\n    }\r\n    e.dataTransfer.setDragImage(img, 0, 0)\r\n    if (presto) { img.parentNode.removeChild(img) }\r\n  }\r\n}\r\n\r\nfunction onDragOver(cm, e) {\r\n  var pos = posFromMouse(cm, e)\r\n  if (!pos) { return }\r\n  var frag = document.createDocumentFragment()\r\n  drawSelectionCursor(cm, pos, frag)\r\n  if (!cm.display.dragCursor) {\r\n    cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\")\r\n    cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv)\r\n  }\r\n  removeChildrenAndAdd(cm.display.dragCursor, frag)\r\n}\r\n\r\nfunction clearDragCursor(cm) {\r\n  if (cm.display.dragCursor) {\r\n    cm.display.lineSpace.removeChild(cm.display.dragCursor)\r\n    cm.display.dragCursor = null\r\n  }\r\n}\r\n\r\n// These must be handled carefully, because naively registering a\r\n// handler for each editor will cause the editors to never be\r\n// garbage collected.\r\n\r\nfunction forEachCodeMirror(f) {\r\n  if (!document.body.getElementsByClassName) { return }\r\n  var byClass = document.body.getElementsByClassName(\"CodeMirror\")\r\n  for (var i = 0; i < byClass.length; i++) {\r\n    var cm = byClass[i].CodeMirror\r\n    if (cm) { f(cm) }\r\n  }\r\n}\r\n\r\nvar globalsRegistered = false\r\nfunction ensureGlobalHandlers() {\r\n  if (globalsRegistered) { return }\r\n  registerGlobalHandlers()\r\n  globalsRegistered = true\r\n}\r\nfunction registerGlobalHandlers() {\r\n  // When the window resizes, we need to refresh active editors.\r\n  var resizeTimer\r\n  on(window, \"resize\", function () {\r\n    if (resizeTimer == null) { resizeTimer = setTimeout(function () {\r\n      resizeTimer = null\r\n      forEachCodeMirror(onResize)\r\n    }, 100) }\r\n  })\r\n  // When the window loses focus, we want to show the editor as blurred\r\n  on(window, \"blur\", function () { return forEachCodeMirror(onBlur); })\r\n}\r\n// Called when the window resizes\r\nfunction onResize(cm) {\r\n  var d = cm.display\r\n  if (d.lastWrapHeight == d.wrapper.clientHeight && d.lastWrapWidth == d.wrapper.clientWidth)\r\n    { return }\r\n  // Might be a text scaling operation, clear size caches.\r\n  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null\r\n  d.scrollbarsClipped = false\r\n  cm.setSize()\r\n}\r\n\r\nvar keyNames = {\r\n  3: \"Enter\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\r\n  19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\r\n  36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\r\n  46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\r\n  106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 127: \"Delete\",\r\n  173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\r\n  221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\r\n  63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\r\n}\r\n\r\n// Number keys\r\nfor (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i) }\r\n// Alphabetic keys\r\nfor (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1) }\r\n// Function keys\r\nfor (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2 }\r\n\r\nvar keyMap = {}\r\n\r\nkeyMap.basic = {\r\n  \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\r\n  \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\r\n  \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\r\n  \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\r\n  \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\r\n  \"Esc\": \"singleSelection\"\r\n}\r\n// Note that the save and find-related commands aren't defined by\r\n// default. User code or addons can define them. Unknown commands\r\n// are simply ignored.\r\nkeyMap.pcDefault = {\r\n  \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\r\n  \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\r\n  \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\r\n  \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\r\n  \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\r\n  \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\r\n  \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\r\n  fallthrough: \"basic\"\r\n}\r\n// Very basic readline/emacs-style bindings, which are standard on Mac.\r\nkeyMap.emacsy = {\r\n  \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\r\n  \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\r\n  \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\r\n  \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\r\n  \"Ctrl-O\": \"openLine\"\r\n}\r\nkeyMap.macDefault = {\r\n  \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\r\n  \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\r\n  \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\r\n  \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\r\n  \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\r\n  \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\r\n  \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\r\n  fallthrough: [\"basic\", \"emacsy\"]\r\n}\r\nkeyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault\r\n\r\n// KEYMAP DISPATCH\r\n\r\nfunction normalizeKeyName(name) {\r\n  var parts = name.split(/-(?!$)/)\r\n  name = parts[parts.length - 1]\r\n  var alt, ctrl, shift, cmd\r\n  for (var i = 0; i < parts.length - 1; i++) {\r\n    var mod = parts[i]\r\n    if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true }\r\n    else if (/^a(lt)?$/i.test(mod)) { alt = true }\r\n    else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true }\r\n    else if (/^s(hift)?$/i.test(mod)) { shift = true }\r\n    else { throw new Error(\"Unrecognized modifier name: \" + mod) }\r\n  }\r\n  if (alt) { name = \"Alt-\" + name }\r\n  if (ctrl) { name = \"Ctrl-\" + name }\r\n  if (cmd) { name = \"Cmd-\" + name }\r\n  if (shift) { name = \"Shift-\" + name }\r\n  return name\r\n}\r\n\r\n// This is a kludge to keep keymaps mostly working as raw objects\r\n// (backwards compatibility) while at the same time support features\r\n// like normalization and multi-stroke key bindings. It compiles a\r\n// new normalized keymap, and then updates the old object to reflect\r\n// this.\r\nfunction normalizeKeyMap(keymap) {\r\n  var copy = {}\r\n  for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\r\n    var value = keymap[keyname]\r\n    if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\r\n    if (value == \"...\") { delete keymap[keyname]; continue }\r\n\r\n    var keys = map(keyname.split(\" \"), normalizeKeyName)\r\n    for (var i = 0; i < keys.length; i++) {\r\n      var val = (void 0), name = (void 0)\r\n      if (i == keys.length - 1) {\r\n        name = keys.join(\" \")\r\n        val = value\r\n      } else {\r\n        name = keys.slice(0, i + 1).join(\" \")\r\n        val = \"...\"\r\n      }\r\n      var prev = copy[name]\r\n      if (!prev) { copy[name] = val }\r\n      else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\r\n    }\r\n    delete keymap[keyname]\r\n  } }\r\n  for (var prop in copy) { keymap[prop] = copy[prop] }\r\n  return keymap\r\n}\r\n\r\nfunction lookupKey(key, map, handle, context) {\r\n  map = getKeyMap(map)\r\n  var found = map.call ? map.call(key, context) : map[key]\r\n  if (found === false) { return \"nothing\" }\r\n  if (found === \"...\") { return \"multi\" }\r\n  if (found != null && handle(found)) { return \"handled\" }\r\n\r\n  if (map.fallthrough) {\r\n    if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\r\n      { return lookupKey(key, map.fallthrough, handle, context) }\r\n    for (var i = 0; i < map.fallthrough.length; i++) {\r\n      var result = lookupKey(key, map.fallthrough[i], handle, context)\r\n      if (result) { return result }\r\n    }\r\n  }\r\n}\r\n\r\n// Modifier key presses don't count as 'real' key presses for the\r\n// purpose of keymap fallthrough.\r\nfunction isModifierKey(value) {\r\n  var name = typeof value == \"string\" ? value : keyNames[value.keyCode]\r\n  return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\r\n}\r\n\r\n// Look up the name of a key as indicated by an event object.\r\nfunction keyName(event, noShift) {\r\n  if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\r\n  var base = keyNames[event.keyCode], name = base\r\n  if (name == null || event.altGraphKey) { return false }\r\n  if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name }\r\n  if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name }\r\n  if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") { name = \"Cmd-\" + name }\r\n  if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name }\r\n  return name\r\n}\r\n\r\nfunction getKeyMap(val) {\r\n  return typeof val == \"string\" ? keyMap[val] : val\r\n}\r\n\r\n// Helper for deleting text near the selection(s), used to implement\r\n// backspace, delete, and similar functionality.\r\nfunction deleteNearSelection(cm, compute) {\r\n  var ranges = cm.doc.sel.ranges, kill = []\r\n  // Build up a set of ranges to kill first, merging overlapping\r\n  // ranges.\r\n  for (var i = 0; i < ranges.length; i++) {\r\n    var toKill = compute(ranges[i])\r\n    while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\r\n      var replaced = kill.pop()\r\n      if (cmp(replaced.from, toKill.from) < 0) {\r\n        toKill.from = replaced.from\r\n        break\r\n      }\r\n    }\r\n    kill.push(toKill)\r\n  }\r\n  // Next, remove those actual ranges.\r\n  runInOp(cm, function () {\r\n    for (var i = kill.length - 1; i >= 0; i--)\r\n      { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\") }\r\n    ensureCursorVisible(cm)\r\n  })\r\n}\r\n\r\n// Commands are parameter-less actions that can be performed on an\r\n// editor, mostly used for keybindings.\r\nvar commands = {\r\n  selectAll: selectAll,\r\n  singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\r\n  killLine: function (cm) { return deleteNearSelection(cm, function (range) {\r\n    if (range.empty()) {\r\n      var len = getLine(cm.doc, range.head.line).text.length\r\n      if (range.head.ch == len && range.head.line < cm.lastLine())\r\n        { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\r\n      else\r\n        { return {from: range.head, to: Pos(range.head.line, len)} }\r\n    } else {\r\n      return {from: range.from(), to: range.to()}\r\n    }\r\n  }); },\r\n  deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\r\n    from: Pos(range.from().line, 0),\r\n    to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\r\n  }); }); },\r\n  delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\r\n    from: Pos(range.from().line, 0), to: range.from()\r\n  }); }); },\r\n  delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\r\n    var top = cm.charCoords(range.head, \"div\").top + 5\r\n    var leftPos = cm.coordsChar({left: 0, top: top}, \"div\")\r\n    return {from: leftPos, to: range.from()}\r\n  }); },\r\n  delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\r\n    var top = cm.charCoords(range.head, \"div\").top + 5\r\n    var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\r\n    return {from: range.from(), to: rightPos }\r\n  }); },\r\n  undo: function (cm) { return cm.undo(); },\r\n  redo: function (cm) { return cm.redo(); },\r\n  undoSelection: function (cm) { return cm.undoSelection(); },\r\n  redoSelection: function (cm) { return cm.redoSelection(); },\r\n  goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\r\n  goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\r\n  goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\r\n    {origin: \"+move\", bias: 1}\r\n  ); },\r\n  goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\r\n    {origin: \"+move\", bias: 1}\r\n  ); },\r\n  goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\r\n    {origin: \"+move\", bias: -1}\r\n  ); },\r\n  goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\r\n    var top = cm.charCoords(range.head, \"div\").top + 5\r\n    return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\r\n  }, sel_move); },\r\n  goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\r\n    var top = cm.charCoords(range.head, \"div\").top + 5\r\n    return cm.coordsChar({left: 0, top: top}, \"div\")\r\n  }, sel_move); },\r\n  goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\r\n    var top = cm.charCoords(range.head, \"div\").top + 5\r\n    var pos = cm.coordsChar({left: 0, top: top}, \"div\")\r\n    if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\r\n    return pos\r\n  }, sel_move); },\r\n  goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\r\n  goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\r\n  goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\r\n  goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\r\n  goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\r\n  goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\r\n  goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\r\n  goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\r\n  goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\r\n  goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\r\n  goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\r\n  goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\r\n  delCharBefore: function (cm) { return cm.deleteH(-1, \"char\"); },\r\n  delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\r\n  delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\r\n  delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\r\n  delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\r\n  delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\r\n  indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\r\n  indentMore: function (cm) { return cm.indentSelection(\"add\"); },\r\n  indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\r\n  insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\r\n  insertSoftTab: function (cm) {\r\n    var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      var pos = ranges[i].from()\r\n      var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize)\r\n      spaces.push(spaceStr(tabSize - col % tabSize))\r\n    }\r\n    cm.replaceSelections(spaces)\r\n  },\r\n  defaultTab: function (cm) {\r\n    if (cm.somethingSelected()) { cm.indentSelection(\"add\") }\r\n    else { cm.execCommand(\"insertTab\") }\r\n  },\r\n  // Swap the two chars left and right of each selection's head.\r\n  // Move cursor behind the two swapped characters afterwards.\r\n  //\r\n  // Doesn't consider line feeds a character.\r\n  // Doesn't scan more than one line above to find a character.\r\n  // Doesn't do anything on an empty line.\r\n  // Doesn't do anything with non-empty selections.\r\n  transposeChars: function (cm) { return runInOp(cm, function () {\r\n    var ranges = cm.listSelections(), newSel = []\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      if (!ranges[i].empty()) { continue }\r\n      var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text\r\n      if (line) {\r\n        if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1) }\r\n        if (cur.ch > 0) {\r\n          cur = new Pos(cur.line, cur.ch + 1)\r\n          cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\r\n                          Pos(cur.line, cur.ch - 2), cur, \"+transpose\")\r\n        } else if (cur.line > cm.doc.first) {\r\n          var prev = getLine(cm.doc, cur.line - 1).text\r\n          if (prev) {\r\n            cur = new Pos(cur.line, 1)\r\n            cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\r\n                            prev.charAt(prev.length - 1),\r\n                            Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\")\r\n          }\r\n        }\r\n      }\r\n      newSel.push(new Range(cur, cur))\r\n    }\r\n    cm.setSelections(newSel)\r\n  }); },\r\n  newlineAndIndent: function (cm) { return runInOp(cm, function () {\r\n    var sels = cm.listSelections()\r\n    for (var i = sels.length - 1; i >= 0; i--)\r\n      { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\") }\r\n    sels = cm.listSelections()\r\n    for (var i$1 = 0; i$1 < sels.length; i$1++)\r\n      { cm.indentLine(sels[i$1].from().line, null, true) }\r\n    ensureCursorVisible(cm)\r\n  }); },\r\n  openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\r\n  toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\r\n}\r\n\r\n\r\nfunction lineStart(cm, lineN) {\r\n  var line = getLine(cm.doc, lineN)\r\n  var visual = visualLine(line)\r\n  if (visual != line) { lineN = lineNo(visual) }\r\n  return endOfLine(true, cm, visual, lineN, 1)\r\n}\r\nfunction lineEnd(cm, lineN) {\r\n  var line = getLine(cm.doc, lineN)\r\n  var visual = visualLineEnd(line)\r\n  if (visual != line) { lineN = lineNo(visual) }\r\n  return endOfLine(true, cm, line, lineN, -1)\r\n}\r\nfunction lineStartSmart(cm, pos) {\r\n  var start = lineStart(cm, pos.line)\r\n  var line = getLine(cm.doc, start.line)\r\n  var order = getOrder(line)\r\n  if (!order || order[0].level == 0) {\r\n    var firstNonWS = Math.max(0, line.text.search(/\\S/))\r\n    var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch\r\n    return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\r\n  }\r\n  return start\r\n}\r\n\r\n// Run a handler that was bound to a key.\r\nfunction doHandleBinding(cm, bound, dropShift) {\r\n  if (typeof bound == \"string\") {\r\n    bound = commands[bound]\r\n    if (!bound) { return false }\r\n  }\r\n  // Ensure previous input has been read, so that the handler sees a\r\n  // consistent view of the document\r\n  cm.display.input.ensurePolled()\r\n  var prevShift = cm.display.shift, done = false\r\n  try {\r\n    if (cm.isReadOnly()) { cm.state.suppressEdits = true }\r\n    if (dropShift) { cm.display.shift = false }\r\n    done = bound(cm) != Pass\r\n  } finally {\r\n    cm.display.shift = prevShift\r\n    cm.state.suppressEdits = false\r\n  }\r\n  return done\r\n}\r\n\r\nfunction lookupKeyForEditor(cm, name, handle) {\r\n  for (var i = 0; i < cm.state.keyMaps.length; i++) {\r\n    var result = lookupKey(name, cm.state.keyMaps[i], handle, cm)\r\n    if (result) { return result }\r\n  }\r\n  return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\r\n    || lookupKey(name, cm.options.keyMap, handle, cm)\r\n}\r\n\r\nvar stopSeq = new Delayed\r\nfunction dispatchKey(cm, name, e, handle) {\r\n  var seq = cm.state.keySeq\r\n  if (seq) {\r\n    if (isModifierKey(name)) { return \"handled\" }\r\n    stopSeq.set(50, function () {\r\n      if (cm.state.keySeq == seq) {\r\n        cm.state.keySeq = null\r\n        cm.display.input.reset()\r\n      }\r\n    })\r\n    name = seq + \" \" + name\r\n  }\r\n  var result = lookupKeyForEditor(cm, name, handle)\r\n\r\n  if (result == \"multi\")\r\n    { cm.state.keySeq = name }\r\n  if (result == \"handled\")\r\n    { signalLater(cm, \"keyHandled\", cm, name, e) }\r\n\r\n  if (result == \"handled\" || result == \"multi\") {\r\n    e_preventDefault(e)\r\n    restartBlink(cm)\r\n  }\r\n\r\n  if (seq && !result && /\\'$/.test(name)) {\r\n    e_preventDefault(e)\r\n    return true\r\n  }\r\n  return !!result\r\n}\r\n\r\n// Handle a key from the keydown event.\r\nfunction handleKeyBinding(cm, e) {\r\n  var name = keyName(e, true)\r\n  if (!name) { return false }\r\n\r\n  if (e.shiftKey && !cm.state.keySeq) {\r\n    // First try to resolve full name (including 'Shift-'). Failing\r\n    // that, see if there is a cursor-motion command (starting with\r\n    // 'go') bound to the keyname without 'Shift-'.\r\n    return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\r\n        || dispatchKey(cm, name, e, function (b) {\r\n             if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\r\n               { return doHandleBinding(cm, b) }\r\n           })\r\n  } else {\r\n    return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\r\n  }\r\n}\r\n\r\n// Handle a key from the keypress event\r\nfunction handleCharBinding(cm, e, ch) {\r\n  return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\r\n}\r\n\r\nvar lastStoppedKey = null\r\nfunction onKeyDown(e) {\r\n  var cm = this\r\n  cm.curOp.focus = activeElt()\r\n  if (signalDOMEvent(cm, e)) { return }\r\n  // IE does strange things with escape.\r\n  if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false }\r\n  var code = e.keyCode\r\n  cm.display.shift = code == 16 || e.shiftKey\r\n  var handled = handleKeyBinding(cm, e)\r\n  if (presto) {\r\n    lastStoppedKey = handled ? code : null\r\n    // Opera has no cut event... we try to at least catch the key combo\r\n    if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\r\n      { cm.replaceSelection(\"\", null, \"cut\") }\r\n  }\r\n\r\n  // Turn mouse into crosshair when Alt is held on Mac.\r\n  if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\r\n    { showCrossHair(cm) }\r\n}\r\n\r\nfunction showCrossHair(cm) {\r\n  var lineDiv = cm.display.lineDiv\r\n  addClass(lineDiv, \"CodeMirror-crosshair\")\r\n\r\n  function up(e) {\r\n    if (e.keyCode == 18 || !e.altKey) {\r\n      rmClass(lineDiv, \"CodeMirror-crosshair\")\r\n      off(document, \"keyup\", up)\r\n      off(document, \"mouseover\", up)\r\n    }\r\n  }\r\n  on(document, \"keyup\", up)\r\n  on(document, \"mouseover\", up)\r\n}\r\n\r\nfunction onKeyUp(e) {\r\n  if (e.keyCode == 16) { this.doc.sel.shift = false }\r\n  signalDOMEvent(this, e)\r\n}\r\n\r\nfunction onKeyPress(e) {\r\n  var cm = this\r\n  if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\r\n  var keyCode = e.keyCode, charCode = e.charCode\r\n  if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\r\n  if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\r\n  var ch = String.fromCharCode(charCode == null ? keyCode : charCode)\r\n  // Some browsers fire keypress events for backspace\r\n  if (ch == \"\\x08\") { return }\r\n  if (handleCharBinding(cm, e, ch)) { return }\r\n  cm.display.input.onKeyPress(e)\r\n}\r\n\r\n// A mouse down can be a single click, double click, triple click,\r\n// start of selection drag, start of text drag, new cursor\r\n// (ctrl-click), rectangle drag (alt-drag), or xwin\r\n// middle-click-paste. Or it might be a click on something we should\r\n// not interfere with, such as a scrollbar or widget.\r\nfunction onMouseDown(e) {\r\n  var cm = this, display = cm.display\r\n  if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\r\n  display.input.ensurePolled()\r\n  display.shift = e.shiftKey\r\n\r\n  if (eventInWidget(display, e)) {\r\n    if (!webkit) {\r\n      // Briefly turn off draggability, to allow widgets to do\r\n      // normal dragging things.\r\n      display.scroller.draggable = false\r\n      setTimeout(function () { return display.scroller.draggable = true; }, 100)\r\n    }\r\n    return\r\n  }\r\n  if (clickInGutter(cm, e)) { return }\r\n  var start = posFromMouse(cm, e)\r\n  window.focus()\r\n\r\n  switch (e_button(e)) {\r\n  case 1:\r\n    // #3261: make sure, that we're not starting a second selection\r\n    if (cm.state.selectingText)\r\n      { cm.state.selectingText(e) }\r\n    else if (start)\r\n      { leftButtonDown(cm, e, start) }\r\n    else if (e_target(e) == display.scroller)\r\n      { e_preventDefault(e) }\r\n    break\r\n  case 2:\r\n    if (webkit) { cm.state.lastMiddleDown = +new Date }\r\n    if (start) { extendSelection(cm.doc, start) }\r\n    setTimeout(function () { return display.input.focus(); }, 20)\r\n    e_preventDefault(e)\r\n    break\r\n  case 3:\r\n    if (captureRightClick) { onContextMenu(cm, e) }\r\n    else { delayBlurEvent(cm) }\r\n    break\r\n  }\r\n}\r\n\r\nvar lastClick;\r\nvar lastDoubleClick;\r\nfunction leftButtonDown(cm, e, start) {\r\n  if (ie) { setTimeout(bind(ensureFocus, cm), 0) }\r\n  else { cm.curOp.focus = activeElt() }\r\n\r\n  var now = +new Date, type\r\n  if (lastDoubleClick && lastDoubleClick.time > now - 400 && cmp(lastDoubleClick.pos, start) == 0) {\r\n    type = \"triple\"\r\n  } else if (lastClick && lastClick.time > now - 400 && cmp(lastClick.pos, start) == 0) {\r\n    type = \"double\"\r\n    lastDoubleClick = {time: now, pos: start}\r\n  } else {\r\n    type = \"single\"\r\n    lastClick = {time: now, pos: start}\r\n  }\r\n\r\n  var sel = cm.doc.sel, modifier = mac ? e.metaKey : e.ctrlKey, contained\r\n  if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\r\n      type == \"single\" && (contained = sel.contains(start)) > -1 &&\r\n      (cmp((contained = sel.ranges[contained]).from(), start) < 0 || start.xRel > 0) &&\r\n      (cmp(contained.to(), start) > 0 || start.xRel < 0))\r\n    { leftButtonStartDrag(cm, e, start, modifier) }\r\n  else\r\n    { leftButtonSelect(cm, e, start, type, modifier) }\r\n}\r\n\r\n// Start a text drag. When it ends, see if any dragging actually\r\n// happen, and treat as a click if it didn't.\r\nfunction leftButtonStartDrag(cm, e, start, modifier) {\r\n  var display = cm.display, startTime = +new Date\r\n  var dragEnd = operation(cm, function (e2) {\r\n    if (webkit) { display.scroller.draggable = false }\r\n    cm.state.draggingText = false\r\n    off(document, \"mouseup\", dragEnd)\r\n    off(display.scroller, \"drop\", dragEnd)\r\n    if (Math.abs(e.clientX - e2.clientX) + Math.abs(e.clientY - e2.clientY) < 10) {\r\n      e_preventDefault(e2)\r\n      if (!modifier && +new Date - 200 < startTime)\r\n        { extendSelection(cm.doc, start) }\r\n      // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\r\n      if (webkit || ie && ie_version == 9)\r\n        { setTimeout(function () {document.body.focus(); display.input.focus()}, 20) }\r\n      else\r\n        { display.input.focus() }\r\n    }\r\n  })\r\n  // Let the drag handler handle this.\r\n  if (webkit) { display.scroller.draggable = true }\r\n  cm.state.draggingText = dragEnd\r\n  dragEnd.copy = mac ? e.altKey : e.ctrlKey\r\n  // IE's approach to draggable\r\n  if (display.scroller.dragDrop) { display.scroller.dragDrop() }\r\n  on(document, \"mouseup\", dragEnd)\r\n  on(display.scroller, \"drop\", dragEnd)\r\n}\r\n\r\n// Normal selection, as opposed to text dragging.\r\nfunction leftButtonSelect(cm, e, start, type, addNew) {\r\n  var display = cm.display, doc = cm.doc\r\n  e_preventDefault(e)\r\n\r\n  var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges\r\n  if (addNew && !e.shiftKey) {\r\n    ourIndex = doc.sel.contains(start)\r\n    if (ourIndex > -1)\r\n      { ourRange = ranges[ourIndex] }\r\n    else\r\n      { ourRange = new Range(start, start) }\r\n  } else {\r\n    ourRange = doc.sel.primary()\r\n    ourIndex = doc.sel.primIndex\r\n  }\r\n\r\n  if (chromeOS ? e.shiftKey && e.metaKey : e.altKey) {\r\n    type = \"rect\"\r\n    if (!addNew) { ourRange = new Range(start, start) }\r\n    start = posFromMouse(cm, e, true, true)\r\n    ourIndex = -1\r\n  } else if (type == \"double\") {\r\n    var word = cm.findWordAt(start)\r\n    if (cm.display.shift || doc.extend)\r\n      { ourRange = extendRange(doc, ourRange, word.anchor, word.head) }\r\n    else\r\n      { ourRange = word }\r\n  } else if (type == \"triple\") {\r\n    var line = new Range(Pos(start.line, 0), clipPos(doc, Pos(start.line + 1, 0)))\r\n    if (cm.display.shift || doc.extend)\r\n      { ourRange = extendRange(doc, ourRange, line.anchor, line.head) }\r\n    else\r\n      { ourRange = line }\r\n  } else {\r\n    ourRange = extendRange(doc, ourRange, start)\r\n  }\r\n\r\n  if (!addNew) {\r\n    ourIndex = 0\r\n    setSelection(doc, new Selection([ourRange], 0), sel_mouse)\r\n    startSel = doc.sel\r\n  } else if (ourIndex == -1) {\r\n    ourIndex = ranges.length\r\n    setSelection(doc, normalizeSelection(ranges.concat([ourRange]), ourIndex),\r\n                 {scroll: false, origin: \"*mouse\"})\r\n  } else if (ranges.length > 1 && ranges[ourIndex].empty() && type == \"single\" && !e.shiftKey) {\r\n    setSelection(doc, normalizeSelection(ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\r\n                 {scroll: false, origin: \"*mouse\"})\r\n    startSel = doc.sel\r\n  } else {\r\n    replaceOneSelection(doc, ourIndex, ourRange, sel_mouse)\r\n  }\r\n\r\n  var lastPos = start\r\n  function extendTo(pos) {\r\n    if (cmp(lastPos, pos) == 0) { return }\r\n    lastPos = pos\r\n\r\n    if (type == \"rect\") {\r\n      var ranges = [], tabSize = cm.options.tabSize\r\n      var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize)\r\n      var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize)\r\n      var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol)\r\n      for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\r\n           line <= end; line++) {\r\n        var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize)\r\n        if (left == right)\r\n          { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))) }\r\n        else if (text.length > leftPos)\r\n          { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))) }\r\n      }\r\n      if (!ranges.length) { ranges.push(new Range(start, start)) }\r\n      setSelection(doc, normalizeSelection(startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\r\n                   {origin: \"*mouse\", scroll: false})\r\n      cm.scrollIntoView(pos)\r\n    } else {\r\n      var oldRange = ourRange\r\n      var anchor = oldRange.anchor, head = pos\r\n      if (type != \"single\") {\r\n        var range\r\n        if (type == \"double\")\r\n          { range = cm.findWordAt(pos) }\r\n        else\r\n          { range = new Range(Pos(pos.line, 0), clipPos(doc, Pos(pos.line + 1, 0))) }\r\n        if (cmp(range.anchor, anchor) > 0) {\r\n          head = range.head\r\n          anchor = minPos(oldRange.from(), range.anchor)\r\n        } else {\r\n          head = range.anchor\r\n          anchor = maxPos(oldRange.to(), range.head)\r\n        }\r\n      }\r\n      var ranges$1 = startSel.ranges.slice(0)\r\n      ranges$1[ourIndex] = new Range(clipPos(doc, anchor), head)\r\n      setSelection(doc, normalizeSelection(ranges$1, ourIndex), sel_mouse)\r\n    }\r\n  }\r\n\r\n  var editorSize = display.wrapper.getBoundingClientRect()\r\n  // Used to ensure timeout re-tries don't fire when another extend\r\n  // happened in the meantime (clearTimeout isn't reliable -- at\r\n  // least on Chrome, the timeouts still happen even when cleared,\r\n  // if the clear happens after their scheduled firing time).\r\n  var counter = 0\r\n\r\n  function extend(e) {\r\n    var curCount = ++counter\r\n    var cur = posFromMouse(cm, e, true, type == \"rect\")\r\n    if (!cur) { return }\r\n    if (cmp(cur, lastPos) != 0) {\r\n      cm.curOp.focus = activeElt()\r\n      extendTo(cur)\r\n      var visible = visibleLines(display, doc)\r\n      if (cur.line >= visible.to || cur.line < visible.from)\r\n        { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e) }}), 150) }\r\n    } else {\r\n      var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0\r\n      if (outside) { setTimeout(operation(cm, function () {\r\n        if (counter != curCount) { return }\r\n        display.scroller.scrollTop += outside\r\n        extend(e)\r\n      }), 50) }\r\n    }\r\n  }\r\n\r\n  function done(e) {\r\n    cm.state.selectingText = false\r\n    counter = Infinity\r\n    e_preventDefault(e)\r\n    display.input.focus()\r\n    off(document, \"mousemove\", move)\r\n    off(document, \"mouseup\", up)\r\n    doc.history.lastSelOrigin = null\r\n  }\r\n\r\n  var move = operation(cm, function (e) {\r\n    if (!e_button(e)) { done(e) }\r\n    else { extend(e) }\r\n  })\r\n  var up = operation(cm, done)\r\n  cm.state.selectingText = up\r\n  on(document, \"mousemove\", move)\r\n  on(document, \"mouseup\", up)\r\n}\r\n\r\n\r\n// Determines whether an event happened in the gutter, and fires the\r\n// handlers for the corresponding event.\r\nfunction gutterEvent(cm, e, type, prevent) {\r\n  var mX, mY\r\n  try { mX = e.clientX; mY = e.clientY }\r\n  catch(e) { return false }\r\n  if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\r\n  if (prevent) { e_preventDefault(e) }\r\n\r\n  var display = cm.display\r\n  var lineBox = display.lineDiv.getBoundingClientRect()\r\n\r\n  if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\r\n  mY -= lineBox.top - display.viewOffset\r\n\r\n  for (var i = 0; i < cm.options.gutters.length; ++i) {\r\n    var g = display.gutters.childNodes[i]\r\n    if (g && g.getBoundingClientRect().right >= mX) {\r\n      var line = lineAtHeight(cm.doc, mY)\r\n      var gutter = cm.options.gutters[i]\r\n      signal(cm, type, cm, line, gutter, e)\r\n      return e_defaultPrevented(e)\r\n    }\r\n  }\r\n}\r\n\r\nfunction clickInGutter(cm, e) {\r\n  return gutterEvent(cm, e, \"gutterClick\", true)\r\n}\r\n\r\n// CONTEXT MENU HANDLING\r\n\r\n// To make the context menu work, we need to briefly unhide the\r\n// textarea (making it as unobtrusive as possible) to let the\r\n// right-click take effect on it.\r\nfunction onContextMenu(cm, e) {\r\n  if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\r\n  if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\r\n  cm.display.input.onContextMenu(e)\r\n}\r\n\r\nfunction contextMenuInGutter(cm, e) {\r\n  if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\r\n  return gutterEvent(cm, e, \"gutterContextMenu\", false)\r\n}\r\n\r\nfunction themeChanged(cm) {\r\n  cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\r\n    cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\")\r\n  clearCaches(cm)\r\n}\r\n\r\nvar Init = {toString: function(){return \"CodeMirror.Init\"}}\r\n\r\nvar defaults = {}\r\nvar optionHandlers = {}\r\n\r\nfunction defineOptions(CodeMirror) {\r\n  var optionHandlers = CodeMirror.optionHandlers\r\n\r\n  function option(name, deflt, handle, notOnInit) {\r\n    CodeMirror.defaults[name] = deflt\r\n    if (handle) { optionHandlers[name] =\r\n      notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old) }} : handle }\r\n  }\r\n\r\n  CodeMirror.defineOption = option\r\n\r\n  // Passed to option handlers when there is no old value.\r\n  CodeMirror.Init = Init\r\n\r\n  // These two are, on init, called from the constructor because they\r\n  // have to be initialized before the editor can start at all.\r\n  option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true)\r\n  option(\"mode\", null, function (cm, val) {\r\n    cm.doc.modeOption = val\r\n    loadMode(cm)\r\n  }, true)\r\n\r\n  option(\"indentUnit\", 2, loadMode, true)\r\n  option(\"indentWithTabs\", false)\r\n  option(\"smartIndent\", true)\r\n  option(\"tabSize\", 4, function (cm) {\r\n    resetModeState(cm)\r\n    clearCaches(cm)\r\n    regChange(cm)\r\n  }, true)\r\n  option(\"lineSeparator\", null, function (cm, val) {\r\n    cm.doc.lineSep = val\r\n    if (!val) { return }\r\n    var newBreaks = [], lineNo = cm.doc.first\r\n    cm.doc.iter(function (line) {\r\n      for (var pos = 0;;) {\r\n        var found = line.text.indexOf(val, pos)\r\n        if (found == -1) { break }\r\n        pos = found + val.length\r\n        newBreaks.push(Pos(lineNo, found))\r\n      }\r\n      lineNo++\r\n    })\r\n    for (var i = newBreaks.length - 1; i >= 0; i--)\r\n      { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)) }\r\n  })\r\n  option(\"specialChars\", /[\\u0000-\\u001f\\u007f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function (cm, val, old) {\r\n    cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\")\r\n    if (old != Init) { cm.refresh() }\r\n  })\r\n  option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true)\r\n  option(\"electricChars\", true)\r\n  option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\r\n    throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\r\n  }, true)\r\n  option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true)\r\n  option(\"rtlMoveVisually\", !windows)\r\n  option(\"wholeLineUpdateBefore\", true)\r\n\r\n  option(\"theme\", \"default\", function (cm) {\r\n    themeChanged(cm)\r\n    guttersChanged(cm)\r\n  }, true)\r\n  option(\"keyMap\", \"default\", function (cm, val, old) {\r\n    var next = getKeyMap(val)\r\n    var prev = old != Init && getKeyMap(old)\r\n    if (prev && prev.detach) { prev.detach(cm, next) }\r\n    if (next.attach) { next.attach(cm, prev || null) }\r\n  })\r\n  option(\"extraKeys\", null)\r\n\r\n  option(\"lineWrapping\", false, wrappingChanged, true)\r\n  option(\"gutters\", [], function (cm) {\r\n    setGuttersForLineNumbers(cm.options)\r\n    guttersChanged(cm)\r\n  }, true)\r\n  option(\"fixedGutter\", true, function (cm, val) {\r\n    cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\"\r\n    cm.refresh()\r\n  }, true)\r\n  option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true)\r\n  option(\"scrollbarStyle\", \"native\", function (cm) {\r\n    initScrollbars(cm)\r\n    updateScrollbars(cm)\r\n    cm.display.scrollbars.setScrollTop(cm.doc.scrollTop)\r\n    cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)\r\n  }, true)\r\n  option(\"lineNumbers\", false, function (cm) {\r\n    setGuttersForLineNumbers(cm.options)\r\n    guttersChanged(cm)\r\n  }, true)\r\n  option(\"firstLineNumber\", 1, guttersChanged, true)\r\n  option(\"lineNumberFormatter\", function (integer) { return integer; }, guttersChanged, true)\r\n  option(\"showCursorWhenSelecting\", false, updateSelection, true)\r\n\r\n  option(\"resetSelectionOnContextMenu\", true)\r\n  option(\"lineWiseCopyCut\", true)\r\n\r\n  option(\"readOnly\", false, function (cm, val) {\r\n    if (val == \"nocursor\") {\r\n      onBlur(cm)\r\n      cm.display.input.blur()\r\n      cm.display.disabled = true\r\n    } else {\r\n      cm.display.disabled = false\r\n    }\r\n    cm.display.input.readOnlyChanged(val)\r\n  })\r\n  option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset() }}, true)\r\n  option(\"dragDrop\", true, dragDropChanged)\r\n  option(\"allowDropFileTypes\", null)\r\n\r\n  option(\"cursorBlinkRate\", 530)\r\n  option(\"cursorScrollMargin\", 0)\r\n  option(\"cursorHeight\", 1, updateSelection, true)\r\n  option(\"singleCursorHeightPerLine\", true, updateSelection, true)\r\n  option(\"workTime\", 100)\r\n  option(\"workDelay\", 100)\r\n  option(\"flattenSpans\", true, resetModeState, true)\r\n  option(\"addModeClass\", false, resetModeState, true)\r\n  option(\"pollInterval\", 100)\r\n  option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; })\r\n  option(\"historyEventDelay\", 1250)\r\n  option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true)\r\n  option(\"maxHighlightLength\", 10000, resetModeState, true)\r\n  option(\"moveInputWithCursor\", true, function (cm, val) {\r\n    if (!val) { cm.display.input.resetPosition() }\r\n  })\r\n\r\n  option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; })\r\n  option(\"autofocus\", null)\r\n}\r\n\r\nfunction guttersChanged(cm) {\r\n  updateGutters(cm)\r\n  regChange(cm)\r\n  alignHorizontally(cm)\r\n}\r\n\r\nfunction dragDropChanged(cm, value, old) {\r\n  var wasOn = old && old != Init\r\n  if (!value != !wasOn) {\r\n    var funcs = cm.display.dragFunctions\r\n    var toggle = value ? on : off\r\n    toggle(cm.display.scroller, \"dragstart\", funcs.start)\r\n    toggle(cm.display.scroller, \"dragenter\", funcs.enter)\r\n    toggle(cm.display.scroller, \"dragover\", funcs.over)\r\n    toggle(cm.display.scroller, \"dragleave\", funcs.leave)\r\n    toggle(cm.display.scroller, \"drop\", funcs.drop)\r\n  }\r\n}\r\n\r\nfunction wrappingChanged(cm) {\r\n  if (cm.options.lineWrapping) {\r\n    addClass(cm.display.wrapper, \"CodeMirror-wrap\")\r\n    cm.display.sizer.style.minWidth = \"\"\r\n    cm.display.sizerWidth = null\r\n  } else {\r\n    rmClass(cm.display.wrapper, \"CodeMirror-wrap\")\r\n    findMaxLine(cm)\r\n  }\r\n  estimateLineHeights(cm)\r\n  regChange(cm)\r\n  clearCaches(cm)\r\n  setTimeout(function () { return updateScrollbars(cm); }, 100)\r\n}\r\n\r\n// A CodeMirror instance represents an editor. This is the object\r\n// that user code is usually dealing with.\r\n\r\nfunction CodeMirror(place, options) {\r\n  var this$1 = this;\r\n\r\n  if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\r\n\r\n  this.options = options = options ? copyObj(options) : {}\r\n  // Determine effective options based on given values and defaults.\r\n  copyObj(defaults, options, false)\r\n  setGuttersForLineNumbers(options)\r\n\r\n  var doc = options.value\r\n  if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator) }\r\n  this.doc = doc\r\n\r\n  var input = new CodeMirror.inputStyles[options.inputStyle](this)\r\n  var display = this.display = new Display(place, doc, input)\r\n  display.wrapper.CodeMirror = this\r\n  updateGutters(this)\r\n  themeChanged(this)\r\n  if (options.lineWrapping)\r\n    { this.display.wrapper.className += \" CodeMirror-wrap\" }\r\n  initScrollbars(this)\r\n\r\n  this.state = {\r\n    keyMaps: [],  // stores maps added by addKeyMap\r\n    overlays: [], // highlighting overlays, as added by addOverlay\r\n    modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\r\n    overwrite: false,\r\n    delayingBlurEvent: false,\r\n    focused: false,\r\n    suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\r\n    pasteIncoming: false, cutIncoming: false, // help recognize paste/cut edits in input.poll\r\n    selectingText: false,\r\n    draggingText: false,\r\n    highlight: new Delayed(), // stores highlight worker timeout\r\n    keySeq: null,  // Unfinished key sequence\r\n    specialChars: null\r\n  }\r\n\r\n  if (options.autofocus && !mobile) { display.input.focus() }\r\n\r\n  // Override magic textarea content restore that IE sometimes does\r\n  // on our hidden textarea on reload\r\n  if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20) }\r\n\r\n  registerEventHandlers(this)\r\n  ensureGlobalHandlers()\r\n\r\n  startOperation(this)\r\n  this.curOp.forceUpdate = true\r\n  attachDoc(this, doc)\r\n\r\n  if ((options.autofocus && !mobile) || this.hasFocus())\r\n    { setTimeout(bind(onFocus, this), 20) }\r\n  else\r\n    { onBlur(this) }\r\n\r\n  for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\r\n    { optionHandlers[opt](this$1, options[opt], Init) } }\r\n  maybeUpdateLineNumberWidth(this)\r\n  if (options.finishInit) { options.finishInit(this) }\r\n  for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this$1) }\r\n  endOperation(this)\r\n  // Suppress optimizelegibility in Webkit, since it breaks text\r\n  // measuring on line wrapping boundaries.\r\n  if (webkit && options.lineWrapping &&\r\n      getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\r\n    { display.lineDiv.style.textRendering = \"auto\" }\r\n}\r\n\r\n// The default configuration options.\r\nCodeMirror.defaults = defaults\r\n// Functions to run when options are changed.\r\nCodeMirror.optionHandlers = optionHandlers\r\n\r\n// Attach the necessary event handlers when initializing the editor\r\nfunction registerEventHandlers(cm) {\r\n  var d = cm.display\r\n  on(d.scroller, \"mousedown\", operation(cm, onMouseDown))\r\n  // Older IE's will not fire a second mousedown for a double click\r\n  if (ie && ie_version < 11)\r\n    { on(d.scroller, \"dblclick\", operation(cm, function (e) {\r\n      if (signalDOMEvent(cm, e)) { return }\r\n      var pos = posFromMouse(cm, e)\r\n      if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\r\n      e_preventDefault(e)\r\n      var word = cm.findWordAt(pos)\r\n      extendSelection(cm.doc, word.anchor, word.head)\r\n    })) }\r\n  else\r\n    { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }) }\r\n  // Some browsers fire contextmenu *after* opening the menu, at\r\n  // which point we can't mess with it anymore. Context menu is\r\n  // handled in onMouseDown for these browsers.\r\n  if (!captureRightClick) { on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); }) }\r\n\r\n  // Used to suppress mouse event handling when a touch happens\r\n  var touchFinished, prevTouch = {end: 0}\r\n  function finishTouch() {\r\n    if (d.activeTouch) {\r\n      touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000)\r\n      prevTouch = d.activeTouch\r\n      prevTouch.end = +new Date\r\n    }\r\n  }\r\n  function isMouseLikeTouchEvent(e) {\r\n    if (e.touches.length != 1) { return false }\r\n    var touch = e.touches[0]\r\n    return touch.radiusX <= 1 && touch.radiusY <= 1\r\n  }\r\n  function farAway(touch, other) {\r\n    if (other.left == null) { return true }\r\n    var dx = other.left - touch.left, dy = other.top - touch.top\r\n    return dx * dx + dy * dy > 20 * 20\r\n  }\r\n  on(d.scroller, \"touchstart\", function (e) {\r\n    if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e)) {\r\n      d.input.ensurePolled()\r\n      clearTimeout(touchFinished)\r\n      var now = +new Date\r\n      d.activeTouch = {start: now, moved: false,\r\n                       prev: now - prevTouch.end <= 300 ? prevTouch : null}\r\n      if (e.touches.length == 1) {\r\n        d.activeTouch.left = e.touches[0].pageX\r\n        d.activeTouch.top = e.touches[0].pageY\r\n      }\r\n    }\r\n  })\r\n  on(d.scroller, \"touchmove\", function () {\r\n    if (d.activeTouch) { d.activeTouch.moved = true }\r\n  })\r\n  on(d.scroller, \"touchend\", function (e) {\r\n    var touch = d.activeTouch\r\n    if (touch && !eventInWidget(d, e) && touch.left != null &&\r\n        !touch.moved && new Date - touch.start < 300) {\r\n      var pos = cm.coordsChar(d.activeTouch, \"page\"), range\r\n      if (!touch.prev || farAway(touch, touch.prev)) // Single tap\r\n        { range = new Range(pos, pos) }\r\n      else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\r\n        { range = cm.findWordAt(pos) }\r\n      else // Triple tap\r\n        { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\r\n      cm.setSelection(range.anchor, range.head)\r\n      cm.focus()\r\n      e_preventDefault(e)\r\n    }\r\n    finishTouch()\r\n  })\r\n  on(d.scroller, \"touchcancel\", finishTouch)\r\n\r\n  // Sync scrolling between fake scrollbars and real scrollable\r\n  // area, ensure viewport is updated when scrolling.\r\n  on(d.scroller, \"scroll\", function () {\r\n    if (d.scroller.clientHeight) {\r\n      setScrollTop(cm, d.scroller.scrollTop)\r\n      setScrollLeft(cm, d.scroller.scrollLeft, true)\r\n      signal(cm, \"scroll\", cm)\r\n    }\r\n  })\r\n\r\n  // Listen to wheel events in order to try and update the viewport on time.\r\n  on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); })\r\n  on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); })\r\n\r\n  // Prevent wrapper from ever scrolling\r\n  on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; })\r\n\r\n  d.dragFunctions = {\r\n    enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e) }},\r\n    over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e) }},\r\n    start: function (e) { return onDragStart(cm, e); },\r\n    drop: operation(cm, onDrop),\r\n    leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm) }}\r\n  }\r\n\r\n  var inp = d.input.getField()\r\n  on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); })\r\n  on(inp, \"keydown\", operation(cm, onKeyDown))\r\n  on(inp, \"keypress\", operation(cm, onKeyPress))\r\n  on(inp, \"focus\", function (e) { return onFocus(cm, e); })\r\n  on(inp, \"blur\", function (e) { return onBlur(cm, e); })\r\n}\r\n\r\nvar initHooks = []\r\nCodeMirror.defineInitHook = function (f) { return initHooks.push(f); }\r\n\r\n// Indent the given line. The how parameter can be \"smart\",\r\n// \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\r\n// (typically set to true for forced single-line indents), empty\r\n// lines are not indented, and places where the mode returns Pass\r\n// are left alone.\r\nfunction indentLine(cm, n, how, aggressive) {\r\n  var doc = cm.doc, state\r\n  if (how == null) { how = \"add\" }\r\n  if (how == \"smart\") {\r\n    // Fall back to \"prev\" when the mode doesn't have an indentation\r\n    // method.\r\n    if (!doc.mode.indent) { how = \"prev\" }\r\n    else { state = getStateBefore(cm, n) }\r\n  }\r\n\r\n  var tabSize = cm.options.tabSize\r\n  var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize)\r\n  if (line.stateAfter) { line.stateAfter = null }\r\n  var curSpaceString = line.text.match(/^\\s*/)[0], indentation\r\n  if (!aggressive && !/\\S/.test(line.text)) {\r\n    indentation = 0\r\n    how = \"not\"\r\n  } else if (how == \"smart\") {\r\n    indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text)\r\n    if (indentation == Pass || indentation > 150) {\r\n      if (!aggressive) { return }\r\n      how = \"prev\"\r\n    }\r\n  }\r\n  if (how == \"prev\") {\r\n    if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize) }\r\n    else { indentation = 0 }\r\n  } else if (how == \"add\") {\r\n    indentation = curSpace + cm.options.indentUnit\r\n  } else if (how == \"subtract\") {\r\n    indentation = curSpace - cm.options.indentUnit\r\n  } else if (typeof how == \"number\") {\r\n    indentation = curSpace + how\r\n  }\r\n  indentation = Math.max(0, indentation)\r\n\r\n  var indentString = \"\", pos = 0\r\n  if (cm.options.indentWithTabs)\r\n    { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\"} }\r\n  if (pos < indentation) { indentString += spaceStr(indentation - pos) }\r\n\r\n  if (indentString != curSpaceString) {\r\n    replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\")\r\n    line.stateAfter = null\r\n    return true\r\n  } else {\r\n    // Ensure that, if the cursor was in the whitespace at the start\r\n    // of the line, it is moved to the end of that space.\r\n    for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\r\n      var range = doc.sel.ranges[i$1]\r\n      if (range.head.line == n && range.head.ch < curSpaceString.length) {\r\n        var pos$1 = Pos(n, curSpaceString.length)\r\n        replaceOneSelection(doc, i$1, new Range(pos$1, pos$1))\r\n        break\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// This will be set to a {lineWise: bool, text: [string]} object, so\r\n// that, when pasting, we know what kind of selections the copied\r\n// text was made out of.\r\nvar lastCopied = null\r\n\r\nfunction setLastCopied(newLastCopied) {\r\n  lastCopied = newLastCopied\r\n}\r\n\r\nfunction applyTextInput(cm, inserted, deleted, sel, origin) {\r\n  var doc = cm.doc\r\n  cm.display.shift = false\r\n  if (!sel) { sel = doc.sel }\r\n\r\n  var paste = cm.state.pasteIncoming || origin == \"paste\"\r\n  var textLines = splitLinesAuto(inserted), multiPaste = null\r\n  // When pasing N lines into N selections, insert one line per selection\r\n  if (paste && sel.ranges.length > 1) {\r\n    if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\r\n      if (sel.ranges.length % lastCopied.text.length == 0) {\r\n        multiPaste = []\r\n        for (var i = 0; i < lastCopied.text.length; i++)\r\n          { multiPaste.push(doc.splitLines(lastCopied.text[i])) }\r\n      }\r\n    } else if (textLines.length == sel.ranges.length) {\r\n      multiPaste = map(textLines, function (l) { return [l]; })\r\n    }\r\n  }\r\n\r\n  var updateInput\r\n  // Normal behavior is to insert the new text into every selection\r\n  for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\r\n    var range = sel.ranges[i$1]\r\n    var from = range.from(), to = range.to()\r\n    if (range.empty()) {\r\n      if (deleted && deleted > 0) // Handle deletion\r\n        { from = Pos(from.line, from.ch - deleted) }\r\n      else if (cm.state.overwrite && !paste) // Handle overwrite\r\n        { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)) }\r\n      else if (lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted)\r\n        { from = to = Pos(from.line, 0) }\r\n    }\r\n    updateInput = cm.curOp.updateInput\r\n    var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\r\n                       origin: origin || (paste ? \"paste\" : cm.state.cutIncoming ? \"cut\" : \"+input\")}\r\n    makeChange(cm.doc, changeEvent)\r\n    signalLater(cm, \"inputRead\", cm, changeEvent)\r\n  }\r\n  if (inserted && !paste)\r\n    { triggerElectric(cm, inserted) }\r\n\r\n  ensureCursorVisible(cm)\r\n  cm.curOp.updateInput = updateInput\r\n  cm.curOp.typing = true\r\n  cm.state.pasteIncoming = cm.state.cutIncoming = false\r\n}\r\n\r\nfunction handlePaste(e, cm) {\r\n  var pasted = e.clipboardData && e.clipboardData.getData(\"Text\")\r\n  if (pasted) {\r\n    e.preventDefault()\r\n    if (!cm.isReadOnly() && !cm.options.disableInput)\r\n      { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }) }\r\n    return true\r\n  }\r\n}\r\n\r\nfunction triggerElectric(cm, inserted) {\r\n  // When an 'electric' character is inserted, immediately trigger a reindent\r\n  if (!cm.options.electricChars || !cm.options.smartIndent) { return }\r\n  var sel = cm.doc.sel\r\n\r\n  for (var i = sel.ranges.length - 1; i >= 0; i--) {\r\n    var range = sel.ranges[i]\r\n    if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\r\n    var mode = cm.getModeAt(range.head)\r\n    var indented = false\r\n    if (mode.electricChars) {\r\n      for (var j = 0; j < mode.electricChars.length; j++)\r\n        { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\r\n          indented = indentLine(cm, range.head.line, \"smart\")\r\n          break\r\n        } }\r\n    } else if (mode.electricInput) {\r\n      if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\r\n        { indented = indentLine(cm, range.head.line, \"smart\") }\r\n    }\r\n    if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line) }\r\n  }\r\n}\r\n\r\nfunction copyableRanges(cm) {\r\n  var text = [], ranges = []\r\n  for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\r\n    var line = cm.doc.sel.ranges[i].head.line\r\n    var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)}\r\n    ranges.push(lineRange)\r\n    text.push(cm.getRange(lineRange.anchor, lineRange.head))\r\n  }\r\n  return {text: text, ranges: ranges}\r\n}\r\n\r\nfunction disableBrowserMagic(field, spellcheck) {\r\n  field.setAttribute(\"autocorrect\", \"off\")\r\n  field.setAttribute(\"autocapitalize\", \"off\")\r\n  field.setAttribute(\"spellcheck\", !!spellcheck)\r\n}\r\n\r\nfunction hiddenTextarea() {\r\n  var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\")\r\n  var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\")\r\n  // The textarea is kept positioned near the cursor to prevent the\r\n  // fact that it'll be scrolled into view on input from scrolling\r\n  // our fake cursor out of view. On webkit, when wrap=off, paste is\r\n  // very slow. So make the area wide instead.\r\n  if (webkit) { te.style.width = \"1000px\" }\r\n  else { te.setAttribute(\"wrap\", \"off\") }\r\n  // If border: 0; -- iOS fails to open keyboard (issue #1287)\r\n  if (ios) { te.style.border = \"1px solid black\" }\r\n  disableBrowserMagic(te)\r\n  return div\r\n}\r\n\r\n// The publicly visible API. Note that methodOp(f) means\r\n// 'wrap f in an operation, performed on its `this` parameter'.\r\n\r\n// This is not the complete set of editor methods. Most of the\r\n// methods defined on the Doc type are also injected into\r\n// CodeMirror.prototype, for backwards compatibility and\r\n// convenience.\r\n\r\nfunction addEditorMethods(CodeMirror) {\r\n  var optionHandlers = CodeMirror.optionHandlers\r\n\r\n  var helpers = CodeMirror.helpers = {}\r\n\r\n  CodeMirror.prototype = {\r\n    constructor: CodeMirror,\r\n    focus: function(){window.focus(); this.display.input.focus()},\r\n\r\n    setOption: function(option, value) {\r\n      var options = this.options, old = options[option]\r\n      if (options[option] == value && option != \"mode\") { return }\r\n      options[option] = value\r\n      if (optionHandlers.hasOwnProperty(option))\r\n        { operation(this, optionHandlers[option])(this, value, old) }\r\n      signal(this, \"optionChange\", this, option)\r\n    },\r\n\r\n    getOption: function(option) {return this.options[option]},\r\n    getDoc: function() {return this.doc},\r\n\r\n    addKeyMap: function(map, bottom) {\r\n      this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map))\r\n    },\r\n    removeKeyMap: function(map) {\r\n      var maps = this.state.keyMaps\r\n      for (var i = 0; i < maps.length; ++i)\r\n        { if (maps[i] == map || maps[i].name == map) {\r\n          maps.splice(i, 1)\r\n          return true\r\n        } }\r\n    },\r\n\r\n    addOverlay: methodOp(function(spec, options) {\r\n      var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec)\r\n      if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\r\n      insertSorted(this.state.overlays,\r\n                   {mode: mode, modeSpec: spec, opaque: options && options.opaque,\r\n                    priority: (options && options.priority) || 0},\r\n                   function (overlay) { return overlay.priority; })\r\n      this.state.modeGen++\r\n      regChange(this)\r\n    }),\r\n    removeOverlay: methodOp(function(spec) {\r\n      var this$1 = this;\r\n\r\n      var overlays = this.state.overlays\r\n      for (var i = 0; i < overlays.length; ++i) {\r\n        var cur = overlays[i].modeSpec\r\n        if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\r\n          overlays.splice(i, 1)\r\n          this$1.state.modeGen++\r\n          regChange(this$1)\r\n          return\r\n        }\r\n      }\r\n    }),\r\n\r\n    indentLine: methodOp(function(n, dir, aggressive) {\r\n      if (typeof dir != \"string\" && typeof dir != \"number\") {\r\n        if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\" }\r\n        else { dir = dir ? \"add\" : \"subtract\" }\r\n      }\r\n      if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive) }\r\n    }),\r\n    indentSelection: methodOp(function(how) {\r\n      var this$1 = this;\r\n\r\n      var ranges = this.doc.sel.ranges, end = -1\r\n      for (var i = 0; i < ranges.length; i++) {\r\n        var range = ranges[i]\r\n        if (!range.empty()) {\r\n          var from = range.from(), to = range.to()\r\n          var start = Math.max(end, from.line)\r\n          end = Math.min(this$1.lastLine(), to.line - (to.ch ? 0 : 1)) + 1\r\n          for (var j = start; j < end; ++j)\r\n            { indentLine(this$1, j, how) }\r\n          var newRanges = this$1.doc.sel.ranges\r\n          if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\r\n            { replaceOneSelection(this$1.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll) }\r\n        } else if (range.head.line > end) {\r\n          indentLine(this$1, range.head.line, how, true)\r\n          end = range.head.line\r\n          if (i == this$1.doc.sel.primIndex) { ensureCursorVisible(this$1) }\r\n        }\r\n      }\r\n    }),\r\n\r\n    // Fetch the parser token for a given character. Useful for hacks\r\n    // that want to inspect the mode state (say, for completion).\r\n    getTokenAt: function(pos, precise) {\r\n      return takeToken(this, pos, precise)\r\n    },\r\n\r\n    getLineTokens: function(line, precise) {\r\n      return takeToken(this, Pos(line), precise, true)\r\n    },\r\n\r\n    getTokenTypeAt: function(pos) {\r\n      pos = clipPos(this.doc, pos)\r\n      var styles = getLineStyles(this, getLine(this.doc, pos.line))\r\n      var before = 0, after = (styles.length - 1) / 2, ch = pos.ch\r\n      var type\r\n      if (ch == 0) { type = styles[2] }\r\n      else { for (;;) {\r\n        var mid = (before + after) >> 1\r\n        if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid }\r\n        else if (styles[mid * 2 + 1] < ch) { before = mid + 1 }\r\n        else { type = styles[mid * 2 + 2]; break }\r\n      } }\r\n      var cut = type ? type.indexOf(\"overlay \") : -1\r\n      return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\r\n    },\r\n\r\n    getModeAt: function(pos) {\r\n      var mode = this.doc.mode\r\n      if (!mode.innerMode) { return mode }\r\n      return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\r\n    },\r\n\r\n    getHelper: function(pos, type) {\r\n      return this.getHelpers(pos, type)[0]\r\n    },\r\n\r\n    getHelpers: function(pos, type) {\r\n      var this$1 = this;\r\n\r\n      var found = []\r\n      if (!helpers.hasOwnProperty(type)) { return found }\r\n      var help = helpers[type], mode = this.getModeAt(pos)\r\n      if (typeof mode[type] == \"string\") {\r\n        if (help[mode[type]]) { found.push(help[mode[type]]) }\r\n      } else if (mode[type]) {\r\n        for (var i = 0; i < mode[type].length; i++) {\r\n          var val = help[mode[type][i]]\r\n          if (val) { found.push(val) }\r\n        }\r\n      } else if (mode.helperType && help[mode.helperType]) {\r\n        found.push(help[mode.helperType])\r\n      } else if (help[mode.name]) {\r\n        found.push(help[mode.name])\r\n      }\r\n      for (var i$1 = 0; i$1 < help._global.length; i$1++) {\r\n        var cur = help._global[i$1]\r\n        if (cur.pred(mode, this$1) && indexOf(found, cur.val) == -1)\r\n          { found.push(cur.val) }\r\n      }\r\n      return found\r\n    },\r\n\r\n    getStateAfter: function(line, precise) {\r\n      var doc = this.doc\r\n      line = clipLine(doc, line == null ? doc.first + doc.size - 1: line)\r\n      return getStateBefore(this, line + 1, precise)\r\n    },\r\n\r\n    cursorCoords: function(start, mode) {\r\n      var pos, range = this.doc.sel.primary()\r\n      if (start == null) { pos = range.head }\r\n      else if (typeof start == \"object\") { pos = clipPos(this.doc, start) }\r\n      else { pos = start ? range.from() : range.to() }\r\n      return cursorCoords(this, pos, mode || \"page\")\r\n    },\r\n\r\n    charCoords: function(pos, mode) {\r\n      return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\r\n    },\r\n\r\n    coordsChar: function(coords, mode) {\r\n      coords = fromCoordSystem(this, coords, mode || \"page\")\r\n      return coordsChar(this, coords.left, coords.top)\r\n    },\r\n\r\n    lineAtHeight: function(height, mode) {\r\n      height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top\r\n      return lineAtHeight(this.doc, height + this.display.viewOffset)\r\n    },\r\n    heightAtLine: function(line, mode, includeWidgets) {\r\n      var end = false, lineObj\r\n      if (typeof line == \"number\") {\r\n        var last = this.doc.first + this.doc.size - 1\r\n        if (line < this.doc.first) { line = this.doc.first }\r\n        else if (line > last) { line = last; end = true }\r\n        lineObj = getLine(this.doc, line)\r\n      } else {\r\n        lineObj = line\r\n      }\r\n      return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\r\n        (end ? this.doc.height - heightAtLine(lineObj) : 0)\r\n    },\r\n\r\n    defaultTextHeight: function() { return textHeight(this.display) },\r\n    defaultCharWidth: function() { return charWidth(this.display) },\r\n\r\n    getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\r\n\r\n    addWidget: function(pos, node, scroll, vert, horiz) {\r\n      var display = this.display\r\n      pos = cursorCoords(this, clipPos(this.doc, pos))\r\n      var top = pos.bottom, left = pos.left\r\n      node.style.position = \"absolute\"\r\n      node.setAttribute(\"cm-ignore-events\", \"true\")\r\n      this.display.input.setUneditable(node)\r\n      display.sizer.appendChild(node)\r\n      if (vert == \"over\") {\r\n        top = pos.top\r\n      } else if (vert == \"above\" || vert == \"near\") {\r\n        var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\r\n        hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth)\r\n        // Default to positioning above (if specified and possible); otherwise default to positioning below\r\n        if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\r\n          { top = pos.top - node.offsetHeight }\r\n        else if (pos.bottom + node.offsetHeight <= vspace)\r\n          { top = pos.bottom }\r\n        if (left + node.offsetWidth > hspace)\r\n          { left = hspace - node.offsetWidth }\r\n      }\r\n      node.style.top = top + \"px\"\r\n      node.style.left = node.style.right = \"\"\r\n      if (horiz == \"right\") {\r\n        left = display.sizer.clientWidth - node.offsetWidth\r\n        node.style.right = \"0px\"\r\n      } else {\r\n        if (horiz == \"left\") { left = 0 }\r\n        else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2 }\r\n        node.style.left = left + \"px\"\r\n      }\r\n      if (scroll)\r\n        { scrollIntoView(this, left, top, left + node.offsetWidth, top + node.offsetHeight) }\r\n    },\r\n\r\n    triggerOnKeyDown: methodOp(onKeyDown),\r\n    triggerOnKeyPress: methodOp(onKeyPress),\r\n    triggerOnKeyUp: onKeyUp,\r\n\r\n    execCommand: function(cmd) {\r\n      if (commands.hasOwnProperty(cmd))\r\n        { return commands[cmd].call(null, this) }\r\n    },\r\n\r\n    triggerElectric: methodOp(function(text) { triggerElectric(this, text) }),\r\n\r\n    findPosH: function(from, amount, unit, visually) {\r\n      var this$1 = this;\r\n\r\n      var dir = 1\r\n      if (amount < 0) { dir = -1; amount = -amount }\r\n      var cur = clipPos(this.doc, from)\r\n      for (var i = 0; i < amount; ++i) {\r\n        cur = findPosH(this$1.doc, cur, dir, unit, visually)\r\n        if (cur.hitSide) { break }\r\n      }\r\n      return cur\r\n    },\r\n\r\n    moveH: methodOp(function(dir, unit) {\r\n      var this$1 = this;\r\n\r\n      this.extendSelectionsBy(function (range) {\r\n        if (this$1.display.shift || this$1.doc.extend || range.empty())\r\n          { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\r\n        else\r\n          { return dir < 0 ? range.from() : range.to() }\r\n      }, sel_move)\r\n    }),\r\n\r\n    deleteH: methodOp(function(dir, unit) {\r\n      var sel = this.doc.sel, doc = this.doc\r\n      if (sel.somethingSelected())\r\n        { doc.replaceSelection(\"\", null, \"+delete\") }\r\n      else\r\n        { deleteNearSelection(this, function (range) {\r\n          var other = findPosH(doc, range.head, dir, unit, false)\r\n          return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\r\n        }) }\r\n    }),\r\n\r\n    findPosV: function(from, amount, unit, goalColumn) {\r\n      var this$1 = this;\r\n\r\n      var dir = 1, x = goalColumn\r\n      if (amount < 0) { dir = -1; amount = -amount }\r\n      var cur = clipPos(this.doc, from)\r\n      for (var i = 0; i < amount; ++i) {\r\n        var coords = cursorCoords(this$1, cur, \"div\")\r\n        if (x == null) { x = coords.left }\r\n        else { coords.left = x }\r\n        cur = findPosV(this$1, coords, dir, unit)\r\n        if (cur.hitSide) { break }\r\n      }\r\n      return cur\r\n    },\r\n\r\n    moveV: methodOp(function(dir, unit) {\r\n      var this$1 = this;\r\n\r\n      var doc = this.doc, goals = []\r\n      var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected()\r\n      doc.extendSelectionsBy(function (range) {\r\n        if (collapse)\r\n          { return dir < 0 ? range.from() : range.to() }\r\n        var headPos = cursorCoords(this$1, range.head, \"div\")\r\n        if (range.goalColumn != null) { headPos.left = range.goalColumn }\r\n        goals.push(headPos.left)\r\n        var pos = findPosV(this$1, headPos, dir, unit)\r\n        if (unit == \"page\" && range == doc.sel.primary())\r\n          { addToScrollPos(this$1, null, charCoords(this$1, pos, \"div\").top - headPos.top) }\r\n        return pos\r\n      }, sel_move)\r\n      if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\r\n        { doc.sel.ranges[i].goalColumn = goals[i] } }\r\n    }),\r\n\r\n    // Find the word at the given position (as returned by coordsChar).\r\n    findWordAt: function(pos) {\r\n      var doc = this.doc, line = getLine(doc, pos.line).text\r\n      var start = pos.ch, end = pos.ch\r\n      if (line) {\r\n        var helper = this.getHelper(pos, \"wordChars\")\r\n        if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end }\r\n        var startChar = line.charAt(start)\r\n        var check = isWordChar(startChar, helper)\r\n          ? function (ch) { return isWordChar(ch, helper); }\r\n          : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\r\n          : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); }\r\n        while (start > 0 && check(line.charAt(start - 1))) { --start }\r\n        while (end < line.length && check(line.charAt(end))) { ++end }\r\n      }\r\n      return new Range(Pos(pos.line, start), Pos(pos.line, end))\r\n    },\r\n\r\n    toggleOverwrite: function(value) {\r\n      if (value != null && value == this.state.overwrite) { return }\r\n      if (this.state.overwrite = !this.state.overwrite)\r\n        { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\") }\r\n      else\r\n        { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\") }\r\n\r\n      signal(this, \"overwriteToggle\", this, this.state.overwrite)\r\n    },\r\n    hasFocus: function() { return this.display.input.getField() == activeElt() },\r\n    isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\r\n\r\n    scrollTo: methodOp(function(x, y) {\r\n      if (x != null || y != null) { resolveScrollToPos(this) }\r\n      if (x != null) { this.curOp.scrollLeft = x }\r\n      if (y != null) { this.curOp.scrollTop = y }\r\n    }),\r\n    getScrollInfo: function() {\r\n      var scroller = this.display.scroller\r\n      return {left: scroller.scrollLeft, top: scroller.scrollTop,\r\n              height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\r\n              width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\r\n              clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\r\n    },\r\n\r\n    scrollIntoView: methodOp(function(range, margin) {\r\n      if (range == null) {\r\n        range = {from: this.doc.sel.primary().head, to: null}\r\n        if (margin == null) { margin = this.options.cursorScrollMargin }\r\n      } else if (typeof range == \"number\") {\r\n        range = {from: Pos(range, 0), to: null}\r\n      } else if (range.from == null) {\r\n        range = {from: range, to: null}\r\n      }\r\n      if (!range.to) { range.to = range.from }\r\n      range.margin = margin || 0\r\n\r\n      if (range.from.line != null) {\r\n        resolveScrollToPos(this)\r\n        this.curOp.scrollToPos = range\r\n      } else {\r\n        var sPos = calculateScrollPos(this, Math.min(range.from.left, range.to.left),\r\n                                      Math.min(range.from.top, range.to.top) - range.margin,\r\n                                      Math.max(range.from.right, range.to.right),\r\n                                      Math.max(range.from.bottom, range.to.bottom) + range.margin)\r\n        this.scrollTo(sPos.scrollLeft, sPos.scrollTop)\r\n      }\r\n    }),\r\n\r\n    setSize: methodOp(function(width, height) {\r\n      var this$1 = this;\r\n\r\n      var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; }\r\n      if (width != null) { this.display.wrapper.style.width = interpret(width) }\r\n      if (height != null) { this.display.wrapper.style.height = interpret(height) }\r\n      if (this.options.lineWrapping) { clearLineMeasurementCache(this) }\r\n      var lineNo = this.display.viewFrom\r\n      this.doc.iter(lineNo, this.display.viewTo, function (line) {\r\n        if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\r\n          { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\r\n        ++lineNo\r\n      })\r\n      this.curOp.forceUpdate = true\r\n      signal(this, \"refresh\", this)\r\n    }),\r\n\r\n    operation: function(f){return runInOp(this, f)},\r\n\r\n    refresh: methodOp(function() {\r\n      var oldHeight = this.display.cachedTextHeight\r\n      regChange(this)\r\n      this.curOp.forceUpdate = true\r\n      clearCaches(this)\r\n      this.scrollTo(this.doc.scrollLeft, this.doc.scrollTop)\r\n      updateGutterSpace(this)\r\n      if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)\r\n        { estimateLineHeights(this) }\r\n      signal(this, \"refresh\", this)\r\n    }),\r\n\r\n    swapDoc: methodOp(function(doc) {\r\n      var old = this.doc\r\n      old.cm = null\r\n      attachDoc(this, doc)\r\n      clearCaches(this)\r\n      this.display.input.reset()\r\n      this.scrollTo(doc.scrollLeft, doc.scrollTop)\r\n      this.curOp.forceScroll = true\r\n      signalLater(this, \"swapDoc\", this, old)\r\n      return old\r\n    }),\r\n\r\n    getInputField: function(){return this.display.input.getField()},\r\n    getWrapperElement: function(){return this.display.wrapper},\r\n    getScrollerElement: function(){return this.display.scroller},\r\n    getGutterElement: function(){return this.display.gutters}\r\n  }\r\n  eventMixin(CodeMirror)\r\n\r\n  CodeMirror.registerHelper = function(type, name, value) {\r\n    if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []} }\r\n    helpers[type][name] = value\r\n  }\r\n  CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\r\n    CodeMirror.registerHelper(type, name, value)\r\n    helpers[type]._global.push({pred: predicate, val: value})\r\n  }\r\n}\r\n\r\n// Used for horizontal relative motion. Dir is -1 or 1 (left or\r\n// right), unit can be \"char\", \"column\" (like char, but doesn't\r\n// cross line boundaries), \"word\" (across next word), or \"group\" (to\r\n// the start of next group of word or non-word-non-whitespace\r\n// chars). The visually param controls whether, in right-to-left\r\n// text, direction 1 means to move towards the next index in the\r\n// string, or towards the character to the right of the current\r\n// position. The resulting position will have a hitSide=true\r\n// property if it reached the end of the document.\r\nfunction findPosH(doc, pos, dir, unit, visually) {\r\n  var oldPos = pos\r\n  var origDir = dir\r\n  var lineObj = getLine(doc, pos.line)\r\n  function findNextLine() {\r\n    var l = pos.line + dir\r\n    if (l < doc.first || l >= doc.first + doc.size) { return false }\r\n    pos = new Pos(l, pos.ch, pos.sticky)\r\n    return lineObj = getLine(doc, l)\r\n  }\r\n  function moveOnce(boundToLine) {\r\n    var next\r\n    if (visually) {\r\n      next = moveVisually(doc.cm, lineObj, pos, dir)\r\n    } else {\r\n      next = moveLogically(lineObj, pos, dir)\r\n    }\r\n    if (next == null) {\r\n      if (!boundToLine && findNextLine())\r\n        { pos = endOfLine(visually, doc.cm, lineObj, pos.line, dir) }\r\n      else\r\n        { return false }\r\n    } else {\r\n      pos = next\r\n    }\r\n    return true\r\n  }\r\n\r\n  if (unit == \"char\") {\r\n    moveOnce()\r\n  } else if (unit == \"column\") {\r\n    moveOnce(true)\r\n  } else if (unit == \"word\" || unit == \"group\") {\r\n    var sawType = null, group = unit == \"group\"\r\n    var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\")\r\n    for (var first = true;; first = false) {\r\n      if (dir < 0 && !moveOnce(!first)) { break }\r\n      var cur = lineObj.text.charAt(pos.ch) || \"\\n\"\r\n      var type = isWordChar(cur, helper) ? \"w\"\r\n        : group && cur == \"\\n\" ? \"n\"\r\n        : !group || /\\s/.test(cur) ? null\r\n        : \"p\"\r\n      if (group && !first && !type) { type = \"s\" }\r\n      if (sawType && sawType != type) {\r\n        if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\"}\r\n        break\r\n      }\r\n\r\n      if (type) { sawType = type }\r\n      if (dir > 0 && !moveOnce(!first)) { break }\r\n    }\r\n  }\r\n  var result = skipAtomic(doc, pos, oldPos, origDir, true)\r\n  if (equalCursorPos(oldPos, result)) { result.hitSide = true }\r\n  return result\r\n}\r\n\r\n// For relative vertical movement. Dir may be -1 or 1. Unit can be\r\n// \"page\" or \"line\". The resulting position will have a hitSide=true\r\n// property if it reached the end of the document.\r\nfunction findPosV(cm, pos, dir, unit) {\r\n  var doc = cm.doc, x = pos.left, y\r\n  if (unit == \"page\") {\r\n    var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight)\r\n    var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3)\r\n    y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount\r\n\r\n  } else if (unit == \"line\") {\r\n    y = dir > 0 ? pos.bottom + 3 : pos.top - 3\r\n  }\r\n  var target\r\n  for (;;) {\r\n    target = coordsChar(cm, x, y)\r\n    if (!target.outside) { break }\r\n    if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\r\n    y += dir * 5\r\n  }\r\n  return target\r\n}\r\n\r\n// CONTENTEDITABLE INPUT STYLE\r\n\r\nvar ContentEditableInput = function(cm) {\r\n  this.cm = cm\r\n  this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null\r\n  this.polling = new Delayed()\r\n  this.composing = null\r\n  this.gracePeriod = false\r\n  this.readDOMTimeout = null\r\n};\r\n\r\nContentEditableInput.prototype.init = function (display) {\r\n    var this$1 = this;\r\n\r\n  var input = this, cm = input.cm\r\n  var div = input.div = display.lineDiv\r\n  disableBrowserMagic(div, cm.options.spellcheck)\r\n\r\n  on(div, \"paste\", function (e) {\r\n    if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\r\n    // IE doesn't fire input events, so we schedule a read for the pasted content in this way\r\n    if (ie_version <= 11) { setTimeout(operation(cm, function () {\r\n      if (!input.pollContent()) { regChange(cm) }\r\n    }), 20) }\r\n  })\r\n\r\n  on(div, \"compositionstart\", function (e) {\r\n    this$1.composing = {data: e.data, done: false}\r\n  })\r\n  on(div, \"compositionupdate\", function (e) {\r\n    if (!this$1.composing) { this$1.composing = {data: e.data, done: false} }\r\n  })\r\n  on(div, \"compositionend\", function (e) {\r\n    if (this$1.composing) {\r\n      if (e.data != this$1.composing.data) { this$1.readFromDOMSoon() }\r\n      this$1.composing.done = true\r\n    }\r\n  })\r\n\r\n  on(div, \"touchstart\", function () { return input.forceCompositionEnd(); })\r\n\r\n  on(div, \"input\", function () {\r\n    if (!this$1.composing) { this$1.readFromDOMSoon() }\r\n  })\r\n\r\n  function onCopyCut(e) {\r\n    if (signalDOMEvent(cm, e)) { return }\r\n    if (cm.somethingSelected()) {\r\n      setLastCopied({lineWise: false, text: cm.getSelections()})\r\n      if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\") }\r\n    } else if (!cm.options.lineWiseCopyCut) {\r\n      return\r\n    } else {\r\n      var ranges = copyableRanges(cm)\r\n      setLastCopied({lineWise: true, text: ranges.text})\r\n      if (e.type == \"cut\") {\r\n        cm.operation(function () {\r\n          cm.setSelections(ranges.ranges, 0, sel_dontScroll)\r\n          cm.replaceSelection(\"\", null, \"cut\")\r\n        })\r\n      }\r\n    }\r\n    if (e.clipboardData) {\r\n      e.clipboardData.clearData()\r\n      var content = lastCopied.text.join(\"\\n\")\r\n      // iOS exposes the clipboard API, but seems to discard content inserted into it\r\n      e.clipboardData.setData(\"Text\", content)\r\n      if (e.clipboardData.getData(\"Text\") == content) {\r\n        e.preventDefault()\r\n        return\r\n      }\r\n    }\r\n    // Old-fashioned briefly-focus-a-textarea hack\r\n    var kludge = hiddenTextarea(), te = kludge.firstChild\r\n    cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild)\r\n    te.value = lastCopied.text.join(\"\\n\")\r\n    var hadFocus = document.activeElement\r\n    selectInput(te)\r\n    setTimeout(function () {\r\n      cm.display.lineSpace.removeChild(kludge)\r\n      hadFocus.focus()\r\n      if (hadFocus == div) { input.showPrimarySelection() }\r\n    }, 50)\r\n  }\r\n  on(div, \"copy\", onCopyCut)\r\n  on(div, \"cut\", onCopyCut)\r\n};\r\n\r\nContentEditableInput.prototype.prepareSelection = function () {\r\n  var result = prepareSelection(this.cm, false)\r\n  result.focus = this.cm.state.focused\r\n  return result\r\n};\r\n\r\nContentEditableInput.prototype.showSelection = function (info, takeFocus) {\r\n  if (!info || !this.cm.display.view.length) { return }\r\n  if (info.focus || takeFocus) { this.showPrimarySelection() }\r\n  this.showMultipleSelections(info)\r\n};\r\n\r\nContentEditableInput.prototype.showPrimarySelection = function () {\r\n  var sel = window.getSelection(), prim = this.cm.doc.sel.primary()\r\n  var curAnchor = domToPos(this.cm, sel.anchorNode, sel.anchorOffset)\r\n  var curFocus = domToPos(this.cm, sel.focusNode, sel.focusOffset)\r\n  if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\r\n      cmp(minPos(curAnchor, curFocus), prim.from()) == 0 &&\r\n      cmp(maxPos(curAnchor, curFocus), prim.to()) == 0)\r\n    { return }\r\n\r\n  var start = posToDOM(this.cm, prim.from())\r\n  var end = posToDOM(this.cm, prim.to())\r\n  if (!start && !end) { return }\r\n\r\n  var view = this.cm.display.view\r\n  var old = sel.rangeCount && sel.getRangeAt(0)\r\n  if (!start) {\r\n    start = {node: view[0].measure.map[2], offset: 0}\r\n  } else if (!end) { // FIXME dangerously hacky\r\n    var measure = view[view.length - 1].measure\r\n    var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map\r\n    end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]}\r\n  }\r\n\r\n  var rng\r\n  try { rng = range(start.node, start.offset, end.offset, end.node) }\r\n  catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\r\n  if (rng) {\r\n    if (!gecko && this.cm.state.focused) {\r\n      sel.collapse(start.node, start.offset)\r\n      if (!rng.collapsed) {\r\n        sel.removeAllRanges()\r\n        sel.addRange(rng)\r\n      }\r\n    } else {\r\n      sel.removeAllRanges()\r\n      sel.addRange(rng)\r\n    }\r\n    if (old && sel.anchorNode == null) { sel.addRange(old) }\r\n    else if (gecko) { this.startGracePeriod() }\r\n  }\r\n  this.rememberSelection()\r\n};\r\n\r\nContentEditableInput.prototype.startGracePeriod = function () {\r\n    var this$1 = this;\r\n\r\n  clearTimeout(this.gracePeriod)\r\n  this.gracePeriod = setTimeout(function () {\r\n    this$1.gracePeriod = false\r\n    if (this$1.selectionChanged())\r\n      { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }) }\r\n  }, 20)\r\n};\r\n\r\nContentEditableInput.prototype.showMultipleSelections = function (info) {\r\n  removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors)\r\n  removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection)\r\n};\r\n\r\nContentEditableInput.prototype.rememberSelection = function () {\r\n  var sel = window.getSelection()\r\n  this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset\r\n  this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset\r\n};\r\n\r\nContentEditableInput.prototype.selectionInEditor = function () {\r\n  var sel = window.getSelection()\r\n  if (!sel.rangeCount) { return false }\r\n  var node = sel.getRangeAt(0).commonAncestorContainer\r\n  return contains(this.div, node)\r\n};\r\n\r\nContentEditableInput.prototype.focus = function () {\r\n  if (this.cm.options.readOnly != \"nocursor\") {\r\n    if (!this.selectionInEditor())\r\n      { this.showSelection(this.prepareSelection(), true) }\r\n    this.div.focus()\r\n  }\r\n};\r\nContentEditableInput.prototype.blur = function () { this.div.blur() };\r\nContentEditableInput.prototype.getField = function () { return this.div };\r\n\r\nContentEditableInput.prototype.supportsTouch = function () { return true };\r\n\r\nContentEditableInput.prototype.receivedFocus = function () {\r\n  var input = this\r\n  if (this.selectionInEditor())\r\n    { this.pollSelection() }\r\n  else\r\n    { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }) }\r\n\r\n  function poll() {\r\n    if (input.cm.state.focused) {\r\n      input.pollSelection()\r\n      input.polling.set(input.cm.options.pollInterval, poll)\r\n    }\r\n  }\r\n  this.polling.set(this.cm.options.pollInterval, poll)\r\n};\r\n\r\nContentEditableInput.prototype.selectionChanged = function () {\r\n  var sel = window.getSelection()\r\n  return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\r\n    sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\r\n};\r\n\r\nContentEditableInput.prototype.pollSelection = function () {\r\n  if (!this.composing && this.readDOMTimeout == null && !this.gracePeriod && this.selectionChanged()) {\r\n    var sel = window.getSelection(), cm = this.cm\r\n    this.rememberSelection()\r\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset)\r\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset)\r\n    if (anchor && head) { runInOp(cm, function () {\r\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll)\r\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true }\r\n    }) }\r\n  }\r\n};\r\n\r\nContentEditableInput.prototype.pollContent = function () {\r\n  if (this.readDOMTimeout != null) {\r\n    clearTimeout(this.readDOMTimeout)\r\n    this.readDOMTimeout = null\r\n  }\r\n\r\n  var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary()\r\n  var from = sel.from(), to = sel.to()\r\n  if (from.ch == 0 && from.line > cm.firstLine())\r\n    { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length) }\r\n  if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\r\n    { to = Pos(to.line + 1, 0) }\r\n  if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\r\n\r\n  var fromIndex, fromLine, fromNode\r\n  if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\r\n    fromLine = lineNo(display.view[0].line)\r\n    fromNode = display.view[0].node\r\n  } else {\r\n    fromLine = lineNo(display.view[fromIndex].line)\r\n    fromNode = display.view[fromIndex - 1].node.nextSibling\r\n  }\r\n  var toIndex = findViewIndex(cm, to.line)\r\n  var toLine, toNode\r\n  if (toIndex == display.view.length - 1) {\r\n    toLine = display.viewTo - 1\r\n    toNode = display.lineDiv.lastChild\r\n  } else {\r\n    toLine = lineNo(display.view[toIndex + 1].line) - 1\r\n    toNode = display.view[toIndex + 1].node.previousSibling\r\n  }\r\n\r\n  if (!fromNode) { return false }\r\n  var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine))\r\n  var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length))\r\n  while (newText.length > 1 && oldText.length > 1) {\r\n    if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine-- }\r\n    else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++ }\r\n    else { break }\r\n  }\r\n\r\n  var cutFront = 0, cutEnd = 0\r\n  var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length)\r\n  while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\r\n    { ++cutFront }\r\n  var newBot = lst(newText), oldBot = lst(oldText)\r\n  var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\r\n                           oldBot.length - (oldText.length == 1 ? cutFront : 0))\r\n  while (cutEnd < maxCutEnd &&\r\n         newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\r\n    { ++cutEnd }\r\n\r\n  newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\")\r\n  newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\")\r\n\r\n  var chFrom = Pos(fromLine, cutFront)\r\n  var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0)\r\n  if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\r\n    replaceRange(cm.doc, newText, chFrom, chTo, \"+input\")\r\n    return true\r\n  }\r\n};\r\n\r\nContentEditableInput.prototype.ensurePolled = function () {\r\n  this.forceCompositionEnd()\r\n};\r\nContentEditableInput.prototype.reset = function () {\r\n  this.forceCompositionEnd()\r\n};\r\nContentEditableInput.prototype.forceCompositionEnd = function () {\r\n  if (!this.composing) { return }\r\n  clearTimeout(this.readDOMTimeout)\r\n  this.composing = null\r\n  if (!this.pollContent()) { regChange(this.cm) }\r\n  this.div.blur()\r\n  this.div.focus()\r\n};\r\nContentEditableInput.prototype.readFromDOMSoon = function () {\r\n    var this$1 = this;\r\n\r\n  if (this.readDOMTimeout != null) { return }\r\n  this.readDOMTimeout = setTimeout(function () {\r\n    this$1.readDOMTimeout = null\r\n    if (this$1.composing) {\r\n      if (this$1.composing.done) { this$1.composing = null }\r\n      else { return }\r\n    }\r\n    if (this$1.cm.isReadOnly() || !this$1.pollContent())\r\n      { runInOp(this$1.cm, function () { return regChange(this$1.cm); }) }\r\n  }, 80)\r\n};\r\n\r\nContentEditableInput.prototype.setUneditable = function (node) {\r\n  node.contentEditable = \"false\"\r\n};\r\n\r\nContentEditableInput.prototype.onKeyPress = function (e) {\r\n  if (e.charCode == 0) { return }\r\n  e.preventDefault()\r\n  if (!this.cm.isReadOnly())\r\n    { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0) }\r\n};\r\n\r\nContentEditableInput.prototype.readOnlyChanged = function (val) {\r\n  this.div.contentEditable = String(val != \"nocursor\")\r\n};\r\n\r\nContentEditableInput.prototype.onContextMenu = function () {};\r\nContentEditableInput.prototype.resetPosition = function () {};\r\n\r\nContentEditableInput.prototype.needsContentAttribute = true\r\n\r\nfunction posToDOM(cm, pos) {\r\n  var view = findViewForLine(cm, pos.line)\r\n  if (!view || view.hidden) { return null }\r\n  var line = getLine(cm.doc, pos.line)\r\n  var info = mapFromLineView(view, line, pos.line)\r\n\r\n  var order = getOrder(line), side = \"left\"\r\n  if (order) {\r\n    var partPos = getBidiPartAt(order, pos.ch)\r\n    side = partPos % 2 ? \"right\" : \"left\"\r\n  }\r\n  var result = nodeAndOffsetInLineMap(info.map, pos.ch, side)\r\n  result.offset = result.collapse == \"right\" ? result.end : result.start\r\n  return result\r\n}\r\n\r\nfunction badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\r\n\r\nfunction domTextBetween(cm, from, to, fromLine, toLine) {\r\n  var text = \"\", closing = false, lineSep = cm.doc.lineSeparator()\r\n  function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\r\n  function walk(node) {\r\n    if (node.nodeType == 1) {\r\n      var cmText = node.getAttribute(\"cm-text\")\r\n      if (cmText != null) {\r\n        if (cmText == \"\") { text += node.textContent.replace(/\\u200b/g, \"\") }\r\n        else { text += cmText }\r\n        return\r\n      }\r\n      var markerID = node.getAttribute(\"cm-marker\"), range\r\n      if (markerID) {\r\n        var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID))\r\n        if (found.length && (range = found[0].find()))\r\n          { text += getBetween(cm.doc, range.from, range.to).join(lineSep) }\r\n        return\r\n      }\r\n      if (node.getAttribute(\"contenteditable\") == \"false\") { return }\r\n      for (var i = 0; i < node.childNodes.length; i++)\r\n        { walk(node.childNodes[i]) }\r\n      if (/^(pre|div|p)$/i.test(node.nodeName))\r\n        { closing = true }\r\n    } else if (node.nodeType == 3) {\r\n      var val = node.nodeValue\r\n      if (!val) { return }\r\n      if (closing) {\r\n        text += lineSep\r\n        closing = false\r\n      }\r\n      text += val\r\n    }\r\n  }\r\n  for (;;) {\r\n    walk(from)\r\n    if (from == to) { break }\r\n    from = from.nextSibling\r\n  }\r\n  return text\r\n}\r\n\r\nfunction domToPos(cm, node, offset) {\r\n  var lineNode\r\n  if (node == cm.display.lineDiv) {\r\n    lineNode = cm.display.lineDiv.childNodes[offset]\r\n    if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\r\n    node = null; offset = 0\r\n  } else {\r\n    for (lineNode = node;; lineNode = lineNode.parentNode) {\r\n      if (!lineNode || lineNode == cm.display.lineDiv) { return null }\r\n      if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\r\n    }\r\n  }\r\n  for (var i = 0; i < cm.display.view.length; i++) {\r\n    var lineView = cm.display.view[i]\r\n    if (lineView.node == lineNode)\r\n      { return locateNodeInLineView(lineView, node, offset) }\r\n  }\r\n}\r\n\r\nfunction locateNodeInLineView(lineView, node, offset) {\r\n  var wrapper = lineView.text.firstChild, bad = false\r\n  if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\r\n  if (node == wrapper) {\r\n    bad = true\r\n    node = wrapper.childNodes[offset]\r\n    offset = 0\r\n    if (!node) {\r\n      var line = lineView.rest ? lst(lineView.rest) : lineView.line\r\n      return badPos(Pos(lineNo(line), line.text.length), bad)\r\n    }\r\n  }\r\n\r\n  var textNode = node.nodeType == 3 ? node : null, topNode = node\r\n  if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\r\n    textNode = node.firstChild\r\n    if (offset) { offset = textNode.nodeValue.length }\r\n  }\r\n  while (topNode.parentNode != wrapper) { topNode = topNode.parentNode }\r\n  var measure = lineView.measure, maps = measure.maps\r\n\r\n  function find(textNode, topNode, offset) {\r\n    for (var i = -1; i < (maps ? maps.length : 0); i++) {\r\n      var map = i < 0 ? measure.map : maps[i]\r\n      for (var j = 0; j < map.length; j += 3) {\r\n        var curNode = map[j + 2]\r\n        if (curNode == textNode || curNode == topNode) {\r\n          var line = lineNo(i < 0 ? lineView.line : lineView.rest[i])\r\n          var ch = map[j] + offset\r\n          if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)] }\r\n          return Pos(line, ch)\r\n        }\r\n      }\r\n    }\r\n  }\r\n  var found = find(textNode, topNode, offset)\r\n  if (found) { return badPos(found, bad) }\r\n\r\n  // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\r\n  for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\r\n    found = find(after, after.firstChild, 0)\r\n    if (found)\r\n      { return badPos(Pos(found.line, found.ch - dist), bad) }\r\n    else\r\n      { dist += after.textContent.length }\r\n  }\r\n  for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\r\n    found = find(before, before.firstChild, -1)\r\n    if (found)\r\n      { return badPos(Pos(found.line, found.ch + dist$1), bad) }\r\n    else\r\n      { dist$1 += before.textContent.length }\r\n  }\r\n}\r\n\r\n// TEXTAREA INPUT STYLE\r\n\r\nvar TextareaInput = function(cm) {\r\n  this.cm = cm\r\n  // See input.poll and input.reset\r\n  this.prevInput = \"\"\r\n\r\n  // Flag that indicates whether we expect input to appear real soon\r\n  // now (after some event like 'keypress' or 'input') and are\r\n  // polling intensively.\r\n  this.pollingFast = false\r\n  // Self-resetting timeout for the poller\r\n  this.polling = new Delayed()\r\n  // Tracks when input.reset has punted to just putting a short\r\n  // string into the textarea instead of the full selection.\r\n  this.inaccurateSelection = false\r\n  // Used to work around IE issue with selection being forgotten when focus moves away from textarea\r\n  this.hasSelection = false\r\n  this.composing = null\r\n};\r\n\r\nTextareaInput.prototype.init = function (display) {\r\n    var this$1 = this;\r\n\r\n  var input = this, cm = this.cm\r\n\r\n  // Wraps and hides input textarea\r\n  var div = this.wrapper = hiddenTextarea()\r\n  // The semihidden textarea that is focused when the editor is\r\n  // focused, and receives input.\r\n  var te = this.textarea = div.firstChild\r\n  display.wrapper.insertBefore(div, display.wrapper.firstChild)\r\n\r\n  // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\r\n  if (ios) { te.style.width = \"0px\" }\r\n\r\n  on(te, \"input\", function () {\r\n    if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null }\r\n    input.poll()\r\n  })\r\n\r\n  on(te, \"paste\", function (e) {\r\n    if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\r\n\r\n    cm.state.pasteIncoming = true\r\n    input.fastPoll()\r\n  })\r\n\r\n  function prepareCopyCut(e) {\r\n    if (signalDOMEvent(cm, e)) { return }\r\n    if (cm.somethingSelected()) {\r\n      setLastCopied({lineWise: false, text: cm.getSelections()})\r\n      if (input.inaccurateSelection) {\r\n        input.prevInput = \"\"\r\n        input.inaccurateSelection = false\r\n        te.value = lastCopied.text.join(\"\\n\")\r\n        selectInput(te)\r\n      }\r\n    } else if (!cm.options.lineWiseCopyCut) {\r\n      return\r\n    } else {\r\n      var ranges = copyableRanges(cm)\r\n      setLastCopied({lineWise: true, text: ranges.text})\r\n      if (e.type == \"cut\") {\r\n        cm.setSelections(ranges.ranges, null, sel_dontScroll)\r\n      } else {\r\n        input.prevInput = \"\"\r\n        te.value = ranges.text.join(\"\\n\")\r\n        selectInput(te)\r\n      }\r\n    }\r\n    if (e.type == \"cut\") { cm.state.cutIncoming = true }\r\n  }\r\n  on(te, \"cut\", prepareCopyCut)\r\n  on(te, \"copy\", prepareCopyCut)\r\n\r\n  on(display.scroller, \"paste\", function (e) {\r\n    if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\r\n    cm.state.pasteIncoming = true\r\n    input.focus()\r\n  })\r\n\r\n  // Prevent normal selection in the editor (we handle our own)\r\n  on(display.lineSpace, \"selectstart\", function (e) {\r\n    if (!eventInWidget(display, e)) { e_preventDefault(e) }\r\n  })\r\n\r\n  on(te, \"compositionstart\", function () {\r\n    var start = cm.getCursor(\"from\")\r\n    if (input.composing) { input.composing.range.clear() }\r\n    input.composing = {\r\n      start: start,\r\n      range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\r\n    }\r\n  })\r\n  on(te, \"compositionend\", function () {\r\n    if (input.composing) {\r\n      input.poll()\r\n      input.composing.range.clear()\r\n      input.composing = null\r\n    }\r\n  })\r\n};\r\n\r\nTextareaInput.prototype.prepareSelection = function () {\r\n  // Redraw the selection and/or cursor\r\n  var cm = this.cm, display = cm.display, doc = cm.doc\r\n  var result = prepareSelection(cm)\r\n\r\n  // Move the hidden textarea near the cursor to prevent scrolling artifacts\r\n  if (cm.options.moveInputWithCursor) {\r\n    var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\")\r\n    var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect()\r\n    result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\r\n                                        headPos.top + lineOff.top - wrapOff.top))\r\n    result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\r\n                                         headPos.left + lineOff.left - wrapOff.left))\r\n  }\r\n\r\n  return result\r\n};\r\n\r\nTextareaInput.prototype.showSelection = function (drawn) {\r\n  var cm = this.cm, display = cm.display\r\n  removeChildrenAndAdd(display.cursorDiv, drawn.cursors)\r\n  removeChildrenAndAdd(display.selectionDiv, drawn.selection)\r\n  if (drawn.teTop != null) {\r\n    this.wrapper.style.top = drawn.teTop + \"px\"\r\n    this.wrapper.style.left = drawn.teLeft + \"px\"\r\n  }\r\n};\r\n\r\n// Reset the input to correspond to the selection (or to be empty,\r\n// when not typing and nothing is selected)\r\nTextareaInput.prototype.reset = function (typing) {\r\n  if (this.contextMenuPending) { return }\r\n  var minimal, selected, cm = this.cm, doc = cm.doc\r\n  if (cm.somethingSelected()) {\r\n    this.prevInput = \"\"\r\n    var range = doc.sel.primary()\r\n    minimal = hasCopyEvent &&\r\n      (range.to().line - range.from().line > 100 || (selected = cm.getSelection()).length > 1000)\r\n    var content = minimal ? \"-\" : selected || cm.getSelection()\r\n    this.textarea.value = content\r\n    if (cm.state.focused) { selectInput(this.textarea) }\r\n    if (ie && ie_version >= 9) { this.hasSelection = content }\r\n  } else if (!typing) {\r\n    this.prevInput = this.textarea.value = \"\"\r\n    if (ie && ie_version >= 9) { this.hasSelection = null }\r\n  }\r\n  this.inaccurateSelection = minimal\r\n};\r\n\r\nTextareaInput.prototype.getField = function () { return this.textarea };\r\n\r\nTextareaInput.prototype.supportsTouch = function () { return false };\r\n\r\nTextareaInput.prototype.focus = function () {\r\n  if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\r\n    try { this.textarea.focus() }\r\n    catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\r\n  }\r\n};\r\n\r\nTextareaInput.prototype.blur = function () { this.textarea.blur() };\r\n\r\nTextareaInput.prototype.resetPosition = function () {\r\n  this.wrapper.style.top = this.wrapper.style.left = 0\r\n};\r\n\r\nTextareaInput.prototype.receivedFocus = function () { this.slowPoll() };\r\n\r\n// Poll for input changes, using the normal rate of polling. This\r\n// runs as long as the editor is focused.\r\nTextareaInput.prototype.slowPoll = function () {\r\n    var this$1 = this;\r\n\r\n  if (this.pollingFast) { return }\r\n  this.polling.set(this.cm.options.pollInterval, function () {\r\n    this$1.poll()\r\n    if (this$1.cm.state.focused) { this$1.slowPoll() }\r\n  })\r\n};\r\n\r\n// When an event has just come in that is likely to add or change\r\n// something in the input textarea, we poll faster, to ensure that\r\n// the change appears on the screen quickly.\r\nTextareaInput.prototype.fastPoll = function () {\r\n  var missed = false, input = this\r\n  input.pollingFast = true\r\n  function p() {\r\n    var changed = input.poll()\r\n    if (!changed && !missed) {missed = true; input.polling.set(60, p)}\r\n    else {input.pollingFast = false; input.slowPoll()}\r\n  }\r\n  input.polling.set(20, p)\r\n};\r\n\r\n// Read input from the textarea, and update the document to match.\r\n// When something is selected, it is present in the textarea, and\r\n// selected (unless it is huge, in which case a placeholder is\r\n// used). When nothing is selected, the cursor sits after previously\r\n// seen text (can be empty), which is stored in prevInput (we must\r\n// not reset the textarea when typing, because that breaks IME).\r\nTextareaInput.prototype.poll = function () {\r\n    var this$1 = this;\r\n\r\n  var cm = this.cm, input = this.textarea, prevInput = this.prevInput\r\n  // Since this is called a *lot*, try to bail out as cheaply as\r\n  // possible when it is clear that nothing happened. hasSelection\r\n  // will be the case when there is a lot of text in the textarea,\r\n  // in which case reading its value would be expensive.\r\n  if (this.contextMenuPending || !cm.state.focused ||\r\n      (hasSelection(input) && !prevInput && !this.composing) ||\r\n      cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\r\n    { return false }\r\n\r\n  var text = input.value\r\n  // If nothing changed, bail.\r\n  if (text == prevInput && !cm.somethingSelected()) { return false }\r\n  // Work around nonsensical selection resetting in IE9/10, and\r\n  // inexplicable appearance of private area unicode characters on\r\n  // some key combos in Mac (#2689).\r\n  if (ie && ie_version >= 9 && this.hasSelection === text ||\r\n      mac && /[\\uf700-\\uf7ff]/.test(text)) {\r\n    cm.display.input.reset()\r\n    return false\r\n  }\r\n\r\n  if (cm.doc.sel == cm.display.selForContextMenu) {\r\n    var first = text.charCodeAt(0)\r\n    if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\" }\r\n    if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\r\n  }\r\n  // Find the part of the input that is actually new\r\n  var same = 0, l = Math.min(prevInput.length, text.length)\r\n  while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same }\r\n\r\n  runInOp(cm, function () {\r\n    applyTextInput(cm, text.slice(same), prevInput.length - same,\r\n                   null, this$1.composing ? \"*compose\" : null)\r\n\r\n    // Don't leave long text in the textarea, since it makes further polling slow\r\n    if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\" }\r\n    else { this$1.prevInput = text }\r\n\r\n    if (this$1.composing) {\r\n      this$1.composing.range.clear()\r\n      this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\r\n                                         {className: \"CodeMirror-composing\"})\r\n    }\r\n  })\r\n  return true\r\n};\r\n\r\nTextareaInput.prototype.ensurePolled = function () {\r\n  if (this.pollingFast && this.poll()) { this.pollingFast = false }\r\n};\r\n\r\nTextareaInput.prototype.onKeyPress = function () {\r\n  if (ie && ie_version >= 9) { this.hasSelection = null }\r\n  this.fastPoll()\r\n};\r\n\r\nTextareaInput.prototype.onContextMenu = function (e) {\r\n  var input = this, cm = input.cm, display = cm.display, te = input.textarea\r\n  var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop\r\n  if (!pos || presto) { return } // Opera is difficult.\r\n\r\n  // Reset the current text selection only if the click is done outside of the selection\r\n  // and 'resetSelectionOnContextMenu' option is true.\r\n  var reset = cm.options.resetSelectionOnContextMenu\r\n  if (reset && cm.doc.sel.contains(pos) == -1)\r\n    { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll) }\r\n\r\n  var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText\r\n  input.wrapper.style.cssText = \"position: absolute\"\r\n  var wrapperBox = input.wrapper.getBoundingClientRect()\r\n  te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\"\r\n  var oldScrollY\r\n  if (webkit) { oldScrollY = window.scrollY } // Work around Chrome issue (#2712)\r\n  display.input.focus()\r\n  if (webkit) { window.scrollTo(null, oldScrollY) }\r\n  display.input.reset()\r\n  // Adds \"Select all\" to context menu in FF\r\n  if (!cm.somethingSelected()) { te.value = input.prevInput = \" \" }\r\n  input.contextMenuPending = true\r\n  display.selForContextMenu = cm.doc.sel\r\n  clearTimeout(display.detectingSelectAll)\r\n\r\n  // Select-all will be greyed out if there's nothing to select, so\r\n  // this adds a zero-width space so that we can later check whether\r\n  // it got selected.\r\n  function prepareSelectAllHack() {\r\n    if (te.selectionStart != null) {\r\n      var selected = cm.somethingSelected()\r\n      var extval = \"\\u200b\" + (selected ? te.value : \"\")\r\n      te.value = \"\\u21da\" // Used to catch context-menu undo\r\n      te.value = extval\r\n      input.prevInput = selected ? \"\" : \"\\u200b\"\r\n      te.selectionStart = 1; te.selectionEnd = extval.length\r\n      // Re-set this, in case some other handler touched the\r\n      // selection in the meantime.\r\n      display.selForContextMenu = cm.doc.sel\r\n    }\r\n  }\r\n  function rehide() {\r\n    input.contextMenuPending = false\r\n    input.wrapper.style.cssText = oldWrapperCSS\r\n    te.style.cssText = oldCSS\r\n    if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos) }\r\n\r\n    // Try to detect the user choosing select-all\r\n    if (te.selectionStart != null) {\r\n      if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack() }\r\n      var i = 0, poll = function () {\r\n        if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\r\n            te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\r\n          operation(cm, selectAll)(cm)\r\n        } else if (i++ < 10) {\r\n          display.detectingSelectAll = setTimeout(poll, 500)\r\n        } else {\r\n          display.selForContextMenu = null\r\n          display.input.reset()\r\n        }\r\n      }\r\n      display.detectingSelectAll = setTimeout(poll, 200)\r\n    }\r\n  }\r\n\r\n  if (ie && ie_version >= 9) { prepareSelectAllHack() }\r\n  if (captureRightClick) {\r\n    e_stop(e)\r\n    var mouseup = function () {\r\n      off(window, \"mouseup\", mouseup)\r\n      setTimeout(rehide, 20)\r\n    }\r\n    on(window, \"mouseup\", mouseup)\r\n  } else {\r\n    setTimeout(rehide, 50)\r\n  }\r\n};\r\n\r\nTextareaInput.prototype.readOnlyChanged = function (val) {\r\n  if (!val) { this.reset() }\r\n};\r\n\r\nTextareaInput.prototype.setUneditable = function () {};\r\n\r\nTextareaInput.prototype.needsContentAttribute = false\r\n\r\nfunction fromTextArea(textarea, options) {\r\n  options = options ? copyObj(options) : {}\r\n  options.value = textarea.value\r\n  if (!options.tabindex && textarea.tabIndex)\r\n    { options.tabindex = textarea.tabIndex }\r\n  if (!options.placeholder && textarea.placeholder)\r\n    { options.placeholder = textarea.placeholder }\r\n  // Set autofocus to true if this textarea is focused, or if it has\r\n  // autofocus and no other element is focused.\r\n  if (options.autofocus == null) {\r\n    var hasFocus = activeElt()\r\n    options.autofocus = hasFocus == textarea ||\r\n      textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body\r\n  }\r\n\r\n  function save() {textarea.value = cm.getValue()}\r\n\r\n  var realSubmit\r\n  if (textarea.form) {\r\n    on(textarea.form, \"submit\", save)\r\n    // Deplorable hack to make the submit method do the right thing.\r\n    if (!options.leaveSubmitMethodAlone) {\r\n      var form = textarea.form\r\n      realSubmit = form.submit\r\n      try {\r\n        var wrappedSubmit = form.submit = function () {\r\n          save()\r\n          form.submit = realSubmit\r\n          form.submit()\r\n          form.submit = wrappedSubmit\r\n        }\r\n      } catch(e) {}\r\n    }\r\n  }\r\n\r\n  options.finishInit = function (cm) {\r\n    cm.save = save\r\n    cm.getTextArea = function () { return textarea; }\r\n    cm.toTextArea = function () {\r\n      cm.toTextArea = isNaN // Prevent this from being ran twice\r\n      save()\r\n      textarea.parentNode.removeChild(cm.getWrapperElement())\r\n      textarea.style.display = \"\"\r\n      if (textarea.form) {\r\n        off(textarea.form, \"submit\", save)\r\n        if (typeof textarea.form.submit == \"function\")\r\n          { textarea.form.submit = realSubmit }\r\n      }\r\n    }\r\n  }\r\n\r\n  textarea.style.display = \"none\"\r\n  var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\r\n    options)\r\n  return cm\r\n}\r\n\r\nfunction addLegacyProps(CodeMirror) {\r\n  CodeMirror.off = off\r\n  CodeMirror.on = on\r\n  CodeMirror.wheelEventPixels = wheelEventPixels\r\n  CodeMirror.Doc = Doc\r\n  CodeMirror.splitLines = splitLinesAuto\r\n  CodeMirror.countColumn = countColumn\r\n  CodeMirror.findColumn = findColumn\r\n  CodeMirror.isWordChar = isWordCharBasic\r\n  CodeMirror.Pass = Pass\r\n  CodeMirror.signal = signal\r\n  CodeMirror.Line = Line\r\n  CodeMirror.changeEnd = changeEnd\r\n  CodeMirror.scrollbarModel = scrollbarModel\r\n  CodeMirror.Pos = Pos\r\n  CodeMirror.cmpPos = cmp\r\n  CodeMirror.modes = modes\r\n  CodeMirror.mimeModes = mimeModes\r\n  CodeMirror.resolveMode = resolveMode\r\n  CodeMirror.getMode = getMode\r\n  CodeMirror.modeExtensions = modeExtensions\r\n  CodeMirror.extendMode = extendMode\r\n  CodeMirror.copyState = copyState\r\n  CodeMirror.startState = startState\r\n  CodeMirror.innerMode = innerMode\r\n  CodeMirror.commands = commands\r\n  CodeMirror.keyMap = keyMap\r\n  CodeMirror.keyName = keyName\r\n  CodeMirror.isModifierKey = isModifierKey\r\n  CodeMirror.lookupKey = lookupKey\r\n  CodeMirror.normalizeKeyMap = normalizeKeyMap\r\n  CodeMirror.StringStream = StringStream\r\n  CodeMirror.SharedTextMarker = SharedTextMarker\r\n  CodeMirror.TextMarker = TextMarker\r\n  CodeMirror.LineWidget = LineWidget\r\n  CodeMirror.e_preventDefault = e_preventDefault\r\n  CodeMirror.e_stopPropagation = e_stopPropagation\r\n  CodeMirror.e_stop = e_stop\r\n  CodeMirror.addClass = addClass\r\n  CodeMirror.contains = contains\r\n  CodeMirror.rmClass = rmClass\r\n  CodeMirror.keyNames = keyNames\r\n}\r\n\r\n// EDITOR CONSTRUCTOR\r\n\r\ndefineOptions(CodeMirror)\r\n\r\naddEditorMethods(CodeMirror)\r\n\r\n// Set up methods on CodeMirror's prototype to redirect to the editor's document.\r\nvar dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \")\r\nfor (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\r\n  { CodeMirror.prototype[prop] = (function(method) {\r\n    return function() {return method.apply(this.doc, arguments)}\r\n  })(Doc.prototype[prop]) } }\r\n\r\neventMixin(Doc)\r\n\r\n// INPUT HANDLING\r\n\r\nCodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput}\r\n\r\n// MODE DEFINITION AND QUERYING\r\n\r\n// Extra arguments are stored as the mode's dependencies, which is\r\n// used by (legacy) mechanisms like loadmode.js to automatically\r\n// load a mode. (Preferred mechanism is the require/define calls.)\r\nCodeMirror.defineMode = function(name/*, mode, …*/) {\r\n  if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name }\r\n  defineMode.apply(this, arguments)\r\n}\r\n\r\nCodeMirror.defineMIME = defineMIME\r\n\r\n// Minimal default mode.\r\nCodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); })\r\nCodeMirror.defineMIME(\"text/plain\", \"null\")\r\n\r\n// EXTENSIONS\r\n\r\nCodeMirror.defineExtension = function (name, func) {\r\n  CodeMirror.prototype[name] = func\r\n}\r\nCodeMirror.defineDocExtension = function (name, func) {\r\n  Doc.prototype[name] = func\r\n}\r\n\r\nCodeMirror.fromTextArea = fromTextArea\r\n\r\naddLegacyProps(CodeMirror)\r\n\r\nCodeMirror.version = \"5.24.2\"\r\n\r\nreturn CodeMirror;\r\n\r\n})));\r\n\r\n// Brackets\r\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\r\n// Distributed under an MIT license: http://codemirror.net/LICENSE\r\n\r\n(function(mod) {\r\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\r\n    mod(require(\"../../lib/codemirror\"));\r\n  else if (typeof define == \"function\" && define.amd) // AMD\r\n    define([\"../../lib/codemirror\"], mod);\r\n  else // Plain browser env\r\n    mod(CodeMirror);\r\n})(function(CodeMirror) {\r\n  var defaults = {\r\n    pairs: \"()[]{}''\\\"\\\"\",\r\n    triples: \"\",\r\n    explode: \"[]{}\"\r\n  };\r\n\r\n  var Pos = CodeMirror.Pos;\r\n\r\n  CodeMirror.defineOption(\"autoCloseBrackets\", false, function(cm, val, old) {\r\n    if (old && old != CodeMirror.Init) {\r\n      cm.removeKeyMap(keyMap);\r\n      cm.state.closeBrackets = null;\r\n    }\r\n    if (val) {\r\n      cm.state.closeBrackets = val;\r\n      cm.addKeyMap(keyMap);\r\n    }\r\n  });\r\n\r\n  function getOption(conf, name) {\r\n    if (name == \"pairs\" && typeof conf == \"string\") return conf;\r\n    if (typeof conf == \"object\" && conf[name] != null) return conf[name];\r\n    return defaults[name];\r\n  }\r\n\r\n  var bind = defaults.pairs + \"`\";\r\n  var keyMap = {Backspace: handleBackspace, Enter: handleEnter};\r\n  for (var i = 0; i < bind.length; i++)\r\n    keyMap[\"'\" + bind.charAt(i) + \"'\"] = handler(bind.charAt(i));\r\n\r\n  function handler(ch) {\r\n    return function(cm) { return handleChar(cm, ch); };\r\n  }\r\n\r\n  function getConfig(cm) {\r\n    var deflt = cm.state.closeBrackets;\r\n    if (!deflt) return null;\r\n    var mode = cm.getModeAt(cm.getCursor());\r\n    return mode.closeBrackets || deflt;\r\n  }\r\n\r\n  function handleBackspace(cm) {\r\n    var conf = getConfig(cm);\r\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\r\n\r\n    var pairs = getOption(conf, \"pairs\");\r\n    var ranges = cm.listSelections();\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      if (!ranges[i].empty()) return CodeMirror.Pass;\r\n      var around = charsAround(cm, ranges[i].head);\r\n      if (!around || pairs.indexOf(around) % 2 != 0) return CodeMirror.Pass;\r\n    }\r\n    for (var i = ranges.length - 1; i >= 0; i--) {\r\n      var cur = ranges[i].head;\r\n      cm.replaceRange(\"\", Pos(cur.line, cur.ch - 1), Pos(cur.line, cur.ch + 1), \"+delete\");\r\n    }\r\n  }\r\n\r\n  function handleEnter(cm) {\r\n    var conf = getConfig(cm);\r\n    var explode = conf && getOption(conf, \"explode\");\r\n    if (!explode || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\r\n\r\n    var ranges = cm.listSelections();\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      if (!ranges[i].empty()) return CodeMirror.Pass;\r\n      var around = charsAround(cm, ranges[i].head);\r\n      if (!around || explode.indexOf(around) % 2 != 0) return CodeMirror.Pass;\r\n    }\r\n    cm.operation(function() {\r\n      cm.replaceSelection(\"\\n\\n\", null);\r\n      cm.execCommand(\"goCharLeft\");\r\n      ranges = cm.listSelections();\r\n      for (var i = 0; i < ranges.length; i++) {\r\n        var line = ranges[i].head.line;\r\n        cm.indentLine(line, null, true);\r\n        cm.indentLine(line + 1, null, true);\r\n      }\r\n    });\r\n  }\r\n\r\n  function contractSelection(sel) {\r\n    var inverted = CodeMirror.cmpPos(sel.anchor, sel.head) > 0;\r\n    return {anchor: new Pos(sel.anchor.line, sel.anchor.ch + (inverted ? -1 : 1)),\r\n            head: new Pos(sel.head.line, sel.head.ch + (inverted ? 1 : -1))};\r\n  }\r\n\r\n  function handleChar(cm, ch) {\r\n    var conf = getConfig(cm);\r\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\r\n\r\n    var pairs = getOption(conf, \"pairs\");\r\n    var pos = pairs.indexOf(ch);\r\n    if (pos == -1) return CodeMirror.Pass;\r\n    var triples = getOption(conf, \"triples\");\r\n\r\n    var identical = pairs.charAt(pos + 1) == ch;\r\n    var ranges = cm.listSelections();\r\n    var opening = pos % 2 == 0;\r\n\r\n    var type;\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      var range = ranges[i], cur = range.head, curType;\r\n      var next = cm.getRange(cur, Pos(cur.line, cur.ch + 1));\r\n      if (opening && !range.empty()) {\r\n        curType = \"surround\";\r\n      } else if ((identical || !opening) && next == ch) {\r\n        if (triples.indexOf(ch) >= 0 && cm.getRange(cur, Pos(cur.line, cur.ch + 3)) == ch + ch + ch)\r\n          curType = \"skipThree\";\r\n        else\r\n          curType = \"skip\";\r\n      } else if (identical && cur.ch > 1 && triples.indexOf(ch) >= 0 &&\r\n                 cm.getRange(Pos(cur.line, cur.ch - 2), cur) == ch + ch &&\r\n                 (cur.ch <= 2 || cm.getRange(Pos(cur.line, cur.ch - 3), Pos(cur.line, cur.ch - 2)) != ch)) {\r\n        curType = \"addFour\";\r\n      } else if (identical) {\r\n        if (!CodeMirror.isWordChar(next) && enteringString(cm, cur, ch)) curType = \"both\";\r\n        else return CodeMirror.Pass;\r\n      } else if (opening && (cm.getLine(cur.line).length == cur.ch ||\r\n                             isClosingBracket(next, pairs) ||\r\n                             /\\s/.test(next))) {\r\n        curType = \"both\";\r\n      } else {\r\n        return CodeMirror.Pass;\r\n      }\r\n      if (!type) type = curType;\r\n      else if (type != curType) return CodeMirror.Pass;\r\n    }\r\n\r\n    var left = pos % 2 ? pairs.charAt(pos - 1) : ch;\r\n    var right = pos % 2 ? ch : pairs.charAt(pos + 1);\r\n    cm.operation(function() {\r\n      if (type == \"skip\") {\r\n        cm.execCommand(\"goCharRight\");\r\n      } else if (type == \"skipThree\") {\r\n        for (var i = 0; i < 3; i++)\r\n          cm.execCommand(\"goCharRight\");\r\n      } else if (type == \"surround\") {\r\n        var sels = cm.getSelections();\r\n        for (var i = 0; i < sels.length; i++)\r\n          sels[i] = left + sels[i] + right;\r\n        cm.replaceSelections(sels, \"around\");\r\n        sels = cm.listSelections().slice();\r\n        for (var i = 0; i < sels.length; i++)\r\n          sels[i] = contractSelection(sels[i]);\r\n        cm.setSelections(sels);\r\n      } else if (type == \"both\") {\r\n        cm.replaceSelection(left + right, null);\r\n        cm.triggerElectric(left + right);\r\n        cm.execCommand(\"goCharLeft\");\r\n      } else if (type == \"addFour\") {\r\n        cm.replaceSelection(left + left + left + left, \"before\");\r\n        cm.execCommand(\"goCharRight\");\r\n      }\r\n    });\r\n  }\r\n\r\n  function isClosingBracket(ch, pairs) {\r\n    var pos = pairs.lastIndexOf(ch);\r\n    return pos > -1 && pos % 2 == 1;\r\n  }\r\n\r\n  function charsAround(cm, pos) {\r\n    var str = cm.getRange(Pos(pos.line, pos.ch - 1),\r\n                          Pos(pos.line, pos.ch + 1));\r\n    return str.length == 2 ? str : null;\r\n  }\r\n\r\n  // Project the token type that will exists after the given char is\r\n  // typed, and use it to determine whether it would cause the start\r\n  // of a string token.\r\n  function enteringString(cm, pos, ch) {\r\n    var line = cm.getLine(pos.line);\r\n    var token = cm.getTokenAt(pos);\r\n    if (/\\bstring2?\\b/.test(token.type)) return false;\r\n    var stream = new CodeMirror.StringStream(line.slice(0, pos.ch) + ch + line.slice(pos.ch), 4);\r\n    stream.pos = stream.start = token.start;\r\n    for (;;) {\r\n      var type1 = cm.getMode().token(stream, token.state);\r\n      if (stream.pos >= pos.ch + 1) return /\\bstring2?\\b/.test(type1);\r\n      stream.start = stream.pos;\r\n    }\r\n  }\r\n});\r\n\r\n// Brackets\r\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\r\n// Distributed under an MIT license: http://codemirror.net/LICENSE\r\n\r\n(function(mod) {\r\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\r\n    mod(require(\"../../lib/codemirror\"));\r\n  else if (typeof define == \"function\" && define.amd) // AMD\r\n    define([\"../../lib/codemirror\"], mod);\r\n  else // Plain browser env\r\n    mod(CodeMirror);\r\n})(function(CodeMirror) {\r\n  var ie_lt8 = /MSIE \\d/.test(navigator.userAgent) &&\r\n    (document.documentMode == null || document.documentMode < 8);\r\n\r\n  var Pos = CodeMirror.Pos;\r\n\r\n  var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\"};\r\n\r\n  function findMatchingBracket(cm, where, strict, config) {\r\n    var line = cm.getLineHandle(where.line), pos = where.ch - 1;\r\n    var match = (pos >= 0 && matching[line.text.charAt(pos)]) || matching[line.text.charAt(++pos)];\r\n    if (!match) return null;\r\n    var dir = match.charAt(1) == \">\" ? 1 : -1;\r\n    if (strict && (dir > 0) != (pos == where.ch)) return null;\r\n    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));\r\n\r\n    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style || null, config);\r\n    if (found == null) return null;\r\n    return {from: Pos(where.line, pos), to: found && found.pos,\r\n            match: found && found.ch == match.charAt(0), forward: dir > 0};\r\n  }\r\n\r\n  // bracketRegex is used to specify which type of bracket to scan\r\n  // should be a regexp, e.g. /[[\\]]/\r\n  //\r\n  // Note: If \"where\" is on an open bracket, then this bracket is ignored.\r\n  //\r\n  // Returns false when no bracket was found, null when it reached\r\n  // maxScanLines and gave up\r\n  function scanForBracket(cm, where, dir, style, config) {\r\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\r\n    var maxScanLines = (config && config.maxScanLines) || 1000;\r\n\r\n    var stack = [];\r\n    var re = config && config.bracketRegex ? config.bracketRegex : /[(){}[\\]]/;\r\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\r\n                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\r\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\r\n      var line = cm.getLine(lineNo);\r\n      if (!line) continue;\r\n      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\r\n      if (line.length > maxScanLen) continue;\r\n      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);\r\n      for (; pos != end; pos += dir) {\r\n        var ch = line.charAt(pos);\r\n        if (re.test(ch) && (style === undefined || cm.getTokenTypeAt(Pos(lineNo, pos + 1)) == style)) {\r\n          var match = matching[ch];\r\n          if ((match.charAt(1) == \">\") == (dir > 0)) stack.push(ch);\r\n          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};\r\n          else stack.pop();\r\n        }\r\n      }\r\n    }\r\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\r\n  }\r\n\r\n  function matchBrackets(cm, autoclear, config) {\r\n    // Disable brace matching in long lines, since it'll cause hugely slow updates\r\n    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000;\r\n    var marks = [], ranges = cm.listSelections();\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, false, config);\r\n      if (match && cm.getLine(match.from.line).length <= maxHighlightLen) {\r\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\r\n        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));\r\n        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)\r\n          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));\r\n      }\r\n    }\r\n\r\n    if (marks.length) {\r\n      // Kludge to work around the IE bug from issue #1193, where text\r\n      // input stops going to the textare whever this fires.\r\n      if (ie_lt8 && cm.state.focused) cm.focus();\r\n\r\n      var clear = function() {\r\n        cm.operation(function() {\r\n          for (var i = 0; i < marks.length; i++) marks[i].clear();\r\n        });\r\n      };\r\n      if (autoclear) setTimeout(clear, 800);\r\n      else return clear;\r\n    }\r\n  }\r\n\r\n  var currentlyHighlighted = null;\r\n  function doMatchBrackets(cm) {\r\n    cm.operation(function() {\r\n      if (currentlyHighlighted) {currentlyHighlighted(); currentlyHighlighted = null;}\r\n      currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);\r\n    });\r\n  }\r\n\r\n  CodeMirror.defineOption(\"matchBrackets\", false, function(cm, val, old) {\r\n    if (old && old != CodeMirror.Init) {\r\n      cm.off(\"cursorActivity\", doMatchBrackets);\r\n      if (currentlyHighlighted) {currentlyHighlighted(); currentlyHighlighted = null;}\r\n    }\r\n    if (val) {\r\n      cm.state.matchBrackets = typeof val == \"object\" ? val : {};\r\n      cm.on(\"cursorActivity\", doMatchBrackets);\r\n    }\r\n  });\r\n\r\n  CodeMirror.defineExtension(\"matchBrackets\", function() {matchBrackets(this, true);});\r\n  CodeMirror.defineExtension(\"findMatchingBracket\", function(pos, strict, config){\r\n    return findMatchingBracket(this, pos, strict, config);\r\n  });\r\n  CodeMirror.defineExtension(\"scanForBracket\", function(pos, dir, style, config){\r\n    return scanForBracket(this, pos, dir, style, config);\r\n  });\r\n});\r\n","'use strict';\r\n\r\n/**\r\n * Binds a CodeMirror widget to a <textarea> element.\r\n */\r\nangular.module('ui.codemirror', [])\r\n  .constant('uiCodemirrorConfig', {})\r\n  .directive('uiCodemirror', ['$timeout','uiCodemirrorConfig',\r\n\r\n/**\r\n * @ngInject\r\n */\r\nfunction uiCodemirrorDirective($timeout, uiCodemirrorConfig) {\r\n\r\n  return {\r\n    restrict: 'EA',\r\n    require: '?ngModel',\r\n    compile: function compile() {\r\n\r\n      // Require CodeMirror\r\n      if (angular.isUndefined(window.CodeMirror)) {\r\n        throw new Error('ui-codemirror needs CodeMirror to work... (o rly?)');\r\n      }\r\n\r\n      return postLink;\r\n    }\r\n  };\r\n\r\n  function postLink(scope, iElement, iAttrs, ngModel) {\r\n\r\n    var codemirrorOptions = angular.extend(\r\n      { value: iElement.text() },\r\n      uiCodemirrorConfig.codemirror || {},\r\n      scope.$eval(iAttrs.uiCodemirror),\r\n      scope.$eval(iAttrs.uiCodemirrorOpts)\r\n    );\r\n\r\n    var codemirror = newCodemirrorEditor(iElement, codemirrorOptions);\r\n\r\n    configOptionsWatcher(\r\n      codemirror,\r\n      iAttrs.uiCodemirror || iAttrs.uiCodemirrorOpts,\r\n      scope\r\n    );\r\n\r\n    configNgModelLink(codemirror, ngModel, scope);\r\n\r\n    configUiRefreshAttribute(codemirror, iAttrs.uiRefresh, scope);\r\n\r\n    // Allow access to the CodeMirror instance through a broadcasted event\r\n    // eg: $broadcast('CodeMirror', function(cm){...});\r\n    scope.$on('CodeMirror', function(event, callback) {\r\n      if (angular.isFunction(callback)) {\r\n        callback(codemirror);\r\n      } else {\r\n        throw new Error('the CodeMirror event requires a callback function');\r\n      }\r\n    });\r\n\r\n    // onLoad callback\r\n    if (angular.isFunction(codemirrorOptions.onLoad)) {\r\n      codemirrorOptions.onLoad(codemirror);\r\n    }\r\n  }\r\n\r\n  function newCodemirrorEditor(iElement, codemirrorOptions) {\r\n    var codemirrot;\r\n\r\n    if (iElement[0].tagName === 'TEXTAREA') {\r\n      // Might bug but still ...\r\n      codemirrot = window.CodeMirror.fromTextArea(iElement[0], codemirrorOptions);\r\n    } else {\r\n      iElement.html('');\r\n      codemirrot = new window.CodeMirror(function(cm_el) {\r\n        iElement.append(cm_el);\r\n      }, codemirrorOptions);\r\n    }\r\n\r\n    return codemirrot;\r\n  }\r\n\r\n  function configOptionsWatcher(codemirrot, uiCodemirrorAttr, scope) {\r\n    if (!uiCodemirrorAttr) { return; }\r\n\r\n    var codemirrorDefaultsKeys = Object.keys(window.CodeMirror.defaults);\r\n    scope.$watch(uiCodemirrorAttr, updateOptions, true);\r\n    function updateOptions(newValues, oldValue) {\r\n      if (!angular.isObject(newValues)) { return; }\r\n      codemirrorDefaultsKeys.forEach(function(key) {\r\n        if (newValues.hasOwnProperty(key)) {\r\n\r\n          if (oldValue && newValues[key] === oldValue[key]) {\r\n            return;\r\n          }\r\n\r\n          codemirrot.setOption(key, newValues[key]);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function configNgModelLink(codemirror, ngModel, scope) {\r\n    if (!ngModel) { return; }\r\n    // CodeMirror expects a string, so make sure it gets one.\r\n    // This does not change the model.\r\n    ngModel.$formatters.push(function(value) {\r\n      if (angular.isUndefined(value) || value === null) {\r\n        return '';\r\n      } else if (angular.isObject(value) || angular.isArray(value)) {\r\n        throw new Error('ui-codemirror cannot use an object or an array as a model');\r\n      }\r\n      return value;\r\n    });\r\n\r\n\r\n    // Override the ngModelController $render method, which is what gets called when the model is updated.\r\n    // This takes care of the synchronizing the codeMirror element with the underlying model, in the case that it is changed by something else.\r\n    ngModel.$render = function() {\r\n      //Code mirror expects a string so make sure it gets one\r\n      //Although the formatter have already done this, it can be possible that another formatter returns undefined (for example the required directive)\r\n      var safeViewValue = ngModel.$viewValue || '';\r\n      codemirror.setValue(safeViewValue);\r\n    };\r\n\r\n\r\n    // Keep the ngModel in sync with changes from CodeMirror\r\n    codemirror.on('change', function(instance) {\r\n      var newValue = instance.getValue();\r\n      if (newValue !== ngModel.$viewValue) {\r\n        scope.$evalAsync(function() {\r\n          ngModel.$setViewValue(newValue);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  function configUiRefreshAttribute(codeMirror, uiRefreshAttr, scope) {\r\n    if (!uiRefreshAttr) { return; }\r\n\r\n    scope.$watch(uiRefreshAttr, function(newVal, oldVal) {\r\n      // Skip the initial watch firing\r\n      if (newVal !== oldVal) {\r\n        $timeout(function() {\r\n          codeMirror.refresh();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n}]);","// JSONata mode for CodeMirror\n\n//require('codemirror');\n\nCodeMirror.defineMode(\"jsonata\", function(config, parserConfig) {\n    var templateMode = parserConfig.template;\n    var jsonata = parserConfig.jsonata;\n\n    const operators = {\n        '.': 75,\n        '[': 80,\n        ']': 0,\n        '{': 70,\n        '}': 0,\n        '(': 80,\n        ')': 0,\n        ',': 0,\n        '@': 75,\n        '#': 70,\n        ';': 80,\n        ':': 80,\n        '?': 20,\n        '+': 50,\n        '-': 50,\n        '*': 60,\n        '/': 60,\n        '%': 60,\n        '|': 20,\n        '=': 40,\n        '<': 40,\n        '>': 40,\n        '`': 80,\n        '**': 60,\n        '..': 20,\n        ':=': 30,\n        '!=': 40,\n        '<=': 40,\n        '>=': 40,\n        'and': 30,\n        'or': 25,\n        '||' : 50,\n        '!': 0   // not an operator, but needed as a stop character for name tokens\n    };\n\n    const escapes = {  // JSON string escape sequences - see json.org\n        '\"': '\"',\n        '\\\\': '\\\\',\n        '/': '/',\n        'b': '\\b',\n        'f': '\\f',\n        'n': '\\n',\n        'r': '\\r',\n        't': '\\t'\n    };\n\n    var tokenizer = function(path) {\n        var position = 0;\n        var length = path.length;\n\n        var create = function(type, value) {\n            var obj = { type: type, value: value, position: position};\n            return obj;\n        };\n\n        var next = function() {\n            if(position >= length) return null;\n            var currentChar = path.charAt(position);\n            // skip whitespace\n            while(position < length && ' \\t\\n\\r\\v'.indexOf(currentChar) > -1) {\n                position++;\n                currentChar = path.charAt(position);\n            }\n            // handle double-char operators\n            if(currentChar === '.' && path.charAt(position+1) === '.') {\n                // double-dot .. range operator\n                position += 2;\n                return create('operator', '..');\n            }\n            if(currentChar === '|' && path.charAt(position+1) === '|') {\n                // double-pipe || string concatenator\n                position += 2;\n                return create('operator', '||');\n            }\n            if(currentChar === ':' && path.charAt(position+1) === '=') {\n                // := assignment\n                position += 2;\n                return create('operator', ':=');\n            }\n            if(currentChar === '!' && path.charAt(position+1) === '=') {\n                // !=\n                position += 2;\n                return create('operator', '!=');\n            }\n            if(currentChar === '>' && path.charAt(position+1) === '=') {\n                // >=\n                position += 2;\n                return create('operator', '>=');\n            }\n            if(currentChar === '<' && path.charAt(position+1) === '=') {\n                // <=\n                position += 2;\n                return create('operator', '<=');\n            }\n            if(currentChar === '*' && path.charAt(position+1) === '*') {\n                // **  descendant wildcard\n                position += 2;\n                return create('operator', '**');\n            }\n            // test for operators\n            if(operators.hasOwnProperty(currentChar)) {\n                position++;\n                return create('operator', currentChar);\n            }\n            // test for string literals\n            if(currentChar === '\"' || currentChar === \"'\") {\n                var quoteType = currentChar;\n                // double quoted string literal - find end of string\n                position++;\n                var qstr = \"\";\n                while(position < length) {\n                    currentChar = path.charAt(position);\n                    if(currentChar === '\\\\') { // escape sequence\n                        position++;\n                        currentChar = path.charAt(position);\n                        if(escapes.hasOwnProperty(currentChar)) {\n                            qstr += escapes[currentChar];\n                        } else if(currentChar === 'u') {\n                            // \\u should be followed by 4 hex digits\n                            var octets = path.substr(position+1, 4);\n                            if(/^[0-9a-fA-F]+$/.test(octets)) {\n                                var codepoint = parseInt(octets, 16);\n                                qstr += String.fromCharCode(codepoint);\n                                position += 4;\n                            } else {\n                                throw new Error('The escape sequence \\\\u must be followed by 4 hex digits at column ' + position);\n                            }\n                        } else {\n                            // illegal escape sequence\n                            throw new Error('unsupported escape sequence: \\\\' + currentChar + ' at column ' + position);\n                        }\n                    } else if(currentChar === quoteType) {\n                        position++;\n                        return create('string', qstr);\n                    } else {\n                        qstr += currentChar;\n                    }\n                    position++;\n                }\n                throw new Error('no terminating quote found in string literal starting at column ' + position);\n            }\n            // test for numbers\n            var numregex = /^-?(0|([1-9][0-9]*))(\\.[0-9]+)?([Ee][-+]?[0-9]+)?/;\n            var match = numregex.exec(path.substring(position));\n            if(match !== null) {\n                var num = parseFloat(match[0]);\n                if(!isNaN(num) && isFinite(num)) {\n                    position += match[0].length;\n                    return create('number', num);\n                } else {\n                    throw new Error('Number out of range: ' + match[0]);\n                }\n            }\n            // test for names\n            var i = position;\n            var ch;\n            var name;\n            while(true) {\n                ch = path.charAt(i);\n                if(i == length || ' \\t\\n\\r\\v'.indexOf(ch) > -1 || operators.hasOwnProperty(ch)) {\n                    if(path.charAt(position) === '$') {\n                        // variable reference\n                        name = path.substring(position + 1, i);\n                        position = i;\n                        return create('variable', name);\n                    } else {\n                        name = path.substring(position, i);\n                        position = i;\n                        switch(name) {\n                            case 'and':\n                            case 'or':\n                                return create('operator', name);\n                            case 'true':\n                                return create('value', true);\n                            case 'false':\n                                return create('value', false);\n                            case 'null':\n                                return create('value', null);\n                            default:\n                                if(position == length && name === '') {\n                                    // whitespace at end of input\n                                    return null;\n                                }\n                                return create('name', name);\n                        }\n                    }\n                } else {\n                    i++;\n                }\n            }\n        };\n\n        return next;\n    };\n\n    var templatizer = function(text) {\n        var position = 0;\n        var length = text.length;\n\n        var create = function(type, value) {\n            var obj = { type: type, value: value, position: position};\n            return obj;\n        };\n\n        var next = function() {\n            if(position >= length) return null;\n            var currentChar = text.charAt(position);\n            // skip whitespace\n            while(position < length && ' \\t\\n\\r\\v'.indexOf(currentChar) > -1) {\n                position++;\n                currentChar = text.charAt(position);\n            }\n\n            if(currentChar === '{' && text.charAt(position+1) === '{') {\n                // found {{\n                position += 2;\n                // parse what follows using the jsonata parser\n                var rest = text.substring(position);\n                try {\n                    jsonata.parser(rest);\n                    // if we get here, we parsed to the end of the buffer with no closing handlebars\n                    position += rest.length;\n                    return create('variable');\n                } catch (err) {\n                    if (err.token === '(end)') {\n                        position = length;\n                        return create('variable');\n                    }\n                    if (rest.charAt(err.position - 1) != \"}\" || rest.charAt(err.position) != \"}\") {\n                        // no closing handlbars\n                        position += err.position;\n                        return create('variable');\n                    }\n                    position += err.position + 1;\n                    return create('variable');\n                }\n            } else {\n                // search forward for next {{\n                position = text.indexOf(\"{{\", position);\n                if(position != -1) {\n                    return create('operator');\n                }\n                position = length;\n                return create('operator');\n            }\n\n        };\n\n        return next;\n    };\n\n    var TOKEN_NAMES = {\n        'operator': 'operator',\n        'variable': 'string-2',\n        'string': 'string',\n        'number': 'number',\n        'value': 'keyword',\n        'name': 'attribute'\n    };\n\n    var currentIndent = 0;\n\n    return {\n        token: function(stream) {\n            var lexer;\n            if(templateMode) {\n                lexer = templatizer(stream.string.substr(stream.pos));\n            } else {\n                lexer = tokenizer(stream.string.substr(stream.pos));\n            }\n            var token;\n            try {\n                token = lexer();\n            } catch(err) {\n                token = null;\n            }\n            if(token === null) {\n                stream.skipToEnd();\n                return null;\n            }\n            var length = token.position;\n            while(length > 0) {\n                stream.next();\n                length--;\n            }\n\n            var style = TOKEN_NAMES[token.type];\n            return style;\n        }  /*,\n         indent: function(state, textAfter) {\n         var close = /^[\\)\\]\\}]/;\n         if(textAfter.match(close)) {\n         currentIndent -= 2;\n         } else {\n         currentIndent += 2;\n         }\n         return currentIndent;\n         }*/\n    }; // end of structure returned by defineMode\n\n\n\n}); // end of defineMode\n\n\n","/**\n * dirPagination - AngularJS module for paginating (almost) anything.\n *\n *\n * Credits\n * =======\n *\n * Daniel Tabuenca: https://groups.google.com/d/msg/angular/an9QpzqIYiM/r8v-3W1X5vcJ\n * for the idea on how to dynamically invoke the ng-repeat directive.\n *\n * I borrowed a couple of lines and a few attribute names from the AngularUI Bootstrap project:\n * https://github.com/angular-ui/bootstrap/blob/master/src/pagination/pagination.js\n *\n * Copyright 2014 Michael Bromley <michael@michaelbromley.co.uk>\n */\n\n(function() {\n\n    /**\n     * Config\n     */\n    var moduleName = 'angularUtils.directives.dirPagination';\n    var DEFAULT_ID = '__default';\n\n    /**\n     * Module\n     */\n    angular.module(moduleName, [])\n        .directive('dirPaginate', ['$compile', '$parse', 'paginationService', dirPaginateDirective])\n        .directive('dirPaginateNoCompile', noCompileDirective)\n        .directive('dirPaginationControls', ['paginationService', 'paginationTemplate', dirPaginationControlsDirective])\n        .filter('itemsPerPage', ['paginationService', itemsPerPageFilter])\n        .service('paginationService', paginationService)\n        .provider('paginationTemplate', paginationTemplateProvider)\n        .run(['$templateCache',dirPaginationControlsTemplateInstaller]);\n\n    function dirPaginateDirective($compile, $parse, paginationService) {\n\n        return  {\n            terminal: true,\n            multiElement: true,\n            priority: 100,\n            compile: dirPaginationCompileFn\n        };\n\n        function dirPaginationCompileFn(tElement, tAttrs){\n\n            var expression = tAttrs.dirPaginate;\n            // regex taken directly from https://github.com/angular/angular.js/blob/v1.4.x/src/ng/directive/ngRepeat.js#L339\n            var match = expression.match(/^\\s*([\\s\\S]+?)\\s+in\\s+([\\s\\S]+?)(?:\\s+as\\s+([\\s\\S]+?))?(?:\\s+track\\s+by\\s+([\\s\\S]+?))?\\s*$/);\n\n            var filterPattern = /\\|\\s*itemsPerPage\\s*:\\s*(.*\\(\\s*\\w*\\)|([^\\)]*?(?=\\s+as\\s+))|[^\\)]*)/;\n            if (match[2].match(filterPattern) === null) {\n                throw 'pagination directive: the \\'itemsPerPage\\' filter must be set.';\n            }\n            var itemsPerPageFilterRemoved = match[2].replace(filterPattern, '');\n            var collectionGetter = $parse(itemsPerPageFilterRemoved);\n\n            addNoCompileAttributes(tElement);\n\n            // If any value is specified for paginationId, we register the un-evaluated expression at this stage for the benefit of any\n            // dir-pagination-controls directives that may be looking for this ID.\n            var rawId = tAttrs.paginationId || DEFAULT_ID;\n            paginationService.registerInstance(rawId);\n\n            return function dirPaginationLinkFn(scope, element, attrs){\n\n                // Now that we have access to the `scope` we can interpolate any expression given in the paginationId attribute and\n                // potentially register a new ID if it evaluates to a different value than the rawId.\n                var paginationId = $parse(attrs.paginationId)(scope) || attrs.paginationId || DEFAULT_ID;\n                // In case rawId != paginationId we deregister using rawId for the sake of general cleanliness\n                // before registering using paginationId\n                paginationService.deregisterInstance(rawId);\n                paginationService.registerInstance(paginationId);\n\n                var repeatExpression = getRepeatExpression(expression, paginationId);\n                addNgRepeatToElement(element, attrs, repeatExpression);\n\n                removeTemporaryAttributes(element);\n                var compiled =  $compile(element);\n\n                var currentPageGetter = makeCurrentPageGetterFn(scope, attrs, paginationId);\n                paginationService.setCurrentPageParser(paginationId, currentPageGetter, scope);\n\n                if (typeof attrs.totalItems !== 'undefined') {\n                    paginationService.setAsyncModeTrue(paginationId);\n                    scope.$watch(function() {\n                        return $parse(attrs.totalItems)(scope);\n                    }, function (result) {\n                        if (0 <= result) {\n                            paginationService.setCollectionLength(paginationId, result);\n                        }\n                    });\n                } else {\n                    paginationService.setAsyncModeFalse(paginationId);\n                    scope.$watchCollection(function() {\n                        return collectionGetter(scope);\n                    }, function(collection) {\n                        if (collection) {\n                            var collectionLength = (collection instanceof Array) ? collection.length : Object.keys(collection).length;\n                            paginationService.setCollectionLength(paginationId, collectionLength);\n                        }\n                    });\n                }\n\n                // Delegate to the link function returned by the new compilation of the ng-repeat\n                compiled(scope);\n                    \n                // When the scope is destroyed, we make sure to remove the reference to it in paginationService\n                // so that it can be properly garbage collected\n                scope.$on('$destroy', function destroyDirPagination() {\n                    paginationService.deregisterInstance(paginationId);\n                });\n            };\n        }\n\n        /**\n         * If a pagination id has been specified, we need to check that it is present as the second argument passed to\n         * the itemsPerPage filter. If it is not there, we add it and return the modified expression.\n         *\n         * @param expression\n         * @param paginationId\n         * @returns {*}\n         */\n        function getRepeatExpression(expression, paginationId) {\n            var repeatExpression,\n                idDefinedInFilter = !!expression.match(/(\\|\\s*itemsPerPage\\s*:[^|]*:[^|]*)/);\n\n            if (paginationId !== DEFAULT_ID && !idDefinedInFilter) {\n                repeatExpression = expression.replace(/(\\|\\s*itemsPerPage\\s*:\\s*[^|\\s]*)/, \"$1 : '\" + paginationId + \"'\");\n            } else {\n                repeatExpression = expression;\n            }\n\n            return repeatExpression;\n        }\n\n        /**\n         * Adds the ng-repeat directive to the element. In the case of multi-element (-start, -end) it adds the\n         * appropriate multi-element ng-repeat to the first and last element in the range.\n         * @param element\n         * @param attrs\n         * @param repeatExpression\n         */\n        function addNgRepeatToElement(element, attrs, repeatExpression) {\n            if (element[0].hasAttribute('dir-paginate-start') || element[0].hasAttribute('data-dir-paginate-start')) {\n                // using multiElement mode (dir-paginate-start, dir-paginate-end)\n                attrs.$set('ngRepeatStart', repeatExpression);\n                element.eq(element.length - 1).attr('ng-repeat-end', true);\n            } else {\n                attrs.$set('ngRepeat', repeatExpression);\n            }\n        }\n\n        /**\n         * Adds the dir-paginate-no-compile directive to each element in the tElement range.\n         * @param tElement\n         */\n        function addNoCompileAttributes(tElement) {\n            angular.forEach(tElement, function(el) {\n                if (el.nodeType === 1) {\n                    angular.element(el).attr('dir-paginate-no-compile', true);\n                }\n            });\n        }\n\n        /**\n         * Removes the variations on dir-paginate (data-, -start, -end) and the dir-paginate-no-compile directives.\n         * @param element\n         */\n        function removeTemporaryAttributes(element) {\n            angular.forEach(element, function(el) {\n                if (el.nodeType === 1) {\n                    angular.element(el).removeAttr('dir-paginate-no-compile');\n                }\n            });\n            element.eq(0).removeAttr('dir-paginate-start').removeAttr('dir-paginate').removeAttr('data-dir-paginate-start').removeAttr('data-dir-paginate');\n            element.eq(element.length - 1).removeAttr('dir-paginate-end').removeAttr('data-dir-paginate-end');\n        }\n\n        /**\n         * Creates a getter function for the current-page attribute, using the expression provided or a default value if\n         * no current-page expression was specified.\n         *\n         * @param scope\n         * @param attrs\n         * @param paginationId\n         * @returns {*}\n         */\n        function makeCurrentPageGetterFn(scope, attrs, paginationId) {\n            var currentPageGetter;\n            if (attrs.currentPage) {\n                currentPageGetter = $parse(attrs.currentPage);\n            } else {\n                // If the current-page attribute was not set, we'll make our own.\n                // Replace any non-alphanumeric characters which might confuse\n                // the $parse service and give unexpected results.\n                // See https://github.com/michaelbromley/angularUtils/issues/233\n                var defaultCurrentPage = (paginationId + '__currentPage').replace(/\\W/g, '_');\n                scope[defaultCurrentPage] = 1;\n                currentPageGetter = $parse(defaultCurrentPage);\n            }\n            return currentPageGetter;\n        }\n    }\n\n    /**\n     * This is a helper directive that allows correct compilation when in multi-element mode (ie dir-paginate-start, dir-paginate-end).\n     * It is dynamically added to all elements in the dir-paginate compile function, and it prevents further compilation of\n     * any inner directives. It is then removed in the link function, and all inner directives are then manually compiled.\n     */\n    function noCompileDirective() {\n        return {\n            priority: 5000,\n            terminal: true\n        };\n    }\n\n    function dirPaginationControlsTemplateInstaller($templateCache) {\n        $templateCache.put('angularUtils.directives.dirPagination.template', '<ul class=\"pagination\" ng-if=\"1 < pages.length || !autoHide\"><li ng-if=\"boundaryLinks\" ng-class=\"{ disabled : pagination.current == 1 }\"><a href=\"\" ng-click=\"setCurrent(1)\">&laquo;</a></li><li ng-if=\"directionLinks\" ng-class=\"{ disabled : pagination.current == 1 }\"><a href=\"\" ng-click=\"setCurrent(pagination.current - 1)\">&lsaquo;</a></li><li ng-repeat=\"pageNumber in pages track by tracker(pageNumber, $index)\" ng-class=\"{ active : pagination.current == pageNumber, disabled : pageNumber == \\'...\\' || ( ! autoHide && pages.length === 1 ) }\"><a href=\"\" ng-click=\"setCurrent(pageNumber)\">{{ pageNumber }}</a></li><li ng-if=\"directionLinks\" ng-class=\"{ disabled : pagination.current == pagination.last }\"><a href=\"\" ng-click=\"setCurrent(pagination.current + 1)\">&rsaquo;</a></li><li ng-if=\"boundaryLinks\"  ng-class=\"{ disabled : pagination.current == pagination.last }\"><a href=\"\" ng-click=\"setCurrent(pagination.last)\">&raquo;</a></li></ul>');\n    }\n\n    function dirPaginationControlsDirective(paginationService, paginationTemplate) {\n\n        var numberRegex = /^\\d+$/;\n\n        var DDO = {\n            restrict: 'AE',\n            scope: {\n                maxSize: '=?',\n                onPageChange: '&?',\n                paginationId: '=?',\n                autoHide: '=?'\n            },\n            link: dirPaginationControlsLinkFn\n        };\n\n        // We need to check the paginationTemplate service to see whether a template path or\n        // string has been specified, and add the `template` or `templateUrl` property to\n        // the DDO as appropriate. The order of priority to decide which template to use is\n        // (highest priority first):\n        // 1. paginationTemplate.getString()\n        // 2. attrs.templateUrl\n        // 3. paginationTemplate.getPath()\n        var templateString = paginationTemplate.getString();\n        if (templateString !== undefined) {\n            DDO.template = templateString;\n        } else {\n            DDO.templateUrl = function(elem, attrs) {\n                return attrs.templateUrl || paginationTemplate.getPath();\n            };\n        }\n        return DDO;\n\n        function dirPaginationControlsLinkFn(scope, element, attrs) {\n\n            // rawId is the un-interpolated value of the pagination-id attribute. This is only important when the corresponding dir-paginate directive has\n            // not yet been linked (e.g. if it is inside an ng-if block), and in that case it prevents this controls directive from assuming that there is\n            // no corresponding dir-paginate directive and wrongly throwing an exception.\n            var rawId = attrs.paginationId ||  DEFAULT_ID;\n            var paginationId = scope.paginationId || attrs.paginationId ||  DEFAULT_ID;\n\n            if (!paginationService.isRegistered(paginationId) && !paginationService.isRegistered(rawId)) {\n                var idMessage = (paginationId !== DEFAULT_ID) ? ' (id: ' + paginationId + ') ' : ' ';\n                if (window.console) {\n                    console.warn('Pagination directive: the pagination controls' + idMessage + 'cannot be used without the corresponding pagination directive, which was not found at link time.');\n                }\n            }\n\n            if (!scope.maxSize) { scope.maxSize = 9; }\n            scope.autoHide = scope.autoHide === undefined ? true : scope.autoHide;\n            scope.directionLinks = angular.isDefined(attrs.directionLinks) ? scope.$parent.$eval(attrs.directionLinks) : true;\n            scope.boundaryLinks = angular.isDefined(attrs.boundaryLinks) ? scope.$parent.$eval(attrs.boundaryLinks) : false;\n\n            var paginationRange = Math.max(scope.maxSize, 5);\n            scope.pages = [];\n            scope.pagination = {\n                last: 1,\n                current: 1\n            };\n            scope.range = {\n                lower: 1,\n                upper: 1,\n                total: 1\n            };\n\n            scope.$watch('maxSize', function(val) {\n                if (val) {\n                    paginationRange = Math.max(scope.maxSize, 5);\n                    generatePagination();\n                }\n            });\n\n            scope.$watch(function() {\n                if (paginationService.isRegistered(paginationId)) {\n                    return (paginationService.getCollectionLength(paginationId) + 1) * paginationService.getItemsPerPage(paginationId);\n                }\n            }, function(length) {\n                if (0 < length) {\n                    generatePagination();\n                }\n            });\n\n            scope.$watch(function() {\n                if (paginationService.isRegistered(paginationId)) {\n                    return (paginationService.getItemsPerPage(paginationId));\n                }\n            }, function(current, previous) {\n                if (current != previous && typeof previous !== 'undefined') {\n                    goToPage(scope.pagination.current);\n                }\n            });\n\n            scope.$watch(function() {\n                if (paginationService.isRegistered(paginationId)) {\n                    return paginationService.getCurrentPage(paginationId);\n                }\n            }, function(currentPage, previousPage) {\n                if (currentPage != previousPage) {\n                    goToPage(currentPage);\n                }\n            });\n\n            scope.setCurrent = function(num) {\n                if (paginationService.isRegistered(paginationId) && isValidPageNumber(num)) {\n                    num = parseInt(num, 10);\n                    paginationService.setCurrentPage(paginationId, num);\n                }\n            };\n\n            /**\n             * Custom \"track by\" function which allows for duplicate \"...\" entries on long lists,\n             * yet fixes the problem of wrongly-highlighted links which happens when using\n             * \"track by $index\" - see https://github.com/michaelbromley/angularUtils/issues/153\n             * @param id\n             * @param index\n             * @returns {string}\n             */\n            scope.tracker = function(id, index) {\n                return id + '_' + index;\n            };\n\n            function goToPage(num) {\n                if (paginationService.isRegistered(paginationId) && isValidPageNumber(num)) {\n                    var oldPageNumber = scope.pagination.current;\n\n                    scope.pages = generatePagesArray(num, paginationService.getCollectionLength(paginationId), paginationService.getItemsPerPage(paginationId), paginationRange);\n                    scope.pagination.current = num;\n                    updateRangeValues();\n\n                    // if a callback has been set, then call it with the page number as the first argument\n                    // and the previous page number as a second argument\n                    if (scope.onPageChange) {\n                        scope.onPageChange({\n                            newPageNumber : num,\n                            oldPageNumber : oldPageNumber\n                        });\n                    }\n                }\n            }\n\n            function generatePagination() {\n                if (paginationService.isRegistered(paginationId)) {\n                    var page = parseInt(paginationService.getCurrentPage(paginationId)) || 1;\n                    scope.pages = generatePagesArray(page, paginationService.getCollectionLength(paginationId), paginationService.getItemsPerPage(paginationId), paginationRange);\n                    scope.pagination.current = page;\n                    scope.pagination.last = scope.pages[scope.pages.length - 1];\n                    if (scope.pagination.last < scope.pagination.current) {\n                        scope.setCurrent(scope.pagination.last);\n                    } else {\n                        updateRangeValues();\n                    }\n                }\n            }\n\n            /**\n             * This function updates the values (lower, upper, total) of the `scope.range` object, which can be used in the pagination\n             * template to display the current page range, e.g. \"showing 21 - 40 of 144 results\";\n             */\n            function updateRangeValues() {\n                if (paginationService.isRegistered(paginationId)) {\n                    var currentPage = paginationService.getCurrentPage(paginationId),\n                        itemsPerPage = paginationService.getItemsPerPage(paginationId),\n                        totalItems = paginationService.getCollectionLength(paginationId);\n\n                    scope.range.lower = (currentPage - 1) * itemsPerPage + 1;\n                    scope.range.upper = Math.min(currentPage * itemsPerPage, totalItems);\n                    scope.range.total = totalItems;\n                }\n            }\n            function isValidPageNumber(num) {\n                return (numberRegex.test(num) && (0 < num && num <= scope.pagination.last));\n            }\n        }\n\n        /**\n         * Generate an array of page numbers (or the '...' string) which is used in an ng-repeat to generate the\n         * links used in pagination\n         *\n         * @param currentPage\n         * @param rowsPerPage\n         * @param paginationRange\n         * @param collectionLength\n         * @returns {Array}\n         */\n        function generatePagesArray(currentPage, collectionLength, rowsPerPage, paginationRange) {\n            var pages = [];\n            var totalPages = Math.ceil(collectionLength / rowsPerPage);\n            var halfWay = Math.ceil(paginationRange / 2);\n            var position;\n\n            if (currentPage <= halfWay) {\n                position = 'start';\n            } else if (totalPages - halfWay < currentPage) {\n                position = 'end';\n            } else {\n                position = 'middle';\n            }\n\n            var ellipsesNeeded = paginationRange < totalPages;\n            var i = 1;\n            while (i <= totalPages && i <= paginationRange) {\n                var pageNumber = calculatePageNumber(i, currentPage, paginationRange, totalPages);\n\n                var openingEllipsesNeeded = (i === 2 && (position === 'middle' || position === 'end'));\n                var closingEllipsesNeeded = (i === paginationRange - 1 && (position === 'middle' || position === 'start'));\n                if (ellipsesNeeded && (openingEllipsesNeeded || closingEllipsesNeeded)) {\n                    pages.push('...');\n                } else {\n                    pages.push(pageNumber);\n                }\n                i ++;\n            }\n            return pages;\n        }\n\n        /**\n         * Given the position in the sequence of pagination links [i], figure out what page number corresponds to that position.\n         *\n         * @param i\n         * @param currentPage\n         * @param paginationRange\n         * @param totalPages\n         * @returns {*}\n         */\n        function calculatePageNumber(i, currentPage, paginationRange, totalPages) {\n            var halfWay = Math.ceil(paginationRange/2);\n            if (i === paginationRange) {\n                return totalPages;\n            } else if (i === 1) {\n                return i;\n            } else if (paginationRange < totalPages) {\n                if (totalPages - halfWay < currentPage) {\n                    return totalPages - paginationRange + i;\n                } else if (halfWay < currentPage) {\n                    return currentPage - halfWay + i;\n                } else {\n                    return i;\n                }\n            } else {\n                return i;\n            }\n        }\n    }\n\n    /**\n     * This filter slices the collection into pages based on the current page number and number of items per page.\n     * @param paginationService\n     * @returns {Function}\n     */\n    function itemsPerPageFilter(paginationService) {\n\n        return function(collection, itemsPerPage, paginationId) {\n            if (typeof (paginationId) === 'undefined') {\n                paginationId = DEFAULT_ID;\n            }\n            if (!paginationService.isRegistered(paginationId)) {\n                throw 'pagination directive: the itemsPerPage id argument (id: ' + paginationId + ') does not match a registered pagination-id.';\n            }\n            var end;\n            var start;\n            if (angular.isObject(collection)) {\n                itemsPerPage = parseInt(itemsPerPage) || 9999999999;\n                if (paginationService.isAsyncMode(paginationId)) {\n                    start = 0;\n                } else {\n                    start = (paginationService.getCurrentPage(paginationId) - 1) * itemsPerPage;\n                }\n                end = start + itemsPerPage;\n                paginationService.setItemsPerPage(paginationId, itemsPerPage);\n\n                if (collection instanceof Array) {\n                    // the array just needs to be sliced\n                    return collection.slice(start, end);\n                } else {\n                    // in the case of an object, we need to get an array of keys, slice that, then map back to\n                    // the original object.\n                    var slicedObject = {};\n                    angular.forEach(keys(collection).slice(start, end), function(key) {\n                        slicedObject[key] = collection[key];\n                    });\n                    return slicedObject;\n                }\n            } else {\n                return collection;\n            }\n        };\n    }\n\n    /**\n     * Shim for the Object.keys() method which does not exist in IE < 9\n     * @param obj\n     * @returns {Array}\n     */\n    function keys(obj) {\n        if (!Object.keys) {\n            var objKeys = [];\n            for (var i in obj) {\n                if (obj.hasOwnProperty(i)) {\n                    objKeys.push(i);\n                }\n            }\n            return objKeys;\n        } else {\n            return Object.keys(obj);\n        }\n    }\n\n    /**\n     * This service allows the various parts of the module to communicate and stay in sync.\n     */\n    function paginationService() {\n\n        var instances = {};\n        var lastRegisteredInstance;\n\n        this.registerInstance = function(instanceId) {\n            if (typeof instances[instanceId] === 'undefined') {\n                instances[instanceId] = {\n                    asyncMode: false\n                };\n                lastRegisteredInstance = instanceId;\n            }\n        };\n\n        this.deregisterInstance = function(instanceId) {\n            delete instances[instanceId];\n        };\n        \n        this.isRegistered = function(instanceId) {\n            return (typeof instances[instanceId] !== 'undefined');\n        };\n\n        this.getLastInstanceId = function() {\n            return lastRegisteredInstance;\n        };\n\n        this.setCurrentPageParser = function(instanceId, val, scope) {\n            instances[instanceId].currentPageParser = val;\n            instances[instanceId].context = scope;\n        };\n        this.setCurrentPage = function(instanceId, val) {\n            instances[instanceId].currentPageParser.assign(instances[instanceId].context, val);\n        };\n        this.getCurrentPage = function(instanceId) {\n            var parser = instances[instanceId].currentPageParser;\n            return parser ? parser(instances[instanceId].context) : 1;\n        };\n\n        this.setItemsPerPage = function(instanceId, val) {\n            instances[instanceId].itemsPerPage = val;\n        };\n        this.getItemsPerPage = function(instanceId) {\n            return instances[instanceId].itemsPerPage;\n        };\n\n        this.setCollectionLength = function(instanceId, val) {\n            instances[instanceId].collectionLength = val;\n        };\n        this.getCollectionLength = function(instanceId) {\n            return instances[instanceId].collectionLength;\n        };\n\n        this.setAsyncModeTrue = function(instanceId) {\n            instances[instanceId].asyncMode = true;\n        };\n\n        this.setAsyncModeFalse = function(instanceId) {\n            instances[instanceId].asyncMode = false;\n        };\n\n        this.isAsyncMode = function(instanceId) {\n            return instances[instanceId].asyncMode;\n        };\n    }\n\n    /**\n     * This provider allows global configuration of the template path used by the dir-pagination-controls directive.\n     */\n    function paginationTemplateProvider() {\n\n        var templatePath = 'angularUtils.directives.dirPagination.template';\n        var templateString;\n\n        /**\n         * Set a templateUrl to be used by all instances of <dir-pagination-controls>\n         * @param {String} path\n         */\n        this.setPath = function(path) {\n            templatePath = path;\n        };\n\n        /**\n         * Set a string of HTML to be used as a template by all instances\n         * of <dir-pagination-controls>. If both a path *and* a string have been set,\n         * the string takes precedence.\n         * @param {String} str\n         */\n        this.setString = function(str) {\n            templateString = str;\n        };\n\n        this.$get = function() {\n            return {\n                getPath: function() {\n                    return templatePath;\n                },\n                getString: function() {\n                    return templateString;\n                }\n            };\n        };\n    }\n})();\n","/*!\n * angular-validation-match\n * Checks if one input matches another\n * @version v1.9.0\n * @link https://github.com/TheSharpieOne/angular-validation-match\n * @license MIT License, http://www.opensource.org/licenses/MIT\n */\n!function(t,a,e){\"use strict\";function n(t){return{require:\"?ngModel\",restrict:\"A\",link:function(e,n,i,r){function c(){var t=o(e);return a.isObject(t)&&t.hasOwnProperty(\"$viewValue\")&&(t=t.$viewValue),t}if(r&&i.match){var o=t(i.match),u=t(i.matchCaseless),l=t(i.notMatch),s=t(i.matchIgnoreEmpty);e.$watch(c,function(){r.$$parseAndValidate()}),r.$validators.match=function(t,n){var i,r=t||n,o=c(),d=l(e);return s(e)&&!n?!0:(i=u(e)?a.lowercase(r)===a.lowercase(o):r===o,i^=d,!!i)}}}}}n.$inject=[\"$parse\"],a.module(\"validation.match\",[]),a.module(\"validation.match\").directive(\"match\",n)}(window,window.angular);","angular.module('alpacaEditor', [\r\n\t'firebase',\t\t\t\t\t//Authentication, DB, Storage\r\n\t'rzModule', \t\t\t\t//**Range Slider \r\n\t'dndLists',\t\t\t\t\t//Drag and drop lists\r\n\t'ngTagsInput',\t\t\t//**Multiple Tag Input\r\n\t'swiperRepeat', \t\t//Swipeable repeat\r\n\t'ngAnimate',\t\t\t\t//Animations\r\n\t'flow',\t\t\t\t\t\t\t//File upload\r\n\t'angularResizable',\t//Make elements user-resizable\r\n  'ui.codemirror',    //Code editor, for writing jsonata\r\n\t'angularUtils.directives.dirPagination', //pagination \r\n  'validation.match',\t\r\n\t'alpacaViewer', \r\n\t'alpacaSchemas', \r\n\t'alpacaTypes',\r\n  'ui.router'\r\n]);\r\n\r\nangular.module('alpacaEditor').filter('toArray', function () {\r\n  return function (obj, addKey) {\r\n    if (!angular.isObject(obj)) return obj;\r\n    if ( addKey === false ) {\r\n      return Object.keys(obj).map(function(key) {\r\n        return obj[key];\r\n      });\r\n    } else {\r\n      return Object.keys(obj).map(function (key) {\r\n        var value = obj[key];\r\n        return angular.isObject(value) ?\r\n          Object.defineProperty(value, '$key', { enumerable: false, value: key}) :\r\n          { $key: key, $value: value };\r\n      });\r\n    }\r\n  };\r\n});\r\n","// angular.module('alpacaEditor').run([\"$rootScope\", \"$state\", function($rootScope, $state) {\n//   $rootScope.$on(\"$stateChangeError\", function(event, toState, toParams, fromState, fromParams, error) {\n//     // We can catch the error thrown when the $requireSignIn promise is rejected\n//     // and redirect the user back to the home page\n//     if (error === \"AUTH_REQUIRED\") {\n//       $state.go(\"home\");\n//     }\n//   });\n// }]);\n\nangular.module('alpacaEditor')\n.config(['$stateProvider', '$urlRouterProvider', '$locationProvider', function ($stateProvider, $urlRouterProvider, $locationProvider) {\n  \n  $locationProvider.html5Mode({\n    enabled: true,\n    requireBase: false\n  });\n  // $urlRouterProvider.rule(function ($injector, $location) {\n  //   var path = $location.path();\n  //   console.log(path);\n  //   // if (path == '/login.html*') {\n  //   //   console.log(path);\n  //   //   path = '/';\n  //   // }\n  // });\n  \n $stateProvider\n    .state('login', {\n      url:'/login.html',\n      controller: 'authCtrl'\n    })\n    .state('editor', {\n      url: '/editor.html',\n      controller: 'authCtrl'\n    })\n    .state('index', {\n      url: '/index.html',\n      controller: 'authCtrl'\n    })\n    .state('signup', {\n      url: '/signup.html',\n      controller: 'authCtrl'\n    })\n    .state('settings', {\n      url: '/settings.html',\n      controller: 'authCtrl'\n    })\n    .state('organization', {\n      url: '/organization.html',\n      controller: 'authCtrl'\n    })\n    ;\n   \n\n  $urlRouterProvider.otherwise('/');  \n\n}]);","angular.module('alpacaEditor').directive('alpacaField', [\r\n\t'$compile', \r\n\t'$templateRequest', \r\n\tfunction($compile, $templateRequest) {\r\n\r\n\t\tvar link = function ($scope, element, attrs) {\r\n\t\t\t//console.log($scope.type)\r\n\t\t\t$templateRequest('alpaca-type-' + $scope.type).then(function(tpl){\r\n\t\t\t\tvar template = angular.element(tpl);\r\n\t\t\t\telement.html(template);\r\n\t\t\t\t$compile(template)($scope);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\trestrict: 'E',\r\n\t\t\tlink: link,\r\n\t\t\tscope: {\r\n\t\t\t\tmodel: '=',\r\n\t\t\t\ttype: '=',\r\n\t\t\t\tfield: '=',\r\n\t\t\t\tfn: '=',\r\n\t\t\t\tslide: '=',\r\n\t\t\t\ttemplates: '='\r\n\t\t\t}\r\n\t\t};\r\n}]);","angular.module('alpacaEditor')\r\n\t.controller('collectionsController', ['$scope','$state', function($scope, $state) {\r\n\r\n\t\t$scope.searchValue ='';\r\n\r\n\t\t$scope.surveys = [\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Inflammatory Bowel Disease', organization: 'Haemin Park', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2016/05/ibd-420x315.jpg', date: \"01-20-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Pregnancy and Childbirth', organization: 'No one', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/03/pcb-420x315.jpg', date: \"02-20-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Overactive Bladder', organization: '💩', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/03/oab-1-420x315.jpg', date: \"01-23-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Colorectal Cancer', organization: 'Wellopp', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/03/crc-420x315.jpg', date: \"01-01-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Breast Cancer', organization: '💩', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/03/bc-420x315.jpg', date: \"01-20-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Heart Failure', organization: '💩', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/03/hf-420x315.jpg', date: \"01-20-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Older Person', organization: '💩', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/03/condi_dementia-420x315.jpg', date: \"01-20-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Low Back Pain', organization: '💩', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/03/bp_level_of_pain_01_455x620-420x315.jpg', date: \"01-20-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Stroke', organization: '💩', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/05/resized-for-WordPress-840x630.jpg', date: \"01-20-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Lung Cancer', organization: '💩', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/02/lc_01_455x620-420x315.jpg', date: \"01-20-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Depression and Anxiety', organization: '💩', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/03/da_01_455x620-420x315.jpg', date: \"01-20-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Cleft Lip and Palate', organization: 'Wellopp', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2013/10/clp-420x315.jpg', date: \"01-20-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Parkinsons Desease', organization: '💩', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/03/parkinsons_disease-420x315.jpg', date: \"01-20-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Craniofacial Microsomia', organization: 'Wellopp', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/03/cfm-420x315.jpg', date: \"01-20-2017\"\r\n\t\t\t}\r\n\t\t];\t\t\t\r\n\r\n\t}]);\r\n","// angular.module('alpacaEditor')\n//     .factory('person', function (fbURL, $firebase) {\n//         return $firebase(new Firebase(fbURL)).$asArray();\n//       })\n// angular.module('alpacaEditor')    \n//      .value('fbURL', 'https://hotpath-f9c54.firebaseio.com/')\n\nangular.module('alpacaEditor')\n    .controller(\"settingsController\", [\n        '$scope', \n        '$firebaseAuth',\n        '$firebaseObject',\n        '$firebaseStorage',\n        '$window',\n        '$rootScope',\n\n        function($scope, \n            $firebaseAuth, \n            $firebaseObject, \n            $firebaseStorage, \n            $window, \n            $rootScope) {\n\n            //Watch for rootScope.currentUser\n            $rootScope.$watch('currentUser', function() {\n                if($rootScope.currentUser) {\n                    var ref = firebase.database().ref('users').child($rootScope.currentUser.uid);\n                    $scope.user = $firebaseObject(ref);\n                    $scope.user.$bindTo($scope, 'user');\n                }\n               \n            });\n            $scope.setImage = function($flow){\n                var file = $flow.files[$flow.files.length - 1].file;\n                console.log(file);\n\n                var storageRef = firebase.storage().ref(\"users\")\n                    .child($rootScope.currentUser.uid)\n                    .child('profilePic');\n            $scope.storage = $firebaseStorage(storageRef);\n\n            var uploadTask = $scope.storage.$put(file);\n            uploadTask.$complete(function(snapshot) {\n                    console.log(snapshot.downloadURL);\n                    $scope.user.profilePic = snapshot.downloadURL;\n                    //console.log('users', model);\n                });\n            }\n\n            $scope.removeImage = function(){\n            var storageRef = firebase.storage().ref(\"users\")\n                .child($rootScope.currentUser.uid)\n                .child('profilePic');\n            $scope.storage = $firebaseStorage(storageRef);\n            $scope.storage.$delete().then(function(){\n                $scope.user.profilePic = null;\n            });\n            } \n\n            $scope.changeEmail = function(email) {\n                $scope.auth.$updateEmail(email).then(function() {\n                    console.log('email changed successfully');\n                }).catch(function(error) {\n                    console.log('error', error);\n                })\n            }\n\n         // $scope.auth.$changeEmail({\n         //      oldEmail: $rootScope.currentUser.email,\n         //      newEmail: $scope.email\n         //    }).then(function() {\n         //      console.log('Email changed successfully');\n         //    }).catch(function(error) {\n         //      console.log('Error', error);\n         //    });\n\n         // $scope.UpdateEmailAsync(email){\n         //    $scope.email = email;\n         // }\n            \n\n        // $scope.firstName = \"Haemin\";\n        // $scope.lastName = \"Park\";\n        // $scope.email = 'haemin@wellopp.com';\n        // $scope.profilePic = 'http://danpoindexter.com/img/danpoindexter.png';\n        // $scope.orgPic = './img/logo_butterfly_only.svg';\n\n        $scope.editorEnabled = false;\n\n}]);  ","angular.module('alpacaEditor').controller('demoController', [\r\n\t'$scope',\r\n\t'$templateList',\r\n\t'$schemas',\r\n\t'$timeout',\r\n\t'$firebaseAuth',\r\n\t'$firebaseObject',\r\n\t'$firebaseArray',\r\n\t'$firebaseStorage',\r\n\t'$window',\r\n\tfunction(\r\n\t\t$scope, \r\n\t\t$templateList, \r\n\t\t$schemas, \r\n\t\t$timeout, \r\n\t\t$firebaseAuth, \r\n\t\t$firebaseObject, \r\n\t\t$firebaseArray,\r\n\t\t$firebaseStorage, \r\n\t\t$window){\r\n\r\n\tvar config = firebase.database().ref().child('config');\r\n\t$firebaseObject(config).$bindTo($scope, 'config');\r\n\r\n\t$scope.defaultTags = function(){\r\n\t\tvar tags = ['blah', 'ahah'];\r\n\t\treturn tags;\r\n\t};\r\n\r\n\t$scope.templates = $templateList.templates;\r\n\tconsole.log($templateList);\r\n\r\n\t$scope.newDevice = {};\r\n\t$scope.addDevice = function(){\r\n\t\t\t$scope.devices.push(angular.copy($scope.newDevice));\r\n\t\t\t$scope.newDevice = null;\t\r\n\t}\r\n\r\n\t$scope.tabs = [\r\n\t\t{\r\n\t\t\tname: 'collections',\r\n\t\t\ticon: 'view_module'\r\n\t\t},\r\n\t\t//{\r\n\t\t//\tname: 'edit',\r\n\t\t//\ticon: 'mode_edit'\r\n\t\t//},\r\n\t\t{\r\n\t\t\tname: 'organization',\r\n\t\t\ticon: 'language'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'settings',\r\n\t\t\ticon: 'face'\r\n\t\t}\r\n\t];\r\n\r\n\t$scope.users = [\r\n\t\t{\r\n\t\t\tname: 'Dan Poindexter',\r\n\t\t\temail: 'dan@wellopp.com',\r\n\t\t\timg: 'http://danpoindexter.com/img/danpoindexter.png'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Haemin Park',\r\n\t\t\temail: 'haemin@wellopp.com',\r\n\t\t\timg: '/img/haemin.png'\r\n\t\t\t//img: 'http://cdn3.volusion.com/hpwvr.gdwwx/v/vspfiles/photos/PE-ZA1733-1.jpg?1458140223'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Poo',\r\n\t\t\temail: 'poo@poo.com',\r\n\t\t\timg: 'http://rs619.pbsrc.com/albums/tt276/cardunne09/so_poo.jpg~c200'\r\n\t\t}\r\n\r\n\r\n\t];\r\n\r\n\r\n\t$scope.tab = $scope.tabs[0];\r\n\t\r\n\t$scope.setTab = function(tab){\r\n\t\t$scope.tab = null;\r\n\t\t$timeout(function(){\r\n\t\t\t$scope.tab = tab;\r\n\t\t}, 200)\r\n\t\t\r\n\t}\r\n\r\n\t$scope.codemirrorOpts = {\r\n\t\t//mode: {name: 'jsonata', jsonata: jsonata, template: true},\r\n\t\tautoCloseBrackets: {\r\n\t\t\t\tpairs: \"()[]{}\",\r\n\t\t\t\ttriples: \"\",\r\n\t\t\t\texplode: \"[]{}()\"\r\n\t\t},\r\n\t\tmatchBrackets: true,\r\n\t\tviewportMargin: Infinity,\r\n\t\tlineNumbers: true\r\n\t}\r\n\r\n\t//$scope.selected = $scope.survey.nodes[1];\r\n\t$scope.schemas = $schemas.schemas;\r\n\r\n\t$scope.maximized = false;\r\n\r\n\t$scope.maximizePreview = function(maximized){\r\n\t\t/*$('.resizable-section.white').animate({\r\n\t\t\tflex: '0 0 0px'\r\n\t\t}, 1000, function(){\r\n\t\t\tmaximized = !maximized;\r\n\t\t})*/\r\n\t\t$('.resizable-wrapper').toggleClass('minimized');\r\n\t\t$scope.maximized = !$scope.maximized;\r\n\t}\r\n\r\n\t$scope.devices = [\r\n\t\t{\r\n\t\t\tname: 'iPhone',\r\n\t\t\twidth: 480,\r\n\t\t\theight: 720,\r\n\t\t\tmaterial_icon: 'smartphone'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Desktop',\r\n\t\t\twidth: 1920,\r\n\t\t\theight: 1080,\r\n\t\t\tmaterial_icon: 'desktop_windows'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'iPad',\r\n\t\t\twidth: 1024,\r\n\t\t\theight: 768,\r\n\t\t\tmaterial_icon: 'tablet'\r\n\t\t}\r\n\t];\r\n\r\n\t$scope.setDevice = function(device) {\r\n\t\t$scope.device = device;\r\n\t\tconsole.log('set device:', device);\r\n\t}\r\n\r\n\t//$scope.setSlide = function(slide){\r\n\t//\t$scope.selected = slide;\r\n\t//\tconsole.log(slide);\r\n\t//}\r\n\r\n\t$scope.loading = false;\r\n\r\n\t$scope.search = function(){\r\n\t\t$scope.searching = true;\r\n\t\t\r\n\t\t///JQUERY DEP\r\n\t\t$timeout(function(){$('#search').focus()});\r\n\t}\r\n\r\n\t$scope.$on('device-ready', function(){\r\n\t\t$scope.setDevice($scope.devices[0]);\r\n\t\t$scope.loading = false;\r\n\t\t\r\n\t});\r\n\r\n\t$scope.fn = {\r\n\t\ttags: {\r\n\t\t\tsearch: function(query){\r\n\t\t\t\t//console.log('query', query);\r\n\t\t\t\tvar ret = [];\r\n\t\t\t\tangular.forEach($scope.config.tags, function(el){\r\n\t\t\t\t\tif (el.text.includes(query))\r\n\t\t\t\t\t\tret.push(el.text);\r\n\t\t\t\t})\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t},\r\n\t\tfile: {\r\n\t\t\tfileSuccess: function($file, $flow, slide, field, model){\r\n\t\t\t\t\r\n\t\t\t\tvar file = $flow.files[$flow.files.length - 1].file;\r\n\t\t\t\tconsole.log(file);\r\n\r\n\t\t\t\tvar storageRef = firebase.storage().ref(\"slides\").child(slide.$id).child(field.key);\r\n    \t\t$scope.storage = $firebaseStorage(storageRef);\r\n\r\n    \t\tvar uploadTask = $scope.storage.$put(file);\r\n    \t\tuploadTask.$complete(function(snapshot) {\r\n  \t\t\t\tconsole.log(snapshot.downloadURL);\r\n  \t\t\t\tmodel = snapshot.downloadURL;\r\n  \t\t\t\tconsole.log('model', model);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t$scope.currentUser = {\r\n\t\tname: 'Dan Poindexter',\r\n\t\tid: 1\r\n\t}\r\n\r\n\t$scope.organizations = [];\r\n\t$scope.organization = {\r\n\t\tinit: function(){ \r\n\t\t\tvar ref = firebase.database().ref('organizations/').orderByChild('user_id').equalTo($scope.currentUser.id);\r\n\t\t\t$scope.organizations = $firebaseArray(ref);\r\n\t\t},\r\n\t\tadd: function(){\r\n\r\n\t\t\tvar organization = {\r\n\t\t\t\tname: $scope.newOrganization.name,\r\n\t\t\t\temail: $scope.newOrganization.email,\r\n\t\t\t}\r\n\r\n\t\t\t$scope.organizations.$add(organization);\r\n\t\t},\r\n\t\tremove: function(organization){\r\n\t\t\t$scope.organizations.$remove(organization);\r\n\t\t},\r\n\t\tsettings: {\r\n\t\t\ttabs: [\r\n\t\t\t\t'Users',\r\n\t\t\t\t'Devices',\r\n\t\t\t\t'Tags',\r\n\t\t\t\t'Endpoints'\r\n\t\t\t],\r\n\t\t\tselectedTab: 'Users'\r\n\t\t}\r\n\t} //organization\r\n\r\n\t$scope.collections = [];\r\n\t$scope.collection = {\r\n\t\tinit: function(){\r\n\t\t\tvar ref = firebase.database().ref('collections/').orderByChild('user_id').equalTo($scope.currentUser.id);\r\n\t\t\t$scope.collections = $firebaseArray(ref);\r\n\t\t},\r\n\t\tadd: function(){\r\n\t\t\tvar collection = {\r\n\t\t\t\ttitle: 'Untitled Collection',\r\n\t\t\t\tuser_id: $scope.currentUser.id,\r\n\t\t\t}\r\n\r\n\t\t\t$scope.collections.$add(collection).then(function(ref) {\r\n\t\t\t  //collectionid = ref.key;\r\n\t\t\t  //console.log(\"added record with id \" + id);\r\n\t\t\t  //list.$indexFor(id);\r\n\t\t\t  $scope.currentCollection = $scope.collections[$scope.collections.$indexFor(ref.key)];\r\n\t\t\t});\r\n\t\t},\r\n\t\tremove: function(collection, index){\r\n\t\t\t$scope.collections.$remove(index);\r\n\t\t\t\r\n\t\t\t$scope.collection.index = null;\r\n\t\t\t$scope.currentCollection = null;\r\n\t\t\t\r\n\t\t\tvar storageRef = firebase.storage().ref(\"collection\")\r\n\t\t\t\t.child(collection.$id)\r\n\t\t\t\t.child('image');\r\n\t\t\t$scope.storage = $firebaseStorage(storageRef);\r\n\t\t\t$scope.storage.$delete().then(function(){\r\n\t\t\t\t//lol\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetCurrent: function(collection, index){\r\n\t\t\t$scope.currentCollection = collection;\r\n\t\t\t$scope.collection.index = index;\r\n\t\t},\r\n\t\tsetImage: function($flow, collection){\r\n\t\t\tvar file = $flow.files[$flow.files.length - 1].file;\r\n\t\t\tconsole.log(file);\r\n\r\n\t\t\tvar storageRef = firebase.storage().ref(\"collection\")\r\n\t\t\t\t.child(collection.$id)\r\n\t\t\t\t.child('image');\r\n  \t\t$scope.storage = $firebaseStorage(storageRef);\r\n\r\n  \t\tvar uploadTask = $scope.storage.$put(file);\r\n  \t\tuploadTask.$complete(function(snapshot) {\r\n\t\t\t\tconsole.log(snapshot.downloadURL);\r\n\t\t\t\tcollection.img_url = snapshot.downloadURL;\r\n\t\t\t\tconsole.log('collection', model);\r\n\t\t\t});\r\n\t\t},\r\n\t\tremoveImage: function(collection){\r\n\t\t\tvar storageRef = firebase.storage().ref(\"collection\")\r\n\t\t\t\t.child(collection.$id)\r\n\t\t\t\t.child('image');\r\n\t\t\t$scope.storage = $firebaseStorage(storageRef);\r\n\t\t\t$scope.storage.$delete().then(function(){\r\n\t\t\t\tcollection.img_url = null;\r\n\t\t\t});\r\n\t\t}\r\n\t} //collection\r\n\r\n\t$scope.$watch('currentCollection', function(){\r\n\t\t$scope.slide.load($scope.currentCollection);\r\n\t\t$scope.collections.$save($scope.collection.index);\r\n\t\tif (!$scope.currentCollection)\r\n\t\t\t$scope.collectionSettings = false;\r\n\t}, true);\r\n\r\n\t//$scope.currentUser = {};\r\n\t/*$scope.user = {\r\n\t\tsignin: function() {\r\n\t\t\t$firebaseAuth().$signInWithEmailAndPassword(\r\n\r\n\t\t\t)\r\n\t\t},\r\n\t\tcreate: function(){\r\n\t\t\t$firebaseAuth().$createUserWithEmailAndPassword(\r\n\t\t\t\t\t$scope.newUser.email,\r\n\t\t\t\t\t$scope.newUser.password\r\n\t\t\t\t)\r\n\t\t\t\t.then(function(user){\r\n\t\t\t\t\t$scope.currentUser = user;\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t})\r\n\t\t},\r\n\t\tdelete: function(){\r\n\t\t\t$firebaseAuth().deleteUser()\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\tconsole.log('User Deleted. :/')\r\n\t\t\t\t}).catch(function(error){\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t})\r\n\t\t}\r\n\t} //user\r\n*/\r\n\t$scope.slides = [];\r\n\t$scope.slide = {\r\n\t\tadd: function(kind){\r\n\r\n\t\t\t//TODO: Add Switch\r\n\r\n\t\t\tvar slide = {\r\n\t\t\t\tcollectionId: $scope.currentCollection.$id,\r\n\t\t\t\tkind: kind,\r\n\t\t\t\ttitle: 'untitled'\r\n\t\t\t}\r\n\r\n\t\t\t$scope.slides.$add(slide);\r\n\t\t\t\r\n\t\t},\r\n\t\tload: function(collection){\r\n\t\t\tif (!collection)\r\n\t\t\t\treturn;\r\n\t\t\t$scope.loading = true;\r\n\t\t\tconsole.log('id', collection.$id);\r\n\t\t\tvar ref = firebase.database().ref('/slides').orderByChild('collectionId').equalTo(collection.$id);\r\n\t\t\t$scope.slides = $firebaseArray(ref);\r\n\t\t\t$scope.slides.$loaded()\r\n\t\t\t\t.then(function(x){\r\n\t\t\t\t\t$scope.$watch('selected', function(new_val, old_val, scope){\r\n\t\t\t\t\t\t$scope.slides.$save(scope.slide.index);\r\n\t\t\t\t\t}, true);\r\n\t\t\t\t\t$scope.loading = false;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tsetCurrent: function(slide, index){\r\n\t\t\t$scope.selected = slide;\r\n\t\t\t$scope.slide.index = index;\r\n\t\t}\r\n\t} //slide\r\n\r\n\t$scope.frame = {\r\n\t\tupdate: function(){\r\n\t\t\tvar key = $scope.currentCollection.name + '-'\r\n\t\t\t\t\t\t\t\t+ $scope.currentLanguage.name + '-'\r\n\t\t\t\t\t\t\t\t+ $scope.currentVersion.name + '-'\r\n\t\t\t\t\t\t\t\t+ $scope.currentFrame.name\r\n\t\t}\r\n\t} //frame\r\n\r\n\t$scope.init = function(){\r\n\t\t$scope.organization.init();\r\n\t\t$scope.collection.init();\r\n\t}\r\n\t\r\n\t$scope.init();\r\n\r\n}]);","angular.module('alpacaEditor')\r\n\t.controller(\"authCtrl\", [\r\n    \"$scope\", \r\n    \"$rootScope\", \r\n    \"$firebaseAuth\",\r\n    \"$state\",\r\n    \"$location\",\r\n    \"$window\",\r\n    \"$firebaseObject\",\r\n    \"$firebaseStorage\",\r\n\r\n function($scope,\r\n  $rootScope,\r\n  $firebaseAuth, \r\n  $state, \r\n  $location, \r\n  $window,\r\n  $firebaseObject,\r\n  $firebaseStorage) {\r\n\r\n    $scope.signIn = function () {\r\n      $rootScope.auth.$signInWithEmailAndPassword(\r\n        $scope.email,  $scope.password\r\n      ).then(function(user) {\r\n        console.log(user);\r\n        $rootScope.currentUser = user;\r\n        $state.go('editor');\r\n        $window.location.reload();\r\n      }, \r\n      function(error) {\r\n        // switch(error) {\r\n        //   case 'INVALID_EMAIL':\r\n        //     console.log('email invalid or not signed up');\r\n        //     alert('Invalid email!');\r\n        //   case 'INVALID_PASSWORD':\r\n        //     console.log('wrong password');\r\n        //     alert('wrong password');\r\n        //   default:\r\n        //     console.log(error);    \r\n        // }\r\n        if (error.code = 'INVALID_EMAIL') {\r\n          console.log('email invalid or not signed up — trying to sign you up!');\r\n          alert('Invalid email or password!'); //FIXME ONLY GOES IN THIS CONDITION\r\n          //$scope.signUp();\r\n        } else if (error.code = 'INVALID_PASSWORD') {\r\n          console.log('wrong password!');\r\n          alert('Wrong password!');\r\n        } else {\r\n          console.log(error);\r\n        }\r\n      });\r\n    };\r\n\r\n    $scope.signUp = function(firstName, \r\n      lastName, \r\n      email, \r\n      password) {\r\n      $rootScope.auth.$createUserWithEmailAndPassword(\r\n        $scope.email, $scope.password\r\n      ).then(function(firebaseUser) {\r\n          firebase.database().ref('users').child(firebaseUser.uid).set({\r\n            firstName: firstName,\r\n            lastName: lastName,\r\n            email: email\r\n          }).then(function() {\r\n            $state.go('editor').then(function(){\r\n              $window.location.reload(); //this doesn't work\r\n              console.log('routing to editor');\r\n            });\r\n          })\r\n          console.log('user' + firebaseUser.uid + 'created successfully!');\r\n          console.log(firstName , lastName, email);\r\n\r\n      }).catch(function(error) {\r\n        console.error('Error', error);\r\n      });\r\n    };\r\n\r\n\r\n    $scope.resetPassword = function() {\r\n      $rootScope.auth.$sendPasswordResetEmail(\r\n        $scope.email\r\n        ).then(function() {\r\n          console.log(\"Password reset email sent successfully!\");\r\n      }).catch(function(error) {\r\n          console.error(\"Error: \", error);\r\n      }); \r\n    };\r\n\r\n\r\n    $scope.signOut = function() {\r\n      $scope.auth.$signOut().then(function() {\r\n        $state.go('index');\r\n        $window.location.reload();\r\n        console.log('signed out');\r\n      }).catch(function(error) {\r\n          console.error(\"Error: \", error);\r\n      });\r\n    };\r\n\r\n\r\n    $scope.signInPageRoute = function()  {\r\n      console.log(\"route to a new page\");\r\n      $state.go('login');\r\n      $window.location.reload();\r\n    };\r\n\r\n    $scope.editorPageRoute = function()  {\r\n      var firebaseUser = $rootScope.auth.$getAuth();\r\n      if (firebaseUser) {\r\n        console.log(\"Signed in as:\", firebaseUser.uid);\r\n        $state.go('editor');\r\n        $window.location.reload();\r\n      } else {\r\n        console.log(\"Please sign in\");\r\n        $state.go('login');\r\n        $window.location.reload();\r\n      }\r\n    };\r\n\r\n    $scope.indexPageRoute = function()  {\r\n      var firebaseUser = $rootScope.auth.$getAuth();\r\n      $state.go('index');\r\n      $window.location.reload();\r\n      \r\n    };\r\n\r\n    $scope.signUpRoute = function()  {\r\n      console.log(\"route to a new page\");\r\n      $state.go('signup');\r\n      $window.location.reload();\r\n    };\r\n    $scope.settingsPageRoute = function()  {\r\n      console.log(\"route to a new page\");\r\n      $state.go('settings');\r\n      $window.location.reload();\r\n    };\r\n\r\n    $scope.collectionsPageRoute = function()  {\r\n      console.log(\"route to a new page\");\r\n      $state.go('collections');\r\n      $window.location.reload();\r\n    };\r\n    $scope.organizationPageRoute = function() {\r\n      console.log(\"route to a new page\");\r\n      $state.go('organization');\r\n      $window.location.reload();\r\n    };\r\n\r\n\r\n\r\n\t\t$scope.init = function(){\r\n\t\t\t$rootScope.auth = $firebaseAuth();\r\n      firebase.auth().onAuthStateChanged(function(firebaseUser) {\r\n        $rootScope.currentUser = firebaseUser;\r\n        //editme\r\n        //$scope.userEmail = firebaseUser.email;\r\n\r\n\r\n\r\n        if($rootScope.currentUser) {\r\n          var ref = firebase.database().ref('users').child($rootScope.currentUser.uid);\r\n          $scope.user = $firebaseObject(ref);\r\n          $scope.user.$bindTo($scope, 'user');\r\n          $scope.isLoggedIn = true;\r\n          //console.log('user is logged in');\r\n          //$scope.userName = $rootScope.currentUser.firstName;\r\n          //$scope.userName = user.firstName;\r\n          // console.log($scope.userName); //undefined\r\n          // console.log($rootScope.currentUser);\r\n          // console.log($scope.user); \r\n          // console.log(firebaseUser.email); //haemin@wellopp.com\r\n          // console.log($scope.user.email); //undefined\r\n\r\n        } else {\r\n          $scope.isLoggedIn = false;\r\n        }\r\n\r\n      \r\n      \r\n      });\r\n\r\n\t\t}\r\n\r\n\t\t$scope.init();\r\n  }\r\n\r\n]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n","/*  Todo:\r\n *  *remove jquery dep\r\n *  *combine directives\r\n *  *on window resize\r\n *  *support iframe templates\r\n *  *clean up\r\n *  *publish to github\r\n *  *publish to npm\r\n */\r\n\r\nangular.module('alpacaEditor').directive('devicePreview', function() {\r\n\r\n  var link = function($scope, el, attrs) {\r\n\r\n    var parent = angular.element(el).parent();\r\n    var child = angular.element(el);\r\n\r\n    child.css({\r\n      'background': 'white',\r\n    })\r\n      \r\n    parent.css({\r\n      'display': 'flex',\r\n      'align-items': 'center',\r\n      'justify-content': 'center',\r\n    });\r\n\r\n/*function(){\r\n\r\n      return {\r\n        frame_size: $scope.$parent.frame_size\r\n        device: $scope.device\r\n      }\r\n\r\n    },*/\r\n\r\n    $scope.$watch('device',\r\n     function() {\r\n\r\n      var device = $scope.device;\r\n\r\n      if (!angular.element(el).parent()[0])\r\n        return false;\r\n\r\n      parent.width = $scope.$parent.frame_size.width;\r\n      parent.height = $scope.$parent.frame_size.height;\r\n\r\n      console.log($scope.device);\r\n      \r\n      /*$scope.$watch(\r\n        function(){\r\n          return {\r\n            width: parent.width,\r\n            height: parent.height\r\n          }\r\n        },\r\n        function(){\r\n          $scope.$apply();\r\n        }\r\n      )*/\r\n\r\n      var fit = (parent.width / parent.height > device.width / device.height);\r\n      var scale = fit ? parent.height / device.height : parent.width / device.width;\r\n      var width = fit ? device.width * parent.height / device.height : parent.width;\r\n      var height = fit ? parent.height : device.height * parent.width / device.width;\r\n      \r\n\r\n\r\n      child.css({\r\n        'transform': 'scale(' + scale +')',\r\n        //'zoom': scale,\r\n        'width': width / scale + 'px',\r\n        'height': height / scale + 'px',\r\n      });\r\n\r\n\r\n      var use = {\r\n        x: Math.max(device.width, width),\r\n        y: Math.max(device.height, height)\r\n      }\r\n      var translate = {\r\n        x: -1 * ((use.x - parent.width) / 2),\r\n        y: -1 * ((use.y - parent.height) / 2)\r\n      };\r\n\r\n      $scope.$parent.iframe.css({\r\n        'width': use.x,\r\n        'height': use.y,\r\n        'transform': 'translate(' + translate.x + 'px,' + translate.y + 'px)'\r\n      })\r\n\r\n      console.log('device', device.width, device.height);\r\n      console.log('parent', parent.width, parent.height);\r\n      console.log('scale', scale);\r\n      console.log('new', width, height);\r\n    });\r\n  };\r\n\r\n  return {\r\n    restrict: 'E',\r\n    link: link,\r\n    scope: {\r\n      'device': '='\r\n    }\r\n  }\r\n});\r\n\r\n//http://plnkr.co/edit/KRfAyc5haHyFq7FyCnxg?p=preview\r\nangular.module('alpacaEditor').directive(\"wrapInFrame\", [\r\n  '$compile',\r\n  '$timeout',\r\n  function($compile, $timeout) {\r\n  return {\r\n    restrict: \"E\",\r\n    scope: {},\r\n    transclude: true,\r\n    replace: false,\r\n    link: function($scope, $directiveElement, $attrs, $controller, $transclude) {\r\n      \r\n\r\n      /*$scope.$watch(\r\n          function () { \r\n              return {\r\n                 width: $directiveElement.parent().width(),\r\n                 height: $directiveElement.parent().height(),\r\n              }\r\n         },\r\n         function (data) {\r\n          $scope.$parent.frame_size = data;\r\n          //alert('size changed!');\r\n         }, //listener \r\n         true //deep watch\r\n      );*/\r\n      \r\n      $scope.$parent.frame_size = {\r\n        width: $directiveElement.parent().width(),\r\n        height: $directiveElement.parent().height()\r\n      }\r\n      \r\n      $transclude($scope.$parent, function($children, otherScope) {\r\n\r\n        $directiveElement.html(\"<iframe width='100%' height='100%'>\");\r\n        var iframe = $directiveElement.find(\"iframe\")[0];\r\n\r\n        $scope.$parent.iframe = angular.element(iframe);\r\n\r\n        iframe.onload = function() {\r\n\r\n          $scope.$parent.linked = true;\r\n          \r\n          var iframeBody = angular.element(iframe.contentWindow.document.body);\r\n\r\n          $(\"link[rel='stylesheet'], link[type='text/css'], link[href$='.css']\").clone().appendTo($(\"iframe\").contents().find(\"head\"));\r\n          $('<link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/icon?family=Material+Icons\"/>').appendTo($(\"iframe\").contents().find(\"head\"));\r\n\r\n          $compile($children)($scope.$parent, function(elem) {\r\n            iframeBody.append(elem);\r\n            $scope.$parent.$emit('device-ready');\r\n          });\r\n        };\r\n\r\n        iframe.src = '';\r\n      });\r\n    }\r\n  };\r\n}]);"]}