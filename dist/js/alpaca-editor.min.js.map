{"version":3,"sources":["angular-drag-and-drop-lists.js","ng-flow-standalone.js","angular-resizable.js","ng-tags-input.js","rzslider.js","jsonata.js","codemirror.js","ui-codemirror.js","cm-jsonata.js","dirPagination.js","alpaca-editor.js","alpaca-field.js","collections-controller.js","demo-controller.js","device-preview.js"],"names":["dndLists","filterEffects","effects","effectAllowed","filter","effect","toLowerCase","indexOf","MIME_TYPE","EDGE_MIME_TYPE","MSIE_MIME_TYPE","ALL_EFFECTS","directive","$parse","$timeout","scope","element","attr","dndDisableIf","$watch","disabled","on","event","originalEvent","dndState","isDragging","itemType","dndType","$eval","dropEffect","dndEffectAllowed","dataTransfer","item","dndDraggable","mimeType","setData","angular","toJson","e","data","type","effectsAllowed","addClass","_dndHandle","setDragImage","dndDragstart","dndCallback","callback","params","stopPropagation","$apply","cb","copy","link","move","none","dndDragend","undefined","removeClass","dndSelected","this","dragDrop","getMimeType","types","i","length","substr","getItemType","isDropAllowed","listSettings","externalSources","allowedTypes","getDropEffect","ignoreDataTransfer","ctrlKey","altKey","stopDragover","placeholder","remove","invokeCallback","expression","index","external","getPlaceholderIndex","Array","prototype","call","listNode","children","placeholderNode","getPlaceholderElement","forEach","childNode","child","hasClass","dndAllowedTypes","isArray","join","split","dndExternalSources","horizontal","dndHorizontalList","preventDefault","parentNode","append","target","listItemNode","rect","getBoundingClientRect","isFirstHalf","clientX","left","width","clientY","top","height","insertBefore","nextSibling","dndDragover","JSON","parse","getData","dndDrop","dndList","splice","dndInserted","newTarget","document","elementFromPoint","contains","_dndPhShown","module","window","Flow","opts","support","File","Blob","FileList","slice","webkitSlice","mozSlice","supportDirectory","test","navigator","userAgent","files","defaults","chunkSize","forceChunkSize","simultaneousUploads","singleFile","fileParameterName","progressCallbacksInterval","speedSmoothingFactor","query","headers","withCredentials","preprocess","method","testMethod","uploadMethod","prioritizeFirstAndLastChunk","allowDuplicateUploads","testChunks","generateUniqueIdentifier","maxChunkRetries","chunkRetryInterval","permanentErrors","successStatuses","onDropStopPropagation","initFileFn","readFileFn","webAPIFileRead","events","$","onDrop","items","webkitGetAsEntry","webkitReadDataTransfer","addFiles","preventEvent","extend","FlowFile","flowObj","file","bytes","name","fileName","size","relativePath","webkitRelativePath","uniqueIdentifier","chunks","paused","error","averageSpeed","currentSpeed","_lastProgressCallback","Date","now","_prevUploadedSize","_prevProgress","bootstrap","fileObj","startByte","endByte","fileType","chunk","function_name","readFinished","FlowChunk","offset","tested","retries","pendingRetry","preprocessState","readState","loaded","total","computeEndByte","Math","min","xhr","args","arguments","unshift","chunkEvent","apply","progressHandler","lengthComputable","testHandler","status","message","uploadNextChunk","send","doneHandler","abort","retryInterval","setTimeout","arrayRemove","array","value","evalOpts","async","fn","context","bind","dst","src","each","obj","key","hasOwnProperty","ie10plus","msPointerEnabled","push","off","fire","readDirectory","reader","readEntries","entries","queue","entry","isFile","fullPath","fileReadSuccess","readError","isDirectory","createReader","decrement","substring","fileError","getAsFile","custom","replace","preventEvents","found","outstanding","isComplete","assignBrowse","domNodes","attributes","Element","domNode","input","tagName","createElement","setAttribute","style","visibility","position","appendChild","addEventListener","click","assignDrop","unAssignDrop","removeEventListener","isUploading","uploading","_shouldUploadNext","num","should","upload","ret","started","resume","pause","cancel","progress","totalDone","totalSize","addFile","fileList","getFromUniqueIdentifier","f","removeFile","getSize","sizeUploaded","timeRemaining","sizeDelta","Number","POSITIVE_INFINITY","floor","measureSpeed","timeSpan","smoothingFactor","uploaded","max","reset","c","retry","round","ceil","bytesLoaded","percent","delta","getType","getExtension","lastIndexOf","getParams","flowChunkNumber","flowChunkSize","flowCurrentChunkSize","flowTotalSize","flowIdentifier","flowFilename","flowRelativePath","flowTotalChunks","getTarget","XMLHttpRequest","prepareXhrRequest","preprocessFinished","read","isTest","readyState","responseText","s","paramsMethod","blob","v","k","encodeURIComponent","FormData","open","setRequestHeader","version","exports","define","amd","provider","factory","options","$get","create","flow","controller","$scope","$attrs","flowFactory","flowInit","flowObject","catchAllHandler","eventName","shift","$broadcast","concat","filesSubmitted","fileSuccess","complete","defaultPrevented","$on","$flow","flowName","assign","restrict","require","attrs","isSingleFile","inputAttrs","flowAttrs","isFileDrag","dragEvent","fileDrag","val","promise","enter","flowDragEnter","flowDragLeave","flowDropEnabled","capitaliseFirstLetter","string","charAt","toUpperCase","fileProgress","fileAdded","filesAdded","fileRetry","uploadStart","eventArgs","funcArgs","flowImg","fileReader","FileReader","readAsDataURL","onload","$set","result","transfers","throttle","fun","toCall","rDirections","rCenteredX","rCenteredY","rWidth","rHeight","rFlex","rGrabber","rDisabled","rNoThrottle","flexBasis","documentElement","w","h","start","dragDir","axis","getComputedStyle","dir","vx","vy","inner","info","updateInfo","parseInt","id","evt","getClientX","touches","getClientY","dragging","resizingEmit","$emit","prop","dragEnd","dragStart","direction","getPropertyValue","cancelBubble","returnValue","grabber","innerHTML","ondragstart","down","which","KEYS","backspace","tab","escape","space","up","right","delete","comma","MAX_SAFE_INTEGER","SUPPORTED_INPUT_TYPES","tagsInput","$document","$window","$q","tagsInputConfig","tiUtil","TagList","onTagAdding","onTagRemoving","getTagText","setTagText","canAddTag","canRemoveTag","self","tag","safeToString","displayProperty","text","tagText","valid","minLength","maxLength","allowedTagsPattern","findInObjectArray","keyProperty","when","$tag","then","promisifyValue","addText","add","replaceSpacesWithDashes","trigger","catch","clearSelection","select","selected","selectPrior","selectNext","removeSelected","validateType","tags","templateScope","tagClass","onTagAdded","onInvalidTag","onTagRemoved","onTagClicked","transclude","templateUrl","$element","simplePubSub","load","template","String","tabindex","removeTagSymbol","fromCharCode","Boolean","addOnEnter","addOnSpace","addOnComma","addOnBlur","addOnPaste","pasteSplitPattern","RegExp","enableEditingLastTag","minTags","maxTags","allowLeftoverText","addFromAutocompleteOnly","spellcheck","tagList","handleUndefinedResult","registerAutocomplete","find","addTag","getTags","getCurrentTagText","newTag","getOptions","getTemplateScope","handler","registerTagItem","removeTag","ngModelCtrl","setElementValidity","focusInput","hotkeys","validationOptions","$setValidity","hasFocus","focus","$isEmpty","isDefined","invalid","track","getTagClass","$index","$selected","makeObjectArray","$validate","$observe","eventHandlers","keydown","$event","blur","activeElement","lostFocusToBrowserWindow","lostFocusToChildElement","paste","getTextData","clipboardData","host","$setDirty","triggerHandler","shouldAdd","shouldRemove","shouldSelect","shouldEditLastTag","keyCode","addKeys","isModifierOn","tagsInputCtrl","$$template","$$removeTagSymbol","$getDisplayText","$removeTag","$sce","SuggestionList","loadFn","getDifference","lastPromise","getTagId","array1","array2","a","b","defaultComparer","visible","show","selectFirstMatch","debounce","$query","maxResultsToShow","debounceDelay","scrollToElement","root","eq","parent","elementTop","elementHeight","parentHeight","parentScrollTop","source","matchClass","highlightMatchedText","loadOnDownArrow","loadOnEmpty","loadOnFocus","suggestionList","registerAutocompleteMatch","getQuery","shouldLoadSuggestions","addSuggestionByIndex","addSuggestion","added","getSuggestionClass","$match","handled","stopImmediatePropagation","autoCompleteCtrl","autoComplete","$parent","$highlight","safeHighlight","trustAsHtml","ctrl","transcludeFn","clone","span","resize","getTextAutosizeThreshold","css","originalValue","isString","$parsers","$formatters","$modelValue","tiBindAttrs","globalDefaults","interpolationStatus","autosizeThreshold","setDefaults","setActiveInterpolation","setTextAutosizeThreshold","threshold","$interpolate","converters","defaultValidator","localDefault","validator","converter","getDefault","updateValue","globalValue","newValue","delay","timeoutId","isObject","newArray","comparer","some","str","escapeRegexChars","encodeHTML","match","isUndefined","toString","trim","valueIfUndefined","shiftKey","metaKey","names","first","handlers","every","run","$templateCache","put","angularObj","defaultOptions","step","precision","minRange","maxRange","pushRange","minLimit","maxLimit","translate","getLegend","stepsArray","bindIndexForStepsArray","draggableRange","draggableRangeOnly","showSelectionBar","showSelectionBarEnd","showSelectionBarFromValue","hidePointerLabels","hideLimitLabels","autoHideLimitLabels","readOnly","interval","showTicks","showTicksValues","ticksArray","ticksTooltip","ticksValuesTooltip","vertical","getSelectionBarColor","getTickColor","getPointerColor","keyboardSupport","scale","enforceStep","enforceRange","noSwitching","onlyBindHandles","onStart","onChange","onEnd","rightToLeft","boundPointerLabels","mergeRangeLabelsIfSame","customTemplateScope","logScale","customValueToPosition","customPositionToValue","selectionBarGradient","globalOptions","func","wait","getTime","timeout","previous","later","remaining","trailing","$compile","RzSliderOptions","rzThrottle","Slider","sliderElem","lowValue","highValue","range","rzSliderModel","rzSliderHigh","active","difference","lowLimit","highLimit","positionProperty","dimensionProperty","handleHalfDim","maxPos","tracking","minValue","maxValue","valueRange","intermediateTicks","initHasRun","firstKeyDown","internalChange","cmbLabelShown","currentFocusElement","fullBar","selBar","minH","maxH","flrLab","ceilLab","minLab","maxLab","cmbLab","ticks","init","thrLow","thrHigh","calcDimFn","calcViewDimensions","applyOptions","syncLowValue","syncHighValue","initElemHandles","manageElementsStyle","setDisabledState","setMinAndMax","addAccessibility","updateCeilLab","updateFloorLab","initHandles","manageEventsBindings","onLowHandleChange","onHighHandleChange","resetLabelsValue","resetSlider","oldValue","unbindEvents","findStepIndex","modelValue","isDate","getStepValue","sliderValue","applyLowValue","applyHighValue","updateLowHandle","valueToPosition","updateSelectionBar","updateTicksScale","updateAriaAttributes","updateCmbLabel","updateHighHandle","sliderOptions","rzSliderOptions","isNumber","parseStepsArray","customTrFn","legend","refocusPointerIfNeeded","onPointerFocus","pointer","ref","focusElement","elem","jElem","rzsp","alwaysHide","hideLabelsForTicks","el","hide","rzAlwaysHide","hideEl","showEl","bindEvents","rzsv","translateFn","label","useCustomTr","valStr","getDimension","noLabelInjection","rzsd","html","Error","roundStep","sanitizeValue","aria-valuenow","aria-valuetext","aria-valuemin","aria-valuemax","handleWidth","barDimension","getTicksArray","reverse","map","tick","isTickSelected","transform","tooltip","tooltipPlacement","getDisplayValue","valueTooltip","valueTooltipPlacement","center","setPosition","updateHandles","newPos","getHandleLabelPos","labelName","labelRzsd","nearHandlePos","endOfBarPos","pointercolor","minPointerStyle","backgroundColor","shFloorCeil","maxPointerStyle","flHidden","clHidden","isMinLabAtFloor","isLabelBelowFloorLab","isMinLabAtCeil","isLabelAboveCeilLab","isMaxLabAtCeil","isCmbLabAtFloor","isCmbLabAtCeil","hideCeil","hideFloor","isRTL","pos","dim","floorPos","floorDim","ceilPos","ceilDim","dimension","isSelectionBarFromRight","positionForRange","abs","centerPosition","isModelGreaterThanCenter","setDimension","color","barStyle","reversed","backgroundImage","from","to","backgroundPosition","backgroundSize","pointerType","isLabelOverlap","lowTr","highTr","labelVal","customStep","steppedDifference","parseFloat","toPrecision","toFixed","bottom","linearValueToPosition","logValueToPosition","minVal","maxVal","log","positionToValue","linearPositionToValue","logPositionToValue","exp","getEventXY","clientXY","getEventPosition","sliderPos","eventPos","getEventNames","eventNames","moveEvent","endEvent","getNearestHandle","distanceMin","distanceMax","DOM_ELEMENT","barTracking","barStart","barMove","onDragStart","onDragMove","onMove","onTickClick","ehMove","ehEnd","one","callOnStart","fromTick","ceilValue","flrValue","positionTrackingHandle","moveEventName","callOnEnd","onPointerBlur","onKeyboardEvent","onKeyUp","getKeyActions","currentValue","increaseStep","decreaseStep","increasePage","decreasePage","actions","UP","DOWN","LEFT","RIGHT","PAGEUP","PAGEDOWN","HOME","END","keys","38","40","37","39","33","34","36","35","action","newMinValue","newMaxValue","positionTrackingBar","getValue","outOfBounds","isAbove","ceilLimit","flrLimit","isUnderFlrLimit","isOverCeilLimit","flrH","ceilH","applyModel","valueChanged","applyMinMaxLimit","applyPushRange","applyMinMaxRange","oppositeValue","callOnChange","$evalAsync","RzSlider","rzSliderTplUrl","slider","jsonata","parseSignature","signature","param","prevParam","symbol","next","findClosingBracket","openSymbol","closeSymbol","depth","regex","contextRegex","endParen","choice","code","stack","endPos","subtype","regexStr","getSymbol","isFunction","throwValidationError","badArgs","badSig","partialPattern","goodTo","definition","validate","suppliedSig","arg","isValid","exec","validatedArgs","argIndex","contextType","single","arrayOK","differentItems","isNumeric","n","isNum","isNaN","isFinite","isArrayOfNumbers","evaluate","expr","environment","entryCallback","lookup","evaluatePath","evaluateBinary","evaluateUnary","evaluateName","evaluateLiteral","evaluateWildcard","evaluateDescendants","evaluateCondition","evaluateBlock","evaluateRegex","evaluateFunction","evaluateVariable","evaluateLambda","evaluatePartialApplication","applyPredicates","predicate","evaluateGroupExpression","group","exitCallback","inputSequence","keepSingletonArray","absolute","ii","keepArray","resultSequence","res","innerRes","predicates","results","isInteger","ires","functionBoolean","evaluateNumericExpression","evaluateComparisonExpression","evaluateStringConcat","evaluateBooleanExpression","evaluateRangeExpression","evaluateBindExpression","evaluateIncludesExpression","evaluateApplyExpression","token","lhs","functionAppend","Object","flatten","flattened","recurseDescendants","member","rhs","lstr","rstr","functionString","groups","pair","condition","else","frame","createFrame","expressions","lastIndex","closure","re","end","arg1","chain","_jsonata_function","_jsonata_lambda","isLambda","applyto","evaluatedArgs","proc","procedure","validateArguments","err","applyInner","thunk","body","applyProcedure","implementation","partialApplyProcedure","partialApplyNativeFunction","env","applyNativeFunction","unboundArgs","native","sigArgs","getNativeFunctionArguments","sigArg","bodyAST","parser","partial","sigParens","defineFunction","functionSum","functionCount","functionMax","functionMin","functionAverage","stringify","functionSubstring","functionSubstringBefore","chars","functionSubstringAfter","functionLowercase","functionUppercase","functionLength","functionTrim","functionContains","matches","functionMatch","limit","count","functionReplace","pattern","replacement","replacer","regexMatch","substitute","dollarVal","maxDigits","LOG10E","submatch","replacedWith","functionSplit","separator","functionJoin","strs","functionNumber","trues","functionNot","functionMap","arr","varargs","func_args","j","functionFoldLeft","sequence","functionKeys","merge","functionLookup","object","arg2","functionExists","functionSpread","enclosingEnvironment","bindings","lookupMessage","errorCodes","ast","staticFrame","exec_env","registerFunction","operators",".","[","]","{","}","(",")",",","@","#",";",":","?","+","-","*","/","%","|","=","<",">","`","**","..",":=","!=","<=",">=","~>","and","or","in","&","!","~","escapes","\"","\\","r","t","tokenizer","path","scanRegex","flags","currentChar","prefix","quoteType","qstr","octets","codepoint","numregex","ch","node","lexer","symbol_table","base_symbol","nud","bp","lbp","advance","infix","next_token","rbp","led","bindingPower","infixr","sigPos","sig","tok","objectParser","tail_call_optimize","post_parse","lstep","rest","S0101","S0102","S0103","S0104","S0203","S0202","S0204","S0205","S0208","S0209","S0210","S0201","S0206","S0207","S0301","S0302","S0402","S0401","T0410","T0411","T0412","D1001","D1002","T2001","T2002","T1003","T2003","T2004","D2005","D1004","T2006","T1005","T1006","T1007","T1008","D3001","D3010","D3011","D3012","D3020","D3030","global","CodeMirror","classTest","cls","removeChildren","childNodes","removeChild","firstChild","removeChildrenAndAdd","elt","content","className","cssText","createTextNode","nodeType","activeElt","current","joinClasses","as","copyObj","overwrite","countColumn","tabSize","startIndex","startValue","search","nextTab","findColumn","goal","col","skipped","spaceStr","spaceStrs","lst","out","insertSorted","score","priority","nothing","createObj","base","props","inst","isWordCharBasic","nonASCIISingleCaseWordChar","isWordChar","helper","isEmpty","isExtendingChar","charCodeAt","extendingChars","skipExtendingChars","findFirst","pred","mid","Display","place","doc","d","scrollbarFiller","gutterFiller","lineDiv","selectionDiv","cursorDiv","measure","lineMeasure","lineSpace","mover","sizer","sizerWidth","heightForcer","scrollerGap","gutters","lineGutter","scroller","wrapper","ie","ie_version","zIndex","paddingRight","webkit","gecko","mobile","draggable","viewFrom","viewTo","reportedViewFrom","reportedViewTo","view","renderedView","externalMeasured","viewOffset","lastWrapHeight","lastWrapWidth","updateLineNumbers","nativeBarWidth","barHeight","barWidth","scrollbarsClipped","lineNumWidth","lineNumInnerWidth","lineNumChars","alignWidgets","cachedCharWidth","cachedTextHeight","cachedPaddingH","maxLine","maxLineLength","maxLineChanged","wheelDX","wheelDY","wheelStartX","wheelStartY","selForContextMenu","activeTouch","getLine","lines","sz","getBetween","line","iter","getLines","updateLineHeight","diff","lineNo","cur","no","lineAtHeight","outer","i$1","lh","isLine","l","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","sticky","cmp","equalCursorPos","copyPos","x","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","seeReadOnlySpans","sawReadOnlySpans","seeCollapsedSpans","sawCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","removeMarkedSpan","addMarkedSpan","markedSpans","attachLine","markedSpansBefore","old","startCh","isInsert","nw","startsBefore","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","span$1","found$1","clearEmptySpans","newMarkers","gapMarkers","gap","i$2","i$3","clearWhenEmpty","removeReadOnlyRanges","markers","mark","parts","mk","m","p","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","len","findMaxLine","cm","display","iterateBidiSections","order","part","level","getBidiPartAt","bidiOther","getOrder","bidiOrdering","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","prepareMeasureForLine","targetTop","measureCharPrepared","moveVisually","bidi","partPos","mv","getWrappedLineExtent","lineWrapping","wrappedLineExtentChar","begin","wrappedLineExtent","searchInVisualLine","getRes","nextCh","getHandlers","emitter","_handlers","noHandlers","detachEvent","signal","signalDOMEvent","override","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","set","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","e_stopPropagation","e_stop","e_target","srcElement","e_button","button","mac","zeroWidthElement","zwspSupported","offsetHeight","offsetWidth","hasBadBidiRects","badBidiRects","txt","r0","r1","hasBadZoomedRects","badZoomedRects","normal","fromRange","defineMode","mode","dependencies","modes","defineMIME","mime","spec","mimeModes","resolveMode","getMode","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","state","nstate","innerMode","startState","a1","a2","highlightLine","forceToEnd","st","modeGen","lineClasses","runMode","loop","o","overlay","overlays","at","i_end","opaque","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getStateBefore","maxHighlightLength","stateAfter","styleClasses","frontier","precise","findStartLine","processLine","save","startAt","stream","StringStream","callBlankLine","eol","readToken","blankLine","takeToken","asArray","getObj","tokens","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","updateLine","estimateHeight","estHeight","cleanUpLine","interpretTokenStyle","cache","styleToClassCacheWithMode","styleToClassCache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","getOption","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","insertLineContent","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","title","startStyle","endStyle","displayText","special","specialChars","mustWrap","createDocumentFragment","txt$1","tabWidth","specialCharPlaceholder","fullStyle","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","Infinity","foundBookmarks","endStyles","j$1","j$2","upto","tokenText","LineView","hidden","buildViewArray","nextPos","pushOperation","op","operationGroup","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","callbacks","cursorActivityCalled","finishOperation","endCb","signalLater","list","orphanDelayedCallbacks","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","updateLineBackground","background","wrap","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","gutterWidth","alignable","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","paddingLeft","marginLeft","widgetHeight","parentStyle","clientWidth","eventInWidget","getAttribute","paddingTop","offsetTop","paddingVert","paddingH","currentStyle","scrollGap","displayWidth","displayHeight","clientHeight","ensureLineHeights","wrapping","curWidth","heights","rects","getClientRects","mapFromLineView","before","updateExternalMeasurement","measureChar","bias","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","nodeAndOffsetInLineMap","collapse","mStart","mEnd","coverStart","coverEnd","getUsefulRect","nullRect","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","pageScrollX","pageXOffset","scrollLeft","pageScrollY","pageYOffset","scrollTop","intoCoordSystem","includeWidgets","yOff","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","get","getBidi","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","mergedPos","prevDiff","prevPos","beginLeft","box","textHeight","measureText","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","colDiff","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","selection","sel","ranges","primIndex","empty","showCursorWhenSelecting","drawSelectionCursor","head","drawSelectionRange","cursor","cursorHeight","otherCursor","fragment","rightSide","drawForLine","fromArg","toArg","lineLen","rightPos","leftPos","tmp","leftSide","padding","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorBlinkRate","setInterval","ensureFocus","onFocus","delayBlurEvent","delayingBlurEvent","onBlur","receivedFocus","rmClass","alignHorizontally","comp","gutterW","align","maybeUpdateLineNumberWidth","innerW","updateGutterSpace","updateHeightsInViewport","prevBottom","updateWidgetHeight","visibleLines","viewport","ensure","ensureFrom","ensureTo","setScrollTop","updateDisplaySimple","scrollbars","startWorker","setScrollLeft","isScroller","scrollWidth","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","wheelPixelsPerUnit","onScrollWheel","scroll","canScrollX","canScrollY","scrollHeight","currentWheelTarget","presto","pixels","wheelSamples","movedX","movedY","sample","measureForScrollbars","docH","viewHeight","viewWidth","barLeft","docHeight","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","update","paddingBottom","borderBottom","coverGutterNextToScrollbar","initScrollbars","clear","scrollbarModel","scrollbarStyle","maybeScrollWindow","doScroll","innerHeight","phantom","scrollNode","scrollIntoView","scrollPosIntoView","margin","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","x1","y1","x2","y2","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollPos","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","isCursor","sPos","scrollTo","startOperation","viewChanged","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","nextOpId","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","i$4","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","minWidth","takeFocus","setDocumentHeight","postUpdateDisplay","forceScroll","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","regChange","lendiff","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","time","highlight","highlightWorker","workTime","changedLines","oldStyles","tooLong","highlighted","oldCls","newCls","ischange","workDelay","marginBottom","borderRightWidth","editorIsHidden","force","viewportMargin","different","wrapperHeight","toUpdate","patchDisplay","minHeight","oldDisplayWidth","updateNumbersFrom","rm","container","updateNumber","updateGutters","specs","gElt","setGuttersForLineNumbers","normalizeSelection","prim","sort","prev","inv","Range","Selection","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","Line","firstLine","lastText","lastSpans","nlines","insert","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","History","startGen","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","origin","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","somethingSelected","addSelectionToHistory","clearRedo","dest","equals","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","deepCopy","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","this$1","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","sel_dontScroll","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","antiChanges","after","returned","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","ok","copied","changeLine","handle","changeType","adjustScrollWhenAboveVisible","addLineWidget","LineWidget","insertAt","aboveVisible","markText","markTextShared","TextMarker","addToHistory","curLine","clearOnEnter","clearHistory","nextMarkerId","cloneNode","isParent","SharedTextMarker","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","clearDragCursor","lastDrop","isReadOnly","loadFile","allowDropFileTypes","lineSeparator","readAsText","draggingText","text$1","listSelections","replaceSelection","getSelection","safari","img","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","ensureGlobalHandlers","globalsRegistered","registerGlobalHandlers","resizeTimer","onResize","setSize","normalizeKeyName","alt","cmd","mod","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyNames","keyName","noShift","altGraphKey","flipCtrlCmd","keyMap","deleteNearSelection","compute","kill","toKill","replaced","lineStart","visual","lineEnd","lineStartSmart","firstNonWS","inWS","doHandleBinding","bound","dropShift","commands","ensurePolled","prevShift","Pass","lookupKeyForEditor","keyMaps","extraKeys","dispatchKey","seq","keySeq","stopSeq","handleKeyBinding","motion","handleCharBinding","onKeyDown","lastStoppedKey","hasCopyEvent","showCrossHair","onKeyPress","charCode","onMouseDown","supportsTouch","clickInGutter","selectingText","leftButtonDown","lastMiddleDown","captureRightClick","onContextMenu","lastDoubleClick","lastClick","contained","modifier","dragAndDrop","leftButtonStartDrag","leftButtonSelect","startTime","e2","addNew","extendTo","lastPos","startCol","posCol","startSel","ourIndex","oldRange","ourRange","findWordAt","ranges$1","sel_mouse","curCount","counter","editorSize","chromeOS","word","gutterEvent","prevent","mX","mY","lineBox","g","contextMenuInGutter","themeChanged","theme","defineOptions","option","deflt","notOnInit","optionHandlers","Init","defineOption","setValue","lineSep","newBreaks","refresh","getInputField","windows","guttersChanged","detach","attach","wrappingChanged","integer","readOnlyChanged","dragDropChanged","resetPosition","getField","tabIndex","wasOn","funcs","dragFunctions","toggle","over","leave","drop","Doc","inputStyles","inputStyle","pasteIncoming","cutIncoming","Delayed","autofocus","registerEventHandlers","opt","finishInit","initHooks","textRendering","finishTouch","touchFinished","prevTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","clearTimeout","moved","pageX","pageY","inp","indentLine","how","aggressive","indent","curSpace","indentation","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","setLastCopied","newLastCopied","lastCopied","applyTextInput","inserted","deleted","textLines","splitLinesAuto","multiPaste","lineWise","changeEvent","triggerElectric","handlePaste","pasted","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","getRange","disableBrowserMagic","field","hiddenTextarea","te","div","ios","border","addEditorMethods","helpers","constructor","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","indentSelection","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vert","horiz","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","execCommand","findPosH","amount","unit","hitSide","moveH","extendSelectionsBy","rtlMoveVisually","sel_move","deleteH","findPosV","goalColumn","moveV","goals","headPos","startChar","check","toggleOverwrite","getScrollInfo","interpret","oldHeight","swapDoc","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","findNextLine","moveOnce","boundToLine","origDir","sawType","pageSize","moveAmount","posToDOM","side","badPos","bad","domTextBetween","recognizeMarker","walk","cmText","textContent","markerID","nodeName","closing","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","dist","previousSibling","dist$1","fromTextArea","textarea","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","platform","ie_upto10","ie_11up","edge","documentMode","qtwebkit","chrome","vendor","mac_geMountainLion","presto_version","createRange","endNode","setEnd","setStart","createTextRange","moveToElementText","moveEnd","moveStart","selectInput","selectionStart","selectionEnd","_e","ms","charType","lowTypes","arabicTypes","BidiSpan","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","outerType","type$1","prev$1","type$2","type$3","i$5","cur$1","type$4","i$6","end$1","replace$1","i$7","nstart","attachEvent","nl","rt","hasSelection","ownerDocument","parentElement","compareEndPoints","oncopy","lastColumnPos","lastColumnValue","sol","peek","eat","eatWhile","eatSpace","skipToEnd","skipTo","backUp","column","consume","caseInsensitive","cased","hideFirstChars","NativeScrollbars","checkedZeroWidth","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","maybeDisable","NullScrollbars","null","here","there","LeafChunk","removeInner","insertInner","iterN","BranchChunk","leaf","maybeSpill","me","spilled","sibling","myIndex","used","oldH","withOp","dHeight","nextDocId","cleanGeneration","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","setCursor","setSelections","addSelection","getSelections","dup","replaceSelections","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","splitIds","iterLinkedDocs","getEditor","eachLine","3","8","9","13","16","17","18","19","20","27","32","44","45","46","59","61","91","92","93","106","107","109","110","111","127","173","186","187","188","189","190","191","192","219","220","221","222","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","basic","Left","Right","Up","Down","End","Home","PageUp","PageDown","Delete","Backspace","Shift-Backspace","Tab","Shift-Tab","Enter","Insert","Esc","pcDefault","Ctrl-A","Ctrl-D","Ctrl-Z","Shift-Ctrl-Z","Ctrl-Y","Ctrl-Home","Ctrl-End","Ctrl-Up","Ctrl-Down","Ctrl-Left","Ctrl-Right","Alt-Left","Alt-Right","Ctrl-Backspace","Ctrl-Delete","Ctrl-S","Ctrl-F","Ctrl-G","Shift-Ctrl-G","Shift-Ctrl-F","Shift-Ctrl-R","Ctrl-[","Ctrl-]","Ctrl-U","Shift-Ctrl-U","Alt-U","emacsy","Ctrl-B","Ctrl-P","Ctrl-N","Alt-F","Alt-B","Ctrl-E","Ctrl-V","Shift-Ctrl-V","Ctrl-H","Alt-D","Alt-Backspace","Ctrl-K","Ctrl-T","Ctrl-O","macDefault","Cmd-A","Cmd-D","Cmd-Z","Shift-Cmd-Z","Cmd-Y","Cmd-Home","Cmd-Up","Cmd-End","Cmd-Down","Cmd-Left","Cmd-Right","Ctrl-Alt-Backspace","Alt-Delete","Cmd-S","Cmd-F","Cmd-G","Shift-Cmd-G","Cmd-Alt-F","Shift-Cmd-Alt-F","Cmd-[","Cmd-]","Cmd-Backspace","Cmd-Delete","Cmd-U","Shift-Cmd-U","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","goDocStart","goDocEnd","goLineStart","goLineStartSmart","goLineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","goLineDown","goPageUp","goPageDown","goCharLeft","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","transposeChars","newlineAndIndent","sels","openLine","defineInitHook","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","pollContent","readFromDOMSoon","forceCompositionEnd","showMultipleSelections","curAnchor","anchorNode","anchorOffset","curFocus","focusNode","focusOffset","rangeCount","getRangeAt","rng","removeAllRanges","addRange","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","poll","pollSelection","pollInterval","fromIndex","fromNode","toNode","toIndex","newText","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","TextareaInput","prevInput","pollingFast","inaccurateSelection","prepareCopyCut","fastPoll","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","minimal","slowPoll","missed","same","prepareSelectAllHack","extval","rehide","oldWrapperCSS","oldCSS","detectingSelectAll","resetSelectionOnContextMenu","wrapperBox","oldScrollY","scrollY","mouseup","dontDelegate","contenteditable","defineExtension","defineDocExtension","conf","handleChar","getConfig","closeBrackets","handleBackspace","pairs","around","charsAround","handleEnter","explode","contractSelection","inverted","triples","identical","opening","curType","enteringString","isClosingBracket","type1","findMatchingBracket","strict","config","matching","scanForBracket","forward","maxScanLen","maxScanLineLength","maxScanLines","bracketRegex","matchBrackets","autoclear","maxHighlightLen","maxHighlightLineLength","marks","ie_lt8","doMatchBrackets","currentlyHighlighted","constant","uiCodemirrorConfig","postLink","iElement","iAttrs","ngModel","codemirrorOptions","codemirror","uiCodemirror","uiCodemirrorOpts","newCodemirrorEditor","configOptionsWatcher","configNgModelLink","configUiRefreshAttribute","uiRefresh","onLoad","codemirrot","cm_el","uiCodemirrorAttr","updateOptions","newValues","codemirrorDefaultsKeys","$render","safeViewValue","$viewValue","instance","$setViewValue","codeMirror","uiRefreshAttr","newVal","oldVal","compile","parserConfig","templateMode","||","templatizer","TOKEN_NAMES","operator","variable","number","dirPaginateDirective","paginationService","dirPaginationCompileFn","tElement","tAttrs","dirPaginate","filterPattern","itemsPerPageFilterRemoved","collectionGetter","addNoCompileAttributes","rawId","paginationId","DEFAULT_ID","registerInstance","deregisterInstance","repeatExpression","getRepeatExpression","addNgRepeatToElement","removeTemporaryAttributes","compiled","currentPageGetter","makeCurrentPageGetterFn","setCurrentPageParser","totalItems","setAsyncModeTrue","setCollectionLength","setAsyncModeFalse","$watchCollection","collection","collectionLength","idDefinedInFilter","hasAttribute","removeAttr","currentPage","defaultCurrentPage","terminal","multiElement","noCompileDirective","dirPaginationControlsTemplateInstaller","dirPaginationControlsDirective","paginationTemplate","dirPaginationControlsLinkFn","goToPage","isRegistered","isValidPageNumber","oldPageNumber","pagination","pages","generatePagesArray","getCollectionLength","getItemsPerPage","paginationRange","updateRangeValues","onPageChange","newPageNumber","generatePagination","page","getCurrentPage","setCurrent","itemsPerPage","lower","upper","numberRegex","idMessage","console","warn","maxSize","autoHide","directionLinks","boundaryLinks","previousPage","setCurrentPage","tracker","rowsPerPage","totalPages","halfWay","ellipsesNeeded","pageNumber","calculatePageNumber","openingEllipsesNeeded","closingEllipsesNeeded","DDO","templateString","getString","getPath","itemsPerPageFilter","isAsyncMode","setItemsPerPage","slicedObject","objKeys","lastRegisteredInstance","instances","instanceId","asyncMode","getLastInstanceId","currentPageParser","paginationTemplateProvider","templatePath","setPath","setString","moduleName","service","addKey","defineProperty","enumerable","$key","$value","$templateRequest","tpl","model","slide","templates","searchValue","surveys","author","summary","img_url","date","$templateList","$schemas","$firebaseObject","$firebaseArray","firebase","database","$bindTo","defaultTags","newDevice","addDevice","devices","tabs","icon","organizationSettings","selectedTab","users","email","setTab","codemirrorOpts","autoCloseBrackets","survey","slides","kind","weight","suggestions","nodes","contents","readonly","correct","schemas","maximized","maximizePreview","toggleClass","material_icon","setDevice","device","setSlide","loading","searching","includes","organizations","orderByChild","equalTo","align-items","justify-content","frame_size","fit","use","iframe","$directiveElement","$controller","$transclude","$children","otherScope","iframeBody","contentWindow","appendTo"],"mappings":"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","file":"alpaca-editor.min.js","sourcesContent":["/**\r\n * angular-drag-and-drop-lists v2.1.0\r\n *\r\n * Copyright (c) 2014 Marcel Juenemann marcel@juenemann.cc\r\n * Copyright (c) 2014-2017 Google Inc.\r\n * https://github.com/marceljuenemann/angular-drag-and-drop-lists\r\n *\r\n * License: MIT\r\n */\r\n(function(dndLists) {\r\n\r\n  // In standard-compliant browsers we use a custom mime type and also encode the dnd-type in it.\r\n  // However, IE and Edge only support a limited number of mime types. The workarounds are described\r\n  // in https://github.com/marceljuenemann/angular-drag-and-drop-lists/wiki/Data-Transfer-Design\r\n  var MIME_TYPE = 'application/x-dnd';\r\n  var EDGE_MIME_TYPE = 'application/json';\r\n  var MSIE_MIME_TYPE = 'Text';\r\n\r\n  // All valid HTML5 drop effects, in the order in which we prefer to use them.\r\n  var ALL_EFFECTS = ['move', 'copy', 'link'];\r\n\r\n  /**\r\n   * Use the dnd-draggable attribute to make your element draggable\r\n   *\r\n   * Attributes:\r\n   * - dnd-draggable      Required attribute. The value has to be an object that represents the data\r\n   *                      of the element. In case of a drag and drop operation the object will be\r\n   *                      serialized and unserialized on the receiving end.\r\n   * - dnd-effect-allowed Use this attribute to limit the operations that can be performed. Valid\r\n   *                      options are \"move\", \"copy\" and \"link\", as well as \"all\", \"copyMove\",\r\n   *                      \"copyLink\" and \"linkMove\". The semantics of these operations are up to you\r\n   *                      and have to be implemented using the callbacks described below. If you\r\n   *                      allow multiple options, the user can choose between them by using the\r\n   *                      modifier keys (OS specific). The cursor will be changed accordingly,\r\n   *                      expect for IE and Edge, where this is not supported.\r\n   * - dnd-type           Use this attribute if you have different kinds of items in your\r\n   *                      application and you want to limit which items can be dropped into which\r\n   *                      lists. Combine with dnd-allowed-types on the dnd-list(s). This attribute\r\n   *                      must be a lower case string. Upper case characters can be used, but will\r\n   *                      be converted to lower case automatically.\r\n   * - dnd-disable-if     You can use this attribute to dynamically disable the draggability of the\r\n   *                      element. This is useful if you have certain list items that you don't want\r\n   *                      to be draggable, or if you want to disable drag & drop completely without\r\n   *                      having two different code branches (e.g. only allow for admins).\r\n   *\r\n   * Callbacks:\r\n   * - dnd-dragstart      Callback that is invoked when the element was dragged. The original\r\n   *                      dragstart event will be provided in the local event variable.\r\n   * - dnd-moved          Callback that is invoked when the element was moved. Usually you will\r\n   *                      remove your element from the original list in this callback, since the\r\n   *                      directive is not doing that for you automatically. The original dragend\r\n   *                      event will be provided in the local event variable.\r\n   * - dnd-copied         Same as dnd-moved, just that it is called when the element was copied\r\n   *                      instead of moved, so you probably want to implement a different logic.\r\n   * - dnd-linked         Same as dnd-moved, just that it is called when the element was linked\r\n   *                      instead of moved, so you probably want to implement a different logic.\r\n   * - dnd-canceled       Callback that is invoked if the element was dragged, but the operation was\r\n   *                      canceled and the element was not dropped. The original dragend event will\r\n   *                      be provided in the local event variable.\r\n   * - dnd-dragend        Callback that is invoked when the drag operation ended. Available local\r\n   *                      variables are event and dropEffect.\r\n   * - dnd-selected       Callback that is invoked when the element was clicked but not dragged.\r\n   *                      The original click event will be provided in the local event variable.\r\n   * - dnd-callback       Custom callback that is passed to dropzone callbacks and can be used to\r\n   *                      communicate between source and target scopes. The dropzone can pass user\r\n   *                      defined variables to this callback.\r\n   *\r\n   * CSS classes:\r\n   * - dndDragging        This class will be added to the element while the element is being\r\n   *                      dragged. It will affect both the element you see while dragging and the\r\n   *                      source element that stays at it's position. Do not try to hide the source\r\n   *                      element with this class, because that will abort the drag operation.\r\n   * - dndDraggingSource  This class will be added to the element after the drag operation was\r\n   *                      started, meaning it only affects the original element that is still at\r\n   *                      it's source position, and not the \"element\" that the user is dragging with\r\n   *                      his mouse pointer.\r\n   */\r\n  dndLists.directive('dndDraggable', ['$parse', '$timeout', function($parse, $timeout) {\r\n    return function(scope, element, attr) {\r\n      // Set the HTML5 draggable attribute on the element.\r\n      element.attr(\"draggable\", \"true\");\r\n\r\n      // If the dnd-disable-if attribute is set, we have to watch that.\r\n      if (attr.dndDisableIf) {\r\n        scope.$watch(attr.dndDisableIf, function(disabled) {\r\n          element.attr(\"draggable\", !disabled);\r\n        });\r\n      }\r\n\r\n      /**\r\n       * When the drag operation is started we have to prepare the dataTransfer object,\r\n       * which is the primary way we communicate with the target element\r\n       */\r\n      element.on('dragstart', function(event) {\r\n        event = event.originalEvent || event;\r\n\r\n        // Check whether the element is draggable, since dragstart might be triggered on a child.\r\n        if (element.attr('draggable') == 'false') return true;\r\n\r\n        // Initialize global state.\r\n        dndState.isDragging = true;\r\n        dndState.itemType = attr.dndType && scope.$eval(attr.dndType).toLowerCase();\r\n\r\n        // Set the allowed drop effects. See below for special IE handling.\r\n        dndState.dropEffect = \"none\";\r\n        dndState.effectAllowed = attr.dndEffectAllowed || ALL_EFFECTS[0];\r\n        event.dataTransfer.effectAllowed = dndState.effectAllowed;\r\n\r\n        // Internet Explorer and Microsoft Edge don't support custom mime types, see design doc:\r\n        // https://github.com/marceljuenemann/angular-drag-and-drop-lists/wiki/Data-Transfer-Design\r\n        var item = scope.$eval(attr.dndDraggable);\r\n        var mimeType = MIME_TYPE + (dndState.itemType ? ('-' + dndState.itemType) : '');\r\n        try {\r\n          event.dataTransfer.setData(mimeType, angular.toJson(item));\r\n        } catch (e) {\r\n          // Setting a custom MIME type did not work, we are probably in IE or Edge.\r\n          var data = angular.toJson({item: item, type: dndState.itemType});\r\n          try {\r\n            event.dataTransfer.setData(EDGE_MIME_TYPE, data);\r\n          } catch (e) {\r\n            // We are in Internet Explorer and can only use the Text MIME type. Also note that IE\r\n            // does not allow changing the cursor in the dragover event, therefore we have to choose\r\n            // the one we want to display now by setting effectAllowed.\r\n            var effectsAllowed = filterEffects(ALL_EFFECTS, dndState.effectAllowed);\r\n            event.dataTransfer.effectAllowed = effectsAllowed[0];\r\n            event.dataTransfer.setData(MSIE_MIME_TYPE, data);\r\n          }\r\n        }\r\n\r\n        // Add CSS classes. See documentation above.\r\n        element.addClass(\"dndDragging\");\r\n        $timeout(function() { element.addClass(\"dndDraggingSource\"); }, 0);\r\n\r\n        // Try setting a proper drag image if triggered on a dnd-handle (won't work in IE).\r\n        if (event._dndHandle && event.dataTransfer.setDragImage) {\r\n          event.dataTransfer.setDragImage(element[0], 0, 0);\r\n        }\r\n\r\n        // Invoke dragstart callback and prepare extra callback for dropzone.\r\n        $parse(attr.dndDragstart)(scope, {event: event});\r\n        if (attr.dndCallback) {\r\n          var callback = $parse(attr.dndCallback);\r\n          dndState.callback = function(params) { return callback(scope, params || {}); };\r\n        }\r\n\r\n        event.stopPropagation();\r\n      });\r\n\r\n      /**\r\n       * The dragend event is triggered when the element was dropped or when the drag\r\n       * operation was aborted (e.g. hit escape button). Depending on the executed action\r\n       * we will invoke the callbacks specified with the dnd-moved or dnd-copied attribute.\r\n       */\r\n      element.on('dragend', function(event) {\r\n        event = event.originalEvent || event;\r\n\r\n        // Invoke callbacks. Usually we would use event.dataTransfer.dropEffect to determine\r\n        // the used effect, but Chrome has not implemented that field correctly. On Windows\r\n        // it always sets it to 'none', while Chrome on Linux sometimes sets it to something\r\n        // else when it's supposed to send 'none' (drag operation aborted).\r\n        scope.$apply(function() {\r\n          var dropEffect = dndState.dropEffect;\r\n          var cb = {copy: 'dndCopied', link: 'dndLinked', move: 'dndMoved', none: 'dndCanceled'};\r\n          $parse(attr[cb[dropEffect]])(scope, {event: event});\r\n          $parse(attr.dndDragend)(scope, {event: event, dropEffect: dropEffect});\r\n        });\r\n\r\n        // Clean up\r\n        dndState.isDragging = false;\r\n        dndState.callback = undefined;\r\n        element.removeClass(\"dndDragging\");\r\n        element.removeClass(\"dndDraggingSource\");\r\n        event.stopPropagation();\r\n\r\n        // In IE9 it is possible that the timeout from dragstart triggers after the dragend handler.\r\n        $timeout(function() { element.removeClass(\"dndDraggingSource\"); }, 0);\r\n      });\r\n\r\n      /**\r\n       * When the element is clicked we invoke the callback function\r\n       * specified with the dnd-selected attribute.\r\n       */\r\n      element.on('click', function(event) {\r\n        if (!attr.dndSelected) return;\r\n\r\n        event = event.originalEvent || event;\r\n        scope.$apply(function() {\r\n          $parse(attr.dndSelected)(scope, {event: event});\r\n        });\r\n\r\n        // Prevent triggering dndSelected in parent elements.\r\n        event.stopPropagation();\r\n      });\r\n\r\n      /**\r\n       * Workaround to make element draggable in IE9\r\n       */\r\n      element.on('selectstart', function() {\r\n        if (this.dragDrop) this.dragDrop();\r\n      });\r\n    };\r\n  }]);\r\n\r\n  /**\r\n   * Use the dnd-list attribute to make your list element a dropzone. Usually you will add a single\r\n   * li element as child with the ng-repeat directive. If you don't do that, we will not be able to\r\n   * position the dropped element correctly. If you want your list to be sortable, also add the\r\n   * dnd-draggable directive to your li element(s).\r\n   *\r\n   * Attributes:\r\n   * - dnd-list             Required attribute. The value has to be the array in which the data of\r\n   *                        the dropped element should be inserted. The value can be blank if used\r\n   *                        with a custom dnd-drop handler that always returns true.\r\n   * - dnd-allowed-types    Optional array of allowed item types. When used, only items that had a\r\n   *                        matching dnd-type attribute will be dropable. Upper case characters will\r\n   *                        automatically be converted to lower case.\r\n   * - dnd-effect-allowed   Optional string expression that limits the drop effects that can be\r\n   *                        performed in the list. See dnd-effect-allowed on dnd-draggable for more\r\n   *                        details on allowed options. The default value is all.\r\n   * - dnd-disable-if       Optional boolean expresssion. When it evaluates to true, no dropping\r\n   *                        into the list is possible. Note that this also disables rearranging\r\n   *                        items inside the list.\r\n   * - dnd-horizontal-list  Optional boolean expresssion. When it evaluates to true, the positioning\r\n   *                        algorithm will use the left and right halfs of the list items instead of\r\n   *                        the upper and lower halfs.\r\n   * - dnd-external-sources Optional boolean expression. When it evaluates to true, the list accepts\r\n   *                        drops from sources outside of the current browser tab. This allows to\r\n   *                        drag and drop accross different browser tabs. The only major browser\r\n   *                        that does not support this is currently Microsoft Edge.\r\n   *\r\n   * Callbacks:\r\n   * - dnd-dragover         Optional expression that is invoked when an element is dragged over the\r\n   *                        list. If the expression is set, but does not return true, the element is\r\n   *                        not allowed to be dropped. The following variables will be available:\r\n   *                        - event: The original dragover event sent by the browser.\r\n   *                        - index: The position in the list at which the element would be dropped.\r\n   *                        - type: The dnd-type set on the dnd-draggable, or undefined if non was\r\n   *                          set. Will be null for drops from external sources in IE and Edge,\r\n   *                          since we don't know the type in those cases.\r\n   *                        - dropEffect: One of move, copy or link, see dnd-effect-allowed.\r\n   *                        - external: Whether the element was dragged from an external source.\r\n   *                        - callback: If dnd-callback was set on the source element, this is a\r\n   *                          function reference to the callback. The callback can be invoked with\r\n   *                          custom variables like this: callback({var1: value1, var2: value2}).\r\n   *                          The callback will be executed on the scope of the source element. If\r\n   *                          dnd-external-sources was set and external is true, this callback will\r\n   *                          not be available.\r\n   * - dnd-drop             Optional expression that is invoked when an element is dropped on the\r\n   *                        list. The same variables as for dnd-dragover will be available, with the\r\n   *                        exception that type is always known and therefore never null. There\r\n   *                        will also be an item variable, which is the transferred object. The\r\n   *                        return value determines the further handling of the drop:\r\n   *                        - falsy: The drop will be canceled and the element won't be inserted.\r\n   *                        - true: Signalises that the drop is allowed, but the dnd-drop\r\n   *                          callback already took care of inserting the element.\r\n   *                        - otherwise: All other return values will be treated as the object to\r\n   *                          insert into the array. In most cases you want to simply return the\r\n   *                          item parameter, but there are no restrictions on what you can return.\r\n   * - dnd-inserted         Optional expression that is invoked after a drop if the element was\r\n   *                        actually inserted into the list. The same local variables as for\r\n   *                        dnd-drop will be available. Note that for reorderings inside the same\r\n   *                        list the old element will still be in the list due to the fact that\r\n   *                        dnd-moved was not called yet.\r\n   *\r\n   * CSS classes:\r\n   * - dndPlaceholder       When an element is dragged over the list, a new placeholder child\r\n   *                        element will be added. This element is of type li and has the class\r\n   *                        dndPlaceholder set. Alternatively, you can define your own placeholder\r\n   *                        by creating a child element with dndPlaceholder class.\r\n   * - dndDragover          Will be added to the list while an element is dragged over the list.\r\n   */\r\n  dndLists.directive('dndList', ['$parse', function($parse) {\r\n    return function(scope, element, attr) {\r\n      // While an element is dragged over the list, this placeholder element is inserted\r\n      // at the location where the element would be inserted after dropping.\r\n      var placeholder = getPlaceholderElement();\r\n      placeholder.remove();\r\n\r\n      var placeholderNode = placeholder[0];\r\n      var listNode = element[0];\r\n      var listSettings = {};\r\n\r\n      /**\r\n       * The dragenter event is fired when a dragged element or text selection enters a valid drop\r\n       * target. According to the spec, we either need to have a dropzone attribute or listen on\r\n       * dragenter events and call preventDefault(). It should be noted though that no browser seems\r\n       * to enforce this behaviour.\r\n       */\r\n      element.on('dragenter', function (event) {\r\n        event = event.originalEvent || event;\r\n\r\n        // Calculate list properties, so that we don't have to repeat this on every dragover event.\r\n        var types = attr.dndAllowedTypes && scope.$eval(attr.dndAllowedTypes);\r\n        listSettings = {\r\n          allowedTypes: angular.isArray(types) && types.join('|').toLowerCase().split('|'),\r\n          disabled: attr.dndDisableIf && scope.$eval(attr.dndDisableIf),\r\n          externalSources: attr.dndExternalSources && scope.$eval(attr.dndExternalSources),\r\n          horizontal: attr.dndHorizontalList && scope.$eval(attr.dndHorizontalList)\r\n        };\r\n\r\n        var mimeType = getMimeType(event.dataTransfer.types);\r\n        if (!mimeType || !isDropAllowed(getItemType(mimeType))) return true;\r\n        event.preventDefault();\r\n      });\r\n\r\n      /**\r\n       * The dragover event is triggered \"every few hundred milliseconds\" while an element\r\n       * is being dragged over our list, or over an child element.\r\n       */\r\n      element.on('dragover', function(event) {\r\n        event = event.originalEvent || event;\r\n\r\n        // Check whether the drop is allowed and determine mime type.\r\n        var mimeType = getMimeType(event.dataTransfer.types);\r\n        var itemType = getItemType(mimeType);\r\n        if (!mimeType || !isDropAllowed(itemType)) return true;\r\n\r\n        // Make sure the placeholder is shown, which is especially important if the list is empty.\r\n        if (placeholderNode.parentNode != listNode) {\r\n          element.append(placeholder);\r\n        }\r\n\r\n        if (event.target != listNode) {\r\n          // Try to find the node direct directly below the list node.\r\n          var listItemNode = event.target;\r\n          while (listItemNode.parentNode != listNode && listItemNode.parentNode) {\r\n            listItemNode = listItemNode.parentNode;\r\n          }\r\n\r\n          if (listItemNode.parentNode == listNode && listItemNode != placeholderNode) {\r\n            // If the mouse pointer is in the upper half of the list item element,\r\n            // we position the placeholder before the list item, otherwise after it.\r\n            var rect = listItemNode.getBoundingClientRect();\r\n            if (listSettings.horizontal) {\r\n              var isFirstHalf = event.clientX < rect.left + rect.width / 2;\r\n            } else {\r\n              var isFirstHalf = event.clientY < rect.top + rect.height / 2;\r\n            }\r\n            listNode.insertBefore(placeholderNode,\r\n                isFirstHalf ? listItemNode : listItemNode.nextSibling);\r\n          }\r\n        }\r\n\r\n        // In IE we set a fake effectAllowed in dragstart to get the correct cursor, we therefore\r\n        // ignore the effectAllowed passed in dataTransfer. We must also not access dataTransfer for\r\n        // drops from external sources, as that throws an exception.\r\n        var ignoreDataTransfer = mimeType == MSIE_MIME_TYPE;\r\n        var dropEffect = getDropEffect(event, ignoreDataTransfer);\r\n        if (dropEffect == 'none') return stopDragover();\r\n\r\n        // At this point we invoke the callback, which still can disallow the drop.\r\n        // We can't do this earlier because we want to pass the index of the placeholder.\r\n        if (attr.dndDragover && !invokeCallback(attr.dndDragover, event, dropEffect, itemType)) {\r\n          return stopDragover();\r\n        }\r\n\r\n        // Set dropEffect to modify the cursor shown by the browser, unless we're in IE, where this\r\n        // is not supported. This must be done after preventDefault in Firefox.\r\n        event.preventDefault();\r\n        if (!ignoreDataTransfer) {\r\n          event.dataTransfer.dropEffect = dropEffect;\r\n        }\r\n\r\n        element.addClass(\"dndDragover\");\r\n        event.stopPropagation();\r\n        return false;\r\n      });\r\n\r\n      /**\r\n       * When the element is dropped, we use the position of the placeholder element as the\r\n       * position where we insert the transferred data. This assumes that the list has exactly\r\n       * one child element per array element.\r\n       */\r\n      element.on('drop', function(event) {\r\n        event = event.originalEvent || event;\r\n\r\n        // Check whether the drop is allowed and determine mime type.\r\n        var mimeType = getMimeType(event.dataTransfer.types);\r\n        var itemType = getItemType(mimeType);\r\n        if (!mimeType || !isDropAllowed(itemType)) return true;\r\n\r\n        // The default behavior in Firefox is to interpret the dropped element as URL and\r\n        // forward to it. We want to prevent that even if our drop is aborted.\r\n        event.preventDefault();\r\n\r\n        // Unserialize the data that was serialized in dragstart.\r\n        try {\r\n          var data = JSON.parse(event.dataTransfer.getData(mimeType));\r\n        } catch(e) {\r\n          return stopDragover();\r\n        }\r\n\r\n        // Drops with invalid types from external sources might not have been filtered out yet.\r\n        if (mimeType == MSIE_MIME_TYPE || mimeType == EDGE_MIME_TYPE) {\r\n          itemType = data.type || undefined;\r\n          data = data.item;\r\n          if (!isDropAllowed(itemType)) return stopDragover();\r\n        }\r\n\r\n        // Special handling for internal IE drops, see dragover handler.\r\n        var ignoreDataTransfer = mimeType == MSIE_MIME_TYPE;\r\n        var dropEffect = getDropEffect(event, ignoreDataTransfer);\r\n        if (dropEffect == 'none') return stopDragover();\r\n\r\n        // Invoke the callback, which can transform the transferredObject and even abort the drop.\r\n        var index = getPlaceholderIndex();\r\n        if (attr.dndDrop) {\r\n          data = invokeCallback(attr.dndDrop, event, dropEffect, itemType, index, data);\r\n          if (!data) return stopDragover();\r\n        }\r\n\r\n        // The drop is definitely going to happen now, store the dropEffect.\r\n        dndState.dropEffect = dropEffect;\r\n        if (!ignoreDataTransfer) {\r\n          event.dataTransfer.dropEffect = dropEffect;\r\n        }\r\n\r\n        // Insert the object into the array, unless dnd-drop took care of that (returned true).\r\n        if (data !== true) {\r\n          scope.$apply(function() {\r\n            scope.$eval(attr.dndList).splice(index, 0, data);\r\n          });\r\n        }\r\n        invokeCallback(attr.dndInserted, event, dropEffect, itemType, index, data);\r\n\r\n        // Clean up\r\n        stopDragover();\r\n        event.stopPropagation();\r\n        return false;\r\n      });\r\n\r\n      /**\r\n       * We have to remove the placeholder when the element is no longer dragged over our list. The\r\n       * problem is that the dragleave event is not only fired when the element leaves our list,\r\n       * but also when it leaves a child element. Therefore, we determine whether the mouse cursor\r\n       * is still pointing to an element inside the list or not.\r\n       */\r\n      element.on('dragleave', function(event) {\r\n        event = event.originalEvent || event;\r\n\r\n        var newTarget = document.elementFromPoint(event.clientX, event.clientY);\r\n        if (listNode.contains(newTarget) && !event._dndPhShown) {\r\n          // Signalize to potential parent lists that a placeholder is already shown.\r\n          event._dndPhShown = true;\r\n        } else {\r\n          stopDragover();\r\n        }\r\n      });\r\n\r\n      /**\r\n       * Given the types array from the DataTransfer object, returns the first valid mime type.\r\n       * A type is valid if it starts with MIME_TYPE, or it equals MSIE_MIME_TYPE or EDGE_MIME_TYPE.\r\n       */\r\n      function getMimeType(types) {\r\n        if (!types) return MSIE_MIME_TYPE; // IE 9 workaround.\r\n        for (var i = 0; i < types.length; i++) {\r\n          if (types[i] == MSIE_MIME_TYPE || types[i] == EDGE_MIME_TYPE ||\r\n              types[i].substr(0, MIME_TYPE.length) == MIME_TYPE) {\r\n            return types[i];\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n\r\n      /**\r\n       * Determines the type of the item from the dndState, or from the mime type for items from\r\n       * external sources. Returns undefined if no item type was set and null if the item type could\r\n       * not be determined.\r\n       */\r\n      function getItemType(mimeType) {\r\n        if (dndState.isDragging) return dndState.itemType || undefined;\r\n        if (mimeType == MSIE_MIME_TYPE || mimeType == EDGE_MIME_TYPE) return null;\r\n        return (mimeType && mimeType.substr(MIME_TYPE.length + 1)) || undefined;\r\n      }\r\n\r\n      /**\r\n       * Checks various conditions that must be fulfilled for a drop to be allowed, including the\r\n       * dnd-allowed-types attribute. If the item Type is unknown (null), the drop will be allowed.\r\n       */\r\n      function isDropAllowed(itemType) {\r\n        if (listSettings.disabled) return false;\r\n        if (!listSettings.externalSources && !dndState.isDragging) return false;\r\n        if (!listSettings.allowedTypes || itemType === null) return true;\r\n        return itemType && listSettings.allowedTypes.indexOf(itemType) != -1;\r\n      }\r\n\r\n      /**\r\n       * Determines which drop effect to use for the given event. In Internet Explorer we have to\r\n       * ignore the effectAllowed field on dataTransfer, since we set a fake value in dragstart.\r\n       * In those cases we rely on dndState to filter effects. Read the design doc for more details:\r\n       * https://github.com/marceljuenemann/angular-drag-and-drop-lists/wiki/Data-Transfer-Design\r\n       */\r\n      function getDropEffect(event, ignoreDataTransfer) {\r\n        var effects = ALL_EFFECTS;\r\n        if (!ignoreDataTransfer) {\r\n          effects = filterEffects(effects, event.dataTransfer.effectAllowed);\r\n        }\r\n        if (dndState.isDragging) {\r\n          effects = filterEffects(effects, dndState.effectAllowed);\r\n        }\r\n        if (attr.dndEffectAllowed) {\r\n          effects = filterEffects(effects, attr.dndEffectAllowed);\r\n        }\r\n        // MacOS automatically filters dataTransfer.effectAllowed depending on the modifier keys,\r\n        // therefore the following modifier keys will only affect other operating systems.\r\n        if (!effects.length) {\r\n          return 'none';\r\n        } else if (event.ctrlKey && effects.indexOf('copy') != -1) {\r\n          return 'copy';\r\n        } else if (event.altKey && effects.indexOf('link') != -1) {\r\n          return 'link';\r\n        } else {\r\n          return effects[0];\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Small helper function that cleans up if we aborted a drop.\r\n       */\r\n      function stopDragover() {\r\n        placeholder.remove();\r\n        element.removeClass(\"dndDragover\");\r\n        return true;\r\n      }\r\n\r\n      /**\r\n       * Invokes a callback with some interesting parameters and returns the callbacks return value.\r\n       */\r\n      function invokeCallback(expression, event, dropEffect, itemType, index, item) {\r\n        return $parse(expression)(scope, {\r\n          callback: dndState.callback,\r\n          dropEffect: dropEffect,\r\n          event: event,\r\n          external: !dndState.isDragging,\r\n          index: index !== undefined ? index : getPlaceholderIndex(),\r\n          item: item || undefined,\r\n          type: itemType\r\n        });\r\n      }\r\n\r\n      /**\r\n       * We use the position of the placeholder node to determine at which position of the array the\r\n       * object needs to be inserted\r\n       */\r\n      function getPlaceholderIndex() {\r\n        return Array.prototype.indexOf.call(listNode.children, placeholderNode);\r\n      }\r\n\r\n      /**\r\n       * Tries to find a child element that has the dndPlaceholder class set. If none was found, a\r\n       * new li element is created.\r\n       */\r\n      function getPlaceholderElement() {\r\n        var placeholder;\r\n        angular.forEach(element.children(), function(childNode) {\r\n          var child = angular.element(childNode);\r\n          if (child.hasClass('dndPlaceholder')) {\r\n            placeholder = child;\r\n          }\r\n        });\r\n        return placeholder || angular.element(\"<li class='dndPlaceholder'></li>\");\r\n      }\r\n    };\r\n  }]);\r\n\r\n  /**\r\n   * Use the dnd-nodrag attribute inside of dnd-draggable elements to prevent them from starting\r\n   * drag operations. This is especially useful if you want to use input elements inside of\r\n   * dnd-draggable elements or create specific handle elements. Note: This directive does not work\r\n   * in Internet Explorer 9.\r\n   */\r\n  dndLists.directive('dndNodrag', function() {\r\n    return function(scope, element, attr) {\r\n      // Set as draggable so that we can cancel the events explicitly\r\n      element.attr(\"draggable\", \"true\");\r\n\r\n      /**\r\n       * Since the element is draggable, the browser's default operation is to drag it on dragstart.\r\n       * We will prevent that and also stop the event from bubbling up.\r\n       */\r\n      element.on('dragstart', function(event) {\r\n        event = event.originalEvent || event;\r\n\r\n        if (!event._dndHandle) {\r\n          // If a child element already reacted to dragstart and set a dataTransfer object, we will\r\n          // allow that. For example, this is the case for user selections inside of input elements.\r\n          if (!(event.dataTransfer.types && event.dataTransfer.types.length)) {\r\n            event.preventDefault();\r\n          }\r\n          event.stopPropagation();\r\n        }\r\n      });\r\n\r\n      /**\r\n       * Stop propagation of dragend events, otherwise dnd-moved might be triggered and the element\r\n       * would be removed.\r\n       */\r\n      element.on('dragend', function(event) {\r\n        event = event.originalEvent || event;\r\n        if (!event._dndHandle) {\r\n          event.stopPropagation();\r\n        }\r\n      });\r\n    };\r\n  });\r\n\r\n  /**\r\n   * Use the dnd-handle directive within a dnd-nodrag element in order to allow dragging with that\r\n   * element after all. Therefore, by combining dnd-nodrag and dnd-handle you can allow\r\n   * dnd-draggable elements to only be dragged via specific \"handle\" elements. Note that Internet\r\n   * Explorer will show the handle element as drag image instead of the dnd-draggable element. You\r\n   * can work around this by styling the handle element differently when it is being dragged. Use\r\n   * the CSS selector .dndDragging:not(.dndDraggingSource) [dnd-handle] for that.\r\n   */\r\n  dndLists.directive('dndHandle', function() {\r\n    return function(scope, element, attr) {\r\n      element.attr(\"draggable\", \"true\");\r\n\r\n      element.on('dragstart dragend', function(event) {\r\n        event = event.originalEvent || event;\r\n        event._dndHandle = true;\r\n      });\r\n    };\r\n  });\r\n\r\n  /**\r\n   * Filters an array of drop effects using a HTML5 effectAllowed string.\r\n   */\r\n  function filterEffects(effects, effectAllowed) {\r\n    if (effectAllowed == 'all') return effects;\r\n    return effects.filter(function(effect) {\r\n      return effectAllowed.toLowerCase().indexOf(effect) != -1;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * For some features we need to maintain global state. This is done here, with these fields:\r\n   * - callback: A callback function set at dragstart that is passed to internal dropzone handlers.\r\n   * - dropEffect: Set in dragstart to \"none\" and to the actual value in the drop handler. We don't\r\n   *   rely on the dropEffect passed by the browser, since there are various bugs in Chrome and\r\n   *   Safari, and Internet Explorer defaults to copy if effectAllowed is copyMove.\r\n   * - effectAllowed: Set in dragstart based on dnd-effect-allowed. This is needed for IE because\r\n   *   setting effectAllowed on dataTransfer might result in an undesired cursor.\r\n   * - isDragging: True between dragstart and dragend. Falsy for drops from external sources.\r\n   * - itemType: The item type of the dragged element set via dnd-type. This is needed because IE\r\n   *   and Edge don't support custom mime types that we can use to transfer this information.\r\n   */\r\n  var dndState = {};\r\n\r\n})(angular.module('dndLists', []));","/**\r\n * @license MIT\r\n */\r\n(function(window, document, undefined) {'use strict';\r\n  // ie10+\r\n  var ie10plus = window.navigator.msPointerEnabled;\r\n  /**\r\n   * Flow.js is a library providing multiple simultaneous, stable and\r\n   * resumable uploads via the HTML5 File API.\r\n   * @param [opts]\r\n   * @param {number} [opts.chunkSize]\r\n   * @param {bool} [opts.forceChunkSize]\r\n   * @param {number} [opts.simultaneousUploads]\r\n   * @param {bool} [opts.singleFile]\r\n   * @param {string} [opts.fileParameterName]\r\n   * @param {number} [opts.progressCallbacksInterval]\r\n   * @param {number} [opts.speedSmoothingFactor]\r\n   * @param {Object|Function} [opts.query]\r\n   * @param {Object|Function} [opts.headers]\r\n   * @param {bool} [opts.withCredentials]\r\n   * @param {Function} [opts.preprocess]\r\n   * @param {string} [opts.method]\r\n   * @param {string|Function} [opts.testMethod]\r\n   * @param {string|Function} [opts.uploadMethod]\r\n   * @param {bool} [opts.prioritizeFirstAndLastChunk]\r\n   * @param {bool} [opts.allowDuplicateUploads]\r\n   * @param {string|Function} [opts.target]\r\n   * @param {number} [opts.maxChunkRetries]\r\n   * @param {number} [opts.chunkRetryInterval]\r\n   * @param {Array.<number>} [opts.permanentErrors]\r\n   * @param {Array.<number>} [opts.successStatuses]\r\n   * @param {Function} [opts.initFileFn]\r\n   * @param {Function} [opts.readFileFn]\r\n   * @param {Function} [opts.generateUniqueIdentifier]\r\n   * @constructor\r\n   */\r\n  function Flow(opts) {\r\n    /**\r\n     * Supported by browser?\r\n     * @type {boolean}\r\n     */\r\n    this.support = (\r\n        typeof File !== 'undefined' &&\r\n        typeof Blob !== 'undefined' &&\r\n        typeof FileList !== 'undefined' &&\r\n        (\r\n          !!Blob.prototype.slice || !!Blob.prototype.webkitSlice || !!Blob.prototype.mozSlice ||\r\n          false\r\n        ) // slicing files support\r\n    );\r\n\r\n    if (!this.support) {\r\n      return ;\r\n    }\r\n\r\n    /**\r\n     * Check if directory upload is supported\r\n     * @type {boolean}\r\n     */\r\n    this.supportDirectory = /Chrome/.test(window.navigator.userAgent);\r\n\r\n    /**\r\n     * List of FlowFile objects\r\n     * @type {Array.<FlowFile>}\r\n     */\r\n    this.files = [];\r\n\r\n    /**\r\n     * Default options for flow.js\r\n     * @type {Object}\r\n     */\r\n    this.defaults = {\r\n      chunkSize: 1024 * 1024,\r\n      forceChunkSize: false,\r\n      simultaneousUploads: 3,\r\n      singleFile: false,\r\n      fileParameterName: 'file',\r\n      progressCallbacksInterval: 500,\r\n      speedSmoothingFactor: 0.1,\r\n      query: {},\r\n      headers: {},\r\n      withCredentials: false,\r\n      preprocess: null,\r\n      method: 'multipart',\r\n      testMethod: 'GET',\r\n      uploadMethod: 'POST',\r\n      prioritizeFirstAndLastChunk: false,\r\n      allowDuplicateUploads: false,\r\n      target: '/',\r\n      testChunks: true,\r\n      generateUniqueIdentifier: null,\r\n      maxChunkRetries: 0,\r\n      chunkRetryInterval: null,\r\n      permanentErrors: [404, 413, 415, 500, 501],\r\n      successStatuses: [200, 201, 202],\r\n      onDropStopPropagation: false,\r\n      initFileFn: null,\r\n      readFileFn: webAPIFileRead\r\n    };\r\n    \r\n    /**\r\n     * Current options\r\n     * @type {Object}\r\n     */\r\n    this.opts = {};\r\n\r\n    /**\r\n     * List of events:\r\n     *  key stands for event name\r\n     *  value array list of callbacks\r\n     * @type {}\r\n     */\r\n    this.events = {};\r\n\r\n    var $ = this;\r\n\r\n    /**\r\n     * On drop event\r\n     * @function\r\n     * @param {MouseEvent} event\r\n     */\r\n    this.onDrop = function (event) {\r\n      if ($.opts.onDropStopPropagation) {\r\n        event.stopPropagation();\r\n      }\r\n      event.preventDefault();\r\n      var dataTransfer = event.dataTransfer;\r\n      if (dataTransfer.items && dataTransfer.items[0] &&\r\n        dataTransfer.items[0].webkitGetAsEntry) {\r\n        $.webkitReadDataTransfer(event);\r\n      } else {\r\n        $.addFiles(dataTransfer.files, event);\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Prevent default\r\n     * @function\r\n     * @param {MouseEvent} event\r\n     */\r\n    this.preventEvent = function (event) {\r\n      event.preventDefault();\r\n    };\r\n\r\n\r\n    /**\r\n     * Current options\r\n     * @type {Object}\r\n     */\r\n    this.opts = Flow.extend({}, this.defaults, opts || {});\r\n\r\n  }\r\n\r\n  Flow.prototype = {\r\n    /**\r\n     * Set a callback for an event, possible events:\r\n     * fileSuccess(file), fileProgress(file), fileAdded(file, event),\r\n     * fileRemoved(file), fileRetry(file), fileError(file, message), \r\n     * complete(), progress(), error(message, file), pause()\r\n     * @function\r\n     * @param {string} event\r\n     * @param {Function} callback\r\n     */\r\n    on: function (event, callback) {\r\n      event = event.toLowerCase();\r\n      if (!this.events.hasOwnProperty(event)) {\r\n        this.events[event] = [];\r\n      }\r\n      this.events[event].push(callback);\r\n    },\r\n\r\n    /**\r\n     * Remove event callback\r\n     * @function\r\n     * @param {string} [event] removes all events if not specified\r\n     * @param {Function} [fn] removes all callbacks of event if not specified\r\n     */\r\n    off: function (event, fn) {\r\n      if (event !== undefined) {\r\n        event = event.toLowerCase();\r\n        if (fn !== undefined) {\r\n          if (this.events.hasOwnProperty(event)) {\r\n            arrayRemove(this.events[event], fn);\r\n          }\r\n        } else {\r\n          delete this.events[event];\r\n        }\r\n      } else {\r\n        this.events = {};\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Fire an event\r\n     * @function\r\n     * @param {string} event event name\r\n     * @param {...} args arguments of a callback\r\n     * @return {bool} value is false if at least one of the event handlers which handled this event\r\n     * returned false. Otherwise it returns true.\r\n     */\r\n    fire: function (event, args) {\r\n      // `arguments` is an object, not array, in FF, so:\r\n      args = Array.prototype.slice.call(arguments);\r\n      event = event.toLowerCase();\r\n      var preventDefault = false;\r\n      if (this.events.hasOwnProperty(event)) {\r\n        each(this.events[event], function (callback) {\r\n          preventDefault = callback.apply(this, args.slice(1)) === false || preventDefault;\r\n        }, this);\r\n      }\r\n      if (event != 'catchall') {\r\n        args.unshift('catchAll');\r\n        preventDefault = this.fire.apply(this, args) === false || preventDefault;\r\n      }\r\n      return !preventDefault;\r\n    },\r\n\r\n    /**\r\n     * Read webkit dataTransfer object\r\n     * @param event\r\n     */\r\n    webkitReadDataTransfer: function (event) {\r\n      var $ = this;\r\n      var queue = event.dataTransfer.items.length;\r\n      var files = [];\r\n      each(event.dataTransfer.items, function (item) {\r\n        var entry = item.webkitGetAsEntry();\r\n        if (!entry) {\r\n          decrement();\r\n          return ;\r\n        }\r\n        if (entry.isFile) {\r\n          // due to a bug in Chrome's File System API impl - #149735\r\n          fileReadSuccess(item.getAsFile(), entry.fullPath);\r\n        } else {\r\n          readDirectory(entry.createReader());\r\n        }\r\n      });\r\n      function readDirectory(reader) {\r\n        reader.readEntries(function (entries) {\r\n          if (entries.length) {\r\n            queue += entries.length;\r\n            each(entries, function(entry) {\r\n              if (entry.isFile) {\r\n                var fullPath = entry.fullPath;\r\n                entry.file(function (file) {\r\n                  fileReadSuccess(file, fullPath);\r\n                }, readError);\r\n              } else if (entry.isDirectory) {\r\n                readDirectory(entry.createReader());\r\n              }\r\n            });\r\n            readDirectory(reader);\r\n          } else {\r\n            decrement();\r\n          }\r\n        }, readError);\r\n      }\r\n      function fileReadSuccess(file, fullPath) {\r\n        // relative path should not start with \"/\"\r\n        file.relativePath = fullPath.substring(1);\r\n        files.push(file);\r\n        decrement();\r\n      }\r\n      function readError(fileError) {\r\n        throw fileError;\r\n      }\r\n      function decrement() {\r\n        if (--queue == 0) {\r\n          $.addFiles(files, event);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Generate unique identifier for a file\r\n     * @function\r\n     * @param {FlowFile} file\r\n     * @returns {string}\r\n     */\r\n    generateUniqueIdentifier: function (file) {\r\n      var custom = this.opts.generateUniqueIdentifier;\r\n      if (typeof custom === 'function') {\r\n        return custom(file);\r\n      }\r\n      // Some confusion in different versions of Firefox\r\n      var relativePath = file.relativePath || file.webkitRelativePath || file.fileName || file.name;\r\n      return file.size + '-' + relativePath.replace(/[^0-9a-zA-Z_-]/img, '');\r\n    },\r\n\r\n    /**\r\n     * Upload next chunk from the queue\r\n     * @function\r\n     * @returns {boolean}\r\n     * @private\r\n     */\r\n    uploadNextChunk: function (preventEvents) {\r\n      // In some cases (such as videos) it's really handy to upload the first\r\n      // and last chunk of a file quickly; this let's the server check the file's\r\n      // metadata and determine if there's even a point in continuing.\r\n      var found = false;\r\n      if (this.opts.prioritizeFirstAndLastChunk) {\r\n        each(this.files, function (file) {\r\n          if (!file.paused && file.chunks.length &&\r\n            file.chunks[0].status() === 'pending') {\r\n            file.chunks[0].send();\r\n            found = true;\r\n            return false;\r\n          }\r\n          if (!file.paused && file.chunks.length > 1 &&\r\n            file.chunks[file.chunks.length - 1].status() === 'pending') {\r\n            file.chunks[file.chunks.length - 1].send();\r\n            found = true;\r\n            return false;\r\n          }\r\n        });\r\n        if (found) {\r\n          return found;\r\n        }\r\n      }\r\n\r\n      // Now, simply look for the next, best thing to upload\r\n      each(this.files, function (file) {\r\n        if (!file.paused) {\r\n          each(file.chunks, function (chunk) {\r\n            if (chunk.status() === 'pending') {\r\n              chunk.send();\r\n              found = true;\r\n              return false;\r\n            }\r\n          });\r\n        }\r\n        if (found) {\r\n          return false;\r\n        }\r\n      });\r\n      if (found) {\r\n        return true;\r\n      }\r\n\r\n      // The are no more outstanding chunks to upload, check is everything is done\r\n      var outstanding = false;\r\n      each(this.files, function (file) {\r\n        if (!file.isComplete()) {\r\n          outstanding = true;\r\n          return false;\r\n        }\r\n      });\r\n      if (!outstanding && !preventEvents) {\r\n        // All chunks have been uploaded, complete\r\n        async(function () {\r\n          this.fire('complete');\r\n        }, this);\r\n      }\r\n      return false;\r\n    },\r\n\r\n\r\n    /**\r\n     * Assign a browse action to one or more DOM nodes.\r\n     * @function\r\n     * @param {Element|Array.<Element>} domNodes\r\n     * @param {boolean} isDirectory Pass in true to allow directories to\r\n     * @param {boolean} singleFile prevent multi file upload\r\n     * @param {Object} attributes set custom attributes:\r\n     *  http://www.w3.org/TR/html-markup/input.file.html#input.file-attributes\r\n     *  eg: accept: 'image/*'\r\n     * be selected (Chrome only).\r\n     */\r\n    assignBrowse: function (domNodes, isDirectory, singleFile, attributes) {\r\n      if (domNodes instanceof Element) {\r\n        domNodes = [domNodes];\r\n      }\r\n\r\n      each(domNodes, function (domNode) {\r\n        var input;\r\n        if (domNode.tagName === 'INPUT' && domNode.type === 'file') {\r\n          input = domNode;\r\n        } else {\r\n          input = document.createElement('input');\r\n          input.setAttribute('type', 'file');\r\n          // display:none - not working in opera 12\r\n          extend(input.style, {\r\n            visibility: 'hidden',\r\n            position: 'absolute',\r\n            width: '1px',\r\n            height: '1px'\r\n          });\r\n          // for opera 12 browser, input must be assigned to a document\r\n          domNode.appendChild(input);\r\n          // https://developer.mozilla.org/en/using_files_from_web_applications)\r\n          // event listener is executed two times\r\n          // first one - original mouse click event\r\n          // second - input.click(), input is inside domNode\r\n          domNode.addEventListener('click', function() {\r\n            input.click();\r\n          }, false);\r\n        }\r\n        if (!this.opts.singleFile && !singleFile) {\r\n          input.setAttribute('multiple', 'multiple');\r\n        }\r\n        if (isDirectory) {\r\n          input.setAttribute('webkitdirectory', 'webkitdirectory');\r\n        }\r\n        each(attributes, function (value, key) {\r\n          input.setAttribute(key, value);\r\n        });\r\n        // When new files are added, simply append them to the overall list\r\n        var $ = this;\r\n        input.addEventListener('change', function (e) {\r\n       \t  if (e.target.value) {\r\n            $.addFiles(e.target.files, e);\r\n            e.target.value = '';\r\n       \t  }\r\n        }, false);\r\n      }, this);\r\n    },\r\n\r\n    /**\r\n     * Assign one or more DOM nodes as a drop target.\r\n     * @function\r\n     * @param {Element|Array.<Element>} domNodes\r\n     */\r\n    assignDrop: function (domNodes) {\r\n      if (typeof domNodes.length === 'undefined') {\r\n        domNodes = [domNodes];\r\n      }\r\n      each(domNodes, function (domNode) {\r\n        domNode.addEventListener('dragover', this.preventEvent, false);\r\n        domNode.addEventListener('dragenter', this.preventEvent, false);\r\n        domNode.addEventListener('drop', this.onDrop, false);\r\n      }, this);\r\n    },\r\n\r\n    /**\r\n     * Un-assign drop event from DOM nodes\r\n     * @function\r\n     * @param domNodes\r\n     */\r\n    unAssignDrop: function (domNodes) {\r\n      if (typeof domNodes.length === 'undefined') {\r\n        domNodes = [domNodes];\r\n      }\r\n      each(domNodes, function (domNode) {\r\n        domNode.removeEventListener('dragover', this.preventEvent);\r\n        domNode.removeEventListener('dragenter', this.preventEvent);\r\n        domNode.removeEventListener('drop', this.onDrop);\r\n      }, this);\r\n    },\r\n\r\n    /**\r\n     * Returns a boolean indicating whether or not the instance is currently\r\n     * uploading anything.\r\n     * @function\r\n     * @returns {boolean}\r\n     */\r\n    isUploading: function () {\r\n      var uploading = false;\r\n      each(this.files, function (file) {\r\n        if (file.isUploading()) {\r\n          uploading = true;\r\n          return false;\r\n        }\r\n      });\r\n      return uploading;\r\n    },\r\n\r\n    /**\r\n     * should upload next chunk\r\n     * @function\r\n     * @returns {boolean|number}\r\n     */\r\n    _shouldUploadNext: function () {\r\n      var num = 0;\r\n      var should = true;\r\n      var simultaneousUploads = this.opts.simultaneousUploads;\r\n      each(this.files, function (file) {\r\n        each(file.chunks, function(chunk) {\r\n          if (chunk.status() === 'uploading') {\r\n            num++;\r\n            if (num >= simultaneousUploads) {\r\n              should = false;\r\n              return false;\r\n            }\r\n          }\r\n        });\r\n      });\r\n      // if should is true then return uploading chunks's length\r\n      return should && num;\r\n    },\r\n\r\n    /**\r\n     * Start or resume uploading.\r\n     * @function\r\n     */\r\n    upload: function () {\r\n      // Make sure we don't start too many uploads at once\r\n      var ret = this._shouldUploadNext();\r\n      if (ret === false) {\r\n        return;\r\n      }\r\n      // Kick off the queue\r\n      this.fire('uploadStart');\r\n      var started = false;\r\n      for (var num = 1; num <= this.opts.simultaneousUploads - ret; num++) {\r\n        started = this.uploadNextChunk(true) || started;\r\n      }\r\n      if (!started) {\r\n        async(function () {\r\n          this.fire('complete');\r\n        }, this);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Resume uploading.\r\n     * @function\r\n     */\r\n    resume: function () {\r\n      each(this.files, function (file) {\r\n        file.resume();\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Pause uploading.\r\n     * @function\r\n     */\r\n    pause: function () {\r\n      each(this.files, function (file) {\r\n        file.pause();\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Cancel upload of all FlowFile objects and remove them from the list.\r\n     * @function\r\n     */\r\n    cancel: function () {\r\n      for (var i = this.files.length - 1; i >= 0; i--) {\r\n        this.files[i].cancel();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Returns a number between 0 and 1 indicating the current upload progress\r\n     * of all files.\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    progress: function () {\r\n      var totalDone = 0;\r\n      var totalSize = 0;\r\n      // Resume all chunks currently being uploaded\r\n      each(this.files, function (file) {\r\n        totalDone += file.progress() * file.size;\r\n        totalSize += file.size;\r\n      });\r\n      return totalSize > 0 ? totalDone / totalSize : 0;\r\n    },\r\n\r\n    /**\r\n     * Add a HTML5 File object to the list of files.\r\n     * @function\r\n     * @param {File} file\r\n     * @param {Event} [event] event is optional\r\n     */\r\n    addFile: function (file, event) {\r\n      this.addFiles([file], event);\r\n    },\r\n\r\n    /**\r\n     * Add a HTML5 File object to the list of files.\r\n     * @function\r\n     * @param {FileList|Array} fileList\r\n     * @param {Event} [event] event is optional\r\n     */\r\n    addFiles: function (fileList, event) {\r\n      var files = [];\r\n      each(fileList, function (file) {\r\n        // https://github.com/flowjs/flow.js/issues/55\r\n        if ((!ie10plus || ie10plus && file.size > 0) && !(file.size % 4096 === 0 && (file.name === '.' || file.fileName === '.')) &&\r\n          (this.opts.allowDuplicateUploads || !this.getFromUniqueIdentifier(this.generateUniqueIdentifier(file)))) {\r\n          var f = new FlowFile(this, file);\r\n          if (this.fire('fileAdded', f, event)) {\r\n            files.push(f);\r\n          }\r\n        }\r\n      }, this);\r\n      if (this.fire('filesAdded', files, event)) {\r\n        each(files, function (file) {\r\n          if (this.opts.singleFile && this.files.length > 0) {\r\n            this.removeFile(this.files[0]);\r\n          }\r\n          this.files.push(file);\r\n        }, this);\r\n        this.fire('filesSubmitted', files, event);\r\n      }\r\n    },\r\n\r\n\r\n    /**\r\n     * Cancel upload of a specific FlowFile object from the list.\r\n     * @function\r\n     * @param {FlowFile} file\r\n     */\r\n    removeFile: function (file) {\r\n      for (var i = this.files.length - 1; i >= 0; i--) {\r\n        if (this.files[i] === file) {\r\n          this.files.splice(i, 1);\r\n          file.abort();\r\n          this.fire('fileRemoved', file);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Look up a FlowFile object by its unique identifier.\r\n     * @function\r\n     * @param {string} uniqueIdentifier\r\n     * @returns {boolean|FlowFile} false if file was not found\r\n     */\r\n    getFromUniqueIdentifier: function (uniqueIdentifier) {\r\n      var ret = false;\r\n      each(this.files, function (file) {\r\n        if (file.uniqueIdentifier === uniqueIdentifier) {\r\n          ret = file;\r\n        }\r\n      });\r\n      return ret;\r\n    },\r\n\r\n    /**\r\n     * Returns the total size of all files in bytes.\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    getSize: function () {\r\n      var totalSize = 0;\r\n      each(this.files, function (file) {\r\n        totalSize += file.size;\r\n      });\r\n      return totalSize;\r\n    },\r\n\r\n    /**\r\n     * Returns the total size uploaded of all files in bytes.\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    sizeUploaded: function () {\r\n      var size = 0;\r\n      each(this.files, function (file) {\r\n        size += file.sizeUploaded();\r\n      });\r\n      return size;\r\n    },\r\n\r\n    /**\r\n     * Returns remaining time to upload all files in seconds. Accuracy is based on average speed.\r\n     * If speed is zero, time remaining will be equal to positive infinity `Number.POSITIVE_INFINITY`\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    timeRemaining: function () {\r\n      var sizeDelta = 0;\r\n      var averageSpeed = 0;\r\n      each(this.files, function (file) {\r\n        if (!file.paused && !file.error) {\r\n          sizeDelta += file.size - file.sizeUploaded();\r\n          averageSpeed += file.averageSpeed;\r\n        }\r\n      });\r\n      if (sizeDelta && !averageSpeed) {\r\n        return Number.POSITIVE_INFINITY;\r\n      }\r\n      if (!sizeDelta && !averageSpeed) {\r\n        return 0;\r\n      }\r\n      return Math.floor(sizeDelta / averageSpeed);\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n  /**\r\n   * FlowFile class\r\n   * @name FlowFile\r\n   * @param {Flow} flowObj\r\n   * @param {File} file\r\n   * @constructor\r\n   */\r\n  function FlowFile(flowObj, file) {\r\n\r\n    /**\r\n     * Reference to parent Flow instance\r\n     * @type {Flow}\r\n     */\r\n    this.flowObj = flowObj;\r\n    \r\n    /**\r\n     * Used to store the bytes read\r\n     * @type {Blob|string}\r\n     */\r\n    this.bytes = null;\r\n\r\n    /**\r\n     * Reference to file\r\n     * @type {File}\r\n     */\r\n    this.file = file;\r\n\r\n    /**\r\n     * File name. Some confusion in different versions of Firefox\r\n     * @type {string}\r\n     */\r\n    this.name = file.fileName || file.name;\r\n\r\n    /**\r\n     * File size\r\n     * @type {number}\r\n     */\r\n    this.size = file.size;\r\n\r\n    /**\r\n     * Relative file path\r\n     * @type {string}\r\n     */\r\n    this.relativePath = file.relativePath || file.webkitRelativePath || this.name;\r\n\r\n    /**\r\n     * File unique identifier\r\n     * @type {string}\r\n     */\r\n    this.uniqueIdentifier = flowObj.generateUniqueIdentifier(file);\r\n\r\n    /**\r\n     * List of chunks\r\n     * @type {Array.<FlowChunk>}\r\n     */\r\n    this.chunks = [];\r\n\r\n    /**\r\n     * Indicated if file is paused\r\n     * @type {boolean}\r\n     */\r\n    this.paused = false;\r\n\r\n    /**\r\n     * Indicated if file has encountered an error\r\n     * @type {boolean}\r\n     */\r\n    this.error = false;\r\n\r\n    /**\r\n     * Average upload speed\r\n     * @type {number}\r\n     */\r\n    this.averageSpeed = 0;\r\n\r\n    /**\r\n     * Current upload speed\r\n     * @type {number}\r\n     */\r\n    this.currentSpeed = 0;\r\n\r\n    /**\r\n     * Date then progress was called last time\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this._lastProgressCallback = Date.now();\r\n\r\n    /**\r\n     * Previously uploaded file size\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this._prevUploadedSize = 0;\r\n\r\n    /**\r\n     * Holds previous progress\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this._prevProgress = 0;\r\n\r\n    this.bootstrap();\r\n  }\r\n\r\n  FlowFile.prototype = {\r\n    /**\r\n     * Update speed parameters\r\n     * @link http://stackoverflow.com/questions/2779600/how-to-estimate-download-time-remaining-accurately\r\n     * @function\r\n     */\r\n    measureSpeed: function () {\r\n      var timeSpan = Date.now() - this._lastProgressCallback;\r\n      if (!timeSpan) {\r\n        return ;\r\n      }\r\n      var smoothingFactor = this.flowObj.opts.speedSmoothingFactor;\r\n      var uploaded = this.sizeUploaded();\r\n      // Prevent negative upload speed after file upload resume\r\n      this.currentSpeed = Math.max((uploaded - this._prevUploadedSize) / timeSpan * 1000, 0);\r\n      this.averageSpeed = smoothingFactor * this.currentSpeed + (1 - smoothingFactor) * this.averageSpeed;\r\n      this._prevUploadedSize = uploaded;\r\n    },\r\n\r\n    /**\r\n     * For internal usage only.\r\n     * Callback when something happens within the chunk.\r\n     * @function\r\n     * @param {FlowChunk} chunk\r\n     * @param {string} event can be 'progress', 'success', 'error' or 'retry'\r\n     * @param {string} [message]\r\n     */\r\n    chunkEvent: function (chunk, event, message) {\r\n      switch (event) {\r\n        case 'progress':\r\n          if (Date.now() - this._lastProgressCallback <\r\n            this.flowObj.opts.progressCallbacksInterval) {\r\n            break;\r\n          }\r\n          this.measureSpeed();\r\n          this.flowObj.fire('fileProgress', this, chunk);\r\n          this.flowObj.fire('progress');\r\n          this._lastProgressCallback = Date.now();\r\n          break;\r\n        case 'error':\r\n          this.error = true;\r\n          this.abort(true);\r\n          this.flowObj.fire('fileError', this, message, chunk);\r\n          this.flowObj.fire('error', message, this, chunk);\r\n          break;\r\n        case 'success':\r\n          if (this.error) {\r\n            return;\r\n          }\r\n          this.measureSpeed();\r\n          this.flowObj.fire('fileProgress', this, chunk);\r\n          this.flowObj.fire('progress');\r\n          this._lastProgressCallback = Date.now();\r\n          if (this.isComplete()) {\r\n            this.currentSpeed = 0;\r\n            this.averageSpeed = 0;\r\n            this.flowObj.fire('fileSuccess', this, message, chunk);\r\n          }\r\n          break;\r\n        case 'retry':\r\n          this.flowObj.fire('fileRetry', this, chunk);\r\n          break;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Pause file upload\r\n     * @function\r\n     */\r\n    pause: function() {\r\n      this.paused = true;\r\n      this.abort();\r\n    },\r\n\r\n    /**\r\n     * Resume file upload\r\n     * @function\r\n     */\r\n    resume: function() {\r\n      this.paused = false;\r\n      this.flowObj.upload();\r\n    },\r\n\r\n    /**\r\n     * Abort current upload\r\n     * @function\r\n     */\r\n    abort: function (reset) {\r\n      this.currentSpeed = 0;\r\n      this.averageSpeed = 0;\r\n      var chunks = this.chunks;\r\n      if (reset) {\r\n        this.chunks = [];\r\n      }\r\n      each(chunks, function (c) {\r\n        if (c.status() === 'uploading') {\r\n          c.abort();\r\n          this.flowObj.uploadNextChunk();\r\n        }\r\n      }, this);\r\n    },\r\n\r\n    /**\r\n     * Cancel current upload and remove from a list\r\n     * @function\r\n     */\r\n    cancel: function () {\r\n      this.flowObj.removeFile(this);\r\n    },\r\n\r\n    /**\r\n     * Retry aborted file upload\r\n     * @function\r\n     */\r\n    retry: function () {\r\n      this.bootstrap();\r\n      this.flowObj.upload();\r\n    },\r\n\r\n    /**\r\n     * Clear current chunks and slice file again\r\n     * @function\r\n     */\r\n    bootstrap: function () {\r\n      if (typeof this.flowObj.opts.initFileFn === \"function\") {\r\n        this.flowObj.opts.initFileFn(this);\r\n      }\r\n\r\n      this.abort(true);\r\n      this.error = false;\r\n      // Rebuild stack of chunks from file\r\n      this._prevProgress = 0;\r\n      var round = this.flowObj.opts.forceChunkSize ? Math.ceil : Math.floor;\r\n      var chunks = Math.max(\r\n        round(this.size / this.flowObj.opts.chunkSize), 1\r\n      );\r\n      for (var offset = 0; offset < chunks; offset++) {\r\n        this.chunks.push(\r\n          new FlowChunk(this.flowObj, this, offset)\r\n        );\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Get current upload progress status\r\n     * @function\r\n     * @returns {number} from 0 to 1\r\n     */\r\n    progress: function () {\r\n      if (this.error) {\r\n        return 1;\r\n      }\r\n      if (this.chunks.length === 1) {\r\n        this._prevProgress = Math.max(this._prevProgress, this.chunks[0].progress());\r\n        return this._prevProgress;\r\n      }\r\n      // Sum up progress across everything\r\n      var bytesLoaded = 0;\r\n      each(this.chunks, function (c) {\r\n        // get chunk progress relative to entire file\r\n        bytesLoaded += c.progress() * (c.endByte - c.startByte);\r\n      });\r\n      var percent = bytesLoaded / this.size;\r\n      // We don't want to lose percentages when an upload is paused\r\n      this._prevProgress = Math.max(this._prevProgress, percent > 0.9999 ? 1 : percent);\r\n      return this._prevProgress;\r\n    },\r\n\r\n    /**\r\n     * Indicates if file is being uploaded at the moment\r\n     * @function\r\n     * @returns {boolean}\r\n     */\r\n    isUploading: function () {\r\n      var uploading = false;\r\n      each(this.chunks, function (chunk) {\r\n        if (chunk.status() === 'uploading') {\r\n          uploading = true;\r\n          return false;\r\n        }\r\n      });\r\n      return uploading;\r\n    },\r\n\r\n    /**\r\n     * Indicates if file is has finished uploading and received a response\r\n     * @function\r\n     * @returns {boolean}\r\n     */\r\n    isComplete: function () {\r\n      var outstanding = false;\r\n      each(this.chunks, function (chunk) {\r\n        var status = chunk.status();\r\n        if (status === 'pending' || status === 'uploading' || status === 'reading' || chunk.preprocessState === 1 || chunk.readState === 1) {\r\n          outstanding = true;\r\n          return false;\r\n        }\r\n      });\r\n      return !outstanding;\r\n    },\r\n\r\n    /**\r\n     * Count total size uploaded\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    sizeUploaded: function () {\r\n      var size = 0;\r\n      each(this.chunks, function (chunk) {\r\n        size += chunk.sizeUploaded();\r\n      });\r\n      return size;\r\n    },\r\n\r\n    /**\r\n     * Returns remaining time to finish upload file in seconds. Accuracy is based on average speed.\r\n     * If speed is zero, time remaining will be equal to positive infinity `Number.POSITIVE_INFINITY`\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    timeRemaining: function () {\r\n      if (this.paused || this.error) {\r\n        return 0;\r\n      }\r\n      var delta = this.size - this.sizeUploaded();\r\n      if (delta && !this.averageSpeed) {\r\n        return Number.POSITIVE_INFINITY;\r\n      }\r\n      if (!delta && !this.averageSpeed) {\r\n        return 0;\r\n      }\r\n      return Math.floor(delta / this.averageSpeed);\r\n    },\r\n\r\n    /**\r\n     * Get file type\r\n     * @function\r\n     * @returns {string}\r\n     */\r\n    getType: function () {\r\n      return this.file.type && this.file.type.split('/')[1];\r\n    },\r\n\r\n    /**\r\n     * Get file extension\r\n     * @function\r\n     * @returns {string}\r\n     */\r\n    getExtension: function () {\r\n      return this.name.substr((~-this.name.lastIndexOf(\".\") >>> 0) + 2).toLowerCase();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Default read function using the webAPI\r\n   *\r\n   * @function webAPIFileRead(fileObj, startByte, endByte, fileType, chunk)\r\n   *\r\n   */\r\n  function webAPIFileRead(fileObj, startByte, endByte, fileType, chunk) {\r\n    var function_name = 'slice';\r\n\r\n    if (fileObj.file.slice)\r\n      function_name =  'slice';\r\n    else if (fileObj.file.mozSlice)\r\n      function_name = 'mozSlice';\r\n    else if (fileObj.file.webkitSlice)\r\n      function_name = 'webkitSlice';\r\n\r\n    chunk.readFinished(fileObj.file[function_name](startByte, endByte, fileType));\r\n  }\r\n\r\n\r\n  /**\r\n   * Class for storing a single chunk\r\n   * @name FlowChunk\r\n   * @param {Flow} flowObj\r\n   * @param {FlowFile} fileObj\r\n   * @param {number} offset\r\n   * @constructor\r\n   */\r\n  function FlowChunk(flowObj, fileObj, offset) {\r\n\r\n    /**\r\n     * Reference to parent flow object\r\n     * @type {Flow}\r\n     */\r\n    this.flowObj = flowObj;\r\n\r\n    /**\r\n     * Reference to parent FlowFile object\r\n     * @type {FlowFile}\r\n     */\r\n    this.fileObj = fileObj;\r\n\r\n    /**\r\n     * File offset\r\n     * @type {number}\r\n     */\r\n    this.offset = offset;\r\n\r\n    /**\r\n     * Indicates if chunk existence was checked on the server\r\n     * @type {boolean}\r\n     */\r\n    this.tested = false;\r\n\r\n    /**\r\n     * Number of retries performed\r\n     * @type {number}\r\n     */\r\n    this.retries = 0;\r\n\r\n    /**\r\n     * Pending retry\r\n     * @type {boolean}\r\n     */\r\n    this.pendingRetry = false;\r\n\r\n    /**\r\n     * Preprocess state\r\n     * @type {number} 0 = unprocessed, 1 = processing, 2 = finished\r\n     */\r\n    this.preprocessState = 0;\r\n\r\n    /**\r\n     * Read state\r\n     * @type {number} 0 = not read, 1 = reading, 2 = finished\r\n     */\r\n    this.readState = 0;\r\n\r\n\r\n    /**\r\n     * Bytes transferred from total request size\r\n     * @type {number}\r\n     */\r\n    this.loaded = 0;\r\n\r\n    /**\r\n     * Total request size\r\n     * @type {number}\r\n     */\r\n    this.total = 0;\r\n\r\n    /**\r\n     * Size of a chunk\r\n     * @type {number}\r\n     */\r\n    this.chunkSize = this.flowObj.opts.chunkSize;\r\n\r\n    /**\r\n     * Chunk start byte in a file\r\n     * @type {number}\r\n     */\r\n    this.startByte = this.offset * this.chunkSize;\r\n\r\n    /**\r\n      * Compute the endbyte in a file\r\n      *\r\n      */\r\n    this.computeEndByte = function() {\r\n      var endByte = Math.min(this.fileObj.size, (this.offset + 1) * this.chunkSize);\r\n      if (this.fileObj.size - endByte < this.chunkSize && !this.flowObj.opts.forceChunkSize) {\r\n        // The last chunk will be bigger than the chunk size,\r\n        // but less than 2 * this.chunkSize\r\n        endByte = this.fileObj.size;\r\n      }\r\n      return endByte;\r\n    }\r\n\r\n    /**\r\n     * Chunk end byte in a file\r\n     * @type {number}\r\n     */\r\n    this.endByte = this.computeEndByte();\r\n\r\n    /**\r\n     * XMLHttpRequest\r\n     * @type {XMLHttpRequest}\r\n     */\r\n    this.xhr = null;\r\n\r\n    var $ = this;\r\n\r\n    /**\r\n     * Send chunk event\r\n     * @param event\r\n     * @param {...} args arguments of a callback\r\n     */\r\n    this.event = function (event, args) {\r\n      args = Array.prototype.slice.call(arguments);\r\n      args.unshift($);\r\n      $.fileObj.chunkEvent.apply($.fileObj, args);\r\n    };\r\n    /**\r\n     * Catch progress event\r\n     * @param {ProgressEvent} event\r\n     */\r\n    this.progressHandler = function(event) {\r\n      if (event.lengthComputable) {\r\n        $.loaded = event.loaded ;\r\n        $.total = event.total;\r\n      }\r\n      $.event('progress', event);\r\n    };\r\n\r\n    /**\r\n     * Catch test event\r\n     * @param {Event} event\r\n     */\r\n    this.testHandler = function(event) {\r\n      var status = $.status(true);\r\n      if (status === 'error') {\r\n        $.event(status, $.message());\r\n        $.flowObj.uploadNextChunk();\r\n      } else if (status === 'success') {\r\n        $.tested = true;\r\n        $.event(status, $.message());\r\n        $.flowObj.uploadNextChunk();\r\n      } else if (!$.fileObj.paused) {\r\n        // Error might be caused by file pause method\r\n        // Chunks does not exist on the server side\r\n        $.tested = true;\r\n        $.send();\r\n      }\r\n    };\r\n\r\n    /**\r\n     * Upload has stopped\r\n     * @param {Event} event\r\n     */\r\n    this.doneHandler = function(event) {\r\n      var status = $.status();\r\n      if (status === 'success' || status === 'error') {\r\n        delete this.data;\r\n        $.event(status, $.message());\r\n        $.flowObj.uploadNextChunk();\r\n      } else {\r\n        $.event('retry', $.message());\r\n        $.pendingRetry = true;\r\n        $.abort();\r\n        $.retries++;\r\n        var retryInterval = $.flowObj.opts.chunkRetryInterval;\r\n        if (retryInterval !== null) {\r\n          setTimeout(function () {\r\n            $.send();\r\n          }, retryInterval);\r\n        } else {\r\n          $.send();\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  FlowChunk.prototype = {\r\n    /**\r\n     * Get params for a request\r\n     * @function\r\n     */\r\n    getParams: function () {\r\n      return {\r\n        flowChunkNumber: this.offset + 1,\r\n        flowChunkSize: this.flowObj.opts.chunkSize,\r\n        flowCurrentChunkSize: this.endByte - this.startByte,\r\n        flowTotalSize: this.fileObj.size,\r\n        flowIdentifier: this.fileObj.uniqueIdentifier,\r\n        flowFilename: this.fileObj.name,\r\n        flowRelativePath: this.fileObj.relativePath,\r\n        flowTotalChunks: this.fileObj.chunks.length\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Get target option with query params\r\n     * @function\r\n     * @param params\r\n     * @returns {string}\r\n     */\r\n    getTarget: function(target, params){\r\n      if(target.indexOf('?') < 0) {\r\n        target += '?';\r\n      } else {\r\n        target += '&';\r\n      }\r\n      return target + params.join('&');\r\n    },\r\n\r\n    /**\r\n     * Makes a GET request without any data to see if the chunk has already\r\n     * been uploaded in a previous session\r\n     * @function\r\n     */\r\n    test: function () {\r\n      // Set up request and listen for event\r\n      this.xhr = new XMLHttpRequest();\r\n      this.xhr.addEventListener(\"load\", this.testHandler, false);\r\n      this.xhr.addEventListener(\"error\", this.testHandler, false);\r\n      var testMethod = evalOpts(this.flowObj.opts.testMethod, this.fileObj, this);\r\n      var data = this.prepareXhrRequest(testMethod, true);\r\n      this.xhr.send(data);\r\n    },\r\n\r\n    /**\r\n     * Finish preprocess state\r\n     * @function\r\n     */\r\n    preprocessFinished: function () {\r\n      // Re-compute the endByte after the preprocess function to allow an\r\n      // implementer of preprocess to set the fileObj size\r\n      this.endByte = this.computeEndByte();\r\n\r\n      this.preprocessState = 2;\r\n      this.send();\r\n    },\r\n\r\n    /**\r\n     * Finish read state\r\n     * @function\r\n     */\r\n    readFinished: function (bytes) {\r\n      this.readState = 2;\r\n      this.bytes = bytes;\r\n      this.send();\r\n    },\r\n\r\n\r\n    /**\r\n     * Uploads the actual data in a POST call\r\n     * @function\r\n     */\r\n    send: function () {\r\n      var preprocess = this.flowObj.opts.preprocess;\r\n      var read = this.flowObj.opts.readFileFn;\r\n      if (typeof preprocess === 'function') {\r\n        switch (this.preprocessState) {\r\n          case 0:\r\n            this.preprocessState = 1;\r\n            preprocess(this);\r\n            return;\r\n          case 1:\r\n            return;\r\n        }\r\n      }\r\n      switch (this.readState) {\r\n        case 0:\r\n          this.readState = 1;\r\n          read(this.fileObj, this.startByte, this.endByte, this.fileObj.file.type, this);\r\n          return;\r\n        case 1:\r\n          return;\r\n      }\r\n      if (this.flowObj.opts.testChunks && !this.tested) {\r\n        this.test();\r\n        return;\r\n      }\r\n\r\n      this.loaded = 0;\r\n      this.total = 0;\r\n      this.pendingRetry = false;\r\n\r\n      // Set up request and listen for event\r\n      this.xhr = new XMLHttpRequest();\r\n      this.xhr.upload.addEventListener('progress', this.progressHandler, false);\r\n      this.xhr.addEventListener(\"load\", this.doneHandler, false);\r\n      this.xhr.addEventListener(\"error\", this.doneHandler, false);\r\n\r\n      var uploadMethod = evalOpts(this.flowObj.opts.uploadMethod, this.fileObj, this);\r\n      var data = this.prepareXhrRequest(uploadMethod, false, this.flowObj.opts.method, this.bytes);\r\n      this.xhr.send(data);\r\n    },\r\n\r\n    /**\r\n     * Abort current xhr request\r\n     * @function\r\n     */\r\n    abort: function () {\r\n      // Abort and reset\r\n      var xhr = this.xhr;\r\n      this.xhr = null;\r\n      if (xhr) {\r\n        xhr.abort();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Retrieve current chunk upload status\r\n     * @function\r\n     * @returns {string} 'pending', 'uploading', 'success', 'error'\r\n     */\r\n    status: function (isTest) {\r\n      if (this.readState === 1) {\r\n        return 'reading';\r\n      } else if (this.pendingRetry || this.preprocessState === 1) {\r\n        // if pending retry then that's effectively the same as actively uploading,\r\n        // there might just be a slight delay before the retry starts\r\n        return 'uploading';\r\n      } else if (!this.xhr) {\r\n        return 'pending';\r\n      } else if (this.xhr.readyState < 4) {\r\n        // Status is really 'OPENED', 'HEADERS_RECEIVED'\r\n        // or 'LOADING' - meaning that stuff is happening\r\n        return 'uploading';\r\n      } else {\r\n        if (this.flowObj.opts.successStatuses.indexOf(this.xhr.status) > -1) {\r\n          // HTTP 200, perfect\r\n\t\t      // HTTP 202 Accepted - The request has been accepted for processing, but the processing has not been completed.\r\n          return 'success';\r\n        } else if (this.flowObj.opts.permanentErrors.indexOf(this.xhr.status) > -1 ||\r\n            !isTest && this.retries >= this.flowObj.opts.maxChunkRetries) {\r\n          // HTTP 413/415/500/501, permanent error\r\n          return 'error';\r\n        } else {\r\n          // this should never happen, but we'll reset and queue a retry\r\n          // a likely case for this would be 503 service unavailable\r\n          this.abort();\r\n          return 'pending';\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Get response from xhr request\r\n     * @function\r\n     * @returns {String}\r\n     */\r\n    message: function () {\r\n      return this.xhr ? this.xhr.responseText : '';\r\n    },\r\n\r\n    /**\r\n     * Get upload progress\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    progress: function () {\r\n      if (this.pendingRetry) {\r\n        return 0;\r\n      }\r\n      var s = this.status();\r\n      if (s === 'success' || s === 'error') {\r\n        return 1;\r\n      } else if (s === 'pending') {\r\n        return 0;\r\n      } else {\r\n        return this.total > 0 ? this.loaded / this.total : 0;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Count total size uploaded\r\n     * @function\r\n     * @returns {number}\r\n     */\r\n    sizeUploaded: function () {\r\n      var size = this.endByte - this.startByte;\r\n      // can't return only chunk.loaded value, because it is bigger than chunk size\r\n      if (this.status() !== 'success') {\r\n        size = this.progress() * size;\r\n      }\r\n      return size;\r\n    },\r\n\r\n    /**\r\n     * Prepare Xhr request. Set query, headers and data\r\n     * @param {string} method GET or POST\r\n     * @param {bool} isTest is this a test request\r\n     * @param {string} [paramsMethod] octet or form\r\n     * @param {Blob} [blob] to send\r\n     * @returns {FormData|Blob|Null} data to send\r\n     */\r\n    prepareXhrRequest: function(method, isTest, paramsMethod, blob) {\r\n      // Add data from the query options\r\n      var query = evalOpts(this.flowObj.opts.query, this.fileObj, this, isTest);\r\n      query = extend(query, this.getParams());\r\n\r\n      var target = evalOpts(this.flowObj.opts.target, this.fileObj, this, isTest);\r\n      var data = null;\r\n      if (method === 'GET' || paramsMethod === 'octet') {\r\n        // Add data from the query options\r\n        var params = [];\r\n        each(query, function (v, k) {\r\n          params.push([encodeURIComponent(k), encodeURIComponent(v)].join('='));\r\n        });\r\n        target = this.getTarget(target, params);\r\n        data = blob || null;\r\n      } else {\r\n        // Add data from the query options\r\n        data = new FormData();\r\n        each(query, function (v, k) {\r\n          data.append(k, v);\r\n        });\r\n        data.append(this.flowObj.opts.fileParameterName, blob, this.fileObj.file.name);\r\n      }\r\n\r\n      this.xhr.open(method, target, true);\r\n      this.xhr.withCredentials = this.flowObj.opts.withCredentials;\r\n\r\n      // Add data from header options\r\n      each(evalOpts(this.flowObj.opts.headers, this.fileObj, this, isTest), function (v, k) {\r\n        this.xhr.setRequestHeader(k, v);\r\n      }, this);\r\n\r\n      return data;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Remove value from array\r\n   * @param array\r\n   * @param value\r\n   */\r\n  function arrayRemove(array, value) {\r\n    var index = array.indexOf(value);\r\n    if (index > -1) {\r\n      array.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * If option is a function, evaluate it with given params\r\n   * @param {*} data\r\n   * @param {...} args arguments of a callback\r\n   * @returns {*}\r\n   */\r\n  function evalOpts(data, args) {\r\n    if (typeof data === \"function\") {\r\n      // `arguments` is an object, not array, in FF, so:\r\n      args = Array.prototype.slice.call(arguments);\r\n      data = data.apply(null, args.slice(1));\r\n    }\r\n    return data;\r\n  }\r\n  Flow.evalOpts = evalOpts;\r\n\r\n  /**\r\n   * Execute function asynchronously\r\n   * @param fn\r\n   * @param context\r\n   */\r\n  function async(fn, context) {\r\n    setTimeout(fn.bind(context), 0);\r\n  }\r\n\r\n  /**\r\n   * Extends the destination object `dst` by copying all of the properties from\r\n   * the `src` object(s) to `dst`. You can specify multiple `src` objects.\r\n   * @function\r\n   * @param {Object} dst Destination object.\r\n   * @param {...Object} src Source object(s).\r\n   * @returns {Object} Reference to `dst`.\r\n   */\r\n  function extend(dst, src) {\r\n    each(arguments, function(obj) {\r\n      if (obj !== dst) {\r\n        each(obj, function(value, key){\r\n          dst[key] = value;\r\n        });\r\n      }\r\n    });\r\n    return dst;\r\n  }\r\n  Flow.extend = extend;\r\n\r\n  /**\r\n   * Iterate each element of an object\r\n   * @function\r\n   * @param {Array|Object} obj object or an array to iterate\r\n   * @param {Function} callback first argument is a value and second is a key.\r\n   * @param {Object=} context Object to become context (`this`) for the iterator function.\r\n   */\r\n  function each(obj, callback, context) {\r\n    if (!obj) {\r\n      return ;\r\n    }\r\n    var key;\r\n    // Is Array?\r\n    // Array.isArray won't work, not only arrays can be iterated by index https://github.com/flowjs/ng-flow/issues/236#\r\n    if (typeof(obj.length) !== 'undefined') {\r\n      for (key = 0; key < obj.length; key++) {\r\n        if (callback.call(context, obj[key], key) === false) {\r\n          return ;\r\n        }\r\n      }\r\n    } else {\r\n      for (key in obj) {\r\n        if (obj.hasOwnProperty(key) && callback.call(context, obj[key], key) === false) {\r\n          return ;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  Flow.each = each;\r\n\r\n  /**\r\n   * FlowFile constructor\r\n   * @type {FlowFile}\r\n   */\r\n  Flow.FlowFile = FlowFile;\r\n\r\n  /**\r\n   * FlowFile constructor\r\n   * @type {FlowChunk}\r\n   */\r\n  Flow.FlowChunk = FlowChunk;\r\n\r\n  /**\r\n   * Library version\r\n   * @type {string}\r\n   */\r\n  Flow.version = '2.11.2';\r\n\r\n  if ( typeof module === \"object\" && module && typeof module.exports === \"object\" ) {\r\n    // Expose Flow as module.exports in loaders that implement the Node\r\n    // module pattern (including browserify). Do not create the global, since\r\n    // the user will be storing it themselves locally, and globals are frowned\r\n    // upon in the Node module world.\r\n    module.exports = Flow;\r\n  } else {\r\n    // Otherwise expose Flow to the global object as usual\r\n    window.Flow = Flow;\r\n\r\n    // Register as a named AMD module, since Flow can be concatenated with other\r\n    // files that may use define, but not via a proper concatenation script that\r\n    // understands anonymous AMD modules. A named AMD is safest and most robust\r\n    // way to register. Lowercase flow is used because AMD module names are\r\n    // derived from file names, and Flow is normally delivered in a lowercase\r\n    // file name. Do this after creating the global so that if an AMD module wants\r\n    // to call noConflict to hide this version of Flow, it will work.\r\n    if ( typeof define === \"function\" && define.amd ) {\r\n      define( \"flow\", [], function () { return Flow; } );\r\n    }\r\n  }\r\n})(window, document);\r\n\r\n/**\r\n * @description\r\n * var app = angular.module('App', ['flow.provider'], function(flowFactoryProvider){\r\n *    flowFactoryProvider.defaults = {target: '/'};\r\n * });\r\n * @name flowFactoryProvider\r\n */\r\nangular.module('flow.provider', [])\r\n.provider('flowFactory', function() {\r\n  'use strict';\r\n  /**\r\n   * Define the default properties for flow.js\r\n   * @name flowFactoryProvider.defaults\r\n   * @type {Object}\r\n   */\r\n  this.defaults = {};\r\n\r\n  /**\r\n   * Flow, MaybeFlow or NotFlow\r\n   * @name flowFactoryProvider.factory\r\n   * @type {function}\r\n   * @return {Flow}\r\n   */\r\n  this.factory = function (options) {\r\n    return new Flow(options);\r\n  };\r\n\r\n  /**\r\n   * Define the default events\r\n   * @name flowFactoryProvider.events\r\n   * @type {Array}\r\n   * @private\r\n   */\r\n  this.events = [];\r\n\r\n  /**\r\n   * Add default events\r\n   * @name flowFactoryProvider.on\r\n   * @function\r\n   * @param {string} event\r\n   * @param {Function} callback\r\n   */\r\n  this.on = function (event, callback) {\r\n    this.events.push([event, callback]);\r\n  };\r\n\r\n  this.$get = function() {\r\n    var fn = this.factory;\r\n    var defaults = this.defaults;\r\n    var events = this.events;\r\n    return {\r\n      'create': function(opts) {\r\n        // combine default options with global options and options\r\n        var flow = fn(angular.extend({}, defaults, opts));\r\n        angular.forEach(events, function (event) {\r\n          flow.on(event[0], event[1]);\r\n        });\r\n        return flow;\r\n      }\r\n    };\r\n  };\r\n});\r\nangular.module('flow.init', ['flow.provider'])\r\n  .controller('flowCtrl', ['$scope', '$attrs', '$parse', 'flowFactory',\r\n  function ($scope, $attrs, $parse, flowFactory) {\r\n\r\n    var options = angular.extend({}, $scope.$eval($attrs.flowInit));\r\n\r\n    // use existing flow object or create a new one\r\n    var flow  = $scope.$eval($attrs.flowObject) || flowFactory.create(options);\r\n\r\n    var catchAllHandler = function(eventName){\r\n      var args = Array.prototype.slice.call(arguments);\r\n      args.shift();\r\n      var event = $scope.$broadcast.apply($scope, ['flow::' + eventName, flow].concat(args));\r\n      if ({\r\n        'progress':1, 'filesSubmitted':1, 'fileSuccess': 1, 'fileError': 1, 'complete': 1\r\n      }[eventName]) {\r\n        $scope.$apply();\r\n      }\r\n      if (event.defaultPrevented) {\r\n        return false;\r\n      }\r\n    };\r\n\r\n    flow.on('catchAll', catchAllHandler);\r\n    $scope.$on('$destroy', function(){\r\n        flow.off('catchAll', catchAllHandler);\r\n    });\r\n\r\n    $scope.$flow = flow;\r\n\r\n    if ($attrs.hasOwnProperty('flowName')) {\r\n      $parse($attrs.flowName).assign($scope, flow);\r\n      $scope.$on('$destroy', function () {\r\n        $parse($attrs.flowName).assign($scope);\r\n      });\r\n    }\r\n  }])\r\n  .directive('flowInit', [function() {\r\n    return {\r\n      scope: true,\r\n      controller: 'flowCtrl'\r\n    };\r\n  }]);\r\nangular.module('flow.btn', ['flow.init'])\r\n.directive('flowBtn', [function() {\r\n  return {\r\n    'restrict': 'EA',\r\n    'scope': false,\r\n    'require': '^flowInit',\r\n    'link': function(scope, element, attrs) {\r\n      var isDirectory = attrs.hasOwnProperty('flowDirectory');\r\n      var isSingleFile = attrs.hasOwnProperty('flowSingleFile');\r\n      var inputAttrs = attrs.hasOwnProperty('flowAttrs') && scope.$eval(attrs.flowAttrs);\r\n      scope.$flow.assignBrowse(element, isDirectory, isSingleFile, inputAttrs);\r\n    }\r\n  };\r\n}]);\r\nangular.module('flow.dragEvents', ['flow.init'])\r\n/**\r\n * @name flowPreventDrop\r\n * Prevent loading files then dropped on element\r\n */\r\n  .directive('flowPreventDrop', function() {\r\n    return {\r\n      'scope': false,\r\n      'link': function(scope, element, attrs) {\r\n        element.bind('drop dragover', function (event) {\r\n          event.preventDefault();\r\n        });\r\n      }\r\n    };\r\n  })\r\n/**\r\n * @name flowDragEnter\r\n * executes `flowDragEnter` and `flowDragLeave` events\r\n */\r\n  .directive('flowDragEnter', ['$timeout', function($timeout) {\r\n    return {\r\n      'scope': false,\r\n      'link': function(scope, element, attrs) {\r\n        var promise;\r\n        var enter = false;\r\n        element.bind('dragover', function (event) {\r\n          if (!isFileDrag(event)) {\r\n            return ;\r\n          }\r\n          if (!enter) {\r\n            scope.$apply(attrs.flowDragEnter);\r\n            enter = true;\r\n          }\r\n          $timeout.cancel(promise);\r\n          event.preventDefault();\r\n        });\r\n        element.bind('dragleave drop', function (event) {\r\n          $timeout.cancel(promise);\r\n          promise = $timeout(function () {\r\n            scope.$eval(attrs.flowDragLeave);\r\n            promise = null;\r\n            enter = false;\r\n          }, 100);\r\n        });\r\n        function isFileDrag(dragEvent) {\r\n          var fileDrag = false;\r\n          var dataTransfer = dragEvent.dataTransfer || dragEvent.originalEvent.dataTransfer;\r\n          angular.forEach(dataTransfer && dataTransfer.types, function(val) {\r\n            if (val === 'Files') {\r\n              fileDrag = true;\r\n            }\r\n          });\r\n          return fileDrag;\r\n        }\r\n      }\r\n    };\r\n  }]);\r\n\r\nangular.module('flow.drop', ['flow.init'])\r\n.directive('flowDrop', function() {\r\n  return {\r\n    'scope': false,\r\n    'require': '^flowInit',\r\n    'link': function(scope, element, attrs) {\r\n      if (attrs.flowDropEnabled) {\r\n        scope.$watch(attrs.flowDropEnabled, function (value) {\r\n          if (value) {\r\n            assignDrop();\r\n          } else {\r\n            unAssignDrop();\r\n          }\r\n        });\r\n      } else {\r\n        assignDrop();\r\n      }\r\n      function assignDrop() {\r\n        scope.$flow.assignDrop(element);\r\n      }\r\n      function unAssignDrop() {\r\n        scope.$flow.unAssignDrop(element);\r\n      }\r\n    }\r\n  };\r\n});\r\n\r\n!function (angular) {'use strict';\r\n  var module = angular.module('flow.events', ['flow.init']);\r\n  var events = {\r\n    fileSuccess: ['$file', '$message'],\r\n    fileProgress: ['$file'],\r\n    fileAdded: ['$file', '$event'],\r\n    filesAdded: ['$files', '$event'],\r\n    filesSubmitted: ['$files', '$event'],\r\n    fileRetry: ['$file'],\r\n    fileError: ['$file', '$message'],\r\n    uploadStart: [],\r\n    complete: [],\r\n    progress: [],\r\n    error: ['$message', '$file']\r\n  };\r\n\r\n  angular.forEach(events, function (eventArgs, eventName) {\r\n    var name = 'flow' + capitaliseFirstLetter(eventName);\r\n    if (name == 'flowUploadStart') {\r\n      name = 'flowUploadStarted';// event alias\r\n    }\r\n    module.directive(name, [function() {\r\n      return {\r\n        require: '^flowInit',\r\n        controller: ['$scope', '$attrs', function ($scope, $attrs) {\r\n          $scope.$on('flow::' + eventName, function () {\r\n            var funcArgs = Array.prototype.slice.call(arguments);\r\n            var event = funcArgs.shift();// remove angular event\r\n            // remove flow object and ignore event if it is from parent directive\r\n            if ($scope.$flow !== funcArgs.shift()) {\r\n              return ;\r\n            }\r\n            var args = {};\r\n            angular.forEach(eventArgs, function(value, key) {\r\n              args[value] = funcArgs[key];\r\n            });\r\n            if ($scope.$eval($attrs[name], args) === false) {\r\n              event.preventDefault();\r\n            }\r\n          });\r\n        }]\r\n      };\r\n    }]);\r\n  });\r\n\r\n  function capitaliseFirstLetter(string) {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  }\r\n}(angular);\r\nangular.module('flow.img', ['flow.init'])\r\n.directive('flowImg', [function() {\r\n  return {\r\n    'scope': false,\r\n    'require': '^flowInit',\r\n    'link': function(scope, element, attrs) {\r\n      var file = attrs.flowImg;\r\n      scope.$watch(file, function (file) {\r\n        if (!file) {\r\n          return ;\r\n        }\r\n        var fileReader = new FileReader();\r\n        fileReader.readAsDataURL(file.file);\r\n        fileReader.onload = function (event) {\r\n          scope.$apply(function () {\r\n            attrs.$set('src', event.target.result);\r\n          });\r\n        };\r\n      });\r\n    }\r\n  };\r\n}]);\r\nangular.module('flow.transfers', ['flow.init'])\r\n.directive('flowTransfers', [function() {\r\n  return {\r\n    'scope': true,\r\n    'require': '^flowInit',\r\n    'link': function(scope) {\r\n      scope.transfers = scope.$flow.files;\r\n    }\r\n  };\r\n}]);\r\nangular.module('flow', ['flow.provider', 'flow.init', 'flow.events', 'flow.btn',\r\n  'flow.drop', 'flow.transfers', 'flow.img', 'flow.dragEvents']);","angular.module('angularResizable', [])\r\n    .directive('resizable', function() {\r\n        var toCall;\r\n        function throttle(fun) {\r\n            if (toCall === undefined) {\r\n                toCall = fun;\r\n                setTimeout(function() {\r\n                    toCall();\r\n                    toCall = undefined;\r\n                }, 100);\r\n            } else {\r\n                toCall = fun;\r\n            }\r\n        }\r\n        return {\r\n            restrict: 'AE',\r\n            scope: {\r\n                rDirections: '=',\r\n                rCenteredX: '=',\r\n                rCenteredY: '=',\r\n                rWidth: '=',\r\n                rHeight: '=',\r\n                rFlex: '=',\r\n                rGrabber: '@',\r\n                rDisabled: '@',\r\n                rNoThrottle: '='\r\n            },\r\n            link: function(scope, element, attr) {\r\n                var flexBasis = 'flexBasis' in document.documentElement.style ? 'flexBasis' :\r\n                    'webkitFlexBasis' in document.documentElement.style ? 'webkitFlexBasis' :\r\n                    'msFlexPreferredSize' in document.documentElement.style ? 'msFlexPreferredSize' : 'flexBasis';\r\n\r\n                // register watchers on width and height attributes if they are set\r\n                scope.$watch('rWidth', function(value){\r\n                    element[0].style[scope.rFlex ? flexBasis : 'width'] = scope.rWidth + 'px';\r\n                });\r\n                scope.$watch('rHeight', function(value){\r\n                    element[0].style[scope.rFlex ? flexBasis : 'height'] = scope.rHeight + 'px';\r\n                });\r\n\r\n                element.addClass('resizable');\r\n\r\n                var style = window.getComputedStyle(element[0], null),\r\n                    w,\r\n                    h,\r\n                    dir = scope.rDirections || ['right'],\r\n                    vx = scope.rCenteredX ? 2 : 1, // if centered double velocity\r\n                    vy = scope.rCenteredY ? 2 : 1, // if centered double velocity\r\n                    inner = scope.rGrabber ? scope.rGrabber : '<span></span>',\r\n                    start,\r\n                    dragDir,\r\n                    axis,\r\n                    info = {};\r\n\r\n                var updateInfo = function(e) {\r\n                    info.width = false; info.height = false;\r\n                    if(axis === 'x')\r\n                        info.width = parseInt(element[0].style[scope.rFlex ? flexBasis : 'width']);\r\n                    else\r\n                        info.height = parseInt(element[0].style[scope.rFlex ? flexBasis : 'height']);\r\n                    info.id = element[0].id;\r\n                    info.evt = e;\r\n                };\r\n\r\n                var getClientX = function(e) {\r\n                    return e.touches ? e.touches[0].clientX : e.clientX;\r\n                };\r\n\r\n                var getClientY = function(e) {\r\n                    return e.touches ? e.touches[0].clientY : e.clientY;\r\n                };\r\n\r\n                var dragging = function(e) {\r\n                    var prop, offset = axis === 'x' ? start - getClientX(e) : start - getClientY(e);\r\n                    switch(dragDir) {\r\n                        case 'top':\r\n                            prop = scope.rFlex ? flexBasis : 'height';\r\n                            element[0].style[prop] = h + (offset * vy) + 'px';\r\n                            break;\r\n                        case 'bottom':\r\n                            prop = scope.rFlex ? flexBasis : 'height';\r\n                            element[0].style[prop] = h - (offset * vy) + 'px';\r\n                            break;\r\n                        case 'right':\r\n                            prop = scope.rFlex ? flexBasis : 'width';\r\n                            element[0].style[prop] = w - (offset * vx) + 'px';\r\n                            break;\r\n                        case 'left':\r\n                            prop = scope.rFlex ? flexBasis : 'width';\r\n                            element[0].style[prop] = w + (offset * vx) + 'px';\r\n                            break;\r\n                    }\r\n                    updateInfo(e);\r\n                    function resizingEmit(){\r\n                        scope.$emit('angular-resizable.resizing', info);\r\n                    }\r\n                    if (scope.rNoThrottle) {\r\n                        resizingEmit();\r\n                    } else {\r\n                        throttle(resizingEmit);\r\n                    }\r\n                };\r\n                var dragEnd = function(e) {\r\n                    updateInfo();\r\n                    scope.$emit('angular-resizable.resizeEnd', info);\r\n                    scope.$apply();\r\n                    document.removeEventListener('mouseup', dragEnd, false);\r\n                    document.removeEventListener('mousemove', dragging, false);\r\n                    document.removeEventListener('touchend', dragEnd, false);\r\n                    document.removeEventListener('touchmove', dragging, false);\r\n                    element.removeClass('no-transition');\r\n                };\r\n                var dragStart = function(e, direction) {\r\n                    dragDir = direction;\r\n                    axis = dragDir === 'left' || dragDir === 'right' ? 'x' : 'y';\r\n                    start = axis === 'x' ? getClientX(e) : getClientY(e);\r\n                    w = parseInt(style.getPropertyValue('width'));\r\n                    h = parseInt(style.getPropertyValue('height'));\r\n\r\n                    //prevent transition while dragging\r\n                    element.addClass('no-transition');\r\n\r\n                    document.addEventListener('mouseup', dragEnd, false);\r\n                    document.addEventListener('mousemove', dragging, false);\r\n                    document.addEventListener('touchend', dragEnd, false);\r\n                    document.addEventListener('touchmove', dragging, false);\r\n\r\n                    // Disable highlighting while dragging\r\n                    if(e.stopPropagation) e.stopPropagation();\r\n                    if(e.preventDefault) e.preventDefault();\r\n                    e.cancelBubble = true;\r\n                    e.returnValue = false;\r\n\r\n                    updateInfo(e);\r\n                    scope.$emit('angular-resizable.resizeStart', info);\r\n                    scope.$apply();\r\n                };\r\n\r\n                dir.forEach(function (direction) {\r\n                    var grabber = document.createElement('div');\r\n\r\n                    // add class for styling purposes\r\n                    grabber.setAttribute('class', 'rg-' + direction);\r\n                    grabber.innerHTML = inner;\r\n                    element[0].appendChild(grabber);\r\n                    grabber.ondragstart = function() { return false; };\r\n\r\n                    var down = function(e) {\r\n                        var disabled = (scope.rDisabled === 'true');\r\n                        if (!disabled && (e.which === 1 || e.touches)) {\r\n                            // left mouse click or touch screen\r\n                            dragStart(e, direction);\r\n                        }\r\n                    };\r\n                    grabber.addEventListener('mousedown', down, false);\r\n                    grabber.addEventListener('touchstart', down, false);\r\n                });\r\n            }\r\n        };\r\n    });","/*!\r\n * ngTagsInput v3.1.1\r\n * http://mbenford.github.io/ngTagsInput\r\n *\r\n * Copyright (c) 2013-2016 Michael Benford\r\n * License: MIT\r\n *\r\n * Generated at 2016-05-27 12:28:31 -0300\r\n */\r\n(function() {\r\n'use strict';\r\n\r\nvar KEYS = {\r\n    backspace: 8,\r\n    tab: 9,\r\n    enter: 13,\r\n    escape: 27,\r\n    space: 32,\r\n    up: 38,\r\n    down: 40,\r\n    left: 37,\r\n    right: 39,\r\n    delete: 46,\r\n    comma: 188\r\n};\r\n\r\nvar MAX_SAFE_INTEGER = 9007199254740991;\r\nvar SUPPORTED_INPUT_TYPES = ['text', 'email', 'url'];\r\n\r\nvar tagsInput = angular.module('ngTagsInput', []);\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name tagsInput\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Renders an input box with tag editing support.\r\n *\r\n * @param {string} ngModel Assignable Angular expression to data-bind to.\r\n * @param {string=} [template=NA] URL or id of a custom template for rendering each tag.\r\n * @param {string=} [templateScope=NA] Scope to be passed to custom templates - of both tagsInput and\r\n *    autoComplete directives - as $scope.\r\n * @param {string=} [displayProperty=text] Property to be rendered as the tag label.\r\n * @param {string=} [keyProperty=text] Property to be used as a unique identifier for the tag.\r\n * @param {string=} [type=text] Type of the input element. Only 'text', 'email' and 'url' are supported values.\r\n * @param {string=} [text=NA] Assignable Angular expression for data-binding to the element's text.\r\n * @param {number=} tabindex Tab order of the control.\r\n * @param {string=} [placeholder=Add a tag] Placeholder text for the control.\r\n * @param {number=} [minLength=3] Minimum length for a new tag.\r\n * @param {number=} [maxLength=MAX_SAFE_INTEGER] Maximum length allowed for a new tag.\r\n * @param {number=} [minTags=0] Sets minTags validation error key if the number of tags added is less than minTags.\r\n * @param {number=} [maxTags=MAX_SAFE_INTEGER] Sets maxTags validation error key if the number of tags added is greater\r\n *    than maxTags.\r\n * @param {boolean=} [allowLeftoverText=false] Sets leftoverText validation error key if there is any leftover text in\r\n *    the input element when the directive loses focus.\r\n * @param {string=} [removeTagSymbol=] (Obsolete) Symbol character for the remove tag button.\r\n * @param {boolean=} [addOnEnter=true] Flag indicating that a new tag will be added on pressing the ENTER key.\r\n * @param {boolean=} [addOnSpace=false] Flag indicating that a new tag will be added on pressing the SPACE key.\r\n * @param {boolean=} [addOnComma=true] Flag indicating that a new tag will be added on pressing the COMMA key.\r\n * @param {boolean=} [addOnBlur=true] Flag indicating that a new tag will be added when the input field loses focus.\r\n * @param {boolean=} [addOnPaste=false] Flag indicating that the text pasted into the input field will be split into tags.\r\n * @param {string=} [pasteSplitPattern=,] Regular expression used to split the pasted text into tags.\r\n * @param {boolean=} [replaceSpacesWithDashes=true] Flag indicating that spaces will be replaced with dashes.\r\n * @param {string=} [allowedTagsPattern=.+] Regular expression that determines whether a new tag is valid.\r\n * @param {boolean=} [enableEditingLastTag=false] Flag indicating that the last tag will be moved back into the new tag\r\n *    input box instead of being removed when the backspace key is pressed and the input box is empty.\r\n * @param {boolean=} [addFromAutocompleteOnly=false] Flag indicating that only tags coming from the autocomplete list\r\n *    will be allowed. When this flag is true, addOnEnter, addOnComma, addOnSpace and addOnBlur values are ignored.\r\n * @param {boolean=} [spellcheck=true] Flag indicating whether the browser's spellcheck is enabled for the input field or not.\r\n * @param {expression=} [tagClass=NA] Expression to evaluate for each existing tag in order to get the CSS classes to be used.\r\n *    The expression is provided with the current tag as $tag, its index as $index and its state as $selected. The result\r\n *    of the evaluation must be one of the values supported by the ngClass directive (either a string, an array or an object).\r\n *    See https://docs.angularjs.org/api/ng/directive/ngClass for more information.\r\n * @param {expression=} [onTagAdding=NA] Expression to evaluate that will be invoked before adding a new tag. The new\r\n *    tag is available as $tag. This method must return either a boolean value or a promise. If either a false value or a rejected\r\n *    promise is returned, the tag will not be added.\r\n * @param {expression=} [onTagAdded=NA] Expression to evaluate upon adding a new tag. The new tag is available as $tag.\r\n * @param {expression=} [onInvalidTag=NA] Expression to evaluate when a tag is invalid. The invalid tag is available as $tag.\r\n * @param {expression=} [onTagRemoving=NA] Expression to evaluate that will be invoked before removing a tag. The tag\r\n *    is available as $tag. This method must return either a boolean value or a promise. If either a false value or a rejected\r\n *    promise is returned, the tag will not be removed.\r\n * @param {expression=} [onTagRemoved=NA] Expression to evaluate upon removing an existing tag. The removed tag is available as $tag.\r\n * @param {expression=} [onTagClicked=NA] Expression to evaluate upon clicking an existing tag. The clicked tag is available as $tag.\r\n */\r\ntagsInput.directive('tagsInput', [\"$timeout\", \"$document\", \"$window\", \"$q\", \"tagsInputConfig\", \"tiUtil\", function($timeout, $document, $window, $q, tagsInputConfig, tiUtil) {\r\n    function TagList(options, events, onTagAdding, onTagRemoving) {\r\n        var self = {}, getTagText, setTagText, canAddTag, canRemoveTag;\r\n\r\n        getTagText = function(tag) {\r\n            return tiUtil.safeToString(tag[options.displayProperty]);\r\n        };\r\n\r\n        setTagText = function(tag, text) {\r\n            tag[options.displayProperty] = text;\r\n        };\r\n\r\n        canAddTag = function(tag) {\r\n            var tagText = getTagText(tag);\r\n            var valid = tagText &&\r\n                        tagText.length >= options.minLength &&\r\n                        tagText.length <= options.maxLength &&\r\n                        options.allowedTagsPattern.test(tagText) &&\r\n                        !tiUtil.findInObjectArray(self.items, tag, options.keyProperty || options.displayProperty);\r\n\r\n            return $q.when(valid && onTagAdding({ $tag: tag })).then(tiUtil.promisifyValue);\r\n        };\r\n\r\n        canRemoveTag = function(tag) {\r\n            return $q.when(onTagRemoving({ $tag: tag })).then(tiUtil.promisifyValue);\r\n        };\r\n\r\n        self.items = [];\r\n\r\n        self.addText = function(text) {\r\n            var tag = {};\r\n            setTagText(tag, text);\r\n            return self.add(tag);\r\n        };\r\n\r\n        self.add = function(tag) {\r\n            var tagText = getTagText(tag);\r\n\r\n            if (options.replaceSpacesWithDashes) {\r\n                tagText = tiUtil.replaceSpacesWithDashes(tagText);\r\n            }\r\n\r\n            setTagText(tag, tagText);\r\n\r\n            return canAddTag(tag)\r\n                .then(function() {\r\n                    self.items.push(tag);\r\n                    events.trigger('tag-added', { $tag: tag });\r\n                })\r\n                .catch(function() {\r\n                    if (tagText) {\r\n                      events.trigger('invalid-tag', { $tag: tag });\r\n                    }\r\n                });\r\n        };\r\n\r\n        self.remove = function(index) {\r\n            var tag = self.items[index];\r\n\r\n            return canRemoveTag(tag).then(function() {\r\n                self.items.splice(index, 1);\r\n                self.clearSelection();\r\n                events.trigger('tag-removed', { $tag: tag });\r\n                return tag;\r\n            });\r\n        };\r\n\r\n        self.select = function(index) {\r\n            if (index < 0) {\r\n                index = self.items.length - 1;\r\n            }\r\n            else if (index >= self.items.length) {\r\n                index = 0;\r\n            }\r\n\r\n            self.index = index;\r\n            self.selected = self.items[index];\r\n        };\r\n\r\n        self.selectPrior = function() {\r\n            self.select(--self.index);\r\n        };\r\n\r\n        self.selectNext = function() {\r\n            self.select(++self.index);\r\n        };\r\n\r\n        self.removeSelected = function() {\r\n            return self.remove(self.index);\r\n        };\r\n\r\n        self.clearSelection = function() {\r\n            self.selected = null;\r\n            self.index = -1;\r\n        };\r\n\r\n        self.clearSelection();\r\n\r\n        return self;\r\n    }\r\n\r\n    function validateType(type) {\r\n        return SUPPORTED_INPUT_TYPES.indexOf(type) !== -1;\r\n    }\r\n\r\n    return {\r\n        restrict: 'E',\r\n        require: 'ngModel',\r\n        scope: {\r\n            tags: '=ngModel',\r\n            text: '=?',\r\n            templateScope: '=?',\r\n            tagClass: '&',\r\n            onTagAdding: '&',\r\n            onTagAdded: '&',\r\n            onInvalidTag: '&',\r\n            onTagRemoving: '&',\r\n            onTagRemoved: '&',\r\n            onTagClicked: '&',\r\n        },\r\n        replace: false,\r\n        transclude: true,\r\n        templateUrl: 'ngTagsInput/tags-input.html',\r\n        controller: [\"$scope\", \"$attrs\", \"$element\", function($scope, $attrs, $element) {\r\n            $scope.events = tiUtil.simplePubSub();\r\n\r\n            tagsInputConfig.load('tagsInput', $scope, $attrs, {\r\n                template: [String, 'ngTagsInput/tag-item.html'],\r\n                type: [String, 'text', validateType],\r\n                placeholder: [String, 'Add a tag'],\r\n                tabindex: [Number, null],\r\n                removeTagSymbol: [String, String.fromCharCode(215)],\r\n                replaceSpacesWithDashes: [Boolean, true],\r\n                minLength: [Number, 3],\r\n                maxLength: [Number, MAX_SAFE_INTEGER],\r\n                addOnEnter: [Boolean, true],\r\n                addOnSpace: [Boolean, false],\r\n                addOnComma: [Boolean, true],\r\n                addOnBlur: [Boolean, true],\r\n                addOnPaste: [Boolean, false],\r\n                pasteSplitPattern: [RegExp, /,/],\r\n                allowedTagsPattern: [RegExp, /.+/],\r\n                enableEditingLastTag: [Boolean, false],\r\n                minTags: [Number, 0],\r\n                maxTags: [Number, MAX_SAFE_INTEGER],\r\n                displayProperty: [String, 'text'],\r\n                keyProperty: [String, ''],\r\n                allowLeftoverText: [Boolean, false],\r\n                addFromAutocompleteOnly: [Boolean, false],\r\n                spellcheck: [Boolean, true]\r\n            });\r\n\r\n            $scope.tagList = new TagList($scope.options, $scope.events,\r\n                tiUtil.handleUndefinedResult($scope.onTagAdding, true),\r\n                tiUtil.handleUndefinedResult($scope.onTagRemoving, true));\r\n\r\n            this.registerAutocomplete = function() {\r\n                var input = $element.find('input');\r\n\r\n                return {\r\n                    addTag: function(tag) {\r\n                        return $scope.tagList.add(tag);\r\n                    },\r\n                    getTags: function() {\r\n                        return $scope.tagList.items;\r\n                    },\r\n                    getCurrentTagText: function() {\r\n                        return $scope.newTag.text();\r\n                    },\r\n                    getOptions: function() {\r\n                        return $scope.options;\r\n                    },\r\n                    getTemplateScope: function() {\r\n                        return $scope.templateScope;\r\n                    },\r\n                    on: function(name, handler) {\r\n                        $scope.events.on(name, handler, true);\r\n                        return this;\r\n                    }\r\n                };\r\n            };\r\n\r\n            this.registerTagItem = function() {\r\n                return {\r\n                    getOptions: function() {\r\n                        return $scope.options;\r\n                    },\r\n                    removeTag: function(index) {\r\n                        if ($scope.disabled) {\r\n                            return;\r\n                        }\r\n                        $scope.tagList.remove(index);\r\n                    }\r\n                };\r\n            };\r\n        }],\r\n        link: function(scope, element, attrs, ngModelCtrl) {\r\n            var hotkeys = [KEYS.enter, KEYS.comma, KEYS.space, KEYS.backspace, KEYS.delete, KEYS.left, KEYS.right],\r\n                tagList = scope.tagList,\r\n                events = scope.events,\r\n                options = scope.options,\r\n                input = element.find('input'),\r\n                validationOptions = ['minTags', 'maxTags', 'allowLeftoverText'],\r\n                setElementValidity,\r\n                focusInput;\r\n\r\n            setElementValidity = function() {\r\n                ngModelCtrl.$setValidity('maxTags', tagList.items.length <= options.maxTags);\r\n                ngModelCtrl.$setValidity('minTags', tagList.items.length >= options.minTags);\r\n                ngModelCtrl.$setValidity('leftoverText', scope.hasFocus || options.allowLeftoverText ? true : !scope.newTag.text());\r\n            };\r\n\r\n            focusInput = function() {\r\n                $timeout(function() { input[0].focus(); });\r\n            };\r\n\r\n            ngModelCtrl.$isEmpty = function(value) {\r\n                return !value || !value.length;\r\n            };\r\n\r\n            scope.newTag = {\r\n                text: function(value) {\r\n                    if (angular.isDefined(value)) {\r\n                        scope.text = value;\r\n                        events.trigger('input-change', value);\r\n                    }\r\n                    else {\r\n                        return scope.text || '';\r\n                    }\r\n                },\r\n                invalid: null\r\n            };\r\n\r\n            scope.track = function(tag) {\r\n                return tag[options.keyProperty || options.displayProperty];\r\n            };\r\n\r\n            scope.getTagClass = function(tag, index) {\r\n                var selected = tag === tagList.selected;\r\n                return [\r\n                    scope.tagClass({$tag: tag, $index: index, $selected: selected}),\r\n                    { selected: selected }\r\n                ];\r\n            };\r\n\r\n            scope.$watch('tags', function(value) {\r\n                if (value) {\r\n                    tagList.items = tiUtil.makeObjectArray(value, options.displayProperty);\r\n                    scope.tags = tagList.items;\r\n                }\r\n                else {\r\n                    tagList.items = [];\r\n                }\r\n            });\r\n\r\n            scope.$watch('tags.length', function() {\r\n                setElementValidity();\r\n\r\n                // ngModelController won't trigger validators when the model changes (because it's an array),\r\n                // so we need to do it ourselves. Unfortunately this won't trigger any registered formatter.\r\n                ngModelCtrl.$validate();\r\n            });\r\n\r\n            attrs.$observe('disabled', function(value) {\r\n                scope.disabled = value;\r\n            });\r\n\r\n            scope.eventHandlers = {\r\n                input: {\r\n                    keydown: function($event) {\r\n                        events.trigger('input-keydown', $event);\r\n                    },\r\n                    focus: function() {\r\n                        if (scope.hasFocus) {\r\n                            return;\r\n                        }\r\n\r\n                        scope.hasFocus = true;\r\n                        events.trigger('input-focus');\r\n                    },\r\n                    blur: function() {\r\n                        $timeout(function() {\r\n                            var activeElement = $document.prop('activeElement'),\r\n                                lostFocusToBrowserWindow = activeElement === input[0],\r\n                                lostFocusToChildElement = element[0].contains(activeElement);\r\n\r\n                            if (lostFocusToBrowserWindow || !lostFocusToChildElement) {\r\n                                scope.hasFocus = false;\r\n                                events.trigger('input-blur');\r\n                            }\r\n                        });\r\n                    },\r\n                    paste: function($event) {\r\n                        $event.getTextData = function() {\r\n                            var clipboardData = $event.clipboardData || ($event.originalEvent && $event.originalEvent.clipboardData);\r\n                            return clipboardData ? clipboardData.getData('text/plain') : $window.clipboardData.getData('Text');\r\n                        };\r\n                        events.trigger('input-paste', $event);\r\n                    }\r\n                },\r\n                host: {\r\n                    click: function() {\r\n                        if (scope.disabled) {\r\n                            return;\r\n                        }\r\n                        focusInput();\r\n                    }\r\n                },\r\n                tag: {\r\n                    click: function(tag) {\r\n                        events.trigger('tag-clicked', { $tag: tag });\r\n                    }\r\n                }\r\n            };\r\n\r\n            events\r\n                .on('tag-added', scope.onTagAdded)\r\n                .on('invalid-tag', scope.onInvalidTag)\r\n                .on('tag-removed', scope.onTagRemoved)\r\n                .on('tag-clicked', scope.onTagClicked)\r\n                .on('tag-added', function() {\r\n                    scope.newTag.text('');\r\n                })\r\n                .on('tag-added tag-removed', function() {\r\n                    scope.tags = tagList.items;\r\n                    // Ideally we should be able call $setViewValue here and let it in turn call $setDirty and $validate\r\n                    // automatically, but since the model is an array, $setViewValue does nothing and it's up to us to do it.\r\n                    // Unfortunately this won't trigger any registered $parser and there's no safe way to do it.\r\n                    ngModelCtrl.$setDirty();\r\n                    focusInput();\r\n                })\r\n                .on('invalid-tag', function() {\r\n                    scope.newTag.invalid = true;\r\n                })\r\n                .on('option-change', function(e) {\r\n                    if (validationOptions.indexOf(e.name) !== -1) {\r\n                        setElementValidity();\r\n                    }\r\n                })\r\n                .on('input-change', function() {\r\n                    tagList.clearSelection();\r\n                    scope.newTag.invalid = null;\r\n                })\r\n                .on('input-focus', function() {\r\n                    element.triggerHandler('focus');\r\n                    ngModelCtrl.$setValidity('leftoverText', true);\r\n                })\r\n                .on('input-blur', function() {\r\n                    if (options.addOnBlur && !options.addFromAutocompleteOnly) {\r\n                        tagList.addText(scope.newTag.text());\r\n                    }\r\n                    element.triggerHandler('blur');\r\n                    setElementValidity();\r\n                })\r\n                .on('input-keydown', function(event) {\r\n                    var key = event.keyCode,\r\n                        addKeys = {},\r\n                        shouldAdd, shouldRemove, shouldSelect, shouldEditLastTag;\r\n\r\n                    if (tiUtil.isModifierOn(event) || hotkeys.indexOf(key) === -1) {\r\n                        return;\r\n                    }\r\n\r\n                    addKeys[KEYS.enter] = options.addOnEnter;\r\n                    addKeys[KEYS.comma] = options.addOnComma;\r\n                    addKeys[KEYS.space] = options.addOnSpace;\r\n\r\n                    shouldAdd = !options.addFromAutocompleteOnly && addKeys[key];\r\n                    shouldRemove = (key === KEYS.backspace || key === KEYS.delete) && tagList.selected;\r\n                    shouldEditLastTag = key === KEYS.backspace && scope.newTag.text().length === 0 && options.enableEditingLastTag;\r\n                    shouldSelect = (key === KEYS.backspace || key === KEYS.left || key === KEYS.right) && scope.newTag.text().length === 0 && !options.enableEditingLastTag;\r\n\r\n                    if (shouldAdd) {\r\n                        tagList.addText(scope.newTag.text());\r\n                    }\r\n                    else if (shouldEditLastTag) {\r\n                        tagList.selectPrior();\r\n                        tagList.removeSelected().then(function(tag) {\r\n                            if (tag) {\r\n                                scope.newTag.text(tag[options.displayProperty]);\r\n                            }\r\n                        });\r\n                    }\r\n                    else if (shouldRemove) {\r\n                        tagList.removeSelected();\r\n                    }\r\n                    else if (shouldSelect) {\r\n                        if (key === KEYS.left || key === KEYS.backspace) {\r\n                            tagList.selectPrior();\r\n                        }\r\n                        else if (key === KEYS.right) {\r\n                            tagList.selectNext();\r\n                        }\r\n                    }\r\n\r\n                    if (shouldAdd || shouldSelect || shouldRemove || shouldEditLastTag) {\r\n                        event.preventDefault();\r\n                    }\r\n                })\r\n                .on('input-paste', function(event) {\r\n                    if (options.addOnPaste) {\r\n                        var data = event.getTextData();\r\n                        var tags = data.split(options.pasteSplitPattern);\r\n\r\n                        if (tags.length > 1) {\r\n                            tags.forEach(function(tag) {\r\n                                tagList.addText(tag);\r\n                            });\r\n                            event.preventDefault();\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n    };\r\n}]);\r\n\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name tiTagItem\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Represents a tag item. Used internally by the tagsInput directive.\r\n */\r\ntagsInput.directive('tiTagItem', [\"tiUtil\", function(tiUtil) {\r\n    return {\r\n        restrict: 'E',\r\n        require: '^tagsInput',\r\n        template: '<ng-include src=\"$$template\"></ng-include>',\r\n        scope: {\r\n            $scope: '=scope',\r\n            data: '='\r\n        },\r\n        link: function(scope, element, attrs, tagsInputCtrl) {\r\n            var tagsInput = tagsInputCtrl.registerTagItem(),\r\n                options = tagsInput.getOptions();\r\n\r\n            scope.$$template = options.template;\r\n            scope.$$removeTagSymbol = options.removeTagSymbol;\r\n\r\n            scope.$getDisplayText = function() {\r\n                return tiUtil.safeToString(scope.data[options.displayProperty]);\r\n            };\r\n            scope.$removeTag = function() {\r\n                tagsInput.removeTag(scope.$index);\r\n            };\r\n\r\n            scope.$watch('$parent.$index', function(value) {\r\n                scope.$index = value;\r\n            });\r\n        }\r\n    };\r\n}]);\r\n\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name autoComplete\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Provides autocomplete support for the tagsInput directive.\r\n *\r\n * @param {expression} source Expression to evaluate upon changing the input content. The input value is available as\r\n *    $query. The result of the expression must be a promise that eventually resolves to an array of strings.\r\n * @param {string=} [template=NA] URL or id of a custom template for rendering each element of the autocomplete list.\r\n * @param {string=} [displayProperty=tagsInput.displayText] Property to be rendered as the autocomplete label.\r\n * @param {number=} [debounceDelay=100] Amount of time, in milliseconds, to wait before evaluating the expression in\r\n *    the source option after the last keystroke.\r\n * @param {number=} [minLength=3] Minimum number of characters that must be entered before evaluating the expression\r\n *    in the source option.\r\n * @param {boolean=} [highlightMatchedText=true] Flag indicating that the matched text will be highlighted in the\r\n *    suggestions list.\r\n * @param {number=} [maxResultsToShow=10] Maximum number of results to be displayed at a time.\r\n * @param {boolean=} [loadOnDownArrow=false] Flag indicating that the source option will be evaluated when the down arrow\r\n *    key is pressed and the suggestion list is closed. The current input value is available as $query.\r\n * @param {boolean=} [loadOnEmpty=false] Flag indicating that the source option will be evaluated when the input content\r\n *    becomes empty. The $query variable will be passed to the expression as an empty string.\r\n * @param {boolean=} [loadOnFocus=false] Flag indicating that the source option will be evaluated when the input element\r\n *    gains focus. The current input value is available as $query.\r\n * @param {boolean=} [selectFirstMatch=true] Flag indicating that the first match will be automatically selected once\r\n *    the suggestion list is shown.\r\n * @param {expression=} [matchClass=NA] Expression to evaluate for each match in order to get the CSS classes to be used.\r\n *    The expression is provided with the current match as $match, its index as $index and its state as $selected. The result\r\n *    of the evaluation must be one of the values supported by the ngClass directive (either a string, an array or an object).\r\n *    See https://docs.angularjs.org/api/ng/directive/ngClass for more information.\r\n */\r\ntagsInput.directive('autoComplete', [\"$document\", \"$timeout\", \"$sce\", \"$q\", \"tagsInputConfig\", \"tiUtil\", function($document, $timeout, $sce, $q, tagsInputConfig, tiUtil) {\r\n    function SuggestionList(loadFn, options, events) {\r\n        var self = {}, getDifference, lastPromise, getTagId;\r\n\r\n        getTagId = function() {\r\n            return options.tagsInput.keyProperty || options.tagsInput.displayProperty;\r\n        };\r\n\r\n        getDifference = function(array1, array2) {\r\n            return array1.filter(function(item) {\r\n                return !tiUtil.findInObjectArray(array2, item, getTagId(), function(a, b) {\r\n                    if (options.tagsInput.replaceSpacesWithDashes) {\r\n                        a = tiUtil.replaceSpacesWithDashes(a);\r\n                        b = tiUtil.replaceSpacesWithDashes(b);\r\n                    }\r\n                    return tiUtil.defaultComparer(a, b);\r\n                });\r\n            });\r\n        };\r\n\r\n        self.reset = function() {\r\n            lastPromise = null;\r\n\r\n            self.items = [];\r\n            self.visible = false;\r\n            self.index = -1;\r\n            self.selected = null;\r\n            self.query = null;\r\n        };\r\n        self.show = function() {\r\n            if (options.selectFirstMatch) {\r\n                self.select(0);\r\n            }\r\n            else {\r\n                self.selected = null;\r\n            }\r\n            self.visible = true;\r\n        };\r\n        self.load = tiUtil.debounce(function(query, tags) {\r\n            self.query = query;\r\n\r\n            var promise = $q.when(loadFn({ $query: query }));\r\n            lastPromise = promise;\r\n\r\n            promise.then(function(items) {\r\n                if (promise !== lastPromise) {\r\n                    return;\r\n                }\r\n\r\n                items = tiUtil.makeObjectArray(items.data || items, getTagId());\r\n                items = getDifference(items, tags);\r\n                self.items = items.slice(0, options.maxResultsToShow);\r\n\r\n                if (self.items.length > 0) {\r\n                    self.show();\r\n                }\r\n                else {\r\n                    self.reset();\r\n                }\r\n            });\r\n        }, options.debounceDelay);\r\n\r\n        self.selectNext = function() {\r\n            self.select(++self.index);\r\n        };\r\n        self.selectPrior = function() {\r\n            self.select(--self.index);\r\n        };\r\n        self.select = function(index) {\r\n            if (index < 0) {\r\n                index = self.items.length - 1;\r\n            }\r\n            else if (index >= self.items.length) {\r\n                index = 0;\r\n            }\r\n            self.index = index;\r\n            self.selected = self.items[index];\r\n            events.trigger('suggestion-selected', index);\r\n        };\r\n\r\n        self.reset();\r\n\r\n        return self;\r\n    }\r\n\r\n    function scrollToElement(root, index) {\r\n        var element = root.find('li').eq(index),\r\n            parent = element.parent(),\r\n            elementTop = element.prop('offsetTop'),\r\n            elementHeight = element.prop('offsetHeight'),\r\n            parentHeight = parent.prop('clientHeight'),\r\n            parentScrollTop = parent.prop('scrollTop');\r\n\r\n        if (elementTop < parentScrollTop) {\r\n            parent.prop('scrollTop', elementTop);\r\n        }\r\n        else if (elementTop + elementHeight > parentHeight + parentScrollTop) {\r\n            parent.prop('scrollTop', elementTop + elementHeight - parentHeight);\r\n        }\r\n    }\r\n\r\n    return {\r\n        restrict: 'E',\r\n        require: '^tagsInput',\r\n        scope: {\r\n            source: '&',\r\n            matchClass: '&'\r\n        },\r\n        templateUrl: 'ngTagsInput/auto-complete.html',\r\n        controller: [\"$scope\", \"$element\", \"$attrs\", function($scope, $element, $attrs) {\r\n            $scope.events = tiUtil.simplePubSub();\r\n\r\n            tagsInputConfig.load('autoComplete', $scope, $attrs, {\r\n                template: [String, 'ngTagsInput/auto-complete-match.html'],\r\n                debounceDelay: [Number, 100],\r\n                minLength: [Number, 3],\r\n                highlightMatchedText: [Boolean, true],\r\n                maxResultsToShow: [Number, 10],\r\n                loadOnDownArrow: [Boolean, false],\r\n                loadOnEmpty: [Boolean, false],\r\n                loadOnFocus: [Boolean, false],\r\n                selectFirstMatch: [Boolean, true],\r\n                displayProperty: [String, '']\r\n            });\r\n\r\n            $scope.suggestionList = new SuggestionList($scope.source, $scope.options, $scope.events);\r\n\r\n            this.registerAutocompleteMatch = function() {\r\n                return {\r\n                    getOptions: function() {\r\n                        return $scope.options;\r\n                    },\r\n                    getQuery: function() {\r\n                        return $scope.suggestionList.query;\r\n                    }\r\n                };\r\n            };\r\n        }],\r\n        link: function(scope, element, attrs, tagsInputCtrl) {\r\n            var hotkeys = [KEYS.enter, KEYS.tab, KEYS.escape, KEYS.up, KEYS.down],\r\n                suggestionList = scope.suggestionList,\r\n                tagsInput = tagsInputCtrl.registerAutocomplete(),\r\n                options = scope.options,\r\n                events = scope.events,\r\n                shouldLoadSuggestions;\r\n\r\n            options.tagsInput = tagsInput.getOptions();\r\n\r\n            shouldLoadSuggestions = function(value) {\r\n                return value && value.length >= options.minLength || !value && options.loadOnEmpty;\r\n            };\r\n\r\n            scope.templateScope = tagsInput.getTemplateScope();\r\n\r\n            scope.addSuggestionByIndex = function(index) {\r\n                suggestionList.select(index);\r\n                scope.addSuggestion();\r\n            };\r\n\r\n            scope.addSuggestion = function() {\r\n                var added = false;\r\n\r\n                if (suggestionList.selected) {\r\n                    tagsInput.addTag(angular.copy(suggestionList.selected));\r\n                    suggestionList.reset();\r\n                    added = true;\r\n                }\r\n                return added;\r\n            };\r\n\r\n            scope.track = function(item) {\r\n                return item[options.tagsInput.keyProperty || options.tagsInput.displayProperty];\r\n            };\r\n\r\n            scope.getSuggestionClass = function(item, index) {\r\n                var selected = item === suggestionList.selected;\r\n                return [\r\n                    scope.matchClass({$match: item, $index: index, $selected: selected}),\r\n                    { selected: selected }\r\n                ];\r\n            };\r\n\r\n            tagsInput\r\n                .on('tag-added tag-removed invalid-tag input-blur', function() {\r\n                    suggestionList.reset();\r\n                })\r\n                .on('input-change', function(value) {\r\n                    if (shouldLoadSuggestions(value)) {\r\n                        suggestionList.load(value, tagsInput.getTags());\r\n                    }\r\n                    else {\r\n                        suggestionList.reset();\r\n                    }\r\n                })\r\n                .on('input-focus', function() {\r\n                    var value = tagsInput.getCurrentTagText();\r\n                    if (options.loadOnFocus && shouldLoadSuggestions(value)) {\r\n                        suggestionList.load(value, tagsInput.getTags());\r\n                    }\r\n                })\r\n                .on('input-keydown', function(event) {\r\n                    var key = event.keyCode,\r\n                        handled = false;\r\n\r\n                    if (tiUtil.isModifierOn(event) || hotkeys.indexOf(key) === -1) {\r\n                        return;\r\n                    }\r\n\r\n                    if (suggestionList.visible) {\r\n\r\n                        if (key === KEYS.down) {\r\n                            suggestionList.selectNext();\r\n                            handled = true;\r\n                        }\r\n                        else if (key === KEYS.up) {\r\n                            suggestionList.selectPrior();\r\n                            handled = true;\r\n                        }\r\n                        else if (key === KEYS.escape) {\r\n                            suggestionList.reset();\r\n                            handled = true;\r\n                        }\r\n                        else if (key === KEYS.enter || key === KEYS.tab) {\r\n                            handled = scope.addSuggestion();\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (key === KEYS.down && scope.options.loadOnDownArrow) {\r\n                            suggestionList.load(tagsInput.getCurrentTagText(), tagsInput.getTags());\r\n                            handled = true;\r\n                        }\r\n                    }\r\n\r\n                    if (handled) {\r\n                        event.preventDefault();\r\n                        event.stopImmediatePropagation();\r\n                        return false;\r\n                    }\r\n                });\r\n\r\n            events.on('suggestion-selected', function(index) {\r\n                scrollToElement(element, index);\r\n            });\r\n        }\r\n    };\r\n}]);\r\n\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name tiAutocompleteMatch\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Represents an autocomplete match. Used internally by the autoComplete directive.\r\n */\r\ntagsInput.directive('tiAutocompleteMatch', [\"$sce\", \"tiUtil\", function($sce, tiUtil) {\r\n    return {\r\n        restrict: 'E',\r\n        require: '^autoComplete',\r\n        template: '<ng-include src=\"$$template\"></ng-include>',\r\n        scope: {\r\n            $scope: '=scope',\r\n            data: '='\r\n        },\r\n        link: function(scope, element, attrs, autoCompleteCtrl) {\r\n            var autoComplete = autoCompleteCtrl.registerAutocompleteMatch(),\r\n                options = autoComplete.getOptions();\r\n\r\n            scope.$$template = options.template;\r\n            scope.$index = scope.$parent.$index;\r\n\r\n            scope.$highlight = function(text) {\r\n                if (options.highlightMatchedText) {\r\n                    text = tiUtil.safeHighlight(text, autoComplete.getQuery());\r\n                }\r\n                return $sce.trustAsHtml(text);\r\n            };\r\n            scope.$getDisplayText =  function() {\r\n                return tiUtil.safeToString(scope.data[options.displayProperty || options.tagsInput.displayProperty]);\r\n            };\r\n        }\r\n    };\r\n}]);\r\n\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name tiTranscludeAppend\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Re-creates the old behavior of ng-transclude. Used internally by tagsInput directive.\r\n */\r\ntagsInput.directive('tiTranscludeAppend', function() {\r\n    return function(scope, element, attrs, ctrl, transcludeFn) {\r\n        transcludeFn(function(clone) {\r\n            element.append(clone);\r\n        });\r\n    };\r\n});\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name tiAutosize\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Automatically sets the input's width so its content is always visible. Used internally by tagsInput directive.\r\n */\r\ntagsInput.directive('tiAutosize', [\"tagsInputConfig\", function(tagsInputConfig) {\r\n    return {\r\n        restrict: 'A',\r\n        require: 'ngModel',\r\n        link: function(scope, element, attrs, ctrl) {\r\n            var threshold = tagsInputConfig.getTextAutosizeThreshold(),\r\n                span, resize;\r\n\r\n            span = angular.element('<span class=\"input\"></span>');\r\n            span.css('display', 'none')\r\n                .css('visibility', 'hidden')\r\n                .css('white-space', 'pre');\r\n\r\n            element.parent().append(span);\r\n\r\n            resize = function(originalValue) {\r\n                var value = originalValue, width;\r\n\r\n                if (angular.isString(value) && value.length === 0) {\r\n                    value = attrs.placeholder;\r\n                }\r\n\r\n                if (value) {\r\n                    span.text(value);\r\n                    span.css('display', '');\r\n                    span.css('display', 'none');\r\n                }\r\n\r\n\r\n                return originalValue;\r\n            };\r\n\r\n            ctrl.$parsers.unshift(resize);\r\n            ctrl.$formatters.unshift(resize);\r\n\r\n            attrs.$observe('placeholder', function(value) {\r\n                if (!ctrl.$modelValue) {\r\n                    resize(value);\r\n                }\r\n            });\r\n        }\r\n    };\r\n}]);\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name tiBindAttrs\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Binds attributes to expressions. Used internally by tagsInput directive.\r\n */\r\ntagsInput.directive('tiBindAttrs', function() {\r\n    return function(scope, element, attrs) {\r\n        scope.$watch(attrs.tiBindAttrs, function(value) {\r\n            angular.forEach(value, function(value, key) {\r\n                attrs.$set(key, value);\r\n            });\r\n        }, true);\r\n    };\r\n});\r\n\r\n/**\r\n * @ngdoc service\r\n * @name tagsInputConfig\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Sets global configuration settings for both tagsInput and autoComplete directives. It's also used internally to parse and\r\n *  initialize options from HTML attributes.\r\n */\r\ntagsInput.provider('tagsInputConfig', function() {\r\n    var globalDefaults = {},\r\n        interpolationStatus = {},\r\n        autosizeThreshold = 3;\r\n\r\n    /**\r\n     * @ngdoc method\r\n     * @name tagsInputConfig#setDefaults\r\n     * @description Sets the default configuration option for a directive.\r\n     *\r\n     * @param {string} directive Name of the directive to be configured. Must be either 'tagsInput' or 'autoComplete'.\r\n     * @param {object} defaults Object containing options and their values.\r\n     *\r\n     * @returns {object} The service itself for chaining purposes.\r\n     */\r\n    this.setDefaults = function(directive, defaults) {\r\n        globalDefaults[directive] = defaults;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @ngdoc method\r\n     * @name tagsInputConfig#setActiveInterpolation\r\n     * @description Sets active interpolation for a set of options.\r\n     *\r\n     * @param {string} directive Name of the directive to be configured. Must be either 'tagsInput' or 'autoComplete'.\r\n     * @param {object} options Object containing which options should have interpolation turned on at all times.\r\n     *\r\n     * @returns {object} The service itself for chaining purposes.\r\n     */\r\n    this.setActiveInterpolation = function(directive, options) {\r\n        interpolationStatus[directive] = options;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * @ngdoc method\r\n     * @name tagsInputConfig#setTextAutosizeThreshold\r\n     * @description Sets the threshold used by the tagsInput directive to re-size the inner input field element based on its contents.\r\n     *\r\n     * @param {number} threshold Threshold value, in pixels.\r\n     *\r\n     * @returns {object} The service itself for chaining purposes.\r\n     */\r\n    this.setTextAutosizeThreshold = function(threshold) {\r\n        autosizeThreshold = threshold;\r\n        return this;\r\n    };\r\n\r\n    this.$get = [\"$interpolate\", function($interpolate) {\r\n        var converters = {};\r\n        converters[String] = function(value) { return value; };\r\n        converters[Number] = function(value) { return parseInt(value, 10); };\r\n        converters[Boolean] = function(value) { return value.toLowerCase() === 'true'; };\r\n        converters[RegExp] = function(value) { return new RegExp(value); };\r\n\r\n        return {\r\n            load: function(directive, scope, attrs, options) {\r\n                var defaultValidator = function() { return true; };\r\n\r\n                scope.options = {};\r\n\r\n                angular.forEach(options, function(value, key) {\r\n                    var type, localDefault, validator, converter, getDefault, updateValue;\r\n\r\n                    type = value[0];\r\n                    localDefault = value[1];\r\n                    validator = value[2] || defaultValidator;\r\n                    converter = converters[type];\r\n\r\n                    getDefault = function() {\r\n                        var globalValue = globalDefaults[directive] && globalDefaults[directive][key];\r\n                        return angular.isDefined(globalValue) ? globalValue : localDefault;\r\n                    };\r\n\r\n                    updateValue = function(value) {\r\n                        scope.options[key] = value && validator(value) ? converter(value) : getDefault();\r\n                    };\r\n\r\n                    if (interpolationStatus[directive] && interpolationStatus[directive][key]) {\r\n                        attrs.$observe(key, function(value) {\r\n                            updateValue(value);\r\n                            scope.events.trigger('option-change', { name: key, newValue: value });\r\n                        });\r\n                    }\r\n                    else {\r\n                        updateValue(attrs[key] && $interpolate(attrs[key])(scope.$parent));\r\n                    }\r\n                });\r\n            },\r\n            getTextAutosizeThreshold: function() {\r\n                return autosizeThreshold;\r\n            }\r\n        };\r\n    }];\r\n});\r\n\r\n\r\n/***\r\n * @ngdoc service\r\n * @name tiUtil\r\n * @module ngTagsInput\r\n *\r\n * @description\r\n * Helper methods used internally by the directive. Should not be called directly from user code.\r\n */\r\ntagsInput.factory('tiUtil', [\"$timeout\", \"$q\", function($timeout, $q) {\r\n    var self = {};\r\n\r\n    self.debounce = function(fn, delay) {\r\n        var timeoutId;\r\n        return function() {\r\n            var args = arguments;\r\n            $timeout.cancel(timeoutId);\r\n            timeoutId = $timeout(function() { fn.apply(null, args); }, delay);\r\n        };\r\n    };\r\n\r\n    self.makeObjectArray = function(array, key) {\r\n        if (!angular.isArray(array) || array.length === 0 || angular.isObject(array[0])) {\r\n            return array;\r\n        }\r\n\r\n        var newArray = [];\r\n        array.forEach(function(item) {\r\n            var obj = {};\r\n            obj[key] = item;\r\n            newArray.push(obj);\r\n        });\r\n        return newArray;\r\n    };\r\n\r\n    self.findInObjectArray = function(array, obj, key, comparer) {\r\n        var item = null;\r\n        comparer = comparer || self.defaultComparer;\r\n\r\n        array.some(function(element) {\r\n            if (comparer(element[key], obj[key])) {\r\n                item = element;\r\n                return true;\r\n            }\r\n        });\r\n\r\n        return item;\r\n    };\r\n\r\n    self.defaultComparer = function(a, b) {\r\n        // I'm aware of the internationalization issues regarding toLowerCase()\r\n        // but I couldn't come up with a better solution right now\r\n        return self.safeToString(a).toLowerCase() === self.safeToString(b).toLowerCase();\r\n    };\r\n\r\n    self.safeHighlight = function(str, value) {\r\n        if (!value) {\r\n            return str;\r\n        }\r\n\r\n        function escapeRegexChars(str) {\r\n            return str.replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\r\n        }\r\n\r\n        str = self.encodeHTML(str);\r\n        value = self.encodeHTML(value);\r\n\r\n        var expression = new RegExp('&[^;]+;|' + escapeRegexChars(value), 'gi');\r\n        return str.replace(expression, function(match) {\r\n            return match.toLowerCase() === value.toLowerCase() ? '<em>' + match + '</em>' : match;\r\n        });\r\n    };\r\n\r\n    self.safeToString = function(value) {\r\n        return angular.isUndefined(value) || value == null ? '' : value.toString().trim();\r\n    };\r\n\r\n    self.encodeHTML = function(value) {\r\n        return self.safeToString(value)\r\n            .replace(/&/g, '&amp;')\r\n            .replace(/</g, '&lt;')\r\n            .replace(/>/g, '&gt;');\r\n    };\r\n\r\n    self.handleUndefinedResult = function(fn, valueIfUndefined) {\r\n        return function() {\r\n            var result = fn.apply(null, arguments);\r\n            return angular.isUndefined(result) ? valueIfUndefined : result;\r\n        };\r\n    };\r\n\r\n    self.replaceSpacesWithDashes = function(str) {\r\n        return self.safeToString(str).replace(/\\s/g, '-');\r\n    };\r\n\r\n    self.isModifierOn = function(event) {\r\n        return event.shiftKey || event.ctrlKey || event.altKey || event.metaKey;\r\n    };\r\n\r\n    self.promisifyValue = function(value) {\r\n        value = angular.isUndefined(value) ? true : value;\r\n        return $q[value ? 'when' : 'reject']();\r\n    };\r\n\r\n    self.simplePubSub = function() {\r\n        var events = {};\r\n        return {\r\n            on: function(names, handler, first) {\r\n                names.split(' ').forEach(function(name) {\r\n                    if (!events[name]) {\r\n                        events[name] = [];\r\n                    }\r\n                    var method = first ? [].unshift : [].push;\r\n                    method.call(events[name], handler);\r\n                });\r\n                return this;\r\n            },\r\n            trigger: function(name, args) {\r\n                var handlers = events[name] || [];\r\n                handlers.every(function(handler) {\r\n                    return self.handleUndefinedResult(handler, true)(args);\r\n                });\r\n                return this;\r\n            }\r\n        };\r\n    };\r\n\r\n    return self;\r\n}]);\r\n\r\n/* HTML templates */\r\ntagsInput.run([\"$templateCache\", function($templateCache) {\r\n    $templateCache.put('ngTagsInput/tags-input.html',\r\n    \"<div class=\\\"host\\\" tabindex=\\\"-1\\\" ng-click=\\\"eventHandlers.host.click()\\\" ti-transclude-append><div class=\\\"tags\\\" ng-class=\\\"{focused: hasFocus}\\\"><ul class=\\\"tag-list\\\"><li class=\\\"tag-item\\\" ng-repeat=\\\"tag in tagList.items track by track(tag)\\\" ng-class=\\\"getTagClass(tag, $index)\\\" ng-click=\\\"eventHandlers.tag.click(tag)\\\"><ti-tag-item scope=\\\"templateScope\\\" data=\\\"::tag\\\"></ti-tag-item></li></ul><input class=\\\"input\\\" autocomplete=\\\"off\\\" ng-model=\\\"newTag.text\\\" ng-model-options=\\\"{getterSetter: true}\\\" ng-keydown=\\\"eventHandlers.input.keydown($event)\\\" ng-focus=\\\"eventHandlers.input.focus($event)\\\" ng-blur=\\\"eventHandlers.input.blur($event)\\\" ng-paste=\\\"eventHandlers.input.paste($event)\\\" ng-trim=\\\"false\\\" ng-class=\\\"{'invalid-tag': newTag.invalid}\\\" ng-disabled=\\\"disabled\\\" ti-bind-attrs=\\\"{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}\\\" ti-autosize></div></div>\"\r\n  );\r\n\r\n  $templateCache.put('ngTagsInput/tag-item.html',\r\n    \"<span ng-bind=\\\"$getDisplayText()\\\"></span> <a class=\\\"remove-button\\\" ng-click=\\\"$removeTag()\\\" ng-bind=\\\"::$$removeTagSymbol\\\"></a>\"\r\n  );\r\n\r\n  $templateCache.put('ngTagsInput/auto-complete.html',\r\n    \"<div class=\\\"autocomplete\\\" ng-if=\\\"suggestionList.visible\\\"><ul class=\\\"suggestion-list\\\"><li class=\\\"suggestion-item\\\" ng-repeat=\\\"item in suggestionList.items track by track(item)\\\" ng-class=\\\"getSuggestionClass(item, $index)\\\" ng-click=\\\"addSuggestionByIndex($index)\\\" ng-mouseenter=\\\"suggestionList.select($index)\\\"><ti-autocomplete-match scope=\\\"templateScope\\\" data=\\\"::item\\\"></ti-autocomplete-match></li></ul></div>\"\r\n  );\r\n\r\n  $templateCache.put('ngTagsInput/auto-complete-match.html',\r\n    \"<span ng-bind-html=\\\"$highlight($getDisplayText())\\\"></span>\"\r\n  );\r\n}]);\r\n\r\n}());","/*! angularjs-slider - v6.0.0 - \r\n (c) Rafal Zajac <rzajac@gmail.com>, Valentin Hervieu <valentin@hervieu.me>, Jussi Saarivirta <jusasi@gmail.com>, Angelin Sirbu <angelin.sirbu@gmail.com> - \r\n https://github.com/angular-slider/angularjs-slider - \r\n 2017-01-02 */\r\n/*jslint unparam: true */\r\n/*global angular: false, console: false, define, module */\r\n(function(root, factory) {\r\n  'use strict';\r\n  /* istanbul ignore next */\r\n  if (typeof define === 'function' && define.amd) {\r\n    // AMD. Register as an anonymous module.\r\n    define(['angular'], factory);\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    // Node. Does not work with strict CommonJS, but\r\n    // only CommonJS-like environments that support module.exports,\r\n    // like Node.\r\n    // to support bundler like browserify\r\n    var angularObj = angular || require('angular');\r\n    if ((!angularObj || !angularObj.module) && typeof angular != 'undefined') {\r\n      angularObj = angular;\r\n    }\r\n    module.exports = factory(angularObj);\r\n  } else {\r\n    // Browser globals (root is window)\r\n    factory(root.angular);\r\n  }\r\n\r\n}(this, function(angular) {\r\n  'use strict';\r\n  var module = angular.module('rzModule', [])\r\n\r\n  .factory('RzSliderOptions', function() {\r\n    var defaultOptions = {\r\n      floor: 0,\r\n      ceil: null, //defaults to rz-slider-model\r\n      step: 1,\r\n      precision: 0,\r\n      minRange: null,\r\n      maxRange: null,\r\n      pushRange: false,\r\n      minLimit: null,\r\n      maxLimit: null,\r\n      id: null,\r\n      translate: null,\r\n      getLegend: null,\r\n      stepsArray: null,\r\n      bindIndexForStepsArray: false,\r\n      draggableRange: false,\r\n      draggableRangeOnly: false,\r\n      showSelectionBar: false,\r\n      showSelectionBarEnd: false,\r\n      showSelectionBarFromValue: null,\r\n      hidePointerLabels: false,\r\n      hideLimitLabels: false,\r\n      autoHideLimitLabels: true,\r\n      readOnly: false,\r\n      disabled: false,\r\n      interval: 350,\r\n      showTicks: false,\r\n      showTicksValues: false,\r\n      ticksArray: null,\r\n      ticksTooltip: null,\r\n      ticksValuesTooltip: null,\r\n      vertical: false,\r\n      getSelectionBarColor: null,\r\n      getTickColor: null,\r\n      getPointerColor: null,\r\n      keyboardSupport: true,\r\n      scale: 1,\r\n      enforceStep: true,\r\n      enforceRange: false,\r\n      noSwitching: false,\r\n      onlyBindHandles: false,\r\n      onStart: null,\r\n      onChange: null,\r\n      onEnd: null,\r\n      rightToLeft: false,\r\n      boundPointerLabels: true,\r\n      mergeRangeLabelsIfSame: false,\r\n      customTemplateScope: null,\r\n      logScale: false,\r\n      customValueToPosition: null,\r\n      customPositionToValue: null,\r\n      selectionBarGradient: null\r\n    };\r\n    var globalOptions = {};\r\n\r\n    var factory = {};\r\n    /**\r\n     * `options({})` allows global configuration of all sliders in the\r\n     * application.\r\n     *\r\n     *   var app = angular.module( 'App', ['rzModule'], function( RzSliderOptions ) {\r\n     *     // show ticks for all sliders\r\n     *     RzSliderOptions.options( { showTicks: true } );\r\n     *   });\r\n     */\r\n    factory.options = function(value) {\r\n      angular.extend(globalOptions, value);\r\n    };\r\n\r\n    factory.getOptions = function(options) {\r\n      return angular.extend({}, defaultOptions, globalOptions, options);\r\n    };\r\n\r\n    return factory;\r\n  })\r\n\r\n  .factory('rzThrottle', ['$timeout', function($timeout) {\r\n    /**\r\n     * rzThrottle\r\n     *\r\n     * Taken from underscore project\r\n     *\r\n     * @param {Function} func\r\n     * @param {number} wait\r\n     * @param {ThrottleOptions} options\r\n     * @returns {Function}\r\n     */\r\n    return function(func, wait, options) {\r\n      'use strict';\r\n      /* istanbul ignore next */\r\n      var getTime = (Date.now || function() {\r\n        return new Date().getTime();\r\n      });\r\n      var context, args, result;\r\n      var timeout = null;\r\n      var previous = 0;\r\n      options = options || {};\r\n      var later = function() {\r\n        previous = getTime();\r\n        timeout = null;\r\n        result = func.apply(context, args);\r\n        context = args = null;\r\n      };\r\n      return function() {\r\n        var now = getTime();\r\n        var remaining = wait - (now - previous);\r\n        context = this;\r\n        args = arguments;\r\n        if (remaining <= 0) {\r\n          $timeout.cancel(timeout);\r\n          timeout = null;\r\n          previous = now;\r\n          result = func.apply(context, args);\r\n          context = args = null;\r\n        } else if (!timeout && options.trailing !== false) {\r\n          timeout = $timeout(later, remaining);\r\n        }\r\n        return result;\r\n      };\r\n    }\r\n  }])\r\n\r\n  .factory('RzSlider', ['$timeout', '$document', '$window', '$compile', 'RzSliderOptions', 'rzThrottle', function($timeout, $document, $window, $compile, RzSliderOptions, rzThrottle) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Slider\r\n     *\r\n     * @param {ngScope} scope            The AngularJS scope\r\n     * @param {Element} sliderElem The slider directive element wrapped in jqLite\r\n     * @constructor\r\n     */\r\n    var Slider = function(scope, sliderElem) {\r\n      /**\r\n       * The slider's scope\r\n       *\r\n       * @type {ngScope}\r\n       */\r\n      this.scope = scope;\r\n\r\n      /**\r\n       * The slider inner low value (linked to rzSliderModel)\r\n       * @type {number}\r\n       */\r\n      this.lowValue = 0;\r\n\r\n      /**\r\n       * The slider inner high value (linked to rzSliderHigh)\r\n       * @type {number}\r\n       */\r\n      this.highValue = 0;\r\n\r\n      /**\r\n       * Slider element wrapped in jqLite\r\n       *\r\n       * @type {jqLite}\r\n       */\r\n      this.sliderElem = sliderElem;\r\n\r\n      /**\r\n       * Slider type\r\n       *\r\n       * @type {boolean} Set to true for range slider\r\n       */\r\n      this.range = this.scope.rzSliderModel !== undefined && this.scope.rzSliderHigh !== undefined;\r\n\r\n      /**\r\n       * Values recorded when first dragging the bar\r\n       *\r\n       * @type {Object}\r\n       */\r\n      this.dragging = {\r\n        active: false,\r\n        value: 0,\r\n        difference: 0,\r\n        position: 0,\r\n        lowLimit: 0,\r\n        highLimit: 0\r\n      };\r\n\r\n      /**\r\n       * property that handle position (defaults to left for horizontal)\r\n       * @type {string}\r\n       */\r\n      this.positionProperty = 'left';\r\n\r\n      /**\r\n       * property that handle dimension (defaults to width for horizontal)\r\n       * @type {string}\r\n       */\r\n      this.dimensionProperty = 'width';\r\n\r\n      /**\r\n       * Half of the width or height of the slider handles\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.handleHalfDim = 0;\r\n\r\n      /**\r\n       * Maximum position the slider handle can have\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.maxPos = 0;\r\n\r\n      /**\r\n       * Precision\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.precision = 0;\r\n\r\n      /**\r\n       * Step\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.step = 1;\r\n\r\n      /**\r\n       * The name of the handle we are currently tracking\r\n       *\r\n       * @type {string}\r\n       */\r\n      this.tracking = '';\r\n\r\n      /**\r\n       * Minimum value (floor) of the model\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.minValue = 0;\r\n\r\n      /**\r\n       * Maximum value (ceiling) of the model\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.maxValue = 0;\r\n\r\n\r\n      /**\r\n       * The delta between min and max value\r\n       *\r\n       * @type {number}\r\n       */\r\n      this.valueRange = 0;\r\n\r\n\r\n      /**\r\n       * If showTicks/showTicksValues options are number.\r\n       * In this case, ticks values should be displayed below the slider.\r\n       * @type {boolean}\r\n       */\r\n      this.intermediateTicks = false;\r\n\r\n      /**\r\n       * Set to true if init method already executed\r\n       *\r\n       * @type {boolean}\r\n       */\r\n      this.initHasRun = false;\r\n\r\n      /**\r\n       * Used to call onStart on the first keydown event\r\n       *\r\n       * @type {boolean}\r\n       */\r\n      this.firstKeyDown = false;\r\n\r\n      /**\r\n       * Internal flag to prevent watchers to be called when the sliders value are modified internally.\r\n       * @type {boolean}\r\n       */\r\n      this.internalChange = false;\r\n\r\n      /**\r\n       * Internal flag to keep track of the visibility of combo label\r\n       * @type {boolean}\r\n       */\r\n      this.cmbLabelShown = false;\r\n\r\n      /**\r\n       * Internal variable to keep track of the focus element\r\n       */\r\n      this.currentFocusElement = null;\r\n\r\n      // Slider DOM elements wrapped in jqLite\r\n      this.fullBar = null; // The whole slider bar\r\n      this.selBar = null; // Highlight between two handles\r\n      this.minH = null; // Left slider handle\r\n      this.maxH = null; // Right slider handle\r\n      this.flrLab = null; // Floor label\r\n      this.ceilLab = null; // Ceiling label\r\n      this.minLab = null; // Label above the low value\r\n      this.maxLab = null; // Label above the high value\r\n      this.cmbLab = null; // Combined label\r\n      this.ticks = null; // The ticks\r\n\r\n      // Initialize slider\r\n      this.init();\r\n    };\r\n\r\n    // Add instance methods\r\n    Slider.prototype = {\r\n\r\n      /**\r\n       * Initialize slider\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      init: function() {\r\n        var thrLow, thrHigh,\r\n          self = this;\r\n\r\n        var calcDimFn = function() {\r\n          self.calcViewDimensions();\r\n        };\r\n\r\n        this.applyOptions();\r\n        this.syncLowValue();\r\n        if (this.range)\r\n          this.syncHighValue();\r\n        this.initElemHandles();\r\n        this.manageElementsStyle();\r\n        this.setDisabledState();\r\n        this.calcViewDimensions();\r\n        this.setMinAndMax();\r\n        this.addAccessibility();\r\n        this.updateCeilLab();\r\n        this.updateFloorLab();\r\n        this.initHandles();\r\n        this.manageEventsBindings();\r\n\r\n        // Recalculate slider view dimensions\r\n        this.scope.$on('reCalcViewDimensions', calcDimFn);\r\n\r\n        // Recalculate stuff if view port dimensions have changed\r\n        angular.element($window).on('resize', calcDimFn);\r\n\r\n        this.initHasRun = true;\r\n\r\n        // Watch for changes to the model\r\n        thrLow = rzThrottle(function() {\r\n          self.onLowHandleChange();\r\n        }, self.options.interval);\r\n\r\n        thrHigh = rzThrottle(function() {\r\n          self.onHighHandleChange();\r\n        }, self.options.interval);\r\n\r\n        this.scope.$on('rzSliderForceRender', function() {\r\n          self.resetLabelsValue();\r\n          thrLow();\r\n          if (self.range) {\r\n            thrHigh();\r\n          }\r\n          self.resetSlider();\r\n        });\r\n\r\n        // Watchers (order is important because in case of simultaneous change,\r\n        // watchers will be called in the same order)\r\n        this.scope.$watch('rzSliderOptions()', function(newValue, oldValue) {\r\n          if (newValue === oldValue)\r\n            return;\r\n          self.applyOptions(); // need to be called before synchronizing the values\r\n          self.syncLowValue();\r\n          if (self.range)\r\n            self.syncHighValue();\r\n          self.resetSlider();\r\n        }, true);\r\n\r\n        this.scope.$watch('rzSliderModel', function(newValue, oldValue) {\r\n          if (self.internalChange)\r\n            return;\r\n          if (newValue === oldValue)\r\n            return;\r\n          thrLow();\r\n        });\r\n\r\n        this.scope.$watch('rzSliderHigh', function(newValue, oldValue) {\r\n          if (self.internalChange)\r\n            return;\r\n          if (newValue === oldValue)\r\n            return;\r\n          if (newValue != null)\r\n            thrHigh();\r\n          if (self.range && newValue == null || !self.range && newValue != null) {\r\n            self.applyOptions();\r\n            self.resetSlider();\r\n          }\r\n        });\r\n\r\n        this.scope.$on('$destroy', function() {\r\n          self.unbindEvents();\r\n          angular.element($window).off('resize', calcDimFn);\r\n          self.currentFocusElement = null;\r\n        });\r\n      },\r\n\r\n      findStepIndex: function(modelValue) {\r\n        var index = 0;\r\n        for (var i = 0; i < this.options.stepsArray.length; i++) {\r\n          var step = this.options.stepsArray[i];\r\n          if (step === modelValue) {\r\n            index = i;\r\n            break;\r\n          }\r\n          else if (angular.isDate(step)) {\r\n            if (step.getTime() === modelValue.getTime()) {\r\n              index = i;\r\n              break;\r\n            }\r\n          }\r\n          else if (angular.isObject(step)) {\r\n            if (angular.isDate(step.value) && step.value.getTime() === modelValue.getTime() || step.value === modelValue) {\r\n              index = i;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        return index;\r\n      },\r\n\r\n      syncLowValue: function() {\r\n        if (this.options.stepsArray) {\r\n          if (!this.options.bindIndexForStepsArray)\r\n            this.lowValue = this.findStepIndex(this.scope.rzSliderModel);\r\n          else\r\n            this.lowValue = this.scope.rzSliderModel\r\n        }\r\n        else\r\n          this.lowValue = this.scope.rzSliderModel;\r\n      },\r\n\r\n      syncHighValue: function() {\r\n        if (this.options.stepsArray) {\r\n          if (!this.options.bindIndexForStepsArray)\r\n            this.highValue = this.findStepIndex(this.scope.rzSliderHigh);\r\n          else\r\n            this.highValue = this.scope.rzSliderHigh\r\n        }\r\n        else\r\n          this.highValue = this.scope.rzSliderHigh;\r\n      },\r\n\r\n      getStepValue: function(sliderValue) {\r\n        var step = this.options.stepsArray[sliderValue];\r\n        if (angular.isDate(step))\r\n          return step;\r\n        if (angular.isObject(step))\r\n          return step.value;\r\n        return step;\r\n      },\r\n\r\n      applyLowValue: function() {\r\n        if (this.options.stepsArray) {\r\n          if (!this.options.bindIndexForStepsArray)\r\n            this.scope.rzSliderModel = this.getStepValue(this.lowValue);\r\n          else\r\n            this.scope.rzSliderModel = this.lowValue\r\n        }\r\n        else\r\n          this.scope.rzSliderModel = this.lowValue;\r\n      },\r\n\r\n      applyHighValue: function() {\r\n        if (this.options.stepsArray) {\r\n          if (!this.options.bindIndexForStepsArray)\r\n            this.scope.rzSliderHigh = this.getStepValue(this.highValue);\r\n          else\r\n            this.scope.rzSliderHigh = this.highValue\r\n        }\r\n        else\r\n          this.scope.rzSliderHigh = this.highValue;\r\n      },\r\n\r\n      /*\r\n       * Reflow the slider when the low handle changes (called with throttle)\r\n       */\r\n      onLowHandleChange: function() {\r\n        this.syncLowValue();\r\n        if (this.range)\r\n          this.syncHighValue();\r\n        this.setMinAndMax();\r\n        this.updateLowHandle(this.valueToPosition(this.lowValue));\r\n        this.updateSelectionBar();\r\n        this.updateTicksScale();\r\n        this.updateAriaAttributes();\r\n        if (this.range) {\r\n          this.updateCmbLabel();\r\n        }\r\n      },\r\n\r\n      /*\r\n       * Reflow the slider when the high handle changes (called with throttle)\r\n       */\r\n      onHighHandleChange: function() {\r\n        this.syncLowValue();\r\n        this.syncHighValue();\r\n        this.setMinAndMax();\r\n        this.updateHighHandle(this.valueToPosition(this.highValue));\r\n        this.updateSelectionBar();\r\n        this.updateTicksScale();\r\n        this.updateCmbLabel();\r\n        this.updateAriaAttributes();\r\n      },\r\n\r\n      /**\r\n       * Read the user options and apply them to the slider model\r\n       */\r\n      applyOptions: function() {\r\n        var sliderOptions;\r\n        if (this.scope.rzSliderOptions)\r\n          sliderOptions = this.scope.rzSliderOptions();\r\n        else\r\n          sliderOptions = {};\r\n\r\n        this.options = RzSliderOptions.getOptions(sliderOptions);\r\n\r\n        if (this.options.step <= 0)\r\n          this.options.step = 1;\r\n\r\n        this.range = this.scope.rzSliderModel !== undefined && this.scope.rzSliderHigh !== undefined;\r\n        this.options.draggableRange = this.range && this.options.draggableRange;\r\n        this.options.draggableRangeOnly = this.range && this.options.draggableRangeOnly;\r\n        if (this.options.draggableRangeOnly) {\r\n          this.options.draggableRange = true;\r\n        }\r\n\r\n        this.options.showTicks = this.options.showTicks || this.options.showTicksValues || !!this.options.ticksArray;\r\n        this.scope.showTicks = this.options.showTicks; //scope is used in the template\r\n        if (angular.isNumber(this.options.showTicks) || this.options.ticksArray)\r\n          this.intermediateTicks = true;\r\n\r\n        this.options.showSelectionBar = this.options.showSelectionBar || this.options.showSelectionBarEnd\r\n          || this.options.showSelectionBarFromValue !== null;\r\n\r\n        if (this.options.stepsArray) {\r\n          this.parseStepsArray();\r\n        } else {\r\n          if (this.options.translate)\r\n            this.customTrFn = this.options.translate;\r\n          else\r\n            this.customTrFn = function(value) {\r\n              return String(value);\r\n            };\r\n\r\n          this.getLegend = this.options.getLegend;\r\n        }\r\n\r\n        if (this.options.vertical) {\r\n          this.positionProperty = 'bottom';\r\n          this.dimensionProperty = 'height';\r\n        }\r\n\r\n        if (this.options.customTemplateScope)\r\n          this.scope.custom = this.options.customTemplateScope;\r\n      },\r\n\r\n      parseStepsArray: function() {\r\n        this.options.floor = 0;\r\n        this.options.ceil = this.options.stepsArray.length - 1;\r\n        this.options.step = 1;\r\n\r\n        if (this.options.translate) {\r\n          this.customTrFn = this.options.translate;\r\n        }\r\n        else {\r\n          this.customTrFn = function(modelValue) {\r\n            if (this.options.bindIndexForStepsArray)\r\n              return this.getStepValue(modelValue);\r\n            return modelValue;\r\n          };\r\n        }\r\n\r\n        this.getLegend = function(index) {\r\n          var step = this.options.stepsArray[index];\r\n          if (angular.isObject(step))\r\n            return step.legend;\r\n          return null;\r\n        };\r\n      },\r\n\r\n      /**\r\n       * Resets slider\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      resetSlider: function() {\r\n        this.manageElementsStyle();\r\n        this.addAccessibility();\r\n        this.setMinAndMax();\r\n        this.updateCeilLab();\r\n        this.updateFloorLab();\r\n        this.unbindEvents();\r\n        this.manageEventsBindings();\r\n        this.setDisabledState();\r\n        this.calcViewDimensions();\r\n        this.refocusPointerIfNeeded();\r\n      },\r\n\r\n      refocusPointerIfNeeded: function() {\r\n        if (this.currentFocusElement) {\r\n          this.onPointerFocus(this.currentFocusElement.pointer, this.currentFocusElement.ref);\r\n          this.focusElement(this.currentFocusElement.pointer)\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Set the slider children to variables for easy access\r\n       *\r\n       * Run only once during initialization\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      initElemHandles: function() {\r\n        // Assign all slider elements to object properties for easy access\r\n        angular.forEach(this.sliderElem.children(), function(elem, index) {\r\n          var jElem = angular.element(elem);\r\n\r\n          switch (index) {\r\n            case 0:\r\n              this.fullBar = jElem;\r\n              break;\r\n            case 1:\r\n              this.selBar = jElem;\r\n              break;\r\n            case 2:\r\n              this.minH = jElem;\r\n              break;\r\n            case 3:\r\n              this.maxH = jElem;\r\n              break;\r\n            case 4:\r\n              this.flrLab = jElem;\r\n              break;\r\n            case 5:\r\n              this.ceilLab = jElem;\r\n              break;\r\n            case 6:\r\n              this.minLab = jElem;\r\n              break;\r\n            case 7:\r\n              this.maxLab = jElem;\r\n              break;\r\n            case 8:\r\n              this.cmbLab = jElem;\r\n              break;\r\n            case 9:\r\n              this.ticks = jElem;\r\n              break;\r\n          }\r\n\r\n        }, this);\r\n\r\n        // Initialize position cache properties\r\n        this.selBar.rzsp = 0;\r\n        this.minH.rzsp = 0;\r\n        this.maxH.rzsp = 0;\r\n        this.flrLab.rzsp = 0;\r\n        this.ceilLab.rzsp = 0;\r\n        this.minLab.rzsp = 0;\r\n        this.maxLab.rzsp = 0;\r\n        this.cmbLab.rzsp = 0;\r\n      },\r\n\r\n      /**\r\n       * Update each elements style based on options\r\n       */\r\n      manageElementsStyle: function() {\r\n\r\n        if (!this.range)\r\n          this.maxH.css('display', 'none');\r\n        else\r\n          this.maxH.css('display', '');\r\n\r\n\r\n        this.alwaysHide(this.flrLab, this.options.showTicksValues || this.options.hideLimitLabels);\r\n        this.alwaysHide(this.ceilLab, this.options.showTicksValues || this.options.hideLimitLabels);\r\n\r\n        var hideLabelsForTicks = this.options.showTicksValues && !this.intermediateTicks;\r\n        this.alwaysHide(this.minLab, hideLabelsForTicks || this.options.hidePointerLabels);\r\n        this.alwaysHide(this.maxLab, hideLabelsForTicks || !this.range || this.options.hidePointerLabels);\r\n        this.alwaysHide(this.cmbLab, hideLabelsForTicks || !this.range || this.options.hidePointerLabels);\r\n        this.alwaysHide(this.selBar, !this.range && !this.options.showSelectionBar);\r\n\r\n        if (this.options.vertical)\r\n          this.sliderElem.addClass('rz-vertical');\r\n\r\n        if (this.options.draggableRange)\r\n          this.selBar.addClass('rz-draggable');\r\n        else\r\n          this.selBar.removeClass('rz-draggable');\r\n\r\n        if (this.intermediateTicks && this.options.showTicksValues)\r\n          this.ticks.addClass('rz-ticks-values-under');\r\n      },\r\n\r\n      alwaysHide: function(el, hide) {\r\n        el.rzAlwaysHide = hide;\r\n        if (hide)\r\n          this.hideEl(el);\r\n        else\r\n          this.showEl(el)\r\n      },\r\n\r\n      /**\r\n       * Manage the events bindings based on readOnly and disabled options\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      manageEventsBindings: function() {\r\n        if (this.options.disabled || this.options.readOnly)\r\n          this.unbindEvents();\r\n        else\r\n          this.bindEvents();\r\n      },\r\n\r\n      /**\r\n       * Set the disabled state based on rzSliderDisabled\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      setDisabledState: function() {\r\n        if (this.options.disabled) {\r\n          this.sliderElem.attr('disabled', 'disabled');\r\n        } else {\r\n          this.sliderElem.attr('disabled', null);\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Reset label values\r\n       *\r\n       * @return {undefined}\r\n       */\r\n      resetLabelsValue: function() {\r\n        this.minLab.rzsv = undefined;\r\n        this.maxLab.rzsv = undefined;\r\n      },\r\n\r\n      /**\r\n       * Initialize slider handles positions and labels\r\n       *\r\n       * Run only once during initialization and every time view port changes size\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      initHandles: function() {\r\n        this.updateLowHandle(this.valueToPosition(this.lowValue));\r\n\r\n        /*\r\n         the order here is important since the selection bar should be\r\n         updated after the high handle but before the combined label\r\n         */\r\n        if (this.range)\r\n          this.updateHighHandle(this.valueToPosition(this.highValue));\r\n        this.updateSelectionBar();\r\n        if (this.range)\r\n          this.updateCmbLabel();\r\n\r\n        this.updateTicksScale();\r\n      },\r\n\r\n      /**\r\n       * Translate value to human readable format\r\n       *\r\n       * @param {number|string} value\r\n       * @param {jqLite} label\r\n       * @param {String} which\r\n       * @param {boolean} [useCustomTr]\r\n       * @returns {undefined}\r\n       */\r\n      translateFn: function(value, label, which, useCustomTr) {\r\n        useCustomTr = useCustomTr === undefined ? true : useCustomTr;\r\n\r\n        var valStr = '',\r\n          getDimension = false,\r\n          noLabelInjection = label.hasClass('no-label-injection');\r\n\r\n        if (useCustomTr) {\r\n          if (this.options.stepsArray && !this.options.bindIndexForStepsArray)\r\n            value = this.getStepValue(value);\r\n          valStr = String(this.customTrFn(value, this.options.id, which));\r\n        }\r\n        else {\r\n          valStr = String(value)\r\n        }\r\n\r\n        if (label.rzsv === undefined || label.rzsv.length !== valStr.length || (label.rzsv.length > 0 && label.rzsd === 0)) {\r\n          getDimension = true;\r\n          label.rzsv = valStr;\r\n        }\r\n\r\n        if (!noLabelInjection) {\r\n          label.html(valStr);\r\n        }\r\n        ;\r\n\r\n        this.scope[which + 'Label'] = valStr;\r\n\r\n        // Update width only when length of the label have changed\r\n        if (getDimension) {\r\n          this.getDimension(label);\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Set maximum and minimum values for the slider and ensure the model and high\r\n       * value match these limits\r\n       * @returns {undefined}\r\n       */\r\n      setMinAndMax: function() {\r\n\r\n        this.step = +this.options.step;\r\n        this.precision = +this.options.precision;\r\n\r\n        this.minValue = this.options.floor;\r\n        if (this.options.logScale && this.minValue === 0)\r\n          throw Error(\"Can't use floor=0 with logarithmic scale\");\r\n\r\n        if (this.options.enforceStep) {\r\n          this.lowValue = this.roundStep(this.lowValue);\r\n          if (this.range)\r\n            this.highValue = this.roundStep(this.highValue);\r\n        }\r\n\r\n        if (this.options.ceil != null)\r\n          this.maxValue = this.options.ceil;\r\n        else\r\n          this.maxValue = this.options.ceil = this.range ? this.highValue : this.lowValue;\r\n\r\n        if (this.options.enforceRange) {\r\n          this.lowValue = this.sanitizeValue(this.lowValue);\r\n          if (this.range)\r\n            this.highValue = this.sanitizeValue(this.highValue);\r\n        }\r\n\r\n        this.applyLowValue();\r\n        if (this.range)\r\n          this.applyHighValue();\r\n\r\n        this.valueRange = this.maxValue - this.minValue;\r\n      },\r\n\r\n      /**\r\n       * Adds accessibility attributes\r\n       *\r\n       * Run only once during initialization\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      addAccessibility: function() {\r\n        this.minH.attr('role', 'slider');\r\n        this.updateAriaAttributes();\r\n        if (this.options.keyboardSupport && !(this.options.readOnly || this.options.disabled))\r\n          this.minH.attr('tabindex', '0');\r\n        else\r\n          this.minH.attr('tabindex', '');\r\n        if (this.options.vertical)\r\n          this.minH.attr('aria-orientation', 'vertical');\r\n\r\n        if (this.range) {\r\n          this.maxH.attr('role', 'slider');\r\n          if (this.options.keyboardSupport && !(this.options.readOnly || this.options.disabled))\r\n            this.maxH.attr('tabindex', '0');\r\n          else\r\n            this.maxH.attr('tabindex', '');\r\n          if (this.options.vertical)\r\n            this.maxH.attr('aria-orientation', 'vertical');\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Updates aria attributes according to current values\r\n       */\r\n      updateAriaAttributes: function() {\r\n        this.minH.attr({\r\n          'aria-valuenow': this.scope.rzSliderModel,\r\n          'aria-valuetext': this.customTrFn(this.scope.rzSliderModel, this.options.id, 'model'),\r\n          'aria-valuemin': this.minValue,\r\n          'aria-valuemax': this.maxValue\r\n        });\r\n        if (this.range) {\r\n          this.maxH.attr({\r\n            'aria-valuenow': this.scope.rzSliderHigh,\r\n            'aria-valuetext': this.customTrFn(this.scope.rzSliderHigh, this.options.id, 'high'),\r\n            'aria-valuemin': this.minValue,\r\n            'aria-valuemax': this.maxValue\r\n          });\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Calculate dimensions that are dependent on view port size\r\n       *\r\n       * Run once during initialization and every time view port changes size.\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      calcViewDimensions: function() {\r\n        var handleWidth = this.getDimension(this.minH);\r\n\r\n        this.handleHalfDim = handleWidth / 2;\r\n        this.barDimension = this.getDimension(this.fullBar);\r\n\r\n        this.maxPos = this.barDimension - handleWidth;\r\n\r\n        this.getDimension(this.sliderElem);\r\n        this.sliderElem.rzsp = this.sliderElem[0].getBoundingClientRect()[this.positionProperty];\r\n\r\n        if (this.initHasRun) {\r\n          this.updateFloorLab();\r\n          this.updateCeilLab();\r\n          this.initHandles();\r\n          var self = this;\r\n          $timeout(function() {\r\n            self.updateTicksScale();\r\n          });\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Update the ticks position\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      updateTicksScale: function() {\r\n        if (!this.options.showTicks) return;\r\n\r\n        var ticksArray = this.options.ticksArray || this.getTicksArray(),\r\n          translate = this.options.vertical ? 'translateY' : 'translateX',\r\n          self = this;\r\n\r\n        if (this.options.rightToLeft)\r\n          ticksArray.reverse();\r\n\r\n        this.scope.ticks = ticksArray.map(function(value) {\r\n          var position = self.valueToPosition(value);\r\n\r\n          if (self.options.vertical)\r\n            position = self.maxPos - position;\r\n\r\n          var tick = {\r\n            selected: self.isTickSelected(value),\r\n            style: {\r\n              transform: translate + '(' + Math.round(position) + 'px)'\r\n            }\r\n          };\r\n          if (tick.selected && self.options.getSelectionBarColor) {\r\n            tick.style['background-color'] = self.getSelectionBarColor();\r\n          }\r\n          if (!tick.selected && self.options.getTickColor) {\r\n            tick.style['background-color'] = self.getTickColor(value);\r\n          }\r\n          if (self.options.ticksTooltip) {\r\n            tick.tooltip = self.options.ticksTooltip(value);\r\n            tick.tooltipPlacement = self.options.vertical ? 'right' : 'top';\r\n          }\r\n          if (self.options.showTicksValues) {\r\n            tick.value = self.getDisplayValue(value, 'tick-value');\r\n            if (self.options.ticksValuesTooltip) {\r\n              tick.valueTooltip = self.options.ticksValuesTooltip(value);\r\n              tick.valueTooltipPlacement = self.options.vertical ? 'right' : 'top';\r\n            }\r\n          }\r\n          if (self.getLegend) {\r\n            var legend = self.getLegend(value, self.options.id);\r\n            if (legend)\r\n              tick.legend = legend;\r\n          }\r\n          return tick;\r\n        });\r\n      },\r\n\r\n      getTicksArray: function() {\r\n        var step = this.step,\r\n          ticksArray = [];\r\n        if (this.intermediateTicks)\r\n          step = this.options.showTicks;\r\n        for (var value = this.minValue; value <= this.maxValue; value += step) {\r\n          ticksArray.push(value);\r\n        }\r\n        return ticksArray;\r\n      },\r\n\r\n      isTickSelected: function(value) {\r\n        if (!this.range) {\r\n          if (this.options.showSelectionBarFromValue !== null) {\r\n            var center = this.options.showSelectionBarFromValue;\r\n            if (this.lowValue > center && value >= center && value <= this.lowValue)\r\n              return true;\r\n            else if (this.lowValue < center && value <= center && value >= this.lowValue)\r\n              return true;\r\n          }\r\n          else if (this.options.showSelectionBarEnd) {\r\n            if (value >= this.lowValue)\r\n              return true;\r\n          }\r\n          else if (this.options.showSelectionBar && value <= this.lowValue)\r\n            return true;\r\n        }\r\n        if (this.range && value >= this.lowValue && value <= this.highValue)\r\n          return true;\r\n        return false;\r\n      },\r\n\r\n      /**\r\n       * Update position of the floor label\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      updateFloorLab: function() {\r\n        this.translateFn(this.minValue, this.flrLab, 'floor');\r\n        this.getDimension(this.flrLab);\r\n        var position = this.options.rightToLeft ? this.barDimension - this.flrLab.rzsd : 0;\r\n        this.setPosition(this.flrLab, position);\r\n      },\r\n\r\n      /**\r\n       * Update position of the ceiling label\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      updateCeilLab: function() {\r\n        this.translateFn(this.maxValue, this.ceilLab, 'ceil');\r\n        this.getDimension(this.ceilLab);\r\n        var position = this.options.rightToLeft ? 0 : this.barDimension - this.ceilLab.rzsd;\r\n        this.setPosition(this.ceilLab, position);\r\n      },\r\n\r\n      /**\r\n       * Update slider handles and label positions\r\n       *\r\n       * @param {string} which\r\n       * @param {number} newPos\r\n       */\r\n      updateHandles: function(which, newPos) {\r\n        if (which === 'lowValue')\r\n          this.updateLowHandle(newPos);\r\n        else\r\n          this.updateHighHandle(newPos);\r\n\r\n        this.updateSelectionBar();\r\n        this.updateTicksScale();\r\n        if (this.range)\r\n          this.updateCmbLabel();\r\n      },\r\n\r\n      /**\r\n       * Helper function to work out the position for handle labels depending on RTL or not\r\n       *\r\n       * @param {string} labelName maxLab or minLab\r\n       * @param newPos\r\n       *\r\n       * @returns {number}\r\n       */\r\n      getHandleLabelPos: function(labelName, newPos) {\r\n        var labelRzsd = this[labelName].rzsd,\r\n          nearHandlePos = newPos - labelRzsd / 2 + this.handleHalfDim,\r\n          endOfBarPos = this.barDimension - labelRzsd;\r\n\r\n        if (!this.options.boundPointerLabels)\r\n          return nearHandlePos;\r\n\r\n        if (this.options.rightToLeft && labelName === 'minLab' || !this.options.rightToLeft && labelName === 'maxLab') {\r\n          return Math.min(nearHandlePos, endOfBarPos);\r\n        } else {\r\n          return Math.min(Math.max(nearHandlePos, 0), endOfBarPos);\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Update low slider handle position and label\r\n       *\r\n       * @param {number} newPos\r\n       * @returns {undefined}\r\n       */\r\n      updateLowHandle: function(newPos) {\r\n        this.setPosition(this.minH, newPos);\r\n        this.translateFn(this.lowValue, this.minLab, 'model');\r\n        this.setPosition(this.minLab, this.getHandleLabelPos('minLab', newPos));\r\n\r\n        if (this.options.getPointerColor) {\r\n          var pointercolor = this.getPointerColor('min');\r\n          this.scope.minPointerStyle = {\r\n            backgroundColor: pointercolor\r\n          };\r\n        }\r\n\r\n        if (this.options.autoHideLimitLabels) {\r\n          this.shFloorCeil();\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Update high slider handle position and label\r\n       *\r\n       * @param {number} newPos\r\n       * @returns {undefined}\r\n       */\r\n      updateHighHandle: function(newPos) {\r\n        this.setPosition(this.maxH, newPos);\r\n        this.translateFn(this.highValue, this.maxLab, 'high');\r\n        this.setPosition(this.maxLab, this.getHandleLabelPos('maxLab', newPos));\r\n\r\n        if (this.options.getPointerColor) {\r\n          var pointercolor = this.getPointerColor('max');\r\n          this.scope.maxPointerStyle = {\r\n            backgroundColor: pointercolor\r\n          };\r\n        }\r\n        if (this.options.autoHideLimitLabels) {\r\n          this.shFloorCeil();\r\n        }\r\n\r\n      },\r\n\r\n      /**\r\n       * Show/hide floor/ceiling label\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      shFloorCeil: function() {\r\n        // Show based only on hideLimitLabels if pointer labels are hidden\r\n        if (this.options.hidePointerLabels) {\r\n          return;\r\n        }\r\n        var flHidden = false,\r\n          clHidden = false,\r\n          isMinLabAtFloor = this.isLabelBelowFloorLab(this.minLab),\r\n          isMinLabAtCeil = this.isLabelAboveCeilLab(this.minLab),\r\n          isMaxLabAtCeil = this.isLabelAboveCeilLab(this.maxLab),\r\n          isCmbLabAtFloor = this.isLabelBelowFloorLab(this.cmbLab),\r\n          isCmbLabAtCeil =  this.isLabelAboveCeilLab(this.cmbLab);\r\n\r\n        if (isMinLabAtFloor) {\r\n          flHidden = true;\r\n          this.hideEl(this.flrLab);\r\n        } else {\r\n          flHidden = false;\r\n          this.showEl(this.flrLab);\r\n        }\r\n\r\n        if (isMinLabAtCeil) {\r\n          clHidden = true;\r\n          this.hideEl(this.ceilLab);\r\n        } else {\r\n          clHidden = false;\r\n          this.showEl(this.ceilLab);\r\n        }\r\n\r\n        if (this.range) {\r\n          var hideCeil = this.cmbLabelShown ? isCmbLabAtCeil : isMaxLabAtCeil;\r\n          var hideFloor = this.cmbLabelShown ? isCmbLabAtFloor : isMinLabAtFloor;\r\n\r\n          if (hideCeil) {\r\n            this.hideEl(this.ceilLab);\r\n          } else if (!clHidden) {\r\n            this.showEl(this.ceilLab);\r\n          }\r\n\r\n          // Hide or show floor label\r\n          if (hideFloor) {\r\n            this.hideEl(this.flrLab);\r\n          } else if (!flHidden) {\r\n            this.showEl(this.flrLab);\r\n          }\r\n        }\r\n      },\r\n\r\n      isLabelBelowFloorLab: function(label) {\r\n        var isRTL = this.options.rightToLeft,\r\n          pos = label.rzsp,\r\n          dim = label.rzsd,\r\n          floorPos = this.flrLab.rzsp,\r\n          floorDim = this.flrLab.rzsd;\r\n        return isRTL ?\r\n        pos + dim >= floorPos - 2 :\r\n        pos <= floorPos + floorDim + 2;\r\n      },\r\n\r\n      isLabelAboveCeilLab: function(label) {\r\n        var isRTL = this.options.rightToLeft,\r\n          pos = label.rzsp,\r\n          dim = label.rzsd,\r\n          ceilPos = this.ceilLab.rzsp,\r\n          ceilDim = this.ceilLab.rzsd;\r\n        return isRTL ?\r\n        pos <= ceilPos + ceilDim + 2 :\r\n        pos + dim >= ceilPos - 2;\r\n      },\r\n\r\n      /**\r\n       * Update slider selection bar, combined label and range label\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      updateSelectionBar: function() {\r\n        var position = 0,\r\n          dimension = 0,\r\n          isSelectionBarFromRight = this.options.rightToLeft ? !this.options.showSelectionBarEnd : this.options.showSelectionBarEnd,\r\n          positionForRange = this.options.rightToLeft ? this.maxH.rzsp + this.handleHalfDim : this.minH.rzsp + this.handleHalfDim;\r\n\r\n        if (this.range) {\r\n          dimension = Math.abs(this.maxH.rzsp - this.minH.rzsp);\r\n          position = positionForRange;\r\n        }\r\n        else {\r\n          if (this.options.showSelectionBarFromValue !== null) {\r\n            var center = this.options.showSelectionBarFromValue,\r\n              centerPosition = this.valueToPosition(center),\r\n              isModelGreaterThanCenter = this.options.rightToLeft ? this.lowValue <= center : this.lowValue > center;\r\n            if (isModelGreaterThanCenter) {\r\n              dimension = this.minH.rzsp - centerPosition;\r\n              position = centerPosition + this.handleHalfDim;\r\n            }\r\n            else {\r\n              dimension = centerPosition - this.minH.rzsp;\r\n              position = this.minH.rzsp + this.handleHalfDim;\r\n            }\r\n          }\r\n          else if (isSelectionBarFromRight) {\r\n            dimension = Math.abs(this.maxPos - this.minH.rzsp) + this.handleHalfDim;\r\n            position = this.minH.rzsp + this.handleHalfDim;\r\n          } else {\r\n            dimension = Math.abs(this.maxH.rzsp - this.minH.rzsp) + this.handleHalfDim;\r\n            position = 0;\r\n          }\r\n        }\r\n        this.setDimension(this.selBar, dimension);\r\n        this.setPosition(this.selBar, position);\r\n        if (this.options.getSelectionBarColor) {\r\n          var color = this.getSelectionBarColor();\r\n          this.scope.barStyle = {\r\n            backgroundColor: color\r\n          };\r\n        } else if (this.options.selectionBarGradient) {\r\n          var offset = this.options.showSelectionBarFromValue !== null ? this.valueToPosition(this.options.showSelectionBarFromValue) : 0,\r\n            reversed = offset - position > 0 ^ isSelectionBarFromRight,\r\n            direction = this.options.vertical ? (reversed ? 'bottom' : 'top') : (reversed ? 'left' : 'right');\r\n          this.scope.barStyle = {\r\n            backgroundImage: 'linear-gradient(to ' + direction + ', ' + this.options.selectionBarGradient.from + ' 0%,' + this.options.selectionBarGradient.to + ' 100%)'\r\n          };\r\n          if (this.options.vertical) {\r\n            this.scope.barStyle.backgroundPosition = 'center ' + (offset + dimension + position + (reversed ? -this.handleHalfDim : 0)) + 'px';\r\n            this.scope.barStyle.backgroundSize = '100% ' + (this.barDimension - this.handleHalfDim) + 'px';\r\n          } else {\r\n            this.scope.barStyle.backgroundPosition = (offset - position + (reversed ? this.handleHalfDim : 0)) + 'px center';\r\n            this.scope.barStyle.backgroundSize = (this.barDimension - this.handleHalfDim) + 'px 100%';\r\n          }\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Wrapper around the getSelectionBarColor of the user to pass to\r\n       * correct parameters\r\n       */\r\n      getSelectionBarColor: function() {\r\n        if (this.range)\r\n          return this.options.getSelectionBarColor(this.scope.rzSliderModel, this.scope.rzSliderHigh);\r\n        return this.options.getSelectionBarColor(this.scope.rzSliderModel);\r\n      },\r\n\r\n      /**\r\n       * Wrapper around the getPointerColor of the user to pass to\r\n       * correct parameters\r\n       */\r\n      getPointerColor: function(pointerType) {\r\n        if (pointerType === 'max') {\r\n          return this.options.getPointerColor(this.scope.rzSliderHigh, pointerType);\r\n        }\r\n        return this.options.getPointerColor(this.scope.rzSliderModel, pointerType);\r\n      },\r\n\r\n      /**\r\n       * Wrapper around the getTickColor of the user to pass to\r\n       * correct parameters\r\n       */\r\n      getTickColor: function(value) {\r\n        return this.options.getTickColor(value);\r\n      },\r\n\r\n      /**\r\n       * Update combined label position and value\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      updateCmbLabel: function() {\r\n        var isLabelOverlap = null;\r\n        if (this.options.rightToLeft) {\r\n          isLabelOverlap = this.minLab.rzsp - this.minLab.rzsd - 10 <= this.maxLab.rzsp;\r\n        } else {\r\n          isLabelOverlap = this.minLab.rzsp + this.minLab.rzsd + 10 >= this.maxLab.rzsp;\r\n        }\r\n\r\n        if (isLabelOverlap) {\r\n          var lowTr = this.getDisplayValue(this.lowValue, 'model'),\r\n            highTr = this.getDisplayValue(this.highValue, 'high'),\r\n            labelVal = '';\r\n          if (this.options.mergeRangeLabelsIfSame && lowTr === highTr) {\r\n            labelVal = lowTr;\r\n          } else {\r\n            labelVal = this.options.rightToLeft ? highTr + ' - ' + lowTr : lowTr + ' - ' + highTr;\r\n          }\r\n\r\n          this.translateFn(labelVal, this.cmbLab, 'cmb', false);\r\n          var pos = this.options.boundPointerLabels ? Math.min(\r\n            Math.max(\r\n              this.selBar.rzsp + this.selBar.rzsd / 2 - this.cmbLab.rzsd / 2,\r\n              0\r\n            ),\r\n            this.barDimension - this.cmbLab.rzsd\r\n          ) : this.selBar.rzsp + this.selBar.rzsd / 2 - this.cmbLab.rzsd / 2;\r\n\r\n          this.setPosition(this.cmbLab, pos);\r\n          this.cmbLabelShown = true;\r\n          this.hideEl(this.minLab);\r\n          this.hideEl(this.maxLab);\r\n          this.showEl(this.cmbLab);\r\n        } else {\r\n          this.cmbLabelShown = false;\r\n          this.showEl(this.maxLab);\r\n          this.showEl(this.minLab);\r\n          this.hideEl(this.cmbLab);\r\n        }\r\n        if (this.options.autoHideLimitLabels) {\r\n          this.shFloorCeil();\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Return the translated value if a translate function is provided else the original value\r\n       * @param value\r\n       * @param which if it's min or max handle\r\n       * @returns {*}\r\n       */\r\n      getDisplayValue: function(value, which) {\r\n        if (this.options.stepsArray && !this.options.bindIndexForStepsArray) {\r\n          value = this.getStepValue(value);\r\n        }\r\n        return this.customTrFn(value, this.options.id, which);\r\n      },\r\n\r\n      /**\r\n       * Round value to step and precision based on minValue\r\n       *\r\n       * @param {number} value\r\n       * @param {number} customStep a custom step to override the defined step\r\n       * @returns {number}\r\n       */\r\n      roundStep: function(value, customStep) {\r\n        var step = customStep ? customStep : this.step,\r\n          steppedDifference = parseFloat((value - this.minValue) / step).toPrecision(12);\r\n        steppedDifference = Math.round(+steppedDifference) * step;\r\n        var newValue = (this.minValue + steppedDifference).toFixed(this.precision);\r\n        return +newValue;\r\n      },\r\n\r\n      /**\r\n       * Hide element\r\n       *\r\n       * @param element\r\n       * @returns {jqLite} The jqLite wrapped DOM element\r\n       */\r\n      hideEl: function(element) {\r\n        return element.css({\r\n          visibility: 'hidden'\r\n        });\r\n      },\r\n\r\n      /**\r\n       * Show element\r\n       *\r\n       * @param element The jqLite wrapped DOM element\r\n       * @returns {jqLite} The jqLite\r\n       */\r\n      showEl: function(element) {\r\n        if (!!element.rzAlwaysHide) {\r\n          return element;\r\n        }\r\n\r\n        return element.css({\r\n          visibility: 'visible'\r\n        });\r\n      },\r\n\r\n      /**\r\n       * Set element left/top position depending on whether slider is horizontal or vertical\r\n       *\r\n       * @param {jqLite} elem The jqLite wrapped DOM element\r\n       * @param {number} pos\r\n       * @returns {number}\r\n       */\r\n      setPosition: function(elem, pos) {\r\n        elem.rzsp = pos;\r\n        var css = {};\r\n        css[this.positionProperty] = Math.round(pos) + 'px';\r\n        elem.css(css);\r\n        return pos;\r\n      },\r\n\r\n      /**\r\n       * Get element width/height depending on whether slider is horizontal or vertical\r\n       *\r\n       * @param {jqLite} elem The jqLite wrapped DOM element\r\n       * @returns {number}\r\n       */\r\n      getDimension: function(elem) {\r\n        var val = elem[0].getBoundingClientRect();\r\n        if (this.options.vertical)\r\n          elem.rzsd = (val.bottom - val.top) * this.options.scale;\r\n        else\r\n          elem.rzsd = (val.right - val.left) * this.options.scale;\r\n        return elem.rzsd;\r\n      },\r\n\r\n      /**\r\n       * Set element width/height depending on whether slider is horizontal or vertical\r\n       *\r\n       * @param {jqLite} elem  The jqLite wrapped DOM element\r\n       * @param {number} dim\r\n       * @returns {number}\r\n       */\r\n      setDimension: function(elem, dim) {\r\n        elem.rzsd = dim;\r\n        var css = {};\r\n        css[this.dimensionProperty] = Math.round(dim) + 'px';\r\n        elem.css(css);\r\n        return dim;\r\n      },\r\n\r\n      /**\r\n       * Returns a value that is within slider range\r\n       *\r\n       * @param {number} val\r\n       * @returns {number}\r\n       */\r\n      sanitizeValue: function(val) {\r\n        return Math.min(Math.max(val, this.minValue), this.maxValue);\r\n      },\r\n\r\n      /**\r\n       * Translate value to pixel position\r\n       *\r\n       * @param {number} val\r\n       * @returns {number}\r\n       */\r\n      valueToPosition: function(val) {\r\n        var fn = this.linearValueToPosition;\r\n        if (this.options.customValueToPosition)\r\n          fn = this.options.customValueToPosition;\r\n        else if (this.options.logScale)\r\n          fn = this.logValueToPosition;\r\n\r\n        val = this.sanitizeValue(val);\r\n        var percent = fn(val, this.minValue, this.maxValue) || 0;\r\n        if (this.options.rightToLeft)\r\n          percent = 1 - percent;\r\n        return percent * this.maxPos;\r\n      },\r\n\r\n      linearValueToPosition: function(val, minVal, maxVal) {\r\n        var range = maxVal - minVal;\r\n        return (val - minVal) / range;\r\n      },\r\n\r\n      logValueToPosition: function(val, minVal, maxVal) {\r\n        val = Math.log(val);\r\n        minVal = Math.log(minVal);\r\n        maxVal = Math.log(maxVal);\r\n        var range = maxVal - minVal;\r\n        return (val - minVal) / range;\r\n      },\r\n\r\n      /**\r\n       * Translate position to model value\r\n       *\r\n       * @param {number} position\r\n       * @returns {number}\r\n       */\r\n      positionToValue: function(position) {\r\n        var percent = position / this.maxPos;\r\n        if (this.options.rightToLeft)\r\n          percent = 1 - percent;\r\n        var fn = this.linearPositionToValue;\r\n        if (this.options.customPositionToValue)\r\n          fn = this.options.customPositionToValue;\r\n        else if (this.options.logScale)\r\n          fn = this.logPositionToValue;\r\n        return fn(percent, this.minValue, this.maxValue) || 0;\r\n      },\r\n\r\n      linearPositionToValue: function(percent, minVal, maxVal) {\r\n        return percent * (maxVal - minVal) + minVal;\r\n      },\r\n\r\n      logPositionToValue: function(percent, minVal, maxVal) {\r\n        minVal = Math.log(minVal);\r\n        maxVal = Math.log(maxVal);\r\n        var value = percent * (maxVal - minVal) + minVal;\r\n        return Math.exp(value);\r\n      },\r\n\r\n      // Events\r\n      /**\r\n       * Get the X-coordinate or Y-coordinate of an event\r\n       *\r\n       * @param {Object} event  The event\r\n       * @returns {number}\r\n       */\r\n      getEventXY: function(event) {\r\n        /* http://stackoverflow.com/a/12336075/282882 */\r\n        //noinspection JSLint\r\n        var clientXY = this.options.vertical ? 'clientY' : 'clientX';\r\n        if (event[clientXY] !== undefined) {\r\n          return event[clientXY];\r\n        }\r\n\r\n        return event.originalEvent === undefined ?\r\n          event.touches[0][clientXY] : event.originalEvent.touches[0][clientXY];\r\n      },\r\n\r\n      /**\r\n       * Compute the event position depending on whether the slider is horizontal or vertical\r\n       * @param event\r\n       * @returns {number}\r\n       */\r\n      getEventPosition: function(event) {\r\n        var sliderPos = this.sliderElem.rzsp,\r\n          eventPos = 0;\r\n        if (this.options.vertical)\r\n          eventPos = -this.getEventXY(event) + sliderPos;\r\n        else\r\n          eventPos = this.getEventXY(event) - sliderPos;\r\n        return eventPos * this.options.scale - this.handleHalfDim; // #346 handleHalfDim is already scaled\r\n      },\r\n\r\n      /**\r\n       * Get event names for move and event end\r\n       *\r\n       * @param {Event}    event    The event\r\n       *\r\n       * @return {{moveEvent: string, endEvent: string}}\r\n       */\r\n      getEventNames: function(event) {\r\n        var eventNames = {\r\n          moveEvent: '',\r\n          endEvent: ''\r\n        };\r\n\r\n        if (event.touches || (event.originalEvent !== undefined && event.originalEvent.touches)) {\r\n          eventNames.moveEvent = 'touchmove';\r\n          eventNames.endEvent = 'touchend';\r\n        } else {\r\n          eventNames.moveEvent = 'mousemove';\r\n          eventNames.endEvent = 'mouseup';\r\n        }\r\n\r\n        return eventNames;\r\n      },\r\n\r\n      /**\r\n       * Get the handle closest to an event.\r\n       *\r\n       * @param event {Event} The event\r\n       * @returns {jqLite} The handle closest to the event.\r\n       */\r\n      getNearestHandle: function(event) {\r\n        if (!this.range) {\r\n          return this.minH;\r\n        }\r\n        var position = this.getEventPosition(event),\r\n          distanceMin = Math.abs(position - this.minH.rzsp),\r\n          distanceMax = Math.abs(position - this.maxH.rzsp);\r\n        if (distanceMin < distanceMax)\r\n          return this.minH;\r\n        else if (distanceMin > distanceMax)\r\n          return this.maxH;\r\n        else if (!this.options.rightToLeft)\r\n        //if event is at the same distance from min/max then if it's at left of minH, we return minH else maxH\r\n          return position < this.minH.rzsp ? this.minH : this.maxH;\r\n        else\r\n        //reverse in rtl\r\n          return position > this.minH.rzsp ? this.minH : this.maxH;\r\n      },\r\n\r\n      /**\r\n       * Wrapper function to focus an angular element\r\n       *\r\n       * @param el {AngularElement} the element to focus\r\n       */\r\n      focusElement: function(el) {\r\n        var DOM_ELEMENT = 0;\r\n        el[DOM_ELEMENT].focus();\r\n      },\r\n\r\n      /**\r\n       * Bind mouse and touch events to slider handles\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      bindEvents: function() {\r\n        var barTracking, barStart, barMove;\r\n\r\n        if (this.options.draggableRange) {\r\n          barTracking = 'rzSliderDrag';\r\n          barStart = this.onDragStart;\r\n          barMove = this.onDragMove;\r\n        } else {\r\n          barTracking = 'lowValue';\r\n          barStart = this.onStart;\r\n          barMove = this.onMove;\r\n        }\r\n\r\n        if (!this.options.onlyBindHandles) {\r\n          this.selBar.on('mousedown', angular.bind(this, barStart, null, barTracking));\r\n          this.selBar.on('mousedown', angular.bind(this, barMove, this.selBar));\r\n        }\r\n\r\n        if (this.options.draggableRangeOnly) {\r\n          this.minH.on('mousedown', angular.bind(this, barStart, null, barTracking));\r\n          this.maxH.on('mousedown', angular.bind(this, barStart, null, barTracking));\r\n        } else {\r\n          this.minH.on('mousedown', angular.bind(this, this.onStart, this.minH, 'lowValue'));\r\n          if (this.range) {\r\n            this.maxH.on('mousedown', angular.bind(this, this.onStart, this.maxH, 'highValue'));\r\n          }\r\n          if (!this.options.onlyBindHandles) {\r\n            this.fullBar.on('mousedown', angular.bind(this, this.onStart, null, null));\r\n            this.fullBar.on('mousedown', angular.bind(this, this.onMove, this.fullBar));\r\n            this.ticks.on('mousedown', angular.bind(this, this.onStart, null, null));\r\n            this.ticks.on('mousedown', angular.bind(this, this.onTickClick, this.ticks));\r\n          }\r\n        }\r\n\r\n        if (!this.options.onlyBindHandles) {\r\n          this.selBar.on('touchstart', angular.bind(this, barStart, null, barTracking));\r\n          this.selBar.on('touchstart', angular.bind(this, barMove, this.selBar));\r\n        }\r\n        if (this.options.draggableRangeOnly) {\r\n          this.minH.on('touchstart', angular.bind(this, barStart, null, barTracking));\r\n          this.maxH.on('touchstart', angular.bind(this, barStart, null, barTracking));\r\n        } else {\r\n          this.minH.on('touchstart', angular.bind(this, this.onStart, this.minH, 'lowValue'));\r\n          if (this.range) {\r\n            this.maxH.on('touchstart', angular.bind(this, this.onStart, this.maxH, 'highValue'));\r\n          }\r\n          if (!this.options.onlyBindHandles) {\r\n            this.fullBar.on('touchstart', angular.bind(this, this.onStart, null, null));\r\n            this.fullBar.on('touchstart', angular.bind(this, this.onMove, this.fullBar));\r\n            this.ticks.on('touchstart', angular.bind(this, this.onStart, null, null));\r\n            this.ticks.on('touchstart', angular.bind(this, this.onTickClick, this.ticks));\r\n          }\r\n        }\r\n\r\n        if (this.options.keyboardSupport) {\r\n          this.minH.on('focus', angular.bind(this, this.onPointerFocus, this.minH, 'lowValue'));\r\n          if (this.range) {\r\n            this.maxH.on('focus', angular.bind(this, this.onPointerFocus, this.maxH, 'highValue'));\r\n          }\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Unbind mouse and touch events to slider handles\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      unbindEvents: function() {\r\n        this.minH.off();\r\n        this.maxH.off();\r\n        this.fullBar.off();\r\n        this.selBar.off();\r\n        this.ticks.off();\r\n      },\r\n\r\n      /**\r\n       * onStart event handler\r\n       *\r\n       * @param {?Object} pointer The jqLite wrapped DOM element; if null, the closest handle is used\r\n       * @param {?string} ref     The name of the handle being changed; if null, the closest handle's value is modified\r\n       * @param {Event}   event   The event\r\n       * @returns {undefined}\r\n       */\r\n      onStart: function(pointer, ref, event) {\r\n        var ehMove, ehEnd,\r\n          eventNames = this.getEventNames(event);\r\n\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n\r\n        // We have to do this in case the HTML where the sliders are on\r\n        // have been animated into view.\r\n        this.calcViewDimensions();\r\n\r\n        if (pointer) {\r\n          this.tracking = ref;\r\n        } else {\r\n          pointer = this.getNearestHandle(event);\r\n          this.tracking = pointer === this.minH ? 'lowValue' : 'highValue';\r\n        }\r\n\r\n        pointer.addClass('rz-active');\r\n\r\n        if (this.options.keyboardSupport)\r\n          this.focusElement(pointer);\r\n\r\n        ehMove = angular.bind(this, this.dragging.active ? this.onDragMove : this.onMove, pointer);\r\n        ehEnd = angular.bind(this, this.onEnd, ehMove);\r\n\r\n        $document.on(eventNames.moveEvent, ehMove);\r\n        $document.one(eventNames.endEvent, ehEnd);\r\n        this.callOnStart();\r\n      },\r\n\r\n      /**\r\n       * onMove event handler\r\n       *\r\n       * @param {jqLite} pointer\r\n       * @param {Event}  event The event\r\n       * @param {boolean}  fromTick if the event occured on a tick or not\r\n       * @returns {undefined}\r\n       */\r\n      onMove: function(pointer, event, fromTick) {\r\n        var newPos = this.getEventPosition(event),\r\n          newValue,\r\n          ceilValue = this.options.rightToLeft ? this.minValue : this.maxValue,\r\n          flrValue = this.options.rightToLeft ? this.maxValue : this.minValue;\r\n\r\n        if (newPos <= 0) {\r\n          newValue = flrValue;\r\n        } else if (newPos >= this.maxPos) {\r\n          newValue = ceilValue;\r\n        } else {\r\n          newValue = this.positionToValue(newPos);\r\n          if (fromTick && angular.isNumber(this.options.showTicks))\r\n            newValue = this.roundStep(newValue, this.options.showTicks);\r\n          else\r\n            newValue = this.roundStep(newValue);\r\n        }\r\n        this.positionTrackingHandle(newValue);\r\n      },\r\n\r\n      /**\r\n       * onEnd event handler\r\n       *\r\n       * @param {Event}    event    The event\r\n       * @param {Function} ehMove   The the bound move event handler\r\n       * @returns {undefined}\r\n       */\r\n      onEnd: function(ehMove, event) {\r\n        var moveEventName = this.getEventNames(event).moveEvent;\r\n\r\n        if (!this.options.keyboardSupport) {\r\n          this.minH.removeClass('rz-active');\r\n          this.maxH.removeClass('rz-active');\r\n          this.tracking = '';\r\n        }\r\n        this.dragging.active = false;\r\n\r\n        $document.off(moveEventName, ehMove);\r\n        this.callOnEnd();\r\n      },\r\n\r\n      onTickClick: function(pointer, event) {\r\n        this.onMove(pointer, event, true);\r\n      },\r\n\r\n      onPointerFocus: function(pointer, ref) {\r\n        this.tracking = ref;\r\n        pointer.one('blur', angular.bind(this, this.onPointerBlur, pointer));\r\n        pointer.on('keydown', angular.bind(this, this.onKeyboardEvent));\r\n        pointer.on('keyup', angular.bind(this, this.onKeyUp));\r\n        this.firstKeyDown = true;\r\n        pointer.addClass('rz-active');\r\n\r\n        this.currentFocusElement = {\r\n          pointer: pointer,\r\n          ref: ref\r\n        };\r\n      },\r\n\r\n      onKeyUp: function() {\r\n        this.firstKeyDown = true;\r\n        this.callOnEnd();\r\n      },\r\n\r\n      onPointerBlur: function(pointer) {\r\n        pointer.off('keydown');\r\n        pointer.off('keyup');\r\n        this.tracking = '';\r\n        pointer.removeClass('rz-active');\r\n        this.currentFocusElement = null\r\n      },\r\n\r\n      /**\r\n       * Key actions helper function\r\n       *\r\n       * @param {number} currentValue value of the slider\r\n       *\r\n       * @returns {?Object} action value mappings\r\n       */\r\n      getKeyActions: function(currentValue) {\r\n        var increaseStep = currentValue + this.step,\r\n          decreaseStep = currentValue - this.step,\r\n          increasePage = currentValue + this.valueRange / 10,\r\n          decreasePage = currentValue - this.valueRange / 10;\r\n\r\n        //Left to right default actions\r\n        var actions = {\r\n          'UP': increaseStep,\r\n          'DOWN': decreaseStep,\r\n          'LEFT': decreaseStep,\r\n          'RIGHT': increaseStep,\r\n          'PAGEUP': increasePage,\r\n          'PAGEDOWN': decreasePage,\r\n          'HOME': this.minValue,\r\n          'END': this.maxValue\r\n        };\r\n        //right to left means swapping right and left arrows\r\n        if (this.options.rightToLeft) {\r\n          actions.LEFT = increaseStep;\r\n          actions.RIGHT = decreaseStep;\r\n          // right to left and vertical means we also swap up and down\r\n          if (this.options.vertical) {\r\n            actions.UP = decreaseStep;\r\n            actions.DOWN = increaseStep;\r\n          }\r\n        }\r\n        return actions;\r\n      },\r\n\r\n      onKeyboardEvent: function(event) {\r\n        var currentValue = this[this.tracking],\r\n          keyCode = event.keyCode || event.which,\r\n          keys = {\r\n            38: 'UP',\r\n            40: 'DOWN',\r\n            37: 'LEFT',\r\n            39: 'RIGHT',\r\n            33: 'PAGEUP',\r\n            34: 'PAGEDOWN',\r\n            36: 'HOME',\r\n            35: 'END'\r\n          },\r\n          actions = this.getKeyActions(currentValue),\r\n          key = keys[keyCode],\r\n          action = actions[key];\r\n        if (action == null || this.tracking === '') return;\r\n        event.preventDefault();\r\n\r\n        if (this.firstKeyDown) {\r\n          this.firstKeyDown = false;\r\n          this.callOnStart();\r\n        }\r\n\r\n        var self = this;\r\n        $timeout(function() {\r\n          var newValue = self.roundStep(self.sanitizeValue(action));\r\n          if (!self.options.draggableRangeOnly) {\r\n            self.positionTrackingHandle(newValue);\r\n          }\r\n          else {\r\n            var difference = self.highValue - self.lowValue,\r\n              newMinValue, newMaxValue;\r\n            if (self.tracking === 'lowValue') {\r\n              newMinValue = newValue;\r\n              newMaxValue = newValue + difference;\r\n              if (newMaxValue > self.maxValue) {\r\n                newMaxValue = self.maxValue;\r\n                newMinValue = newMaxValue - difference;\r\n              }\r\n            } else {\r\n              newMaxValue = newValue;\r\n              newMinValue = newValue - difference;\r\n              if (newMinValue < self.minValue) {\r\n                newMinValue = self.minValue;\r\n                newMaxValue = newMinValue + difference;\r\n              }\r\n            }\r\n            self.positionTrackingBar(newMinValue, newMaxValue);\r\n          }\r\n        });\r\n      },\r\n\r\n      /**\r\n       * onDragStart event handler\r\n       *\r\n       * Handles dragging of the middle bar.\r\n       *\r\n       * @param {Object} pointer The jqLite wrapped DOM element\r\n       * @param {string} ref     One of the refLow, refHigh values\r\n       * @param {Event}  event   The event\r\n       * @returns {undefined}\r\n       */\r\n      onDragStart: function(pointer, ref, event) {\r\n        var position = this.getEventPosition(event);\r\n        this.dragging = {\r\n          active: true,\r\n          value: this.positionToValue(position),\r\n          difference: this.highValue - this.lowValue,\r\n          lowLimit: this.options.rightToLeft ? this.minH.rzsp - position : position - this.minH.rzsp,\r\n          highLimit: this.options.rightToLeft ? position - this.maxH.rzsp : this.maxH.rzsp - position\r\n        };\r\n\r\n        this.onStart(pointer, ref, event);\r\n      },\r\n\r\n      /**\r\n       * getValue helper function\r\n       *\r\n       * gets max or min value depending on whether the newPos is outOfBounds above or below the bar and rightToLeft\r\n       *\r\n       * @param {string} type 'max' || 'min' The value we are calculating\r\n       * @param {number} newPos  The new position\r\n       * @param {boolean} outOfBounds Is the new position above or below the max/min?\r\n       * @param {boolean} isAbove Is the new position above the bar if out of bounds?\r\n       *\r\n       * @returns {number}\r\n       */\r\n      getValue: function(type, newPos, outOfBounds, isAbove) {\r\n        var isRTL = this.options.rightToLeft,\r\n          value = null;\r\n\r\n        if (type === 'min') {\r\n          if (outOfBounds) {\r\n            if (isAbove) {\r\n              value = isRTL ? this.minValue : this.maxValue - this.dragging.difference;\r\n            } else {\r\n              value = isRTL ? this.maxValue - this.dragging.difference : this.minValue;\r\n            }\r\n          } else {\r\n            value = isRTL ? this.positionToValue(newPos + this.dragging.lowLimit) : this.positionToValue(newPos - this.dragging.lowLimit)\r\n          }\r\n        } else {\r\n          if (outOfBounds) {\r\n            if (isAbove) {\r\n              value = isRTL ? this.minValue + this.dragging.difference : this.maxValue;\r\n            } else {\r\n              value = isRTL ? this.maxValue : this.minValue + this.dragging.difference;\r\n            }\r\n          } else {\r\n            if (isRTL) {\r\n              value = this.positionToValue(newPos + this.dragging.lowLimit) + this.dragging.difference\r\n            } else {\r\n              value = this.positionToValue(newPos - this.dragging.lowLimit) + this.dragging.difference;\r\n            }\r\n          }\r\n        }\r\n        return this.roundStep(value);\r\n      },\r\n\r\n      /**\r\n       * onDragMove event handler\r\n       *\r\n       * Handles dragging of the middle bar.\r\n       *\r\n       * @param {jqLite} pointer\r\n       * @param {Event}  event The event\r\n       * @returns {undefined}\r\n       */\r\n      onDragMove: function(pointer, event) {\r\n        var newPos = this.getEventPosition(event),\r\n          newMinValue, newMaxValue,\r\n          ceilLimit, flrLimit,\r\n          isUnderFlrLimit, isOverCeilLimit,\r\n          flrH, ceilH;\r\n\r\n        if (this.options.rightToLeft) {\r\n          ceilLimit = this.dragging.lowLimit;\r\n          flrLimit = this.dragging.highLimit;\r\n          flrH = this.maxH;\r\n          ceilH = this.minH;\r\n        } else {\r\n          ceilLimit = this.dragging.highLimit;\r\n          flrLimit = this.dragging.lowLimit;\r\n          flrH = this.minH;\r\n          ceilH = this.maxH;\r\n        }\r\n        isUnderFlrLimit = newPos <= flrLimit;\r\n        isOverCeilLimit = newPos >= this.maxPos - ceilLimit;\r\n\r\n        if (isUnderFlrLimit) {\r\n          if (flrH.rzsp === 0)\r\n            return;\r\n          newMinValue = this.getValue('min', newPos, true, false);\r\n          newMaxValue = this.getValue('max', newPos, true, false);\r\n        } else if (isOverCeilLimit) {\r\n          if (ceilH.rzsp === this.maxPos)\r\n            return;\r\n          newMaxValue = this.getValue('max', newPos, true, true);\r\n          newMinValue = this.getValue('min', newPos, true, true);\r\n        } else {\r\n          newMinValue = this.getValue('min', newPos, false);\r\n          newMaxValue = this.getValue('max', newPos, false);\r\n        }\r\n        this.positionTrackingBar(newMinValue, newMaxValue);\r\n      },\r\n\r\n      /**\r\n       * Set the new value and position for the entire bar\r\n       *\r\n       * @param {number} newMinValue   the new minimum value\r\n       * @param {number} newMaxValue   the new maximum value\r\n       */\r\n      positionTrackingBar: function(newMinValue, newMaxValue) {\r\n\r\n        if (this.options.minLimit != null && newMinValue < this.options.minLimit) {\r\n          newMinValue = this.options.minLimit;\r\n          newMaxValue = newMinValue + this.dragging.difference;\r\n        }\r\n        if (this.options.maxLimit != null && newMaxValue > this.options.maxLimit) {\r\n          newMaxValue = this.options.maxLimit;\r\n          newMinValue = newMaxValue - this.dragging.difference;\r\n        }\r\n\r\n        this.lowValue = newMinValue;\r\n        this.highValue = newMaxValue;\r\n        this.applyLowValue();\r\n        if (this.range)\r\n          this.applyHighValue();\r\n        this.applyModel();\r\n        this.updateHandles('lowValue', this.valueToPosition(newMinValue));\r\n        this.updateHandles('highValue', this.valueToPosition(newMaxValue));\r\n      },\r\n\r\n      /**\r\n       * Set the new value and position to the current tracking handle\r\n       *\r\n       * @param {number} newValue new model value\r\n       */\r\n      positionTrackingHandle: function(newValue) {\r\n        var valueChanged = false;\r\n\r\n        newValue = this.applyMinMaxLimit(newValue);\r\n        if (this.range) {\r\n          if (this.options.pushRange) {\r\n            newValue = this.applyPushRange(newValue);\r\n            valueChanged = true;\r\n          }\r\n          else {\r\n            if (this.options.noSwitching) {\r\n              if (this.tracking === 'lowValue' && newValue > this.highValue)\r\n                newValue = this.applyMinMaxRange(this.highValue);\r\n              else if (this.tracking === 'highValue' && newValue < this.lowValue)\r\n                newValue = this.applyMinMaxRange(this.lowValue);\r\n            }\r\n            newValue = this.applyMinMaxRange(newValue);\r\n            /* This is to check if we need to switch the min and max handles */\r\n            if (this.tracking === 'lowValue' && newValue > this.highValue) {\r\n              this.lowValue = this.highValue;\r\n              this.applyLowValue();\r\n              this.updateHandles(this.tracking, this.maxH.rzsp);\r\n              this.updateAriaAttributes();\r\n              this.tracking = 'highValue';\r\n              this.minH.removeClass('rz-active');\r\n              this.maxH.addClass('rz-active');\r\n              if (this.options.keyboardSupport)\r\n                this.focusElement(this.maxH);\r\n              valueChanged = true;\r\n            }\r\n            else if (this.tracking === 'highValue' && newValue < this.lowValue) {\r\n              this.highValue = this.lowValue;\r\n              this.applyHighValue();\r\n              this.updateHandles(this.tracking, this.minH.rzsp);\r\n              this.updateAriaAttributes();\r\n              this.tracking = 'lowValue';\r\n              this.maxH.removeClass('rz-active');\r\n              this.minH.addClass('rz-active');\r\n              if (this.options.keyboardSupport)\r\n                this.focusElement(this.minH);\r\n              valueChanged = true;\r\n            }\r\n          }\r\n        }\r\n\r\n        if (this[this.tracking] !== newValue) {\r\n          this[this.tracking] = newValue;\r\n          if (this.tracking === 'lowValue')\r\n            this.applyLowValue();\r\n          else\r\n            this.applyHighValue();\r\n          this.updateHandles(this.tracking, this.valueToPosition(newValue));\r\n          this.updateAriaAttributes();\r\n          valueChanged = true;\r\n        }\r\n\r\n        if (valueChanged)\r\n          this.applyModel();\r\n      },\r\n\r\n      applyMinMaxLimit: function(newValue) {\r\n        if (this.options.minLimit != null && newValue < this.options.minLimit)\r\n          return this.options.minLimit;\r\n        if (this.options.maxLimit != null && newValue > this.options.maxLimit)\r\n          return this.options.maxLimit;\r\n        return newValue;\r\n      },\r\n\r\n      applyMinMaxRange: function(newValue) {\r\n        var oppositeValue = this.tracking === 'lowValue' ? this.highValue : this.lowValue,\r\n          difference = Math.abs(newValue - oppositeValue);\r\n        if (this.options.minRange != null) {\r\n          if (difference < this.options.minRange) {\r\n            if (this.tracking === 'lowValue')\r\n              return this.highValue - this.options.minRange;\r\n            else\r\n              return this.lowValue + this.options.minRange;\r\n          }\r\n        }\r\n        if (this.options.maxRange != null) {\r\n          if (difference > this.options.maxRange) {\r\n            if (this.tracking === 'lowValue')\r\n              return this.highValue - this.options.maxRange;\r\n            else\r\n              return this.lowValue + this.options.maxRange;\r\n          }\r\n        }\r\n        return newValue;\r\n      },\r\n\r\n      applyPushRange: function(newValue) {\r\n        var difference = this.tracking === 'lowValue' ? this.highValue - newValue : newValue - this.lowValue,\r\n          minRange = this.options.minRange !== null ? this.options.minRange : this.options.step,\r\n          maxRange = this.options.maxRange;\r\n        // if smaller than minRange\r\n        if (difference < minRange) {\r\n          if (this.tracking === 'lowValue') {\r\n            this.highValue = Math.min(newValue + minRange, this.maxValue);\r\n            newValue = this.highValue - minRange;\r\n            this.applyHighValue();\r\n            this.updateHandles('highValue', this.valueToPosition(this.highValue));\r\n          }\r\n          else {\r\n            this.lowValue = Math.max(newValue - minRange, this.minValue);\r\n            newValue = this.lowValue + minRange;\r\n            this.applyLowValue();\r\n            this.updateHandles('lowValue', this.valueToPosition(this.lowValue));\r\n          }\r\n          this.updateAriaAttributes();\r\n        }\r\n        // if greater than maxRange\r\n        else if (maxRange !== null && difference > maxRange) {\r\n          if (this.tracking === 'lowValue') {\r\n            this.highValue = newValue + maxRange;\r\n            this.applyHighValue();\r\n            this.updateHandles('highValue', this.valueToPosition(this.highValue));\r\n          }\r\n          else {\r\n            this.lowValue = newValue - maxRange;\r\n            this.applyLowValue();\r\n            this.updateHandles('lowValue', this.valueToPosition(this.lowValue));\r\n          }\r\n          this.updateAriaAttributes();\r\n        }\r\n        return newValue;\r\n      },\r\n\r\n      /**\r\n       * Apply the model values using scope.$apply.\r\n       * We wrap it with the internalChange flag to avoid the watchers to be called\r\n       */\r\n      applyModel: function() {\r\n        this.internalChange = true;\r\n        this.scope.$apply();\r\n        this.callOnChange();\r\n        this.internalChange = false;\r\n      },\r\n\r\n      /**\r\n       * Call the onStart callback if defined\r\n       * The callback call is wrapped in a $evalAsync to ensure that its result will be applied to the scope.\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      callOnStart: function() {\r\n        if (this.options.onStart) {\r\n          var self = this,\r\n            pointerType = this.tracking === 'lowValue' ? 'min' : 'max';\r\n          this.scope.$evalAsync(function() {\r\n            self.options.onStart(self.options.id, self.scope.rzSliderModel, self.scope.rzSliderHigh, pointerType);\r\n          });\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Call the onChange callback if defined\r\n       * The callback call is wrapped in a $evalAsync to ensure that its result will be applied to the scope.\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      callOnChange: function() {\r\n        if (this.options.onChange) {\r\n          var self = this,\r\n            pointerType = this.tracking === 'lowValue' ? 'min' : 'max';\r\n          this.scope.$evalAsync(function() {\r\n            self.options.onChange(self.options.id, self.scope.rzSliderModel, self.scope.rzSliderHigh, pointerType);\r\n          });\r\n        }\r\n      },\r\n\r\n      /**\r\n       * Call the onEnd callback if defined\r\n       * The callback call is wrapped in a $evalAsync to ensure that its result will be applied to the scope.\r\n       *\r\n       * @returns {undefined}\r\n       */\r\n      callOnEnd: function() {\r\n        if (this.options.onEnd) {\r\n          var self = this,\r\n            pointerType = this.tracking === 'lowValue' ? 'min' : 'max';\r\n          this.scope.$evalAsync(function() {\r\n            self.options.onEnd(self.options.id, self.scope.rzSliderModel, self.scope.rzSliderHigh, pointerType);\r\n          });\r\n        }\r\n        this.scope.$emit('slideEnded');\r\n      }\r\n    };\r\n\r\n    return Slider;\r\n  }])\r\n\r\n  .directive('rzslider', ['RzSlider', function(RzSlider) {\r\n    'use strict';\r\n\r\n    return {\r\n      restrict: 'AE',\r\n      replace: true,\r\n      scope: {\r\n        rzSliderModel: '=?',\r\n        rzSliderHigh: '=?',\r\n        rzSliderOptions: '&?',\r\n        rzSliderTplUrl: '@'\r\n      },\r\n\r\n      /**\r\n       * Return template URL\r\n       *\r\n       * @param {jqLite} elem\r\n       * @param {Object} attrs\r\n       * @return {string}\r\n       */\r\n      templateUrl: function(elem, attrs) {\r\n        //noinspection JSUnresolvedVariable\r\n        return attrs.rzSliderTplUrl || 'rzSliderTpl.html';\r\n      },\r\n\r\n      link: function(scope, elem) {\r\n        scope.slider = new RzSlider(scope, elem); //attach on scope so we can test it\r\n      }\r\n    };\r\n  }]);\r\n\r\n  // IDE assist\r\n\r\n  /**\r\n   * @name ngScope\r\n   *\r\n   * @property {number} rzSliderModel\r\n   * @property {number} rzSliderHigh\r\n   * @property {Object} rzSliderOptions\r\n   */\r\n\r\n  /**\r\n   * @name jqLite\r\n   *\r\n   * @property {number|undefined} rzsp rzslider label position position\r\n   * @property {number|undefined} rzsd rzslider element dimension\r\n   * @property {string|undefined} rzsv rzslider label value/text\r\n   * @property {Function} css\r\n   * @property {Function} text\r\n   */\r\n\r\n  /**\r\n   * @name Event\r\n   * @property {Array} touches\r\n   * @property {Event} originalEvent\r\n   */\r\n\r\n  /**\r\n   * @name ThrottleOptions\r\n   *\r\n   * @property {boolean} leading\r\n   * @property {boolean} trailing\r\n   */\r\n\r\n  module.run(['$templateCache', function($templateCache) {\r\n  'use strict';\r\n\r\n  $templateCache.put('rzSliderTpl.html',\r\n    \"<div class=rzslider><span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class=\\\"rz-bar rz-selection\\\" ng-style=barStyle></span></span> <span class=\\\"rz-pointer rz-pointer-min\\\" ng-style=minPointerStyle></span> <span class=\\\"rz-pointer rz-pointer-max\\\" ng-style=maxPointerStyle></span> <span class=\\\"rz-bubble rz-limit rz-floor\\\"></span> <span class=\\\"rz-bubble rz-limit rz-ceil\\\"></span> <span class=rz-bubble></span> <span class=rz-bubble></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat=\\\"t in ticks track by $index\\\" class=rz-tick ng-class=\\\"{'rz-selected': t.selected}\\\" ng-style=t.style ng-attr-uib-tooltip=\\\"{{ t.tooltip }}\\\" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body=\\\"{{ t.tooltip ? true : undefined}}\\\"><span ng-if=\\\"t.value != null\\\" class=rz-tick-value ng-attr-uib-tooltip=\\\"{{ t.valueTooltip }}\\\" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span> <span ng-if=\\\"t.legend != null\\\" class=rz-tick-legend>{{ t.legend }}</span></li></ul></div>\"\r\n  );\r\n\r\n}]);\r\n\r\n  return module.name\r\n}));","/**\r\n *  Copyright IBM Corp. 2016, 2017 All Rights Reserved\r\n *   Project name: JSONata\r\n *   This project is licensed under the MIT License, see LICENSE\r\n */\r\n\r\n/**\r\n * @module JSONata\r\n * @description JSON query and transformation language\r\n */\r\n\r\n/**\r\n * jsonata\r\n * @function\r\n * @param {Object} expr - JSONata expression\r\n * @returns {{evaluate: evaluate, assign: assign}} Evaluated expression\r\n */\r\nvar jsonata = (function() {\r\n    'use strict';\r\n\r\n    var operators = {\r\n        '.': 75,\r\n        '[': 80,\r\n        ']': 0,\r\n        '{': 70,\r\n        '}': 0,\r\n        '(': 80,\r\n        ')': 0,\r\n        ',': 0,\r\n        '@': 75,\r\n        '#': 70,\r\n        ';': 80,\r\n        ':': 80,\r\n        '?': 20,\r\n        '+': 50,\r\n        '-': 50,\r\n        '*': 60,\r\n        '/': 60,\r\n        '%': 60,\r\n        '|': 20,\r\n        '=': 40,\r\n        '<': 40,\r\n        '>': 40,\r\n        '`': 80,\r\n        '**': 60,\r\n        '..': 20,\r\n        ':=': 10,\r\n        '!=': 40,\r\n        '<=': 40,\r\n        '>=': 40,\r\n        '~>': 40,\r\n        'and': 30,\r\n        'or': 25,\r\n        'in': 40,\r\n        '&': 50,\r\n        '!': 0,   // not an operator, but needed as a stop character for name tokens\r\n        '~': 0   // not an operator, but needed as a stop character for name tokens\r\n    };\r\n\r\n    var escapes = {  // JSON string escape sequences - see json.org\r\n        '\"': '\"',\r\n        '\\\\': '\\\\',\r\n        '/': '/',\r\n        'b': '\\b',\r\n        'f': '\\f',\r\n        'n': '\\n',\r\n        'r': '\\r',\r\n        't': '\\t'\r\n    };\r\n\r\n    // Tokenizer (lexer) - invoked by the parser to return one token at a time\r\n    var tokenizer = function (path) {\r\n        var position = 0;\r\n        var length = path.length;\r\n\r\n        var create = function (type, value) {\r\n            var obj = {type: type, value: value, position: position};\r\n            return obj;\r\n        };\r\n\r\n        var scanRegex = function() {\r\n            // the prefix '/' will have been previously scanned. Find the end of the regex.\r\n            // search for closing '/' ignoring any that are escaped, or within brackets\r\n            var start = position;\r\n            var depth = 0;\r\n            var pattern;\r\n            var flags;\r\n            while(position < length) {\r\n                var currentChar = path.charAt(position);\r\n                if(currentChar === '/' && path.charAt(position - 1) !== '\\\\' && depth === 0) {\r\n                    // end of regex found\r\n                    pattern = path.substring(start, position);\r\n                    if(pattern === '') {\r\n                        throw {\r\n                            code: \"S0301\",\r\n                            stack: (new Error()).stack,\r\n                            position: position\r\n                        };\r\n                    }\r\n                    position++;\r\n                    currentChar = path.charAt(position);\r\n                    // flags\r\n                    start = position;\r\n                    while(currentChar === 'i' || currentChar === 'm') {\r\n                        position++;\r\n                        currentChar = path.charAt(position);\r\n                    }\r\n                    flags = path.substring(start, position) + 'g';\r\n                    return new RegExp(pattern, flags);\r\n                }\r\n                if((currentChar === '(' || currentChar === '[' || currentChar === '{') && path.charAt(position - 1) !== '\\\\' ) {\r\n                    depth++;\r\n                }\r\n                if((currentChar === ')' || currentChar === ']' || currentChar === '}') && path.charAt(position - 1) !== '\\\\' ) {\r\n                    depth--;\r\n                }\r\n\r\n                position++;\r\n            }\r\n            throw {\r\n                code: \"S0302\",\r\n                stack: (new Error()).stack,\r\n                position: position\r\n            };\r\n        };\r\n\r\n        var next = function (prefix) {\r\n            if (position >= length) return null;\r\n            var currentChar = path.charAt(position);\r\n            // skip whitespace\r\n            while (position < length && ' \\t\\n\\r\\v'.indexOf(currentChar) > -1) {\r\n                position++;\r\n                currentChar = path.charAt(position);\r\n            }\r\n            // test for regex\r\n            if (prefix !== true && currentChar === '/') {\r\n                position++;\r\n                return create('regex', scanRegex());\r\n            }\r\n            // handle double-char operators\r\n            if (currentChar === '.' && path.charAt(position + 1) === '.') {\r\n                // double-dot .. range operator\r\n                position += 2;\r\n                return create('operator', '..');\r\n            }\r\n            if (currentChar === ':' && path.charAt(position + 1) === '=') {\r\n                // := assignment\r\n                position += 2;\r\n                return create('operator', ':=');\r\n            }\r\n            if (currentChar === '!' && path.charAt(position + 1) === '=') {\r\n                // !=\r\n                position += 2;\r\n                return create('operator', '!=');\r\n            }\r\n            if (currentChar === '>' && path.charAt(position + 1) === '=') {\r\n                // >=\r\n                position += 2;\r\n                return create('operator', '>=');\r\n            }\r\n            if (currentChar === '<' && path.charAt(position + 1) === '=') {\r\n                // <=\r\n                position += 2;\r\n                return create('operator', '<=');\r\n            }\r\n            if (currentChar === '*' && path.charAt(position + 1) === '*') {\r\n                // **  descendant wildcard\r\n                position += 2;\r\n                return create('operator', '**');\r\n            }\r\n            if (currentChar === '~' && path.charAt(position + 1) === '>') {\r\n                // ~>  chain function\r\n                position += 2;\r\n                return create('operator', '~>');\r\n            }\r\n            // test for single char operators\r\n            if (operators.hasOwnProperty(currentChar)) {\r\n                position++;\r\n                return create('operator', currentChar);\r\n            }\r\n            // test for string literals\r\n            if (currentChar === '\"' || currentChar === \"'\") {\r\n                var quoteType = currentChar;\r\n                // double quoted string literal - find end of string\r\n                position++;\r\n                var qstr = \"\";\r\n                while (position < length) {\r\n                    currentChar = path.charAt(position);\r\n                    if (currentChar === '\\\\') { // escape sequence\r\n                        position++;\r\n                        currentChar = path.charAt(position);\r\n                        if (escapes.hasOwnProperty(currentChar)) {\r\n                            qstr += escapes[currentChar];\r\n                        } else if (currentChar === 'u') {\r\n                            // \\u should be followed by 4 hex digits\r\n                            var octets = path.substr(position + 1, 4);\r\n                            if (/^[0-9a-fA-F]+$/.test(octets)) {\r\n                                var codepoint = parseInt(octets, 16);\r\n                                qstr += String.fromCharCode(codepoint);\r\n                                position += 4;\r\n                            } else {\r\n                                throw {\r\n                                    code: \"S0104\",\r\n                                    stack: (new Error()).stack,\r\n                                    position: position\r\n                                };\r\n                            }\r\n                        } else {\r\n                            // illegal escape sequence\r\n                            throw {\r\n                                code: \"S0103\",\r\n                                stack: (new Error()).stack,\r\n                                position: position,\r\n                                token: currentChar\r\n                            };\r\n\r\n                        }\r\n                    } else if (currentChar === quoteType) {\r\n                        position++;\r\n                        return create('string', qstr);\r\n                    } else {\r\n                        qstr += currentChar;\r\n                    }\r\n                    position++;\r\n                }\r\n                throw {\r\n                    code: \"S0101\",\r\n                    stack: (new Error()).stack,\r\n                    position: position\r\n                };\r\n            }\r\n            // test for numbers\r\n            var numregex = /^-?(0|([1-9][0-9]*))(\\.[0-9]+)?([Ee][-+]?[0-9]+)?/;\r\n            var match = numregex.exec(path.substring(position));\r\n            if (match !== null) {\r\n                var num = parseFloat(match[0]);\r\n                if (!isNaN(num) && isFinite(num)) {\r\n                    position += match[0].length;\r\n                    return create('number', num);\r\n                } else {\r\n                    throw {\r\n                        code: \"S0102\",\r\n                        stack: (new Error()).stack,\r\n                        position: position,\r\n                        token: match[0]\r\n                    };\r\n                }\r\n            }\r\n            // test for names\r\n            var i = position;\r\n            var ch;\r\n            var name;\r\n            for (;;) {\r\n                ch = path.charAt(i);\r\n                if (i === length || ' \\t\\n\\r\\v'.indexOf(ch) > -1 || operators.hasOwnProperty(ch)) {\r\n                    if (path.charAt(position) === '$') {\r\n                        // variable reference\r\n                        name = path.substring(position + 1, i);\r\n                        position = i;\r\n                        return create('variable', name);\r\n                    } else {\r\n                        name = path.substring(position, i);\r\n                        position = i;\r\n                        switch (name) {\r\n                            case 'or':\r\n                            case 'in':\r\n                            case 'and':\r\n                                return create('operator', name);\r\n                            case 'true':\r\n                                return create('value', true);\r\n                            case 'false':\r\n                                return create('value', false);\r\n                            case 'null':\r\n                                return create('value', null);\r\n                            default:\r\n                                if (position === length && name === '') {\r\n                                    // whitespace at end of input\r\n                                    return null;\r\n                                }\r\n                                return create('name', name);\r\n                        }\r\n                    }\r\n                } else {\r\n                    i++;\r\n                }\r\n            }\r\n        };\r\n\r\n        return next;\r\n    };\r\n\r\n    /**\r\n     * Parses a function signature definition and returns a validation function\r\n     * @param {string} signature - the signature between the <angle brackets>\r\n     * @returns {Function} validation function\r\n     */\r\n    function parseSignature(signature) {\r\n        // create a Regex that represents this signature and return a function that when invoked,\r\n        // returns the validated (possibly fixed-up) arguments, or throws a validation error\r\n        // step through the signature, one symbol at a time\r\n        var position = 1;\r\n        var params = [];\r\n        var param = {};\r\n        var prevParam = param;\r\n        while (position < signature.length) {\r\n            var symbol = signature.charAt(position);\r\n            if(symbol === ':') {\r\n                // TODO figure out what to do with the return type\r\n                // ignore it for now\r\n                break;\r\n            }\r\n\r\n            var next = function() {\r\n                params.push(param);\r\n                prevParam = param;\r\n                param = {};\r\n            };\r\n\r\n            var findClosingBracket = function(str, start, openSymbol, closeSymbol) {\r\n                // returns the position of the closing symbol (e.g. bracket) in a string\r\n                // that balances the opening symbol at position start\r\n                var depth = 1;\r\n                var position = start;\r\n                while(position < str.length) {\r\n                    position++;\r\n                    symbol = str.charAt(position);\r\n                    if(symbol === closeSymbol) {\r\n                        depth--;\r\n                        if(depth === 0) {\r\n                            // we're done\r\n                            break; // out of while loop\r\n                        }\r\n                    } else if(symbol === openSymbol) {\r\n                        depth++;\r\n                    }\r\n                }\r\n                return position;\r\n            };\r\n\r\n            switch (symbol) {\r\n                case 's': // string\r\n                case 'n': // number\r\n                case 'b': // boolean\r\n                case 'l': // not so sure about expecting null?\r\n                case 'o': // object\r\n                    param.regex = '[' + symbol + 'm]';\r\n                    param.type = symbol;\r\n                    next();\r\n                    break;\r\n                case 'a': // array\r\n                    //  normally treat any value as singleton array\r\n                    param.regex = '[asnblfom]';\r\n                    param.type = symbol;\r\n                    param.array = true;\r\n                    next();\r\n                    break;\r\n                case 'f': // function\r\n                    param.regex = 'f';\r\n                    param.type = symbol;\r\n                    next();\r\n                    break;\r\n                case 'j': // any JSON type\r\n                    param.regex = '[asnblom]';\r\n                    param.type = symbol;\r\n                    next();\r\n                    break;\r\n                case 'x': // any type\r\n                    param.regex = '[asnblfom]';\r\n                    param.type = symbol;\r\n                    next();\r\n                    break;\r\n                case '-': // use context if param not supplied\r\n                    prevParam.context = true;\r\n                    prevParam.contextRegex = new RegExp(prevParam.regex); // pre-compiled to test the context type at runtime\r\n                    prevParam.regex += '?';\r\n                    break;\r\n                case '?': // optional param\r\n                case '+': // one or more\r\n                    prevParam.regex += symbol;\r\n                    break;\r\n                case '(': // choice of types\r\n                    // search forward for matching ')'\r\n                    var endParen = findClosingBracket(signature, position, '(', ')');\r\n                    var choice = signature.substring(position + 1, endParen);\r\n                    if(choice.indexOf('<') === -1) {\r\n                        // no parameterized types, simple regex\r\n                        param.regex = '[' + choice + 'm]';\r\n                    } else {\r\n                        // TODO harder\r\n                        throw {\r\n                            code: \"S0402\",\r\n                            stack: (new Error()).stack,\r\n                            value: choice,\r\n                            offset: position\r\n                        };\r\n                    }\r\n                    param.type = '(' + choice + ')';\r\n                    position = endParen;\r\n                    next();\r\n                    break;\r\n                case '<': // type parameter - can only be applied to 'a' and 'f'\r\n                    if(prevParam.type === 'a' || prevParam.type === 'f') {\r\n                        // search forward for matching '>'\r\n                        var endPos = findClosingBracket(signature, position, '<', '>');\r\n                        prevParam.subtype = signature.substring(position + 1, endPos);\r\n                        position = endPos;\r\n                    } else {\r\n                        throw {\r\n                            code: \"S0401\",\r\n                            stack: (new Error()).stack,\r\n                            value: prevParam.type,\r\n                            offset: position\r\n                        };\r\n                    }\r\n                    break;\r\n            }\r\n            position++;\r\n        }\r\n        var regexStr = '^' +\r\n          params.map(function(param) {\r\n              return '(' + param.regex + ')';\r\n          }).join('') +\r\n          '$';\r\n        var regex = new RegExp(regexStr);\r\n        var getSymbol = function(value) {\r\n            var symbol;\r\n            if(isFunction(value)) {\r\n                symbol = 'f';\r\n            } else {\r\n                var type = typeof value;\r\n                switch (type) {\r\n                    case 'string':\r\n                        symbol = 's';\r\n                        break;\r\n                    case 'number':\r\n                        symbol = 'n';\r\n                        break;\r\n                    case 'boolean':\r\n                        symbol = 'b';\r\n                        break;\r\n                    case 'object':\r\n                        if (value === null) {\r\n                            symbol = 'l';\r\n                        } else if (Array.isArray(value)) {\r\n                            symbol = 'a';\r\n                        } else {\r\n                            symbol = 'o';\r\n                        }\r\n                        break;\r\n                    case 'undefined':\r\n                        // any value can be undefined, but should be allowed to match\r\n                        symbol = 'm'; // m for missing\r\n                }\r\n            }\r\n            return symbol;\r\n        };\r\n\r\n        var throwValidationError = function(badArgs, badSig) {\r\n            // to figure out where this went wrong we need apply each component of the\r\n            // regex to each argument until we get to the one that fails to match\r\n            var partialPattern = '^';\r\n            var goodTo = 0;\r\n            for(var index = 0; index < params.length; index++) {\r\n                partialPattern += params[index].regex;\r\n                var match = badSig.match(partialPattern);\r\n                if(match === null) {\r\n                    // failed here\r\n                    throw {\r\n                        code: \"T0410\",\r\n                        stack: (new Error()).stack,\r\n                        value: badArgs[goodTo],\r\n                        index: goodTo + 1\r\n                    };\r\n                }\r\n                goodTo = match[0].length;\r\n            }\r\n            // if it got this far, it's probably because of extraneous arguments (we\r\n            // haven't added the trailing '$' in the regex yet.\r\n            throw {\r\n                code: \"T0410\",\r\n                stack: (new Error()).stack,\r\n                value: badArgs[goodTo],\r\n                index: goodTo + 1\r\n            };\r\n        };\r\n\r\n        return {\r\n            definition: signature,\r\n            validate: function(args, context) {\r\n                var suppliedSig = '';\r\n                args.forEach(function(arg) {\r\n                    suppliedSig += getSymbol(arg);\r\n                });\r\n                var isValid = regex.exec(suppliedSig);\r\n                if(isValid) {\r\n                    var validatedArgs = [];\r\n                    var argIndex = 0;\r\n                    params.forEach(function(param, index) {\r\n                        var arg = args[argIndex];\r\n                        var match = isValid[index + 1];\r\n                        if(match === '') {\r\n                            if (param.context) {\r\n                                // substitute context value for missing arg\r\n                                // first check that the context value is the right type\r\n                                var contextType = getSymbol(context);\r\n                                // test contextType against the regex for this arg (without the trailing ?)\r\n                                if(param.contextRegex.test(contextType)) {\r\n                                    validatedArgs.push(context);\r\n                                } else {\r\n                                    // context value not compatible with this argument\r\n                                    throw {\r\n                                        code: \"T0411\",\r\n                                        stack: (new Error()).stack,\r\n                                        value: context,\r\n                                        index: argIndex + 1\r\n                                    };\r\n                                }\r\n                            } else {\r\n                                validatedArgs.push(arg);\r\n                                argIndex++;\r\n                            }\r\n                        } else {\r\n                            // may have matched multiple args (if the regex ends with a '+'\r\n                            // split into single tokens\r\n                            match.split('').forEach(function(single) {\r\n                                if (param.type === 'a') {\r\n                                    if (single === 'm') {\r\n                                        // missing (undefined)\r\n                                        arg = undefined;\r\n                                    } else {\r\n                                        arg = args[argIndex];\r\n                                        var arrayOK = true;\r\n                                        // is there type information on the contents of the array?\r\n                                        if (typeof param.subtype !== 'undefined') {\r\n                                            if (single !== 'a' && match !== param.subtype) {\r\n                                                arrayOK = false;\r\n                                            } else if (single === 'a') {\r\n                                                if (arg.length > 0) {\r\n                                                    var itemType = getSymbol(arg[0]);\r\n                                                    if (itemType !== param.subtype.charAt(0)) { // TODO recurse further\r\n                                                        arrayOK = false;\r\n                                                    } else {\r\n                                                        // make sure every item in the array is this type\r\n                                                        var differentItems = arg.filter(function (val) {\r\n                                                            return (getSymbol(val) !== itemType);\r\n                                                        });\r\n                                                        arrayOK = (differentItems.length === 0);\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        if (!arrayOK) {\r\n                                            throw {\r\n                                                code: \"T0412\",\r\n                                                stack: (new Error()).stack,\r\n                                                value: arg,\r\n                                                index: argIndex + 1,\r\n                                                type: param.subtype // TODO translate symbol to type name\r\n                                            };\r\n                                        }\r\n                                        // the function expects an array. If it's not one, make it so\r\n                                        if (single !== 'a') {\r\n                                            arg = [arg];\r\n                                        }\r\n                                    }\r\n                                    validatedArgs.push(arg);\r\n                                    argIndex++;\r\n                                } else {\r\n                                    validatedArgs.push(arg);\r\n                                    argIndex++;\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                    return validatedArgs;\r\n                }\r\n                throwValidationError(args, suppliedSig);\r\n            }\r\n        };\r\n    }\r\n\r\n    // This parser implements the 'Top down operator precedence' algorithm developed by Vaughan R Pratt; http://dl.acm.org/citation.cfm?id=512931.\r\n    // and builds on the Javascript framework described by Douglas Crockford at http://javascript.crockford.com/tdop/tdop.html\r\n    // and in 'Beautiful Code', edited by Andy Oram and Greg Wilson, Copyright 2007 O'Reilly Media, Inc. 798-0-596-51004-6\r\n\r\n    var parser = function (source) {\r\n        var node;\r\n        var lexer;\r\n\r\n        var symbol_table = {};\r\n\r\n        var base_symbol = {\r\n            nud: function () {\r\n                return this;\r\n            }\r\n        };\r\n\r\n        var symbol = function (id, bp) {\r\n            var s = symbol_table[id];\r\n            bp = bp || 0;\r\n            if (s) {\r\n                if (bp >= s.lbp) {\r\n                    s.lbp = bp;\r\n                }\r\n            } else {\r\n                s = Object.create(base_symbol);\r\n                s.id = s.value = id;\r\n                s.lbp = bp;\r\n                symbol_table[id] = s;\r\n            }\r\n            return s;\r\n        };\r\n\r\n        var advance = function (id, infix) {\r\n            if (id && node.id !== id) {\r\n                var code;\r\n                if(node.id === '(end)') {\r\n                    // unexpected end of buffer\r\n                    code = \"S0203\";\r\n                } else {\r\n                    code = \"S0202\";\r\n                }\r\n                throw {\r\n                    code: code,\r\n                    stack: (new Error()).stack,\r\n                    position: node.position,\r\n                    token: node.id,\r\n                    value: id\r\n                };\r\n            }\r\n            var next_token = lexer(infix);\r\n            if (next_token === null) {\r\n                node = symbol_table[\"(end)\"];\r\n                node.position = source.length;\r\n                return node;\r\n            }\r\n            var value = next_token.value;\r\n            var type = next_token.type;\r\n            var symbol;\r\n            switch (type) {\r\n                case 'name':\r\n                case 'variable':\r\n                    symbol = symbol_table[\"(name)\"];\r\n                    break;\r\n                case 'operator':\r\n                    symbol = symbol_table[value];\r\n                    if (!symbol) {\r\n                        throw {\r\n                            code: \"S0204\",\r\n                            stack: (new Error()).stack,\r\n                            position: next_token.position,\r\n                            token: value\r\n                        };\r\n                    }\r\n                    break;\r\n                case 'string':\r\n                case 'number':\r\n                case 'value':\r\n                    type = \"literal\";\r\n                    symbol = symbol_table[\"(literal)\"];\r\n                    break;\r\n                case 'regex':\r\n                    type = \"regex\";\r\n                    symbol = symbol_table[\"(regex)\"];\r\n                    break;\r\n              /* istanbul ignore next */\r\n                default:\r\n                    throw {\r\n                        code: \"S0205\",\r\n                        stack: (new Error()).stack,\r\n                        position: next_token.position,\r\n                        token: value\r\n                    };\r\n            }\r\n\r\n            node = Object.create(symbol);\r\n            node.value = value;\r\n            node.type = type;\r\n            node.position = next_token.position;\r\n            return node;\r\n        };\r\n\r\n        // Pratt's algorithm\r\n        var expression = function (rbp) {\r\n            var left;\r\n            var t = node;\r\n            advance(null, true);\r\n            left = t.nud();\r\n            while (rbp < node.lbp) {\r\n                t = node;\r\n                advance();\r\n                left = t.led(left);\r\n            }\r\n            return left;\r\n        };\r\n\r\n        // match infix operators\r\n        // <expression> <operator> <expression>\r\n        // left associative\r\n        var infix = function (id, bp, led) {\r\n            var bindingPower = bp || operators[id];\r\n            var s = symbol(id, bindingPower);\r\n            s.led = led || function (left) {\r\n                this.lhs = left;\r\n                this.rhs = expression(bindingPower);\r\n                this.type = \"binary\";\r\n                return this;\r\n            };\r\n            return s;\r\n        };\r\n\r\n        // match infix operators\r\n        // <expression> <operator> <expression>\r\n        // right associative\r\n        var infixr = function (id, bp, led) {\r\n            var bindingPower = bp || operators[id];\r\n            var s = symbol(id, bindingPower);\r\n            s.led = led || function (left) {\r\n                this.lhs = left;\r\n                this.rhs = expression(bindingPower - 1); // subtract 1 from bindingPower for right associative operators\r\n                this.type = \"binary\";\r\n                return this;\r\n            };\r\n            return s;\r\n        };\r\n\r\n        // match prefix operators\r\n        // <operator> <expression>\r\n        var prefix = function (id, nud) {\r\n            var s = symbol(id);\r\n            s.nud = nud || function () {\r\n                this.expression = expression(70);\r\n                this.type = \"unary\";\r\n                return this;\r\n            };\r\n            return s;\r\n        };\r\n\r\n        symbol(\"(end)\");\r\n        symbol(\"(name)\");\r\n        symbol(\"(literal)\");\r\n        symbol(\"(regex)\");\r\n        symbol(\":\");\r\n        symbol(\";\");\r\n        symbol(\",\");\r\n        symbol(\")\");\r\n        symbol(\"]\");\r\n        symbol(\"}\");\r\n        symbol(\"..\"); // range operator\r\n        infix(\".\"); // field reference\r\n        infix(\"+\"); // numeric addition\r\n        infix(\"-\"); // numeric subtraction\r\n        infix(\"*\"); // numeric multiplication\r\n        infix(\"/\"); // numeric division\r\n        infix(\"%\"); // numeric modulus\r\n        infix(\"=\"); // equality\r\n        infix(\"<\"); // less than\r\n        infix(\">\"); // greater than\r\n        infix(\"!=\"); // not equal to\r\n        infix(\"<=\"); // less than or equal\r\n        infix(\">=\"); // greater than or equal\r\n        infix(\"&\"); // string concatenation\r\n        infix(\"and\"); // Boolean AND\r\n        infix(\"or\"); // Boolean OR\r\n        infix(\"in\"); // is member of array\r\n        infixr(\":=\"); // bind variable\r\n        prefix(\"-\"); // unary numeric negation\r\n        infix(\"~>\"); // function application\r\n\r\n        // field wildcard (single level)\r\n        prefix('*', function () {\r\n            this.type = \"wildcard\";\r\n            return this;\r\n        });\r\n\r\n        // descendant wildcard (multi-level)\r\n        prefix('**', function () {\r\n            this.type = \"descendant\";\r\n            return this;\r\n        });\r\n\r\n        // function invocation\r\n        infix(\"(\", operators['('], function (left) {\r\n            // left is is what we are trying to invoke\r\n            this.procedure = left;\r\n            this.type = 'function';\r\n            this.arguments = [];\r\n            if (node.id !== ')') {\r\n                for (;;) {\r\n                    if (node.type === 'operator' && node.id === '?') {\r\n                        // partial function application\r\n                        this.type = 'partial';\r\n                        this.arguments.push(node);\r\n                        advance('?');\r\n                    } else {\r\n                        this.arguments.push(expression(0));\r\n                    }\r\n                    if (node.id !== ',') break;\r\n                    advance(',');\r\n                }\r\n            }\r\n            advance(\")\", true);\r\n            // if the name of the function is 'function' or , then this is function definition (lambda function)\r\n            if (left.type === 'name' && (left.value === 'function' || left.value === '\\u03BB')) {\r\n                // all of the args must be VARIABLE tokens\r\n                this.arguments.forEach(function (arg, index) {\r\n                    if (arg.type !== 'variable') {\r\n                        throw {\r\n                            code: \"S0208\",\r\n                            stack: (new Error()).stack,\r\n                            position: arg.position,\r\n                            token: arg.value,\r\n                            value: index + 1\r\n                        };\r\n                    }\r\n                });\r\n                this.type = 'lambda';\r\n                // is the next token a '<' - if so, parse the function signature\r\n                if(node.id === '<') {\r\n                    var sigPos = node.position;\r\n                    var depth = 1;\r\n                    var sig = '<';\r\n                    while(depth > 0 && node.id !== '{' && node.id !== '(end)') {\r\n                        var tok = advance();\r\n                        if(tok.id === '>') {\r\n                            depth--;\r\n                        } else if(tok.id === '<') {\r\n                            depth++;\r\n                        }\r\n                        sig += tok.value;\r\n                    }\r\n                    advance('>');\r\n                    try {\r\n                        this.signature = parseSignature(sig);\r\n                    } catch(err) {\r\n                        // insert the position into this error\r\n                        err.position = sigPos + err.offset;\r\n                        throw err;\r\n                    }\r\n                }\r\n                // parse the function body\r\n                advance('{');\r\n                this.body = expression(0);\r\n                advance('}');\r\n            }\r\n            return this;\r\n        });\r\n\r\n        // parenthesis - block expression\r\n        prefix(\"(\", function () {\r\n            var expressions = [];\r\n            while (node.id !== \")\") {\r\n                expressions.push(expression(0));\r\n                if (node.id !== \";\") {\r\n                    break;\r\n                }\r\n                advance(\";\");\r\n            }\r\n            advance(\")\", true);\r\n            this.type = 'block';\r\n            this.expressions = expressions;\r\n            return this;\r\n        });\r\n\r\n        // array constructor\r\n        prefix(\"[\", function () {\r\n            var a = [];\r\n            if (node.id !== \"]\") {\r\n                for (;;) {\r\n                    var item = expression(0);\r\n                    if (node.id === \"..\") {\r\n                        // range operator\r\n                        var range = {type: \"binary\", value: \"..\", position: node.position, lhs: item};\r\n                        advance(\"..\");\r\n                        range.rhs = expression(0);\r\n                        item = range;\r\n                    }\r\n                    a.push(item);\r\n                    if (node.id !== \",\") {\r\n                        break;\r\n                    }\r\n                    advance(\",\");\r\n                }\r\n            }\r\n            advance(\"]\", true);\r\n            this.lhs = a;\r\n            this.type = \"unary\";\r\n            return this;\r\n        });\r\n\r\n        // filter - predicate or array index\r\n        infix(\"[\", operators['['], function (left) {\r\n            if(node.id === \"]\") {\r\n                // empty predicate means maintain singleton arrays in the output\r\n                var step = left;\r\n                while(step && step.type === 'binary' && step.value === '[') {\r\n                    step = step.lhs;\r\n                }\r\n                step.keepArray = true;\r\n                advance(\"]\");\r\n                return left;\r\n            } else {\r\n                this.lhs = left;\r\n                this.rhs = expression(operators[']']);\r\n                this.type = 'binary';\r\n                advance(\"]\", true);\r\n                return this;\r\n            }\r\n        });\r\n\r\n        var objectParser = function (left) {\r\n            var a = [];\r\n            if (node.id !== \"}\") {\r\n                for (;;) {\r\n                    var n = expression(0);\r\n                    advance(\":\");\r\n                    var v = expression(0);\r\n                    a.push([n, v]); // holds an array of name/value expression pairs\r\n                    if (node.id !== \",\") {\r\n                        break;\r\n                    }\r\n                    advance(\",\");\r\n                }\r\n            }\r\n            advance(\"}\", true);\r\n            if(typeof left === 'undefined') {\r\n                // NUD - unary prefix form\r\n                this.lhs = a;\r\n                this.type = \"unary\";\r\n            } else {\r\n                // LED - binary infix form\r\n                this.lhs = left;\r\n                this.rhs = a;\r\n                this.type = 'binary';\r\n            }\r\n            return this;\r\n        };\r\n\r\n        // object constructor\r\n        prefix(\"{\", objectParser);\r\n\r\n        // object grouping\r\n        infix(\"{\", operators['{'], objectParser);\r\n\r\n        // if/then/else ternary operator ?:\r\n        infix(\"?\", operators['?'], function (left) {\r\n            this.type = 'condition';\r\n            this.condition = left;\r\n            this.then = expression(0);\r\n            if (node.id === ':') {\r\n                // else condition\r\n                advance(\":\");\r\n                this.else = expression(0);\r\n            }\r\n            return this;\r\n        });\r\n\r\n        // tail call optimization\r\n        // this is invoked by the post parser to analyse lambda functions to see\r\n        // if they make a tail call.  If so, it is replaced by a thunk which will\r\n        // be invoked by the trampoline loop during function application.\r\n        // This enables tail-recursive functions to be written without growing the stack\r\n        var tail_call_optimize = function(expr) {\r\n            var result;\r\n            if(expr.type === 'function') {\r\n                var thunk = {type: 'lambda', thunk: true, arguments: [], position: expr.position};\r\n                thunk.body = expr;\r\n                result = thunk;\r\n            } else if(expr.type === 'condition') {\r\n                // analyse both branches\r\n                expr.then = tail_call_optimize(expr.then);\r\n                expr.else = tail_call_optimize(expr.else);\r\n                result = expr;\r\n            } else if(expr.type === 'block') {\r\n                // only the last expression in the block\r\n                var length = expr.expressions.length;\r\n                if(length > 0) {\r\n                    expr.expressions[length - 1] = tail_call_optimize(expr.expressions[length - 1]);\r\n                }\r\n                result = expr;\r\n            } else {\r\n                result = expr;\r\n            }\r\n            return result;\r\n        };\r\n\r\n        // post-parse stage\r\n        // the purpose of this is flatten the parts of the AST representing location paths,\r\n        // converting them to arrays of steps which in turn may contain arrays of predicates.\r\n        // following this, nodes containing '.' and '[' should be eliminated from the AST.\r\n        var post_parse = function (expr) {\r\n            var result = [];\r\n            switch (expr.type) {\r\n                case 'binary':\r\n                    switch (expr.value) {\r\n                        case '.':\r\n                            var lstep = post_parse(expr.lhs);\r\n                            if (lstep.type === 'path') {\r\n                                Array.prototype.push.apply(result, lstep);\r\n                            } else {\r\n                                result.push(lstep);\r\n                            }\r\n                            var rest = post_parse(expr.rhs);\r\n                            if(rest.type !== 'path') {\r\n                                rest = [rest];\r\n                            }\r\n                            Array.prototype.push.apply(result, rest);\r\n                            result.type = 'path';\r\n                            break;\r\n                        case '[':\r\n                            // predicated step\r\n                            // LHS is a step or a predicated step\r\n                            // RHS is the predicate expr\r\n                            result = post_parse(expr.lhs);\r\n                            var step = result;\r\n                            if(result.type === 'path') {\r\n                                step = result[result.length - 1];\r\n                            }\r\n                            if (typeof step.group !== 'undefined') {\r\n                                throw {\r\n                                    code: \"S0209\",\r\n                                    stack: (new Error()).stack,\r\n                                    position: expr.position\r\n                                };\r\n                            }\r\n                            if (typeof step.predicate === 'undefined') {\r\n                                step.predicate = [];\r\n                            }\r\n                            step.predicate.push(post_parse(expr.rhs));\r\n                            break;\r\n                        case '{':\r\n                            // group-by\r\n                            // LHS is a step or a predicated step\r\n                            // RHS is the object constructor expr\r\n                            result = post_parse(expr.lhs);\r\n                            if (typeof result.group !== 'undefined') {\r\n                                throw {\r\n                                    code: \"S0210\",\r\n                                    stack: (new Error()).stack,\r\n                                    position: expr.position\r\n                                };\r\n                            }\r\n                            // object constructor - process each pair\r\n                            result.group = {\r\n                                lhs: expr.rhs.map(function (pair) {\r\n                                    return [post_parse(pair[0]), post_parse(pair[1])];\r\n                                }),\r\n                                position: expr.position\r\n                            };\r\n                            break;\r\n                        default:\r\n                            result = {type: expr.type, value: expr.value, position: expr.position};\r\n                            result.lhs = post_parse(expr.lhs);\r\n                            result.rhs = post_parse(expr.rhs);\r\n                    }\r\n                    break;\r\n                case 'unary':\r\n                    result = {type: expr.type, value: expr.value, position: expr.position};\r\n                    if (expr.value === '[') {\r\n                        // array constructor - process each item\r\n                        result.lhs = expr.lhs.map(function (item) {\r\n                            return post_parse(item);\r\n                        });\r\n                    } else if (expr.value === '{') {\r\n                        // object constructor - process each pair\r\n                        result.lhs = expr.lhs.map(function (pair) {\r\n                            return [post_parse(pair[0]), post_parse(pair[1])];\r\n                        });\r\n                    } else {\r\n                        // all other unary expressions - just process the expression\r\n                        result.expression = post_parse(expr.expression);\r\n                        // if unary minus on a number, then pre-process\r\n                        if (expr.value === '-' && result.expression.type === 'literal' && isNumeric(result.expression.value)) {\r\n                            result = result.expression;\r\n                            result.value = -result.value;\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'function':\r\n                case 'partial':\r\n                    result = {type: expr.type, name: expr.name, value: expr.value, position: expr.position};\r\n                    result.arguments = expr.arguments.map(function (arg) {\r\n                        return post_parse(arg);\r\n                    });\r\n                    result.procedure = post_parse(expr.procedure);\r\n                    break;\r\n                case 'lambda':\r\n                    result = {type: expr.type, arguments: expr.arguments, signature: expr.signature, position: expr.position};\r\n                    var body = post_parse(expr.body);\r\n                    result.body = tail_call_optimize(body);\r\n                    break;\r\n                case 'condition':\r\n                    result = {type: expr.type, position: expr.position};\r\n                    result.condition = post_parse(expr.condition);\r\n                    result.then = post_parse(expr.then);\r\n                    if (typeof expr.else !== 'undefined') {\r\n                        result.else = post_parse(expr.else);\r\n                    }\r\n                    break;\r\n                case 'block':\r\n                    result = {type: expr.type, position: expr.position};\r\n                    // array of expressions - process each one\r\n                    result.expressions = expr.expressions.map(function (item) {\r\n                        return post_parse(item);\r\n                    });\r\n                    // TODO scan the array of expressions to see if any of them assign variables\r\n                    // if so, need to mark the block as one that needs to create a new frame\r\n                    break;\r\n                case 'name':\r\n                    result = [expr];\r\n                    result.type = 'path';\r\n                    break;\r\n                case 'literal':\r\n                case 'wildcard':\r\n                case 'descendant':\r\n                case 'variable':\r\n                case 'regex':\r\n                    result = expr;\r\n                    break;\r\n                case 'operator':\r\n                    // the tokens 'and' and 'or' might have been used as a name rather than an operator\r\n                    if (expr.value === 'and' || expr.value === 'or' || expr.value === 'in') {\r\n                        expr.type = 'name';\r\n                        result = post_parse(expr);\r\n                    } else if (expr.value === '?') {\r\n                        // partial application\r\n                        result = expr;\r\n                    } else {\r\n                        throw {\r\n                            code: \"S0201\",\r\n                            stack: (new Error()).stack,\r\n                            position: expr.position,\r\n                            token: expr.value\r\n                        };\r\n                    }\r\n                    break;\r\n                default:\r\n                    var code = \"S0206\";\r\n                    /* istanbul ignore else */\r\n                    if (expr.id === '(end)') {\r\n                        code = \"S0207\";\r\n                    }\r\n                    throw {\r\n                        code: code,\r\n                        stack: (new Error()).stack,\r\n                        position: expr.position,\r\n                        token: expr.value\r\n                    };\r\n            }\r\n            return result;\r\n        };\r\n\r\n        // now invoke the tokenizer and the parser and return the syntax tree\r\n\r\n        lexer = tokenizer(source);\r\n        advance();\r\n        // parse the tokens\r\n        var expr = expression(0);\r\n        if (node.id !== '(end)') {\r\n            throw {\r\n                code: \"S0201\",\r\n                stack: (new Error()).stack,\r\n                position: node.position,\r\n                token: node.value\r\n            };\r\n        }\r\n        expr = post_parse(expr);\r\n\r\n        return expr;\r\n    };\r\n\r\n// Start of Evaluator code\r\n\r\n    var staticFrame = createFrame(null);\r\n\r\n    /**\r\n     * Check if value is a finite number\r\n     * @param {float} n - number to evaluate\r\n     * @returns {boolean} True if n is a finite number\r\n     */\r\n    function isNumeric(n) {\r\n        var isNum = false;\r\n        if(typeof n === 'number') {\r\n            var num = parseFloat(n);\r\n            isNum = !isNaN(num);\r\n            if (isNum && !isFinite(num)) {\r\n                throw {\r\n                    code: \"D1001\",\r\n                    value: n,\r\n                    stack: (new Error()).stack\r\n                };\r\n            }\r\n        }\r\n        return isNum;\r\n    }\r\n\r\n    /**\r\n     * Returns true if the arg is an array of numbers\r\n     * @param {*} arg - the item to test\r\n     * @returns {boolean} True if arg is an array of numbers\r\n     */\r\n    function isArrayOfNumbers(arg) {\r\n        var result = false;\r\n        if(Array.isArray(arg)) {\r\n            result = (arg.filter(function(item){return !isNumeric(item);}).length === 0);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    // Polyfill\r\n    /* istanbul ignore next */\r\n    Number.isInteger = Number.isInteger || function(value) {\r\n        return typeof value === \"number\" &&\r\n          isFinite(value) &&\r\n          Math.floor(value) === value;\r\n    };\r\n\r\n    /**\r\n     * Evaluate expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluate(expr, input, environment) {\r\n        var result;\r\n\r\n        var entryCallback = environment.lookup('__evaluate_entry');\r\n        if(entryCallback) {\r\n            entryCallback(expr, input, environment);\r\n        }\r\n\r\n        switch (expr.type) {\r\n            case 'path':\r\n                result = evaluatePath(expr, input, environment);\r\n                break;\r\n            case 'binary':\r\n                result = evaluateBinary(expr, input, environment);\r\n                break;\r\n            case 'unary':\r\n                result = evaluateUnary(expr, input, environment);\r\n                break;\r\n            case 'name':\r\n                result = evaluateName(expr, input, environment);\r\n                break;\r\n            case 'literal':\r\n                result = evaluateLiteral(expr, input, environment);\r\n                break;\r\n            case 'wildcard':\r\n                result = evaluateWildcard(expr, input, environment);\r\n                break;\r\n            case 'descendant':\r\n                result = evaluateDescendants(expr, input, environment);\r\n                break;\r\n            case 'condition':\r\n                result = evaluateCondition(expr, input, environment);\r\n                break;\r\n            case 'block':\r\n                result = evaluateBlock(expr, input, environment);\r\n                break;\r\n            case 'regex':\r\n                result = evaluateRegex(expr, input, environment);\r\n                break;\r\n            case 'function':\r\n                result = evaluateFunction(expr, input, environment);\r\n                break;\r\n            case 'variable':\r\n                result = evaluateVariable(expr, input, environment);\r\n                break;\r\n            case 'lambda':\r\n                result = evaluateLambda(expr, input, environment);\r\n                break;\r\n            case 'partial':\r\n                result = evaluatePartialApplication(expr, input, environment);\r\n                break;\r\n        }\r\n        if (expr.hasOwnProperty('predicate')) {\r\n            result = applyPredicates(expr.predicate, result, environment);\r\n        }\r\n        if (expr.hasOwnProperty('group')) {\r\n            result = evaluateGroupExpression(expr.group, result, environment);\r\n        }\r\n\r\n        var exitCallback = environment.lookup('__evaluate_exit');\r\n        if(exitCallback) {\r\n            exitCallback(expr, input, environment, result);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate path expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluatePath(expr, input, environment) {\r\n        var result;\r\n        var inputSequence;\r\n        var keepSingletonArray = false;\r\n        // expr is an array of steps\r\n        // if the first step is a variable reference ($...), including root reference ($$),\r\n        //   then the path is absolute rather than relative\r\n        if (expr[0].type === 'variable') {\r\n            expr[0].absolute = true;\r\n        } else if(expr[0].type === 'unary' && expr[0].value === '[') {\r\n            // array constructor - not relative to the input\r\n            input = [null];// dummy singleton sequence for first step\r\n        }\r\n\r\n        // evaluate each step in turn\r\n        for(var ii = 0; ii < expr.length; ii++) {\r\n            var step = expr[ii];\r\n            if(step.keepArray === true) {\r\n                keepSingletonArray = true;\r\n            }\r\n            var resultSequence = [];\r\n            result = undefined;\r\n            // if input is not an array, make it so\r\n            if (step.absolute === true) {\r\n                inputSequence = [input]; // dummy singleton sequence for first (absolute) step\r\n            } else if (Array.isArray(input)) {\r\n                inputSequence = input;\r\n            } else {\r\n                inputSequence = [input];\r\n            }\r\n            // if there is more than one step in the path, handle quoted field names as names not literals\r\n            if (expr.length > 1 && step.type === 'literal') {\r\n                step.type = 'name';\r\n            }\r\n            inputSequence.forEach(function (item) {\r\n                var res = evaluate(step, item, environment);\r\n                if (typeof res !== 'undefined') {\r\n                    if (Array.isArray(res) && (step.value !== '[' )) {\r\n                        // is res an array - if so, flatten it into the parent array\r\n                        res.forEach(function (innerRes) {\r\n                            if (typeof innerRes !== 'undefined') {\r\n                                resultSequence.push(innerRes);\r\n                            }\r\n                        });\r\n                    } else {\r\n                        resultSequence.push(res);\r\n                    }\r\n                }\r\n            });\r\n            if (resultSequence.length === 1) {\r\n                if(keepSingletonArray) {\r\n                    result = resultSequence;\r\n                } else {\r\n                    result = resultSequence[0];\r\n                }\r\n            } else if (resultSequence.length > 1) {\r\n                result = resultSequence;\r\n            }\r\n\r\n            if(typeof result === 'undefined') {\r\n                break;\r\n            }\r\n            input = result;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Apply predicates to input data\r\n     * @param {Object} predicates - Predicates\r\n     * @param {Object} input - Input data to apply predicates against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Result after applying predicates\r\n     */\r\n    function applyPredicates(predicates, input, environment) {\r\n        var result;\r\n        var inputSequence = input;\r\n        // lhs potentially holds an array\r\n        // we want to iterate over the array, and only keep the items that are\r\n        // truthy when applied to the predicate.\r\n        // if the predicate evaluates to an integer, then select that index\r\n\r\n        var results = [];\r\n        predicates.forEach(function (predicate) {\r\n            // if it's not an array, turn it into one\r\n            // since in XPath >= 2.0 an item is equivalent to a singleton sequence of that item\r\n            // if input is not an array, make it so\r\n            if (!Array.isArray(inputSequence)) {\r\n                inputSequence = [inputSequence];\r\n            }\r\n            results = [];\r\n            result = undefined;\r\n            if (predicate.type === 'literal' && isNumeric(predicate.value)) {\r\n                var index = predicate.value;\r\n                if (!Number.isInteger(index)) {\r\n                    // round it down\r\n                    index = Math.floor(index);\r\n                }\r\n                if (index < 0) {\r\n                    // count in from end of array\r\n                    index = inputSequence.length + index;\r\n                }\r\n                result = inputSequence[index];\r\n            } else {\r\n                inputSequence.forEach(function (item, index) {\r\n                    var res = evaluate(predicate, item, environment);\r\n                    if (isNumeric(res)) {\r\n                        res = [res];\r\n                    }\r\n                    if(isArrayOfNumbers(res)) {\r\n                        res.forEach(function(ires) {\r\n                            if (!Number.isInteger(ires)) {\r\n                                // round it down\r\n                                ires = Math.floor(ires);\r\n                            }\r\n                            if (ires < 0) {\r\n                                // count in from end of array\r\n                                ires = inputSequence.length + ires;\r\n                            }\r\n                            if (ires === index) {\r\n                                results.push(item);\r\n                            }\r\n                        });\r\n                    } else if (functionBoolean(res)) { // truthy\r\n                        results.push(item);\r\n                    }\r\n                });\r\n            }\r\n            if (results.length === 1) {\r\n                result = results[0];\r\n            } else if (results.length > 1) {\r\n                result = results;\r\n            }\r\n            inputSequence = result;\r\n        });\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate binary expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateBinary(expr, input, environment) {\r\n        var result;\r\n\r\n        switch (expr.value) {\r\n            case '+':\r\n            case '-':\r\n            case '*':\r\n            case '/':\r\n            case '%':\r\n                result = evaluateNumericExpression(expr, input, environment);\r\n                break;\r\n            case '=':\r\n            case '!=':\r\n            case '<':\r\n            case '<=':\r\n            case '>':\r\n            case '>=':\r\n                result = evaluateComparisonExpression(expr, input, environment);\r\n                break;\r\n            case '&':\r\n                result = evaluateStringConcat(expr, input, environment);\r\n                break;\r\n            case 'and':\r\n            case 'or':\r\n                result = evaluateBooleanExpression(expr, input, environment);\r\n                break;\r\n            case '..':\r\n                result = evaluateRangeExpression(expr, input, environment);\r\n                break;\r\n            case ':=':\r\n                result = evaluateBindExpression(expr, input, environment);\r\n                break;\r\n            case 'in':\r\n                result = evaluateIncludesExpression(expr, input, environment);\r\n                break;\r\n            case '~>':\r\n                result = evaluateApplyExpression(expr, input, environment);\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate unary expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateUnary(expr, input, environment) {\r\n        var result;\r\n\r\n        switch (expr.value) {\r\n            case '-':\r\n                result = evaluate(expr.expression, input, environment);\r\n                if (isNumeric(result)) {\r\n                    result = -result;\r\n                } else {\r\n                    throw {\r\n                        code: \"D1002\",\r\n                        stack: (new Error()).stack,\r\n                        position: expr.position,\r\n                        token: expr.value,\r\n                        value: result\r\n                    };\r\n                }\r\n                break;\r\n            case '[':\r\n                // array constructor - evaluate each item\r\n                result = [];\r\n                expr.lhs.forEach(function (item) {\r\n                    var value = evaluate(item, input, environment);\r\n                    if (typeof value !== 'undefined') {\r\n                        if(item.value === '[') {\r\n                            result.push(value);\r\n                        } else {\r\n                            result = functionAppend(result, value);\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            case '{':\r\n                // object constructor - apply grouping\r\n                result = evaluateGroupExpression(expr, input, environment);\r\n                break;\r\n\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate name object against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateName(expr, input, environment) {\r\n        // lookup the 'name' item in the input\r\n        var result;\r\n        if (Array.isArray(input)) {\r\n            var results = [];\r\n            input.forEach(function (item) {\r\n                var res = evaluateName(expr, item, environment);\r\n                if (typeof res !== 'undefined') {\r\n                    results.push(res);\r\n                }\r\n            });\r\n            if (results.length === 1) {\r\n                result = results[0];\r\n            } else if (results.length > 1) {\r\n                result = results;\r\n            }\r\n        } else if (input !== null && typeof input === 'object') {\r\n            result = input[expr.value];\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate literal against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateLiteral(expr) {\r\n        return expr.value;\r\n    }\r\n\r\n    /**\r\n     * Evaluate wildcard against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateWildcard(expr, input) {\r\n        var result;\r\n        var results = [];\r\n        if (input !== null && typeof input === 'object') {\r\n            Object.keys(input).forEach(function (key) {\r\n                var value = input[key];\r\n                if(Array.isArray(value)) {\r\n                    value = flatten(value);\r\n                    results = functionAppend(results, value);\r\n                } else {\r\n                    results.push(value);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (results.length === 1) {\r\n            result = results[0];\r\n        } else if (results.length > 1) {\r\n            result = results;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Returns a flattened array\r\n     * @param {Array} arg - the array to be flatten\r\n     * @param {Array} flattened - carries the flattened array - if not defined, will initialize to []\r\n     * @returns {Array} - the flattened array\r\n     */\r\n    function flatten(arg, flattened) {\r\n        if(typeof flattened === 'undefined') {\r\n            flattened = [];\r\n        }\r\n        if(Array.isArray(arg)) {\r\n            arg.forEach(function (item) {\r\n                flatten(item, flattened);\r\n            });\r\n        } else {\r\n            flattened.push(arg);\r\n        }\r\n        return flattened;\r\n    }\r\n\r\n    /**\r\n     * Evaluate descendants against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateDescendants(expr, input) {\r\n        var result;\r\n        var resultSequence = [];\r\n        if (typeof input !== 'undefined') {\r\n            // traverse all descendants of this object/array\r\n            recurseDescendants(input, resultSequence);\r\n            if (resultSequence.length === 1) {\r\n                result = resultSequence[0];\r\n            } else {\r\n                result = resultSequence;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Recurse through descendants\r\n     * @param {Object} input - Input data\r\n     * @param {Object} results - Results\r\n     */\r\n    function recurseDescendants(input, results) {\r\n        // this is the equivalent of //* in XPath\r\n        if (!Array.isArray(input)) {\r\n            results.push(input);\r\n        }\r\n        if (Array.isArray(input)) {\r\n            input.forEach(function (member) {\r\n                recurseDescendants(member, results);\r\n            });\r\n        } else if (input !== null && typeof input === 'object') {\r\n            Object.keys(input).forEach(function (key) {\r\n                recurseDescendants(input[key], results);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Evaluate numeric expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateNumericExpression(expr, input, environment) {\r\n        var result;\r\n\r\n        var lhs = evaluate(expr.lhs, input, environment);\r\n        var rhs = evaluate(expr.rhs, input, environment);\r\n\r\n        if (typeof lhs === 'undefined' || typeof rhs === 'undefined') {\r\n            // if either side is undefined, the result is undefined\r\n            return result;\r\n        }\r\n\r\n        if (!isNumeric(lhs)) {\r\n            throw {\r\n                code: \"T2001\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.value,\r\n                value: lhs\r\n            };\r\n        }\r\n        if (!isNumeric(rhs)) {\r\n            throw {\r\n                code: \"T2002\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.value,\r\n                value: rhs\r\n            };\r\n        }\r\n\r\n        switch (expr.value) {\r\n            case '+':\r\n                result = lhs + rhs;\r\n                break;\r\n            case '-':\r\n                result = lhs - rhs;\r\n                break;\r\n            case '*':\r\n                result = lhs * rhs;\r\n                break;\r\n            case '/':\r\n                result = lhs / rhs;\r\n                break;\r\n            case '%':\r\n                result = lhs % rhs;\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate comparison expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateComparisonExpression(expr, input, environment) {\r\n        var result;\r\n\r\n        var lhs = evaluate(expr.lhs, input, environment);\r\n        var rhs = evaluate(expr.rhs, input, environment);\r\n\r\n        if (typeof lhs === 'undefined' || typeof rhs === 'undefined') {\r\n            // if either side is undefined, the result is false\r\n            return false;\r\n        }\r\n\r\n        switch (expr.value) {\r\n            case '=':\r\n                result = lhs === rhs;\r\n                break;\r\n            case '!=':\r\n                result = (lhs !== rhs);\r\n                break;\r\n            case '<':\r\n                result = lhs < rhs;\r\n                break;\r\n            case '<=':\r\n                result = lhs <= rhs;\r\n                break;\r\n            case '>':\r\n                result = lhs > rhs;\r\n                break;\r\n            case '>=':\r\n                result = lhs >= rhs;\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Inclusion operator - in\r\n     *\r\n     * @param {Object} expr - AST\r\n     * @param {*} input - input context\r\n     * @param {Object} environment - frame\r\n     * @returns {boolean} - true if lhs is a member of rhs\r\n     */\r\n    function evaluateIncludesExpression(expr, input, environment) {\r\n        var result = false;\r\n\r\n        var lhs = evaluate(expr.lhs, input, environment);\r\n        var rhs = evaluate(expr.rhs, input, environment);\r\n\r\n        if (typeof lhs === 'undefined' || typeof rhs === 'undefined') {\r\n            // if either side is undefined, the result is false\r\n            return false;\r\n        }\r\n\r\n        if(!Array.isArray(rhs)) {\r\n            rhs = [rhs];\r\n        }\r\n\r\n        for(var i = 0; i < rhs.length; i++) {\r\n            if(rhs[i] === lhs) {\r\n                result = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate boolean expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateBooleanExpression(expr, input, environment) {\r\n        var result;\r\n\r\n        switch (expr.value) {\r\n            case 'and':\r\n                result = functionBoolean(evaluate(expr.lhs, input, environment)) &&\r\n                  functionBoolean(evaluate(expr.rhs, input, environment));\r\n                break;\r\n            case 'or':\r\n                result = functionBoolean(evaluate(expr.lhs, input, environment)) ||\r\n                  functionBoolean(evaluate(expr.rhs, input, environment));\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate string concatenation against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {string|*} Evaluated input data\r\n     */\r\n    function evaluateStringConcat(expr, input, environment) {\r\n        var result;\r\n        var lhs = evaluate(expr.lhs, input, environment);\r\n        var rhs = evaluate(expr.rhs, input, environment);\r\n\r\n        var lstr = '';\r\n        var rstr = '';\r\n        if (typeof lhs !== 'undefined') {\r\n            lstr = functionString(lhs);\r\n        }\r\n        if (typeof rhs !== 'undefined') {\r\n            rstr = functionString(rhs);\r\n        }\r\n\r\n        result = lstr.concat(rstr);\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate group expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {{}} Evaluated input data\r\n     */\r\n    function evaluateGroupExpression(expr, input, environment) {\r\n        var result = {};\r\n        var groups = {};\r\n        // group the input sequence by 'key' expression\r\n        if (!Array.isArray(input)) {\r\n            input = [input];\r\n        }\r\n        input.forEach(function (item) {\r\n            expr.lhs.forEach(function (pair) {\r\n                var key = evaluate(pair[0], item, environment);\r\n                // key has to be a string\r\n                if (typeof  key !== 'string') {\r\n                    throw {\r\n                        code: \"T1003\",\r\n                        stack: (new Error()).stack,\r\n                        position: expr.position,\r\n                        value: key\r\n                    };\r\n                }\r\n                var entry = {data: item, expr: pair[1]};\r\n                if (groups.hasOwnProperty(key)) {\r\n                    // a value already exists in this slot\r\n                    // append it as an array\r\n                    groups[key].data = functionAppend(groups[key].data, item);\r\n                } else {\r\n                    groups[key] = entry;\r\n                }\r\n            });\r\n        });\r\n        // iterate over the groups to evaluate the 'value' expression\r\n        for (var key in groups) {\r\n            var entry = groups[key];\r\n            var value = evaluate(entry.expr, entry.data, environment);\r\n            result[key] = value;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate range expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateRangeExpression(expr, input, environment) {\r\n        var result;\r\n\r\n        var lhs = evaluate(expr.lhs, input, environment);\r\n        var rhs = evaluate(expr.rhs, input, environment);\r\n\r\n        if (typeof lhs === 'undefined' || typeof rhs === 'undefined') {\r\n            // if either side is undefined, the result is undefined\r\n            return result;\r\n        }\r\n\r\n        if (lhs > rhs) {\r\n            // if the lhs is greater than the rhs, return undefined\r\n            return result;\r\n        }\r\n\r\n        if (!Number.isInteger(lhs)) {\r\n            throw {\r\n                code: \"T2003\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.value,\r\n                value: lhs\r\n            };\r\n        }\r\n        if (!Number.isInteger(rhs)) {\r\n            throw {\r\n                code: \"T2004\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.value,\r\n                value: rhs\r\n            };\r\n        }\r\n\r\n        result = new Array(rhs - lhs + 1);\r\n        for (var item = lhs, index = 0; item <= rhs; item++, index++) {\r\n            result[index] = item;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate bind expression against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateBindExpression(expr, input, environment) {\r\n        // The RHS is the expression to evaluate\r\n        // The LHS is the name of the variable to bind to - should be a VARIABLE token\r\n        var value = evaluate(expr.rhs, input, environment);\r\n        if (expr.lhs.type !== 'variable') {\r\n            throw {\r\n                code: \"D2005\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.value,\r\n                value: expr.lhs.type === 'path' ? expr.lhs[0].value : expr.lhs.value\r\n            };\r\n        }\r\n        environment.bind(expr.lhs.value, value);\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * Evaluate condition against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateCondition(expr, input, environment) {\r\n        var result;\r\n        var condition = evaluate(expr.condition, input, environment);\r\n        if (functionBoolean(condition)) {\r\n            result = evaluate(expr.then, input, environment);\r\n        } else if (typeof expr.else !== 'undefined') {\r\n            result = evaluate(expr.else, input, environment);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate block against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateBlock(expr, input, environment) {\r\n        var result;\r\n        // create a new frame to limit the scope of variable assignments\r\n        // TODO, only do this if the post-parse stage has flagged this as required\r\n        var frame = createFrame(environment);\r\n        // invoke each expression in turn\r\n        // only return the result of the last one\r\n        expr.expressions.forEach(function (expression) {\r\n            result = evaluate(expression, input, frame);\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Prepare a regex\r\n     * @param {Object} expr - expression containing regex\r\n     * @returns {Function} Higher order function representing prepared regex\r\n     */\r\n    function evaluateRegex(expr) {\r\n        expr.value.lastIndex = 0;\r\n        var closure = function(str) {\r\n            var re = expr.value;\r\n            //var result = str.match(expr.value);\r\n            var result;\r\n            var match = re.exec(str);\r\n            if(match !== null) {\r\n                result = {\r\n                    match: match[0],\r\n                    start: match.index,\r\n                    end: match.index + match[0].length,\r\n                    groups: []\r\n                };\r\n                if(match.length > 1) {\r\n                    for(var i = 1; i < match.length; i++) {\r\n                        result.groups.push(match[i]);\r\n                    }\r\n                }\r\n                result.next = function() {\r\n                    if(re.lastIndex >= str.length) {\r\n                        return undefined;\r\n                    } else {\r\n                        var next = closure(str);\r\n                        if(next && next.match === '' && re.lastIndex === expr.value.lastIndex) {\r\n                            // matches zero length string; this will never progress\r\n                            throw {\r\n                                code: \"D1004\",\r\n                                stack: (new Error()).stack,\r\n                                position: expr.position,\r\n                                value: expr.value.source\r\n                            };\r\n                        }\r\n                        return next;\r\n                    }\r\n                };\r\n            }\r\n\r\n            return result;\r\n        };\r\n        return closure;\r\n    }\r\n\r\n    /**\r\n     * Evaluate variable against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateVariable(expr, input, environment) {\r\n        // lookup the variable value in the environment\r\n        var result;\r\n        // if the variable name is empty string, then it refers to context value\r\n        if (expr.value === '') {\r\n            result = input;\r\n        } else {\r\n            result = environment.lookup(expr.value);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    var chain = evaluate(parser('function($f, $g) { function($x){ $g($f($x)) } }'), null, staticFrame);\r\n\r\n    /**\r\n     * Apply the function on the RHS using the sequence on the LHS as the first argument\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateApplyExpression(expr, input, environment) {\r\n        var result;\r\n\r\n        var arg1 = evaluate(expr.lhs, input, environment);\r\n\r\n        if(expr.rhs.type === 'function') {\r\n            // this is a function _invocation_; invoke it with arg1 at the start\r\n            result = evaluateFunction(expr.rhs, input, environment, {context: arg1});\r\n        } else {\r\n            var func = evaluate(expr.rhs, input, environment);\r\n\r\n            if(!isFunction(func)) {\r\n                throw {\r\n                    code: \"T2006\",\r\n                    stack: (new Error()).stack,\r\n                    position: expr.position,\r\n                    value: func\r\n                };\r\n            }\r\n\r\n            if(isFunction(arg1)) {\r\n                // this is function chaining (func1 ~> func2)\r\n                // ($f, $g) { ($x){ $g($f($x)) } }\r\n                result = apply(chain, [arg1, func], environment, null);\r\n            } else {\r\n                result = apply(func, [arg1], environment, null);\r\n            }\r\n\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {Object} arg - expression to test\r\n     * @returns {boolean} - true if it is a function (lambda or built-in)\r\n     */\r\n    function isFunction(arg) {\r\n        return ((arg && (arg._jsonata_function === true || arg._jsonata_lambda === true)) || typeof arg === 'function');\r\n    }\r\n\r\n    /**\r\n     * Tests whether arg is a lambda function\r\n     * @param {*} arg - the value to test\r\n     * @returns {boolean} - true if it is a lambda function\r\n     */\r\n    function isLambda(arg) {\r\n        return arg && arg._jsonata_lambda === true;\r\n    }\r\n\r\n    /**\r\n     * Evaluate function against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @param {Object} [applyto] - LHS of ~> operator\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluateFunction(expr, input, environment, applyto) {\r\n        var result;\r\n        // evaluate the arguments\r\n        var evaluatedArgs = [];\r\n        expr.arguments.forEach(function (arg) {\r\n            evaluatedArgs.push(evaluate(arg, input, environment));\r\n        });\r\n        if(applyto) {\r\n            // insert the first argument from the LHS of ~>\r\n            evaluatedArgs.unshift(applyto.context);\r\n        }\r\n        // lambda function on lhs\r\n        // create the procedure\r\n        // can't assume that expr.procedure is a lambda type directly\r\n        // could be an expression that evaluates to a function (e.g. variable reference, parens expr etc.\r\n        // evaluate it generically first, then check that it is a function.  Throw error if not.\r\n        var proc = evaluate(expr.procedure, input, environment);\r\n\r\n        if (typeof proc === 'undefined' && expr.procedure.type === 'path' && environment.lookup(expr.procedure[0].value)) {\r\n            // help the user out here if they simply forgot the leading $\r\n            throw {\r\n                code: \"T1005\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.procedure[0].value\r\n            };\r\n        }\r\n        // apply the procedure\r\n        try {\r\n            var validatedArgs = evaluatedArgs;\r\n            if(proc) {\r\n                validatedArgs = validateArguments(proc.signature, evaluatedArgs, input);\r\n            }\r\n            result = apply(proc, validatedArgs, input);\r\n        } catch (err) {\r\n            // add the position field to the error\r\n            err.position = expr.position;\r\n            // and the function identifier\r\n            err.token = expr.procedure.type === 'path' ? expr.procedure[0].value : expr.procedure.value;\r\n            throw err;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Apply procedure or function\r\n     * @param {Object} proc - Procedure\r\n     * @param {Array} args - Arguments\r\n     * @param {Object} self - Self\r\n     * @returns {*} Result of procedure\r\n     */\r\n    function apply(proc, args, self) {\r\n        var result;\r\n        result = applyInner(proc, args, self);\r\n        while(isLambda(result) && result.thunk === true) {\r\n            // trampoline loop - this gets invoked as a result of tail-call optimization\r\n            // the function returned a tail-call thunk\r\n            // unpack it, evaluate its arguments, and apply the tail call\r\n            var next = evaluate(result.body.procedure, result.input, result.environment);\r\n            var evaluatedArgs = [];\r\n            result.body.arguments.forEach(function (arg) {\r\n                evaluatedArgs.push(evaluate(arg, result.input, result.environment));\r\n            });\r\n\r\n            result = applyInner(next, evaluatedArgs, self);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Apply procedure or function\r\n     * @param {Object} proc - Procedure\r\n     * @param {Array} args - Arguments\r\n     * @param {Object} self - Self\r\n     * @returns {*} Result of procedure\r\n     */\r\n    function applyInner(proc, args, self) {\r\n        var result;\r\n        if (isLambda(proc)) {\r\n            result = applyProcedure(proc, args);\r\n        } else if (proc && proc._jsonata_function === true) {\r\n            result = proc.implementation.apply(self, args);\r\n        } else if (typeof proc === 'function') {\r\n            result = proc.apply(self, args);\r\n        } else {\r\n            throw {\r\n                code: \"T1006\",\r\n                stack: (new Error()).stack\r\n            };\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Evaluate lambda against input data\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {{lambda: boolean, input: *, environment: *, arguments: *, body: *}} Evaluated input data\r\n     */\r\n    function evaluateLambda(expr, input, environment) {\r\n        // make a function (closure)\r\n        var procedure = {\r\n            _jsonata_lambda: true,\r\n            input: input,\r\n            environment: environment,\r\n            arguments: expr.arguments,\r\n            signature: expr.signature,\r\n            body: expr.body\r\n        };\r\n        if(expr.thunk === true) {\r\n            procedure.thunk = true;\r\n        }\r\n        return procedure;\r\n    }\r\n\r\n    /**\r\n     * Evaluate partial application\r\n     * @param {Object} expr - JSONata expression\r\n     * @param {Object} input - Input data to evaluate against\r\n     * @param {Object} environment - Environment\r\n     * @returns {*} Evaluated input data\r\n     */\r\n    function evaluatePartialApplication(expr, input, environment) {\r\n        // partially apply a function\r\n        var result;\r\n        // evaluate the arguments\r\n        var evaluatedArgs = [];\r\n        expr.arguments.forEach(function (arg) {\r\n            if (arg.type === 'operator' && arg.value === '?') {\r\n                evaluatedArgs.push(arg);\r\n            } else {\r\n                evaluatedArgs.push(evaluate(arg, input, environment));\r\n            }\r\n        });\r\n        // lookup the procedure\r\n        var proc = evaluate(expr.procedure, input, environment);\r\n        if (typeof proc === 'undefined' && expr.procedure.type === 'path' && environment.lookup(expr.procedure[0].value)) {\r\n            // help the user out here if they simply forgot the leading $\r\n            throw {\r\n                code: \"T1007\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.procedure[0].value\r\n            };\r\n        }\r\n        if (isLambda(proc)) {\r\n            result = partialApplyProcedure(proc, evaluatedArgs);\r\n        } else if (proc && proc._jsonata_function === true) {\r\n            result = partialApplyNativeFunction(proc.implementation, evaluatedArgs);\r\n        } else if (typeof proc === 'function') {\r\n            result = partialApplyNativeFunction(proc, evaluatedArgs);\r\n        } else {\r\n            throw {\r\n                code: \"T1008\",\r\n                stack: (new Error()).stack,\r\n                position: expr.position,\r\n                token: expr.procedure.type === 'path' ? expr.procedure[0].value : expr.procedure.value\r\n            };\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Validate the arguments against the signature validator (if it exists)\r\n     * @param {Function} signature - validator function\r\n     * @param {Array} args - function arguments\r\n     * @param {*} context - context value\r\n     * @returns {Array} - validated arguments\r\n     */\r\n    function validateArguments(signature, args, context) {\r\n        if(typeof signature === 'undefined') {\r\n            // nothing to validate\r\n            return args;\r\n        }\r\n        var validatedArgs = signature.validate(args, context);\r\n        return validatedArgs;\r\n    }\r\n\r\n    /**\r\n     * Apply procedure\r\n     * @param {Object} proc - Procedure\r\n     * @param {Array} args - Arguments\r\n     * @returns {*} Result of procedure\r\n     */\r\n    function applyProcedure(proc, args) {\r\n        var result;\r\n        var env = createFrame(proc.environment);\r\n        proc.arguments.forEach(function (param, index) {\r\n            env.bind(param.value, args[index]);\r\n        });\r\n        if (typeof proc.body === 'function') {\r\n            // this is a lambda that wraps a native function - generated by partially evaluating a native\r\n            result = applyNativeFunction(proc.body, env);\r\n        } else {\r\n            result = evaluate(proc.body, proc.input, env);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Partially apply procedure\r\n     * @param {Object} proc - Procedure\r\n     * @param {Array} args - Arguments\r\n     * @returns {{lambda: boolean, input: *, environment: {bind, lookup}, arguments: Array, body: *}} Result of partially applied procedure\r\n     */\r\n    function partialApplyProcedure(proc, args) {\r\n        // create a closure, bind the supplied parameters and return a function that takes the remaining (?) parameters\r\n        var env = createFrame(proc.environment);\r\n        var unboundArgs = [];\r\n        proc.arguments.forEach(function (param, index) {\r\n            var arg = args[index];\r\n            if (arg && arg.type === 'operator' && arg.value === '?') {\r\n                unboundArgs.push(param);\r\n            } else {\r\n                env.bind(param.value, arg);\r\n            }\r\n        });\r\n        var procedure = {\r\n            _jsonata_lambda: true,\r\n            input: proc.input,\r\n            environment: env,\r\n            arguments: unboundArgs,\r\n            body: proc.body\r\n        };\r\n        return procedure;\r\n    }\r\n\r\n    /**\r\n     * Partially apply native function\r\n     * @param {Function} native - Native function\r\n     * @param {Array} args - Arguments\r\n     * @returns {{lambda: boolean, input: *, environment: {bind, lookup}, arguments: Array, body: *}} Result of partially applying native function\r\n     */\r\n    function partialApplyNativeFunction(native, args) {\r\n        // create a lambda function that wraps and invokes the native function\r\n        // get the list of declared arguments from the native function\r\n        // this has to be picked out from the toString() value\r\n        var sigArgs = getNativeFunctionArguments(native);\r\n        sigArgs = sigArgs.map(function (sigArg) {\r\n            return '$' + sigArg.trim();\r\n        });\r\n        var body = 'function(' + sigArgs.join(', ') + '){ _ }';\r\n\r\n        var bodyAST = parser(body);\r\n        bodyAST.body = native;\r\n\r\n        var partial = partialApplyProcedure(bodyAST, args);\r\n        return partial;\r\n    }\r\n\r\n    /**\r\n     * Apply native function\r\n     * @param {Object} proc - Procedure\r\n     * @param {Object} env - Environment\r\n     * @returns {*} Result of applying native function\r\n     */\r\n    function applyNativeFunction(proc, env) {\r\n        var sigArgs = getNativeFunctionArguments(proc);\r\n        // generate the array of arguments for invoking the function - look them up in the environment\r\n        var args = sigArgs.map(function (sigArg) {\r\n            return env.lookup(sigArg.trim());\r\n        });\r\n\r\n        var result = proc.apply(null, args);\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Get native function arguments\r\n     * @param {Function} func - Function\r\n     * @returns {*|Array} Native function arguments\r\n     */\r\n    function getNativeFunctionArguments(func) {\r\n        var signature = func.toString();\r\n        var sigParens = /\\(([^\\)]*)\\)/.exec(signature)[1]; // the contents of the parens\r\n        var sigArgs = sigParens.split(',');\r\n        return sigArgs;\r\n    }\r\n\r\n    /**\r\n     * Creates a function definition\r\n     * @param {Function} func - function implementation in Javascript\r\n     * @param {string} signature - JSONata function signature definition\r\n     * @returns {{implementation: *, signature: *}} function definition\r\n     */\r\n    function defineFunction(func, signature) {\r\n        var definition = {\r\n            _jsonata_function: true,\r\n            implementation: func\r\n        };\r\n        if(typeof signature !== 'undefined') {\r\n            definition.signature = parseSignature(signature);\r\n        }\r\n        return definition;\r\n    }\r\n\r\n    /**\r\n     * Sum function\r\n     * @param {Object} args - Arguments\r\n     * @returns {number} Total value of arguments\r\n     */\r\n    function functionSum(args) {\r\n        // undefined inputs always return undefined\r\n        if(typeof args === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        var total = 0;\r\n        args.forEach(function(num){total += num;});\r\n        return total;\r\n    }\r\n\r\n    /**\r\n     * Count function\r\n     * @param {Object} args - Arguments\r\n     * @returns {number} Number of elements in the array\r\n     */\r\n    function functionCount(args) {\r\n        // undefined inputs always return undefined\r\n        if(typeof args === 'undefined') {\r\n            return 0;\r\n        }\r\n\r\n        return args.length;\r\n    }\r\n\r\n    /**\r\n     * Max function\r\n     * @param {Object} args - Arguments\r\n     * @returns {number} Max element in the array\r\n     */\r\n    function functionMax(args) {\r\n        // undefined inputs always return undefined\r\n        if(typeof args === 'undefined' || args.length === 0) {\r\n            return undefined;\r\n        }\r\n\r\n        return Math.max.apply(Math, args);\r\n    }\r\n\r\n    /**\r\n     * Min function\r\n     * @param {Object} args - Arguments\r\n     * @returns {number} Min element in the array\r\n     */\r\n    function functionMin(args) {\r\n        // undefined inputs always return undefined\r\n        if(typeof args === 'undefined' || args.length === 0) {\r\n            return undefined;\r\n        }\r\n\r\n        return Math.min.apply(Math, args);\r\n    }\r\n\r\n    /**\r\n     * Average function\r\n     * @param {Object} args - Arguments\r\n     * @returns {number} Average element in the array\r\n     */\r\n    function functionAverage(args) {\r\n        // undefined inputs always return undefined\r\n        if(typeof args === 'undefined' || args.length === 0) {\r\n            return undefined;\r\n        }\r\n\r\n        var total = 0;\r\n        args.forEach(function(num){total += num;});\r\n        return total/args.length;\r\n    }\r\n\r\n    /**\r\n     * Stingify arguments\r\n     * @param {Object} arg - Arguments\r\n     * @returns {String} String from arguments\r\n     */\r\n    function functionString(arg) {\r\n        // undefined inputs always return undefined\r\n        if(typeof arg === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        var str;\r\n\r\n        if (typeof arg === 'string') {\r\n            // already a string\r\n            str = arg;\r\n        } else if(isFunction(arg)) {\r\n            // functions (built-in and lambda convert to empty string\r\n            str = '';\r\n        } else if (typeof arg === 'number' && !isFinite(arg)) {\r\n            throw {\r\n                code: \"D3001\",\r\n                value: arg,\r\n                stack: (new Error()).stack\r\n            };\r\n        } else\r\n            str = JSON.stringify(arg, function (key, val) {\r\n                return (typeof val !== 'undefined' && val !== null && val.toPrecision && isNumeric(val)) ? Number(val.toPrecision(13)) :\r\n                  (val && isFunction(val)) ? '' : val;\r\n            });\r\n        return str;\r\n    }\r\n\r\n    /**\r\n     * Create substring based on character number and length\r\n     * @param {String} str - String to evaluate\r\n     * @param {Integer} start - Character number to start substring\r\n     * @param {Integer} [length] - Number of characters in substring\r\n     * @returns {string|*} Substring\r\n     */\r\n    function functionSubstring(str, start, length) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        return str.substr(start, length);\r\n    }\r\n\r\n    /**\r\n     * Create substring up until a character\r\n     * @param {String} str - String to evaluate\r\n     * @param {String} chars - Character to define substring boundary\r\n     * @returns {*} Substring\r\n     */\r\n    function functionSubstringBefore(str, chars) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        var pos = str.indexOf(chars);\r\n        if (pos > -1) {\r\n            return str.substr(0, pos);\r\n        } else {\r\n            return str;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create substring after a character\r\n     * @param {String} str - String to evaluate\r\n     * @param {String} chars - Character to define substring boundary\r\n     * @returns {*} Substring\r\n     */\r\n    function functionSubstringAfter(str, chars) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        var pos = str.indexOf(chars);\r\n        if (pos > -1) {\r\n            return str.substr(pos + chars.length);\r\n        } else {\r\n            return str;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Lowercase a string\r\n     * @param {String} str - String to evaluate\r\n     * @returns {string} Lowercase string\r\n     */\r\n    function functionLowercase(str) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        return str.toLowerCase();\r\n    }\r\n\r\n    /**\r\n     * Uppercase a string\r\n     * @param {String} str - String to evaluate\r\n     * @returns {string} Uppercase string\r\n     */\r\n    function functionUppercase(str) {\r\n         // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        return str.toUpperCase();\r\n    }\r\n\r\n    /**\r\n     * length of a string\r\n     * @param {String} str - string\r\n     * @returns {Number} The number of characters in the string\r\n     */\r\n    function functionLength(str) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        return str.length;\r\n    }\r\n\r\n    /**\r\n     * Normalize and trim whitespace within a string\r\n     * @param {string} str - string to be trimmed\r\n     * @returns {string} - trimmed string\r\n     */\r\n    function functionTrim(str) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        // normalize whitespace\r\n        var result = str.replace(/[ \\t\\n\\r]+/gm, ' ');\r\n        if(result.charAt(0) === ' ') {\r\n            // strip leading space\r\n            result = result.substring(1);\r\n        }\r\n        if(result.charAt(result.length - 1) === ' ') {\r\n            // strip trailing space\r\n            result = result.substring(0, result.length - 1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Tests if the str contains the token\r\n     * @param {String} str - string to test\r\n     * @param {String} token - substring or regex to find\r\n     * @returns {Boolean} - true if str contains token\r\n     */\r\n    function functionContains(str, token) {\r\n         // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        var result;\r\n\r\n        if(typeof token === 'string') {\r\n            result = (str.indexOf(token) !== -1);\r\n        } else {\r\n            var matches = token(str);\r\n            result = (typeof matches !== 'undefined');\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Match a string with a regex returning an array of object containing details of each match\r\n     * @param {String} str - string\r\n     * @param {String} regex - the regex applied to the string\r\n     * @param {Integer} [limit] - max number of matches to return\r\n     * @returns {Array} The array of match objects\r\n     */\r\n    function functionMatch(str, regex, limit) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        // limit, if specified, must be a non-negative number\r\n        if(limit < 0) {\r\n            throw {\r\n                stack: (new Error()).stack,\r\n                value: limit,\r\n                code: 'D3040',\r\n                index: 3\r\n            };\r\n        }\r\n\r\n        var result = [];\r\n\r\n        if(typeof limit === 'undefined' || limit > 0) {\r\n            var count = 0;\r\n            var matches = regex(str);\r\n            if (typeof matches !== 'undefined') {\r\n                while (typeof matches !== 'undefined' && (typeof limit === 'undefined' || count < limit)) {\r\n                    result.push({\r\n                        match: matches.match,\r\n                        index: matches.start,\r\n                        groups: matches.groups\r\n                    });\r\n                    matches = matches.next();\r\n                    count++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Match a string with a regex returning an array of object containing details of each match\r\n     * @param {String} str - string\r\n     * @param {String} pattern - the substring/regex applied to the string\r\n     * @param {String} replacement - text to replace the matched substrings\r\n     * @param {Integer} [limit] - max number of matches to return\r\n     * @returns {Array} The array of match objects\r\n     */\r\n    function functionReplace(str, pattern, replacement, limit) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        // pattern cannot be an empty string\r\n        if(pattern === '') {\r\n            throw {\r\n                code: \"D3010\",\r\n                stack: (new Error()).stack,\r\n                value: pattern,\r\n                index: 2\r\n            };\r\n        }\r\n\r\n        // limit, if specified, must be a non-negative number\r\n        if(limit < 0) {\r\n            throw {\r\n                code: \"D3011\",\r\n                stack: (new Error()).stack,\r\n                value: limit,\r\n                index: 4\r\n            };\r\n        }\r\n\r\n        var replacer;\r\n        if(typeof replacement === 'string') {\r\n            replacer = function (regexMatch) {\r\n                var substitute = '';\r\n                // scan forward, copying the replacement text into the substitute string\r\n                // and replace any occurrence of $n with the values matched by the regex\r\n                var position = 0;\r\n                var index = replacement.indexOf('$', position);\r\n                while (index !== -1 && position < replacement.length) {\r\n                    substitute += replacement.substring(position, index);\r\n                    position = index + 1;\r\n                    var dollarVal = replacement.charAt(position);\r\n                    if (dollarVal === '$') {\r\n                        // literal $\r\n                        substitute += '$';\r\n                        position++;\r\n                    } else if (dollarVal === '0') {\r\n                        substitute += regexMatch.match;\r\n                        position++;\r\n                    } else {\r\n                        var maxDigits;\r\n                        if(regexMatch.groups.length === 0) {\r\n                            // no sub-matches; any $ followed by a digit will be replaced by an empty string\r\n                            maxDigits = 1;\r\n                        } else {\r\n                            // max number of digits to parse following the $\r\n                            maxDigits = Math.floor(Math.log(regexMatch.groups.length) * Math.LOG10E) + 1;\r\n                        }\r\n                        index = parseInt(replacement.substring(position, position + maxDigits), 10);\r\n                        if(maxDigits > 1 && index > regexMatch.groups.length) {\r\n                            index = parseInt(replacement.substring(position, position + maxDigits - 1), 10);\r\n                        }\r\n                        if (!isNaN(index)) {\r\n                            if(regexMatch.groups.length > 0 ) {\r\n                                var submatch = regexMatch.groups[index - 1];\r\n                                if (typeof submatch !== 'undefined') {\r\n                                    substitute += submatch;\r\n                                }\r\n                            }\r\n                            position += index.toString().length;\r\n                        } else {\r\n                            // not a capture group, treat the $ as literal\r\n                            substitute += '$';\r\n                        }\r\n                    }\r\n                    index = replacement.indexOf('$', position);\r\n                }\r\n                substitute += replacement.substring(position);\r\n                return substitute;\r\n            };\r\n        } else {\r\n            replacer = replacement;\r\n        }\r\n\r\n        var result = '';\r\n        var position = 0;\r\n\r\n        if(typeof limit === 'undefined' || limit > 0) {\r\n            var count = 0;\r\n            if(typeof pattern === 'string') {\r\n                var index = str.indexOf(pattern, position);\r\n                while(index !== -1 && (typeof limit === 'undefined' || count < limit)) {\r\n                    result += str.substring(position, index);\r\n                    result += replacement;\r\n                    position = index + pattern.length;\r\n                    count++;\r\n                    index = str.indexOf(pattern, position);\r\n                }\r\n                result += str.substring(position);\r\n            } else {\r\n                var matches = pattern(str);\r\n                if (typeof matches !== 'undefined') {\r\n                    while (typeof matches !== 'undefined' && (typeof limit === 'undefined' || count < limit)) {\r\n                        result += str.substring(position, matches.start);\r\n                        var replacedWith = apply(replacer, [matches], null);\r\n                        // check replacedWith is a string\r\n                        if(typeof replacedWith === 'string') {\r\n                            result += replacedWith;\r\n                        } else {\r\n                            // not a string - throw error\r\n                            throw {\r\n                                code: \"D3012\",\r\n                                stack: (new Error()).stack,\r\n                                value: replacedWith\r\n                            };\r\n                        }\r\n                        position = matches.start + matches.match.length;\r\n                        count++;\r\n                        matches = matches.next();\r\n                    }\r\n                    result += str.substring(position);\r\n                } else {\r\n                    result = str;\r\n                }\r\n            }\r\n        } else {\r\n            result = str;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n\r\n    /**\r\n     * Split a string into an array of substrings\r\n     * @param {String} str - string\r\n     * @param {String} separator - the token or regex that splits the string\r\n     * @param {Integer} [limit] - max number of substrings\r\n     * @returns {Array} The array of string\r\n     */\r\n    function functionSplit(str, separator, limit) {\r\n        // undefined inputs always return undefined\r\n        if(typeof str === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        // limit, if specified, must be a non-negative number\r\n        if(limit < 0) {\r\n            throw {\r\n                code: \"D3020\",\r\n                stack: (new Error()).stack,\r\n                value: limit,\r\n                index: 3\r\n            };\r\n        }\r\n\r\n        var result = [];\r\n\r\n        if(typeof limit === 'undefined' || limit > 0) {\r\n            if (typeof separator === 'string') {\r\n                result = str.split(separator, limit);\r\n            } else {\r\n                var count = 0;\r\n                var matches = separator(str);\r\n                if (typeof matches !== 'undefined') {\r\n                    var start = 0;\r\n                    while (typeof matches !== 'undefined' && (typeof limit === 'undefined' || count < limit)) {\r\n                        result.push(str.substring(start, matches.start));\r\n                        start = matches.end;\r\n                        matches = matches.next();\r\n                        count++;\r\n                    }\r\n                    if(typeof limit === 'undefined' || count < limit) {\r\n                        result.push(str.substring(start));\r\n                    }\r\n                } else {\r\n                    result = [str];\r\n                }\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Join an array of strings\r\n     * @param {Array} strs - array of string\r\n     * @param {String} [separator] - the token that splits the string\r\n     * @returns {String} The concatenated string\r\n     */\r\n    function functionJoin(strs, separator) {\r\n        // undefined inputs always return undefined\r\n        if(typeof strs === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        // if separator is not specified, default to empty string\r\n        if(typeof separator === 'undefined') {\r\n            separator = \"\";\r\n        }\r\n\r\n        return strs.join(separator);\r\n    }\r\n\r\n    /**\r\n     * Cast argument to number\r\n     * @param {Object} arg - Argument\r\n     * @returns {Number} numeric value of argument\r\n     */\r\n    function functionNumber(arg) {\r\n        var result;\r\n\r\n        // undefined inputs always return undefined\r\n        if(typeof arg === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        if (typeof arg === 'number') {\r\n            // already a number\r\n            result = arg;\r\n        } else if(typeof arg === 'string' && /^-?(0|([1-9][0-9]*))(\\.[0-9]+)?([Ee][-+]?[0-9]+)?$/.test(arg) && !isNaN(parseFloat(arg)) && isFinite(arg)) {\r\n            result = parseFloat(arg);\r\n        } else {\r\n            throw {\r\n                code: \"D3030\",\r\n                value: arg,\r\n                stack: (new Error()).stack,\r\n                index: 1\r\n            };\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n    /**\r\n     * Evaluate an input and return a boolean\r\n     * @param {*} arg - Arguments\r\n     * @returns {boolean} Boolean\r\n     */\r\n    function functionBoolean(arg) {\r\n        // cast arg to its effective boolean value\r\n        // boolean: unchanged\r\n        // string: zero-length -> false; otherwise -> true\r\n        // number: 0 -> false; otherwise -> true\r\n        // null -> false\r\n        // array: empty -> false; length > 1 -> true\r\n        // object: empty -> false; non-empty -> true\r\n        // function -> false\r\n\r\n        // undefined inputs always return undefined\r\n        if(typeof arg === 'undefined') {\r\n            return undefined;\r\n        }\r\n\r\n        var result = false;\r\n        if (Array.isArray(arg)) {\r\n            if (arg.length === 1) {\r\n                result = functionBoolean(arg[0]);\r\n            } else if (arg.length > 1) {\r\n                var trues = arg.filter(function(val) {return functionBoolean(val);});\r\n                result = trues.length > 0;\r\n            }\r\n        } else if (typeof arg === 'string') {\r\n            if (arg.length > 0) {\r\n                result = true;\r\n            }\r\n        } else if (isNumeric(arg)) {\r\n            if (arg !== 0) {\r\n                result = true;\r\n            }\r\n        } else if (arg !== null && typeof arg === 'object') {\r\n            if (Object.keys(arg).length > 0) {\r\n                // make sure it's not a lambda function\r\n                if (!(isLambda(arg) || arg._jsonata_function)) {\r\n                    result = true;\r\n                }\r\n            }\r\n        } else if (typeof arg === 'boolean' && arg === true) {\r\n            result = true;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * returns the Boolean NOT of the arg\r\n     * @param {*} arg - argument\r\n     * @returns {boolean} - NOT arg\r\n     */\r\n    function functionNot(arg) {\r\n        return !functionBoolean(arg);\r\n    }\r\n\r\n    /**\r\n     * Create a map from an array of arguments\r\n     * @param {Function} func - function to apply\r\n     * @param {Array} [arr] - array to map over\r\n     * @returns {Array} Map array\r\n     */\r\n    function functionMap(func, arr) {\r\n        // this can take a variable number of arguments - each one should be mapped to the equivalent arg of func\r\n        // assert that func is a function\r\n        var varargs = arguments;\r\n        var result = [];\r\n\r\n        // each subsequent arg must be an array - coerce if not\r\n        var args = arr;\r\n        args = [];\r\n        for (var ii = 1; ii < varargs.length; ii++) {\r\n            args.push(varargs[ii]);\r\n        }\r\n        // do the map - iterate over the arrays, and invoke func\r\n        for (var i = 0; i < args[0].length; i++) {\r\n            var func_args = [];\r\n            var length = typeof func === 'function' ? func.length :\r\n              func._jsonata_function === true ? func.implementation.length : func.arguments.length;\r\n            for (var j = 0; j < length; j++) {\r\n                func_args.push(args[j][i]);\r\n            }\r\n            // invoke func\r\n            result.push(apply(func, func_args, null));\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Fold left function\r\n     * @param {Function} func - Function\r\n     * @param {Array} sequence - Sequence\r\n     * @param {Object} init - Initial value\r\n     * @returns {*} Result\r\n     */\r\n    function functionFoldLeft(func, sequence, init) {\r\n        var result;\r\n\r\n        if (!(func.length === 2 || (func._jsonata_function === true && func.implementation.length === 2) || func.arguments.length === 2)) {\r\n            throw {\r\n                stack: (new Error()).stack,\r\n                code: \"D3050\",\r\n                index: 1\r\n            };\r\n        }\r\n\r\n        var index;\r\n        if (typeof init === 'undefined' && sequence.length > 0) {\r\n            result = sequence[0];\r\n            index = 1;\r\n        } else {\r\n            result = init;\r\n            index = 0;\r\n        }\r\n\r\n        while (index < sequence.length) {\r\n            result = apply(func, [result, sequence[index]], null);\r\n            index++;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Return keys for an object\r\n     * @param {Object} arg - Object\r\n     * @returns {Array} Array of keys\r\n     */\r\n    function functionKeys(arg) {\r\n        var result = [];\r\n\r\n        if(Array.isArray(arg)) {\r\n            // merge the keys of all of the items in the array\r\n            var merge = {};\r\n            arg.forEach(function(item) {\r\n                var keys = functionKeys(item);\r\n                if(Array.isArray(keys)) {\r\n                    keys.forEach(function(key) {\r\n                        merge[key] = true;\r\n                    });\r\n                }\r\n            });\r\n            result = functionKeys(merge);\r\n        } else if(arg !== null && typeof arg === 'object' && !(isLambda(arg))) {\r\n            result = Object.keys(arg);\r\n            if(result.length === 0) {\r\n                result = undefined;\r\n            }\r\n        } else {\r\n            result = undefined;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Return value from an object for a given key\r\n     * @param {Object} object - Object\r\n     * @param {String} key - Key in object\r\n     * @returns {*} Value of key in object\r\n     */\r\n    function functionLookup(object, key) {\r\n        var result = evaluateName({value: key}, object);\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Append second argument to first\r\n     * @param {Array|Object} arg1 - First argument\r\n     * @param {Array|Object} arg2 - Second argument\r\n     * @returns {*} Appended arguments\r\n     */\r\n    function functionAppend(arg1, arg2) {\r\n        // disregard undefined args\r\n        if (typeof arg1 === 'undefined') {\r\n            return arg2;\r\n        }\r\n        if (typeof arg2 === 'undefined') {\r\n            return arg1;\r\n        }\r\n        // if either argument is not an array, make it so\r\n        if (!Array.isArray(arg1)) {\r\n            arg1 = [arg1];\r\n        }\r\n        if (!Array.isArray(arg2)) {\r\n            arg2 = [arg2];\r\n        }\r\n        Array.prototype.push.apply(arg1, arg2);\r\n        return arg1;\r\n    }\r\n\r\n    /**\r\n     * Determines if the argument is undefined\r\n     * @param {*} arg - argument\r\n     * @returns {boolean} False if argument undefined, otherwise true\r\n     */\r\n    function functionExists(arg){\r\n        if (typeof arg === 'undefined') {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Splits an object into an array of object with one property each\r\n     * @param {*} arg - the object to split\r\n     * @returns {*} - the array\r\n     */\r\n    function functionSpread(arg) {\r\n        var result = [];\r\n\r\n        if(Array.isArray(arg)) {\r\n            // spread all of the items in the array\r\n            arg.forEach(function(item) {\r\n                result = functionAppend(result, functionSpread(item));\r\n            });\r\n        } else if(arg !== null && typeof arg === 'object' && !isLambda(arg)) {\r\n            for(var key in arg) {\r\n                var obj = {};\r\n                obj[key] = arg[key];\r\n                result.push(obj);\r\n            }\r\n        } else {\r\n            result = arg;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Create frame\r\n     * @param {Object} enclosingEnvironment - Enclosing environment\r\n     * @returns {{bind: bind, lookup: lookup}} Created frame\r\n     */\r\n    function createFrame(enclosingEnvironment) {\r\n        var bindings = {};\r\n        return {\r\n            bind: function (name, value) {\r\n                bindings[name] = value;\r\n            },\r\n            lookup: function (name) {\r\n                var value;\r\n                if(bindings.hasOwnProperty(name)) {\r\n                    value = bindings[name];\r\n                } else if (enclosingEnvironment) {\r\n                    value = enclosingEnvironment.lookup(name);\r\n                }\r\n                return value;\r\n            }\r\n        };\r\n    }\r\n\r\n    // Function registration\r\n    staticFrame.bind('sum', defineFunction(functionSum, '<a<n>:n>'));\r\n    staticFrame.bind('count', defineFunction(functionCount, '<a:n>'));\r\n    staticFrame.bind('max', defineFunction(functionMax, '<a<n>:n>'));\r\n    staticFrame.bind('min', defineFunction(functionMin, '<a<n>:n>'));\r\n    staticFrame.bind('average', defineFunction(functionAverage, '<a<n>:n>'));\r\n    staticFrame.bind('string', defineFunction(functionString, '<x-:s>'));\r\n    staticFrame.bind('substring', defineFunction(functionSubstring, '<s-nn?:s>'));\r\n    staticFrame.bind('substringBefore', defineFunction(functionSubstringBefore, '<s-s:s>'));\r\n    staticFrame.bind('substringAfter', defineFunction(functionSubstringAfter, '<s-s:s>'));\r\n    staticFrame.bind('lowercase', defineFunction(functionLowercase, '<s-:s>'));\r\n    staticFrame.bind('uppercase', defineFunction(functionUppercase, '<s-:s>'));\r\n    staticFrame.bind('length', defineFunction(functionLength, '<s-:n>'));\r\n    staticFrame.bind('trim', defineFunction(functionTrim, '<s-:s>'));\r\n    staticFrame.bind('match', defineFunction(functionMatch, '<s-f<s:o>n?:a<o>>'));\r\n    staticFrame.bind('contains', defineFunction(functionContains, '<s-(sf):b>')); // TODO <s-(sf<s:o>):b>\r\n    staticFrame.bind('replace', defineFunction(functionReplace, '<s-(sf)(sf)n?:s>')); // TODO <s-(sf<s:o>)(sf<o:s>)n?:s>\r\n    staticFrame.bind('split', defineFunction(functionSplit, '<s-(sf)n?:a<s>>')); // TODO <s-(sf<s:o>)n?:a<s>>\r\n    staticFrame.bind('join', defineFunction(functionJoin, '<a<s>s?:s>'));\r\n    staticFrame.bind('number', defineFunction(functionNumber, '<(ns)-:n>'));\r\n    staticFrame.bind('boolean', defineFunction(functionBoolean, '<x-:b>'));\r\n    staticFrame.bind('not', defineFunction(functionNot, '<x-:b>'));\r\n    staticFrame.bind('map', defineFunction(functionMap, '<fa+>'));\r\n    staticFrame.bind('reduce', defineFunction(functionFoldLeft, '<faj?:j>')); // TODO <f<jj:j>a<j>j?:j>\r\n    staticFrame.bind('keys', defineFunction(functionKeys, '<x-:a<s>>'));\r\n    staticFrame.bind('lookup', defineFunction(functionLookup, '<x-s:x>'));\r\n    staticFrame.bind('append', defineFunction(functionAppend, '<xx:a>'));\r\n    staticFrame.bind('exists', defineFunction(functionExists, '<x:b>'));\r\n    staticFrame.bind('spread', defineFunction(functionSpread, '<x-:a<o>>'));\r\n\r\n    /**\r\n     * Error codes\r\n     *\r\n     */\r\n    var errorCodes = {\r\n        \"S0101\": \"No terminating quote found in string literal\",\r\n        \"S0102\": \"Number out of range: {{token}}\",\r\n        \"S0103\": \"unsupported escape sequence: \\\\{{token}}\",\r\n        \"S0104\": \"The escape sequence \\\\u must be followed by 4 hex digits\",\r\n        \"S0203\": \"Syntax error: expected '{{value}}' before end of expression\",\r\n        \"S0202\": \"Syntax error: expected '{{value}}', got '{{token}}'\",\r\n        \"S0204\": \"Unknown operator: {{token}}\",\r\n        \"S0205\": \"Unexpected token: {{token}}\",\r\n        \"S0208\": \"Parameter {{value}} of function definition must be a variable name (start with $)\",\r\n        \"S0209\": \"A predicate cannot follow a grouping expression in a step.\",\r\n        \"S0210\": \"Each step can only have one grouping expression.\",\r\n        \"S0201\": \"Syntax error: {{token}}\",\r\n        \"S0206\": \"Unknown expression type: {{token}}\",\r\n        \"S0207\": \"Syntax error: unexpected end of expression\",\r\n        \"S0301\": \"Empty regular expressions are not allowed\",\r\n        \"S0302\": \"No terminating / in regular expression\",\r\n        \"S0402\": \"Choice groups containing parameterized types not supported\",\r\n        \"S0401\": \"Type parameters can only be applied to functions and arrays\",\r\n        \"T0410\": \"Argument {{index}} of function '{{token}}' does not match function signature\",\r\n        \"T0411\": \"Context value is not a compatible type with argument {{index}} of function '{{token}}'\",\r\n        \"T0412\": \"Argument {{index}} of function '{{token}}' must be an array of {{type}}\",\r\n        \"D1001\": \"Number out of range: {{value}}\",\r\n        \"D1002\": \"Cannot negate a non-numeric value: {{value}}\",\r\n        \"T2001\": \"LHS of {{token}} operator must evaluate to a number\",\r\n        \"T2002\": \"RHS of {{token}} operator must evaluate to a number\",\r\n        \"T1003\": \"Key in object structure must evaluate to a string. Got: {{value}}\",\r\n        \"T2003\": \"LHS of range operator (..) must evaluate to an integer\",\r\n        \"T2004\": \"RHS of range operator (..) must evaluate to an integer\",\r\n        \"D2005\": \"Left hand side of := must be a variable name (start with $)\",\r\n        \"D1004\": \"Regular expression matches zero length string\",\r\n        \"T2006\": \"RHS of function application operator ~> is not a function\",\r\n        \"T1005\": \"Attempted to invoke a non-function. Did you mean '${{token}}'?\",\r\n        \"T1006\": \"Attempted to invoke a non-function\",\r\n        \"T1007\": \"Attempted to partially apply a non-function. Did you mean '${{token}}'?\",\r\n        \"T1008\": \"Attempted to partially apply a non-function\",\r\n        \"D3001\": \"Attempting to invoke string function on Infinity or NaN\",\r\n        \"D3010\": \"Second argument of replace function cannot be an empty string\",\r\n        \"D3011\": \"Forth argument of replace function must evaluate to a positive number\",\r\n        \"D3012\": \"Attempted to replace a matched string with a non-string value\",\r\n        \"D3020\": \"Third argument of split function must evaluate to a positive number\",\r\n        \"D3030\": \"Unable to cast value to a number: {{value}}\"\r\n    };\r\n\r\n    /**\r\n     * lookup a message template from the catalog and substitute the inserts\r\n     * @param {string} err - error code to lookup\r\n     * @returns {string} message\r\n     */\r\n    function lookupMessage(err) {\r\n        var message = 'Unknown error';\r\n        if(typeof err.message !== 'undefined') {\r\n            message = err.message;\r\n        }\r\n        var template = errorCodes[err.code];\r\n        if(typeof template !== 'undefined') {\r\n            // if there are any handlebars, replace them with the field references\r\n            message = template.replace(/\\{\\{([^}]+)}}/g, function() {\r\n                return err[arguments[1]];\r\n            });\r\n        }\r\n        return message;\r\n    }\r\n\r\n    /**\r\n     * JSONata\r\n     * @param {Object} expr - JSONata expression\r\n     * @returns {{evaluate: evaluate, assign: assign}} Evaluated expression\r\n     */\r\n    function jsonata(expr) {\r\n        var ast;\r\n        try {\r\n            ast = parser(expr);\r\n        } catch(err) {\r\n            // insert error message into structure\r\n            err.message = lookupMessage(err);\r\n            throw err;\r\n        }\r\n        var environment = createFrame(staticFrame);\r\n        return {\r\n            evaluate: function (input, bindings) {\r\n                if (typeof bindings !== 'undefined') {\r\n                    var exec_env;\r\n                    // the variable bindings have been passed in - create a frame to hold these\r\n                    exec_env = createFrame(environment);\r\n                    for (var v in bindings) {\r\n                        exec_env.bind(v, bindings[v]);\r\n                    }\r\n                } else {\r\n                    exec_env = environment;\r\n                }\r\n                // put the input document into the environment as the root object\r\n                exec_env.bind('$', input);\r\n                var result;\r\n                try {\r\n                    result = evaluate(ast, input, exec_env);\r\n                } catch(err) {\r\n                    // insert error message into structure\r\n                    err.message = lookupMessage(err);\r\n                    throw err;\r\n                }\r\n                return result;\r\n            },\r\n            assign: function (name, value) {\r\n                environment.bind(name, value);\r\n            },\r\n            registerFunction: function(name, implementation, signature) {\r\n                var func = defineFunction(implementation, signature);\r\n                environment.bind(name, func);\r\n            }\r\n        };\r\n    }\r\n\r\n    jsonata.parser = parser;\r\n\r\n    return jsonata;\r\n\r\n})();\r\n\r\n// node.js only - export the jsonata and parser functions\r\n// istanbul ignore else\r\nif(typeof module !== 'undefined') {\r\n    module.exports = jsonata;\r\n}","// CodeMirror, copyright (c) by Marijn Haverbeke and others\r\n// Distributed under an MIT license: http://codemirror.net/LICENSE\r\n\r\n// This is CodeMirror (http://codemirror.net), a code editor\r\n// implemented in JavaScript on top of the browser's DOM.\r\n//\r\n// You can find some technical background for some of the code below\r\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\r\n\r\n(function (global, factory) {\r\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n  typeof define === 'function' && define.amd ? define(factory) :\r\n  (global.CodeMirror = factory());\r\n}(this, (function () { 'use strict';\r\n\r\n// Kludges for bugs and behavior differences that can't be feature\r\n// detected are enabled based on userAgent etc sniffing.\r\nvar userAgent = navigator.userAgent\r\nvar platform = navigator.platform\r\n\r\nvar gecko = /gecko\\/\\d/i.test(userAgent)\r\nvar ie_upto10 = /MSIE \\d/.test(userAgent)\r\nvar ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent)\r\nvar edge = /Edge\\/(\\d+)/.exec(userAgent)\r\nvar ie = ie_upto10 || ie_11up || edge\r\nvar ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1])\r\nvar webkit = !edge && /WebKit\\//.test(userAgent)\r\nvar qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent)\r\nvar chrome = !edge && /Chrome\\//.test(userAgent)\r\nvar presto = /Opera\\//.test(userAgent)\r\nvar safari = /Apple Computer/.test(navigator.vendor)\r\nvar mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent)\r\nvar phantom = /PhantomJS/.test(userAgent)\r\n\r\nvar ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent)\r\n// This is woefully incomplete. Suggestions for alternative methods welcome.\r\nvar mobile = ios || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent)\r\nvar mac = ios || /Mac/.test(platform)\r\nvar chromeOS = /\\bCrOS\\b/.test(userAgent)\r\nvar windows = /win/i.test(platform)\r\n\r\nvar presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/)\r\nif (presto_version) { presto_version = Number(presto_version[1]) }\r\nif (presto_version && presto_version >= 15) { presto = false; webkit = true }\r\n// Some browsers use the wrong event properties to signal cmd/ctrl on OS X\r\nvar flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11))\r\nvar captureRightClick = gecko || (ie && ie_version >= 9)\r\n\r\nfunction classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\r\n\r\nvar rmClass = function(node, cls) {\r\n  var current = node.className\r\n  var match = classTest(cls).exec(current)\r\n  if (match) {\r\n    var after = current.slice(match.index + match[0].length)\r\n    node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\")\r\n  }\r\n}\r\n\r\nfunction removeChildren(e) {\r\n  for (var count = e.childNodes.length; count > 0; --count)\r\n    { e.removeChild(e.firstChild) }\r\n  return e\r\n}\r\n\r\nfunction removeChildrenAndAdd(parent, e) {\r\n  return removeChildren(parent).appendChild(e)\r\n}\r\n\r\nfunction elt(tag, content, className, style) {\r\n  var e = document.createElement(tag)\r\n  if (className) { e.className = className }\r\n  if (style) { e.style.cssText = style }\r\n  if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)) }\r\n  else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]) } }\r\n  return e\r\n}\r\n\r\nvar range\r\nif (document.createRange) { range = function(node, start, end, endNode) {\r\n  var r = document.createRange()\r\n  r.setEnd(endNode || node, end)\r\n  r.setStart(node, start)\r\n  return r\r\n} }\r\nelse { range = function(node, start, end) {\r\n  var r = document.body.createTextRange()\r\n  try { r.moveToElementText(node.parentNode) }\r\n  catch(e) { return r }\r\n  r.collapse(true)\r\n  r.moveEnd(\"character\", end)\r\n  r.moveStart(\"character\", start)\r\n  return r\r\n} }\r\n\r\nfunction contains(parent, child) {\r\n  if (child.nodeType == 3) // Android browser always returns false when child is a textnode\r\n    { child = child.parentNode }\r\n  if (parent.contains)\r\n    { return parent.contains(child) }\r\n  do {\r\n    if (child.nodeType == 11) { child = child.host }\r\n    if (child == parent) { return true }\r\n  } while (child = child.parentNode)\r\n}\r\n\r\nfunction activeElt() {\r\n  // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\r\n  // IE < 10 will throw when accessed while the page is loading or in an iframe.\r\n  // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\r\n  var activeElement\r\n  try {\r\n    activeElement = document.activeElement\r\n  } catch(e) {\r\n    activeElement = document.body || null\r\n  }\r\n  while (activeElement && activeElement.root && activeElement.root.activeElement)\r\n    { activeElement = activeElement.root.activeElement }\r\n  return activeElement\r\n}\r\n\r\nfunction addClass(node, cls) {\r\n  var current = node.className\r\n  if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls }\r\n}\r\nfunction joinClasses(a, b) {\r\n  var as = a.split(\" \")\r\n  for (var i = 0; i < as.length; i++)\r\n    { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i] } }\r\n  return b\r\n}\r\n\r\nvar selectInput = function(node) { node.select() }\r\nif (ios) // Mobile Safari apparently has a bug where select() is broken.\r\n  { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length } }\r\nelse if (ie) // Suppress mysterious IE10 errors\r\n  { selectInput = function(node) { try { node.select() } catch(_e) {} } }\r\n\r\nfunction bind(f) {\r\n  var args = Array.prototype.slice.call(arguments, 1)\r\n  return function(){return f.apply(null, args)}\r\n}\r\n\r\nfunction copyObj(obj, target, overwrite) {\r\n  if (!target) { target = {} }\r\n  for (var prop in obj)\r\n    { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\r\n      { target[prop] = obj[prop] } }\r\n  return target\r\n}\r\n\r\n// Counts the column offset in a string, taking tabs into account.\r\n// Used mostly to find indentation.\r\nfunction countColumn(string, end, tabSize, startIndex, startValue) {\r\n  if (end == null) {\r\n    end = string.search(/[^\\s\\u00a0]/)\r\n    if (end == -1) { end = string.length }\r\n  }\r\n  for (var i = startIndex || 0, n = startValue || 0;;) {\r\n    var nextTab = string.indexOf(\"\\t\", i)\r\n    if (nextTab < 0 || nextTab >= end)\r\n      { return n + (end - i) }\r\n    n += nextTab - i\r\n    n += tabSize - (n % tabSize)\r\n    i = nextTab + 1\r\n  }\r\n}\r\n\r\nvar Delayed = function() {this.id = null};\r\nDelayed.prototype.set = function (ms, f) {\r\n  clearTimeout(this.id)\r\n  this.id = setTimeout(f, ms)\r\n};\r\n\r\nfunction indexOf(array, elt) {\r\n  for (var i = 0; i < array.length; ++i)\r\n    { if (array[i] == elt) { return i } }\r\n  return -1\r\n}\r\n\r\n// Number of pixels added to scroller and sizer to hide scrollbar\r\nvar scrollerGap = 30\r\n\r\n// Returned or thrown by various protocols to signal 'I'm not\r\n// handling this'.\r\nvar Pass = {toString: function(){return \"CodeMirror.Pass\"}}\r\n\r\n// Reused option objects for setSelection & friends\r\nvar sel_dontScroll = {scroll: false};\r\nvar sel_mouse = {origin: \"*mouse\"};\r\nvar sel_move = {origin: \"+move\"};\r\n// The inverse of countColumn -- find the offset that corresponds to\r\n// a particular column.\r\nfunction findColumn(string, goal, tabSize) {\r\n  for (var pos = 0, col = 0;;) {\r\n    var nextTab = string.indexOf(\"\\t\", pos)\r\n    if (nextTab == -1) { nextTab = string.length }\r\n    var skipped = nextTab - pos\r\n    if (nextTab == string.length || col + skipped >= goal)\r\n      { return pos + Math.min(skipped, goal - col) }\r\n    col += nextTab - pos\r\n    col += tabSize - (col % tabSize)\r\n    pos = nextTab + 1\r\n    if (col >= goal) { return pos }\r\n  }\r\n}\r\n\r\nvar spaceStrs = [\"\"]\r\nfunction spaceStr(n) {\r\n  while (spaceStrs.length <= n)\r\n    { spaceStrs.push(lst(spaceStrs) + \" \") }\r\n  return spaceStrs[n]\r\n}\r\n\r\nfunction lst(arr) { return arr[arr.length-1] }\r\n\r\nfunction map(array, f) {\r\n  var out = []\r\n  for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i) }\r\n  return out\r\n}\r\n\r\nfunction insertSorted(array, value, score) {\r\n  var pos = 0, priority = score(value)\r\n  while (pos < array.length && score(array[pos]) <= priority) { pos++ }\r\n  array.splice(pos, 0, value)\r\n}\r\n\r\nfunction nothing() {}\r\n\r\nfunction createObj(base, props) {\r\n  var inst\r\n  if (Object.create) {\r\n    inst = Object.create(base)\r\n  } else {\r\n    nothing.prototype = base\r\n    inst = new nothing()\r\n  }\r\n  if (props) { copyObj(props, inst) }\r\n  return inst\r\n}\r\n\r\nvar nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/\r\nfunction isWordCharBasic(ch) {\r\n  return /\\w/.test(ch) || ch > \"\\x80\" &&\r\n    (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\r\n}\r\nfunction isWordChar(ch, helper) {\r\n  if (!helper) { return isWordCharBasic(ch) }\r\n  if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\r\n  return helper.test(ch)\r\n}\r\n\r\nfunction isEmpty(obj) {\r\n  for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\r\n  return true\r\n}\r\n\r\n// Extending unicode characters. A series of a non-extending char +\r\n// any number of extending chars is treated as a single unit as far\r\n// as editing and measuring is concerned. This is not fully correct,\r\n// since some scripts/fonts/browsers also treat other configurations\r\n// of code points as a group.\r\nvar extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/\r\nfunction isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\r\n\r\n// Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\r\nfunction skipExtendingChars(str, pos, dir) {\r\n  while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir }\r\n  return pos\r\n}\r\n\r\n// Returns the value from the range [`from`; `to`] that satisfies\r\n// `pred` and is closest to `from`. Assumes that at least `to` satisfies `pred`.\r\nfunction findFirst(pred, from, to) {\r\n  for (;;) {\r\n    if (Math.abs(from - to) <= 1) { return pred(from) ? from : to }\r\n    var mid = Math.floor((from + to) / 2)\r\n    if (pred(mid)) { to = mid }\r\n    else { from = mid }\r\n  }\r\n}\r\n\r\n// The display handles the DOM integration, both for input reading\r\n// and content drawing. It holds references to DOM nodes and\r\n// display-related state.\r\n\r\nfunction Display(place, doc, input) {\r\n  var d = this\r\n  this.input = input\r\n\r\n  // Covers bottom-right square when both scrollbars are present.\r\n  d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\")\r\n  d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\")\r\n  // Covers bottom of gutter when coverGutterNextToScrollbar is on\r\n  // and h scrollbar is present.\r\n  d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\")\r\n  d.gutterFiller.setAttribute(\"cm-not-content\", \"true\")\r\n  // Will contain the actual code, positioned to cover the viewport.\r\n  d.lineDiv = elt(\"div\", null, \"CodeMirror-code\")\r\n  // Elements are added to these to represent selection and cursors.\r\n  d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\")\r\n  d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\")\r\n  // A visibility: hidden element used to find the size of things.\r\n  d.measure = elt(\"div\", null, \"CodeMirror-measure\")\r\n  // When lines outside of the viewport are measured, they are drawn in this.\r\n  d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\")\r\n  // Wraps everything that needs to exist inside the vertically-padded coordinate system\r\n  d.lineSpace = elt(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\r\n                    null, \"position: relative; outline: none\")\r\n  // Moved around its parent to cover visible view.\r\n  d.mover = elt(\"div\", [elt(\"div\", [d.lineSpace], \"CodeMirror-lines\")], null, \"position: relative\")\r\n  // Set to the height of the document, allowing scrolling.\r\n  d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\")\r\n  d.sizerWidth = null\r\n  // Behavior of elts with overflow: auto and padding is\r\n  // inconsistent across browsers. This is used to ensure the\r\n  // scrollable area is big enough.\r\n  d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\")\r\n  // Will contain the gutters, if any.\r\n  d.gutters = elt(\"div\", null, \"CodeMirror-gutters\")\r\n  d.lineGutter = null\r\n  // Actual scrollable element.\r\n  d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\")\r\n  d.scroller.setAttribute(\"tabIndex\", \"-1\")\r\n  // The element in which the editor lives.\r\n  d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\")\r\n\r\n  // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\r\n  if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0 }\r\n  if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true }\r\n\r\n  if (place) {\r\n    if (place.appendChild) { place.appendChild(d.wrapper) }\r\n    else { place(d.wrapper) }\r\n  }\r\n\r\n  // Current rendered range (may be bigger than the view window).\r\n  d.viewFrom = d.viewTo = doc.first\r\n  d.reportedViewFrom = d.reportedViewTo = doc.first\r\n  // Information about the rendered lines.\r\n  d.view = []\r\n  d.renderedView = null\r\n  // Holds info about a single rendered line when it was rendered\r\n  // for measurement, while not in view.\r\n  d.externalMeasured = null\r\n  // Empty space (in pixels) above the view\r\n  d.viewOffset = 0\r\n  d.lastWrapHeight = d.lastWrapWidth = 0\r\n  d.updateLineNumbers = null\r\n\r\n  d.nativeBarWidth = d.barHeight = d.barWidth = 0\r\n  d.scrollbarsClipped = false\r\n\r\n  // Used to only resize the line number gutter when necessary (when\r\n  // the amount of lines crosses a boundary that makes its width change)\r\n  d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null\r\n  // Set to true when a non-horizontal-scrolling line widget is\r\n  // added. As an optimization, line widget aligning is skipped when\r\n  // this is false.\r\n  d.alignWidgets = false\r\n\r\n  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null\r\n\r\n  // Tracks the maximum line length so that the horizontal scrollbar\r\n  // can be kept static when scrolling.\r\n  d.maxLine = null\r\n  d.maxLineLength = 0\r\n  d.maxLineChanged = false\r\n\r\n  // Used for measuring wheel scrolling granularity\r\n  d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null\r\n\r\n  // True when shift is held down.\r\n  d.shift = false\r\n\r\n  // Used to track whether anything happened since the context menu\r\n  // was opened.\r\n  d.selForContextMenu = null\r\n\r\n  d.activeTouch = null\r\n\r\n  input.init(d)\r\n}\r\n\r\n// Find the line object corresponding to the given line number.\r\nfunction getLine(doc, n) {\r\n  n -= doc.first\r\n  if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\r\n  var chunk = doc\r\n  while (!chunk.lines) {\r\n    for (var i = 0;; ++i) {\r\n      var child = chunk.children[i], sz = child.chunkSize()\r\n      if (n < sz) { chunk = child; break }\r\n      n -= sz\r\n    }\r\n  }\r\n  return chunk.lines[n]\r\n}\r\n\r\n// Get the part of a document between two positions, as an array of\r\n// strings.\r\nfunction getBetween(doc, start, end) {\r\n  var out = [], n = start.line\r\n  doc.iter(start.line, end.line + 1, function (line) {\r\n    var text = line.text\r\n    if (n == end.line) { text = text.slice(0, end.ch) }\r\n    if (n == start.line) { text = text.slice(start.ch) }\r\n    out.push(text)\r\n    ++n\r\n  })\r\n  return out\r\n}\r\n// Get the lines between from and to, as array of strings.\r\nfunction getLines(doc, from, to) {\r\n  var out = []\r\n  doc.iter(from, to, function (line) { out.push(line.text) }) // iter aborts when callback returns truthy value\r\n  return out\r\n}\r\n\r\n// Update the height of a line, propagating the height change\r\n// upwards to parent nodes.\r\nfunction updateLineHeight(line, height) {\r\n  var diff = height - line.height\r\n  if (diff) { for (var n = line; n; n = n.parent) { n.height += diff } }\r\n}\r\n\r\n// Given a line object, find its line number by walking up through\r\n// its parent links.\r\nfunction lineNo(line) {\r\n  if (line.parent == null) { return null }\r\n  var cur = line.parent, no = indexOf(cur.lines, line)\r\n  for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\r\n    for (var i = 0;; ++i) {\r\n      if (chunk.children[i] == cur) { break }\r\n      no += chunk.children[i].chunkSize()\r\n    }\r\n  }\r\n  return no + cur.first\r\n}\r\n\r\n// Find the line at the given vertical position, using the height\r\n// information in the document tree.\r\nfunction lineAtHeight(chunk, h) {\r\n  var n = chunk.first\r\n  outer: do {\r\n    for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\r\n      var child = chunk.children[i$1], ch = child.height\r\n      if (h < ch) { chunk = child; continue outer }\r\n      h -= ch\r\n      n += child.chunkSize()\r\n    }\r\n    return n\r\n  } while (!chunk.lines)\r\n  var i = 0\r\n  for (; i < chunk.lines.length; ++i) {\r\n    var line = chunk.lines[i], lh = line.height\r\n    if (h < lh) { break }\r\n    h -= lh\r\n  }\r\n  return n + i\r\n}\r\n\r\nfunction isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\r\n\r\nfunction lineNumberFor(options, i) {\r\n  return String(options.lineNumberFormatter(i + options.firstLineNumber))\r\n}\r\n\r\n// A Pos instance represents a position within the text.\r\nfunction Pos(line, ch, sticky) {\r\n  if ( sticky === void 0 ) sticky = null;\r\n\r\n  if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\r\n  this.line = line\r\n  this.ch = ch\r\n  this.sticky = sticky\r\n}\r\n\r\n// Compare two positions, return 0 if they are the same, a negative\r\n// number when a is less, and a positive number otherwise.\r\nfunction cmp(a, b) { return a.line - b.line || a.ch - b.ch }\r\n\r\nfunction equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\r\n\r\nfunction copyPos(x) {return Pos(x.line, x.ch)}\r\nfunction maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\r\nfunction minPos(a, b) { return cmp(a, b) < 0 ? a : b }\r\n\r\n// Most of the external API clips given positions to make sure they\r\n// actually exist within the document.\r\nfunction clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\r\nfunction clipPos(doc, pos) {\r\n  if (pos.line < doc.first) { return Pos(doc.first, 0) }\r\n  var last = doc.first + doc.size - 1\r\n  if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\r\n  return clipToLen(pos, getLine(doc, pos.line).text.length)\r\n}\r\nfunction clipToLen(pos, linelen) {\r\n  var ch = pos.ch\r\n  if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\r\n  else if (ch < 0) { return Pos(pos.line, 0) }\r\n  else { return pos }\r\n}\r\nfunction clipPosArray(doc, array) {\r\n  var out = []\r\n  for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]) }\r\n  return out\r\n}\r\n\r\n// Optimize some code when these features are not used.\r\nvar sawReadOnlySpans = false;\r\nvar sawCollapsedSpans = false;\r\nfunction seeReadOnlySpans() {\r\n  sawReadOnlySpans = true\r\n}\r\n\r\nfunction seeCollapsedSpans() {\r\n  sawCollapsedSpans = true\r\n}\r\n\r\n// TEXTMARKER SPANS\r\n\r\nfunction MarkedSpan(marker, from, to) {\r\n  this.marker = marker\r\n  this.from = from; this.to = to\r\n}\r\n\r\n// Search an array of spans for a span matching the given marker.\r\nfunction getMarkedSpanFor(spans, marker) {\r\n  if (spans) { for (var i = 0; i < spans.length; ++i) {\r\n    var span = spans[i]\r\n    if (span.marker == marker) { return span }\r\n  } }\r\n}\r\n// Remove a span from an array, returning undefined if no spans are\r\n// left (we don't store arrays for lines without spans).\r\nfunction removeMarkedSpan(spans, span) {\r\n  var r\r\n  for (var i = 0; i < spans.length; ++i)\r\n    { if (spans[i] != span) { (r || (r = [])).push(spans[i]) } }\r\n  return r\r\n}\r\n// Add a span to a line.\r\nfunction addMarkedSpan(line, span) {\r\n  line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span]\r\n  span.marker.attachLine(line)\r\n}\r\n\r\n// Used for the algorithm that adjusts markers for a change in the\r\n// document. These functions cut an array of spans at a given\r\n// character position, returning an array of remaining chunks (or\r\n// undefined if nothing remains).\r\nfunction markedSpansBefore(old, startCh, isInsert) {\r\n  var nw\r\n  if (old) { for (var i = 0; i < old.length; ++i) {\r\n    var span = old[i], marker = span.marker\r\n    var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh)\r\n    if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\r\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\r\n      ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to))\r\n    }\r\n  } }\r\n  return nw\r\n}\r\nfunction markedSpansAfter(old, endCh, isInsert) {\r\n  var nw\r\n  if (old) { for (var i = 0; i < old.length; ++i) {\r\n    var span = old[i], marker = span.marker\r\n    var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh)\r\n    if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\r\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\r\n      ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\r\n                                            span.to == null ? null : span.to - endCh))\r\n    }\r\n  } }\r\n  return nw\r\n}\r\n\r\n// Given a change object, compute the new set of marker spans that\r\n// cover the line in which the change took place. Removes spans\r\n// entirely within the change, reconnects spans belonging to the\r\n// same marker that appear on both sides of the change, and cuts off\r\n// spans partially within the change. Returns an array of span\r\n// arrays with one element for each line in (after) the change.\r\nfunction stretchSpansOverChange(doc, change) {\r\n  if (change.full) { return null }\r\n  var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans\r\n  var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans\r\n  if (!oldFirst && !oldLast) { return null }\r\n\r\n  var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0\r\n  // Get the spans that 'stick out' on both sides\r\n  var first = markedSpansBefore(oldFirst, startCh, isInsert)\r\n  var last = markedSpansAfter(oldLast, endCh, isInsert)\r\n\r\n  // Next, merge those two ends\r\n  var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0)\r\n  if (first) {\r\n    // Fix up .to properties of first\r\n    for (var i = 0; i < first.length; ++i) {\r\n      var span = first[i]\r\n      if (span.to == null) {\r\n        var found = getMarkedSpanFor(last, span.marker)\r\n        if (!found) { span.to = startCh }\r\n        else if (sameLine) { span.to = found.to == null ? null : found.to + offset }\r\n      }\r\n    }\r\n  }\r\n  if (last) {\r\n    // Fix up .from in last (or move them into first in case of sameLine)\r\n    for (var i$1 = 0; i$1 < last.length; ++i$1) {\r\n      var span$1 = last[i$1]\r\n      if (span$1.to != null) { span$1.to += offset }\r\n      if (span$1.from == null) {\r\n        var found$1 = getMarkedSpanFor(first, span$1.marker)\r\n        if (!found$1) {\r\n          span$1.from = offset\r\n          if (sameLine) { (first || (first = [])).push(span$1) }\r\n        }\r\n      } else {\r\n        span$1.from += offset\r\n        if (sameLine) { (first || (first = [])).push(span$1) }\r\n      }\r\n    }\r\n  }\r\n  // Make sure we didn't create any zero-length spans\r\n  if (first) { first = clearEmptySpans(first) }\r\n  if (last && last != first) { last = clearEmptySpans(last) }\r\n\r\n  var newMarkers = [first]\r\n  if (!sameLine) {\r\n    // Fill gap with whole-line-spans\r\n    var gap = change.text.length - 2, gapMarkers\r\n    if (gap > 0 && first)\r\n      { for (var i$2 = 0; i$2 < first.length; ++i$2)\r\n        { if (first[i$2].to == null)\r\n          { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)) } } }\r\n    for (var i$3 = 0; i$3 < gap; ++i$3)\r\n      { newMarkers.push(gapMarkers) }\r\n    newMarkers.push(last)\r\n  }\r\n  return newMarkers\r\n}\r\n\r\n// Remove spans that are empty and don't have a clearWhenEmpty\r\n// option of false.\r\nfunction clearEmptySpans(spans) {\r\n  for (var i = 0; i < spans.length; ++i) {\r\n    var span = spans[i]\r\n    if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\r\n      { spans.splice(i--, 1) }\r\n  }\r\n  if (!spans.length) { return null }\r\n  return spans\r\n}\r\n\r\n// Used to 'clip' out readOnly ranges when making a change.\r\nfunction removeReadOnlyRanges(doc, from, to) {\r\n  var markers = null\r\n  doc.iter(from.line, to.line + 1, function (line) {\r\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\r\n      var mark = line.markedSpans[i].marker\r\n      if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\r\n        { (markers || (markers = [])).push(mark) }\r\n    } }\r\n  })\r\n  if (!markers) { return null }\r\n  var parts = [{from: from, to: to}]\r\n  for (var i = 0; i < markers.length; ++i) {\r\n    var mk = markers[i], m = mk.find(0)\r\n    for (var j = 0; j < parts.length; ++j) {\r\n      var p = parts[j]\r\n      if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\r\n      var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to)\r\n      if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\r\n        { newParts.push({from: p.from, to: m.from}) }\r\n      if (dto > 0 || !mk.inclusiveRight && !dto)\r\n        { newParts.push({from: m.to, to: p.to}) }\r\n      parts.splice.apply(parts, newParts)\r\n      j += newParts.length - 3\r\n    }\r\n  }\r\n  return parts\r\n}\r\n\r\n// Connect or disconnect spans from a line.\r\nfunction detachMarkedSpans(line) {\r\n  var spans = line.markedSpans\r\n  if (!spans) { return }\r\n  for (var i = 0; i < spans.length; ++i)\r\n    { spans[i].marker.detachLine(line) }\r\n  line.markedSpans = null\r\n}\r\nfunction attachMarkedSpans(line, spans) {\r\n  if (!spans) { return }\r\n  for (var i = 0; i < spans.length; ++i)\r\n    { spans[i].marker.attachLine(line) }\r\n  line.markedSpans = spans\r\n}\r\n\r\n// Helpers used when computing which overlapping collapsed span\r\n// counts as the larger one.\r\nfunction extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\r\nfunction extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\r\n\r\n// Returns a number indicating which of two overlapping collapsed\r\n// spans is larger (and thus includes the other). Falls back to\r\n// comparing ids when the spans cover exactly the same range.\r\nfunction compareCollapsedMarkers(a, b) {\r\n  var lenDiff = a.lines.length - b.lines.length\r\n  if (lenDiff != 0) { return lenDiff }\r\n  var aPos = a.find(), bPos = b.find()\r\n  var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b)\r\n  if (fromCmp) { return -fromCmp }\r\n  var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b)\r\n  if (toCmp) { return toCmp }\r\n  return b.id - a.id\r\n}\r\n\r\n// Find out whether a line ends or starts in a collapsed span. If\r\n// so, return the marker for that span.\r\nfunction collapsedSpanAtSide(line, start) {\r\n  var sps = sawCollapsedSpans && line.markedSpans, found\r\n  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\r\n    sp = sps[i]\r\n    if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\r\n        (!found || compareCollapsedMarkers(found, sp.marker) < 0))\r\n      { found = sp.marker }\r\n  } }\r\n  return found\r\n}\r\nfunction collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\r\nfunction collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\r\n\r\n// Test whether there exists a collapsed span that partially\r\n// overlaps (covers the start or end, but not both) of a new span.\r\n// Such overlap is not allowed.\r\nfunction conflictingCollapsedRange(doc, lineNo, from, to, marker) {\r\n  var line = getLine(doc, lineNo)\r\n  var sps = sawCollapsedSpans && line.markedSpans\r\n  if (sps) { for (var i = 0; i < sps.length; ++i) {\r\n    var sp = sps[i]\r\n    if (!sp.marker.collapsed) { continue }\r\n    var found = sp.marker.find(0)\r\n    var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker)\r\n    var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker)\r\n    if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\r\n    if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\r\n        fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\r\n      { return true }\r\n  } }\r\n}\r\n\r\n// A visual line is a line as drawn on the screen. Folding, for\r\n// example, can cause multiple logical lines to appear on the same\r\n// visual line. This finds the start of the visual line that the\r\n// given line is part of (usually that is the line itself).\r\nfunction visualLine(line) {\r\n  var merged\r\n  while (merged = collapsedSpanAtStart(line))\r\n    { line = merged.find(-1, true).line }\r\n  return line\r\n}\r\n\r\nfunction visualLineEnd(line) {\r\n  var merged\r\n  while (merged = collapsedSpanAtEnd(line))\r\n    { line = merged.find(1, true).line }\r\n  return line\r\n}\r\n\r\n// Returns an array of logical lines that continue the visual line\r\n// started by the argument, or undefined if there are no such lines.\r\nfunction visualLineContinued(line) {\r\n  var merged, lines\r\n  while (merged = collapsedSpanAtEnd(line)) {\r\n    line = merged.find(1, true).line\r\n    ;(lines || (lines = [])).push(line)\r\n  }\r\n  return lines\r\n}\r\n\r\n// Get the line number of the start of the visual line that the\r\n// given line number is part of.\r\nfunction visualLineNo(doc, lineN) {\r\n  var line = getLine(doc, lineN), vis = visualLine(line)\r\n  if (line == vis) { return lineN }\r\n  return lineNo(vis)\r\n}\r\n\r\n// Get the line number of the start of the next visual line after\r\n// the given line.\r\nfunction visualLineEndNo(doc, lineN) {\r\n  if (lineN > doc.lastLine()) { return lineN }\r\n  var line = getLine(doc, lineN), merged\r\n  if (!lineIsHidden(doc, line)) { return lineN }\r\n  while (merged = collapsedSpanAtEnd(line))\r\n    { line = merged.find(1, true).line }\r\n  return lineNo(line) + 1\r\n}\r\n\r\n// Compute whether a line is hidden. Lines count as hidden when they\r\n// are part of a visual line that starts with another line, or when\r\n// they are entirely covered by collapsed, non-widget span.\r\nfunction lineIsHidden(doc, line) {\r\n  var sps = sawCollapsedSpans && line.markedSpans\r\n  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\r\n    sp = sps[i]\r\n    if (!sp.marker.collapsed) { continue }\r\n    if (sp.from == null) { return true }\r\n    if (sp.marker.widgetNode) { continue }\r\n    if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\r\n      { return true }\r\n  } }\r\n}\r\nfunction lineIsHiddenInner(doc, line, span) {\r\n  if (span.to == null) {\r\n    var end = span.marker.find(1, true)\r\n    return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\r\n  }\r\n  if (span.marker.inclusiveRight && span.to == line.text.length)\r\n    { return true }\r\n  for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\r\n    sp = line.markedSpans[i]\r\n    if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\r\n        (sp.to == null || sp.to != span.from) &&\r\n        (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\r\n        lineIsHiddenInner(doc, line, sp)) { return true }\r\n  }\r\n}\r\n\r\n// Find the height above the given line.\r\nfunction heightAtLine(lineObj) {\r\n  lineObj = visualLine(lineObj)\r\n\r\n  var h = 0, chunk = lineObj.parent\r\n  for (var i = 0; i < chunk.lines.length; ++i) {\r\n    var line = chunk.lines[i]\r\n    if (line == lineObj) { break }\r\n    else { h += line.height }\r\n  }\r\n  for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\r\n    for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\r\n      var cur = p.children[i$1]\r\n      if (cur == chunk) { break }\r\n      else { h += cur.height }\r\n    }\r\n  }\r\n  return h\r\n}\r\n\r\n// Compute the character length of a line, taking into account\r\n// collapsed ranges (see markText) that might hide parts, and join\r\n// other lines onto it.\r\nfunction lineLength(line) {\r\n  if (line.height == 0) { return 0 }\r\n  var len = line.text.length, merged, cur = line\r\n  while (merged = collapsedSpanAtStart(cur)) {\r\n    var found = merged.find(0, true)\r\n    cur = found.from.line\r\n    len += found.from.ch - found.to.ch\r\n  }\r\n  cur = line\r\n  while (merged = collapsedSpanAtEnd(cur)) {\r\n    var found$1 = merged.find(0, true)\r\n    len -= cur.text.length - found$1.from.ch\r\n    cur = found$1.to.line\r\n    len += cur.text.length - found$1.to.ch\r\n  }\r\n  return len\r\n}\r\n\r\n// Find the longest line in the document.\r\nfunction findMaxLine(cm) {\r\n  var d = cm.display, doc = cm.doc\r\n  d.maxLine = getLine(doc, doc.first)\r\n  d.maxLineLength = lineLength(d.maxLine)\r\n  d.maxLineChanged = true\r\n  doc.iter(function (line) {\r\n    var len = lineLength(line)\r\n    if (len > d.maxLineLength) {\r\n      d.maxLineLength = len\r\n      d.maxLine = line\r\n    }\r\n  })\r\n}\r\n\r\n// BIDI HELPERS\r\n\r\nfunction iterateBidiSections(order, from, to, f) {\r\n  if (!order) { return f(from, to, \"ltr\") }\r\n  var found = false\r\n  for (var i = 0; i < order.length; ++i) {\r\n    var part = order[i]\r\n    if (part.from < to && part.to > from || from == to && part.to == from) {\r\n      f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\")\r\n      found = true\r\n    }\r\n  }\r\n  if (!found) { f(from, to, \"ltr\") }\r\n}\r\n\r\nvar bidiOther = null\r\nfunction getBidiPartAt(order, ch, sticky) {\r\n  var found\r\n  bidiOther = null\r\n  for (var i = 0; i < order.length; ++i) {\r\n    var cur = order[i]\r\n    if (cur.from < ch && cur.to > ch) { return i }\r\n    if (cur.to == ch) {\r\n      if (cur.from != cur.to && sticky == \"before\") { found = i }\r\n      else { bidiOther = i }\r\n    }\r\n    if (cur.from == ch) {\r\n      if (cur.from != cur.to && sticky != \"before\") { found = i }\r\n      else { bidiOther = i }\r\n    }\r\n  }\r\n  return found != null ? found : bidiOther\r\n}\r\n\r\n// Bidirectional ordering algorithm\r\n// See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\r\n// that this (partially) implements.\r\n\r\n// One-char codes used for character types:\r\n// L (L):   Left-to-Right\r\n// R (R):   Right-to-Left\r\n// r (AL):  Right-to-Left Arabic\r\n// 1 (EN):  European Number\r\n// + (ES):  European Number Separator\r\n// % (ET):  European Number Terminator\r\n// n (AN):  Arabic Number\r\n// , (CS):  Common Number Separator\r\n// m (NSM): Non-Spacing Mark\r\n// b (BN):  Boundary Neutral\r\n// s (B):   Paragraph Separator\r\n// t (S):   Segment Separator\r\n// w (WS):  Whitespace\r\n// N (ON):  Other Neutrals\r\n\r\n// Returns null if characters are ordered as they appear\r\n// (left-to-right), or an array of sections ({from, to, level}\r\n// objects) in the order in which they occur visually.\r\nvar bidiOrdering = (function() {\r\n  // Character types for codepoints 0 to 0xff\r\n  var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\"\r\n  // Character types for codepoints 0x600 to 0x6f9\r\n  var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\"\r\n  function charType(code) {\r\n    if (code <= 0xf7) { return lowTypes.charAt(code) }\r\n    else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\r\n    else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\r\n    else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\r\n    else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\r\n    else if (code == 0x200c) { return \"b\" }\r\n    else { return \"L\" }\r\n  }\r\n\r\n  var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/\r\n  var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/\r\n  // Browsers seem to always treat the boundaries of block elements as being L.\r\n  var outerType = \"L\"\r\n\r\n  function BidiSpan(level, from, to) {\r\n    this.level = level\r\n    this.from = from; this.to = to\r\n  }\r\n\r\n  return function(str) {\r\n    if (!bidiRE.test(str)) { return false }\r\n    var len = str.length, types = []\r\n    for (var i = 0; i < len; ++i)\r\n      { types.push(charType(str.charCodeAt(i))) }\r\n\r\n    // W1. Examine each non-spacing mark (NSM) in the level run, and\r\n    // change the type of the NSM to the type of the previous\r\n    // character. If the NSM is at the start of the level run, it will\r\n    // get the type of sor.\r\n    for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\r\n      var type = types[i$1]\r\n      if (type == \"m\") { types[i$1] = prev }\r\n      else { prev = type }\r\n    }\r\n\r\n    // W2. Search backwards from each instance of a European number\r\n    // until the first strong type (R, L, AL, or sor) is found. If an\r\n    // AL is found, change the type of the European number to Arabic\r\n    // number.\r\n    // W3. Change all ALs to R.\r\n    for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\r\n      var type$1 = types[i$2]\r\n      if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\" }\r\n      else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\" } }\r\n    }\r\n\r\n    // W4. A single European separator between two European numbers\r\n    // changes to a European number. A single common separator between\r\n    // two numbers of the same type changes to that type.\r\n    for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\r\n      var type$2 = types[i$3]\r\n      if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\" }\r\n      else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\r\n               (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1 }\r\n      prev$1 = type$2\r\n    }\r\n\r\n    // W5. A sequence of European terminators adjacent to European\r\n    // numbers changes to all European numbers.\r\n    // W6. Otherwise, separators and terminators change to Other\r\n    // Neutral.\r\n    for (var i$4 = 0; i$4 < len; ++i$4) {\r\n      var type$3 = types[i$4]\r\n      if (type$3 == \",\") { types[i$4] = \"N\" }\r\n      else if (type$3 == \"%\") {\r\n        var end = (void 0)\r\n        for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\r\n        var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\"\r\n        for (var j = i$4; j < end; ++j) { types[j] = replace }\r\n        i$4 = end - 1\r\n      }\r\n    }\r\n\r\n    // W7. Search backwards from each instance of a European number\r\n    // until the first strong type (R, L, or sor) is found. If an L is\r\n    // found, then change the type of the European number to L.\r\n    for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\r\n      var type$4 = types[i$5]\r\n      if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\" }\r\n      else if (isStrong.test(type$4)) { cur$1 = type$4 }\r\n    }\r\n\r\n    // N1. A sequence of neutrals takes the direction of the\r\n    // surrounding strong text if the text on both sides has the same\r\n    // direction. European and Arabic numbers act as if they were R in\r\n    // terms of their influence on neutrals. Start-of-level-run (sor)\r\n    // and end-of-level-run (eor) are used at level run boundaries.\r\n    // N2. Any remaining neutrals take the embedding direction.\r\n    for (var i$6 = 0; i$6 < len; ++i$6) {\r\n      if (isNeutral.test(types[i$6])) {\r\n        var end$1 = (void 0)\r\n        for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\r\n        var before = (i$6 ? types[i$6-1] : outerType) == \"L\"\r\n        var after = (end$1 < len ? types[end$1] : outerType) == \"L\"\r\n        var replace$1 = before || after ? \"L\" : \"R\"\r\n        for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1 }\r\n        i$6 = end$1 - 1\r\n      }\r\n    }\r\n\r\n    // Here we depart from the documented algorithm, in order to avoid\r\n    // building up an actual levels array. Since there are only three\r\n    // levels (0, 1, 2) in an implementation that doesn't take\r\n    // explicit embedding into account, we can build up the order on\r\n    // the fly, without following the level-based algorithm.\r\n    var order = [], m\r\n    for (var i$7 = 0; i$7 < len;) {\r\n      if (countsAsLeft.test(types[i$7])) {\r\n        var start = i$7\r\n        for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\r\n        order.push(new BidiSpan(0, start, i$7))\r\n      } else {\r\n        var pos = i$7, at = order.length\r\n        for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\r\n        for (var j$2 = pos; j$2 < i$7;) {\r\n          if (countsAsNum.test(types[j$2])) {\r\n            if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)) }\r\n            var nstart = j$2\r\n            for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\r\n            order.splice(at, 0, new BidiSpan(2, nstart, j$2))\r\n            pos = j$2\r\n          } else { ++j$2 }\r\n        }\r\n        if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)) }\r\n      }\r\n    }\r\n    if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\r\n      order[0].from = m[0].length\r\n      order.unshift(new BidiSpan(0, 0, m[0].length))\r\n    }\r\n    if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\r\n      lst(order).to -= m[0].length\r\n      order.push(new BidiSpan(0, len - m[0].length, len))\r\n    }\r\n\r\n    return order\r\n  }\r\n})()\r\n\r\n// Get the bidi ordering for the given line (and cache it). Returns\r\n// false for lines that are fully left-to-right, and an array of\r\n// BidiSpan objects otherwise.\r\nfunction getOrder(line) {\r\n  var order = line.order\r\n  if (order == null) { order = line.order = bidiOrdering(line.text) }\r\n  return order\r\n}\r\n\r\nfunction moveCharLogically(line, ch, dir) {\r\n  var target = skipExtendingChars(line.text, ch + dir, dir)\r\n  return target < 0 || target > line.text.length ? null : target\r\n}\r\n\r\nfunction moveLogically(line, start, dir) {\r\n  var ch = moveCharLogically(line, start.ch, dir)\r\n  return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\r\n}\r\n\r\nfunction endOfLine(visually, cm, lineObj, lineNo, dir) {\r\n  if (visually) {\r\n    var order = getOrder(lineObj)\r\n    if (order) {\r\n      var part = dir < 0 ? lst(order) : order[0]\r\n      var moveInStorageOrder = (dir < 0) == (part.level == 1)\r\n      var sticky = moveInStorageOrder ? \"after\" : \"before\"\r\n      var ch\r\n      // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\r\n      // it could be that the last bidi part is not on the last visual line,\r\n      // since visual lines contain content order-consecutive chunks.\r\n      // Thus, in rtl, we are looking for the first (content-order) character\r\n      // in the rtl chunk that is on the last line (that is, the same line\r\n      // as the last (content-order) character).\r\n      if (part.level > 0) {\r\n        var prep = prepareMeasureForLine(cm, lineObj)\r\n        ch = dir < 0 ? lineObj.text.length - 1 : 0\r\n        var targetTop = measureCharPrepared(cm, prep, ch).top\r\n        ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch)\r\n        if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1, true) }\r\n      } else { ch = dir < 0 ? part.to : part.from }\r\n      return new Pos(lineNo, ch, sticky)\r\n    }\r\n  }\r\n  return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\r\n}\r\n\r\nfunction moveVisually(cm, line, start, dir) {\r\n  var bidi = getOrder(line)\r\n  if (!bidi) { return moveLogically(line, start, dir) }\r\n  if (start.ch >= line.text.length) {\r\n    start.ch = line.text.length\r\n    start.sticky = \"before\"\r\n  } else if (start.ch <= 0) {\r\n    start.ch = 0\r\n    start.sticky = \"after\"\r\n  }\r\n  var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos]\r\n  if (part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\r\n    // Case 1: We move within an ltr part. Even with wrapped lines,\r\n    // nothing interesting happens.\r\n    return moveLogically(line, start, dir)\r\n  }\r\n\r\n  var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); }\r\n  var prep\r\n  var getWrappedLineExtent = function (ch) {\r\n    if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\r\n    prep = prep || prepareMeasureForLine(cm, line)\r\n    return wrappedLineExtentChar(cm, line, prep, ch)\r\n  }\r\n  var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch)\r\n\r\n  if (part.level % 2 == 1) {\r\n    var ch = mv(start, -dir)\r\n    if (ch != null && (dir > 0 ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\r\n      // Case 2: We move within an rtl part on the same visual line\r\n      var sticky = dir < 0 ? \"before\" : \"after\"\r\n      return new Pos(start.line, ch, sticky)\r\n    }\r\n  }\r\n\r\n  // Case 3: Could not move within this bidi part in this visual line, so leave\r\n  // the current bidi part\r\n\r\n  var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\r\n    var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\r\n      ? new Pos(start.line, mv(ch, 1), \"before\")\r\n      : new Pos(start.line, ch, \"after\"); }\r\n\r\n    for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\r\n      var part = bidi[partPos]\r\n      var moveInStorageOrder = (dir > 0) == (part.level != 1)\r\n      var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1)\r\n      if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\r\n      ch = moveInStorageOrder ? part.from : mv(part.to, -1)\r\n      if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\r\n    }\r\n  }\r\n\r\n  // Case 3a: Look for other bidi parts on the same visual line\r\n  var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent)\r\n  if (res) { return res }\r\n\r\n  // Case 3b: Look for other bidi parts on the next visual line\r\n  var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1)\r\n  if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\r\n    res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh))\r\n    if (res) { return res }\r\n  }\r\n\r\n  // Case 4: Nowhere to move\r\n  return null\r\n}\r\n\r\n// EVENT HANDLING\r\n\r\n// Lightweight event framework. on/off also work on DOM nodes,\r\n// registering native DOM handlers.\r\n\r\nvar noHandlers = []\r\n\r\nvar on = function(emitter, type, f) {\r\n  if (emitter.addEventListener) {\r\n    emitter.addEventListener(type, f, false)\r\n  } else if (emitter.attachEvent) {\r\n    emitter.attachEvent(\"on\" + type, f)\r\n  } else {\r\n    var map = emitter._handlers || (emitter._handlers = {})\r\n    map[type] = (map[type] || noHandlers).concat(f)\r\n  }\r\n}\r\n\r\nfunction getHandlers(emitter, type) {\r\n  return emitter._handlers && emitter._handlers[type] || noHandlers\r\n}\r\n\r\nfunction off(emitter, type, f) {\r\n  if (emitter.removeEventListener) {\r\n    emitter.removeEventListener(type, f, false)\r\n  } else if (emitter.detachEvent) {\r\n    emitter.detachEvent(\"on\" + type, f)\r\n  } else {\r\n    var map = emitter._handlers, arr = map && map[type]\r\n    if (arr) {\r\n      var index = indexOf(arr, f)\r\n      if (index > -1)\r\n        { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)) }\r\n    }\r\n  }\r\n}\r\n\r\nfunction signal(emitter, type /*, values...*/) {\r\n  var handlers = getHandlers(emitter, type)\r\n  if (!handlers.length) { return }\r\n  var args = Array.prototype.slice.call(arguments, 2)\r\n  for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args) }\r\n}\r\n\r\n// The DOM events that CodeMirror handles can be overridden by\r\n// registering a (non-DOM) handler on the editor for the event name,\r\n// and preventDefault-ing the event in that handler.\r\nfunction signalDOMEvent(cm, e, override) {\r\n  if (typeof e == \"string\")\r\n    { e = {type: e, preventDefault: function() { this.defaultPrevented = true }} }\r\n  signal(cm, override || e.type, cm, e)\r\n  return e_defaultPrevented(e) || e.codemirrorIgnore\r\n}\r\n\r\nfunction signalCursorActivity(cm) {\r\n  var arr = cm._handlers && cm._handlers.cursorActivity\r\n  if (!arr) { return }\r\n  var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = [])\r\n  for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\r\n    { set.push(arr[i]) } }\r\n}\r\n\r\nfunction hasHandler(emitter, type) {\r\n  return getHandlers(emitter, type).length > 0\r\n}\r\n\r\n// Add on and off methods to a constructor's prototype, to make\r\n// registering events on such objects more convenient.\r\nfunction eventMixin(ctor) {\r\n  ctor.prototype.on = function(type, f) {on(this, type, f)}\r\n  ctor.prototype.off = function(type, f) {off(this, type, f)}\r\n}\r\n\r\n// Due to the fact that we still support jurassic IE versions, some\r\n// compatibility wrappers are needed.\r\n\r\nfunction e_preventDefault(e) {\r\n  if (e.preventDefault) { e.preventDefault() }\r\n  else { e.returnValue = false }\r\n}\r\nfunction e_stopPropagation(e) {\r\n  if (e.stopPropagation) { e.stopPropagation() }\r\n  else { e.cancelBubble = true }\r\n}\r\nfunction e_defaultPrevented(e) {\r\n  return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\r\n}\r\nfunction e_stop(e) {e_preventDefault(e); e_stopPropagation(e)}\r\n\r\nfunction e_target(e) {return e.target || e.srcElement}\r\nfunction e_button(e) {\r\n  var b = e.which\r\n  if (b == null) {\r\n    if (e.button & 1) { b = 1 }\r\n    else if (e.button & 2) { b = 3 }\r\n    else if (e.button & 4) { b = 2 }\r\n  }\r\n  if (mac && e.ctrlKey && b == 1) { b = 3 }\r\n  return b\r\n}\r\n\r\n// Detect drag-and-drop\r\nvar dragAndDrop = function() {\r\n  // There is *some* kind of drag-and-drop support in IE6-8, but I\r\n  // couldn't get it to work yet.\r\n  if (ie && ie_version < 9) { return false }\r\n  var div = elt('div')\r\n  return \"draggable\" in div || \"dragDrop\" in div\r\n}()\r\n\r\nvar zwspSupported\r\nfunction zeroWidthElement(measure) {\r\n  if (zwspSupported == null) {\r\n    var test = elt(\"span\", \"\\u200b\")\r\n    removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]))\r\n    if (measure.firstChild.offsetHeight != 0)\r\n      { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8) }\r\n  }\r\n  var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\r\n    elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\")\r\n  node.setAttribute(\"cm-text\", \"\")\r\n  return node\r\n}\r\n\r\n// Feature-detect IE's crummy client rect reporting for bidi text\r\nvar badBidiRects\r\nfunction hasBadBidiRects(measure) {\r\n  if (badBidiRects != null) { return badBidiRects }\r\n  var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"))\r\n  var r0 = range(txt, 0, 1).getBoundingClientRect()\r\n  var r1 = range(txt, 1, 2).getBoundingClientRect()\r\n  removeChildren(measure)\r\n  if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\r\n  return badBidiRects = (r1.right - r0.right < 3)\r\n}\r\n\r\n// See if \"\".split is the broken IE version, if so, provide an\r\n// alternative way to split lines.\r\nvar splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\r\n  var pos = 0, result = [], l = string.length\r\n  while (pos <= l) {\r\n    var nl = string.indexOf(\"\\n\", pos)\r\n    if (nl == -1) { nl = string.length }\r\n    var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl)\r\n    var rt = line.indexOf(\"\\r\")\r\n    if (rt != -1) {\r\n      result.push(line.slice(0, rt))\r\n      pos += rt + 1\r\n    } else {\r\n      result.push(line)\r\n      pos = nl + 1\r\n    }\r\n  }\r\n  return result\r\n} : function (string) { return string.split(/\\r\\n?|\\n/); }\r\n\r\nvar hasSelection = window.getSelection ? function (te) {\r\n  try { return te.selectionStart != te.selectionEnd }\r\n  catch(e) { return false }\r\n} : function (te) {\r\n  var range\r\n  try {range = te.ownerDocument.selection.createRange()}\r\n  catch(e) {}\r\n  if (!range || range.parentElement() != te) { return false }\r\n  return range.compareEndPoints(\"StartToEnd\", range) != 0\r\n}\r\n\r\nvar hasCopyEvent = (function () {\r\n  var e = elt(\"div\")\r\n  if (\"oncopy\" in e) { return true }\r\n  e.setAttribute(\"oncopy\", \"return;\")\r\n  return typeof e.oncopy == \"function\"\r\n})()\r\n\r\nvar badZoomedRects = null\r\nfunction hasBadZoomedRects(measure) {\r\n  if (badZoomedRects != null) { return badZoomedRects }\r\n  var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"))\r\n  var normal = node.getBoundingClientRect()\r\n  var fromRange = range(node, 0, 1).getBoundingClientRect()\r\n  return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\r\n}\r\n\r\nvar modes = {};\r\nvar mimeModes = {};\r\n// Extra arguments are stored as the mode's dependencies, which is\r\n// used by (legacy) mechanisms like loadmode.js to automatically\r\n// load a mode. (Preferred mechanism is the require/define calls.)\r\nfunction defineMode(name, mode) {\r\n  if (arguments.length > 2)\r\n    { mode.dependencies = Array.prototype.slice.call(arguments, 2) }\r\n  modes[name] = mode\r\n}\r\n\r\nfunction defineMIME(mime, spec) {\r\n  mimeModes[mime] = spec\r\n}\r\n\r\n// Given a MIME type, a {name, ...options} config object, or a name\r\n// string, return a mode config object.\r\nfunction resolveMode(spec) {\r\n  if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\r\n    spec = mimeModes[spec]\r\n  } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\r\n    var found = mimeModes[spec.name]\r\n    if (typeof found == \"string\") { found = {name: found} }\r\n    spec = createObj(found, spec)\r\n    spec.name = found.name\r\n  } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\r\n    return resolveMode(\"application/xml\")\r\n  } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\r\n    return resolveMode(\"application/json\")\r\n  }\r\n  if (typeof spec == \"string\") { return {name: spec} }\r\n  else { return spec || {name: \"null\"} }\r\n}\r\n\r\n// Given a mode spec (anything that resolveMode accepts), find and\r\n// initialize an actual mode object.\r\nfunction getMode(options, spec) {\r\n  spec = resolveMode(spec)\r\n  var mfactory = modes[spec.name]\r\n  if (!mfactory) { return getMode(options, \"text/plain\") }\r\n  var modeObj = mfactory(options, spec)\r\n  if (modeExtensions.hasOwnProperty(spec.name)) {\r\n    var exts = modeExtensions[spec.name]\r\n    for (var prop in exts) {\r\n      if (!exts.hasOwnProperty(prop)) { continue }\r\n      if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop] }\r\n      modeObj[prop] = exts[prop]\r\n    }\r\n  }\r\n  modeObj.name = spec.name\r\n  if (spec.helperType) { modeObj.helperType = spec.helperType }\r\n  if (spec.modeProps) { for (var prop$1 in spec.modeProps)\r\n    { modeObj[prop$1] = spec.modeProps[prop$1] } }\r\n\r\n  return modeObj\r\n}\r\n\r\n// This can be used to attach properties to mode objects from\r\n// outside the actual mode definition.\r\nvar modeExtensions = {}\r\nfunction extendMode(mode, properties) {\r\n  var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {})\r\n  copyObj(properties, exts)\r\n}\r\n\r\nfunction copyState(mode, state) {\r\n  if (state === true) { return state }\r\n  if (mode.copyState) { return mode.copyState(state) }\r\n  var nstate = {}\r\n  for (var n in state) {\r\n    var val = state[n]\r\n    if (val instanceof Array) { val = val.concat([]) }\r\n    nstate[n] = val\r\n  }\r\n  return nstate\r\n}\r\n\r\n// Given a mode and a state (for that mode), find the inner mode and\r\n// state at the position that the state refers to.\r\nfunction innerMode(mode, state) {\r\n  var info\r\n  while (mode.innerMode) {\r\n    info = mode.innerMode(state)\r\n    if (!info || info.mode == mode) { break }\r\n    state = info.state\r\n    mode = info.mode\r\n  }\r\n  return info || {mode: mode, state: state}\r\n}\r\n\r\nfunction startState(mode, a1, a2) {\r\n  return mode.startState ? mode.startState(a1, a2) : true\r\n}\r\n\r\n// STRING STREAM\r\n\r\n// Fed to the mode parsers, provides helper functions to make\r\n// parsers more succinct.\r\n\r\nvar StringStream = function(string, tabSize) {\r\n  this.pos = this.start = 0\r\n  this.string = string\r\n  this.tabSize = tabSize || 8\r\n  this.lastColumnPos = this.lastColumnValue = 0\r\n  this.lineStart = 0\r\n};\r\n\r\nStringStream.prototype.eol = function () {return this.pos >= this.string.length};\r\nStringStream.prototype.sol = function () {return this.pos == this.lineStart};\r\nStringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\r\nStringStream.prototype.next = function () {\r\n  if (this.pos < this.string.length)\r\n    { return this.string.charAt(this.pos++) }\r\n};\r\nStringStream.prototype.eat = function (match) {\r\n  var ch = this.string.charAt(this.pos)\r\n  var ok\r\n  if (typeof match == \"string\") { ok = ch == match }\r\n  else { ok = ch && (match.test ? match.test(ch) : match(ch)) }\r\n  if (ok) {++this.pos; return ch}\r\n};\r\nStringStream.prototype.eatWhile = function (match) {\r\n  var start = this.pos\r\n  while (this.eat(match)){}\r\n  return this.pos > start\r\n};\r\nStringStream.prototype.eatSpace = function () {\r\n    var this$1 = this;\r\n\r\n  var start = this.pos\r\n  while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this$1.pos }\r\n  return this.pos > start\r\n};\r\nStringStream.prototype.skipToEnd = function () {this.pos = this.string.length};\r\nStringStream.prototype.skipTo = function (ch) {\r\n  var found = this.string.indexOf(ch, this.pos)\r\n  if (found > -1) {this.pos = found; return true}\r\n};\r\nStringStream.prototype.backUp = function (n) {this.pos -= n};\r\nStringStream.prototype.column = function () {\r\n  if (this.lastColumnPos < this.start) {\r\n    this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue)\r\n    this.lastColumnPos = this.start\r\n  }\r\n  return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\r\n};\r\nStringStream.prototype.indentation = function () {\r\n  return countColumn(this.string, null, this.tabSize) -\r\n    (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\r\n};\r\nStringStream.prototype.match = function (pattern, consume, caseInsensitive) {\r\n  if (typeof pattern == \"string\") {\r\n    var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; }\r\n    var substr = this.string.substr(this.pos, pattern.length)\r\n    if (cased(substr) == cased(pattern)) {\r\n      if (consume !== false) { this.pos += pattern.length }\r\n      return true\r\n    }\r\n  } else {\r\n    var match = this.string.slice(this.pos).match(pattern)\r\n    if (match && match.index > 0) { return null }\r\n    if (match && consume !== false) { this.pos += match[0].length }\r\n    return match\r\n  }\r\n};\r\nStringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\r\nStringStream.prototype.hideFirstChars = function (n, inner) {\r\n  this.lineStart += n\r\n  try { return inner() }\r\n  finally { this.lineStart -= n }\r\n};\r\n\r\n// Compute a style array (an array starting with a mode generation\r\n// -- for invalidation -- followed by pairs of end positions and\r\n// style strings), which is used to highlight the tokens on the\r\n// line.\r\nfunction highlightLine(cm, line, state, forceToEnd) {\r\n  // A styles array always starts with a number identifying the\r\n  // mode/overlays that it is based on (for easy invalidation).\r\n  var st = [cm.state.modeGen], lineClasses = {}\r\n  // Compute the base array of styles\r\n  runMode(cm, line.text, cm.doc.mode, state, function (end, style) { return st.push(end, style); },\r\n    lineClasses, forceToEnd)\r\n\r\n  // Run overlays, adjust style array.\r\n  var loop = function ( o ) {\r\n    var overlay = cm.state.overlays[o], i = 1, at = 0\r\n    runMode(cm, line.text, overlay.mode, true, function (end, style) {\r\n      var start = i\r\n      // Ensure there's a token end at the current position, and that i points at it\r\n      while (at < end) {\r\n        var i_end = st[i]\r\n        if (i_end > end)\r\n          { st.splice(i, 1, end, st[i+1], i_end) }\r\n        i += 2\r\n        at = Math.min(end, i_end)\r\n      }\r\n      if (!style) { return }\r\n      if (overlay.opaque) {\r\n        st.splice(start, i - start, end, \"overlay \" + style)\r\n        i = start + 2\r\n      } else {\r\n        for (; start < i; start += 2) {\r\n          var cur = st[start+1]\r\n          st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style\r\n        }\r\n      }\r\n    }, lineClasses)\r\n  };\r\n\r\n  for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\r\n\r\n  return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\r\n}\r\n\r\nfunction getLineStyles(cm, line, updateFrontier) {\r\n  if (!line.styles || line.styles[0] != cm.state.modeGen) {\r\n    var state = getStateBefore(cm, lineNo(line))\r\n    var result = highlightLine(cm, line, line.text.length > cm.options.maxHighlightLength ? copyState(cm.doc.mode, state) : state)\r\n    line.stateAfter = state\r\n    line.styles = result.styles\r\n    if (result.classes) { line.styleClasses = result.classes }\r\n    else if (line.styleClasses) { line.styleClasses = null }\r\n    if (updateFrontier === cm.doc.frontier) { cm.doc.frontier++ }\r\n  }\r\n  return line.styles\r\n}\r\n\r\nfunction getStateBefore(cm, n, precise) {\r\n  var doc = cm.doc, display = cm.display\r\n  if (!doc.mode.startState) { return true }\r\n  var pos = findStartLine(cm, n, precise), state = pos > doc.first && getLine(doc, pos-1).stateAfter\r\n  if (!state) { state = startState(doc.mode) }\r\n  else { state = copyState(doc.mode, state) }\r\n  doc.iter(pos, n, function (line) {\r\n    processLine(cm, line.text, state)\r\n    var save = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo\r\n    line.stateAfter = save ? copyState(doc.mode, state) : null\r\n    ++pos\r\n  })\r\n  if (precise) { doc.frontier = pos }\r\n  return state\r\n}\r\n\r\n// Lightweight form of highlight -- proceed over this line and\r\n// update state, but don't save a style array. Used for lines that\r\n// aren't currently visible.\r\nfunction processLine(cm, text, state, startAt) {\r\n  var mode = cm.doc.mode\r\n  var stream = new StringStream(text, cm.options.tabSize)\r\n  stream.start = stream.pos = startAt || 0\r\n  if (text == \"\") { callBlankLine(mode, state) }\r\n  while (!stream.eol()) {\r\n    readToken(mode, stream, state)\r\n    stream.start = stream.pos\r\n  }\r\n}\r\n\r\nfunction callBlankLine(mode, state) {\r\n  if (mode.blankLine) { return mode.blankLine(state) }\r\n  if (!mode.innerMode) { return }\r\n  var inner = innerMode(mode, state)\r\n  if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\r\n}\r\n\r\nfunction readToken(mode, stream, state, inner) {\r\n  for (var i = 0; i < 10; i++) {\r\n    if (inner) { inner[0] = innerMode(mode, state).mode }\r\n    var style = mode.token(stream, state)\r\n    if (stream.pos > stream.start) { return style }\r\n  }\r\n  throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\r\n}\r\n\r\n// Utility for getTokenAt and getLineTokens\r\nfunction takeToken(cm, pos, precise, asArray) {\r\n  var getObj = function (copy) { return ({\r\n    start: stream.start, end: stream.pos,\r\n    string: stream.current(),\r\n    type: style || null,\r\n    state: copy ? copyState(doc.mode, state) : state\r\n  }); }\r\n\r\n  var doc = cm.doc, mode = doc.mode, style\r\n  pos = clipPos(doc, pos)\r\n  var line = getLine(doc, pos.line), state = getStateBefore(cm, pos.line, precise)\r\n  var stream = new StringStream(line.text, cm.options.tabSize), tokens\r\n  if (asArray) { tokens = [] }\r\n  while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\r\n    stream.start = stream.pos\r\n    style = readToken(mode, stream, state)\r\n    if (asArray) { tokens.push(getObj(true)) }\r\n  }\r\n  return asArray ? tokens : getObj()\r\n}\r\n\r\nfunction extractLineClasses(type, output) {\r\n  if (type) { for (;;) {\r\n    var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/)\r\n    if (!lineClass) { break }\r\n    type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length)\r\n    var prop = lineClass[1] ? \"bgClass\" : \"textClass\"\r\n    if (output[prop] == null)\r\n      { output[prop] = lineClass[2] }\r\n    else if (!(new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\")).test(output[prop]))\r\n      { output[prop] += \" \" + lineClass[2] }\r\n  } }\r\n  return type\r\n}\r\n\r\n// Run the given mode's parser over a line, calling f for each token.\r\nfunction runMode(cm, text, mode, state, f, lineClasses, forceToEnd) {\r\n  var flattenSpans = mode.flattenSpans\r\n  if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans }\r\n  var curStart = 0, curStyle = null\r\n  var stream = new StringStream(text, cm.options.tabSize), style\r\n  var inner = cm.options.addModeClass && [null]\r\n  if (text == \"\") { extractLineClasses(callBlankLine(mode, state), lineClasses) }\r\n  while (!stream.eol()) {\r\n    if (stream.pos > cm.options.maxHighlightLength) {\r\n      flattenSpans = false\r\n      if (forceToEnd) { processLine(cm, text, state, stream.pos) }\r\n      stream.pos = text.length\r\n      style = null\r\n    } else {\r\n      style = extractLineClasses(readToken(mode, stream, state, inner), lineClasses)\r\n    }\r\n    if (inner) {\r\n      var mName = inner[0].name\r\n      if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName) }\r\n    }\r\n    if (!flattenSpans || curStyle != style) {\r\n      while (curStart < stream.start) {\r\n        curStart = Math.min(stream.start, curStart + 5000)\r\n        f(curStart, curStyle)\r\n      }\r\n      curStyle = style\r\n    }\r\n    stream.start = stream.pos\r\n  }\r\n  while (curStart < stream.pos) {\r\n    // Webkit seems to refuse to render text nodes longer than 57444\r\n    // characters, and returns inaccurate measurements in nodes\r\n    // starting around 5000 chars.\r\n    var pos = Math.min(stream.pos, curStart + 5000)\r\n    f(pos, curStyle)\r\n    curStart = pos\r\n  }\r\n}\r\n\r\n// Finds the line to start with when starting a parse. Tries to\r\n// find a line with a stateAfter, so that it can start with a\r\n// valid state. If that fails, it returns the line with the\r\n// smallest indentation, which tends to need the least context to\r\n// parse correctly.\r\nfunction findStartLine(cm, n, precise) {\r\n  var minindent, minline, doc = cm.doc\r\n  var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100)\r\n  for (var search = n; search > lim; --search) {\r\n    if (search <= doc.first) { return doc.first }\r\n    var line = getLine(doc, search - 1)\r\n    if (line.stateAfter && (!precise || search <= doc.frontier)) { return search }\r\n    var indented = countColumn(line.text, null, cm.options.tabSize)\r\n    if (minline == null || minindent > indented) {\r\n      minline = search - 1\r\n      minindent = indented\r\n    }\r\n  }\r\n  return minline\r\n}\r\n\r\n// LINE DATA STRUCTURE\r\n\r\n// Line objects. These hold state related to a line, including\r\n// highlighting info (the styles array).\r\nvar Line = function(text, markedSpans, estimateHeight) {\r\n  this.text = text\r\n  attachMarkedSpans(this, markedSpans)\r\n  this.height = estimateHeight ? estimateHeight(this) : 1\r\n};\r\n\r\nLine.prototype.lineNo = function () { return lineNo(this) };\r\neventMixin(Line)\r\n\r\n// Change the content (text, markers) of a line. Automatically\r\n// invalidates cached information and tries to re-estimate the\r\n// line's height.\r\nfunction updateLine(line, text, markedSpans, estimateHeight) {\r\n  line.text = text\r\n  if (line.stateAfter) { line.stateAfter = null }\r\n  if (line.styles) { line.styles = null }\r\n  if (line.order != null) { line.order = null }\r\n  detachMarkedSpans(line)\r\n  attachMarkedSpans(line, markedSpans)\r\n  var estHeight = estimateHeight ? estimateHeight(line) : 1\r\n  if (estHeight != line.height) { updateLineHeight(line, estHeight) }\r\n}\r\n\r\n// Detach a line from the document tree and its markers.\r\nfunction cleanUpLine(line) {\r\n  line.parent = null\r\n  detachMarkedSpans(line)\r\n}\r\n\r\n// Convert a style as returned by a mode (either null, or a string\r\n// containing one or more styles) to a CSS style. This is cached,\r\n// and also looks for line-wide styles.\r\nvar styleToClassCache = {};\r\nvar styleToClassCacheWithMode = {};\r\nfunction interpretTokenStyle(style, options) {\r\n  if (!style || /^\\s*$/.test(style)) { return null }\r\n  var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache\r\n  return cache[style] ||\r\n    (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\r\n}\r\n\r\n// Render the DOM representation of the text of a line. Also builds\r\n// up a 'line map', which points at the DOM nodes that represent\r\n// specific stretches of text, and is used by the measuring code.\r\n// The returned object contains the DOM node, this map, and\r\n// information about line-wide styles that were set by the mode.\r\nfunction buildLineContent(cm, lineView) {\r\n  // The padding-right forces the element to have a 'border', which\r\n  // is needed on Webkit to be able to get line-level bounding\r\n  // rectangles for it (in measureChar).\r\n  var content = elt(\"span\", null, null, webkit ? \"padding-right: .1px\" : null)\r\n  var builder = {pre: elt(\"pre\", [content], \"CodeMirror-line\"), content: content,\r\n                 col: 0, pos: 0, cm: cm,\r\n                 trailingSpace: false,\r\n                 splitSpaces: (ie || webkit) && cm.getOption(\"lineWrapping\")}\r\n  // hide from accessibility tree\r\n  content.setAttribute(\"role\", \"presentation\")\r\n  builder.pre.setAttribute(\"role\", \"presentation\")\r\n  lineView.measure = {}\r\n\r\n  // Iterate over the logical lines that make up this visual line.\r\n  for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\r\n    var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0)\r\n    builder.pos = 0\r\n    builder.addToken = buildToken\r\n    // Optionally wire in some hacks into the token-rendering\r\n    // algorithm, to deal with browser quirks.\r\n    if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line)))\r\n      { builder.addToken = buildTokenBadBidi(builder.addToken, order) }\r\n    builder.map = []\r\n    var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line)\r\n    insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate))\r\n    if (line.styleClasses) {\r\n      if (line.styleClasses.bgClass)\r\n        { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\") }\r\n      if (line.styleClasses.textClass)\r\n        { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\") }\r\n    }\r\n\r\n    // Ensure at least a single node is present, for measuring.\r\n    if (builder.map.length == 0)\r\n      { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))) }\r\n\r\n    // Store the map and a cache object for the current logical line\r\n    if (i == 0) {\r\n      lineView.measure.map = builder.map\r\n      lineView.measure.cache = {}\r\n    } else {\r\n      ;(lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\r\n      ;(lineView.measure.caches || (lineView.measure.caches = [])).push({})\r\n    }\r\n  }\r\n\r\n  // See issue #2901\r\n  if (webkit) {\r\n    var last = builder.content.lastChild\r\n    if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\r\n      { builder.content.className = \"cm-tab-wrap-hack\" }\r\n  }\r\n\r\n  signal(cm, \"renderLine\", cm, lineView.line, builder.pre)\r\n  if (builder.pre.className)\r\n    { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\") }\r\n\r\n  return builder\r\n}\r\n\r\nfunction defaultSpecialCharPlaceholder(ch) {\r\n  var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\")\r\n  token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16)\r\n  token.setAttribute(\"aria-label\", token.title)\r\n  return token\r\n}\r\n\r\n// Build up the DOM representation for a single token, and add it to\r\n// the line map. Takes care to render special characters separately.\r\nfunction buildToken(builder, text, style, startStyle, endStyle, title, css) {\r\n  if (!text) { return }\r\n  var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text\r\n  var special = builder.cm.state.specialChars, mustWrap = false\r\n  var content\r\n  if (!special.test(text)) {\r\n    builder.col += text.length\r\n    content = document.createTextNode(displayText)\r\n    builder.map.push(builder.pos, builder.pos + text.length, content)\r\n    if (ie && ie_version < 9) { mustWrap = true }\r\n    builder.pos += text.length\r\n  } else {\r\n    content = document.createDocumentFragment()\r\n    var pos = 0\r\n    while (true) {\r\n      special.lastIndex = pos\r\n      var m = special.exec(text)\r\n      var skipped = m ? m.index - pos : text.length - pos\r\n      if (skipped) {\r\n        var txt = document.createTextNode(displayText.slice(pos, pos + skipped))\r\n        if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])) }\r\n        else { content.appendChild(txt) }\r\n        builder.map.push(builder.pos, builder.pos + skipped, txt)\r\n        builder.col += skipped\r\n        builder.pos += skipped\r\n      }\r\n      if (!m) { break }\r\n      pos += skipped + 1\r\n      var txt$1 = (void 0)\r\n      if (m[0] == \"\\t\") {\r\n        var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize\r\n        txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"))\r\n        txt$1.setAttribute(\"role\", \"presentation\")\r\n        txt$1.setAttribute(\"cm-text\", \"\\t\")\r\n        builder.col += tabWidth\r\n      } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\r\n        txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"))\r\n        txt$1.setAttribute(\"cm-text\", m[0])\r\n        builder.col += 1\r\n      } else {\r\n        txt$1 = builder.cm.options.specialCharPlaceholder(m[0])\r\n        txt$1.setAttribute(\"cm-text\", m[0])\r\n        if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])) }\r\n        else { content.appendChild(txt$1) }\r\n        builder.col += 1\r\n      }\r\n      builder.map.push(builder.pos, builder.pos + 1, txt$1)\r\n      builder.pos++\r\n    }\r\n  }\r\n  builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32\r\n  if (style || startStyle || endStyle || mustWrap || css) {\r\n    var fullStyle = style || \"\"\r\n    if (startStyle) { fullStyle += startStyle }\r\n    if (endStyle) { fullStyle += endStyle }\r\n    var token = elt(\"span\", [content], fullStyle, css)\r\n    if (title) { token.title = title }\r\n    return builder.content.appendChild(token)\r\n  }\r\n  builder.content.appendChild(content)\r\n}\r\n\r\nfunction splitSpaces(text, trailingBefore) {\r\n  if (text.length > 1 && !/  /.test(text)) { return text }\r\n  var spaceBefore = trailingBefore, result = \"\"\r\n  for (var i = 0; i < text.length; i++) {\r\n    var ch = text.charAt(i)\r\n    if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\r\n      { ch = \"\\u00a0\" }\r\n    result += ch\r\n    spaceBefore = ch == \" \"\r\n  }\r\n  return result\r\n}\r\n\r\n// Work around nonsense dimensions being reported for stretches of\r\n// right-to-left text.\r\nfunction buildTokenBadBidi(inner, order) {\r\n  return function (builder, text, style, startStyle, endStyle, title, css) {\r\n    style = style ? style + \" cm-force-border\" : \"cm-force-border\"\r\n    var start = builder.pos, end = start + text.length\r\n    for (;;) {\r\n      // Find the part that overlaps with the start of this text\r\n      var part = (void 0)\r\n      for (var i = 0; i < order.length; i++) {\r\n        part = order[i]\r\n        if (part.to > start && part.from <= start) { break }\r\n      }\r\n      if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, title, css) }\r\n      inner(builder, text.slice(0, part.to - start), style, startStyle, null, title, css)\r\n      startStyle = null\r\n      text = text.slice(part.to - start)\r\n      start = part.to\r\n    }\r\n  }\r\n}\r\n\r\nfunction buildCollapsedSpan(builder, size, marker, ignoreWidget) {\r\n  var widget = !ignoreWidget && marker.widgetNode\r\n  if (widget) { builder.map.push(builder.pos, builder.pos + size, widget) }\r\n  if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\r\n    if (!widget)\r\n      { widget = builder.content.appendChild(document.createElement(\"span\")) }\r\n    widget.setAttribute(\"cm-marker\", marker.id)\r\n  }\r\n  if (widget) {\r\n    builder.cm.display.input.setUneditable(widget)\r\n    builder.content.appendChild(widget)\r\n  }\r\n  builder.pos += size\r\n  builder.trailingSpace = false\r\n}\r\n\r\n// Outputs a number of spans to make up a line, taking highlighting\r\n// and marked text into account.\r\nfunction insertLineContent(line, builder, styles) {\r\n  var spans = line.markedSpans, allText = line.text, at = 0\r\n  if (!spans) {\r\n    for (var i$1 = 1; i$1 < styles.length; i$1+=2)\r\n      { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)) }\r\n    return\r\n  }\r\n\r\n  var len = allText.length, pos = 0, i = 1, text = \"\", style, css\r\n  var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, title, collapsed\r\n  for (;;) {\r\n    if (nextChange == pos) { // Update current marker set\r\n      spanStyle = spanEndStyle = spanStartStyle = title = css = \"\"\r\n      collapsed = null; nextChange = Infinity\r\n      var foundBookmarks = [], endStyles = (void 0)\r\n      for (var j = 0; j < spans.length; ++j) {\r\n        var sp = spans[j], m = sp.marker\r\n        if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\r\n          foundBookmarks.push(m)\r\n        } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\r\n          if (sp.to != null && sp.to != pos && nextChange > sp.to) {\r\n            nextChange = sp.to\r\n            spanEndStyle = \"\"\r\n          }\r\n          if (m.className) { spanStyle += \" \" + m.className }\r\n          if (m.css) { css = (css ? css + \";\" : \"\") + m.css }\r\n          if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle }\r\n          if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to) }\r\n          if (m.title && !title) { title = m.title }\r\n          if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\r\n            { collapsed = sp }\r\n        } else if (sp.from > pos && nextChange > sp.from) {\r\n          nextChange = sp.from\r\n        }\r\n      }\r\n      if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\r\n        { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1] } } }\r\n\r\n      if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\r\n        { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]) } }\r\n      if (collapsed && (collapsed.from || 0) == pos) {\r\n        buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\r\n                           collapsed.marker, collapsed.from == null)\r\n        if (collapsed.to == null) { return }\r\n        if (collapsed.to == pos) { collapsed = false }\r\n      }\r\n    }\r\n    if (pos >= len) { break }\r\n\r\n    var upto = Math.min(len, nextChange)\r\n    while (true) {\r\n      if (text) {\r\n        var end = pos + text.length\r\n        if (!collapsed) {\r\n          var tokenText = end > upto ? text.slice(0, upto - pos) : text\r\n          builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\r\n                           spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", title, css)\r\n        }\r\n        if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\r\n        pos = end\r\n        spanStartStyle = \"\"\r\n      }\r\n      text = allText.slice(at, at = styles[i++])\r\n      style = interpretTokenStyle(styles[i++], builder.cm.options)\r\n    }\r\n  }\r\n}\r\n\r\n\r\n// These objects are used to represent the visible (currently drawn)\r\n// part of the document. A LineView may correspond to multiple\r\n// logical lines, if those are connected by collapsed ranges.\r\nfunction LineView(doc, line, lineN) {\r\n  // The starting line\r\n  this.line = line\r\n  // Continuing lines, if any\r\n  this.rest = visualLineContinued(line)\r\n  // Number of logical lines in this visual line\r\n  this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1\r\n  this.node = this.text = null\r\n  this.hidden = lineIsHidden(doc, line)\r\n}\r\n\r\n// Create a range of LineView objects for the given lines.\r\nfunction buildViewArray(cm, from, to) {\r\n  var array = [], nextPos\r\n  for (var pos = from; pos < to; pos = nextPos) {\r\n    var view = new LineView(cm.doc, getLine(cm.doc, pos), pos)\r\n    nextPos = pos + view.size\r\n    array.push(view)\r\n  }\r\n  return array\r\n}\r\n\r\nvar operationGroup = null\r\n\r\nfunction pushOperation(op) {\r\n  if (operationGroup) {\r\n    operationGroup.ops.push(op)\r\n  } else {\r\n    op.ownsGroup = operationGroup = {\r\n      ops: [op],\r\n      delayedCallbacks: []\r\n    }\r\n  }\r\n}\r\n\r\nfunction fireCallbacksForOps(group) {\r\n  // Calls delayed callbacks and cursorActivity handlers until no\r\n  // new ones appear\r\n  var callbacks = group.delayedCallbacks, i = 0\r\n  do {\r\n    for (; i < callbacks.length; i++)\r\n      { callbacks[i].call(null) }\r\n    for (var j = 0; j < group.ops.length; j++) {\r\n      var op = group.ops[j]\r\n      if (op.cursorActivityHandlers)\r\n        { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\r\n          { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm) } }\r\n    }\r\n  } while (i < callbacks.length)\r\n}\r\n\r\nfunction finishOperation(op, endCb) {\r\n  var group = op.ownsGroup\r\n  if (!group) { return }\r\n\r\n  try { fireCallbacksForOps(group) }\r\n  finally {\r\n    operationGroup = null\r\n    endCb(group)\r\n  }\r\n}\r\n\r\nvar orphanDelayedCallbacks = null\r\n\r\n// Often, we want to signal events at a point where we are in the\r\n// middle of some work, but don't want the handler to start calling\r\n// other methods on the editor, which might be in an inconsistent\r\n// state or simply not expect any other events to happen.\r\n// signalLater looks whether there are any handlers, and schedules\r\n// them to be executed when the last operation ends, or, if no\r\n// operation is active, when a timeout fires.\r\nfunction signalLater(emitter, type /*, values...*/) {\r\n  var arr = getHandlers(emitter, type)\r\n  if (!arr.length) { return }\r\n  var args = Array.prototype.slice.call(arguments, 2), list\r\n  if (operationGroup) {\r\n    list = operationGroup.delayedCallbacks\r\n  } else if (orphanDelayedCallbacks) {\r\n    list = orphanDelayedCallbacks\r\n  } else {\r\n    list = orphanDelayedCallbacks = []\r\n    setTimeout(fireOrphanDelayed, 0)\r\n  }\r\n  var loop = function ( i ) {\r\n    list.push(function () { return arr[i].apply(null, args); })\r\n  };\r\n\r\n  for (var i = 0; i < arr.length; ++i)\r\n    loop( i );\r\n}\r\n\r\nfunction fireOrphanDelayed() {\r\n  var delayed = orphanDelayedCallbacks\r\n  orphanDelayedCallbacks = null\r\n  for (var i = 0; i < delayed.length; ++i) { delayed[i]() }\r\n}\r\n\r\n// When an aspect of a line changes, a string is added to\r\n// lineView.changes. This updates the relevant part of the line's\r\n// DOM structure.\r\nfunction updateLineForChanges(cm, lineView, lineN, dims) {\r\n  for (var j = 0; j < lineView.changes.length; j++) {\r\n    var type = lineView.changes[j]\r\n    if (type == \"text\") { updateLineText(cm, lineView) }\r\n    else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims) }\r\n    else if (type == \"class\") { updateLineClasses(lineView) }\r\n    else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims) }\r\n  }\r\n  lineView.changes = null\r\n}\r\n\r\n// Lines with gutter elements, widgets or a background class need to\r\n// be wrapped, and have the extra elements added to the wrapper div\r\nfunction ensureLineWrapped(lineView) {\r\n  if (lineView.node == lineView.text) {\r\n    lineView.node = elt(\"div\", null, null, \"position: relative\")\r\n    if (lineView.text.parentNode)\r\n      { lineView.text.parentNode.replaceChild(lineView.node, lineView.text) }\r\n    lineView.node.appendChild(lineView.text)\r\n    if (ie && ie_version < 8) { lineView.node.style.zIndex = 2 }\r\n  }\r\n  return lineView.node\r\n}\r\n\r\nfunction updateLineBackground(lineView) {\r\n  var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass\r\n  if (cls) { cls += \" CodeMirror-linebackground\" }\r\n  if (lineView.background) {\r\n    if (cls) { lineView.background.className = cls }\r\n    else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null }\r\n  } else if (cls) {\r\n    var wrap = ensureLineWrapped(lineView)\r\n    lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild)\r\n  }\r\n}\r\n\r\n// Wrapper around buildLineContent which will reuse the structure\r\n// in display.externalMeasured when possible.\r\nfunction getLineContent(cm, lineView) {\r\n  var ext = cm.display.externalMeasured\r\n  if (ext && ext.line == lineView.line) {\r\n    cm.display.externalMeasured = null\r\n    lineView.measure = ext.measure\r\n    return ext.built\r\n  }\r\n  return buildLineContent(cm, lineView)\r\n}\r\n\r\n// Redraw the line's text. Interacts with the background and text\r\n// classes because the mode may output tokens that influence these\r\n// classes.\r\nfunction updateLineText(cm, lineView) {\r\n  var cls = lineView.text.className\r\n  var built = getLineContent(cm, lineView)\r\n  if (lineView.text == lineView.node) { lineView.node = built.pre }\r\n  lineView.text.parentNode.replaceChild(built.pre, lineView.text)\r\n  lineView.text = built.pre\r\n  if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\r\n    lineView.bgClass = built.bgClass\r\n    lineView.textClass = built.textClass\r\n    updateLineClasses(lineView)\r\n  } else if (cls) {\r\n    lineView.text.className = cls\r\n  }\r\n}\r\n\r\nfunction updateLineClasses(lineView) {\r\n  updateLineBackground(lineView)\r\n  if (lineView.line.wrapClass)\r\n    { ensureLineWrapped(lineView).className = lineView.line.wrapClass }\r\n  else if (lineView.node != lineView.text)\r\n    { lineView.node.className = \"\" }\r\n  var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass\r\n  lineView.text.className = textClass || \"\"\r\n}\r\n\r\nfunction updateLineGutter(cm, lineView, lineN, dims) {\r\n  if (lineView.gutter) {\r\n    lineView.node.removeChild(lineView.gutter)\r\n    lineView.gutter = null\r\n  }\r\n  if (lineView.gutterBackground) {\r\n    lineView.node.removeChild(lineView.gutterBackground)\r\n    lineView.gutterBackground = null\r\n  }\r\n  if (lineView.line.gutterClass) {\r\n    var wrap = ensureLineWrapped(lineView)\r\n    lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\r\n                                    (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"))\r\n    wrap.insertBefore(lineView.gutterBackground, lineView.text)\r\n  }\r\n  var markers = lineView.line.gutterMarkers\r\n  if (cm.options.lineNumbers || markers) {\r\n    var wrap$1 = ensureLineWrapped(lineView)\r\n    var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"))\r\n    cm.display.input.setUneditable(gutterWrap)\r\n    wrap$1.insertBefore(gutterWrap, lineView.text)\r\n    if (lineView.line.gutterClass)\r\n      { gutterWrap.className += \" \" + lineView.line.gutterClass }\r\n    if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\r\n      { lineView.lineNumber = gutterWrap.appendChild(\r\n        elt(\"div\", lineNumberFor(cm.options, lineN),\r\n            \"CodeMirror-linenumber CodeMirror-gutter-elt\",\r\n            (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))) }\r\n    if (markers) { for (var k = 0; k < cm.options.gutters.length; ++k) {\r\n      var id = cm.options.gutters[k], found = markers.hasOwnProperty(id) && markers[id]\r\n      if (found)\r\n        { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\r\n                                   (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))) }\r\n    } }\r\n  }\r\n}\r\n\r\nfunction updateLineWidgets(cm, lineView, dims) {\r\n  if (lineView.alignable) { lineView.alignable = null }\r\n  for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\r\n    next = node.nextSibling\r\n    if (node.className == \"CodeMirror-linewidget\")\r\n      { lineView.node.removeChild(node) }\r\n  }\r\n  insertLineWidgets(cm, lineView, dims)\r\n}\r\n\r\n// Build a line's DOM representation from scratch\r\nfunction buildLineElement(cm, lineView, lineN, dims) {\r\n  var built = getLineContent(cm, lineView)\r\n  lineView.text = lineView.node = built.pre\r\n  if (built.bgClass) { lineView.bgClass = built.bgClass }\r\n  if (built.textClass) { lineView.textClass = built.textClass }\r\n\r\n  updateLineClasses(lineView)\r\n  updateLineGutter(cm, lineView, lineN, dims)\r\n  insertLineWidgets(cm, lineView, dims)\r\n  return lineView.node\r\n}\r\n\r\n// A lineView may contain multiple logical lines (when merged by\r\n// collapsed spans). The widgets for all of them need to be drawn.\r\nfunction insertLineWidgets(cm, lineView, dims) {\r\n  insertLineWidgetsFor(cm, lineView.line, lineView, dims, true)\r\n  if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\r\n    { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false) } }\r\n}\r\n\r\nfunction insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\r\n  if (!line.widgets) { return }\r\n  var wrap = ensureLineWrapped(lineView)\r\n  for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\r\n    var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\")\r\n    if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\") }\r\n    positionLineWidget(widget, node, lineView, dims)\r\n    cm.display.input.setUneditable(node)\r\n    if (allowAbove && widget.above)\r\n      { wrap.insertBefore(node, lineView.gutter || lineView.text) }\r\n    else\r\n      { wrap.appendChild(node) }\r\n    signalLater(widget, \"redraw\")\r\n  }\r\n}\r\n\r\nfunction positionLineWidget(widget, node, lineView, dims) {\r\n  if (widget.noHScroll) {\r\n    ;(lineView.alignable || (lineView.alignable = [])).push(node)\r\n    var width = dims.wrapperWidth\r\n    node.style.left = dims.fixedPos + \"px\"\r\n    if (!widget.coverGutter) {\r\n      width -= dims.gutterTotalWidth\r\n      node.style.paddingLeft = dims.gutterTotalWidth + \"px\"\r\n    }\r\n    node.style.width = width + \"px\"\r\n  }\r\n  if (widget.coverGutter) {\r\n    node.style.zIndex = 5\r\n    node.style.position = \"relative\"\r\n    if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\" }\r\n  }\r\n}\r\n\r\nfunction widgetHeight(widget) {\r\n  if (widget.height != null) { return widget.height }\r\n  var cm = widget.doc.cm\r\n  if (!cm) { return 0 }\r\n  if (!contains(document.body, widget.node)) {\r\n    var parentStyle = \"position: relative;\"\r\n    if (widget.coverGutter)\r\n      { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\" }\r\n    if (widget.noHScroll)\r\n      { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\" }\r\n    removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle))\r\n  }\r\n  return widget.height = widget.node.parentNode.offsetHeight\r\n}\r\n\r\n// Return true when the given mouse event happened in a widget\r\nfunction eventInWidget(display, e) {\r\n  for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\r\n    if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\r\n        (n.parentNode == display.sizer && n != display.mover))\r\n      { return true }\r\n  }\r\n}\r\n\r\n// POSITION MEASUREMENT\r\n\r\nfunction paddingTop(display) {return display.lineSpace.offsetTop}\r\nfunction paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\r\nfunction paddingH(display) {\r\n  if (display.cachedPaddingH) { return display.cachedPaddingH }\r\n  var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\"))\r\n  var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle\r\n  var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)}\r\n  if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data }\r\n  return data\r\n}\r\n\r\nfunction scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\r\nfunction displayWidth(cm) {\r\n  return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\r\n}\r\nfunction displayHeight(cm) {\r\n  return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\r\n}\r\n\r\n// Ensure the lineView.wrapping.heights array is populated. This is\r\n// an array of bottom offsets for the lines that make up a drawn\r\n// line. When lineWrapping is on, there might be more than one\r\n// height.\r\nfunction ensureLineHeights(cm, lineView, rect) {\r\n  var wrapping = cm.options.lineWrapping\r\n  var curWidth = wrapping && displayWidth(cm)\r\n  if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\r\n    var heights = lineView.measure.heights = []\r\n    if (wrapping) {\r\n      lineView.measure.width = curWidth\r\n      var rects = lineView.text.firstChild.getClientRects()\r\n      for (var i = 0; i < rects.length - 1; i++) {\r\n        var cur = rects[i], next = rects[i + 1]\r\n        if (Math.abs(cur.bottom - next.bottom) > 2)\r\n          { heights.push((cur.bottom + next.top) / 2 - rect.top) }\r\n      }\r\n    }\r\n    heights.push(rect.bottom - rect.top)\r\n  }\r\n}\r\n\r\n// Find a line map (mapping character offsets to text nodes) and a\r\n// measurement cache for the given line number. (A line view might\r\n// contain multiple lines when collapsed ranges are present.)\r\nfunction mapFromLineView(lineView, line, lineN) {\r\n  if (lineView.line == line)\r\n    { return {map: lineView.measure.map, cache: lineView.measure.cache} }\r\n  for (var i = 0; i < lineView.rest.length; i++)\r\n    { if (lineView.rest[i] == line)\r\n      { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\r\n  for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\r\n    { if (lineNo(lineView.rest[i$1]) > lineN)\r\n      { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\r\n}\r\n\r\n// Render a line into the hidden node display.externalMeasured. Used\r\n// when measurement is needed for a line that's not in the viewport.\r\nfunction updateExternalMeasurement(cm, line) {\r\n  line = visualLine(line)\r\n  var lineN = lineNo(line)\r\n  var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN)\r\n  view.lineN = lineN\r\n  var built = view.built = buildLineContent(cm, view)\r\n  view.text = built.pre\r\n  removeChildrenAndAdd(cm.display.lineMeasure, built.pre)\r\n  return view\r\n}\r\n\r\n// Get a {top, bottom, left, right} box (in line-local coordinates)\r\n// for a given character.\r\nfunction measureChar(cm, line, ch, bias) {\r\n  return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\r\n}\r\n\r\n// Find a line view that corresponds to the given line number.\r\nfunction findViewForLine(cm, lineN) {\r\n  if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\r\n    { return cm.display.view[findViewIndex(cm, lineN)] }\r\n  var ext = cm.display.externalMeasured\r\n  if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\r\n    { return ext }\r\n}\r\n\r\n// Measurement can be split in two steps, the set-up work that\r\n// applies to the whole line, and the measurement of the actual\r\n// character. Functions like coordsChar, that need to do a lot of\r\n// measurements in a row, can thus ensure that the set-up work is\r\n// only done once.\r\nfunction prepareMeasureForLine(cm, line) {\r\n  var lineN = lineNo(line)\r\n  var view = findViewForLine(cm, lineN)\r\n  if (view && !view.text) {\r\n    view = null\r\n  } else if (view && view.changes) {\r\n    updateLineForChanges(cm, view, lineN, getDimensions(cm))\r\n    cm.curOp.forceUpdate = true\r\n  }\r\n  if (!view)\r\n    { view = updateExternalMeasurement(cm, line) }\r\n\r\n  var info = mapFromLineView(view, line, lineN)\r\n  return {\r\n    line: line, view: view, rect: null,\r\n    map: info.map, cache: info.cache, before: info.before,\r\n    hasHeights: false\r\n  }\r\n}\r\n\r\n// Given a prepared measurement object, measures the position of an\r\n// actual character (or fetches it from the cache).\r\nfunction measureCharPrepared(cm, prepared, ch, bias, varHeight) {\r\n  if (prepared.before) { ch = -1 }\r\n  var key = ch + (bias || \"\"), found\r\n  if (prepared.cache.hasOwnProperty(key)) {\r\n    found = prepared.cache[key]\r\n  } else {\r\n    if (!prepared.rect)\r\n      { prepared.rect = prepared.view.text.getBoundingClientRect() }\r\n    if (!prepared.hasHeights) {\r\n      ensureLineHeights(cm, prepared.view, prepared.rect)\r\n      prepared.hasHeights = true\r\n    }\r\n    found = measureCharInner(cm, prepared, ch, bias)\r\n    if (!found.bogus) { prepared.cache[key] = found }\r\n  }\r\n  return {left: found.left, right: found.right,\r\n          top: varHeight ? found.rtop : found.top,\r\n          bottom: varHeight ? found.rbottom : found.bottom}\r\n}\r\n\r\nvar nullRect = {left: 0, right: 0, top: 0, bottom: 0}\r\n\r\nfunction nodeAndOffsetInLineMap(map, ch, bias) {\r\n  var node, start, end, collapse, mStart, mEnd\r\n  // First, search the line map for the text node corresponding to,\r\n  // or closest to, the target character.\r\n  for (var i = 0; i < map.length; i += 3) {\r\n    mStart = map[i]\r\n    mEnd = map[i + 1]\r\n    if (ch < mStart) {\r\n      start = 0; end = 1\r\n      collapse = \"left\"\r\n    } else if (ch < mEnd) {\r\n      start = ch - mStart\r\n      end = start + 1\r\n    } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\r\n      end = mEnd - mStart\r\n      start = end - 1\r\n      if (ch >= mEnd) { collapse = \"right\" }\r\n    }\r\n    if (start != null) {\r\n      node = map[i + 2]\r\n      if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\r\n        { collapse = bias }\r\n      if (bias == \"left\" && start == 0)\r\n        { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\r\n          node = map[(i -= 3) + 2]\r\n          collapse = \"left\"\r\n        } }\r\n      if (bias == \"right\" && start == mEnd - mStart)\r\n        { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\r\n          node = map[(i += 3) + 2]\r\n          collapse = \"right\"\r\n        } }\r\n      break\r\n    }\r\n  }\r\n  return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\r\n}\r\n\r\nfunction getUsefulRect(rects, bias) {\r\n  var rect = nullRect\r\n  if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\r\n    if ((rect = rects[i]).left != rect.right) { break }\r\n  } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\r\n    if ((rect = rects[i$1]).left != rect.right) { break }\r\n  } }\r\n  return rect\r\n}\r\n\r\nfunction measureCharInner(cm, prepared, ch, bias) {\r\n  var place = nodeAndOffsetInLineMap(prepared.map, ch, bias)\r\n  var node = place.node, start = place.start, end = place.end, collapse = place.collapse\r\n\r\n  var rect\r\n  if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\r\n    for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\r\n      while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start }\r\n      while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end }\r\n      if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\r\n        { rect = node.parentNode.getBoundingClientRect() }\r\n      else\r\n        { rect = getUsefulRect(range(node, start, end).getClientRects(), bias) }\r\n      if (rect.left || rect.right || start == 0) { break }\r\n      end = start\r\n      start = start - 1\r\n      collapse = \"right\"\r\n    }\r\n    if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect) }\r\n  } else { // If it is a widget, simply get the box for the whole widget.\r\n    if (start > 0) { collapse = bias = \"right\" }\r\n    var rects\r\n    if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\r\n      { rect = rects[bias == \"right\" ? rects.length - 1 : 0] }\r\n    else\r\n      { rect = node.getBoundingClientRect() }\r\n  }\r\n  if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\r\n    var rSpan = node.parentNode.getClientRects()[0]\r\n    if (rSpan)\r\n      { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom} }\r\n    else\r\n      { rect = nullRect }\r\n  }\r\n\r\n  var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top\r\n  var mid = (rtop + rbot) / 2\r\n  var heights = prepared.view.measure.heights\r\n  var i = 0\r\n  for (; i < heights.length - 1; i++)\r\n    { if (mid < heights[i]) { break } }\r\n  var top = i ? heights[i - 1] : 0, bot = heights[i]\r\n  var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\r\n                right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\r\n                top: top, bottom: bot}\r\n  if (!rect.left && !rect.right) { result.bogus = true }\r\n  if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot }\r\n\r\n  return result\r\n}\r\n\r\n// Work around problem with bounding client rects on ranges being\r\n// returned incorrectly when zoomed on IE10 and below.\r\nfunction maybeUpdateRectForZooming(measure, rect) {\r\n  if (!window.screen || screen.logicalXDPI == null ||\r\n      screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\r\n    { return rect }\r\n  var scaleX = screen.logicalXDPI / screen.deviceXDPI\r\n  var scaleY = screen.logicalYDPI / screen.deviceYDPI\r\n  return {left: rect.left * scaleX, right: rect.right * scaleX,\r\n          top: rect.top * scaleY, bottom: rect.bottom * scaleY}\r\n}\r\n\r\nfunction clearLineMeasurementCacheFor(lineView) {\r\n  if (lineView.measure) {\r\n    lineView.measure.cache = {}\r\n    lineView.measure.heights = null\r\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\r\n      { lineView.measure.caches[i] = {} } }\r\n  }\r\n}\r\n\r\nfunction clearLineMeasurementCache(cm) {\r\n  cm.display.externalMeasure = null\r\n  removeChildren(cm.display.lineMeasure)\r\n  for (var i = 0; i < cm.display.view.length; i++)\r\n    { clearLineMeasurementCacheFor(cm.display.view[i]) }\r\n}\r\n\r\nfunction clearCaches(cm) {\r\n  clearLineMeasurementCache(cm)\r\n  cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null\r\n  if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true }\r\n  cm.display.lineNumChars = null\r\n}\r\n\r\nfunction pageScrollX() { return window.pageXOffset || (document.documentElement || document.body).scrollLeft }\r\nfunction pageScrollY() { return window.pageYOffset || (document.documentElement || document.body).scrollTop }\r\n\r\n// Converts a {top, bottom, left, right} box from line-local\r\n// coordinates into another coordinate system. Context may be one of\r\n// \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\r\n// or \"page\".\r\nfunction intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\r\n  if (!includeWidgets && lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above) {\r\n    var size = widgetHeight(lineObj.widgets[i])\r\n    rect.top += size; rect.bottom += size\r\n  } } }\r\n  if (context == \"line\") { return rect }\r\n  if (!context) { context = \"local\" }\r\n  var yOff = heightAtLine(lineObj)\r\n  if (context == \"local\") { yOff += paddingTop(cm.display) }\r\n  else { yOff -= cm.display.viewOffset }\r\n  if (context == \"page\" || context == \"window\") {\r\n    var lOff = cm.display.lineSpace.getBoundingClientRect()\r\n    yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY())\r\n    var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX())\r\n    rect.left += xOff; rect.right += xOff\r\n  }\r\n  rect.top += yOff; rect.bottom += yOff\r\n  return rect\r\n}\r\n\r\n// Coverts a box from \"div\" coords to another coordinate system.\r\n// Context may be \"window\", \"page\", \"div\", or \"local\"./null.\r\nfunction fromCoordSystem(cm, coords, context) {\r\n  if (context == \"div\") { return coords }\r\n  var left = coords.left, top = coords.top\r\n  // First move into \"page\" coordinate system\r\n  if (context == \"page\") {\r\n    left -= pageScrollX()\r\n    top -= pageScrollY()\r\n  } else if (context == \"local\" || !context) {\r\n    var localBox = cm.display.sizer.getBoundingClientRect()\r\n    left += localBox.left\r\n    top += localBox.top\r\n  }\r\n\r\n  var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect()\r\n  return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\r\n}\r\n\r\nfunction charCoords(cm, pos, context, lineObj, bias) {\r\n  if (!lineObj) { lineObj = getLine(cm.doc, pos.line) }\r\n  return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\r\n}\r\n\r\n// Returns a box for a given cursor position, which may have an\r\n// 'other' property containing the position of the secondary cursor\r\n// on a bidi boundary.\r\n// A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\r\n// and after `char - 1` in writing order of `char - 1`\r\n// A cursor Pos(line, char, \"after\") is on the same visual line as `char`\r\n// and before `char` in writing order of `char`\r\n// Examples (upper-case letters are RTL, lower-case are LTR):\r\n//     Pos(0, 1, ...)\r\n//     before   after\r\n// ab     a|b     a|b\r\n// aB     a|B     aB|\r\n// Ab     |Ab     A|b\r\n// AB     B|A     B|A\r\n// Every position after the last character on a line is considered to stick\r\n// to the last character on the line.\r\nfunction cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\r\n  lineObj = lineObj || getLine(cm.doc, pos.line)\r\n  if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj) }\r\n  function get(ch, right) {\r\n    var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight)\r\n    if (right) { m.left = m.right; } else { m.right = m.left }\r\n    return intoCoordSystem(cm, lineObj, m, context)\r\n  }\r\n  var order = getOrder(lineObj), ch = pos.ch, sticky = pos.sticky\r\n  if (ch >= lineObj.text.length) {\r\n    ch = lineObj.text.length\r\n    sticky = \"before\"\r\n  } else if (ch <= 0) {\r\n    ch = 0\r\n    sticky = \"after\"\r\n  }\r\n  if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\r\n\r\n  function getBidi(ch, partPos, invert) {\r\n    var part = order[partPos], right = (part.level % 2) != 0\r\n    return get(invert ? ch - 1 : ch, right != invert)\r\n  }\r\n  var partPos = getBidiPartAt(order, ch, sticky)\r\n  var other = bidiOther\r\n  var val = getBidi(ch, partPos, sticky == \"before\")\r\n  if (other != null) { val.other = getBidi(ch, other, sticky != \"before\") }\r\n  return val\r\n}\r\n\r\n// Used to cheaply estimate the coordinates for a position. Used for\r\n// intermediate scroll updates.\r\nfunction estimateCoords(cm, pos) {\r\n  var left = 0\r\n  pos = clipPos(cm.doc, pos)\r\n  if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch }\r\n  var lineObj = getLine(cm.doc, pos.line)\r\n  var top = heightAtLine(lineObj) + paddingTop(cm.display)\r\n  return {left: left, right: left, top: top, bottom: top + lineObj.height}\r\n}\r\n\r\n// Positions returned by coordsChar contain some extra information.\r\n// xRel is the relative x position of the input coordinates compared\r\n// to the found position (so xRel > 0 means the coordinates are to\r\n// the right of the character position, for example). When outside\r\n// is true, that means the coordinates lie outside the line's\r\n// vertical range.\r\nfunction PosWithInfo(line, ch, sticky, outside, xRel) {\r\n  var pos = Pos(line, ch, sticky)\r\n  pos.xRel = xRel\r\n  if (outside) { pos.outside = true }\r\n  return pos\r\n}\r\n\r\n// Compute the character position closest to the given coordinates.\r\n// Input must be lineSpace-local (\"div\" coordinate system).\r\nfunction coordsChar(cm, x, y) {\r\n  var doc = cm.doc\r\n  y += cm.display.viewOffset\r\n  if (y < 0) { return PosWithInfo(doc.first, 0, null, true, -1) }\r\n  var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1\r\n  if (lineN > last)\r\n    { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, true, 1) }\r\n  if (x < 0) { x = 0 }\r\n\r\n  var lineObj = getLine(doc, lineN)\r\n  for (;;) {\r\n    var found = coordsCharInner(cm, lineObj, lineN, x, y)\r\n    var merged = collapsedSpanAtEnd(lineObj)\r\n    var mergedPos = merged && merged.find(0, true)\r\n    if (merged && (found.ch > mergedPos.from.ch || found.ch == mergedPos.from.ch && found.xRel > 0))\r\n      { lineN = lineNo(lineObj = mergedPos.to.line) }\r\n    else\r\n      { return found }\r\n  }\r\n}\r\n\r\nfunction wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\r\n  var measure = function (ch) { return intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, ch), \"line\"); }\r\n  var end = lineObj.text.length\r\n  var begin = findFirst(function (ch) { return measure(ch - 1).bottom <= y; }, end, 0)\r\n  end = findFirst(function (ch) { return measure(ch).top > y; }, begin, end)\r\n  return {begin: begin, end: end}\r\n}\r\n\r\nfunction wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\r\n  var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top\r\n  return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\r\n}\r\n\r\nfunction coordsCharInner(cm, lineObj, lineNo, x, y) {\r\n  y -= heightAtLine(lineObj)\r\n  var begin = 0, end = lineObj.text.length\r\n  var preparedMeasure = prepareMeasureForLine(cm, lineObj)\r\n  var pos\r\n  var order = getOrder(lineObj)\r\n  if (order) {\r\n    if (cm.options.lineWrapping) {\r\n      ;var assign;\r\n      ((assign = wrappedLineExtent(cm, lineObj, preparedMeasure, y), begin = assign.begin, end = assign.end, assign))\r\n    }\r\n    pos = new Pos(lineNo, begin)\r\n    var beginLeft = cursorCoords(cm, pos, \"line\", lineObj, preparedMeasure).left\r\n    var dir = beginLeft < x ? 1 : -1\r\n    var prevDiff, diff = beginLeft - x, prevPos\r\n    do {\r\n      prevDiff = diff\r\n      prevPos = pos\r\n      pos = moveVisually(cm, lineObj, pos, dir)\r\n      if (pos == null || pos.ch < begin || end <= (pos.sticky == \"before\" ? pos.ch - 1 : pos.ch)) {\r\n        pos = prevPos\r\n        break\r\n      }\r\n      diff = cursorCoords(cm, pos, \"line\", lineObj, preparedMeasure).left - x\r\n    } while ((dir < 0) != (diff < 0) && (Math.abs(diff) <= Math.abs(prevDiff)))\r\n    if (Math.abs(diff) > Math.abs(prevDiff)) {\r\n      if ((diff < 0) == (prevDiff < 0)) { throw new Error(\"Broke out of infinite loop in coordsCharInner\") }\r\n      pos = prevPos\r\n    }\r\n  } else {\r\n    var ch = findFirst(function (ch) {\r\n      var box = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, ch), \"line\")\r\n      if (box.top > y) {\r\n        // For the cursor stickiness\r\n        end = Math.min(ch, end)\r\n        return true\r\n      }\r\n      else if (box.bottom <= y) { return false }\r\n      else if (box.left > x) { return true }\r\n      else if (box.right < x) { return false }\r\n      else { return (x - box.left < box.right - x) }\r\n    }, begin, end)\r\n    ch = skipExtendingChars(lineObj.text, ch, 1)\r\n    pos = new Pos(lineNo, ch, ch == end ? \"before\" : \"after\")\r\n  }\r\n  var coords = cursorCoords(cm, pos, \"line\", lineObj, preparedMeasure)\r\n  if (y < coords.top || coords.bottom < y) { pos.outside = true }\r\n  pos.xRel = x < coords.left ? -1 : (x > coords.right ? 1 : 0)\r\n  return pos\r\n}\r\n\r\nvar measureText\r\n// Compute the default text height.\r\nfunction textHeight(display) {\r\n  if (display.cachedTextHeight != null) { return display.cachedTextHeight }\r\n  if (measureText == null) {\r\n    measureText = elt(\"pre\")\r\n    // Measure a bunch of lines, for browsers that compute\r\n    // fractional heights.\r\n    for (var i = 0; i < 49; ++i) {\r\n      measureText.appendChild(document.createTextNode(\"x\"))\r\n      measureText.appendChild(elt(\"br\"))\r\n    }\r\n    measureText.appendChild(document.createTextNode(\"x\"))\r\n  }\r\n  removeChildrenAndAdd(display.measure, measureText)\r\n  var height = measureText.offsetHeight / 50\r\n  if (height > 3) { display.cachedTextHeight = height }\r\n  removeChildren(display.measure)\r\n  return height || 1\r\n}\r\n\r\n// Compute the default character width.\r\nfunction charWidth(display) {\r\n  if (display.cachedCharWidth != null) { return display.cachedCharWidth }\r\n  var anchor = elt(\"span\", \"xxxxxxxxxx\")\r\n  var pre = elt(\"pre\", [anchor])\r\n  removeChildrenAndAdd(display.measure, pre)\r\n  var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10\r\n  if (width > 2) { display.cachedCharWidth = width }\r\n  return width || 10\r\n}\r\n\r\n// Do a bulk-read of the DOM positions and sizes needed to draw the\r\n// view, so that we don't interleave reading and writing to the DOM.\r\nfunction getDimensions(cm) {\r\n  var d = cm.display, left = {}, width = {}\r\n  var gutterLeft = d.gutters.clientLeft\r\n  for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\r\n    left[cm.options.gutters[i]] = n.offsetLeft + n.clientLeft + gutterLeft\r\n    width[cm.options.gutters[i]] = n.clientWidth\r\n  }\r\n  return {fixedPos: compensateForHScroll(d),\r\n          gutterTotalWidth: d.gutters.offsetWidth,\r\n          gutterLeft: left,\r\n          gutterWidth: width,\r\n          wrapperWidth: d.wrapper.clientWidth}\r\n}\r\n\r\n// Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\r\n// but using getBoundingClientRect to get a sub-pixel-accurate\r\n// result.\r\nfunction compensateForHScroll(display) {\r\n  return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\r\n}\r\n\r\n// Returns a function that estimates the height of a line, to use as\r\n// first approximation until the line becomes visible (and is thus\r\n// properly measurable).\r\nfunction estimateHeight(cm) {\r\n  var th = textHeight(cm.display), wrapping = cm.options.lineWrapping\r\n  var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3)\r\n  return function (line) {\r\n    if (lineIsHidden(cm.doc, line)) { return 0 }\r\n\r\n    var widgetsHeight = 0\r\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\r\n      if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height }\r\n    } }\r\n\r\n    if (wrapping)\r\n      { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\r\n    else\r\n      { return widgetsHeight + th }\r\n  }\r\n}\r\n\r\nfunction estimateLineHeights(cm) {\r\n  var doc = cm.doc, est = estimateHeight(cm)\r\n  doc.iter(function (line) {\r\n    var estHeight = est(line)\r\n    if (estHeight != line.height) { updateLineHeight(line, estHeight) }\r\n  })\r\n}\r\n\r\n// Given a mouse event, find the corresponding position. If liberal\r\n// is false, it checks whether a gutter or scrollbar was clicked,\r\n// and returns null if it was. forRect is used by rectangular\r\n// selections, and tries to estimate a character position even for\r\n// coordinates beyond the right of the text.\r\nfunction posFromMouse(cm, e, liberal, forRect) {\r\n  var display = cm.display\r\n  if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\r\n\r\n  var x, y, space = display.lineSpace.getBoundingClientRect()\r\n  // Fails unpredictably on IE[67] when mouse is dragged around quickly.\r\n  try { x = e.clientX - space.left; y = e.clientY - space.top }\r\n  catch (e) { return null }\r\n  var coords = coordsChar(cm, x, y), line\r\n  if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\r\n    var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length\r\n    coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff))\r\n  }\r\n  return coords\r\n}\r\n\r\n// Find the view element corresponding to a given line. Return null\r\n// when the line isn't visible.\r\nfunction findViewIndex(cm, n) {\r\n  if (n >= cm.display.viewTo) { return null }\r\n  n -= cm.display.viewFrom\r\n  if (n < 0) { return null }\r\n  var view = cm.display.view\r\n  for (var i = 0; i < view.length; i++) {\r\n    n -= view[i].size\r\n    if (n < 0) { return i }\r\n  }\r\n}\r\n\r\nfunction updateSelection(cm) {\r\n  cm.display.input.showSelection(cm.display.input.prepareSelection())\r\n}\r\n\r\nfunction prepareSelection(cm, primary) {\r\n  var doc = cm.doc, result = {}\r\n  var curFragment = result.cursors = document.createDocumentFragment()\r\n  var selFragment = result.selection = document.createDocumentFragment()\r\n\r\n  for (var i = 0; i < doc.sel.ranges.length; i++) {\r\n    if (primary === false && i == doc.sel.primIndex) { continue }\r\n    var range = doc.sel.ranges[i]\r\n    if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\r\n    var collapsed = range.empty()\r\n    if (collapsed || cm.options.showCursorWhenSelecting)\r\n      { drawSelectionCursor(cm, range.head, curFragment) }\r\n    if (!collapsed)\r\n      { drawSelectionRange(cm, range, selFragment) }\r\n  }\r\n  return result\r\n}\r\n\r\n// Draws a cursor for the given range\r\nfunction drawSelectionCursor(cm, head, output) {\r\n  var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine)\r\n\r\n  var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"))\r\n  cursor.style.left = pos.left + \"px\"\r\n  cursor.style.top = pos.top + \"px\"\r\n  cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\"\r\n\r\n  if (pos.other) {\r\n    // Secondary cursor, shown when on a 'jump' in bi-directional text\r\n    var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"))\r\n    otherCursor.style.display = \"\"\r\n    otherCursor.style.left = pos.other.left + \"px\"\r\n    otherCursor.style.top = pos.other.top + \"px\"\r\n    otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\"\r\n  }\r\n}\r\n\r\n// Draws the given range as a highlighted selection\r\nfunction drawSelectionRange(cm, range, output) {\r\n  var display = cm.display, doc = cm.doc\r\n  var fragment = document.createDocumentFragment()\r\n  var padding = paddingH(cm.display), leftSide = padding.left\r\n  var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right\r\n\r\n  function add(left, top, width, bottom) {\r\n    if (top < 0) { top = 0 }\r\n    top = Math.round(top)\r\n    bottom = Math.round(bottom)\r\n    fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")))\r\n  }\r\n\r\n  function drawForLine(line, fromArg, toArg) {\r\n    var lineObj = getLine(doc, line)\r\n    var lineLen = lineObj.text.length\r\n    var start, end\r\n    function coords(ch, bias) {\r\n      return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\r\n    }\r\n\r\n    iterateBidiSections(getOrder(lineObj), fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir) {\r\n      var leftPos = coords(from, \"left\"), rightPos, left, right\r\n      if (from == to) {\r\n        rightPos = leftPos\r\n        left = right = leftPos.left\r\n      } else {\r\n        rightPos = coords(to - 1, \"right\")\r\n        if (dir == \"rtl\") { var tmp = leftPos; leftPos = rightPos; rightPos = tmp }\r\n        left = leftPos.left\r\n        right = rightPos.right\r\n      }\r\n      if (fromArg == null && from == 0) { left = leftSide }\r\n      if (rightPos.top - leftPos.top > 3) { // Different lines, draw top part\r\n        add(left, leftPos.top, null, leftPos.bottom)\r\n        left = leftSide\r\n        if (leftPos.bottom < rightPos.top) { add(left, leftPos.bottom, null, rightPos.top) }\r\n      }\r\n      if (toArg == null && to == lineLen) { right = rightSide }\r\n      if (!start || leftPos.top < start.top || leftPos.top == start.top && leftPos.left < start.left)\r\n        { start = leftPos }\r\n      if (!end || rightPos.bottom > end.bottom || rightPos.bottom == end.bottom && rightPos.right > end.right)\r\n        { end = rightPos }\r\n      if (left < leftSide + 1) { left = leftSide }\r\n      add(left, rightPos.top, right - left, rightPos.bottom)\r\n    })\r\n    return {start: start, end: end}\r\n  }\r\n\r\n  var sFrom = range.from(), sTo = range.to()\r\n  if (sFrom.line == sTo.line) {\r\n    drawForLine(sFrom.line, sFrom.ch, sTo.ch)\r\n  } else {\r\n    var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line)\r\n    var singleVLine = visualLine(fromLine) == visualLine(toLine)\r\n    var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end\r\n    var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start\r\n    if (singleVLine) {\r\n      if (leftEnd.top < rightStart.top - 2) {\r\n        add(leftEnd.right, leftEnd.top, null, leftEnd.bottom)\r\n        add(leftSide, rightStart.top, rightStart.left, rightStart.bottom)\r\n      } else {\r\n        add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom)\r\n      }\r\n    }\r\n    if (leftEnd.bottom < rightStart.top)\r\n      { add(leftSide, leftEnd.bottom, null, rightStart.top) }\r\n  }\r\n\r\n  output.appendChild(fragment)\r\n}\r\n\r\n// Cursor-blinking\r\nfunction restartBlink(cm) {\r\n  if (!cm.state.focused) { return }\r\n  var display = cm.display\r\n  clearInterval(display.blinker)\r\n  var on = true\r\n  display.cursorDiv.style.visibility = \"\"\r\n  if (cm.options.cursorBlinkRate > 0)\r\n    { display.blinker = setInterval(function () { return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\"; },\r\n      cm.options.cursorBlinkRate) }\r\n  else if (cm.options.cursorBlinkRate < 0)\r\n    { display.cursorDiv.style.visibility = \"hidden\" }\r\n}\r\n\r\nfunction ensureFocus(cm) {\r\n  if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm) }\r\n}\r\n\r\nfunction delayBlurEvent(cm) {\r\n  cm.state.delayingBlurEvent = true\r\n  setTimeout(function () { if (cm.state.delayingBlurEvent) {\r\n    cm.state.delayingBlurEvent = false\r\n    onBlur(cm)\r\n  } }, 100)\r\n}\r\n\r\nfunction onFocus(cm, e) {\r\n  if (cm.state.delayingBlurEvent) { cm.state.delayingBlurEvent = false }\r\n\r\n  if (cm.options.readOnly == \"nocursor\") { return }\r\n  if (!cm.state.focused) {\r\n    signal(cm, \"focus\", cm, e)\r\n    cm.state.focused = true\r\n    addClass(cm.display.wrapper, \"CodeMirror-focused\")\r\n    // This test prevents this from firing when a context\r\n    // menu is closed (since the input reset would kill the\r\n    // select-all detection hack)\r\n    if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\r\n      cm.display.input.reset()\r\n      if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20) } // Issue #1730\r\n    }\r\n    cm.display.input.receivedFocus()\r\n  }\r\n  restartBlink(cm)\r\n}\r\nfunction onBlur(cm, e) {\r\n  if (cm.state.delayingBlurEvent) { return }\r\n\r\n  if (cm.state.focused) {\r\n    signal(cm, \"blur\", cm, e)\r\n    cm.state.focused = false\r\n    rmClass(cm.display.wrapper, \"CodeMirror-focused\")\r\n  }\r\n  clearInterval(cm.display.blinker)\r\n  setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false } }, 150)\r\n}\r\n\r\n// Re-align line numbers and gutter marks to compensate for\r\n// horizontal scrolling.\r\nfunction alignHorizontally(cm) {\r\n  var display = cm.display, view = display.view\r\n  if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\r\n  var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft\r\n  var gutterW = display.gutters.offsetWidth, left = comp + \"px\"\r\n  for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\r\n    if (cm.options.fixedGutter) {\r\n      if (view[i].gutter)\r\n        { view[i].gutter.style.left = left }\r\n      if (view[i].gutterBackground)\r\n        { view[i].gutterBackground.style.left = left }\r\n    }\r\n    var align = view[i].alignable\r\n    if (align) { for (var j = 0; j < align.length; j++)\r\n      { align[j].style.left = left } }\r\n  } }\r\n  if (cm.options.fixedGutter)\r\n    { display.gutters.style.left = (comp + gutterW) + \"px\" }\r\n}\r\n\r\n// Used to ensure that the line number gutter is still the right\r\n// size for the current document size. Returns true when an update\r\n// is needed.\r\nfunction maybeUpdateLineNumberWidth(cm) {\r\n  if (!cm.options.lineNumbers) { return false }\r\n  var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display\r\n  if (last.length != display.lineNumChars) {\r\n    var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\r\n                                               \"CodeMirror-linenumber CodeMirror-gutter-elt\"))\r\n    var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW\r\n    display.lineGutter.style.width = \"\"\r\n    display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1\r\n    display.lineNumWidth = display.lineNumInnerWidth + padding\r\n    display.lineNumChars = display.lineNumInnerWidth ? last.length : -1\r\n    display.lineGutter.style.width = display.lineNumWidth + \"px\"\r\n    updateGutterSpace(cm)\r\n    return true\r\n  }\r\n  return false\r\n}\r\n\r\n// Read the actual heights of the rendered lines, and update their\r\n// stored heights to match.\r\nfunction updateHeightsInViewport(cm) {\r\n  var display = cm.display\r\n  var prevBottom = display.lineDiv.offsetTop\r\n  for (var i = 0; i < display.view.length; i++) {\r\n    var cur = display.view[i], height = (void 0)\r\n    if (cur.hidden) { continue }\r\n    if (ie && ie_version < 8) {\r\n      var bot = cur.node.offsetTop + cur.node.offsetHeight\r\n      height = bot - prevBottom\r\n      prevBottom = bot\r\n    } else {\r\n      var box = cur.node.getBoundingClientRect()\r\n      height = box.bottom - box.top\r\n    }\r\n    var diff = cur.line.height - height\r\n    if (height < 2) { height = textHeight(display) }\r\n    if (diff > .001 || diff < -.001) {\r\n      updateLineHeight(cur.line, height)\r\n      updateWidgetHeight(cur.line)\r\n      if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\r\n        { updateWidgetHeight(cur.rest[j]) } }\r\n    }\r\n  }\r\n}\r\n\r\n// Read and store the height of line widgets associated with the\r\n// given line.\r\nfunction updateWidgetHeight(line) {\r\n  if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i)\r\n    { line.widgets[i].height = line.widgets[i].node.parentNode.offsetHeight } }\r\n}\r\n\r\n// Compute the lines that are visible in a given viewport (defaults\r\n// the the current scroll position). viewport may contain top,\r\n// height, and ensure (see op.scrollToPos) properties.\r\nfunction visibleLines(display, doc, viewport) {\r\n  var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop\r\n  top = Math.floor(top - paddingTop(display))\r\n  var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight\r\n\r\n  var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom)\r\n  // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\r\n  // forces those lines into the viewport (if possible).\r\n  if (viewport && viewport.ensure) {\r\n    var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line\r\n    if (ensureFrom < from) {\r\n      from = ensureFrom\r\n      to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight)\r\n    } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\r\n      from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight)\r\n      to = ensureTo\r\n    }\r\n  }\r\n  return {from: from, to: Math.max(to, from + 1)}\r\n}\r\n\r\n// Sync the scrollable area and scrollbars, ensure the viewport\r\n// covers the visible area.\r\nfunction setScrollTop(cm, val) {\r\n  if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\r\n  cm.doc.scrollTop = val\r\n  if (!gecko) { updateDisplaySimple(cm, {top: val}) }\r\n  if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val }\r\n  cm.display.scrollbars.setScrollTop(val)\r\n  if (gecko) { updateDisplaySimple(cm) }\r\n  startWorker(cm, 100)\r\n}\r\n// Sync scroller and scrollbar, ensure the gutter elements are\r\n// aligned.\r\nfunction setScrollLeft(cm, val, isScroller) {\r\n  if (isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) { return }\r\n  val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth)\r\n  cm.doc.scrollLeft = val\r\n  alignHorizontally(cm)\r\n  if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val }\r\n  cm.display.scrollbars.setScrollLeft(val)\r\n}\r\n\r\n// Since the delta values reported on mouse wheel events are\r\n// unstandardized between browsers and even browser versions, and\r\n// generally horribly unpredictable, this code starts by measuring\r\n// the scroll effect that the first few mouse wheel events have,\r\n// and, from that, detects the way it can convert deltas to pixel\r\n// offsets afterwards.\r\n//\r\n// The reason we want to know the amount a wheel event will scroll\r\n// is that it gives us a chance to update the display before the\r\n// actual scrolling happens, reducing flickering.\r\n\r\nvar wheelSamples = 0;\r\nvar wheelPixelsPerUnit = null;\r\n// Fill in a browser-detected starting value on browsers where we\r\n// know one. These don't have to be accurate -- the result of them\r\n// being wrong would just be a slight flicker on the first wheel\r\n// scroll (if it is large enough).\r\nif (ie) { wheelPixelsPerUnit = -.53 }\r\nelse if (gecko) { wheelPixelsPerUnit = 15 }\r\nelse if (chrome) { wheelPixelsPerUnit = -.7 }\r\nelse if (safari) { wheelPixelsPerUnit = -1/3 }\r\n\r\nfunction wheelEventDelta(e) {\r\n  var dx = e.wheelDeltaX, dy = e.wheelDeltaY\r\n  if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail }\r\n  if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail }\r\n  else if (dy == null) { dy = e.wheelDelta }\r\n  return {x: dx, y: dy}\r\n}\r\nfunction wheelEventPixels(e) {\r\n  var delta = wheelEventDelta(e)\r\n  delta.x *= wheelPixelsPerUnit\r\n  delta.y *= wheelPixelsPerUnit\r\n  return delta\r\n}\r\n\r\nfunction onScrollWheel(cm, e) {\r\n  var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y\r\n\r\n  var display = cm.display, scroll = display.scroller\r\n  // Quit if there's nothing to scroll here\r\n  var canScrollX = scroll.scrollWidth > scroll.clientWidth\r\n  var canScrollY = scroll.scrollHeight > scroll.clientHeight\r\n  if (!(dx && canScrollX || dy && canScrollY)) { return }\r\n\r\n  // Webkit browsers on OS X abort momentum scrolls when the target\r\n  // of the scroll event is removed from the scrollable element.\r\n  // This hack (see related code in patchDisplay) makes sure the\r\n  // element is kept around.\r\n  if (dy && mac && webkit) {\r\n    outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\r\n      for (var i = 0; i < view.length; i++) {\r\n        if (view[i].node == cur) {\r\n          cm.display.currentWheelTarget = cur\r\n          break outer\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // On some browsers, horizontal scrolling will cause redraws to\r\n  // happen before the gutter has been realigned, causing it to\r\n  // wriggle around in a most unseemly way. When we have an\r\n  // estimated pixels/delta value, we just handle horizontal\r\n  // scrolling entirely here. It'll be slightly off from native, but\r\n  // better than glitching out.\r\n  if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\r\n    if (dy && canScrollY)\r\n      { setScrollTop(cm, Math.max(0, Math.min(scroll.scrollTop + dy * wheelPixelsPerUnit, scroll.scrollHeight - scroll.clientHeight))) }\r\n    setScrollLeft(cm, Math.max(0, Math.min(scroll.scrollLeft + dx * wheelPixelsPerUnit, scroll.scrollWidth - scroll.clientWidth)))\r\n    // Only prevent default scrolling if vertical scrolling is\r\n    // actually possible. Otherwise, it causes vertical scroll\r\n    // jitter on OSX trackpads when deltaX is small and deltaY\r\n    // is large (issue #3579)\r\n    if (!dy || (dy && canScrollY))\r\n      { e_preventDefault(e) }\r\n    display.wheelStartX = null // Abort measurement, if in progress\r\n    return\r\n  }\r\n\r\n  // 'Project' the visible viewport to cover the area that is being\r\n  // scrolled into view (if we know enough to estimate it).\r\n  if (dy && wheelPixelsPerUnit != null) {\r\n    var pixels = dy * wheelPixelsPerUnit\r\n    var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight\r\n    if (pixels < 0) { top = Math.max(0, top + pixels - 50) }\r\n    else { bot = Math.min(cm.doc.height, bot + pixels + 50) }\r\n    updateDisplaySimple(cm, {top: top, bottom: bot})\r\n  }\r\n\r\n  if (wheelSamples < 20) {\r\n    if (display.wheelStartX == null) {\r\n      display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop\r\n      display.wheelDX = dx; display.wheelDY = dy\r\n      setTimeout(function () {\r\n        if (display.wheelStartX == null) { return }\r\n        var movedX = scroll.scrollLeft - display.wheelStartX\r\n        var movedY = scroll.scrollTop - display.wheelStartY\r\n        var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\r\n          (movedX && display.wheelDX && movedX / display.wheelDX)\r\n        display.wheelStartX = display.wheelStartY = null\r\n        if (!sample) { return }\r\n        wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1)\r\n        ++wheelSamples\r\n      }, 200)\r\n    } else {\r\n      display.wheelDX += dx; display.wheelDY += dy\r\n    }\r\n  }\r\n}\r\n\r\n// SCROLLBARS\r\n\r\n// Prepare DOM reads needed to update the scrollbars. Done in one\r\n// shot to minimize update/measure roundtrips.\r\nfunction measureForScrollbars(cm) {\r\n  var d = cm.display, gutterW = d.gutters.offsetWidth\r\n  var docH = Math.round(cm.doc.height + paddingVert(cm.display))\r\n  return {\r\n    clientHeight: d.scroller.clientHeight,\r\n    viewHeight: d.wrapper.clientHeight,\r\n    scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\r\n    viewWidth: d.wrapper.clientWidth,\r\n    barLeft: cm.options.fixedGutter ? gutterW : 0,\r\n    docHeight: docH,\r\n    scrollHeight: docH + scrollGap(cm) + d.barHeight,\r\n    nativeBarWidth: d.nativeBarWidth,\r\n    gutterWidth: gutterW\r\n  }\r\n}\r\n\r\nvar NativeScrollbars = function(place, scroll, cm) {\r\n  this.cm = cm\r\n  var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\")\r\n  var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\")\r\n  place(vert); place(horiz)\r\n\r\n  on(vert, \"scroll\", function () {\r\n    if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\") }\r\n  })\r\n  on(horiz, \"scroll\", function () {\r\n    if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\") }\r\n  })\r\n\r\n  this.checkedZeroWidth = false\r\n  // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\r\n  if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\" }\r\n};\r\n\r\nNativeScrollbars.prototype.update = function (measure) {\r\n  var needsH = measure.scrollWidth > measure.clientWidth + 1\r\n  var needsV = measure.scrollHeight > measure.clientHeight + 1\r\n  var sWidth = measure.nativeBarWidth\r\n\r\n  if (needsV) {\r\n    this.vert.style.display = \"block\"\r\n    this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\"\r\n    var totalHeight = measure.viewHeight - (needsH ? sWidth : 0)\r\n    // A bug in IE8 can cause this value to be negative, so guard it.\r\n    this.vert.firstChild.style.height =\r\n      Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\"\r\n  } else {\r\n    this.vert.style.display = \"\"\r\n    this.vert.firstChild.style.height = \"0\"\r\n  }\r\n\r\n  if (needsH) {\r\n    this.horiz.style.display = \"block\"\r\n    this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\"\r\n    this.horiz.style.left = measure.barLeft + \"px\"\r\n    var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0)\r\n    this.horiz.firstChild.style.width =\r\n      Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\"\r\n  } else {\r\n    this.horiz.style.display = \"\"\r\n    this.horiz.firstChild.style.width = \"0\"\r\n  }\r\n\r\n  if (!this.checkedZeroWidth && measure.clientHeight > 0) {\r\n    if (sWidth == 0) { this.zeroWidthHack() }\r\n    this.checkedZeroWidth = true\r\n  }\r\n\r\n  return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\r\n};\r\n\r\nNativeScrollbars.prototype.setScrollLeft = function (pos) {\r\n  if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos }\r\n  if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz) }\r\n};\r\n\r\nNativeScrollbars.prototype.setScrollTop = function (pos) {\r\n  if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos }\r\n  if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert) }\r\n};\r\n\r\nNativeScrollbars.prototype.zeroWidthHack = function () {\r\n  var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\"\r\n  this.horiz.style.height = this.vert.style.width = w\r\n  this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\"\r\n  this.disableHoriz = new Delayed\r\n  this.disableVert = new Delayed\r\n};\r\n\r\nNativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay) {\r\n  bar.style.pointerEvents = \"auto\"\r\n  function maybeDisable() {\r\n    // To find out whether the scrollbar is still visible, we\r\n    // check whether the element under the pixel in the bottom\r\n    // left corner of the scrollbar box is the scrollbar box\r\n    // itself (when the bar is still visible) or its filler child\r\n    // (when the bar is hidden). If it is still visible, we keep\r\n    // it enabled, if it's hidden, we disable pointer events.\r\n    var box = bar.getBoundingClientRect()\r\n    var elt = document.elementFromPoint(box.left + 1, box.bottom - 1)\r\n    if (elt != bar) { bar.style.pointerEvents = \"none\" }\r\n    else { delay.set(1000, maybeDisable) }\r\n  }\r\n  delay.set(1000, maybeDisable)\r\n};\r\n\r\nNativeScrollbars.prototype.clear = function () {\r\n  var parent = this.horiz.parentNode\r\n  parent.removeChild(this.horiz)\r\n  parent.removeChild(this.vert)\r\n};\r\n\r\nvar NullScrollbars = function () {};\r\n\r\nNullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\r\nNullScrollbars.prototype.setScrollLeft = function () {};\r\nNullScrollbars.prototype.setScrollTop = function () {};\r\nNullScrollbars.prototype.clear = function () {};\r\n\r\nfunction updateScrollbars(cm, measure) {\r\n  if (!measure) { measure = measureForScrollbars(cm) }\r\n  var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight\r\n  updateScrollbarsInner(cm, measure)\r\n  for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\r\n    if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\r\n      { updateHeightsInViewport(cm) }\r\n    updateScrollbarsInner(cm, measureForScrollbars(cm))\r\n    startWidth = cm.display.barWidth; startHeight = cm.display.barHeight\r\n  }\r\n}\r\n\r\n// Re-synchronize the fake scrollbars with the actual size of the\r\n// content.\r\nfunction updateScrollbarsInner(cm, measure) {\r\n  var d = cm.display\r\n  var sizes = d.scrollbars.update(measure)\r\n\r\n  d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\"\r\n  d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\"\r\n  d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\"\r\n\r\n  if (sizes.right && sizes.bottom) {\r\n    d.scrollbarFiller.style.display = \"block\"\r\n    d.scrollbarFiller.style.height = sizes.bottom + \"px\"\r\n    d.scrollbarFiller.style.width = sizes.right + \"px\"\r\n  } else { d.scrollbarFiller.style.display = \"\" }\r\n  if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\r\n    d.gutterFiller.style.display = \"block\"\r\n    d.gutterFiller.style.height = sizes.bottom + \"px\"\r\n    d.gutterFiller.style.width = measure.gutterWidth + \"px\"\r\n  } else { d.gutterFiller.style.display = \"\" }\r\n}\r\n\r\nvar scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars}\r\n\r\nfunction initScrollbars(cm) {\r\n  if (cm.display.scrollbars) {\r\n    cm.display.scrollbars.clear()\r\n    if (cm.display.scrollbars.addClass)\r\n      { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass) }\r\n  }\r\n\r\n  cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\r\n    cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller)\r\n    // Prevent clicks in the scrollbars from killing focus\r\n    on(node, \"mousedown\", function () {\r\n      if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0) }\r\n    })\r\n    node.setAttribute(\"cm-not-content\", \"true\")\r\n  }, function (pos, axis) {\r\n    if (axis == \"horizontal\") { setScrollLeft(cm, pos) }\r\n    else { setScrollTop(cm, pos) }\r\n  }, cm)\r\n  if (cm.display.scrollbars.addClass)\r\n    { addClass(cm.display.wrapper, cm.display.scrollbars.addClass) }\r\n}\r\n\r\n// SCROLLING THINGS INTO VIEW\r\n\r\n// If an editor sits on the top or bottom of the window, partially\r\n// scrolled out of view, this ensures that the cursor is visible.\r\nfunction maybeScrollWindow(cm, coords) {\r\n  if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\r\n\r\n  var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null\r\n  if (coords.top + box.top < 0) { doScroll = true }\r\n  else if (coords.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false }\r\n  if (doScroll != null && !phantom) {\r\n    var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (coords.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (coords.bottom - coords.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (coords.left) + \"px; width: 2px;\"))\r\n    cm.display.lineSpace.appendChild(scrollNode)\r\n    scrollNode.scrollIntoView(doScroll)\r\n    cm.display.lineSpace.removeChild(scrollNode)\r\n  }\r\n}\r\n\r\n// Scroll a given position into view (immediately), verifying that\r\n// it actually became visible (as line heights are accurately\r\n// measured, the position of something may 'drift' during drawing).\r\nfunction scrollPosIntoView(cm, pos, end, margin) {\r\n  if (margin == null) { margin = 0 }\r\n  var coords\r\n  for (var limit = 0; limit < 5; limit++) {\r\n    var changed = false\r\n    coords = cursorCoords(cm, pos)\r\n    var endCoords = !end || end == pos ? coords : cursorCoords(cm, end)\r\n    var scrollPos = calculateScrollPos(cm, Math.min(coords.left, endCoords.left),\r\n                                       Math.min(coords.top, endCoords.top) - margin,\r\n                                       Math.max(coords.left, endCoords.left),\r\n                                       Math.max(coords.bottom, endCoords.bottom) + margin)\r\n    var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft\r\n    if (scrollPos.scrollTop != null) {\r\n      setScrollTop(cm, scrollPos.scrollTop)\r\n      if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true }\r\n    }\r\n    if (scrollPos.scrollLeft != null) {\r\n      setScrollLeft(cm, scrollPos.scrollLeft)\r\n      if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true }\r\n    }\r\n    if (!changed) { break }\r\n  }\r\n  return coords\r\n}\r\n\r\n// Scroll a given set of coordinates into view (immediately).\r\nfunction scrollIntoView(cm, x1, y1, x2, y2) {\r\n  var scrollPos = calculateScrollPos(cm, x1, y1, x2, y2)\r\n  if (scrollPos.scrollTop != null) { setScrollTop(cm, scrollPos.scrollTop) }\r\n  if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft) }\r\n}\r\n\r\n// Calculate a new scroll position needed to scroll the given\r\n// rectangle into view. Returns an object with scrollTop and\r\n// scrollLeft properties. When these are undefined, the\r\n// vertical/horizontal position does not need to be adjusted.\r\nfunction calculateScrollPos(cm, x1, y1, x2, y2) {\r\n  var display = cm.display, snapMargin = textHeight(cm.display)\r\n  if (y1 < 0) { y1 = 0 }\r\n  var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop\r\n  var screen = displayHeight(cm), result = {}\r\n  if (y2 - y1 > screen) { y2 = y1 + screen }\r\n  var docBottom = cm.doc.height + paddingVert(display)\r\n  var atTop = y1 < snapMargin, atBottom = y2 > docBottom - snapMargin\r\n  if (y1 < screentop) {\r\n    result.scrollTop = atTop ? 0 : y1\r\n  } else if (y2 > screentop + screen) {\r\n    var newTop = Math.min(y1, (atBottom ? docBottom : y2) - screen)\r\n    if (newTop != screentop) { result.scrollTop = newTop }\r\n  }\r\n\r\n  var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft\r\n  var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0)\r\n  var tooWide = x2 - x1 > screenw\r\n  if (tooWide) { x2 = x1 + screenw }\r\n  if (x1 < 10)\r\n    { result.scrollLeft = 0 }\r\n  else if (x1 < screenleft)\r\n    { result.scrollLeft = Math.max(0, x1 - (tooWide ? 0 : 10)) }\r\n  else if (x2 > screenw + screenleft - 3)\r\n    { result.scrollLeft = x2 + (tooWide ? 0 : 10) - screenw }\r\n  return result\r\n}\r\n\r\n// Store a relative adjustment to the scroll position in the current\r\n// operation (to be applied when the operation finishes).\r\nfunction addToScrollPos(cm, left, top) {\r\n  if (left != null || top != null) { resolveScrollToPos(cm) }\r\n  if (left != null)\r\n    { cm.curOp.scrollLeft = (cm.curOp.scrollLeft == null ? cm.doc.scrollLeft : cm.curOp.scrollLeft) + left }\r\n  if (top != null)\r\n    { cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top }\r\n}\r\n\r\n// Make sure that at the end of the operation the current cursor is\r\n// shown.\r\nfunction ensureCursorVisible(cm) {\r\n  resolveScrollToPos(cm)\r\n  var cur = cm.getCursor(), from = cur, to = cur\r\n  if (!cm.options.lineWrapping) {\r\n    from = cur.ch ? Pos(cur.line, cur.ch - 1) : cur\r\n    to = Pos(cur.line, cur.ch + 1)\r\n  }\r\n  cm.curOp.scrollToPos = {from: from, to: to, margin: cm.options.cursorScrollMargin, isCursor: true}\r\n}\r\n\r\n// When an operation has its scrollToPos property set, and another\r\n// scroll action is applied before the end of the operation, this\r\n// 'simulates' scrolling that position into view in a cheap way, so\r\n// that the effect of intermediate scroll commands is not ignored.\r\nfunction resolveScrollToPos(cm) {\r\n  var range = cm.curOp.scrollToPos\r\n  if (range) {\r\n    cm.curOp.scrollToPos = null\r\n    var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to)\r\n    var sPos = calculateScrollPos(cm, Math.min(from.left, to.left),\r\n                                  Math.min(from.top, to.top) - range.margin,\r\n                                  Math.max(from.right, to.right),\r\n                                  Math.max(from.bottom, to.bottom) + range.margin)\r\n    cm.scrollTo(sPos.scrollLeft, sPos.scrollTop)\r\n  }\r\n}\r\n\r\n// Operations are used to wrap a series of changes to the editor\r\n// state in such a way that each change won't have to update the\r\n// cursor and display (which would be awkward, slow, and\r\n// error-prone). Instead, display updates are batched and then all\r\n// combined and executed at once.\r\n\r\nvar nextOpId = 0\r\n// Start a new operation.\r\nfunction startOperation(cm) {\r\n  cm.curOp = {\r\n    cm: cm,\r\n    viewChanged: false,      // Flag that indicates that lines might need to be redrawn\r\n    startHeight: cm.doc.height, // Used to detect need to update scrollbar\r\n    forceUpdate: false,      // Used to force a redraw\r\n    updateInput: null,       // Whether to reset the input textarea\r\n    typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\r\n    changeObjs: null,        // Accumulated changes, for firing change events\r\n    cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\r\n    cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\r\n    selectionChanged: false, // Whether the selection needs to be redrawn\r\n    updateMaxLine: false,    // Set when the widest line needs to be determined anew\r\n    scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\r\n    scrollToPos: null,       // Used to scroll to a specific position\r\n    focus: false,\r\n    id: ++nextOpId           // Unique ID\r\n  }\r\n  pushOperation(cm.curOp)\r\n}\r\n\r\n// Finish an operation, updating the display and signalling delayed events\r\nfunction endOperation(cm) {\r\n  var op = cm.curOp\r\n  finishOperation(op, function (group) {\r\n    for (var i = 0; i < group.ops.length; i++)\r\n      { group.ops[i].cm.curOp = null }\r\n    endOperations(group)\r\n  })\r\n}\r\n\r\n// The DOM updates done when an operation finishes are batched so\r\n// that the minimum number of relayouts are required.\r\nfunction endOperations(group) {\r\n  var ops = group.ops\r\n  for (var i = 0; i < ops.length; i++) // Read DOM\r\n    { endOperation_R1(ops[i]) }\r\n  for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\r\n    { endOperation_W1(ops[i$1]) }\r\n  for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\r\n    { endOperation_R2(ops[i$2]) }\r\n  for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\r\n    { endOperation_W2(ops[i$3]) }\r\n  for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\r\n    { endOperation_finish(ops[i$4]) }\r\n}\r\n\r\nfunction endOperation_R1(op) {\r\n  var cm = op.cm, display = cm.display\r\n  maybeClipScrollbars(cm)\r\n  if (op.updateMaxLine) { findMaxLine(cm) }\r\n\r\n  op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\r\n    op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\r\n                       op.scrollToPos.to.line >= display.viewTo) ||\r\n    display.maxLineChanged && cm.options.lineWrapping\r\n  op.update = op.mustUpdate &&\r\n    new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate)\r\n}\r\n\r\nfunction endOperation_W1(op) {\r\n  op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update)\r\n}\r\n\r\nfunction endOperation_R2(op) {\r\n  var cm = op.cm, display = cm.display\r\n  if (op.updatedDisplay) { updateHeightsInViewport(cm) }\r\n\r\n  op.barMeasure = measureForScrollbars(cm)\r\n\r\n  // If the max line changed since it was last measured, measure it,\r\n  // and ensure the document's width matches it.\r\n  // updateDisplay_W2 will use these properties to do the actual resizing\r\n  if (display.maxLineChanged && !cm.options.lineWrapping) {\r\n    op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3\r\n    cm.display.sizerWidth = op.adjustWidthTo\r\n    op.barMeasure.scrollWidth =\r\n      Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth)\r\n    op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm))\r\n  }\r\n\r\n  if (op.updatedDisplay || op.selectionChanged)\r\n    { op.preparedSelection = display.input.prepareSelection(op.focus) }\r\n}\r\n\r\nfunction endOperation_W2(op) {\r\n  var cm = op.cm\r\n\r\n  if (op.adjustWidthTo != null) {\r\n    cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\"\r\n    if (op.maxScrollLeft < cm.doc.scrollLeft)\r\n      { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true) }\r\n    cm.display.maxLineChanged = false\r\n  }\r\n\r\n  var takeFocus = op.focus && op.focus == activeElt() && (!document.hasFocus || document.hasFocus())\r\n  if (op.preparedSelection)\r\n    { cm.display.input.showSelection(op.preparedSelection, takeFocus) }\r\n  if (op.updatedDisplay || op.startHeight != cm.doc.height)\r\n    { updateScrollbars(cm, op.barMeasure) }\r\n  if (op.updatedDisplay)\r\n    { setDocumentHeight(cm, op.barMeasure) }\r\n\r\n  if (op.selectionChanged) { restartBlink(cm) }\r\n\r\n  if (cm.state.focused && op.updateInput)\r\n    { cm.display.input.reset(op.typing) }\r\n  if (takeFocus) { ensureFocus(op.cm) }\r\n}\r\n\r\nfunction endOperation_finish(op) {\r\n  var cm = op.cm, display = cm.display, doc = cm.doc\r\n\r\n  if (op.updatedDisplay) { postUpdateDisplay(cm, op.update) }\r\n\r\n  // Abort mouse wheel delta measurement, when scrolling explicitly\r\n  if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\r\n    { display.wheelStartX = display.wheelStartY = null }\r\n\r\n  // Propagate the scroll position to the actual DOM scroller\r\n  if (op.scrollTop != null && (display.scroller.scrollTop != op.scrollTop || op.forceScroll)) {\r\n    doc.scrollTop = Math.max(0, Math.min(display.scroller.scrollHeight - display.scroller.clientHeight, op.scrollTop))\r\n    display.scrollbars.setScrollTop(doc.scrollTop)\r\n    display.scroller.scrollTop = doc.scrollTop\r\n  }\r\n  if (op.scrollLeft != null && (display.scroller.scrollLeft != op.scrollLeft || op.forceScroll)) {\r\n    doc.scrollLeft = Math.max(0, Math.min(display.scroller.scrollWidth - display.scroller.clientWidth, op.scrollLeft))\r\n    display.scrollbars.setScrollLeft(doc.scrollLeft)\r\n    display.scroller.scrollLeft = doc.scrollLeft\r\n    alignHorizontally(cm)\r\n  }\r\n  // If we need to scroll a specific position into view, do so.\r\n  if (op.scrollToPos) {\r\n    var coords = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\r\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin)\r\n    if (op.scrollToPos.isCursor && cm.state.focused) { maybeScrollWindow(cm, coords) }\r\n  }\r\n\r\n  // Fire events for markers that are hidden/unidden by editing or\r\n  // undoing\r\n  var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers\r\n  if (hidden) { for (var i = 0; i < hidden.length; ++i)\r\n    { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\") } } }\r\n  if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\r\n    { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\") } } }\r\n\r\n  if (display.wrapper.offsetHeight)\r\n    { doc.scrollTop = cm.display.scroller.scrollTop }\r\n\r\n  // Fire change events, and delayed event handlers\r\n  if (op.changeObjs)\r\n    { signal(cm, \"changes\", cm, op.changeObjs) }\r\n  if (op.update)\r\n    { op.update.finish() }\r\n}\r\n\r\n// Run the given function in an operation\r\nfunction runInOp(cm, f) {\r\n  if (cm.curOp) { return f() }\r\n  startOperation(cm)\r\n  try { return f() }\r\n  finally { endOperation(cm) }\r\n}\r\n// Wraps a function in an operation. Returns the wrapped function.\r\nfunction operation(cm, f) {\r\n  return function() {\r\n    if (cm.curOp) { return f.apply(cm, arguments) }\r\n    startOperation(cm)\r\n    try { return f.apply(cm, arguments) }\r\n    finally { endOperation(cm) }\r\n  }\r\n}\r\n// Used to add methods to editor and doc instances, wrapping them in\r\n// operations.\r\nfunction methodOp(f) {\r\n  return function() {\r\n    if (this.curOp) { return f.apply(this, arguments) }\r\n    startOperation(this)\r\n    try { return f.apply(this, arguments) }\r\n    finally { endOperation(this) }\r\n  }\r\n}\r\nfunction docMethodOp(f) {\r\n  return function() {\r\n    var cm = this.cm\r\n    if (!cm || cm.curOp) { return f.apply(this, arguments) }\r\n    startOperation(cm)\r\n    try { return f.apply(this, arguments) }\r\n    finally { endOperation(cm) }\r\n  }\r\n}\r\n\r\n// Updates the display.view data structure for a given change to the\r\n// document. From and to are in pre-change coordinates. Lendiff is\r\n// the amount of lines added or subtracted by the change. This is\r\n// used for changes that span multiple lines, or change the way\r\n// lines are divided into visual lines. regLineChange (below)\r\n// registers single-line changes.\r\nfunction regChange(cm, from, to, lendiff) {\r\n  if (from == null) { from = cm.doc.first }\r\n  if (to == null) { to = cm.doc.first + cm.doc.size }\r\n  if (!lendiff) { lendiff = 0 }\r\n\r\n  var display = cm.display\r\n  if (lendiff && to < display.viewTo &&\r\n      (display.updateLineNumbers == null || display.updateLineNumbers > from))\r\n    { display.updateLineNumbers = from }\r\n\r\n  cm.curOp.viewChanged = true\r\n\r\n  if (from >= display.viewTo) { // Change after\r\n    if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\r\n      { resetView(cm) }\r\n  } else if (to <= display.viewFrom) { // Change before\r\n    if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\r\n      resetView(cm)\r\n    } else {\r\n      display.viewFrom += lendiff\r\n      display.viewTo += lendiff\r\n    }\r\n  } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\r\n    resetView(cm)\r\n  } else if (from <= display.viewFrom) { // Top overlap\r\n    var cut = viewCuttingPoint(cm, to, to + lendiff, 1)\r\n    if (cut) {\r\n      display.view = display.view.slice(cut.index)\r\n      display.viewFrom = cut.lineN\r\n      display.viewTo += lendiff\r\n    } else {\r\n      resetView(cm)\r\n    }\r\n  } else if (to >= display.viewTo) { // Bottom overlap\r\n    var cut$1 = viewCuttingPoint(cm, from, from, -1)\r\n    if (cut$1) {\r\n      display.view = display.view.slice(0, cut$1.index)\r\n      display.viewTo = cut$1.lineN\r\n    } else {\r\n      resetView(cm)\r\n    }\r\n  } else { // Gap in the middle\r\n    var cutTop = viewCuttingPoint(cm, from, from, -1)\r\n    var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1)\r\n    if (cutTop && cutBot) {\r\n      display.view = display.view.slice(0, cutTop.index)\r\n        .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\r\n        .concat(display.view.slice(cutBot.index))\r\n      display.viewTo += lendiff\r\n    } else {\r\n      resetView(cm)\r\n    }\r\n  }\r\n\r\n  var ext = display.externalMeasured\r\n  if (ext) {\r\n    if (to < ext.lineN)\r\n      { ext.lineN += lendiff }\r\n    else if (from < ext.lineN + ext.size)\r\n      { display.externalMeasured = null }\r\n  }\r\n}\r\n\r\n// Register a change to a single line. Type must be one of \"text\",\r\n// \"gutter\", \"class\", \"widget\"\r\nfunction regLineChange(cm, line, type) {\r\n  cm.curOp.viewChanged = true\r\n  var display = cm.display, ext = cm.display.externalMeasured\r\n  if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\r\n    { display.externalMeasured = null }\r\n\r\n  if (line < display.viewFrom || line >= display.viewTo) { return }\r\n  var lineView = display.view[findViewIndex(cm, line)]\r\n  if (lineView.node == null) { return }\r\n  var arr = lineView.changes || (lineView.changes = [])\r\n  if (indexOf(arr, type) == -1) { arr.push(type) }\r\n}\r\n\r\n// Clear the view.\r\nfunction resetView(cm) {\r\n  cm.display.viewFrom = cm.display.viewTo = cm.doc.first\r\n  cm.display.view = []\r\n  cm.display.viewOffset = 0\r\n}\r\n\r\nfunction viewCuttingPoint(cm, oldN, newN, dir) {\r\n  var index = findViewIndex(cm, oldN), diff, view = cm.display.view\r\n  if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\r\n    { return {index: index, lineN: newN} }\r\n  var n = cm.display.viewFrom\r\n  for (var i = 0; i < index; i++)\r\n    { n += view[i].size }\r\n  if (n != oldN) {\r\n    if (dir > 0) {\r\n      if (index == view.length - 1) { return null }\r\n      diff = (n + view[index].size) - oldN\r\n      index++\r\n    } else {\r\n      diff = n - oldN\r\n    }\r\n    oldN += diff; newN += diff\r\n  }\r\n  while (visualLineNo(cm.doc, newN) != newN) {\r\n    if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\r\n    newN += dir * view[index - (dir < 0 ? 1 : 0)].size\r\n    index += dir\r\n  }\r\n  return {index: index, lineN: newN}\r\n}\r\n\r\n// Force the view to cover a given range, adding empty view element\r\n// or clipping off existing ones as needed.\r\nfunction adjustView(cm, from, to) {\r\n  var display = cm.display, view = display.view\r\n  if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\r\n    display.view = buildViewArray(cm, from, to)\r\n    display.viewFrom = from\r\n  } else {\r\n    if (display.viewFrom > from)\r\n      { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view) }\r\n    else if (display.viewFrom < from)\r\n      { display.view = display.view.slice(findViewIndex(cm, from)) }\r\n    display.viewFrom = from\r\n    if (display.viewTo < to)\r\n      { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)) }\r\n    else if (display.viewTo > to)\r\n      { display.view = display.view.slice(0, findViewIndex(cm, to)) }\r\n  }\r\n  display.viewTo = to\r\n}\r\n\r\n// Count the number of lines in the view whose DOM representation is\r\n// out of date (or nonexistent).\r\nfunction countDirtyView(cm) {\r\n  var view = cm.display.view, dirty = 0\r\n  for (var i = 0; i < view.length; i++) {\r\n    var lineView = view[i]\r\n    if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty }\r\n  }\r\n  return dirty\r\n}\r\n\r\n// HIGHLIGHT WORKER\r\n\r\nfunction startWorker(cm, time) {\r\n  if (cm.doc.mode.startState && cm.doc.frontier < cm.display.viewTo)\r\n    { cm.state.highlight.set(time, bind(highlightWorker, cm)) }\r\n}\r\n\r\nfunction highlightWorker(cm) {\r\n  var doc = cm.doc\r\n  if (doc.frontier < doc.first) { doc.frontier = doc.first }\r\n  if (doc.frontier >= cm.display.viewTo) { return }\r\n  var end = +new Date + cm.options.workTime\r\n  var state = copyState(doc.mode, getStateBefore(cm, doc.frontier))\r\n  var changedLines = []\r\n\r\n  doc.iter(doc.frontier, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\r\n    if (doc.frontier >= cm.display.viewFrom) { // Visible\r\n      var oldStyles = line.styles, tooLong = line.text.length > cm.options.maxHighlightLength\r\n      var highlighted = highlightLine(cm, line, tooLong ? copyState(doc.mode, state) : state, true)\r\n      line.styles = highlighted.styles\r\n      var oldCls = line.styleClasses, newCls = highlighted.classes\r\n      if (newCls) { line.styleClasses = newCls }\r\n      else if (oldCls) { line.styleClasses = null }\r\n      var ischange = !oldStyles || oldStyles.length != line.styles.length ||\r\n        oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass)\r\n      for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i] }\r\n      if (ischange) { changedLines.push(doc.frontier) }\r\n      line.stateAfter = tooLong ? state : copyState(doc.mode, state)\r\n    } else {\r\n      if (line.text.length <= cm.options.maxHighlightLength)\r\n        { processLine(cm, line.text, state) }\r\n      line.stateAfter = doc.frontier % 5 == 0 ? copyState(doc.mode, state) : null\r\n    }\r\n    ++doc.frontier\r\n    if (+new Date > end) {\r\n      startWorker(cm, cm.options.workDelay)\r\n      return true\r\n    }\r\n  })\r\n  if (changedLines.length) { runInOp(cm, function () {\r\n    for (var i = 0; i < changedLines.length; i++)\r\n      { regLineChange(cm, changedLines[i], \"text\") }\r\n  }) }\r\n}\r\n\r\n// DISPLAY DRAWING\r\n\r\nvar DisplayUpdate = function(cm, viewport, force) {\r\n  var display = cm.display\r\n\r\n  this.viewport = viewport\r\n  // Store some values that we'll need later (but don't want to force a relayout for)\r\n  this.visible = visibleLines(display, cm.doc, viewport)\r\n  this.editorIsHidden = !display.wrapper.offsetWidth\r\n  this.wrapperHeight = display.wrapper.clientHeight\r\n  this.wrapperWidth = display.wrapper.clientWidth\r\n  this.oldDisplayWidth = displayWidth(cm)\r\n  this.force = force\r\n  this.dims = getDimensions(cm)\r\n  this.events = []\r\n};\r\n\r\nDisplayUpdate.prototype.signal = function (emitter, type) {\r\n  if (hasHandler(emitter, type))\r\n    { this.events.push(arguments) }\r\n};\r\nDisplayUpdate.prototype.finish = function () {\r\n    var this$1 = this;\r\n\r\n  for (var i = 0; i < this.events.length; i++)\r\n    { signal.apply(null, this$1.events[i]) }\r\n};\r\n\r\nfunction maybeClipScrollbars(cm) {\r\n  var display = cm.display\r\n  if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\r\n    display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth\r\n    display.heightForcer.style.height = scrollGap(cm) + \"px\"\r\n    display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\"\r\n    display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\"\r\n    display.scrollbarsClipped = true\r\n  }\r\n}\r\n\r\n// Does the actual updating of the line display. Bails out\r\n// (returning false) when there is nothing to be done and forced is\r\n// false.\r\nfunction updateDisplayIfNeeded(cm, update) {\r\n  var display = cm.display, doc = cm.doc\r\n\r\n  if (update.editorIsHidden) {\r\n    resetView(cm)\r\n    return false\r\n  }\r\n\r\n  // Bail out if the visible area is already rendered and nothing changed.\r\n  if (!update.force &&\r\n      update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\r\n      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\r\n      display.renderedView == display.view && countDirtyView(cm) == 0)\r\n    { return false }\r\n\r\n  if (maybeUpdateLineNumberWidth(cm)) {\r\n    resetView(cm)\r\n    update.dims = getDimensions(cm)\r\n  }\r\n\r\n  // Compute a suitable new viewport (from & to)\r\n  var end = doc.first + doc.size\r\n  var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first)\r\n  var to = Math.min(end, update.visible.to + cm.options.viewportMargin)\r\n  if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom) }\r\n  if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo) }\r\n  if (sawCollapsedSpans) {\r\n    from = visualLineNo(cm.doc, from)\r\n    to = visualLineEndNo(cm.doc, to)\r\n  }\r\n\r\n  var different = from != display.viewFrom || to != display.viewTo ||\r\n    display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth\r\n  adjustView(cm, from, to)\r\n\r\n  display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom))\r\n  // Position the mover div to align with the current scroll position\r\n  cm.display.mover.style.top = display.viewOffset + \"px\"\r\n\r\n  var toUpdate = countDirtyView(cm)\r\n  if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\r\n      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\r\n    { return false }\r\n\r\n  // For big changes, we hide the enclosing element during the\r\n  // update, since that speeds up the operations on most browsers.\r\n  var focused = activeElt()\r\n  if (toUpdate > 4) { display.lineDiv.style.display = \"none\" }\r\n  patchDisplay(cm, display.updateLineNumbers, update.dims)\r\n  if (toUpdate > 4) { display.lineDiv.style.display = \"\" }\r\n  display.renderedView = display.view\r\n  // There might have been a widget with a focused element that got\r\n  // hidden or updated, if so re-focus it.\r\n  if (focused && activeElt() != focused && focused.offsetHeight) { focused.focus() }\r\n\r\n  // Prevent selection and cursors from interfering with the scroll\r\n  // width and height.\r\n  removeChildren(display.cursorDiv)\r\n  removeChildren(display.selectionDiv)\r\n  display.gutters.style.height = display.sizer.style.minHeight = 0\r\n\r\n  if (different) {\r\n    display.lastWrapHeight = update.wrapperHeight\r\n    display.lastWrapWidth = update.wrapperWidth\r\n    startWorker(cm, 400)\r\n  }\r\n\r\n  display.updateLineNumbers = null\r\n\r\n  return true\r\n}\r\n\r\nfunction postUpdateDisplay(cm, update) {\r\n  var viewport = update.viewport\r\n\r\n  for (var first = true;; first = false) {\r\n    if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\r\n      // Clip forced viewport to actual scrollable area.\r\n      if (viewport && viewport.top != null)\r\n        { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)} }\r\n      // Updated line heights might result in the drawn area not\r\n      // actually covering the viewport. Keep looping until it does.\r\n      update.visible = visibleLines(cm.display, cm.doc, viewport)\r\n      if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\r\n        { break }\r\n    }\r\n    if (!updateDisplayIfNeeded(cm, update)) { break }\r\n    updateHeightsInViewport(cm)\r\n    var barMeasure = measureForScrollbars(cm)\r\n    updateSelection(cm)\r\n    updateScrollbars(cm, barMeasure)\r\n    setDocumentHeight(cm, barMeasure)\r\n  }\r\n\r\n  update.signal(cm, \"update\", cm)\r\n  if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\r\n    update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo)\r\n    cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo\r\n  }\r\n}\r\n\r\nfunction updateDisplaySimple(cm, viewport) {\r\n  var update = new DisplayUpdate(cm, viewport)\r\n  if (updateDisplayIfNeeded(cm, update)) {\r\n    updateHeightsInViewport(cm)\r\n    postUpdateDisplay(cm, update)\r\n    var barMeasure = measureForScrollbars(cm)\r\n    updateSelection(cm)\r\n    updateScrollbars(cm, barMeasure)\r\n    setDocumentHeight(cm, barMeasure)\r\n    update.finish()\r\n  }\r\n}\r\n\r\n// Sync the actual display DOM structure with display.view, removing\r\n// nodes for lines that are no longer in view, and creating the ones\r\n// that are not there yet, and updating the ones that are out of\r\n// date.\r\nfunction patchDisplay(cm, updateNumbersFrom, dims) {\r\n  var display = cm.display, lineNumbers = cm.options.lineNumbers\r\n  var container = display.lineDiv, cur = container.firstChild\r\n\r\n  function rm(node) {\r\n    var next = node.nextSibling\r\n    // Works around a throw-scroll bug in OS X Webkit\r\n    if (webkit && mac && cm.display.currentWheelTarget == node)\r\n      { node.style.display = \"none\" }\r\n    else\r\n      { node.parentNode.removeChild(node) }\r\n    return next\r\n  }\r\n\r\n  var view = display.view, lineN = display.viewFrom\r\n  // Loop over the elements in the view, syncing cur (the DOM nodes\r\n  // in display.lineDiv) with the view as we go.\r\n  for (var i = 0; i < view.length; i++) {\r\n    var lineView = view[i]\r\n    if (lineView.hidden) {\r\n    } else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\r\n      var node = buildLineElement(cm, lineView, lineN, dims)\r\n      container.insertBefore(node, cur)\r\n    } else { // Already drawn\r\n      while (cur != lineView.node) { cur = rm(cur) }\r\n      var updateNumber = lineNumbers && updateNumbersFrom != null &&\r\n        updateNumbersFrom <= lineN && lineView.lineNumber\r\n      if (lineView.changes) {\r\n        if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false }\r\n        updateLineForChanges(cm, lineView, lineN, dims)\r\n      }\r\n      if (updateNumber) {\r\n        removeChildren(lineView.lineNumber)\r\n        lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)))\r\n      }\r\n      cur = lineView.node.nextSibling\r\n    }\r\n    lineN += lineView.size\r\n  }\r\n  while (cur) { cur = rm(cur) }\r\n}\r\n\r\nfunction updateGutterSpace(cm) {\r\n  var width = cm.display.gutters.offsetWidth\r\n  cm.display.sizer.style.marginLeft = width + \"px\"\r\n}\r\n\r\nfunction setDocumentHeight(cm, measure) {\r\n  cm.display.sizer.style.minHeight = measure.docHeight + \"px\"\r\n  cm.display.heightForcer.style.top = measure.docHeight + \"px\"\r\n  cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\"\r\n}\r\n\r\n// Rebuild the gutter elements, ensure the margin to the left of the\r\n// code matches their width.\r\nfunction updateGutters(cm) {\r\n  var gutters = cm.display.gutters, specs = cm.options.gutters\r\n  removeChildren(gutters)\r\n  var i = 0\r\n  for (; i < specs.length; ++i) {\r\n    var gutterClass = specs[i]\r\n    var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + gutterClass))\r\n    if (gutterClass == \"CodeMirror-linenumbers\") {\r\n      cm.display.lineGutter = gElt\r\n      gElt.style.width = (cm.display.lineNumWidth || 1) + \"px\"\r\n    }\r\n  }\r\n  gutters.style.display = i ? \"\" : \"none\"\r\n  updateGutterSpace(cm)\r\n}\r\n\r\n// Make sure the gutters options contains the element\r\n// \"CodeMirror-linenumbers\" when the lineNumbers option is true.\r\nfunction setGuttersForLineNumbers(options) {\r\n  var found = indexOf(options.gutters, \"CodeMirror-linenumbers\")\r\n  if (found == -1 && options.lineNumbers) {\r\n    options.gutters = options.gutters.concat([\"CodeMirror-linenumbers\"])\r\n  } else if (found > -1 && !options.lineNumbers) {\r\n    options.gutters = options.gutters.slice(0)\r\n    options.gutters.splice(found, 1)\r\n  }\r\n}\r\n\r\n// Selection objects are immutable. A new one is created every time\r\n// the selection changes. A selection is one or more non-overlapping\r\n// (and non-touching) ranges, sorted, and an integer that indicates\r\n// which one is the primary selection (the one that's scrolled into\r\n// view, that getCursor returns, etc).\r\nvar Selection = function(ranges, primIndex) {\r\n  this.ranges = ranges\r\n  this.primIndex = primIndex\r\n};\r\n\r\nSelection.prototype.primary = function () { return this.ranges[this.primIndex] };\r\n\r\nSelection.prototype.equals = function (other) {\r\n    var this$1 = this;\r\n\r\n  if (other == this) { return true }\r\n  if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\r\n  for (var i = 0; i < this.ranges.length; i++) {\r\n    var here = this$1.ranges[i], there = other.ranges[i]\r\n    if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\r\n  }\r\n  return true\r\n};\r\n\r\nSelection.prototype.deepCopy = function () {\r\n    var this$1 = this;\r\n\r\n  var out = []\r\n  for (var i = 0; i < this.ranges.length; i++)\r\n    { out[i] = new Range(copyPos(this$1.ranges[i].anchor), copyPos(this$1.ranges[i].head)) }\r\n  return new Selection(out, this.primIndex)\r\n};\r\n\r\nSelection.prototype.somethingSelected = function () {\r\n    var this$1 = this;\r\n\r\n  for (var i = 0; i < this.ranges.length; i++)\r\n    { if (!this$1.ranges[i].empty()) { return true } }\r\n  return false\r\n};\r\n\r\nSelection.prototype.contains = function (pos, end) {\r\n    var this$1 = this;\r\n\r\n  if (!end) { end = pos }\r\n  for (var i = 0; i < this.ranges.length; i++) {\r\n    var range = this$1.ranges[i]\r\n    if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\r\n      { return i }\r\n  }\r\n  return -1\r\n};\r\n\r\nvar Range = function(anchor, head) {\r\n  this.anchor = anchor; this.head = head\r\n};\r\n\r\nRange.prototype.from = function () { return minPos(this.anchor, this.head) };\r\nRange.prototype.to = function () { return maxPos(this.anchor, this.head) };\r\nRange.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\r\n\r\n// Take an unsorted, potentially overlapping set of ranges, and\r\n// build a selection out of it. 'Consumes' ranges array (modifying\r\n// it).\r\nfunction normalizeSelection(ranges, primIndex) {\r\n  var prim = ranges[primIndex]\r\n  ranges.sort(function (a, b) { return cmp(a.from(), b.from()); })\r\n  primIndex = indexOf(ranges, prim)\r\n  for (var i = 1; i < ranges.length; i++) {\r\n    var cur = ranges[i], prev = ranges[i - 1]\r\n    if (cmp(prev.to(), cur.from()) >= 0) {\r\n      var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to())\r\n      var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head\r\n      if (i <= primIndex) { --primIndex }\r\n      ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to))\r\n    }\r\n  }\r\n  return new Selection(ranges, primIndex)\r\n}\r\n\r\nfunction simpleSelection(anchor, head) {\r\n  return new Selection([new Range(anchor, head || anchor)], 0)\r\n}\r\n\r\n// Compute the position of the end of a change (its 'to' property\r\n// refers to the pre-change end).\r\nfunction changeEnd(change) {\r\n  if (!change.text) { return change.to }\r\n  return Pos(change.from.line + change.text.length - 1,\r\n             lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\r\n}\r\n\r\n// Adjust a position to refer to the post-change position of the\r\n// same text, or the end of the change if the change covers it.\r\nfunction adjustForChange(pos, change) {\r\n  if (cmp(pos, change.from) < 0) { return pos }\r\n  if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\r\n\r\n  var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch\r\n  if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch }\r\n  return Pos(line, ch)\r\n}\r\n\r\nfunction computeSelAfterChange(doc, change) {\r\n  var out = []\r\n  for (var i = 0; i < doc.sel.ranges.length; i++) {\r\n    var range = doc.sel.ranges[i]\r\n    out.push(new Range(adjustForChange(range.anchor, change),\r\n                       adjustForChange(range.head, change)))\r\n  }\r\n  return normalizeSelection(out, doc.sel.primIndex)\r\n}\r\n\r\nfunction offsetPos(pos, old, nw) {\r\n  if (pos.line == old.line)\r\n    { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\r\n  else\r\n    { return Pos(nw.line + (pos.line - old.line), pos.ch) }\r\n}\r\n\r\n// Used by replaceSelections to allow moving the selection to the\r\n// start or around the replaced test. Hint may be \"start\" or \"around\".\r\nfunction computeReplacedSel(doc, changes, hint) {\r\n  var out = []\r\n  var oldPrev = Pos(doc.first, 0), newPrev = oldPrev\r\n  for (var i = 0; i < changes.length; i++) {\r\n    var change = changes[i]\r\n    var from = offsetPos(change.from, oldPrev, newPrev)\r\n    var to = offsetPos(changeEnd(change), oldPrev, newPrev)\r\n    oldPrev = change.to\r\n    newPrev = to\r\n    if (hint == \"around\") {\r\n      var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0\r\n      out[i] = new Range(inv ? to : from, inv ? from : to)\r\n    } else {\r\n      out[i] = new Range(from, from)\r\n    }\r\n  }\r\n  return new Selection(out, doc.sel.primIndex)\r\n}\r\n\r\n// Used to get the editor into a consistent state again when options change.\r\n\r\nfunction loadMode(cm) {\r\n  cm.doc.mode = getMode(cm.options, cm.doc.modeOption)\r\n  resetModeState(cm)\r\n}\r\n\r\nfunction resetModeState(cm) {\r\n  cm.doc.iter(function (line) {\r\n    if (line.stateAfter) { line.stateAfter = null }\r\n    if (line.styles) { line.styles = null }\r\n  })\r\n  cm.doc.frontier = cm.doc.first\r\n  startWorker(cm, 100)\r\n  cm.state.modeGen++\r\n  if (cm.curOp) { regChange(cm) }\r\n}\r\n\r\n// DOCUMENT DATA STRUCTURE\r\n\r\n// By default, updates that start and end at the beginning of a line\r\n// are treated specially, in order to make the association of line\r\n// widgets and marker elements with the text behave more intuitive.\r\nfunction isWholeLineUpdate(doc, change) {\r\n  return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\r\n    (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\r\n}\r\n\r\n// Perform a change on the document data structure.\r\nfunction updateDoc(doc, change, markedSpans, estimateHeight) {\r\n  function spansFor(n) {return markedSpans ? markedSpans[n] : null}\r\n  function update(line, text, spans) {\r\n    updateLine(line, text, spans, estimateHeight)\r\n    signalLater(line, \"change\", line, change)\r\n  }\r\n  function linesFor(start, end) {\r\n    var result = []\r\n    for (var i = start; i < end; ++i)\r\n      { result.push(new Line(text[i], spansFor(i), estimateHeight)) }\r\n    return result\r\n  }\r\n\r\n  var from = change.from, to = change.to, text = change.text\r\n  var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line)\r\n  var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line\r\n\r\n  // Adjust the line structure\r\n  if (change.full) {\r\n    doc.insert(0, linesFor(0, text.length))\r\n    doc.remove(text.length, doc.size - text.length)\r\n  } else if (isWholeLineUpdate(doc, change)) {\r\n    // This is a whole-line replace. Treated specially to make\r\n    // sure line objects move the way they are supposed to.\r\n    var added = linesFor(0, text.length - 1)\r\n    update(lastLine, lastLine.text, lastSpans)\r\n    if (nlines) { doc.remove(from.line, nlines) }\r\n    if (added.length) { doc.insert(from.line, added) }\r\n  } else if (firstLine == lastLine) {\r\n    if (text.length == 1) {\r\n      update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans)\r\n    } else {\r\n      var added$1 = linesFor(1, text.length - 1)\r\n      added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight))\r\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0))\r\n      doc.insert(from.line + 1, added$1)\r\n    }\r\n  } else if (text.length == 1) {\r\n    update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0))\r\n    doc.remove(from.line + 1, nlines)\r\n  } else {\r\n    update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0))\r\n    update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans)\r\n    var added$2 = linesFor(1, text.length - 1)\r\n    if (nlines > 1) { doc.remove(from.line + 1, nlines - 1) }\r\n    doc.insert(from.line + 1, added$2)\r\n  }\r\n\r\n  signalLater(doc, \"change\", doc, change)\r\n}\r\n\r\n// Call f for all linked documents.\r\nfunction linkedDocs(doc, f, sharedHistOnly) {\r\n  function propagate(doc, skip, sharedHist) {\r\n    if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\r\n      var rel = doc.linked[i]\r\n      if (rel.doc == skip) { continue }\r\n      var shared = sharedHist && rel.sharedHist\r\n      if (sharedHistOnly && !shared) { continue }\r\n      f(rel.doc, shared)\r\n      propagate(rel.doc, doc, shared)\r\n    } }\r\n  }\r\n  propagate(doc, null, true)\r\n}\r\n\r\n// Attach a document to an editor.\r\nfunction attachDoc(cm, doc) {\r\n  if (doc.cm) { throw new Error(\"This document is already in use.\") }\r\n  cm.doc = doc\r\n  doc.cm = cm\r\n  estimateLineHeights(cm)\r\n  loadMode(cm)\r\n  if (!cm.options.lineWrapping) { findMaxLine(cm) }\r\n  cm.options.mode = doc.modeOption\r\n  regChange(cm)\r\n}\r\n\r\nfunction History(startGen) {\r\n  // Arrays of change events and selections. Doing something adds an\r\n  // event to done and clears undo. Undoing moves events from done\r\n  // to undone, redoing moves them in the other direction.\r\n  this.done = []; this.undone = []\r\n  this.undoDepth = Infinity\r\n  // Used to track when changes can be merged into a single undo\r\n  // event\r\n  this.lastModTime = this.lastSelTime = 0\r\n  this.lastOp = this.lastSelOp = null\r\n  this.lastOrigin = this.lastSelOrigin = null\r\n  // Used by the isClean() method\r\n  this.generation = this.maxGeneration = startGen || 1\r\n}\r\n\r\n// Create a history change event from an updateDoc-style change\r\n// object.\r\nfunction historyChangeFromChange(doc, change) {\r\n  var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)}\r\n  attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1)\r\n  linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true)\r\n  return histChange\r\n}\r\n\r\n// Pop all selection events off the end of a history array. Stop at\r\n// a change event.\r\nfunction clearSelectionEvents(array) {\r\n  while (array.length) {\r\n    var last = lst(array)\r\n    if (last.ranges) { array.pop() }\r\n    else { break }\r\n  }\r\n}\r\n\r\n// Find the top change event in the history. Pop off selection\r\n// events that are in the way.\r\nfunction lastChangeEvent(hist, force) {\r\n  if (force) {\r\n    clearSelectionEvents(hist.done)\r\n    return lst(hist.done)\r\n  } else if (hist.done.length && !lst(hist.done).ranges) {\r\n    return lst(hist.done)\r\n  } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\r\n    hist.done.pop()\r\n    return lst(hist.done)\r\n  }\r\n}\r\n\r\n// Register a change in the history. Merges changes that are within\r\n// a single operation, or are close together with an origin that\r\n// allows merging (starting with \"+\") into a single event.\r\nfunction addChangeToHistory(doc, change, selAfter, opId) {\r\n  var hist = doc.history\r\n  hist.undone.length = 0\r\n  var time = +new Date, cur\r\n  var last\r\n\r\n  if ((hist.lastOp == opId ||\r\n       hist.lastOrigin == change.origin && change.origin &&\r\n       ((change.origin.charAt(0) == \"+\" && doc.cm && hist.lastModTime > time - doc.cm.options.historyEventDelay) ||\r\n        change.origin.charAt(0) == \"*\")) &&\r\n      (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\r\n    // Merge this change into the last event\r\n    last = lst(cur.changes)\r\n    if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\r\n      // Optimized case for simple insertion -- don't want to add\r\n      // new changesets for every character typed\r\n      last.to = changeEnd(change)\r\n    } else {\r\n      // Add new sub-event\r\n      cur.changes.push(historyChangeFromChange(doc, change))\r\n    }\r\n  } else {\r\n    // Can not be merged, start a new event.\r\n    var before = lst(hist.done)\r\n    if (!before || !before.ranges)\r\n      { pushSelectionToHistory(doc.sel, hist.done) }\r\n    cur = {changes: [historyChangeFromChange(doc, change)],\r\n           generation: hist.generation}\r\n    hist.done.push(cur)\r\n    while (hist.done.length > hist.undoDepth) {\r\n      hist.done.shift()\r\n      if (!hist.done[0].ranges) { hist.done.shift() }\r\n    }\r\n  }\r\n  hist.done.push(selAfter)\r\n  hist.generation = ++hist.maxGeneration\r\n  hist.lastModTime = hist.lastSelTime = time\r\n  hist.lastOp = hist.lastSelOp = opId\r\n  hist.lastOrigin = hist.lastSelOrigin = change.origin\r\n\r\n  if (!last) { signal(doc, \"historyAdded\") }\r\n}\r\n\r\nfunction selectionEventCanBeMerged(doc, origin, prev, sel) {\r\n  var ch = origin.charAt(0)\r\n  return ch == \"*\" ||\r\n    ch == \"+\" &&\r\n    prev.ranges.length == sel.ranges.length &&\r\n    prev.somethingSelected() == sel.somethingSelected() &&\r\n    new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\r\n}\r\n\r\n// Called whenever the selection changes, sets the new selection as\r\n// the pending selection in the history, and pushes the old pending\r\n// selection into the 'done' array when it was significantly\r\n// different (in number of selected ranges, emptiness, or time).\r\nfunction addSelectionToHistory(doc, sel, opId, options) {\r\n  var hist = doc.history, origin = options && options.origin\r\n\r\n  // A new event is started when the previous origin does not match\r\n  // the current, or the origins don't allow matching. Origins\r\n  // starting with * are always merged, those starting with + are\r\n  // merged when similar and close together in time.\r\n  if (opId == hist.lastSelOp ||\r\n      (origin && hist.lastSelOrigin == origin &&\r\n       (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\r\n        selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\r\n    { hist.done[hist.done.length - 1] = sel }\r\n  else\r\n    { pushSelectionToHistory(sel, hist.done) }\r\n\r\n  hist.lastSelTime = +new Date\r\n  hist.lastSelOrigin = origin\r\n  hist.lastSelOp = opId\r\n  if (options && options.clearRedo !== false)\r\n    { clearSelectionEvents(hist.undone) }\r\n}\r\n\r\nfunction pushSelectionToHistory(sel, dest) {\r\n  var top = lst(dest)\r\n  if (!(top && top.ranges && top.equals(sel)))\r\n    { dest.push(sel) }\r\n}\r\n\r\n// Used to store marked span information in the history.\r\nfunction attachLocalSpans(doc, change, from, to) {\r\n  var existing = change[\"spans_\" + doc.id], n = 0\r\n  doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\r\n    if (line.markedSpans)\r\n      { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans }\r\n    ++n\r\n  })\r\n}\r\n\r\n// When un/re-doing restores text containing marked spans, those\r\n// that have been explicitly cleared should not be restored.\r\nfunction removeClearedSpans(spans) {\r\n  if (!spans) { return null }\r\n  var out\r\n  for (var i = 0; i < spans.length; ++i) {\r\n    if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i) } }\r\n    else if (out) { out.push(spans[i]) }\r\n  }\r\n  return !out ? spans : out.length ? out : null\r\n}\r\n\r\n// Retrieve and filter the old marked spans stored in a change event.\r\nfunction getOldSpans(doc, change) {\r\n  var found = change[\"spans_\" + doc.id]\r\n  if (!found) { return null }\r\n  var nw = []\r\n  for (var i = 0; i < change.text.length; ++i)\r\n    { nw.push(removeClearedSpans(found[i])) }\r\n  return nw\r\n}\r\n\r\n// Used for un/re-doing changes from the history. Combines the\r\n// result of computing the existing spans with the set of spans that\r\n// existed in the history (so that deleting around a span and then\r\n// undoing brings back the span).\r\nfunction mergeOldSpans(doc, change) {\r\n  var old = getOldSpans(doc, change)\r\n  var stretched = stretchSpansOverChange(doc, change)\r\n  if (!old) { return stretched }\r\n  if (!stretched) { return old }\r\n\r\n  for (var i = 0; i < old.length; ++i) {\r\n    var oldCur = old[i], stretchCur = stretched[i]\r\n    if (oldCur && stretchCur) {\r\n      spans: for (var j = 0; j < stretchCur.length; ++j) {\r\n        var span = stretchCur[j]\r\n        for (var k = 0; k < oldCur.length; ++k)\r\n          { if (oldCur[k].marker == span.marker) { continue spans } }\r\n        oldCur.push(span)\r\n      }\r\n    } else if (stretchCur) {\r\n      old[i] = stretchCur\r\n    }\r\n  }\r\n  return old\r\n}\r\n\r\n// Used both to provide a JSON-safe object in .getHistory, and, when\r\n// detaching a document, to split the history in two\r\nfunction copyHistoryArray(events, newGroup, instantiateSel) {\r\n  var copy = []\r\n  for (var i = 0; i < events.length; ++i) {\r\n    var event = events[i]\r\n    if (event.ranges) {\r\n      copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event)\r\n      continue\r\n    }\r\n    var changes = event.changes, newChanges = []\r\n    copy.push({changes: newChanges})\r\n    for (var j = 0; j < changes.length; ++j) {\r\n      var change = changes[j], m = (void 0)\r\n      newChanges.push({from: change.from, to: change.to, text: change.text})\r\n      if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\r\n        if (indexOf(newGroup, Number(m[1])) > -1) {\r\n          lst(newChanges)[prop] = change[prop]\r\n          delete change[prop]\r\n        }\r\n      } } }\r\n    }\r\n  }\r\n  return copy\r\n}\r\n\r\n// The 'scroll' parameter given to many of these indicated whether\r\n// the new cursor position should be scrolled into view after\r\n// modifying the selection.\r\n\r\n// If shift is held or the extend flag is set, extends a range to\r\n// include a given position (and optionally a second position).\r\n// Otherwise, simply returns the range between the given positions.\r\n// Used for cursor motion and such.\r\nfunction extendRange(doc, range, head, other) {\r\n  if (doc.cm && doc.cm.display.shift || doc.extend) {\r\n    var anchor = range.anchor\r\n    if (other) {\r\n      var posBefore = cmp(head, anchor) < 0\r\n      if (posBefore != (cmp(other, anchor) < 0)) {\r\n        anchor = head\r\n        head = other\r\n      } else if (posBefore != (cmp(head, other) < 0)) {\r\n        head = other\r\n      }\r\n    }\r\n    return new Range(anchor, head)\r\n  } else {\r\n    return new Range(other || head, head)\r\n  }\r\n}\r\n\r\n// Extend the primary selection range, discard the rest.\r\nfunction extendSelection(doc, head, other, options) {\r\n  setSelection(doc, new Selection([extendRange(doc, doc.sel.primary(), head, other)], 0), options)\r\n}\r\n\r\n// Extend all selections (pos is an array of selections with length\r\n// equal the number of selections)\r\nfunction extendSelections(doc, heads, options) {\r\n  var out = []\r\n  for (var i = 0; i < doc.sel.ranges.length; i++)\r\n    { out[i] = extendRange(doc, doc.sel.ranges[i], heads[i], null) }\r\n  var newSel = normalizeSelection(out, doc.sel.primIndex)\r\n  setSelection(doc, newSel, options)\r\n}\r\n\r\n// Updates a single range in the selection.\r\nfunction replaceOneSelection(doc, i, range, options) {\r\n  var ranges = doc.sel.ranges.slice(0)\r\n  ranges[i] = range\r\n  setSelection(doc, normalizeSelection(ranges, doc.sel.primIndex), options)\r\n}\r\n\r\n// Reset the selection to a single range.\r\nfunction setSimpleSelection(doc, anchor, head, options) {\r\n  setSelection(doc, simpleSelection(anchor, head), options)\r\n}\r\n\r\n// Give beforeSelectionChange handlers a change to influence a\r\n// selection update.\r\nfunction filterSelectionChange(doc, sel, options) {\r\n  var obj = {\r\n    ranges: sel.ranges,\r\n    update: function(ranges) {\r\n      var this$1 = this;\r\n\r\n      this.ranges = []\r\n      for (var i = 0; i < ranges.length; i++)\r\n        { this$1.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\r\n                                   clipPos(doc, ranges[i].head)) }\r\n    },\r\n    origin: options && options.origin\r\n  }\r\n  signal(doc, \"beforeSelectionChange\", doc, obj)\r\n  if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj) }\r\n  if (obj.ranges != sel.ranges) { return normalizeSelection(obj.ranges, obj.ranges.length - 1) }\r\n  else { return sel }\r\n}\r\n\r\nfunction setSelectionReplaceHistory(doc, sel, options) {\r\n  var done = doc.history.done, last = lst(done)\r\n  if (last && last.ranges) {\r\n    done[done.length - 1] = sel\r\n    setSelectionNoUndo(doc, sel, options)\r\n  } else {\r\n    setSelection(doc, sel, options)\r\n  }\r\n}\r\n\r\n// Set a new selection.\r\nfunction setSelection(doc, sel, options) {\r\n  setSelectionNoUndo(doc, sel, options)\r\n  addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options)\r\n}\r\n\r\nfunction setSelectionNoUndo(doc, sel, options) {\r\n  if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\r\n    { sel = filterSelectionChange(doc, sel, options) }\r\n\r\n  var bias = options && options.bias ||\r\n    (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1)\r\n  setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true))\r\n\r\n  if (!(options && options.scroll === false) && doc.cm)\r\n    { ensureCursorVisible(doc.cm) }\r\n}\r\n\r\nfunction setSelectionInner(doc, sel) {\r\n  if (sel.equals(doc.sel)) { return }\r\n\r\n  doc.sel = sel\r\n\r\n  if (doc.cm) {\r\n    doc.cm.curOp.updateInput = doc.cm.curOp.selectionChanged = true\r\n    signalCursorActivity(doc.cm)\r\n  }\r\n  signalLater(doc, \"cursorActivity\", doc)\r\n}\r\n\r\n// Verify that the selection does not partially select any atomic\r\n// marked ranges.\r\nfunction reCheckSelection(doc) {\r\n  setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false), sel_dontScroll)\r\n}\r\n\r\n// Return a selection that does not partially select any atomic\r\n// ranges.\r\nfunction skipAtomicInSelection(doc, sel, bias, mayClear) {\r\n  var out\r\n  for (var i = 0; i < sel.ranges.length; i++) {\r\n    var range = sel.ranges[i]\r\n    var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i]\r\n    var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear)\r\n    var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear)\r\n    if (out || newAnchor != range.anchor || newHead != range.head) {\r\n      if (!out) { out = sel.ranges.slice(0, i) }\r\n      out[i] = new Range(newAnchor, newHead)\r\n    }\r\n  }\r\n  return out ? normalizeSelection(out, sel.primIndex) : sel\r\n}\r\n\r\nfunction skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\r\n  var line = getLine(doc, pos.line)\r\n  if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\r\n    var sp = line.markedSpans[i], m = sp.marker\r\n    if ((sp.from == null || (m.inclusiveLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\r\n        (sp.to == null || (m.inclusiveRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\r\n      if (mayClear) {\r\n        signal(m, \"beforeCursorEnter\")\r\n        if (m.explicitlyCleared) {\r\n          if (!line.markedSpans) { break }\r\n          else {--i; continue}\r\n        }\r\n      }\r\n      if (!m.atomic) { continue }\r\n\r\n      if (oldPos) {\r\n        var near = m.find(dir < 0 ? 1 : -1), diff = (void 0)\r\n        if (dir < 0 ? m.inclusiveRight : m.inclusiveLeft)\r\n          { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null) }\r\n        if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\r\n          { return skipAtomicInner(doc, near, pos, dir, mayClear) }\r\n      }\r\n\r\n      var far = m.find(dir < 0 ? -1 : 1)\r\n      if (dir < 0 ? m.inclusiveLeft : m.inclusiveRight)\r\n        { far = movePos(doc, far, dir, far.line == pos.line ? line : null) }\r\n      return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\r\n    }\r\n  } }\r\n  return pos\r\n}\r\n\r\n// Ensure a given position is not inside an atomic range.\r\nfunction skipAtomic(doc, pos, oldPos, bias, mayClear) {\r\n  var dir = bias || 1\r\n  var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\r\n      (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\r\n      skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\r\n      (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true))\r\n  if (!found) {\r\n    doc.cantEdit = true\r\n    return Pos(doc.first, 0)\r\n  }\r\n  return found\r\n}\r\n\r\nfunction movePos(doc, pos, dir, line) {\r\n  if (dir < 0 && pos.ch == 0) {\r\n    if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\r\n    else { return null }\r\n  } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\r\n    if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\r\n    else { return null }\r\n  } else {\r\n    return new Pos(pos.line, pos.ch + dir)\r\n  }\r\n}\r\n\r\nfunction selectAll(cm) {\r\n  cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll)\r\n}\r\n\r\n// UPDATING\r\n\r\n// Allow \"beforeChange\" event handlers to influence a change\r\nfunction filterChange(doc, change, update) {\r\n  var obj = {\r\n    canceled: false,\r\n    from: change.from,\r\n    to: change.to,\r\n    text: change.text,\r\n    origin: change.origin,\r\n    cancel: function () { return obj.canceled = true; }\r\n  }\r\n  if (update) { obj.update = function (from, to, text, origin) {\r\n    if (from) { obj.from = clipPos(doc, from) }\r\n    if (to) { obj.to = clipPos(doc, to) }\r\n    if (text) { obj.text = text }\r\n    if (origin !== undefined) { obj.origin = origin }\r\n  } }\r\n  signal(doc, \"beforeChange\", doc, obj)\r\n  if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj) }\r\n\r\n  if (obj.canceled) { return null }\r\n  return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\r\n}\r\n\r\n// Apply a change to a document, and add it to the document's\r\n// history, and propagating it to all linked documents.\r\nfunction makeChange(doc, change, ignoreReadOnly) {\r\n  if (doc.cm) {\r\n    if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\r\n    if (doc.cm.state.suppressEdits) { return }\r\n  }\r\n\r\n  if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\r\n    change = filterChange(doc, change, true)\r\n    if (!change) { return }\r\n  }\r\n\r\n  // Possibly split or suppress the update based on the presence\r\n  // of read-only spans in its range.\r\n  var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to)\r\n  if (split) {\r\n    for (var i = split.length - 1; i >= 0; --i)\r\n      { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text}) }\r\n  } else {\r\n    makeChangeInner(doc, change)\r\n  }\r\n}\r\n\r\nfunction makeChangeInner(doc, change) {\r\n  if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\r\n  var selAfter = computeSelAfterChange(doc, change)\r\n  addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN)\r\n\r\n  makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change))\r\n  var rebased = []\r\n\r\n  linkedDocs(doc, function (doc, sharedHist) {\r\n    if (!sharedHist && indexOf(rebased, doc.history) == -1) {\r\n      rebaseHist(doc.history, change)\r\n      rebased.push(doc.history)\r\n    }\r\n    makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change))\r\n  })\r\n}\r\n\r\n// Revert a change stored in a document's history.\r\nfunction makeChangeFromHistory(doc, type, allowSelectionOnly) {\r\n  if (doc.cm && doc.cm.state.suppressEdits && !allowSelectionOnly) { return }\r\n\r\n  var hist = doc.history, event, selAfter = doc.sel\r\n  var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done\r\n\r\n  // Verify that there is a useable event (so that ctrl-z won't\r\n  // needlessly clear selection events)\r\n  var i = 0\r\n  for (; i < source.length; i++) {\r\n    event = source[i]\r\n    if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\r\n      { break }\r\n  }\r\n  if (i == source.length) { return }\r\n  hist.lastOrigin = hist.lastSelOrigin = null\r\n\r\n  for (;;) {\r\n    event = source.pop()\r\n    if (event.ranges) {\r\n      pushSelectionToHistory(event, dest)\r\n      if (allowSelectionOnly && !event.equals(doc.sel)) {\r\n        setSelection(doc, event, {clearRedo: false})\r\n        return\r\n      }\r\n      selAfter = event\r\n    }\r\n    else { break }\r\n  }\r\n\r\n  // Build up a reverse change object to add to the opposite history\r\n  // stack (redo when undoing, and vice versa).\r\n  var antiChanges = []\r\n  pushSelectionToHistory(selAfter, dest)\r\n  dest.push({changes: antiChanges, generation: hist.generation})\r\n  hist.generation = event.generation || ++hist.maxGeneration\r\n\r\n  var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")\r\n\r\n  var loop = function ( i ) {\r\n    var change = event.changes[i]\r\n    change.origin = type\r\n    if (filter && !filterChange(doc, change, false)) {\r\n      source.length = 0\r\n      return {}\r\n    }\r\n\r\n    antiChanges.push(historyChangeFromChange(doc, change))\r\n\r\n    var after = i ? computeSelAfterChange(doc, change) : lst(source)\r\n    makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change))\r\n    if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}) }\r\n    var rebased = []\r\n\r\n    // Propagate to the linked documents\r\n    linkedDocs(doc, function (doc, sharedHist) {\r\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\r\n        rebaseHist(doc.history, change)\r\n        rebased.push(doc.history)\r\n      }\r\n      makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change))\r\n    })\r\n  };\r\n\r\n  for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\r\n    var returned = loop( i$1 );\r\n\r\n    if ( returned ) return returned.v;\r\n  }\r\n}\r\n\r\n// Sub-views need their line numbers shifted when text is added\r\n// above or below them in the parent document.\r\nfunction shiftDoc(doc, distance) {\r\n  if (distance == 0) { return }\r\n  doc.first += distance\r\n  doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\r\n    Pos(range.anchor.line + distance, range.anchor.ch),\r\n    Pos(range.head.line + distance, range.head.ch)\r\n  ); }), doc.sel.primIndex)\r\n  if (doc.cm) {\r\n    regChange(doc.cm, doc.first, doc.first - distance, distance)\r\n    for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\r\n      { regLineChange(doc.cm, l, \"gutter\") }\r\n  }\r\n}\r\n\r\n// More lower-level change function, handling only a single document\r\n// (not linked ones).\r\nfunction makeChangeSingleDoc(doc, change, selAfter, spans) {\r\n  if (doc.cm && !doc.cm.curOp)\r\n    { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\r\n\r\n  if (change.to.line < doc.first) {\r\n    shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line))\r\n    return\r\n  }\r\n  if (change.from.line > doc.lastLine()) { return }\r\n\r\n  // Clip the change to the size of this doc\r\n  if (change.from.line < doc.first) {\r\n    var shift = change.text.length - 1 - (doc.first - change.from.line)\r\n    shiftDoc(doc, shift)\r\n    change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\r\n              text: [lst(change.text)], origin: change.origin}\r\n  }\r\n  var last = doc.lastLine()\r\n  if (change.to.line > last) {\r\n    change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\r\n              text: [change.text[0]], origin: change.origin}\r\n  }\r\n\r\n  change.removed = getBetween(doc, change.from, change.to)\r\n\r\n  if (!selAfter) { selAfter = computeSelAfterChange(doc, change) }\r\n  if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans) }\r\n  else { updateDoc(doc, change, spans) }\r\n  setSelectionNoUndo(doc, selAfter, sel_dontScroll)\r\n}\r\n\r\n// Handle the interaction of a change to a document with the editor\r\n// that this document is part of.\r\nfunction makeChangeSingleDocInEditor(cm, change, spans) {\r\n  var doc = cm.doc, display = cm.display, from = change.from, to = change.to\r\n\r\n  var recomputeMaxLength = false, checkWidthStart = from.line\r\n  if (!cm.options.lineWrapping) {\r\n    checkWidthStart = lineNo(visualLine(getLine(doc, from.line)))\r\n    doc.iter(checkWidthStart, to.line + 1, function (line) {\r\n      if (line == display.maxLine) {\r\n        recomputeMaxLength = true\r\n        return true\r\n      }\r\n    })\r\n  }\r\n\r\n  if (doc.sel.contains(change.from, change.to) > -1)\r\n    { signalCursorActivity(cm) }\r\n\r\n  updateDoc(doc, change, spans, estimateHeight(cm))\r\n\r\n  if (!cm.options.lineWrapping) {\r\n    doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\r\n      var len = lineLength(line)\r\n      if (len > display.maxLineLength) {\r\n        display.maxLine = line\r\n        display.maxLineLength = len\r\n        display.maxLineChanged = true\r\n        recomputeMaxLength = false\r\n      }\r\n    })\r\n    if (recomputeMaxLength) { cm.curOp.updateMaxLine = true }\r\n  }\r\n\r\n  // Adjust frontier, schedule worker\r\n  doc.frontier = Math.min(doc.frontier, from.line)\r\n  startWorker(cm, 400)\r\n\r\n  var lendiff = change.text.length - (to.line - from.line) - 1\r\n  // Remember that these lines changed, for updating the display\r\n  if (change.full)\r\n    { regChange(cm) }\r\n  else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\r\n    { regLineChange(cm, from.line, \"text\") }\r\n  else\r\n    { regChange(cm, from.line, to.line + 1, lendiff) }\r\n\r\n  var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\")\r\n  if (changeHandler || changesHandler) {\r\n    var obj = {\r\n      from: from, to: to,\r\n      text: change.text,\r\n      removed: change.removed,\r\n      origin: change.origin\r\n    }\r\n    if (changeHandler) { signalLater(cm, \"change\", cm, obj) }\r\n    if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj) }\r\n  }\r\n  cm.display.selForContextMenu = null\r\n}\r\n\r\nfunction replaceRange(doc, code, from, to, origin) {\r\n  if (!to) { to = from }\r\n  if (cmp(to, from) < 0) { var tmp = to; to = from; from = tmp }\r\n  if (typeof code == \"string\") { code = doc.splitLines(code) }\r\n  makeChange(doc, {from: from, to: to, text: code, origin: origin})\r\n}\r\n\r\n// Rebasing/resetting history to deal with externally-sourced changes\r\n\r\nfunction rebaseHistSelSingle(pos, from, to, diff) {\r\n  if (to < pos.line) {\r\n    pos.line += diff\r\n  } else if (from < pos.line) {\r\n    pos.line = from\r\n    pos.ch = 0\r\n  }\r\n}\r\n\r\n// Tries to rebase an array of history events given a change in the\r\n// document. If the change touches the same lines as the event, the\r\n// event, and everything 'behind' it, is discarded. If the change is\r\n// before the event, the event's positions are updated. Uses a\r\n// copy-on-write scheme for the positions, to avoid having to\r\n// reallocate them all on every rebase, but also avoid problems with\r\n// shared position objects being unsafely updated.\r\nfunction rebaseHistArray(array, from, to, diff) {\r\n  for (var i = 0; i < array.length; ++i) {\r\n    var sub = array[i], ok = true\r\n    if (sub.ranges) {\r\n      if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true }\r\n      for (var j = 0; j < sub.ranges.length; j++) {\r\n        rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff)\r\n        rebaseHistSelSingle(sub.ranges[j].head, from, to, diff)\r\n      }\r\n      continue\r\n    }\r\n    for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\r\n      var cur = sub.changes[j$1]\r\n      if (to < cur.from.line) {\r\n        cur.from = Pos(cur.from.line + diff, cur.from.ch)\r\n        cur.to = Pos(cur.to.line + diff, cur.to.ch)\r\n      } else if (from <= cur.to.line) {\r\n        ok = false\r\n        break\r\n      }\r\n    }\r\n    if (!ok) {\r\n      array.splice(0, i + 1)\r\n      i = 0\r\n    }\r\n  }\r\n}\r\n\r\nfunction rebaseHist(hist, change) {\r\n  var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1\r\n  rebaseHistArray(hist.done, from, to, diff)\r\n  rebaseHistArray(hist.undone, from, to, diff)\r\n}\r\n\r\n// Utility for applying a change to a line by handle or number,\r\n// returning the number and optionally registering the line as\r\n// changed.\r\nfunction changeLine(doc, handle, changeType, op) {\r\n  var no = handle, line = handle\r\n  if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)) }\r\n  else { no = lineNo(handle) }\r\n  if (no == null) { return null }\r\n  if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType) }\r\n  return line\r\n}\r\n\r\n// The document is represented as a BTree consisting of leaves, with\r\n// chunk of lines in them, and branches, with up to ten leaves or\r\n// other branch nodes below them. The top node is always a branch\r\n// node, and is the document object itself (meaning it has\r\n// additional methods and properties).\r\n//\r\n// All nodes have parent links. The tree is used both to go from\r\n// line numbers to line objects, and to go from objects to numbers.\r\n// It also indexes by height, and is used to convert between height\r\n// and line object, and to find the total height of the document.\r\n//\r\n// See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\r\n\r\nvar LeafChunk = function(lines) {\r\n  var this$1 = this;\r\n\r\n  this.lines = lines\r\n  this.parent = null\r\n  var height = 0\r\n  for (var i = 0; i < lines.length; ++i) {\r\n    lines[i].parent = this$1\r\n    height += lines[i].height\r\n  }\r\n  this.height = height\r\n};\r\n\r\nLeafChunk.prototype.chunkSize = function () { return this.lines.length };\r\n\r\n// Remove the n lines at offset 'at'.\r\nLeafChunk.prototype.removeInner = function (at, n) {\r\n    var this$1 = this;\r\n\r\n  for (var i = at, e = at + n; i < e; ++i) {\r\n    var line = this$1.lines[i]\r\n    this$1.height -= line.height\r\n    cleanUpLine(line)\r\n    signalLater(line, \"delete\")\r\n  }\r\n  this.lines.splice(at, n)\r\n};\r\n\r\n// Helper used to collapse a small branch into a single leaf.\r\nLeafChunk.prototype.collapse = function (lines) {\r\n  lines.push.apply(lines, this.lines)\r\n};\r\n\r\n// Insert the given array of lines at offset 'at', count them as\r\n// having the given height.\r\nLeafChunk.prototype.insertInner = function (at, lines, height) {\r\n    var this$1 = this;\r\n\r\n  this.height += height\r\n  this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at))\r\n  for (var i = 0; i < lines.length; ++i) { lines[i].parent = this$1 }\r\n};\r\n\r\n// Used to iterate over a part of the tree.\r\nLeafChunk.prototype.iterN = function (at, n, op) {\r\n    var this$1 = this;\r\n\r\n  for (var e = at + n; at < e; ++at)\r\n    { if (op(this$1.lines[at])) { return true } }\r\n};\r\n\r\nvar BranchChunk = function(children) {\r\n  var this$1 = this;\r\n\r\n  this.children = children\r\n  var size = 0, height = 0\r\n  for (var i = 0; i < children.length; ++i) {\r\n    var ch = children[i]\r\n    size += ch.chunkSize(); height += ch.height\r\n    ch.parent = this$1\r\n  }\r\n  this.size = size\r\n  this.height = height\r\n  this.parent = null\r\n};\r\n\r\nBranchChunk.prototype.chunkSize = function () { return this.size };\r\n\r\nBranchChunk.prototype.removeInner = function (at, n) {\r\n    var this$1 = this;\r\n\r\n  this.size -= n\r\n  for (var i = 0; i < this.children.length; ++i) {\r\n    var child = this$1.children[i], sz = child.chunkSize()\r\n    if (at < sz) {\r\n      var rm = Math.min(n, sz - at), oldHeight = child.height\r\n      child.removeInner(at, rm)\r\n      this$1.height -= oldHeight - child.height\r\n      if (sz == rm) { this$1.children.splice(i--, 1); child.parent = null }\r\n      if ((n -= rm) == 0) { break }\r\n      at = 0\r\n    } else { at -= sz }\r\n  }\r\n  // If the result is smaller than 25 lines, ensure that it is a\r\n  // single leaf node.\r\n  if (this.size - n < 25 &&\r\n      (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\r\n    var lines = []\r\n    this.collapse(lines)\r\n    this.children = [new LeafChunk(lines)]\r\n    this.children[0].parent = this\r\n  }\r\n};\r\n\r\nBranchChunk.prototype.collapse = function (lines) {\r\n    var this$1 = this;\r\n\r\n  for (var i = 0; i < this.children.length; ++i) { this$1.children[i].collapse(lines) }\r\n};\r\n\r\nBranchChunk.prototype.insertInner = function (at, lines, height) {\r\n    var this$1 = this;\r\n\r\n  this.size += lines.length\r\n  this.height += height\r\n  for (var i = 0; i < this.children.length; ++i) {\r\n    var child = this$1.children[i], sz = child.chunkSize()\r\n    if (at <= sz) {\r\n      child.insertInner(at, lines, height)\r\n      if (child.lines && child.lines.length > 50) {\r\n        // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\r\n        // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\r\n        var remaining = child.lines.length % 25 + 25\r\n        for (var pos = remaining; pos < child.lines.length;) {\r\n          var leaf = new LeafChunk(child.lines.slice(pos, pos += 25))\r\n          child.height -= leaf.height\r\n          this$1.children.splice(++i, 0, leaf)\r\n          leaf.parent = this$1\r\n        }\r\n        child.lines = child.lines.slice(0, remaining)\r\n        this$1.maybeSpill()\r\n      }\r\n      break\r\n    }\r\n    at -= sz\r\n  }\r\n};\r\n\r\n// When a node has grown, check whether it should be split.\r\nBranchChunk.prototype.maybeSpill = function () {\r\n  if (this.children.length <= 10) { return }\r\n  var me = this\r\n  do {\r\n    var spilled = me.children.splice(me.children.length - 5, 5)\r\n    var sibling = new BranchChunk(spilled)\r\n    if (!me.parent) { // Become the parent node\r\n      var copy = new BranchChunk(me.children)\r\n      copy.parent = me\r\n      me.children = [copy, sibling]\r\n      me = copy\r\n   } else {\r\n      me.size -= sibling.size\r\n      me.height -= sibling.height\r\n      var myIndex = indexOf(me.parent.children, me)\r\n      me.parent.children.splice(myIndex + 1, 0, sibling)\r\n    }\r\n    sibling.parent = me.parent\r\n  } while (me.children.length > 10)\r\n  me.parent.maybeSpill()\r\n};\r\n\r\nBranchChunk.prototype.iterN = function (at, n, op) {\r\n    var this$1 = this;\r\n\r\n  for (var i = 0; i < this.children.length; ++i) {\r\n    var child = this$1.children[i], sz = child.chunkSize()\r\n    if (at < sz) {\r\n      var used = Math.min(n, sz - at)\r\n      if (child.iterN(at, used, op)) { return true }\r\n      if ((n -= used) == 0) { break }\r\n      at = 0\r\n    } else { at -= sz }\r\n  }\r\n};\r\n\r\n// Line widgets are block elements displayed above or below a line.\r\n\r\nvar LineWidget = function(doc, node, options) {\r\n  var this$1 = this;\r\n\r\n  if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\r\n    { this$1[opt] = options[opt] } } }\r\n  this.doc = doc\r\n  this.node = node\r\n};\r\n\r\nLineWidget.prototype.clear = function () {\r\n    var this$1 = this;\r\n\r\n  var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line)\r\n  if (no == null || !ws) { return }\r\n  for (var i = 0; i < ws.length; ++i) { if (ws[i] == this$1) { ws.splice(i--, 1) } }\r\n  if (!ws.length) { line.widgets = null }\r\n  var height = widgetHeight(this)\r\n  updateLineHeight(line, Math.max(0, line.height - height))\r\n  if (cm) {\r\n    runInOp(cm, function () {\r\n      adjustScrollWhenAboveVisible(cm, line, -height)\r\n      regLineChange(cm, no, \"widget\")\r\n    })\r\n    signalLater(cm, \"lineWidgetCleared\", cm, this, no)\r\n  }\r\n};\r\n\r\nLineWidget.prototype.changed = function () {\r\n    var this$1 = this;\r\n\r\n  var oldH = this.height, cm = this.doc.cm, line = this.line\r\n  this.height = null\r\n  var diff = widgetHeight(this) - oldH\r\n  if (!diff) { return }\r\n  updateLineHeight(line, line.height + diff)\r\n  if (cm) {\r\n    runInOp(cm, function () {\r\n      cm.curOp.forceUpdate = true\r\n      adjustScrollWhenAboveVisible(cm, line, diff)\r\n      signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line))\r\n    })\r\n  }\r\n};\r\neventMixin(LineWidget)\r\n\r\nfunction adjustScrollWhenAboveVisible(cm, line, diff) {\r\n  if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\r\n    { addToScrollPos(cm, null, diff) }\r\n}\r\n\r\nfunction addLineWidget(doc, handle, node, options) {\r\n  var widget = new LineWidget(doc, node, options)\r\n  var cm = doc.cm\r\n  if (cm && widget.noHScroll) { cm.display.alignWidgets = true }\r\n  changeLine(doc, handle, \"widget\", function (line) {\r\n    var widgets = line.widgets || (line.widgets = [])\r\n    if (widget.insertAt == null) { widgets.push(widget) }\r\n    else { widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget) }\r\n    widget.line = line\r\n    if (cm && !lineIsHidden(doc, line)) {\r\n      var aboveVisible = heightAtLine(line) < doc.scrollTop\r\n      updateLineHeight(line, line.height + widgetHeight(widget))\r\n      if (aboveVisible) { addToScrollPos(cm, null, widget.height) }\r\n      cm.curOp.forceUpdate = true\r\n    }\r\n    return true\r\n  })\r\n  signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle))\r\n  return widget\r\n}\r\n\r\n// TEXTMARKERS\r\n\r\n// Created with markText and setBookmark methods. A TextMarker is a\r\n// handle that can be used to clear or find a marked position in the\r\n// document. Line objects hold arrays (markedSpans) containing\r\n// {from, to, marker} object pointing to such marker objects, and\r\n// indicating that such a marker is present on that line. Multiple\r\n// lines may point to the same marker when it spans across lines.\r\n// The spans will have null for their from/to properties when the\r\n// marker continues beyond the start/end of the line. Markers have\r\n// links back to the lines they currently touch.\r\n\r\n// Collapsed markers have unique ids, in order to be able to order\r\n// them, which is needed for uniquely determining an outer marker\r\n// when they overlap (they may nest, but not partially overlap).\r\nvar nextMarkerId = 0\r\n\r\nvar TextMarker = function(doc, type) {\r\n  this.lines = []\r\n  this.type = type\r\n  this.doc = doc\r\n  this.id = ++nextMarkerId\r\n};\r\n\r\n// Clear the marker.\r\nTextMarker.prototype.clear = function () {\r\n    var this$1 = this;\r\n\r\n  if (this.explicitlyCleared) { return }\r\n  var cm = this.doc.cm, withOp = cm && !cm.curOp\r\n  if (withOp) { startOperation(cm) }\r\n  if (hasHandler(this, \"clear\")) {\r\n    var found = this.find()\r\n    if (found) { signalLater(this, \"clear\", found.from, found.to) }\r\n  }\r\n  var min = null, max = null\r\n  for (var i = 0; i < this.lines.length; ++i) {\r\n    var line = this$1.lines[i]\r\n    var span = getMarkedSpanFor(line.markedSpans, this$1)\r\n    if (cm && !this$1.collapsed) { regLineChange(cm, lineNo(line), \"text\") }\r\n    else if (cm) {\r\n      if (span.to != null) { max = lineNo(line) }\r\n      if (span.from != null) { min = lineNo(line) }\r\n    }\r\n    line.markedSpans = removeMarkedSpan(line.markedSpans, span)\r\n    if (span.from == null && this$1.collapsed && !lineIsHidden(this$1.doc, line) && cm)\r\n      { updateLineHeight(line, textHeight(cm.display)) }\r\n  }\r\n  if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\r\n    var visual = visualLine(this$1.lines[i$1]), len = lineLength(visual)\r\n    if (len > cm.display.maxLineLength) {\r\n      cm.display.maxLine = visual\r\n      cm.display.maxLineLength = len\r\n      cm.display.maxLineChanged = true\r\n    }\r\n  } }\r\n\r\n  if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1) }\r\n  this.lines.length = 0\r\n  this.explicitlyCleared = true\r\n  if (this.atomic && this.doc.cantEdit) {\r\n    this.doc.cantEdit = false\r\n    if (cm) { reCheckSelection(cm.doc) }\r\n  }\r\n  if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max) }\r\n  if (withOp) { endOperation(cm) }\r\n  if (this.parent) { this.parent.clear() }\r\n};\r\n\r\n// Find the position of the marker in the document. Returns a {from,\r\n// to} object by default. Side can be passed to get a specific side\r\n// -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\r\n// Pos objects returned contain a line object, rather than a line\r\n// number (used to prevent looking up the same line twice).\r\nTextMarker.prototype.find = function (side, lineObj) {\r\n    var this$1 = this;\r\n\r\n  if (side == null && this.type == \"bookmark\") { side = 1 }\r\n  var from, to\r\n  for (var i = 0; i < this.lines.length; ++i) {\r\n    var line = this$1.lines[i]\r\n    var span = getMarkedSpanFor(line.markedSpans, this$1)\r\n    if (span.from != null) {\r\n      from = Pos(lineObj ? line : lineNo(line), span.from)\r\n      if (side == -1) { return from }\r\n    }\r\n    if (span.to != null) {\r\n      to = Pos(lineObj ? line : lineNo(line), span.to)\r\n      if (side == 1) { return to }\r\n    }\r\n  }\r\n  return from && {from: from, to: to}\r\n};\r\n\r\n// Signals that the marker's widget changed, and surrounding layout\r\n// should be recomputed.\r\nTextMarker.prototype.changed = function () {\r\n    var this$1 = this;\r\n\r\n  var pos = this.find(-1, true), widget = this, cm = this.doc.cm\r\n  if (!pos || !cm) { return }\r\n  runInOp(cm, function () {\r\n    var line = pos.line, lineN = lineNo(pos.line)\r\n    var view = findViewForLine(cm, lineN)\r\n    if (view) {\r\n      clearLineMeasurementCacheFor(view)\r\n      cm.curOp.selectionChanged = cm.curOp.forceUpdate = true\r\n    }\r\n    cm.curOp.updateMaxLine = true\r\n    if (!lineIsHidden(widget.doc, line) && widget.height != null) {\r\n      var oldHeight = widget.height\r\n      widget.height = null\r\n      var dHeight = widgetHeight(widget) - oldHeight\r\n      if (dHeight)\r\n        { updateLineHeight(line, line.height + dHeight) }\r\n    }\r\n    signalLater(cm, \"markerChanged\", cm, this$1)\r\n  })\r\n};\r\n\r\nTextMarker.prototype.attachLine = function (line) {\r\n  if (!this.lines.length && this.doc.cm) {\r\n    var op = this.doc.cm.curOp\r\n    if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\r\n      { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this) }\r\n  }\r\n  this.lines.push(line)\r\n};\r\n\r\nTextMarker.prototype.detachLine = function (line) {\r\n  this.lines.splice(indexOf(this.lines, line), 1)\r\n  if (!this.lines.length && this.doc.cm) {\r\n    var op = this.doc.cm.curOp\r\n    ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this)\r\n  }\r\n};\r\neventMixin(TextMarker)\r\n\r\n// Create a marker, wire it up to the right lines, and\r\nfunction markText(doc, from, to, options, type) {\r\n  // Shared markers (across linked documents) are handled separately\r\n  // (markTextShared will call out to this again, once per\r\n  // document).\r\n  if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\r\n  // Ensure we are in an operation.\r\n  if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\r\n\r\n  var marker = new TextMarker(doc, type), diff = cmp(from, to)\r\n  if (options) { copyObj(options, marker, false) }\r\n  // Don't connect empty markers unless clearWhenEmpty is false\r\n  if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\r\n    { return marker }\r\n  if (marker.replacedWith) {\r\n    // Showing up as a widget implies collapsed (widget replaces text)\r\n    marker.collapsed = true\r\n    marker.widgetNode = elt(\"span\", [marker.replacedWith], \"CodeMirror-widget\")\r\n    marker.widgetNode.setAttribute(\"role\", \"presentation\") // hide from accessibility tree\r\n    if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\") }\r\n    if (options.insertLeft) { marker.widgetNode.insertLeft = true }\r\n  }\r\n  if (marker.collapsed) {\r\n    if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\r\n        from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\r\n      { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\r\n    seeCollapsedSpans()\r\n  }\r\n\r\n  if (marker.addToHistory)\r\n    { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN) }\r\n\r\n  var curLine = from.line, cm = doc.cm, updateMaxLine\r\n  doc.iter(curLine, to.line + 1, function (line) {\r\n    if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\r\n      { updateMaxLine = true }\r\n    if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0) }\r\n    addMarkedSpan(line, new MarkedSpan(marker,\r\n                                       curLine == from.line ? from.ch : null,\r\n                                       curLine == to.line ? to.ch : null))\r\n    ++curLine\r\n  })\r\n  // lineIsHidden depends on the presence of the spans, so needs a second pass\r\n  if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\r\n    if (lineIsHidden(doc, line)) { updateLineHeight(line, 0) }\r\n  }) }\r\n\r\n  if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }) }\r\n\r\n  if (marker.readOnly) {\r\n    seeReadOnlySpans()\r\n    if (doc.history.done.length || doc.history.undone.length)\r\n      { doc.clearHistory() }\r\n  }\r\n  if (marker.collapsed) {\r\n    marker.id = ++nextMarkerId\r\n    marker.atomic = true\r\n  }\r\n  if (cm) {\r\n    // Sync editor state\r\n    if (updateMaxLine) { cm.curOp.updateMaxLine = true }\r\n    if (marker.collapsed)\r\n      { regChange(cm, from.line, to.line + 1) }\r\n    else if (marker.className || marker.title || marker.startStyle || marker.endStyle || marker.css)\r\n      { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\") } }\r\n    if (marker.atomic) { reCheckSelection(cm.doc) }\r\n    signalLater(cm, \"markerAdded\", cm, marker)\r\n  }\r\n  return marker\r\n}\r\n\r\n// SHARED TEXTMARKERS\r\n\r\n// A shared marker spans multiple linked documents. It is\r\n// implemented as a meta-marker-object controlling multiple normal\r\n// markers.\r\nvar SharedTextMarker = function(markers, primary) {\r\n  var this$1 = this;\r\n\r\n  this.markers = markers\r\n  this.primary = primary\r\n  for (var i = 0; i < markers.length; ++i)\r\n    { markers[i].parent = this$1 }\r\n};\r\n\r\nSharedTextMarker.prototype.clear = function () {\r\n    var this$1 = this;\r\n\r\n  if (this.explicitlyCleared) { return }\r\n  this.explicitlyCleared = true\r\n  for (var i = 0; i < this.markers.length; ++i)\r\n    { this$1.markers[i].clear() }\r\n  signalLater(this, \"clear\")\r\n};\r\n\r\nSharedTextMarker.prototype.find = function (side, lineObj) {\r\n  return this.primary.find(side, lineObj)\r\n};\r\neventMixin(SharedTextMarker)\r\n\r\nfunction markTextShared(doc, from, to, options, type) {\r\n  options = copyObj(options)\r\n  options.shared = false\r\n  var markers = [markText(doc, from, to, options, type)], primary = markers[0]\r\n  var widget = options.widgetNode\r\n  linkedDocs(doc, function (doc) {\r\n    if (widget) { options.widgetNode = widget.cloneNode(true) }\r\n    markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type))\r\n    for (var i = 0; i < doc.linked.length; ++i)\r\n      { if (doc.linked[i].isParent) { return } }\r\n    primary = lst(markers)\r\n  })\r\n  return new SharedTextMarker(markers, primary)\r\n}\r\n\r\nfunction findSharedMarkers(doc) {\r\n  return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\r\n}\r\n\r\nfunction copySharedMarkers(doc, markers) {\r\n  for (var i = 0; i < markers.length; i++) {\r\n    var marker = markers[i], pos = marker.find()\r\n    var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to)\r\n    if (cmp(mFrom, mTo)) {\r\n      var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type)\r\n      marker.markers.push(subMark)\r\n      subMark.parent = marker\r\n    }\r\n  }\r\n}\r\n\r\nfunction detachSharedMarkers(markers) {\r\n  var loop = function ( i ) {\r\n    var marker = markers[i], linked = [marker.primary.doc]\r\n    linkedDocs(marker.primary.doc, function (d) { return linked.push(d); })\r\n    for (var j = 0; j < marker.markers.length; j++) {\r\n      var subMarker = marker.markers[j]\r\n      if (indexOf(linked, subMarker.doc) == -1) {\r\n        subMarker.parent = null\r\n        marker.markers.splice(j--, 1)\r\n      }\r\n    }\r\n  };\r\n\r\n  for (var i = 0; i < markers.length; i++) loop( i );\r\n}\r\n\r\nvar nextDocId = 0\r\nvar Doc = function(text, mode, firstLine, lineSep) {\r\n  if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep) }\r\n  if (firstLine == null) { firstLine = 0 }\r\n\r\n  BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])])\r\n  this.first = firstLine\r\n  this.scrollTop = this.scrollLeft = 0\r\n  this.cantEdit = false\r\n  this.cleanGeneration = 1\r\n  this.frontier = firstLine\r\n  var start = Pos(firstLine, 0)\r\n  this.sel = simpleSelection(start)\r\n  this.history = new History(null)\r\n  this.id = ++nextDocId\r\n  this.modeOption = mode\r\n  this.lineSep = lineSep\r\n  this.extend = false\r\n\r\n  if (typeof text == \"string\") { text = this.splitLines(text) }\r\n  updateDoc(this, {from: start, to: start, text: text})\r\n  setSelection(this, simpleSelection(start), sel_dontScroll)\r\n}\r\n\r\nDoc.prototype = createObj(BranchChunk.prototype, {\r\n  constructor: Doc,\r\n  // Iterate over the document. Supports two forms -- with only one\r\n  // argument, it calls that for each line in the document. With\r\n  // three, it iterates over the range given by the first two (with\r\n  // the second being non-inclusive).\r\n  iter: function(from, to, op) {\r\n    if (op) { this.iterN(from - this.first, to - from, op) }\r\n    else { this.iterN(this.first, this.first + this.size, from) }\r\n  },\r\n\r\n  // Non-public interface for adding and removing lines.\r\n  insert: function(at, lines) {\r\n    var height = 0\r\n    for (var i = 0; i < lines.length; ++i) { height += lines[i].height }\r\n    this.insertInner(at - this.first, lines, height)\r\n  },\r\n  remove: function(at, n) { this.removeInner(at - this.first, n) },\r\n\r\n  // From here, the methods are part of the public interface. Most\r\n  // are also available from CodeMirror (editor) instances.\r\n\r\n  getValue: function(lineSep) {\r\n    var lines = getLines(this, this.first, this.first + this.size)\r\n    if (lineSep === false) { return lines }\r\n    return lines.join(lineSep || this.lineSeparator())\r\n  },\r\n  setValue: docMethodOp(function(code) {\r\n    var top = Pos(this.first, 0), last = this.first + this.size - 1\r\n    makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\r\n                      text: this.splitLines(code), origin: \"setValue\", full: true}, true)\r\n    setSelection(this, simpleSelection(top))\r\n  }),\r\n  replaceRange: function(code, from, to, origin) {\r\n    from = clipPos(this, from)\r\n    to = to ? clipPos(this, to) : from\r\n    replaceRange(this, code, from, to, origin)\r\n  },\r\n  getRange: function(from, to, lineSep) {\r\n    var lines = getBetween(this, clipPos(this, from), clipPos(this, to))\r\n    if (lineSep === false) { return lines }\r\n    return lines.join(lineSep || this.lineSeparator())\r\n  },\r\n\r\n  getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\r\n\r\n  getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\r\n  getLineNumber: function(line) {return lineNo(line)},\r\n\r\n  getLineHandleVisualStart: function(line) {\r\n    if (typeof line == \"number\") { line = getLine(this, line) }\r\n    return visualLine(line)\r\n  },\r\n\r\n  lineCount: function() {return this.size},\r\n  firstLine: function() {return this.first},\r\n  lastLine: function() {return this.first + this.size - 1},\r\n\r\n  clipPos: function(pos) {return clipPos(this, pos)},\r\n\r\n  getCursor: function(start) {\r\n    var range = this.sel.primary(), pos\r\n    if (start == null || start == \"head\") { pos = range.head }\r\n    else if (start == \"anchor\") { pos = range.anchor }\r\n    else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to() }\r\n    else { pos = range.from() }\r\n    return pos\r\n  },\r\n  listSelections: function() { return this.sel.ranges },\r\n  somethingSelected: function() {return this.sel.somethingSelected()},\r\n\r\n  setCursor: docMethodOp(function(line, ch, options) {\r\n    setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options)\r\n  }),\r\n  setSelection: docMethodOp(function(anchor, head, options) {\r\n    setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options)\r\n  }),\r\n  extendSelection: docMethodOp(function(head, other, options) {\r\n    extendSelection(this, clipPos(this, head), other && clipPos(this, other), options)\r\n  }),\r\n  extendSelections: docMethodOp(function(heads, options) {\r\n    extendSelections(this, clipPosArray(this, heads), options)\r\n  }),\r\n  extendSelectionsBy: docMethodOp(function(f, options) {\r\n    var heads = map(this.sel.ranges, f)\r\n    extendSelections(this, clipPosArray(this, heads), options)\r\n  }),\r\n  setSelections: docMethodOp(function(ranges, primary, options) {\r\n    var this$1 = this;\r\n\r\n    if (!ranges.length) { return }\r\n    var out = []\r\n    for (var i = 0; i < ranges.length; i++)\r\n      { out[i] = new Range(clipPos(this$1, ranges[i].anchor),\r\n                         clipPos(this$1, ranges[i].head)) }\r\n    if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex) }\r\n    setSelection(this, normalizeSelection(out, primary), options)\r\n  }),\r\n  addSelection: docMethodOp(function(anchor, head, options) {\r\n    var ranges = this.sel.ranges.slice(0)\r\n    ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)))\r\n    setSelection(this, normalizeSelection(ranges, ranges.length - 1), options)\r\n  }),\r\n\r\n  getSelection: function(lineSep) {\r\n    var this$1 = this;\r\n\r\n    var ranges = this.sel.ranges, lines\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to())\r\n      lines = lines ? lines.concat(sel) : sel\r\n    }\r\n    if (lineSep === false) { return lines }\r\n    else { return lines.join(lineSep || this.lineSeparator()) }\r\n  },\r\n  getSelections: function(lineSep) {\r\n    var this$1 = this;\r\n\r\n    var parts = [], ranges = this.sel.ranges\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to())\r\n      if (lineSep !== false) { sel = sel.join(lineSep || this$1.lineSeparator()) }\r\n      parts[i] = sel\r\n    }\r\n    return parts\r\n  },\r\n  replaceSelection: function(code, collapse, origin) {\r\n    var dup = []\r\n    for (var i = 0; i < this.sel.ranges.length; i++)\r\n      { dup[i] = code }\r\n    this.replaceSelections(dup, collapse, origin || \"+input\")\r\n  },\r\n  replaceSelections: docMethodOp(function(code, collapse, origin) {\r\n    var this$1 = this;\r\n\r\n    var changes = [], sel = this.sel\r\n    for (var i = 0; i < sel.ranges.length; i++) {\r\n      var range = sel.ranges[i]\r\n      changes[i] = {from: range.from(), to: range.to(), text: this$1.splitLines(code[i]), origin: origin}\r\n    }\r\n    var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse)\r\n    for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\r\n      { makeChange(this$1, changes[i$1]) }\r\n    if (newSel) { setSelectionReplaceHistory(this, newSel) }\r\n    else if (this.cm) { ensureCursorVisible(this.cm) }\r\n  }),\r\n  undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\")}),\r\n  redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\")}),\r\n  undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true)}),\r\n  redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true)}),\r\n\r\n  setExtending: function(val) {this.extend = val},\r\n  getExtending: function() {return this.extend},\r\n\r\n  historySize: function() {\r\n    var hist = this.history, done = 0, undone = 0\r\n    for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done } }\r\n    for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone } }\r\n    return {undo: done, redo: undone}\r\n  },\r\n  clearHistory: function() {this.history = new History(this.history.maxGeneration)},\r\n\r\n  markClean: function() {\r\n    this.cleanGeneration = this.changeGeneration(true)\r\n  },\r\n  changeGeneration: function(forceSplit) {\r\n    if (forceSplit)\r\n      { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null }\r\n    return this.history.generation\r\n  },\r\n  isClean: function (gen) {\r\n    return this.history.generation == (gen || this.cleanGeneration)\r\n  },\r\n\r\n  getHistory: function() {\r\n    return {done: copyHistoryArray(this.history.done),\r\n            undone: copyHistoryArray(this.history.undone)}\r\n  },\r\n  setHistory: function(histData) {\r\n    var hist = this.history = new History(this.history.maxGeneration)\r\n    hist.done = copyHistoryArray(histData.done.slice(0), null, true)\r\n    hist.undone = copyHistoryArray(histData.undone.slice(0), null, true)\r\n  },\r\n\r\n  setGutterMarker: docMethodOp(function(line, gutterID, value) {\r\n    return changeLine(this, line, \"gutter\", function (line) {\r\n      var markers = line.gutterMarkers || (line.gutterMarkers = {})\r\n      markers[gutterID] = value\r\n      if (!value && isEmpty(markers)) { line.gutterMarkers = null }\r\n      return true\r\n    })\r\n  }),\r\n\r\n  clearGutter: docMethodOp(function(gutterID) {\r\n    var this$1 = this;\r\n\r\n    this.iter(function (line) {\r\n      if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\r\n        changeLine(this$1, line, \"gutter\", function () {\r\n          line.gutterMarkers[gutterID] = null\r\n          if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null }\r\n          return true\r\n        })\r\n      }\r\n    })\r\n  }),\r\n\r\n  lineInfo: function(line) {\r\n    var n\r\n    if (typeof line == \"number\") {\r\n      if (!isLine(this, line)) { return null }\r\n      n = line\r\n      line = getLine(this, line)\r\n      if (!line) { return null }\r\n    } else {\r\n      n = lineNo(line)\r\n      if (n == null) { return null }\r\n    }\r\n    return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\r\n            textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\r\n            widgets: line.widgets}\r\n  },\r\n\r\n  addLineClass: docMethodOp(function(handle, where, cls) {\r\n    return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\r\n      var prop = where == \"text\" ? \"textClass\"\r\n               : where == \"background\" ? \"bgClass\"\r\n               : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\"\r\n      if (!line[prop]) { line[prop] = cls }\r\n      else if (classTest(cls).test(line[prop])) { return false }\r\n      else { line[prop] += \" \" + cls }\r\n      return true\r\n    })\r\n  }),\r\n  removeLineClass: docMethodOp(function(handle, where, cls) {\r\n    return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\r\n      var prop = where == \"text\" ? \"textClass\"\r\n               : where == \"background\" ? \"bgClass\"\r\n               : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\"\r\n      var cur = line[prop]\r\n      if (!cur) { return false }\r\n      else if (cls == null) { line[prop] = null }\r\n      else {\r\n        var found = cur.match(classTest(cls))\r\n        if (!found) { return false }\r\n        var end = found.index + found[0].length\r\n        line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null\r\n      }\r\n      return true\r\n    })\r\n  }),\r\n\r\n  addLineWidget: docMethodOp(function(handle, node, options) {\r\n    return addLineWidget(this, handle, node, options)\r\n  }),\r\n  removeLineWidget: function(widget) { widget.clear() },\r\n\r\n  markText: function(from, to, options) {\r\n    return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\r\n  },\r\n  setBookmark: function(pos, options) {\r\n    var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\r\n                    insertLeft: options && options.insertLeft,\r\n                    clearWhenEmpty: false, shared: options && options.shared,\r\n                    handleMouseEvents: options && options.handleMouseEvents}\r\n    pos = clipPos(this, pos)\r\n    return markText(this, pos, pos, realOpts, \"bookmark\")\r\n  },\r\n  findMarksAt: function(pos) {\r\n    pos = clipPos(this, pos)\r\n    var markers = [], spans = getLine(this, pos.line).markedSpans\r\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\r\n      var span = spans[i]\r\n      if ((span.from == null || span.from <= pos.ch) &&\r\n          (span.to == null || span.to >= pos.ch))\r\n        { markers.push(span.marker.parent || span.marker) }\r\n    } }\r\n    return markers\r\n  },\r\n  findMarks: function(from, to, filter) {\r\n    from = clipPos(this, from); to = clipPos(this, to)\r\n    var found = [], lineNo = from.line\r\n    this.iter(from.line, to.line + 1, function (line) {\r\n      var spans = line.markedSpans\r\n      if (spans) { for (var i = 0; i < spans.length; i++) {\r\n        var span = spans[i]\r\n        if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\r\n              span.from == null && lineNo != from.line ||\r\n              span.from != null && lineNo == to.line && span.from >= to.ch) &&\r\n            (!filter || filter(span.marker)))\r\n          { found.push(span.marker.parent || span.marker) }\r\n      } }\r\n      ++lineNo\r\n    })\r\n    return found\r\n  },\r\n  getAllMarks: function() {\r\n    var markers = []\r\n    this.iter(function (line) {\r\n      var sps = line.markedSpans\r\n      if (sps) { for (var i = 0; i < sps.length; ++i)\r\n        { if (sps[i].from != null) { markers.push(sps[i].marker) } } }\r\n    })\r\n    return markers\r\n  },\r\n\r\n  posFromIndex: function(off) {\r\n    var ch, lineNo = this.first, sepSize = this.lineSeparator().length\r\n    this.iter(function (line) {\r\n      var sz = line.text.length + sepSize\r\n      if (sz > off) { ch = off; return true }\r\n      off -= sz\r\n      ++lineNo\r\n    })\r\n    return clipPos(this, Pos(lineNo, ch))\r\n  },\r\n  indexFromPos: function (coords) {\r\n    coords = clipPos(this, coords)\r\n    var index = coords.ch\r\n    if (coords.line < this.first || coords.ch < 0) { return 0 }\r\n    var sepSize = this.lineSeparator().length\r\n    this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\r\n      index += line.text.length + sepSize\r\n    })\r\n    return index\r\n  },\r\n\r\n  copy: function(copyHistory) {\r\n    var doc = new Doc(getLines(this, this.first, this.first + this.size),\r\n                      this.modeOption, this.first, this.lineSep)\r\n    doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft\r\n    doc.sel = this.sel\r\n    doc.extend = false\r\n    if (copyHistory) {\r\n      doc.history.undoDepth = this.history.undoDepth\r\n      doc.setHistory(this.getHistory())\r\n    }\r\n    return doc\r\n  },\r\n\r\n  linkedDoc: function(options) {\r\n    if (!options) { options = {} }\r\n    var from = this.first, to = this.first + this.size\r\n    if (options.from != null && options.from > from) { from = options.from }\r\n    if (options.to != null && options.to < to) { to = options.to }\r\n    var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep)\r\n    if (options.sharedHist) { copy.history = this.history\r\n    ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist})\r\n    copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}]\r\n    copySharedMarkers(copy, findSharedMarkers(this))\r\n    return copy\r\n  },\r\n  unlinkDoc: function(other) {\r\n    var this$1 = this;\r\n\r\n    if (other instanceof CodeMirror) { other = other.doc }\r\n    if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\r\n      var link = this$1.linked[i]\r\n      if (link.doc != other) { continue }\r\n      this$1.linked.splice(i, 1)\r\n      other.unlinkDoc(this$1)\r\n      detachSharedMarkers(findSharedMarkers(this$1))\r\n      break\r\n    } }\r\n    // If the histories were shared, split them again\r\n    if (other.history == this.history) {\r\n      var splitIds = [other.id]\r\n      linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true)\r\n      other.history = new History(null)\r\n      other.history.done = copyHistoryArray(this.history.done, splitIds)\r\n      other.history.undone = copyHistoryArray(this.history.undone, splitIds)\r\n    }\r\n  },\r\n  iterLinkedDocs: function(f) {linkedDocs(this, f)},\r\n\r\n  getMode: function() {return this.mode},\r\n  getEditor: function() {return this.cm},\r\n\r\n  splitLines: function(str) {\r\n    if (this.lineSep) { return str.split(this.lineSep) }\r\n    return splitLinesAuto(str)\r\n  },\r\n  lineSeparator: function() { return this.lineSep || \"\\n\" }\r\n})\r\n\r\n// Public alias.\r\nDoc.prototype.eachLine = Doc.prototype.iter\r\n\r\n// Kludge to work around strange IE behavior where it'll sometimes\r\n// re-fire a series of drag-related events right after the drop (#1551)\r\nvar lastDrop = 0\r\n\r\nfunction onDrop(e) {\r\n  var cm = this\r\n  clearDragCursor(cm)\r\n  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\r\n    { return }\r\n  e_preventDefault(e)\r\n  if (ie) { lastDrop = +new Date }\r\n  var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files\r\n  if (!pos || cm.isReadOnly()) { return }\r\n  // Might be a file drop, in which case we simply extract the text\r\n  // and insert it.\r\n  if (files && files.length && window.FileReader && window.File) {\r\n    var n = files.length, text = Array(n), read = 0\r\n    var loadFile = function (file, i) {\r\n      if (cm.options.allowDropFileTypes &&\r\n          indexOf(cm.options.allowDropFileTypes, file.type) == -1)\r\n        { return }\r\n\r\n      var reader = new FileReader\r\n      reader.onload = operation(cm, function () {\r\n        var content = reader.result\r\n        if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) { content = \"\" }\r\n        text[i] = content\r\n        if (++read == n) {\r\n          pos = clipPos(cm.doc, pos)\r\n          var change = {from: pos, to: pos,\r\n                        text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\r\n                        origin: \"paste\"}\r\n          makeChange(cm.doc, change)\r\n          setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)))\r\n        }\r\n      })\r\n      reader.readAsText(file)\r\n    }\r\n    for (var i = 0; i < n; ++i) { loadFile(files[i], i) }\r\n  } else { // Normal drop\r\n    // Don't do a replace if the drop happened inside of the selected text.\r\n    if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\r\n      cm.state.draggingText(e)\r\n      // Ensure the editor is re-focused\r\n      setTimeout(function () { return cm.display.input.focus(); }, 20)\r\n      return\r\n    }\r\n    try {\r\n      var text$1 = e.dataTransfer.getData(\"Text\")\r\n      if (text$1) {\r\n        var selected\r\n        if (cm.state.draggingText && !cm.state.draggingText.copy)\r\n          { selected = cm.listSelections() }\r\n        setSelectionNoUndo(cm.doc, simpleSelection(pos, pos))\r\n        if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\r\n          { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\") } }\r\n        cm.replaceSelection(text$1, \"around\", \"paste\")\r\n        cm.display.input.focus()\r\n      }\r\n    }\r\n    catch(e){}\r\n  }\r\n}\r\n\r\nfunction onDragStart(cm, e) {\r\n  if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\r\n  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\r\n\r\n  e.dataTransfer.setData(\"Text\", cm.getSelection())\r\n  e.dataTransfer.effectAllowed = \"copyMove\"\r\n\r\n  // Use dummy image instead of default browsers image.\r\n  // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\r\n  if (e.dataTransfer.setDragImage && !safari) {\r\n    var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\")\r\n    img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\"\r\n    if (presto) {\r\n      img.width = img.height = 1\r\n      cm.display.wrapper.appendChild(img)\r\n      // Force a relayout, or Opera won't use our image for some obscure reason\r\n      img._top = img.offsetTop\r\n    }\r\n    e.dataTransfer.setDragImage(img, 0, 0)\r\n    if (presto) { img.parentNode.removeChild(img) }\r\n  }\r\n}\r\n\r\nfunction onDragOver(cm, e) {\r\n  var pos = posFromMouse(cm, e)\r\n  if (!pos) { return }\r\n  var frag = document.createDocumentFragment()\r\n  drawSelectionCursor(cm, pos, frag)\r\n  if (!cm.display.dragCursor) {\r\n    cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\")\r\n    cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv)\r\n  }\r\n  removeChildrenAndAdd(cm.display.dragCursor, frag)\r\n}\r\n\r\nfunction clearDragCursor(cm) {\r\n  if (cm.display.dragCursor) {\r\n    cm.display.lineSpace.removeChild(cm.display.dragCursor)\r\n    cm.display.dragCursor = null\r\n  }\r\n}\r\n\r\n// These must be handled carefully, because naively registering a\r\n// handler for each editor will cause the editors to never be\r\n// garbage collected.\r\n\r\nfunction forEachCodeMirror(f) {\r\n  if (!document.body.getElementsByClassName) { return }\r\n  var byClass = document.body.getElementsByClassName(\"CodeMirror\")\r\n  for (var i = 0; i < byClass.length; i++) {\r\n    var cm = byClass[i].CodeMirror\r\n    if (cm) { f(cm) }\r\n  }\r\n}\r\n\r\nvar globalsRegistered = false\r\nfunction ensureGlobalHandlers() {\r\n  if (globalsRegistered) { return }\r\n  registerGlobalHandlers()\r\n  globalsRegistered = true\r\n}\r\nfunction registerGlobalHandlers() {\r\n  // When the window resizes, we need to refresh active editors.\r\n  var resizeTimer\r\n  on(window, \"resize\", function () {\r\n    if (resizeTimer == null) { resizeTimer = setTimeout(function () {\r\n      resizeTimer = null\r\n      forEachCodeMirror(onResize)\r\n    }, 100) }\r\n  })\r\n  // When the window loses focus, we want to show the editor as blurred\r\n  on(window, \"blur\", function () { return forEachCodeMirror(onBlur); })\r\n}\r\n// Called when the window resizes\r\nfunction onResize(cm) {\r\n  var d = cm.display\r\n  if (d.lastWrapHeight == d.wrapper.clientHeight && d.lastWrapWidth == d.wrapper.clientWidth)\r\n    { return }\r\n  // Might be a text scaling operation, clear size caches.\r\n  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null\r\n  d.scrollbarsClipped = false\r\n  cm.setSize()\r\n}\r\n\r\nvar keyNames = {\r\n  3: \"Enter\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\r\n  19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\r\n  36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\r\n  46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\r\n  106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 127: \"Delete\",\r\n  173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\r\n  221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\r\n  63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\r\n}\r\n\r\n// Number keys\r\nfor (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i) }\r\n// Alphabetic keys\r\nfor (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1) }\r\n// Function keys\r\nfor (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2 }\r\n\r\nvar keyMap = {}\r\n\r\nkeyMap.basic = {\r\n  \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\r\n  \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\r\n  \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\r\n  \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\r\n  \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\r\n  \"Esc\": \"singleSelection\"\r\n}\r\n// Note that the save and find-related commands aren't defined by\r\n// default. User code or addons can define them. Unknown commands\r\n// are simply ignored.\r\nkeyMap.pcDefault = {\r\n  \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\r\n  \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\r\n  \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\r\n  \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\r\n  \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\r\n  \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\r\n  \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\r\n  fallthrough: \"basic\"\r\n}\r\n// Very basic readline/emacs-style bindings, which are standard on Mac.\r\nkeyMap.emacsy = {\r\n  \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\r\n  \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\r\n  \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\r\n  \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\r\n  \"Ctrl-O\": \"openLine\"\r\n}\r\nkeyMap.macDefault = {\r\n  \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\r\n  \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\r\n  \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\r\n  \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\r\n  \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\r\n  \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\r\n  \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\r\n  fallthrough: [\"basic\", \"emacsy\"]\r\n}\r\nkeyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault\r\n\r\n// KEYMAP DISPATCH\r\n\r\nfunction normalizeKeyName(name) {\r\n  var parts = name.split(/-(?!$)/)\r\n  name = parts[parts.length - 1]\r\n  var alt, ctrl, shift, cmd\r\n  for (var i = 0; i < parts.length - 1; i++) {\r\n    var mod = parts[i]\r\n    if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true }\r\n    else if (/^a(lt)?$/i.test(mod)) { alt = true }\r\n    else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true }\r\n    else if (/^s(hift)?$/i.test(mod)) { shift = true }\r\n    else { throw new Error(\"Unrecognized modifier name: \" + mod) }\r\n  }\r\n  if (alt) { name = \"Alt-\" + name }\r\n  if (ctrl) { name = \"Ctrl-\" + name }\r\n  if (cmd) { name = \"Cmd-\" + name }\r\n  if (shift) { name = \"Shift-\" + name }\r\n  return name\r\n}\r\n\r\n// This is a kludge to keep keymaps mostly working as raw objects\r\n// (backwards compatibility) while at the same time support features\r\n// like normalization and multi-stroke key bindings. It compiles a\r\n// new normalized keymap, and then updates the old object to reflect\r\n// this.\r\nfunction normalizeKeyMap(keymap) {\r\n  var copy = {}\r\n  for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\r\n    var value = keymap[keyname]\r\n    if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\r\n    if (value == \"...\") { delete keymap[keyname]; continue }\r\n\r\n    var keys = map(keyname.split(\" \"), normalizeKeyName)\r\n    for (var i = 0; i < keys.length; i++) {\r\n      var val = (void 0), name = (void 0)\r\n      if (i == keys.length - 1) {\r\n        name = keys.join(\" \")\r\n        val = value\r\n      } else {\r\n        name = keys.slice(0, i + 1).join(\" \")\r\n        val = \"...\"\r\n      }\r\n      var prev = copy[name]\r\n      if (!prev) { copy[name] = val }\r\n      else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\r\n    }\r\n    delete keymap[keyname]\r\n  } }\r\n  for (var prop in copy) { keymap[prop] = copy[prop] }\r\n  return keymap\r\n}\r\n\r\nfunction lookupKey(key, map, handle, context) {\r\n  map = getKeyMap(map)\r\n  var found = map.call ? map.call(key, context) : map[key]\r\n  if (found === false) { return \"nothing\" }\r\n  if (found === \"...\") { return \"multi\" }\r\n  if (found != null && handle(found)) { return \"handled\" }\r\n\r\n  if (map.fallthrough) {\r\n    if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\r\n      { return lookupKey(key, map.fallthrough, handle, context) }\r\n    for (var i = 0; i < map.fallthrough.length; i++) {\r\n      var result = lookupKey(key, map.fallthrough[i], handle, context)\r\n      if (result) { return result }\r\n    }\r\n  }\r\n}\r\n\r\n// Modifier key presses don't count as 'real' key presses for the\r\n// purpose of keymap fallthrough.\r\nfunction isModifierKey(value) {\r\n  var name = typeof value == \"string\" ? value : keyNames[value.keyCode]\r\n  return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\r\n}\r\n\r\n// Look up the name of a key as indicated by an event object.\r\nfunction keyName(event, noShift) {\r\n  if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\r\n  var base = keyNames[event.keyCode], name = base\r\n  if (name == null || event.altGraphKey) { return false }\r\n  if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name }\r\n  if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name }\r\n  if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") { name = \"Cmd-\" + name }\r\n  if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name }\r\n  return name\r\n}\r\n\r\nfunction getKeyMap(val) {\r\n  return typeof val == \"string\" ? keyMap[val] : val\r\n}\r\n\r\n// Helper for deleting text near the selection(s), used to implement\r\n// backspace, delete, and similar functionality.\r\nfunction deleteNearSelection(cm, compute) {\r\n  var ranges = cm.doc.sel.ranges, kill = []\r\n  // Build up a set of ranges to kill first, merging overlapping\r\n  // ranges.\r\n  for (var i = 0; i < ranges.length; i++) {\r\n    var toKill = compute(ranges[i])\r\n    while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\r\n      var replaced = kill.pop()\r\n      if (cmp(replaced.from, toKill.from) < 0) {\r\n        toKill.from = replaced.from\r\n        break\r\n      }\r\n    }\r\n    kill.push(toKill)\r\n  }\r\n  // Next, remove those actual ranges.\r\n  runInOp(cm, function () {\r\n    for (var i = kill.length - 1; i >= 0; i--)\r\n      { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\") }\r\n    ensureCursorVisible(cm)\r\n  })\r\n}\r\n\r\n// Commands are parameter-less actions that can be performed on an\r\n// editor, mostly used for keybindings.\r\nvar commands = {\r\n  selectAll: selectAll,\r\n  singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\r\n  killLine: function (cm) { return deleteNearSelection(cm, function (range) {\r\n    if (range.empty()) {\r\n      var len = getLine(cm.doc, range.head.line).text.length\r\n      if (range.head.ch == len && range.head.line < cm.lastLine())\r\n        { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\r\n      else\r\n        { return {from: range.head, to: Pos(range.head.line, len)} }\r\n    } else {\r\n      return {from: range.from(), to: range.to()}\r\n    }\r\n  }); },\r\n  deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\r\n    from: Pos(range.from().line, 0),\r\n    to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\r\n  }); }); },\r\n  delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\r\n    from: Pos(range.from().line, 0), to: range.from()\r\n  }); }); },\r\n  delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\r\n    var top = cm.charCoords(range.head, \"div\").top + 5\r\n    var leftPos = cm.coordsChar({left: 0, top: top}, \"div\")\r\n    return {from: leftPos, to: range.from()}\r\n  }); },\r\n  delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\r\n    var top = cm.charCoords(range.head, \"div\").top + 5\r\n    var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\r\n    return {from: range.from(), to: rightPos }\r\n  }); },\r\n  undo: function (cm) { return cm.undo(); },\r\n  redo: function (cm) { return cm.redo(); },\r\n  undoSelection: function (cm) { return cm.undoSelection(); },\r\n  redoSelection: function (cm) { return cm.redoSelection(); },\r\n  goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\r\n  goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\r\n  goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\r\n    {origin: \"+move\", bias: 1}\r\n  ); },\r\n  goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\r\n    {origin: \"+move\", bias: 1}\r\n  ); },\r\n  goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\r\n    {origin: \"+move\", bias: -1}\r\n  ); },\r\n  goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\r\n    var top = cm.charCoords(range.head, \"div\").top + 5\r\n    return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\r\n  }, sel_move); },\r\n  goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\r\n    var top = cm.charCoords(range.head, \"div\").top + 5\r\n    return cm.coordsChar({left: 0, top: top}, \"div\")\r\n  }, sel_move); },\r\n  goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\r\n    var top = cm.charCoords(range.head, \"div\").top + 5\r\n    var pos = cm.coordsChar({left: 0, top: top}, \"div\")\r\n    if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\r\n    return pos\r\n  }, sel_move); },\r\n  goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\r\n  goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\r\n  goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\r\n  goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\r\n  goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\r\n  goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\r\n  goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\r\n  goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\r\n  goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\r\n  goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\r\n  goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\r\n  goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\r\n  delCharBefore: function (cm) { return cm.deleteH(-1, \"char\"); },\r\n  delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\r\n  delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\r\n  delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\r\n  delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\r\n  delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\r\n  indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\r\n  indentMore: function (cm) { return cm.indentSelection(\"add\"); },\r\n  indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\r\n  insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\r\n  insertSoftTab: function (cm) {\r\n    var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      var pos = ranges[i].from()\r\n      var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize)\r\n      spaces.push(spaceStr(tabSize - col % tabSize))\r\n    }\r\n    cm.replaceSelections(spaces)\r\n  },\r\n  defaultTab: function (cm) {\r\n    if (cm.somethingSelected()) { cm.indentSelection(\"add\") }\r\n    else { cm.execCommand(\"insertTab\") }\r\n  },\r\n  // Swap the two chars left and right of each selection's head.\r\n  // Move cursor behind the two swapped characters afterwards.\r\n  //\r\n  // Doesn't consider line feeds a character.\r\n  // Doesn't scan more than one line above to find a character.\r\n  // Doesn't do anything on an empty line.\r\n  // Doesn't do anything with non-empty selections.\r\n  transposeChars: function (cm) { return runInOp(cm, function () {\r\n    var ranges = cm.listSelections(), newSel = []\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      if (!ranges[i].empty()) { continue }\r\n      var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text\r\n      if (line) {\r\n        if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1) }\r\n        if (cur.ch > 0) {\r\n          cur = new Pos(cur.line, cur.ch + 1)\r\n          cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\r\n                          Pos(cur.line, cur.ch - 2), cur, \"+transpose\")\r\n        } else if (cur.line > cm.doc.first) {\r\n          var prev = getLine(cm.doc, cur.line - 1).text\r\n          if (prev) {\r\n            cur = new Pos(cur.line, 1)\r\n            cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\r\n                            prev.charAt(prev.length - 1),\r\n                            Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\")\r\n          }\r\n        }\r\n      }\r\n      newSel.push(new Range(cur, cur))\r\n    }\r\n    cm.setSelections(newSel)\r\n  }); },\r\n  newlineAndIndent: function (cm) { return runInOp(cm, function () {\r\n    var sels = cm.listSelections()\r\n    for (var i = sels.length - 1; i >= 0; i--)\r\n      { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\") }\r\n    sels = cm.listSelections()\r\n    for (var i$1 = 0; i$1 < sels.length; i$1++)\r\n      { cm.indentLine(sels[i$1].from().line, null, true) }\r\n    ensureCursorVisible(cm)\r\n  }); },\r\n  openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\r\n  toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\r\n}\r\n\r\n\r\nfunction lineStart(cm, lineN) {\r\n  var line = getLine(cm.doc, lineN)\r\n  var visual = visualLine(line)\r\n  if (visual != line) { lineN = lineNo(visual) }\r\n  return endOfLine(true, cm, visual, lineN, 1)\r\n}\r\nfunction lineEnd(cm, lineN) {\r\n  var line = getLine(cm.doc, lineN)\r\n  var visual = visualLineEnd(line)\r\n  if (visual != line) { lineN = lineNo(visual) }\r\n  return endOfLine(true, cm, line, lineN, -1)\r\n}\r\nfunction lineStartSmart(cm, pos) {\r\n  var start = lineStart(cm, pos.line)\r\n  var line = getLine(cm.doc, start.line)\r\n  var order = getOrder(line)\r\n  if (!order || order[0].level == 0) {\r\n    var firstNonWS = Math.max(0, line.text.search(/\\S/))\r\n    var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch\r\n    return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\r\n  }\r\n  return start\r\n}\r\n\r\n// Run a handler that was bound to a key.\r\nfunction doHandleBinding(cm, bound, dropShift) {\r\n  if (typeof bound == \"string\") {\r\n    bound = commands[bound]\r\n    if (!bound) { return false }\r\n  }\r\n  // Ensure previous input has been read, so that the handler sees a\r\n  // consistent view of the document\r\n  cm.display.input.ensurePolled()\r\n  var prevShift = cm.display.shift, done = false\r\n  try {\r\n    if (cm.isReadOnly()) { cm.state.suppressEdits = true }\r\n    if (dropShift) { cm.display.shift = false }\r\n    done = bound(cm) != Pass\r\n  } finally {\r\n    cm.display.shift = prevShift\r\n    cm.state.suppressEdits = false\r\n  }\r\n  return done\r\n}\r\n\r\nfunction lookupKeyForEditor(cm, name, handle) {\r\n  for (var i = 0; i < cm.state.keyMaps.length; i++) {\r\n    var result = lookupKey(name, cm.state.keyMaps[i], handle, cm)\r\n    if (result) { return result }\r\n  }\r\n  return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\r\n    || lookupKey(name, cm.options.keyMap, handle, cm)\r\n}\r\n\r\nvar stopSeq = new Delayed\r\nfunction dispatchKey(cm, name, e, handle) {\r\n  var seq = cm.state.keySeq\r\n  if (seq) {\r\n    if (isModifierKey(name)) { return \"handled\" }\r\n    stopSeq.set(50, function () {\r\n      if (cm.state.keySeq == seq) {\r\n        cm.state.keySeq = null\r\n        cm.display.input.reset()\r\n      }\r\n    })\r\n    name = seq + \" \" + name\r\n  }\r\n  var result = lookupKeyForEditor(cm, name, handle)\r\n\r\n  if (result == \"multi\")\r\n    { cm.state.keySeq = name }\r\n  if (result == \"handled\")\r\n    { signalLater(cm, \"keyHandled\", cm, name, e) }\r\n\r\n  if (result == \"handled\" || result == \"multi\") {\r\n    e_preventDefault(e)\r\n    restartBlink(cm)\r\n  }\r\n\r\n  if (seq && !result && /\\'$/.test(name)) {\r\n    e_preventDefault(e)\r\n    return true\r\n  }\r\n  return !!result\r\n}\r\n\r\n// Handle a key from the keydown event.\r\nfunction handleKeyBinding(cm, e) {\r\n  var name = keyName(e, true)\r\n  if (!name) { return false }\r\n\r\n  if (e.shiftKey && !cm.state.keySeq) {\r\n    // First try to resolve full name (including 'Shift-'). Failing\r\n    // that, see if there is a cursor-motion command (starting with\r\n    // 'go') bound to the keyname without 'Shift-'.\r\n    return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\r\n        || dispatchKey(cm, name, e, function (b) {\r\n             if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\r\n               { return doHandleBinding(cm, b) }\r\n           })\r\n  } else {\r\n    return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\r\n  }\r\n}\r\n\r\n// Handle a key from the keypress event\r\nfunction handleCharBinding(cm, e, ch) {\r\n  return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\r\n}\r\n\r\nvar lastStoppedKey = null\r\nfunction onKeyDown(e) {\r\n  var cm = this\r\n  cm.curOp.focus = activeElt()\r\n  if (signalDOMEvent(cm, e)) { return }\r\n  // IE does strange things with escape.\r\n  if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false }\r\n  var code = e.keyCode\r\n  cm.display.shift = code == 16 || e.shiftKey\r\n  var handled = handleKeyBinding(cm, e)\r\n  if (presto) {\r\n    lastStoppedKey = handled ? code : null\r\n    // Opera has no cut event... we try to at least catch the key combo\r\n    if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\r\n      { cm.replaceSelection(\"\", null, \"cut\") }\r\n  }\r\n\r\n  // Turn mouse into crosshair when Alt is held on Mac.\r\n  if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\r\n    { showCrossHair(cm) }\r\n}\r\n\r\nfunction showCrossHair(cm) {\r\n  var lineDiv = cm.display.lineDiv\r\n  addClass(lineDiv, \"CodeMirror-crosshair\")\r\n\r\n  function up(e) {\r\n    if (e.keyCode == 18 || !e.altKey) {\r\n      rmClass(lineDiv, \"CodeMirror-crosshair\")\r\n      off(document, \"keyup\", up)\r\n      off(document, \"mouseover\", up)\r\n    }\r\n  }\r\n  on(document, \"keyup\", up)\r\n  on(document, \"mouseover\", up)\r\n}\r\n\r\nfunction onKeyUp(e) {\r\n  if (e.keyCode == 16) { this.doc.sel.shift = false }\r\n  signalDOMEvent(this, e)\r\n}\r\n\r\nfunction onKeyPress(e) {\r\n  var cm = this\r\n  if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\r\n  var keyCode = e.keyCode, charCode = e.charCode\r\n  if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\r\n  if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\r\n  var ch = String.fromCharCode(charCode == null ? keyCode : charCode)\r\n  // Some browsers fire keypress events for backspace\r\n  if (ch == \"\\x08\") { return }\r\n  if (handleCharBinding(cm, e, ch)) { return }\r\n  cm.display.input.onKeyPress(e)\r\n}\r\n\r\n// A mouse down can be a single click, double click, triple click,\r\n// start of selection drag, start of text drag, new cursor\r\n// (ctrl-click), rectangle drag (alt-drag), or xwin\r\n// middle-click-paste. Or it might be a click on something we should\r\n// not interfere with, such as a scrollbar or widget.\r\nfunction onMouseDown(e) {\r\n  var cm = this, display = cm.display\r\n  if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\r\n  display.input.ensurePolled()\r\n  display.shift = e.shiftKey\r\n\r\n  if (eventInWidget(display, e)) {\r\n    if (!webkit) {\r\n      // Briefly turn off draggability, to allow widgets to do\r\n      // normal dragging things.\r\n      display.scroller.draggable = false\r\n      setTimeout(function () { return display.scroller.draggable = true; }, 100)\r\n    }\r\n    return\r\n  }\r\n  if (clickInGutter(cm, e)) { return }\r\n  var start = posFromMouse(cm, e)\r\n  window.focus()\r\n\r\n  switch (e_button(e)) {\r\n  case 1:\r\n    // #3261: make sure, that we're not starting a second selection\r\n    if (cm.state.selectingText)\r\n      { cm.state.selectingText(e) }\r\n    else if (start)\r\n      { leftButtonDown(cm, e, start) }\r\n    else if (e_target(e) == display.scroller)\r\n      { e_preventDefault(e) }\r\n    break\r\n  case 2:\r\n    if (webkit) { cm.state.lastMiddleDown = +new Date }\r\n    if (start) { extendSelection(cm.doc, start) }\r\n    setTimeout(function () { return display.input.focus(); }, 20)\r\n    e_preventDefault(e)\r\n    break\r\n  case 3:\r\n    if (captureRightClick) { onContextMenu(cm, e) }\r\n    else { delayBlurEvent(cm) }\r\n    break\r\n  }\r\n}\r\n\r\nvar lastClick;\r\nvar lastDoubleClick;\r\nfunction leftButtonDown(cm, e, start) {\r\n  if (ie) { setTimeout(bind(ensureFocus, cm), 0) }\r\n  else { cm.curOp.focus = activeElt() }\r\n\r\n  var now = +new Date, type\r\n  if (lastDoubleClick && lastDoubleClick.time > now - 400 && cmp(lastDoubleClick.pos, start) == 0) {\r\n    type = \"triple\"\r\n  } else if (lastClick && lastClick.time > now - 400 && cmp(lastClick.pos, start) == 0) {\r\n    type = \"double\"\r\n    lastDoubleClick = {time: now, pos: start}\r\n  } else {\r\n    type = \"single\"\r\n    lastClick = {time: now, pos: start}\r\n  }\r\n\r\n  var sel = cm.doc.sel, modifier = mac ? e.metaKey : e.ctrlKey, contained\r\n  if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\r\n      type == \"single\" && (contained = sel.contains(start)) > -1 &&\r\n      (cmp((contained = sel.ranges[contained]).from(), start) < 0 || start.xRel > 0) &&\r\n      (cmp(contained.to(), start) > 0 || start.xRel < 0))\r\n    { leftButtonStartDrag(cm, e, start, modifier) }\r\n  else\r\n    { leftButtonSelect(cm, e, start, type, modifier) }\r\n}\r\n\r\n// Start a text drag. When it ends, see if any dragging actually\r\n// happen, and treat as a click if it didn't.\r\nfunction leftButtonStartDrag(cm, e, start, modifier) {\r\n  var display = cm.display, startTime = +new Date\r\n  var dragEnd = operation(cm, function (e2) {\r\n    if (webkit) { display.scroller.draggable = false }\r\n    cm.state.draggingText = false\r\n    off(document, \"mouseup\", dragEnd)\r\n    off(display.scroller, \"drop\", dragEnd)\r\n    if (Math.abs(e.clientX - e2.clientX) + Math.abs(e.clientY - e2.clientY) < 10) {\r\n      e_preventDefault(e2)\r\n      if (!modifier && +new Date - 200 < startTime)\r\n        { extendSelection(cm.doc, start) }\r\n      // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\r\n      if (webkit || ie && ie_version == 9)\r\n        { setTimeout(function () {document.body.focus(); display.input.focus()}, 20) }\r\n      else\r\n        { display.input.focus() }\r\n    }\r\n  })\r\n  // Let the drag handler handle this.\r\n  if (webkit) { display.scroller.draggable = true }\r\n  cm.state.draggingText = dragEnd\r\n  dragEnd.copy = mac ? e.altKey : e.ctrlKey\r\n  // IE's approach to draggable\r\n  if (display.scroller.dragDrop) { display.scroller.dragDrop() }\r\n  on(document, \"mouseup\", dragEnd)\r\n  on(display.scroller, \"drop\", dragEnd)\r\n}\r\n\r\n// Normal selection, as opposed to text dragging.\r\nfunction leftButtonSelect(cm, e, start, type, addNew) {\r\n  var display = cm.display, doc = cm.doc\r\n  e_preventDefault(e)\r\n\r\n  var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges\r\n  if (addNew && !e.shiftKey) {\r\n    ourIndex = doc.sel.contains(start)\r\n    if (ourIndex > -1)\r\n      { ourRange = ranges[ourIndex] }\r\n    else\r\n      { ourRange = new Range(start, start) }\r\n  } else {\r\n    ourRange = doc.sel.primary()\r\n    ourIndex = doc.sel.primIndex\r\n  }\r\n\r\n  if (chromeOS ? e.shiftKey && e.metaKey : e.altKey) {\r\n    type = \"rect\"\r\n    if (!addNew) { ourRange = new Range(start, start) }\r\n    start = posFromMouse(cm, e, true, true)\r\n    ourIndex = -1\r\n  } else if (type == \"double\") {\r\n    var word = cm.findWordAt(start)\r\n    if (cm.display.shift || doc.extend)\r\n      { ourRange = extendRange(doc, ourRange, word.anchor, word.head) }\r\n    else\r\n      { ourRange = word }\r\n  } else if (type == \"triple\") {\r\n    var line = new Range(Pos(start.line, 0), clipPos(doc, Pos(start.line + 1, 0)))\r\n    if (cm.display.shift || doc.extend)\r\n      { ourRange = extendRange(doc, ourRange, line.anchor, line.head) }\r\n    else\r\n      { ourRange = line }\r\n  } else {\r\n    ourRange = extendRange(doc, ourRange, start)\r\n  }\r\n\r\n  if (!addNew) {\r\n    ourIndex = 0\r\n    setSelection(doc, new Selection([ourRange], 0), sel_mouse)\r\n    startSel = doc.sel\r\n  } else if (ourIndex == -1) {\r\n    ourIndex = ranges.length\r\n    setSelection(doc, normalizeSelection(ranges.concat([ourRange]), ourIndex),\r\n                 {scroll: false, origin: \"*mouse\"})\r\n  } else if (ranges.length > 1 && ranges[ourIndex].empty() && type == \"single\" && !e.shiftKey) {\r\n    setSelection(doc, normalizeSelection(ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\r\n                 {scroll: false, origin: \"*mouse\"})\r\n    startSel = doc.sel\r\n  } else {\r\n    replaceOneSelection(doc, ourIndex, ourRange, sel_mouse)\r\n  }\r\n\r\n  var lastPos = start\r\n  function extendTo(pos) {\r\n    if (cmp(lastPos, pos) == 0) { return }\r\n    lastPos = pos\r\n\r\n    if (type == \"rect\") {\r\n      var ranges = [], tabSize = cm.options.tabSize\r\n      var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize)\r\n      var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize)\r\n      var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol)\r\n      for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\r\n           line <= end; line++) {\r\n        var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize)\r\n        if (left == right)\r\n          { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))) }\r\n        else if (text.length > leftPos)\r\n          { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))) }\r\n      }\r\n      if (!ranges.length) { ranges.push(new Range(start, start)) }\r\n      setSelection(doc, normalizeSelection(startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\r\n                   {origin: \"*mouse\", scroll: false})\r\n      cm.scrollIntoView(pos)\r\n    } else {\r\n      var oldRange = ourRange\r\n      var anchor = oldRange.anchor, head = pos\r\n      if (type != \"single\") {\r\n        var range\r\n        if (type == \"double\")\r\n          { range = cm.findWordAt(pos) }\r\n        else\r\n          { range = new Range(Pos(pos.line, 0), clipPos(doc, Pos(pos.line + 1, 0))) }\r\n        if (cmp(range.anchor, anchor) > 0) {\r\n          head = range.head\r\n          anchor = minPos(oldRange.from(), range.anchor)\r\n        } else {\r\n          head = range.anchor\r\n          anchor = maxPos(oldRange.to(), range.head)\r\n        }\r\n      }\r\n      var ranges$1 = startSel.ranges.slice(0)\r\n      ranges$1[ourIndex] = new Range(clipPos(doc, anchor), head)\r\n      setSelection(doc, normalizeSelection(ranges$1, ourIndex), sel_mouse)\r\n    }\r\n  }\r\n\r\n  var editorSize = display.wrapper.getBoundingClientRect()\r\n  // Used to ensure timeout re-tries don't fire when another extend\r\n  // happened in the meantime (clearTimeout isn't reliable -- at\r\n  // least on Chrome, the timeouts still happen even when cleared,\r\n  // if the clear happens after their scheduled firing time).\r\n  var counter = 0\r\n\r\n  function extend(e) {\r\n    var curCount = ++counter\r\n    var cur = posFromMouse(cm, e, true, type == \"rect\")\r\n    if (!cur) { return }\r\n    if (cmp(cur, lastPos) != 0) {\r\n      cm.curOp.focus = activeElt()\r\n      extendTo(cur)\r\n      var visible = visibleLines(display, doc)\r\n      if (cur.line >= visible.to || cur.line < visible.from)\r\n        { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e) }}), 150) }\r\n    } else {\r\n      var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0\r\n      if (outside) { setTimeout(operation(cm, function () {\r\n        if (counter != curCount) { return }\r\n        display.scroller.scrollTop += outside\r\n        extend(e)\r\n      }), 50) }\r\n    }\r\n  }\r\n\r\n  function done(e) {\r\n    cm.state.selectingText = false\r\n    counter = Infinity\r\n    e_preventDefault(e)\r\n    display.input.focus()\r\n    off(document, \"mousemove\", move)\r\n    off(document, \"mouseup\", up)\r\n    doc.history.lastSelOrigin = null\r\n  }\r\n\r\n  var move = operation(cm, function (e) {\r\n    if (!e_button(e)) { done(e) }\r\n    else { extend(e) }\r\n  })\r\n  var up = operation(cm, done)\r\n  cm.state.selectingText = up\r\n  on(document, \"mousemove\", move)\r\n  on(document, \"mouseup\", up)\r\n}\r\n\r\n\r\n// Determines whether an event happened in the gutter, and fires the\r\n// handlers for the corresponding event.\r\nfunction gutterEvent(cm, e, type, prevent) {\r\n  var mX, mY\r\n  try { mX = e.clientX; mY = e.clientY }\r\n  catch(e) { return false }\r\n  if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\r\n  if (prevent) { e_preventDefault(e) }\r\n\r\n  var display = cm.display\r\n  var lineBox = display.lineDiv.getBoundingClientRect()\r\n\r\n  if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\r\n  mY -= lineBox.top - display.viewOffset\r\n\r\n  for (var i = 0; i < cm.options.gutters.length; ++i) {\r\n    var g = display.gutters.childNodes[i]\r\n    if (g && g.getBoundingClientRect().right >= mX) {\r\n      var line = lineAtHeight(cm.doc, mY)\r\n      var gutter = cm.options.gutters[i]\r\n      signal(cm, type, cm, line, gutter, e)\r\n      return e_defaultPrevented(e)\r\n    }\r\n  }\r\n}\r\n\r\nfunction clickInGutter(cm, e) {\r\n  return gutterEvent(cm, e, \"gutterClick\", true)\r\n}\r\n\r\n// CONTEXT MENU HANDLING\r\n\r\n// To make the context menu work, we need to briefly unhide the\r\n// textarea (making it as unobtrusive as possible) to let the\r\n// right-click take effect on it.\r\nfunction onContextMenu(cm, e) {\r\n  if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\r\n  if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\r\n  cm.display.input.onContextMenu(e)\r\n}\r\n\r\nfunction contextMenuInGutter(cm, e) {\r\n  if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\r\n  return gutterEvent(cm, e, \"gutterContextMenu\", false)\r\n}\r\n\r\nfunction themeChanged(cm) {\r\n  cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\r\n    cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\")\r\n  clearCaches(cm)\r\n}\r\n\r\nvar Init = {toString: function(){return \"CodeMirror.Init\"}}\r\n\r\nvar defaults = {}\r\nvar optionHandlers = {}\r\n\r\nfunction defineOptions(CodeMirror) {\r\n  var optionHandlers = CodeMirror.optionHandlers\r\n\r\n  function option(name, deflt, handle, notOnInit) {\r\n    CodeMirror.defaults[name] = deflt\r\n    if (handle) { optionHandlers[name] =\r\n      notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old) }} : handle }\r\n  }\r\n\r\n  CodeMirror.defineOption = option\r\n\r\n  // Passed to option handlers when there is no old value.\r\n  CodeMirror.Init = Init\r\n\r\n  // These two are, on init, called from the constructor because they\r\n  // have to be initialized before the editor can start at all.\r\n  option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true)\r\n  option(\"mode\", null, function (cm, val) {\r\n    cm.doc.modeOption = val\r\n    loadMode(cm)\r\n  }, true)\r\n\r\n  option(\"indentUnit\", 2, loadMode, true)\r\n  option(\"indentWithTabs\", false)\r\n  option(\"smartIndent\", true)\r\n  option(\"tabSize\", 4, function (cm) {\r\n    resetModeState(cm)\r\n    clearCaches(cm)\r\n    regChange(cm)\r\n  }, true)\r\n  option(\"lineSeparator\", null, function (cm, val) {\r\n    cm.doc.lineSep = val\r\n    if (!val) { return }\r\n    var newBreaks = [], lineNo = cm.doc.first\r\n    cm.doc.iter(function (line) {\r\n      for (var pos = 0;;) {\r\n        var found = line.text.indexOf(val, pos)\r\n        if (found == -1) { break }\r\n        pos = found + val.length\r\n        newBreaks.push(Pos(lineNo, found))\r\n      }\r\n      lineNo++\r\n    })\r\n    for (var i = newBreaks.length - 1; i >= 0; i--)\r\n      { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)) }\r\n  })\r\n  option(\"specialChars\", /[\\u0000-\\u001f\\u007f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function (cm, val, old) {\r\n    cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\")\r\n    if (old != Init) { cm.refresh() }\r\n  })\r\n  option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true)\r\n  option(\"electricChars\", true)\r\n  option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\r\n    throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\r\n  }, true)\r\n  option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true)\r\n  option(\"rtlMoveVisually\", !windows)\r\n  option(\"wholeLineUpdateBefore\", true)\r\n\r\n  option(\"theme\", \"default\", function (cm) {\r\n    themeChanged(cm)\r\n    guttersChanged(cm)\r\n  }, true)\r\n  option(\"keyMap\", \"default\", function (cm, val, old) {\r\n    var next = getKeyMap(val)\r\n    var prev = old != Init && getKeyMap(old)\r\n    if (prev && prev.detach) { prev.detach(cm, next) }\r\n    if (next.attach) { next.attach(cm, prev || null) }\r\n  })\r\n  option(\"extraKeys\", null)\r\n\r\n  option(\"lineWrapping\", false, wrappingChanged, true)\r\n  option(\"gutters\", [], function (cm) {\r\n    setGuttersForLineNumbers(cm.options)\r\n    guttersChanged(cm)\r\n  }, true)\r\n  option(\"fixedGutter\", true, function (cm, val) {\r\n    cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\"\r\n    cm.refresh()\r\n  }, true)\r\n  option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true)\r\n  option(\"scrollbarStyle\", \"native\", function (cm) {\r\n    initScrollbars(cm)\r\n    updateScrollbars(cm)\r\n    cm.display.scrollbars.setScrollTop(cm.doc.scrollTop)\r\n    cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)\r\n  }, true)\r\n  option(\"lineNumbers\", false, function (cm) {\r\n    setGuttersForLineNumbers(cm.options)\r\n    guttersChanged(cm)\r\n  }, true)\r\n  option(\"firstLineNumber\", 1, guttersChanged, true)\r\n  option(\"lineNumberFormatter\", function (integer) { return integer; }, guttersChanged, true)\r\n  option(\"showCursorWhenSelecting\", false, updateSelection, true)\r\n\r\n  option(\"resetSelectionOnContextMenu\", true)\r\n  option(\"lineWiseCopyCut\", true)\r\n\r\n  option(\"readOnly\", false, function (cm, val) {\r\n    if (val == \"nocursor\") {\r\n      onBlur(cm)\r\n      cm.display.input.blur()\r\n      cm.display.disabled = true\r\n    } else {\r\n      cm.display.disabled = false\r\n    }\r\n    cm.display.input.readOnlyChanged(val)\r\n  })\r\n  option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset() }}, true)\r\n  option(\"dragDrop\", true, dragDropChanged)\r\n  option(\"allowDropFileTypes\", null)\r\n\r\n  option(\"cursorBlinkRate\", 530)\r\n  option(\"cursorScrollMargin\", 0)\r\n  option(\"cursorHeight\", 1, updateSelection, true)\r\n  option(\"singleCursorHeightPerLine\", true, updateSelection, true)\r\n  option(\"workTime\", 100)\r\n  option(\"workDelay\", 100)\r\n  option(\"flattenSpans\", true, resetModeState, true)\r\n  option(\"addModeClass\", false, resetModeState, true)\r\n  option(\"pollInterval\", 100)\r\n  option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; })\r\n  option(\"historyEventDelay\", 1250)\r\n  option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true)\r\n  option(\"maxHighlightLength\", 10000, resetModeState, true)\r\n  option(\"moveInputWithCursor\", true, function (cm, val) {\r\n    if (!val) { cm.display.input.resetPosition() }\r\n  })\r\n\r\n  option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; })\r\n  option(\"autofocus\", null)\r\n}\r\n\r\nfunction guttersChanged(cm) {\r\n  updateGutters(cm)\r\n  regChange(cm)\r\n  alignHorizontally(cm)\r\n}\r\n\r\nfunction dragDropChanged(cm, value, old) {\r\n  var wasOn = old && old != Init\r\n  if (!value != !wasOn) {\r\n    var funcs = cm.display.dragFunctions\r\n    var toggle = value ? on : off\r\n    toggle(cm.display.scroller, \"dragstart\", funcs.start)\r\n    toggle(cm.display.scroller, \"dragenter\", funcs.enter)\r\n    toggle(cm.display.scroller, \"dragover\", funcs.over)\r\n    toggle(cm.display.scroller, \"dragleave\", funcs.leave)\r\n    toggle(cm.display.scroller, \"drop\", funcs.drop)\r\n  }\r\n}\r\n\r\nfunction wrappingChanged(cm) {\r\n  if (cm.options.lineWrapping) {\r\n    addClass(cm.display.wrapper, \"CodeMirror-wrap\")\r\n    cm.display.sizer.style.minWidth = \"\"\r\n    cm.display.sizerWidth = null\r\n  } else {\r\n    rmClass(cm.display.wrapper, \"CodeMirror-wrap\")\r\n    findMaxLine(cm)\r\n  }\r\n  estimateLineHeights(cm)\r\n  regChange(cm)\r\n  clearCaches(cm)\r\n  setTimeout(function () { return updateScrollbars(cm); }, 100)\r\n}\r\n\r\n// A CodeMirror instance represents an editor. This is the object\r\n// that user code is usually dealing with.\r\n\r\nfunction CodeMirror(place, options) {\r\n  var this$1 = this;\r\n\r\n  if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\r\n\r\n  this.options = options = options ? copyObj(options) : {}\r\n  // Determine effective options based on given values and defaults.\r\n  copyObj(defaults, options, false)\r\n  setGuttersForLineNumbers(options)\r\n\r\n  var doc = options.value\r\n  if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator) }\r\n  this.doc = doc\r\n\r\n  var input = new CodeMirror.inputStyles[options.inputStyle](this)\r\n  var display = this.display = new Display(place, doc, input)\r\n  display.wrapper.CodeMirror = this\r\n  updateGutters(this)\r\n  themeChanged(this)\r\n  if (options.lineWrapping)\r\n    { this.display.wrapper.className += \" CodeMirror-wrap\" }\r\n  initScrollbars(this)\r\n\r\n  this.state = {\r\n    keyMaps: [],  // stores maps added by addKeyMap\r\n    overlays: [], // highlighting overlays, as added by addOverlay\r\n    modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\r\n    overwrite: false,\r\n    delayingBlurEvent: false,\r\n    focused: false,\r\n    suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\r\n    pasteIncoming: false, cutIncoming: false, // help recognize paste/cut edits in input.poll\r\n    selectingText: false,\r\n    draggingText: false,\r\n    highlight: new Delayed(), // stores highlight worker timeout\r\n    keySeq: null,  // Unfinished key sequence\r\n    specialChars: null\r\n  }\r\n\r\n  if (options.autofocus && !mobile) { display.input.focus() }\r\n\r\n  // Override magic textarea content restore that IE sometimes does\r\n  // on our hidden textarea on reload\r\n  if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20) }\r\n\r\n  registerEventHandlers(this)\r\n  ensureGlobalHandlers()\r\n\r\n  startOperation(this)\r\n  this.curOp.forceUpdate = true\r\n  attachDoc(this, doc)\r\n\r\n  if ((options.autofocus && !mobile) || this.hasFocus())\r\n    { setTimeout(bind(onFocus, this), 20) }\r\n  else\r\n    { onBlur(this) }\r\n\r\n  for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\r\n    { optionHandlers[opt](this$1, options[opt], Init) } }\r\n  maybeUpdateLineNumberWidth(this)\r\n  if (options.finishInit) { options.finishInit(this) }\r\n  for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this$1) }\r\n  endOperation(this)\r\n  // Suppress optimizelegibility in Webkit, since it breaks text\r\n  // measuring on line wrapping boundaries.\r\n  if (webkit && options.lineWrapping &&\r\n      getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\r\n    { display.lineDiv.style.textRendering = \"auto\" }\r\n}\r\n\r\n// The default configuration options.\r\nCodeMirror.defaults = defaults\r\n// Functions to run when options are changed.\r\nCodeMirror.optionHandlers = optionHandlers\r\n\r\n// Attach the necessary event handlers when initializing the editor\r\nfunction registerEventHandlers(cm) {\r\n  var d = cm.display\r\n  on(d.scroller, \"mousedown\", operation(cm, onMouseDown))\r\n  // Older IE's will not fire a second mousedown for a double click\r\n  if (ie && ie_version < 11)\r\n    { on(d.scroller, \"dblclick\", operation(cm, function (e) {\r\n      if (signalDOMEvent(cm, e)) { return }\r\n      var pos = posFromMouse(cm, e)\r\n      if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\r\n      e_preventDefault(e)\r\n      var word = cm.findWordAt(pos)\r\n      extendSelection(cm.doc, word.anchor, word.head)\r\n    })) }\r\n  else\r\n    { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }) }\r\n  // Some browsers fire contextmenu *after* opening the menu, at\r\n  // which point we can't mess with it anymore. Context menu is\r\n  // handled in onMouseDown for these browsers.\r\n  if (!captureRightClick) { on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); }) }\r\n\r\n  // Used to suppress mouse event handling when a touch happens\r\n  var touchFinished, prevTouch = {end: 0}\r\n  function finishTouch() {\r\n    if (d.activeTouch) {\r\n      touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000)\r\n      prevTouch = d.activeTouch\r\n      prevTouch.end = +new Date\r\n    }\r\n  }\r\n  function isMouseLikeTouchEvent(e) {\r\n    if (e.touches.length != 1) { return false }\r\n    var touch = e.touches[0]\r\n    return touch.radiusX <= 1 && touch.radiusY <= 1\r\n  }\r\n  function farAway(touch, other) {\r\n    if (other.left == null) { return true }\r\n    var dx = other.left - touch.left, dy = other.top - touch.top\r\n    return dx * dx + dy * dy > 20 * 20\r\n  }\r\n  on(d.scroller, \"touchstart\", function (e) {\r\n    if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e)) {\r\n      d.input.ensurePolled()\r\n      clearTimeout(touchFinished)\r\n      var now = +new Date\r\n      d.activeTouch = {start: now, moved: false,\r\n                       prev: now - prevTouch.end <= 300 ? prevTouch : null}\r\n      if (e.touches.length == 1) {\r\n        d.activeTouch.left = e.touches[0].pageX\r\n        d.activeTouch.top = e.touches[0].pageY\r\n      }\r\n    }\r\n  })\r\n  on(d.scroller, \"touchmove\", function () {\r\n    if (d.activeTouch) { d.activeTouch.moved = true }\r\n  })\r\n  on(d.scroller, \"touchend\", function (e) {\r\n    var touch = d.activeTouch\r\n    if (touch && !eventInWidget(d, e) && touch.left != null &&\r\n        !touch.moved && new Date - touch.start < 300) {\r\n      var pos = cm.coordsChar(d.activeTouch, \"page\"), range\r\n      if (!touch.prev || farAway(touch, touch.prev)) // Single tap\r\n        { range = new Range(pos, pos) }\r\n      else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\r\n        { range = cm.findWordAt(pos) }\r\n      else // Triple tap\r\n        { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\r\n      cm.setSelection(range.anchor, range.head)\r\n      cm.focus()\r\n      e_preventDefault(e)\r\n    }\r\n    finishTouch()\r\n  })\r\n  on(d.scroller, \"touchcancel\", finishTouch)\r\n\r\n  // Sync scrolling between fake scrollbars and real scrollable\r\n  // area, ensure viewport is updated when scrolling.\r\n  on(d.scroller, \"scroll\", function () {\r\n    if (d.scroller.clientHeight) {\r\n      setScrollTop(cm, d.scroller.scrollTop)\r\n      setScrollLeft(cm, d.scroller.scrollLeft, true)\r\n      signal(cm, \"scroll\", cm)\r\n    }\r\n  })\r\n\r\n  // Listen to wheel events in order to try and update the viewport on time.\r\n  on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); })\r\n  on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); })\r\n\r\n  // Prevent wrapper from ever scrolling\r\n  on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; })\r\n\r\n  d.dragFunctions = {\r\n    enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e) }},\r\n    over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e) }},\r\n    start: function (e) { return onDragStart(cm, e); },\r\n    drop: operation(cm, onDrop),\r\n    leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm) }}\r\n  }\r\n\r\n  var inp = d.input.getField()\r\n  on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); })\r\n  on(inp, \"keydown\", operation(cm, onKeyDown))\r\n  on(inp, \"keypress\", operation(cm, onKeyPress))\r\n  on(inp, \"focus\", function (e) { return onFocus(cm, e); })\r\n  on(inp, \"blur\", function (e) { return onBlur(cm, e); })\r\n}\r\n\r\nvar initHooks = []\r\nCodeMirror.defineInitHook = function (f) { return initHooks.push(f); }\r\n\r\n// Indent the given line. The how parameter can be \"smart\",\r\n// \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\r\n// (typically set to true for forced single-line indents), empty\r\n// lines are not indented, and places where the mode returns Pass\r\n// are left alone.\r\nfunction indentLine(cm, n, how, aggressive) {\r\n  var doc = cm.doc, state\r\n  if (how == null) { how = \"add\" }\r\n  if (how == \"smart\") {\r\n    // Fall back to \"prev\" when the mode doesn't have an indentation\r\n    // method.\r\n    if (!doc.mode.indent) { how = \"prev\" }\r\n    else { state = getStateBefore(cm, n) }\r\n  }\r\n\r\n  var tabSize = cm.options.tabSize\r\n  var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize)\r\n  if (line.stateAfter) { line.stateAfter = null }\r\n  var curSpaceString = line.text.match(/^\\s*/)[0], indentation\r\n  if (!aggressive && !/\\S/.test(line.text)) {\r\n    indentation = 0\r\n    how = \"not\"\r\n  } else if (how == \"smart\") {\r\n    indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text)\r\n    if (indentation == Pass || indentation > 150) {\r\n      if (!aggressive) { return }\r\n      how = \"prev\"\r\n    }\r\n  }\r\n  if (how == \"prev\") {\r\n    if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize) }\r\n    else { indentation = 0 }\r\n  } else if (how == \"add\") {\r\n    indentation = curSpace + cm.options.indentUnit\r\n  } else if (how == \"subtract\") {\r\n    indentation = curSpace - cm.options.indentUnit\r\n  } else if (typeof how == \"number\") {\r\n    indentation = curSpace + how\r\n  }\r\n  indentation = Math.max(0, indentation)\r\n\r\n  var indentString = \"\", pos = 0\r\n  if (cm.options.indentWithTabs)\r\n    { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\"} }\r\n  if (pos < indentation) { indentString += spaceStr(indentation - pos) }\r\n\r\n  if (indentString != curSpaceString) {\r\n    replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\")\r\n    line.stateAfter = null\r\n    return true\r\n  } else {\r\n    // Ensure that, if the cursor was in the whitespace at the start\r\n    // of the line, it is moved to the end of that space.\r\n    for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\r\n      var range = doc.sel.ranges[i$1]\r\n      if (range.head.line == n && range.head.ch < curSpaceString.length) {\r\n        var pos$1 = Pos(n, curSpaceString.length)\r\n        replaceOneSelection(doc, i$1, new Range(pos$1, pos$1))\r\n        break\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// This will be set to a {lineWise: bool, text: [string]} object, so\r\n// that, when pasting, we know what kind of selections the copied\r\n// text was made out of.\r\nvar lastCopied = null\r\n\r\nfunction setLastCopied(newLastCopied) {\r\n  lastCopied = newLastCopied\r\n}\r\n\r\nfunction applyTextInput(cm, inserted, deleted, sel, origin) {\r\n  var doc = cm.doc\r\n  cm.display.shift = false\r\n  if (!sel) { sel = doc.sel }\r\n\r\n  var paste = cm.state.pasteIncoming || origin == \"paste\"\r\n  var textLines = splitLinesAuto(inserted), multiPaste = null\r\n  // When pasing N lines into N selections, insert one line per selection\r\n  if (paste && sel.ranges.length > 1) {\r\n    if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\r\n      if (sel.ranges.length % lastCopied.text.length == 0) {\r\n        multiPaste = []\r\n        for (var i = 0; i < lastCopied.text.length; i++)\r\n          { multiPaste.push(doc.splitLines(lastCopied.text[i])) }\r\n      }\r\n    } else if (textLines.length == sel.ranges.length) {\r\n      multiPaste = map(textLines, function (l) { return [l]; })\r\n    }\r\n  }\r\n\r\n  var updateInput\r\n  // Normal behavior is to insert the new text into every selection\r\n  for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\r\n    var range = sel.ranges[i$1]\r\n    var from = range.from(), to = range.to()\r\n    if (range.empty()) {\r\n      if (deleted && deleted > 0) // Handle deletion\r\n        { from = Pos(from.line, from.ch - deleted) }\r\n      else if (cm.state.overwrite && !paste) // Handle overwrite\r\n        { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)) }\r\n      else if (lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted)\r\n        { from = to = Pos(from.line, 0) }\r\n    }\r\n    updateInput = cm.curOp.updateInput\r\n    var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\r\n                       origin: origin || (paste ? \"paste\" : cm.state.cutIncoming ? \"cut\" : \"+input\")}\r\n    makeChange(cm.doc, changeEvent)\r\n    signalLater(cm, \"inputRead\", cm, changeEvent)\r\n  }\r\n  if (inserted && !paste)\r\n    { triggerElectric(cm, inserted) }\r\n\r\n  ensureCursorVisible(cm)\r\n  cm.curOp.updateInput = updateInput\r\n  cm.curOp.typing = true\r\n  cm.state.pasteIncoming = cm.state.cutIncoming = false\r\n}\r\n\r\nfunction handlePaste(e, cm) {\r\n  var pasted = e.clipboardData && e.clipboardData.getData(\"Text\")\r\n  if (pasted) {\r\n    e.preventDefault()\r\n    if (!cm.isReadOnly() && !cm.options.disableInput)\r\n      { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }) }\r\n    return true\r\n  }\r\n}\r\n\r\nfunction triggerElectric(cm, inserted) {\r\n  // When an 'electric' character is inserted, immediately trigger a reindent\r\n  if (!cm.options.electricChars || !cm.options.smartIndent) { return }\r\n  var sel = cm.doc.sel\r\n\r\n  for (var i = sel.ranges.length - 1; i >= 0; i--) {\r\n    var range = sel.ranges[i]\r\n    if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\r\n    var mode = cm.getModeAt(range.head)\r\n    var indented = false\r\n    if (mode.electricChars) {\r\n      for (var j = 0; j < mode.electricChars.length; j++)\r\n        { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\r\n          indented = indentLine(cm, range.head.line, \"smart\")\r\n          break\r\n        } }\r\n    } else if (mode.electricInput) {\r\n      if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\r\n        { indented = indentLine(cm, range.head.line, \"smart\") }\r\n    }\r\n    if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line) }\r\n  }\r\n}\r\n\r\nfunction copyableRanges(cm) {\r\n  var text = [], ranges = []\r\n  for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\r\n    var line = cm.doc.sel.ranges[i].head.line\r\n    var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)}\r\n    ranges.push(lineRange)\r\n    text.push(cm.getRange(lineRange.anchor, lineRange.head))\r\n  }\r\n  return {text: text, ranges: ranges}\r\n}\r\n\r\nfunction disableBrowserMagic(field, spellcheck) {\r\n  field.setAttribute(\"autocorrect\", \"off\")\r\n  field.setAttribute(\"autocapitalize\", \"off\")\r\n  field.setAttribute(\"spellcheck\", !!spellcheck)\r\n}\r\n\r\nfunction hiddenTextarea() {\r\n  var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\")\r\n  var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\")\r\n  // The textarea is kept positioned near the cursor to prevent the\r\n  // fact that it'll be scrolled into view on input from scrolling\r\n  // our fake cursor out of view. On webkit, when wrap=off, paste is\r\n  // very slow. So make the area wide instead.\r\n  if (webkit) { te.style.width = \"1000px\" }\r\n  else { te.setAttribute(\"wrap\", \"off\") }\r\n  // If border: 0; -- iOS fails to open keyboard (issue #1287)\r\n  if (ios) { te.style.border = \"1px solid black\" }\r\n  disableBrowserMagic(te)\r\n  return div\r\n}\r\n\r\n// The publicly visible API. Note that methodOp(f) means\r\n// 'wrap f in an operation, performed on its `this` parameter'.\r\n\r\n// This is not the complete set of editor methods. Most of the\r\n// methods defined on the Doc type are also injected into\r\n// CodeMirror.prototype, for backwards compatibility and\r\n// convenience.\r\n\r\nfunction addEditorMethods(CodeMirror) {\r\n  var optionHandlers = CodeMirror.optionHandlers\r\n\r\n  var helpers = CodeMirror.helpers = {}\r\n\r\n  CodeMirror.prototype = {\r\n    constructor: CodeMirror,\r\n    focus: function(){window.focus(); this.display.input.focus()},\r\n\r\n    setOption: function(option, value) {\r\n      var options = this.options, old = options[option]\r\n      if (options[option] == value && option != \"mode\") { return }\r\n      options[option] = value\r\n      if (optionHandlers.hasOwnProperty(option))\r\n        { operation(this, optionHandlers[option])(this, value, old) }\r\n      signal(this, \"optionChange\", this, option)\r\n    },\r\n\r\n    getOption: function(option) {return this.options[option]},\r\n    getDoc: function() {return this.doc},\r\n\r\n    addKeyMap: function(map, bottom) {\r\n      this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map))\r\n    },\r\n    removeKeyMap: function(map) {\r\n      var maps = this.state.keyMaps\r\n      for (var i = 0; i < maps.length; ++i)\r\n        { if (maps[i] == map || maps[i].name == map) {\r\n          maps.splice(i, 1)\r\n          return true\r\n        } }\r\n    },\r\n\r\n    addOverlay: methodOp(function(spec, options) {\r\n      var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec)\r\n      if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\r\n      insertSorted(this.state.overlays,\r\n                   {mode: mode, modeSpec: spec, opaque: options && options.opaque,\r\n                    priority: (options && options.priority) || 0},\r\n                   function (overlay) { return overlay.priority; })\r\n      this.state.modeGen++\r\n      regChange(this)\r\n    }),\r\n    removeOverlay: methodOp(function(spec) {\r\n      var this$1 = this;\r\n\r\n      var overlays = this.state.overlays\r\n      for (var i = 0; i < overlays.length; ++i) {\r\n        var cur = overlays[i].modeSpec\r\n        if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\r\n          overlays.splice(i, 1)\r\n          this$1.state.modeGen++\r\n          regChange(this$1)\r\n          return\r\n        }\r\n      }\r\n    }),\r\n\r\n    indentLine: methodOp(function(n, dir, aggressive) {\r\n      if (typeof dir != \"string\" && typeof dir != \"number\") {\r\n        if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\" }\r\n        else { dir = dir ? \"add\" : \"subtract\" }\r\n      }\r\n      if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive) }\r\n    }),\r\n    indentSelection: methodOp(function(how) {\r\n      var this$1 = this;\r\n\r\n      var ranges = this.doc.sel.ranges, end = -1\r\n      for (var i = 0; i < ranges.length; i++) {\r\n        var range = ranges[i]\r\n        if (!range.empty()) {\r\n          var from = range.from(), to = range.to()\r\n          var start = Math.max(end, from.line)\r\n          end = Math.min(this$1.lastLine(), to.line - (to.ch ? 0 : 1)) + 1\r\n          for (var j = start; j < end; ++j)\r\n            { indentLine(this$1, j, how) }\r\n          var newRanges = this$1.doc.sel.ranges\r\n          if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\r\n            { replaceOneSelection(this$1.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll) }\r\n        } else if (range.head.line > end) {\r\n          indentLine(this$1, range.head.line, how, true)\r\n          end = range.head.line\r\n          if (i == this$1.doc.sel.primIndex) { ensureCursorVisible(this$1) }\r\n        }\r\n      }\r\n    }),\r\n\r\n    // Fetch the parser token for a given character. Useful for hacks\r\n    // that want to inspect the mode state (say, for completion).\r\n    getTokenAt: function(pos, precise) {\r\n      return takeToken(this, pos, precise)\r\n    },\r\n\r\n    getLineTokens: function(line, precise) {\r\n      return takeToken(this, Pos(line), precise, true)\r\n    },\r\n\r\n    getTokenTypeAt: function(pos) {\r\n      pos = clipPos(this.doc, pos)\r\n      var styles = getLineStyles(this, getLine(this.doc, pos.line))\r\n      var before = 0, after = (styles.length - 1) / 2, ch = pos.ch\r\n      var type\r\n      if (ch == 0) { type = styles[2] }\r\n      else { for (;;) {\r\n        var mid = (before + after) >> 1\r\n        if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid }\r\n        else if (styles[mid * 2 + 1] < ch) { before = mid + 1 }\r\n        else { type = styles[mid * 2 + 2]; break }\r\n      } }\r\n      var cut = type ? type.indexOf(\"overlay \") : -1\r\n      return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\r\n    },\r\n\r\n    getModeAt: function(pos) {\r\n      var mode = this.doc.mode\r\n      if (!mode.innerMode) { return mode }\r\n      return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\r\n    },\r\n\r\n    getHelper: function(pos, type) {\r\n      return this.getHelpers(pos, type)[0]\r\n    },\r\n\r\n    getHelpers: function(pos, type) {\r\n      var this$1 = this;\r\n\r\n      var found = []\r\n      if (!helpers.hasOwnProperty(type)) { return found }\r\n      var help = helpers[type], mode = this.getModeAt(pos)\r\n      if (typeof mode[type] == \"string\") {\r\n        if (help[mode[type]]) { found.push(help[mode[type]]) }\r\n      } else if (mode[type]) {\r\n        for (var i = 0; i < mode[type].length; i++) {\r\n          var val = help[mode[type][i]]\r\n          if (val) { found.push(val) }\r\n        }\r\n      } else if (mode.helperType && help[mode.helperType]) {\r\n        found.push(help[mode.helperType])\r\n      } else if (help[mode.name]) {\r\n        found.push(help[mode.name])\r\n      }\r\n      for (var i$1 = 0; i$1 < help._global.length; i$1++) {\r\n        var cur = help._global[i$1]\r\n        if (cur.pred(mode, this$1) && indexOf(found, cur.val) == -1)\r\n          { found.push(cur.val) }\r\n      }\r\n      return found\r\n    },\r\n\r\n    getStateAfter: function(line, precise) {\r\n      var doc = this.doc\r\n      line = clipLine(doc, line == null ? doc.first + doc.size - 1: line)\r\n      return getStateBefore(this, line + 1, precise)\r\n    },\r\n\r\n    cursorCoords: function(start, mode) {\r\n      var pos, range = this.doc.sel.primary()\r\n      if (start == null) { pos = range.head }\r\n      else if (typeof start == \"object\") { pos = clipPos(this.doc, start) }\r\n      else { pos = start ? range.from() : range.to() }\r\n      return cursorCoords(this, pos, mode || \"page\")\r\n    },\r\n\r\n    charCoords: function(pos, mode) {\r\n      return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\r\n    },\r\n\r\n    coordsChar: function(coords, mode) {\r\n      coords = fromCoordSystem(this, coords, mode || \"page\")\r\n      return coordsChar(this, coords.left, coords.top)\r\n    },\r\n\r\n    lineAtHeight: function(height, mode) {\r\n      height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top\r\n      return lineAtHeight(this.doc, height + this.display.viewOffset)\r\n    },\r\n    heightAtLine: function(line, mode, includeWidgets) {\r\n      var end = false, lineObj\r\n      if (typeof line == \"number\") {\r\n        var last = this.doc.first + this.doc.size - 1\r\n        if (line < this.doc.first) { line = this.doc.first }\r\n        else if (line > last) { line = last; end = true }\r\n        lineObj = getLine(this.doc, line)\r\n      } else {\r\n        lineObj = line\r\n      }\r\n      return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\r\n        (end ? this.doc.height - heightAtLine(lineObj) : 0)\r\n    },\r\n\r\n    defaultTextHeight: function() { return textHeight(this.display) },\r\n    defaultCharWidth: function() { return charWidth(this.display) },\r\n\r\n    getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\r\n\r\n    addWidget: function(pos, node, scroll, vert, horiz) {\r\n      var display = this.display\r\n      pos = cursorCoords(this, clipPos(this.doc, pos))\r\n      var top = pos.bottom, left = pos.left\r\n      node.style.position = \"absolute\"\r\n      node.setAttribute(\"cm-ignore-events\", \"true\")\r\n      this.display.input.setUneditable(node)\r\n      display.sizer.appendChild(node)\r\n      if (vert == \"over\") {\r\n        top = pos.top\r\n      } else if (vert == \"above\" || vert == \"near\") {\r\n        var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\r\n        hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth)\r\n        // Default to positioning above (if specified and possible); otherwise default to positioning below\r\n        if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\r\n          { top = pos.top - node.offsetHeight }\r\n        else if (pos.bottom + node.offsetHeight <= vspace)\r\n          { top = pos.bottom }\r\n        if (left + node.offsetWidth > hspace)\r\n          { left = hspace - node.offsetWidth }\r\n      }\r\n      node.style.top = top + \"px\"\r\n      node.style.left = node.style.right = \"\"\r\n      if (horiz == \"right\") {\r\n        left = display.sizer.clientWidth - node.offsetWidth\r\n        node.style.right = \"0px\"\r\n      } else {\r\n        if (horiz == \"left\") { left = 0 }\r\n        else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2 }\r\n        node.style.left = left + \"px\"\r\n      }\r\n      if (scroll)\r\n        { scrollIntoView(this, left, top, left + node.offsetWidth, top + node.offsetHeight) }\r\n    },\r\n\r\n    triggerOnKeyDown: methodOp(onKeyDown),\r\n    triggerOnKeyPress: methodOp(onKeyPress),\r\n    triggerOnKeyUp: onKeyUp,\r\n\r\n    execCommand: function(cmd) {\r\n      if (commands.hasOwnProperty(cmd))\r\n        { return commands[cmd].call(null, this) }\r\n    },\r\n\r\n    triggerElectric: methodOp(function(text) { triggerElectric(this, text) }),\r\n\r\n    findPosH: function(from, amount, unit, visually) {\r\n      var this$1 = this;\r\n\r\n      var dir = 1\r\n      if (amount < 0) { dir = -1; amount = -amount }\r\n      var cur = clipPos(this.doc, from)\r\n      for (var i = 0; i < amount; ++i) {\r\n        cur = findPosH(this$1.doc, cur, dir, unit, visually)\r\n        if (cur.hitSide) { break }\r\n      }\r\n      return cur\r\n    },\r\n\r\n    moveH: methodOp(function(dir, unit) {\r\n      var this$1 = this;\r\n\r\n      this.extendSelectionsBy(function (range) {\r\n        if (this$1.display.shift || this$1.doc.extend || range.empty())\r\n          { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }\r\n        else\r\n          { return dir < 0 ? range.from() : range.to() }\r\n      }, sel_move)\r\n    }),\r\n\r\n    deleteH: methodOp(function(dir, unit) {\r\n      var sel = this.doc.sel, doc = this.doc\r\n      if (sel.somethingSelected())\r\n        { doc.replaceSelection(\"\", null, \"+delete\") }\r\n      else\r\n        { deleteNearSelection(this, function (range) {\r\n          var other = findPosH(doc, range.head, dir, unit, false)\r\n          return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\r\n        }) }\r\n    }),\r\n\r\n    findPosV: function(from, amount, unit, goalColumn) {\r\n      var this$1 = this;\r\n\r\n      var dir = 1, x = goalColumn\r\n      if (amount < 0) { dir = -1; amount = -amount }\r\n      var cur = clipPos(this.doc, from)\r\n      for (var i = 0; i < amount; ++i) {\r\n        var coords = cursorCoords(this$1, cur, \"div\")\r\n        if (x == null) { x = coords.left }\r\n        else { coords.left = x }\r\n        cur = findPosV(this$1, coords, dir, unit)\r\n        if (cur.hitSide) { break }\r\n      }\r\n      return cur\r\n    },\r\n\r\n    moveV: methodOp(function(dir, unit) {\r\n      var this$1 = this;\r\n\r\n      var doc = this.doc, goals = []\r\n      var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected()\r\n      doc.extendSelectionsBy(function (range) {\r\n        if (collapse)\r\n          { return dir < 0 ? range.from() : range.to() }\r\n        var headPos = cursorCoords(this$1, range.head, \"div\")\r\n        if (range.goalColumn != null) { headPos.left = range.goalColumn }\r\n        goals.push(headPos.left)\r\n        var pos = findPosV(this$1, headPos, dir, unit)\r\n        if (unit == \"page\" && range == doc.sel.primary())\r\n          { addToScrollPos(this$1, null, charCoords(this$1, pos, \"div\").top - headPos.top) }\r\n        return pos\r\n      }, sel_move)\r\n      if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\r\n        { doc.sel.ranges[i].goalColumn = goals[i] } }\r\n    }),\r\n\r\n    // Find the word at the given position (as returned by coordsChar).\r\n    findWordAt: function(pos) {\r\n      var doc = this.doc, line = getLine(doc, pos.line).text\r\n      var start = pos.ch, end = pos.ch\r\n      if (line) {\r\n        var helper = this.getHelper(pos, \"wordChars\")\r\n        if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end }\r\n        var startChar = line.charAt(start)\r\n        var check = isWordChar(startChar, helper)\r\n          ? function (ch) { return isWordChar(ch, helper); }\r\n          : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\r\n          : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); }\r\n        while (start > 0 && check(line.charAt(start - 1))) { --start }\r\n        while (end < line.length && check(line.charAt(end))) { ++end }\r\n      }\r\n      return new Range(Pos(pos.line, start), Pos(pos.line, end))\r\n    },\r\n\r\n    toggleOverwrite: function(value) {\r\n      if (value != null && value == this.state.overwrite) { return }\r\n      if (this.state.overwrite = !this.state.overwrite)\r\n        { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\") }\r\n      else\r\n        { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\") }\r\n\r\n      signal(this, \"overwriteToggle\", this, this.state.overwrite)\r\n    },\r\n    hasFocus: function() { return this.display.input.getField() == activeElt() },\r\n    isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\r\n\r\n    scrollTo: methodOp(function(x, y) {\r\n      if (x != null || y != null) { resolveScrollToPos(this) }\r\n      if (x != null) { this.curOp.scrollLeft = x }\r\n      if (y != null) { this.curOp.scrollTop = y }\r\n    }),\r\n    getScrollInfo: function() {\r\n      var scroller = this.display.scroller\r\n      return {left: scroller.scrollLeft, top: scroller.scrollTop,\r\n              height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\r\n              width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\r\n              clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\r\n    },\r\n\r\n    scrollIntoView: methodOp(function(range, margin) {\r\n      if (range == null) {\r\n        range = {from: this.doc.sel.primary().head, to: null}\r\n        if (margin == null) { margin = this.options.cursorScrollMargin }\r\n      } else if (typeof range == \"number\") {\r\n        range = {from: Pos(range, 0), to: null}\r\n      } else if (range.from == null) {\r\n        range = {from: range, to: null}\r\n      }\r\n      if (!range.to) { range.to = range.from }\r\n      range.margin = margin || 0\r\n\r\n      if (range.from.line != null) {\r\n        resolveScrollToPos(this)\r\n        this.curOp.scrollToPos = range\r\n      } else {\r\n        var sPos = calculateScrollPos(this, Math.min(range.from.left, range.to.left),\r\n                                      Math.min(range.from.top, range.to.top) - range.margin,\r\n                                      Math.max(range.from.right, range.to.right),\r\n                                      Math.max(range.from.bottom, range.to.bottom) + range.margin)\r\n        this.scrollTo(sPos.scrollLeft, sPos.scrollTop)\r\n      }\r\n    }),\r\n\r\n    setSize: methodOp(function(width, height) {\r\n      var this$1 = this;\r\n\r\n      var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; }\r\n      if (width != null) { this.display.wrapper.style.width = interpret(width) }\r\n      if (height != null) { this.display.wrapper.style.height = interpret(height) }\r\n      if (this.options.lineWrapping) { clearLineMeasurementCache(this) }\r\n      var lineNo = this.display.viewFrom\r\n      this.doc.iter(lineNo, this.display.viewTo, function (line) {\r\n        if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\r\n          { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, \"widget\"); break } } }\r\n        ++lineNo\r\n      })\r\n      this.curOp.forceUpdate = true\r\n      signal(this, \"refresh\", this)\r\n    }),\r\n\r\n    operation: function(f){return runInOp(this, f)},\r\n\r\n    refresh: methodOp(function() {\r\n      var oldHeight = this.display.cachedTextHeight\r\n      regChange(this)\r\n      this.curOp.forceUpdate = true\r\n      clearCaches(this)\r\n      this.scrollTo(this.doc.scrollLeft, this.doc.scrollTop)\r\n      updateGutterSpace(this)\r\n      if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)\r\n        { estimateLineHeights(this) }\r\n      signal(this, \"refresh\", this)\r\n    }),\r\n\r\n    swapDoc: methodOp(function(doc) {\r\n      var old = this.doc\r\n      old.cm = null\r\n      attachDoc(this, doc)\r\n      clearCaches(this)\r\n      this.display.input.reset()\r\n      this.scrollTo(doc.scrollLeft, doc.scrollTop)\r\n      this.curOp.forceScroll = true\r\n      signalLater(this, \"swapDoc\", this, old)\r\n      return old\r\n    }),\r\n\r\n    getInputField: function(){return this.display.input.getField()},\r\n    getWrapperElement: function(){return this.display.wrapper},\r\n    getScrollerElement: function(){return this.display.scroller},\r\n    getGutterElement: function(){return this.display.gutters}\r\n  }\r\n  eventMixin(CodeMirror)\r\n\r\n  CodeMirror.registerHelper = function(type, name, value) {\r\n    if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []} }\r\n    helpers[type][name] = value\r\n  }\r\n  CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\r\n    CodeMirror.registerHelper(type, name, value)\r\n    helpers[type]._global.push({pred: predicate, val: value})\r\n  }\r\n}\r\n\r\n// Used for horizontal relative motion. Dir is -1 or 1 (left or\r\n// right), unit can be \"char\", \"column\" (like char, but doesn't\r\n// cross line boundaries), \"word\" (across next word), or \"group\" (to\r\n// the start of next group of word or non-word-non-whitespace\r\n// chars). The visually param controls whether, in right-to-left\r\n// text, direction 1 means to move towards the next index in the\r\n// string, or towards the character to the right of the current\r\n// position. The resulting position will have a hitSide=true\r\n// property if it reached the end of the document.\r\nfunction findPosH(doc, pos, dir, unit, visually) {\r\n  var oldPos = pos\r\n  var origDir = dir\r\n  var lineObj = getLine(doc, pos.line)\r\n  function findNextLine() {\r\n    var l = pos.line + dir\r\n    if (l < doc.first || l >= doc.first + doc.size) { return false }\r\n    pos = new Pos(l, pos.ch, pos.sticky)\r\n    return lineObj = getLine(doc, l)\r\n  }\r\n  function moveOnce(boundToLine) {\r\n    var next\r\n    if (visually) {\r\n      next = moveVisually(doc.cm, lineObj, pos, dir)\r\n    } else {\r\n      next = moveLogically(lineObj, pos, dir)\r\n    }\r\n    if (next == null) {\r\n      if (!boundToLine && findNextLine())\r\n        { pos = endOfLine(visually, doc.cm, lineObj, pos.line, dir) }\r\n      else\r\n        { return false }\r\n    } else {\r\n      pos = next\r\n    }\r\n    return true\r\n  }\r\n\r\n  if (unit == \"char\") {\r\n    moveOnce()\r\n  } else if (unit == \"column\") {\r\n    moveOnce(true)\r\n  } else if (unit == \"word\" || unit == \"group\") {\r\n    var sawType = null, group = unit == \"group\"\r\n    var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\")\r\n    for (var first = true;; first = false) {\r\n      if (dir < 0 && !moveOnce(!first)) { break }\r\n      var cur = lineObj.text.charAt(pos.ch) || \"\\n\"\r\n      var type = isWordChar(cur, helper) ? \"w\"\r\n        : group && cur == \"\\n\" ? \"n\"\r\n        : !group || /\\s/.test(cur) ? null\r\n        : \"p\"\r\n      if (group && !first && !type) { type = \"s\" }\r\n      if (sawType && sawType != type) {\r\n        if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\"}\r\n        break\r\n      }\r\n\r\n      if (type) { sawType = type }\r\n      if (dir > 0 && !moveOnce(!first)) { break }\r\n    }\r\n  }\r\n  var result = skipAtomic(doc, pos, oldPos, origDir, true)\r\n  if (equalCursorPos(oldPos, result)) { result.hitSide = true }\r\n  return result\r\n}\r\n\r\n// For relative vertical movement. Dir may be -1 or 1. Unit can be\r\n// \"page\" or \"line\". The resulting position will have a hitSide=true\r\n// property if it reached the end of the document.\r\nfunction findPosV(cm, pos, dir, unit) {\r\n  var doc = cm.doc, x = pos.left, y\r\n  if (unit == \"page\") {\r\n    var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight)\r\n    var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3)\r\n    y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount\r\n\r\n  } else if (unit == \"line\") {\r\n    y = dir > 0 ? pos.bottom + 3 : pos.top - 3\r\n  }\r\n  var target\r\n  for (;;) {\r\n    target = coordsChar(cm, x, y)\r\n    if (!target.outside) { break }\r\n    if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\r\n    y += dir * 5\r\n  }\r\n  return target\r\n}\r\n\r\n// CONTENTEDITABLE INPUT STYLE\r\n\r\nvar ContentEditableInput = function(cm) {\r\n  this.cm = cm\r\n  this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null\r\n  this.polling = new Delayed()\r\n  this.composing = null\r\n  this.gracePeriod = false\r\n  this.readDOMTimeout = null\r\n};\r\n\r\nContentEditableInput.prototype.init = function (display) {\r\n    var this$1 = this;\r\n\r\n  var input = this, cm = input.cm\r\n  var div = input.div = display.lineDiv\r\n  disableBrowserMagic(div, cm.options.spellcheck)\r\n\r\n  on(div, \"paste\", function (e) {\r\n    if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\r\n    // IE doesn't fire input events, so we schedule a read for the pasted content in this way\r\n    if (ie_version <= 11) { setTimeout(operation(cm, function () {\r\n      if (!input.pollContent()) { regChange(cm) }\r\n    }), 20) }\r\n  })\r\n\r\n  on(div, \"compositionstart\", function (e) {\r\n    this$1.composing = {data: e.data, done: false}\r\n  })\r\n  on(div, \"compositionupdate\", function (e) {\r\n    if (!this$1.composing) { this$1.composing = {data: e.data, done: false} }\r\n  })\r\n  on(div, \"compositionend\", function (e) {\r\n    if (this$1.composing) {\r\n      if (e.data != this$1.composing.data) { this$1.readFromDOMSoon() }\r\n      this$1.composing.done = true\r\n    }\r\n  })\r\n\r\n  on(div, \"touchstart\", function () { return input.forceCompositionEnd(); })\r\n\r\n  on(div, \"input\", function () {\r\n    if (!this$1.composing) { this$1.readFromDOMSoon() }\r\n  })\r\n\r\n  function onCopyCut(e) {\r\n    if (signalDOMEvent(cm, e)) { return }\r\n    if (cm.somethingSelected()) {\r\n      setLastCopied({lineWise: false, text: cm.getSelections()})\r\n      if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\") }\r\n    } else if (!cm.options.lineWiseCopyCut) {\r\n      return\r\n    } else {\r\n      var ranges = copyableRanges(cm)\r\n      setLastCopied({lineWise: true, text: ranges.text})\r\n      if (e.type == \"cut\") {\r\n        cm.operation(function () {\r\n          cm.setSelections(ranges.ranges, 0, sel_dontScroll)\r\n          cm.replaceSelection(\"\", null, \"cut\")\r\n        })\r\n      }\r\n    }\r\n    if (e.clipboardData) {\r\n      e.clipboardData.clearData()\r\n      var content = lastCopied.text.join(\"\\n\")\r\n      // iOS exposes the clipboard API, but seems to discard content inserted into it\r\n      e.clipboardData.setData(\"Text\", content)\r\n      if (e.clipboardData.getData(\"Text\") == content) {\r\n        e.preventDefault()\r\n        return\r\n      }\r\n    }\r\n    // Old-fashioned briefly-focus-a-textarea hack\r\n    var kludge = hiddenTextarea(), te = kludge.firstChild\r\n    cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild)\r\n    te.value = lastCopied.text.join(\"\\n\")\r\n    var hadFocus = document.activeElement\r\n    selectInput(te)\r\n    setTimeout(function () {\r\n      cm.display.lineSpace.removeChild(kludge)\r\n      hadFocus.focus()\r\n      if (hadFocus == div) { input.showPrimarySelection() }\r\n    }, 50)\r\n  }\r\n  on(div, \"copy\", onCopyCut)\r\n  on(div, \"cut\", onCopyCut)\r\n};\r\n\r\nContentEditableInput.prototype.prepareSelection = function () {\r\n  var result = prepareSelection(this.cm, false)\r\n  result.focus = this.cm.state.focused\r\n  return result\r\n};\r\n\r\nContentEditableInput.prototype.showSelection = function (info, takeFocus) {\r\n  if (!info || !this.cm.display.view.length) { return }\r\n  if (info.focus || takeFocus) { this.showPrimarySelection() }\r\n  this.showMultipleSelections(info)\r\n};\r\n\r\nContentEditableInput.prototype.showPrimarySelection = function () {\r\n  var sel = window.getSelection(), prim = this.cm.doc.sel.primary()\r\n  var curAnchor = domToPos(this.cm, sel.anchorNode, sel.anchorOffset)\r\n  var curFocus = domToPos(this.cm, sel.focusNode, sel.focusOffset)\r\n  if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\r\n      cmp(minPos(curAnchor, curFocus), prim.from()) == 0 &&\r\n      cmp(maxPos(curAnchor, curFocus), prim.to()) == 0)\r\n    { return }\r\n\r\n  var start = posToDOM(this.cm, prim.from())\r\n  var end = posToDOM(this.cm, prim.to())\r\n  if (!start && !end) { return }\r\n\r\n  var view = this.cm.display.view\r\n  var old = sel.rangeCount && sel.getRangeAt(0)\r\n  if (!start) {\r\n    start = {node: view[0].measure.map[2], offset: 0}\r\n  } else if (!end) { // FIXME dangerously hacky\r\n    var measure = view[view.length - 1].measure\r\n    var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map\r\n    end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]}\r\n  }\r\n\r\n  var rng\r\n  try { rng = range(start.node, start.offset, end.offset, end.node) }\r\n  catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\r\n  if (rng) {\r\n    if (!gecko && this.cm.state.focused) {\r\n      sel.collapse(start.node, start.offset)\r\n      if (!rng.collapsed) {\r\n        sel.removeAllRanges()\r\n        sel.addRange(rng)\r\n      }\r\n    } else {\r\n      sel.removeAllRanges()\r\n      sel.addRange(rng)\r\n    }\r\n    if (old && sel.anchorNode == null) { sel.addRange(old) }\r\n    else if (gecko) { this.startGracePeriod() }\r\n  }\r\n  this.rememberSelection()\r\n};\r\n\r\nContentEditableInput.prototype.startGracePeriod = function () {\r\n    var this$1 = this;\r\n\r\n  clearTimeout(this.gracePeriod)\r\n  this.gracePeriod = setTimeout(function () {\r\n    this$1.gracePeriod = false\r\n    if (this$1.selectionChanged())\r\n      { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }) }\r\n  }, 20)\r\n};\r\n\r\nContentEditableInput.prototype.showMultipleSelections = function (info) {\r\n  removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors)\r\n  removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection)\r\n};\r\n\r\nContentEditableInput.prototype.rememberSelection = function () {\r\n  var sel = window.getSelection()\r\n  this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset\r\n  this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset\r\n};\r\n\r\nContentEditableInput.prototype.selectionInEditor = function () {\r\n  var sel = window.getSelection()\r\n  if (!sel.rangeCount) { return false }\r\n  var node = sel.getRangeAt(0).commonAncestorContainer\r\n  return contains(this.div, node)\r\n};\r\n\r\nContentEditableInput.prototype.focus = function () {\r\n  if (this.cm.options.readOnly != \"nocursor\") {\r\n    if (!this.selectionInEditor())\r\n      { this.showSelection(this.prepareSelection(), true) }\r\n    this.div.focus()\r\n  }\r\n};\r\nContentEditableInput.prototype.blur = function () { this.div.blur() };\r\nContentEditableInput.prototype.getField = function () { return this.div };\r\n\r\nContentEditableInput.prototype.supportsTouch = function () { return true };\r\n\r\nContentEditableInput.prototype.receivedFocus = function () {\r\n  var input = this\r\n  if (this.selectionInEditor())\r\n    { this.pollSelection() }\r\n  else\r\n    { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }) }\r\n\r\n  function poll() {\r\n    if (input.cm.state.focused) {\r\n      input.pollSelection()\r\n      input.polling.set(input.cm.options.pollInterval, poll)\r\n    }\r\n  }\r\n  this.polling.set(this.cm.options.pollInterval, poll)\r\n};\r\n\r\nContentEditableInput.prototype.selectionChanged = function () {\r\n  var sel = window.getSelection()\r\n  return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\r\n    sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\r\n};\r\n\r\nContentEditableInput.prototype.pollSelection = function () {\r\n  if (!this.composing && this.readDOMTimeout == null && !this.gracePeriod && this.selectionChanged()) {\r\n    var sel = window.getSelection(), cm = this.cm\r\n    this.rememberSelection()\r\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset)\r\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset)\r\n    if (anchor && head) { runInOp(cm, function () {\r\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll)\r\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true }\r\n    }) }\r\n  }\r\n};\r\n\r\nContentEditableInput.prototype.pollContent = function () {\r\n  if (this.readDOMTimeout != null) {\r\n    clearTimeout(this.readDOMTimeout)\r\n    this.readDOMTimeout = null\r\n  }\r\n\r\n  var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary()\r\n  var from = sel.from(), to = sel.to()\r\n  if (from.ch == 0 && from.line > cm.firstLine())\r\n    { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length) }\r\n  if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\r\n    { to = Pos(to.line + 1, 0) }\r\n  if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\r\n\r\n  var fromIndex, fromLine, fromNode\r\n  if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\r\n    fromLine = lineNo(display.view[0].line)\r\n    fromNode = display.view[0].node\r\n  } else {\r\n    fromLine = lineNo(display.view[fromIndex].line)\r\n    fromNode = display.view[fromIndex - 1].node.nextSibling\r\n  }\r\n  var toIndex = findViewIndex(cm, to.line)\r\n  var toLine, toNode\r\n  if (toIndex == display.view.length - 1) {\r\n    toLine = display.viewTo - 1\r\n    toNode = display.lineDiv.lastChild\r\n  } else {\r\n    toLine = lineNo(display.view[toIndex + 1].line) - 1\r\n    toNode = display.view[toIndex + 1].node.previousSibling\r\n  }\r\n\r\n  if (!fromNode) { return false }\r\n  var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine))\r\n  var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length))\r\n  while (newText.length > 1 && oldText.length > 1) {\r\n    if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine-- }\r\n    else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++ }\r\n    else { break }\r\n  }\r\n\r\n  var cutFront = 0, cutEnd = 0\r\n  var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length)\r\n  while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\r\n    { ++cutFront }\r\n  var newBot = lst(newText), oldBot = lst(oldText)\r\n  var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\r\n                           oldBot.length - (oldText.length == 1 ? cutFront : 0))\r\n  while (cutEnd < maxCutEnd &&\r\n         newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\r\n    { ++cutEnd }\r\n\r\n  newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\")\r\n  newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\")\r\n\r\n  var chFrom = Pos(fromLine, cutFront)\r\n  var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0)\r\n  if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\r\n    replaceRange(cm.doc, newText, chFrom, chTo, \"+input\")\r\n    return true\r\n  }\r\n};\r\n\r\nContentEditableInput.prototype.ensurePolled = function () {\r\n  this.forceCompositionEnd()\r\n};\r\nContentEditableInput.prototype.reset = function () {\r\n  this.forceCompositionEnd()\r\n};\r\nContentEditableInput.prototype.forceCompositionEnd = function () {\r\n  if (!this.composing) { return }\r\n  clearTimeout(this.readDOMTimeout)\r\n  this.composing = null\r\n  if (!this.pollContent()) { regChange(this.cm) }\r\n  this.div.blur()\r\n  this.div.focus()\r\n};\r\nContentEditableInput.prototype.readFromDOMSoon = function () {\r\n    var this$1 = this;\r\n\r\n  if (this.readDOMTimeout != null) { return }\r\n  this.readDOMTimeout = setTimeout(function () {\r\n    this$1.readDOMTimeout = null\r\n    if (this$1.composing) {\r\n      if (this$1.composing.done) { this$1.composing = null }\r\n      else { return }\r\n    }\r\n    if (this$1.cm.isReadOnly() || !this$1.pollContent())\r\n      { runInOp(this$1.cm, function () { return regChange(this$1.cm); }) }\r\n  }, 80)\r\n};\r\n\r\nContentEditableInput.prototype.setUneditable = function (node) {\r\n  node.contentEditable = \"false\"\r\n};\r\n\r\nContentEditableInput.prototype.onKeyPress = function (e) {\r\n  if (e.charCode == 0) { return }\r\n  e.preventDefault()\r\n  if (!this.cm.isReadOnly())\r\n    { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0) }\r\n};\r\n\r\nContentEditableInput.prototype.readOnlyChanged = function (val) {\r\n  this.div.contentEditable = String(val != \"nocursor\")\r\n};\r\n\r\nContentEditableInput.prototype.onContextMenu = function () {};\r\nContentEditableInput.prototype.resetPosition = function () {};\r\n\r\nContentEditableInput.prototype.needsContentAttribute = true\r\n\r\nfunction posToDOM(cm, pos) {\r\n  var view = findViewForLine(cm, pos.line)\r\n  if (!view || view.hidden) { return null }\r\n  var line = getLine(cm.doc, pos.line)\r\n  var info = mapFromLineView(view, line, pos.line)\r\n\r\n  var order = getOrder(line), side = \"left\"\r\n  if (order) {\r\n    var partPos = getBidiPartAt(order, pos.ch)\r\n    side = partPos % 2 ? \"right\" : \"left\"\r\n  }\r\n  var result = nodeAndOffsetInLineMap(info.map, pos.ch, side)\r\n  result.offset = result.collapse == \"right\" ? result.end : result.start\r\n  return result\r\n}\r\n\r\nfunction badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\r\n\r\nfunction domTextBetween(cm, from, to, fromLine, toLine) {\r\n  var text = \"\", closing = false, lineSep = cm.doc.lineSeparator()\r\n  function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\r\n  function walk(node) {\r\n    if (node.nodeType == 1) {\r\n      var cmText = node.getAttribute(\"cm-text\")\r\n      if (cmText != null) {\r\n        if (cmText == \"\") { text += node.textContent.replace(/\\u200b/g, \"\") }\r\n        else { text += cmText }\r\n        return\r\n      }\r\n      var markerID = node.getAttribute(\"cm-marker\"), range\r\n      if (markerID) {\r\n        var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID))\r\n        if (found.length && (range = found[0].find()))\r\n          { text += getBetween(cm.doc, range.from, range.to).join(lineSep) }\r\n        return\r\n      }\r\n      if (node.getAttribute(\"contenteditable\") == \"false\") { return }\r\n      for (var i = 0; i < node.childNodes.length; i++)\r\n        { walk(node.childNodes[i]) }\r\n      if (/^(pre|div|p)$/i.test(node.nodeName))\r\n        { closing = true }\r\n    } else if (node.nodeType == 3) {\r\n      var val = node.nodeValue\r\n      if (!val) { return }\r\n      if (closing) {\r\n        text += lineSep\r\n        closing = false\r\n      }\r\n      text += val\r\n    }\r\n  }\r\n  for (;;) {\r\n    walk(from)\r\n    if (from == to) { break }\r\n    from = from.nextSibling\r\n  }\r\n  return text\r\n}\r\n\r\nfunction domToPos(cm, node, offset) {\r\n  var lineNode\r\n  if (node == cm.display.lineDiv) {\r\n    lineNode = cm.display.lineDiv.childNodes[offset]\r\n    if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\r\n    node = null; offset = 0\r\n  } else {\r\n    for (lineNode = node;; lineNode = lineNode.parentNode) {\r\n      if (!lineNode || lineNode == cm.display.lineDiv) { return null }\r\n      if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\r\n    }\r\n  }\r\n  for (var i = 0; i < cm.display.view.length; i++) {\r\n    var lineView = cm.display.view[i]\r\n    if (lineView.node == lineNode)\r\n      { return locateNodeInLineView(lineView, node, offset) }\r\n  }\r\n}\r\n\r\nfunction locateNodeInLineView(lineView, node, offset) {\r\n  var wrapper = lineView.text.firstChild, bad = false\r\n  if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\r\n  if (node == wrapper) {\r\n    bad = true\r\n    node = wrapper.childNodes[offset]\r\n    offset = 0\r\n    if (!node) {\r\n      var line = lineView.rest ? lst(lineView.rest) : lineView.line\r\n      return badPos(Pos(lineNo(line), line.text.length), bad)\r\n    }\r\n  }\r\n\r\n  var textNode = node.nodeType == 3 ? node : null, topNode = node\r\n  if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\r\n    textNode = node.firstChild\r\n    if (offset) { offset = textNode.nodeValue.length }\r\n  }\r\n  while (topNode.parentNode != wrapper) { topNode = topNode.parentNode }\r\n  var measure = lineView.measure, maps = measure.maps\r\n\r\n  function find(textNode, topNode, offset) {\r\n    for (var i = -1; i < (maps ? maps.length : 0); i++) {\r\n      var map = i < 0 ? measure.map : maps[i]\r\n      for (var j = 0; j < map.length; j += 3) {\r\n        var curNode = map[j + 2]\r\n        if (curNode == textNode || curNode == topNode) {\r\n          var line = lineNo(i < 0 ? lineView.line : lineView.rest[i])\r\n          var ch = map[j] + offset\r\n          if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)] }\r\n          return Pos(line, ch)\r\n        }\r\n      }\r\n    }\r\n  }\r\n  var found = find(textNode, topNode, offset)\r\n  if (found) { return badPos(found, bad) }\r\n\r\n  // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\r\n  for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\r\n    found = find(after, after.firstChild, 0)\r\n    if (found)\r\n      { return badPos(Pos(found.line, found.ch - dist), bad) }\r\n    else\r\n      { dist += after.textContent.length }\r\n  }\r\n  for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\r\n    found = find(before, before.firstChild, -1)\r\n    if (found)\r\n      { return badPos(Pos(found.line, found.ch + dist$1), bad) }\r\n    else\r\n      { dist$1 += before.textContent.length }\r\n  }\r\n}\r\n\r\n// TEXTAREA INPUT STYLE\r\n\r\nvar TextareaInput = function(cm) {\r\n  this.cm = cm\r\n  // See input.poll and input.reset\r\n  this.prevInput = \"\"\r\n\r\n  // Flag that indicates whether we expect input to appear real soon\r\n  // now (after some event like 'keypress' or 'input') and are\r\n  // polling intensively.\r\n  this.pollingFast = false\r\n  // Self-resetting timeout for the poller\r\n  this.polling = new Delayed()\r\n  // Tracks when input.reset has punted to just putting a short\r\n  // string into the textarea instead of the full selection.\r\n  this.inaccurateSelection = false\r\n  // Used to work around IE issue with selection being forgotten when focus moves away from textarea\r\n  this.hasSelection = false\r\n  this.composing = null\r\n};\r\n\r\nTextareaInput.prototype.init = function (display) {\r\n    var this$1 = this;\r\n\r\n  var input = this, cm = this.cm\r\n\r\n  // Wraps and hides input textarea\r\n  var div = this.wrapper = hiddenTextarea()\r\n  // The semihidden textarea that is focused when the editor is\r\n  // focused, and receives input.\r\n  var te = this.textarea = div.firstChild\r\n  display.wrapper.insertBefore(div, display.wrapper.firstChild)\r\n\r\n  // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\r\n  if (ios) { te.style.width = \"0px\" }\r\n\r\n  on(te, \"input\", function () {\r\n    if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null }\r\n    input.poll()\r\n  })\r\n\r\n  on(te, \"paste\", function (e) {\r\n    if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\r\n\r\n    cm.state.pasteIncoming = true\r\n    input.fastPoll()\r\n  })\r\n\r\n  function prepareCopyCut(e) {\r\n    if (signalDOMEvent(cm, e)) { return }\r\n    if (cm.somethingSelected()) {\r\n      setLastCopied({lineWise: false, text: cm.getSelections()})\r\n      if (input.inaccurateSelection) {\r\n        input.prevInput = \"\"\r\n        input.inaccurateSelection = false\r\n        te.value = lastCopied.text.join(\"\\n\")\r\n        selectInput(te)\r\n      }\r\n    } else if (!cm.options.lineWiseCopyCut) {\r\n      return\r\n    } else {\r\n      var ranges = copyableRanges(cm)\r\n      setLastCopied({lineWise: true, text: ranges.text})\r\n      if (e.type == \"cut\") {\r\n        cm.setSelections(ranges.ranges, null, sel_dontScroll)\r\n      } else {\r\n        input.prevInput = \"\"\r\n        te.value = ranges.text.join(\"\\n\")\r\n        selectInput(te)\r\n      }\r\n    }\r\n    if (e.type == \"cut\") { cm.state.cutIncoming = true }\r\n  }\r\n  on(te, \"cut\", prepareCopyCut)\r\n  on(te, \"copy\", prepareCopyCut)\r\n\r\n  on(display.scroller, \"paste\", function (e) {\r\n    if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\r\n    cm.state.pasteIncoming = true\r\n    input.focus()\r\n  })\r\n\r\n  // Prevent normal selection in the editor (we handle our own)\r\n  on(display.lineSpace, \"selectstart\", function (e) {\r\n    if (!eventInWidget(display, e)) { e_preventDefault(e) }\r\n  })\r\n\r\n  on(te, \"compositionstart\", function () {\r\n    var start = cm.getCursor(\"from\")\r\n    if (input.composing) { input.composing.range.clear() }\r\n    input.composing = {\r\n      start: start,\r\n      range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\r\n    }\r\n  })\r\n  on(te, \"compositionend\", function () {\r\n    if (input.composing) {\r\n      input.poll()\r\n      input.composing.range.clear()\r\n      input.composing = null\r\n    }\r\n  })\r\n};\r\n\r\nTextareaInput.prototype.prepareSelection = function () {\r\n  // Redraw the selection and/or cursor\r\n  var cm = this.cm, display = cm.display, doc = cm.doc\r\n  var result = prepareSelection(cm)\r\n\r\n  // Move the hidden textarea near the cursor to prevent scrolling artifacts\r\n  if (cm.options.moveInputWithCursor) {\r\n    var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\")\r\n    var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect()\r\n    result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\r\n                                        headPos.top + lineOff.top - wrapOff.top))\r\n    result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\r\n                                         headPos.left + lineOff.left - wrapOff.left))\r\n  }\r\n\r\n  return result\r\n};\r\n\r\nTextareaInput.prototype.showSelection = function (drawn) {\r\n  var cm = this.cm, display = cm.display\r\n  removeChildrenAndAdd(display.cursorDiv, drawn.cursors)\r\n  removeChildrenAndAdd(display.selectionDiv, drawn.selection)\r\n  if (drawn.teTop != null) {\r\n    this.wrapper.style.top = drawn.teTop + \"px\"\r\n    this.wrapper.style.left = drawn.teLeft + \"px\"\r\n  }\r\n};\r\n\r\n// Reset the input to correspond to the selection (or to be empty,\r\n// when not typing and nothing is selected)\r\nTextareaInput.prototype.reset = function (typing) {\r\n  if (this.contextMenuPending) { return }\r\n  var minimal, selected, cm = this.cm, doc = cm.doc\r\n  if (cm.somethingSelected()) {\r\n    this.prevInput = \"\"\r\n    var range = doc.sel.primary()\r\n    minimal = hasCopyEvent &&\r\n      (range.to().line - range.from().line > 100 || (selected = cm.getSelection()).length > 1000)\r\n    var content = minimal ? \"-\" : selected || cm.getSelection()\r\n    this.textarea.value = content\r\n    if (cm.state.focused) { selectInput(this.textarea) }\r\n    if (ie && ie_version >= 9) { this.hasSelection = content }\r\n  } else if (!typing) {\r\n    this.prevInput = this.textarea.value = \"\"\r\n    if (ie && ie_version >= 9) { this.hasSelection = null }\r\n  }\r\n  this.inaccurateSelection = minimal\r\n};\r\n\r\nTextareaInput.prototype.getField = function () { return this.textarea };\r\n\r\nTextareaInput.prototype.supportsTouch = function () { return false };\r\n\r\nTextareaInput.prototype.focus = function () {\r\n  if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\r\n    try { this.textarea.focus() }\r\n    catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\r\n  }\r\n};\r\n\r\nTextareaInput.prototype.blur = function () { this.textarea.blur() };\r\n\r\nTextareaInput.prototype.resetPosition = function () {\r\n  this.wrapper.style.top = this.wrapper.style.left = 0\r\n};\r\n\r\nTextareaInput.prototype.receivedFocus = function () { this.slowPoll() };\r\n\r\n// Poll for input changes, using the normal rate of polling. This\r\n// runs as long as the editor is focused.\r\nTextareaInput.prototype.slowPoll = function () {\r\n    var this$1 = this;\r\n\r\n  if (this.pollingFast) { return }\r\n  this.polling.set(this.cm.options.pollInterval, function () {\r\n    this$1.poll()\r\n    if (this$1.cm.state.focused) { this$1.slowPoll() }\r\n  })\r\n};\r\n\r\n// When an event has just come in that is likely to add or change\r\n// something in the input textarea, we poll faster, to ensure that\r\n// the change appears on the screen quickly.\r\nTextareaInput.prototype.fastPoll = function () {\r\n  var missed = false, input = this\r\n  input.pollingFast = true\r\n  function p() {\r\n    var changed = input.poll()\r\n    if (!changed && !missed) {missed = true; input.polling.set(60, p)}\r\n    else {input.pollingFast = false; input.slowPoll()}\r\n  }\r\n  input.polling.set(20, p)\r\n};\r\n\r\n// Read input from the textarea, and update the document to match.\r\n// When something is selected, it is present in the textarea, and\r\n// selected (unless it is huge, in which case a placeholder is\r\n// used). When nothing is selected, the cursor sits after previously\r\n// seen text (can be empty), which is stored in prevInput (we must\r\n// not reset the textarea when typing, because that breaks IME).\r\nTextareaInput.prototype.poll = function () {\r\n    var this$1 = this;\r\n\r\n  var cm = this.cm, input = this.textarea, prevInput = this.prevInput\r\n  // Since this is called a *lot*, try to bail out as cheaply as\r\n  // possible when it is clear that nothing happened. hasSelection\r\n  // will be the case when there is a lot of text in the textarea,\r\n  // in which case reading its value would be expensive.\r\n  if (this.contextMenuPending || !cm.state.focused ||\r\n      (hasSelection(input) && !prevInput && !this.composing) ||\r\n      cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\r\n    { return false }\r\n\r\n  var text = input.value\r\n  // If nothing changed, bail.\r\n  if (text == prevInput && !cm.somethingSelected()) { return false }\r\n  // Work around nonsensical selection resetting in IE9/10, and\r\n  // inexplicable appearance of private area unicode characters on\r\n  // some key combos in Mac (#2689).\r\n  if (ie && ie_version >= 9 && this.hasSelection === text ||\r\n      mac && /[\\uf700-\\uf7ff]/.test(text)) {\r\n    cm.display.input.reset()\r\n    return false\r\n  }\r\n\r\n  if (cm.doc.sel == cm.display.selForContextMenu) {\r\n    var first = text.charCodeAt(0)\r\n    if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\" }\r\n    if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\r\n  }\r\n  // Find the part of the input that is actually new\r\n  var same = 0, l = Math.min(prevInput.length, text.length)\r\n  while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same }\r\n\r\n  runInOp(cm, function () {\r\n    applyTextInput(cm, text.slice(same), prevInput.length - same,\r\n                   null, this$1.composing ? \"*compose\" : null)\r\n\r\n    // Don't leave long text in the textarea, since it makes further polling slow\r\n    if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\" }\r\n    else { this$1.prevInput = text }\r\n\r\n    if (this$1.composing) {\r\n      this$1.composing.range.clear()\r\n      this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\r\n                                         {className: \"CodeMirror-composing\"})\r\n    }\r\n  })\r\n  return true\r\n};\r\n\r\nTextareaInput.prototype.ensurePolled = function () {\r\n  if (this.pollingFast && this.poll()) { this.pollingFast = false }\r\n};\r\n\r\nTextareaInput.prototype.onKeyPress = function () {\r\n  if (ie && ie_version >= 9) { this.hasSelection = null }\r\n  this.fastPoll()\r\n};\r\n\r\nTextareaInput.prototype.onContextMenu = function (e) {\r\n  var input = this, cm = input.cm, display = cm.display, te = input.textarea\r\n  var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop\r\n  if (!pos || presto) { return } // Opera is difficult.\r\n\r\n  // Reset the current text selection only if the click is done outside of the selection\r\n  // and 'resetSelectionOnContextMenu' option is true.\r\n  var reset = cm.options.resetSelectionOnContextMenu\r\n  if (reset && cm.doc.sel.contains(pos) == -1)\r\n    { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll) }\r\n\r\n  var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText\r\n  input.wrapper.style.cssText = \"position: absolute\"\r\n  var wrapperBox = input.wrapper.getBoundingClientRect()\r\n  te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\"\r\n  var oldScrollY\r\n  if (webkit) { oldScrollY = window.scrollY } // Work around Chrome issue (#2712)\r\n  display.input.focus()\r\n  if (webkit) { window.scrollTo(null, oldScrollY) }\r\n  display.input.reset()\r\n  // Adds \"Select all\" to context menu in FF\r\n  if (!cm.somethingSelected()) { te.value = input.prevInput = \" \" }\r\n  input.contextMenuPending = true\r\n  display.selForContextMenu = cm.doc.sel\r\n  clearTimeout(display.detectingSelectAll)\r\n\r\n  // Select-all will be greyed out if there's nothing to select, so\r\n  // this adds a zero-width space so that we can later check whether\r\n  // it got selected.\r\n  function prepareSelectAllHack() {\r\n    if (te.selectionStart != null) {\r\n      var selected = cm.somethingSelected()\r\n      var extval = \"\\u200b\" + (selected ? te.value : \"\")\r\n      te.value = \"\\u21da\" // Used to catch context-menu undo\r\n      te.value = extval\r\n      input.prevInput = selected ? \"\" : \"\\u200b\"\r\n      te.selectionStart = 1; te.selectionEnd = extval.length\r\n      // Re-set this, in case some other handler touched the\r\n      // selection in the meantime.\r\n      display.selForContextMenu = cm.doc.sel\r\n    }\r\n  }\r\n  function rehide() {\r\n    input.contextMenuPending = false\r\n    input.wrapper.style.cssText = oldWrapperCSS\r\n    te.style.cssText = oldCSS\r\n    if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos) }\r\n\r\n    // Try to detect the user choosing select-all\r\n    if (te.selectionStart != null) {\r\n      if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack() }\r\n      var i = 0, poll = function () {\r\n        if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\r\n            te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\r\n          operation(cm, selectAll)(cm)\r\n        } else if (i++ < 10) {\r\n          display.detectingSelectAll = setTimeout(poll, 500)\r\n        } else {\r\n          display.selForContextMenu = null\r\n          display.input.reset()\r\n        }\r\n      }\r\n      display.detectingSelectAll = setTimeout(poll, 200)\r\n    }\r\n  }\r\n\r\n  if (ie && ie_version >= 9) { prepareSelectAllHack() }\r\n  if (captureRightClick) {\r\n    e_stop(e)\r\n    var mouseup = function () {\r\n      off(window, \"mouseup\", mouseup)\r\n      setTimeout(rehide, 20)\r\n    }\r\n    on(window, \"mouseup\", mouseup)\r\n  } else {\r\n    setTimeout(rehide, 50)\r\n  }\r\n};\r\n\r\nTextareaInput.prototype.readOnlyChanged = function (val) {\r\n  if (!val) { this.reset() }\r\n};\r\n\r\nTextareaInput.prototype.setUneditable = function () {};\r\n\r\nTextareaInput.prototype.needsContentAttribute = false\r\n\r\nfunction fromTextArea(textarea, options) {\r\n  options = options ? copyObj(options) : {}\r\n  options.value = textarea.value\r\n  if (!options.tabindex && textarea.tabIndex)\r\n    { options.tabindex = textarea.tabIndex }\r\n  if (!options.placeholder && textarea.placeholder)\r\n    { options.placeholder = textarea.placeholder }\r\n  // Set autofocus to true if this textarea is focused, or if it has\r\n  // autofocus and no other element is focused.\r\n  if (options.autofocus == null) {\r\n    var hasFocus = activeElt()\r\n    options.autofocus = hasFocus == textarea ||\r\n      textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body\r\n  }\r\n\r\n  function save() {textarea.value = cm.getValue()}\r\n\r\n  var realSubmit\r\n  if (textarea.form) {\r\n    on(textarea.form, \"submit\", save)\r\n    // Deplorable hack to make the submit method do the right thing.\r\n    if (!options.leaveSubmitMethodAlone) {\r\n      var form = textarea.form\r\n      realSubmit = form.submit\r\n      try {\r\n        var wrappedSubmit = form.submit = function () {\r\n          save()\r\n          form.submit = realSubmit\r\n          form.submit()\r\n          form.submit = wrappedSubmit\r\n        }\r\n      } catch(e) {}\r\n    }\r\n  }\r\n\r\n  options.finishInit = function (cm) {\r\n    cm.save = save\r\n    cm.getTextArea = function () { return textarea; }\r\n    cm.toTextArea = function () {\r\n      cm.toTextArea = isNaN // Prevent this from being ran twice\r\n      save()\r\n      textarea.parentNode.removeChild(cm.getWrapperElement())\r\n      textarea.style.display = \"\"\r\n      if (textarea.form) {\r\n        off(textarea.form, \"submit\", save)\r\n        if (typeof textarea.form.submit == \"function\")\r\n          { textarea.form.submit = realSubmit }\r\n      }\r\n    }\r\n  }\r\n\r\n  textarea.style.display = \"none\"\r\n  var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\r\n    options)\r\n  return cm\r\n}\r\n\r\nfunction addLegacyProps(CodeMirror) {\r\n  CodeMirror.off = off\r\n  CodeMirror.on = on\r\n  CodeMirror.wheelEventPixels = wheelEventPixels\r\n  CodeMirror.Doc = Doc\r\n  CodeMirror.splitLines = splitLinesAuto\r\n  CodeMirror.countColumn = countColumn\r\n  CodeMirror.findColumn = findColumn\r\n  CodeMirror.isWordChar = isWordCharBasic\r\n  CodeMirror.Pass = Pass\r\n  CodeMirror.signal = signal\r\n  CodeMirror.Line = Line\r\n  CodeMirror.changeEnd = changeEnd\r\n  CodeMirror.scrollbarModel = scrollbarModel\r\n  CodeMirror.Pos = Pos\r\n  CodeMirror.cmpPos = cmp\r\n  CodeMirror.modes = modes\r\n  CodeMirror.mimeModes = mimeModes\r\n  CodeMirror.resolveMode = resolveMode\r\n  CodeMirror.getMode = getMode\r\n  CodeMirror.modeExtensions = modeExtensions\r\n  CodeMirror.extendMode = extendMode\r\n  CodeMirror.copyState = copyState\r\n  CodeMirror.startState = startState\r\n  CodeMirror.innerMode = innerMode\r\n  CodeMirror.commands = commands\r\n  CodeMirror.keyMap = keyMap\r\n  CodeMirror.keyName = keyName\r\n  CodeMirror.isModifierKey = isModifierKey\r\n  CodeMirror.lookupKey = lookupKey\r\n  CodeMirror.normalizeKeyMap = normalizeKeyMap\r\n  CodeMirror.StringStream = StringStream\r\n  CodeMirror.SharedTextMarker = SharedTextMarker\r\n  CodeMirror.TextMarker = TextMarker\r\n  CodeMirror.LineWidget = LineWidget\r\n  CodeMirror.e_preventDefault = e_preventDefault\r\n  CodeMirror.e_stopPropagation = e_stopPropagation\r\n  CodeMirror.e_stop = e_stop\r\n  CodeMirror.addClass = addClass\r\n  CodeMirror.contains = contains\r\n  CodeMirror.rmClass = rmClass\r\n  CodeMirror.keyNames = keyNames\r\n}\r\n\r\n// EDITOR CONSTRUCTOR\r\n\r\ndefineOptions(CodeMirror)\r\n\r\naddEditorMethods(CodeMirror)\r\n\r\n// Set up methods on CodeMirror's prototype to redirect to the editor's document.\r\nvar dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \")\r\nfor (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\r\n  { CodeMirror.prototype[prop] = (function(method) {\r\n    return function() {return method.apply(this.doc, arguments)}\r\n  })(Doc.prototype[prop]) } }\r\n\r\neventMixin(Doc)\r\n\r\n// INPUT HANDLING\r\n\r\nCodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput}\r\n\r\n// MODE DEFINITION AND QUERYING\r\n\r\n// Extra arguments are stored as the mode's dependencies, which is\r\n// used by (legacy) mechanisms like loadmode.js to automatically\r\n// load a mode. (Preferred mechanism is the require/define calls.)\r\nCodeMirror.defineMode = function(name/*, mode, */) {\r\n  if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name }\r\n  defineMode.apply(this, arguments)\r\n}\r\n\r\nCodeMirror.defineMIME = defineMIME\r\n\r\n// Minimal default mode.\r\nCodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); })\r\nCodeMirror.defineMIME(\"text/plain\", \"null\")\r\n\r\n// EXTENSIONS\r\n\r\nCodeMirror.defineExtension = function (name, func) {\r\n  CodeMirror.prototype[name] = func\r\n}\r\nCodeMirror.defineDocExtension = function (name, func) {\r\n  Doc.prototype[name] = func\r\n}\r\n\r\nCodeMirror.fromTextArea = fromTextArea\r\n\r\naddLegacyProps(CodeMirror)\r\n\r\nCodeMirror.version = \"5.24.2\"\r\n\r\nreturn CodeMirror;\r\n\r\n})));\r\n\r\n// Brackets\r\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\r\n// Distributed under an MIT license: http://codemirror.net/LICENSE\r\n\r\n(function(mod) {\r\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\r\n    mod(require(\"../../lib/codemirror\"));\r\n  else if (typeof define == \"function\" && define.amd) // AMD\r\n    define([\"../../lib/codemirror\"], mod);\r\n  else // Plain browser env\r\n    mod(CodeMirror);\r\n})(function(CodeMirror) {\r\n  var defaults = {\r\n    pairs: \"()[]{}''\\\"\\\"\",\r\n    triples: \"\",\r\n    explode: \"[]{}\"\r\n  };\r\n\r\n  var Pos = CodeMirror.Pos;\r\n\r\n  CodeMirror.defineOption(\"autoCloseBrackets\", false, function(cm, val, old) {\r\n    if (old && old != CodeMirror.Init) {\r\n      cm.removeKeyMap(keyMap);\r\n      cm.state.closeBrackets = null;\r\n    }\r\n    if (val) {\r\n      cm.state.closeBrackets = val;\r\n      cm.addKeyMap(keyMap);\r\n    }\r\n  });\r\n\r\n  function getOption(conf, name) {\r\n    if (name == \"pairs\" && typeof conf == \"string\") return conf;\r\n    if (typeof conf == \"object\" && conf[name] != null) return conf[name];\r\n    return defaults[name];\r\n  }\r\n\r\n  var bind = defaults.pairs + \"`\";\r\n  var keyMap = {Backspace: handleBackspace, Enter: handleEnter};\r\n  for (var i = 0; i < bind.length; i++)\r\n    keyMap[\"'\" + bind.charAt(i) + \"'\"] = handler(bind.charAt(i));\r\n\r\n  function handler(ch) {\r\n    return function(cm) { return handleChar(cm, ch); };\r\n  }\r\n\r\n  function getConfig(cm) {\r\n    var deflt = cm.state.closeBrackets;\r\n    if (!deflt) return null;\r\n    var mode = cm.getModeAt(cm.getCursor());\r\n    return mode.closeBrackets || deflt;\r\n  }\r\n\r\n  function handleBackspace(cm) {\r\n    var conf = getConfig(cm);\r\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\r\n\r\n    var pairs = getOption(conf, \"pairs\");\r\n    var ranges = cm.listSelections();\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      if (!ranges[i].empty()) return CodeMirror.Pass;\r\n      var around = charsAround(cm, ranges[i].head);\r\n      if (!around || pairs.indexOf(around) % 2 != 0) return CodeMirror.Pass;\r\n    }\r\n    for (var i = ranges.length - 1; i >= 0; i--) {\r\n      var cur = ranges[i].head;\r\n      cm.replaceRange(\"\", Pos(cur.line, cur.ch - 1), Pos(cur.line, cur.ch + 1), \"+delete\");\r\n    }\r\n  }\r\n\r\n  function handleEnter(cm) {\r\n    var conf = getConfig(cm);\r\n    var explode = conf && getOption(conf, \"explode\");\r\n    if (!explode || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\r\n\r\n    var ranges = cm.listSelections();\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      if (!ranges[i].empty()) return CodeMirror.Pass;\r\n      var around = charsAround(cm, ranges[i].head);\r\n      if (!around || explode.indexOf(around) % 2 != 0) return CodeMirror.Pass;\r\n    }\r\n    cm.operation(function() {\r\n      cm.replaceSelection(\"\\n\\n\", null);\r\n      cm.execCommand(\"goCharLeft\");\r\n      ranges = cm.listSelections();\r\n      for (var i = 0; i < ranges.length; i++) {\r\n        var line = ranges[i].head.line;\r\n        cm.indentLine(line, null, true);\r\n        cm.indentLine(line + 1, null, true);\r\n      }\r\n    });\r\n  }\r\n\r\n  function contractSelection(sel) {\r\n    var inverted = CodeMirror.cmpPos(sel.anchor, sel.head) > 0;\r\n    return {anchor: new Pos(sel.anchor.line, sel.anchor.ch + (inverted ? -1 : 1)),\r\n            head: new Pos(sel.head.line, sel.head.ch + (inverted ? 1 : -1))};\r\n  }\r\n\r\n  function handleChar(cm, ch) {\r\n    var conf = getConfig(cm);\r\n    if (!conf || cm.getOption(\"disableInput\")) return CodeMirror.Pass;\r\n\r\n    var pairs = getOption(conf, \"pairs\");\r\n    var pos = pairs.indexOf(ch);\r\n    if (pos == -1) return CodeMirror.Pass;\r\n    var triples = getOption(conf, \"triples\");\r\n\r\n    var identical = pairs.charAt(pos + 1) == ch;\r\n    var ranges = cm.listSelections();\r\n    var opening = pos % 2 == 0;\r\n\r\n    var type;\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      var range = ranges[i], cur = range.head, curType;\r\n      var next = cm.getRange(cur, Pos(cur.line, cur.ch + 1));\r\n      if (opening && !range.empty()) {\r\n        curType = \"surround\";\r\n      } else if ((identical || !opening) && next == ch) {\r\n        if (triples.indexOf(ch) >= 0 && cm.getRange(cur, Pos(cur.line, cur.ch + 3)) == ch + ch + ch)\r\n          curType = \"skipThree\";\r\n        else\r\n          curType = \"skip\";\r\n      } else if (identical && cur.ch > 1 && triples.indexOf(ch) >= 0 &&\r\n                 cm.getRange(Pos(cur.line, cur.ch - 2), cur) == ch + ch &&\r\n                 (cur.ch <= 2 || cm.getRange(Pos(cur.line, cur.ch - 3), Pos(cur.line, cur.ch - 2)) != ch)) {\r\n        curType = \"addFour\";\r\n      } else if (identical) {\r\n        if (!CodeMirror.isWordChar(next) && enteringString(cm, cur, ch)) curType = \"both\";\r\n        else return CodeMirror.Pass;\r\n      } else if (opening && (cm.getLine(cur.line).length == cur.ch ||\r\n                             isClosingBracket(next, pairs) ||\r\n                             /\\s/.test(next))) {\r\n        curType = \"both\";\r\n      } else {\r\n        return CodeMirror.Pass;\r\n      }\r\n      if (!type) type = curType;\r\n      else if (type != curType) return CodeMirror.Pass;\r\n    }\r\n\r\n    var left = pos % 2 ? pairs.charAt(pos - 1) : ch;\r\n    var right = pos % 2 ? ch : pairs.charAt(pos + 1);\r\n    cm.operation(function() {\r\n      if (type == \"skip\") {\r\n        cm.execCommand(\"goCharRight\");\r\n      } else if (type == \"skipThree\") {\r\n        for (var i = 0; i < 3; i++)\r\n          cm.execCommand(\"goCharRight\");\r\n      } else if (type == \"surround\") {\r\n        var sels = cm.getSelections();\r\n        for (var i = 0; i < sels.length; i++)\r\n          sels[i] = left + sels[i] + right;\r\n        cm.replaceSelections(sels, \"around\");\r\n        sels = cm.listSelections().slice();\r\n        for (var i = 0; i < sels.length; i++)\r\n          sels[i] = contractSelection(sels[i]);\r\n        cm.setSelections(sels);\r\n      } else if (type == \"both\") {\r\n        cm.replaceSelection(left + right, null);\r\n        cm.triggerElectric(left + right);\r\n        cm.execCommand(\"goCharLeft\");\r\n      } else if (type == \"addFour\") {\r\n        cm.replaceSelection(left + left + left + left, \"before\");\r\n        cm.execCommand(\"goCharRight\");\r\n      }\r\n    });\r\n  }\r\n\r\n  function isClosingBracket(ch, pairs) {\r\n    var pos = pairs.lastIndexOf(ch);\r\n    return pos > -1 && pos % 2 == 1;\r\n  }\r\n\r\n  function charsAround(cm, pos) {\r\n    var str = cm.getRange(Pos(pos.line, pos.ch - 1),\r\n                          Pos(pos.line, pos.ch + 1));\r\n    return str.length == 2 ? str : null;\r\n  }\r\n\r\n  // Project the token type that will exists after the given char is\r\n  // typed, and use it to determine whether it would cause the start\r\n  // of a string token.\r\n  function enteringString(cm, pos, ch) {\r\n    var line = cm.getLine(pos.line);\r\n    var token = cm.getTokenAt(pos);\r\n    if (/\\bstring2?\\b/.test(token.type)) return false;\r\n    var stream = new CodeMirror.StringStream(line.slice(0, pos.ch) + ch + line.slice(pos.ch), 4);\r\n    stream.pos = stream.start = token.start;\r\n    for (;;) {\r\n      var type1 = cm.getMode().token(stream, token.state);\r\n      if (stream.pos >= pos.ch + 1) return /\\bstring2?\\b/.test(type1);\r\n      stream.start = stream.pos;\r\n    }\r\n  }\r\n});\r\n\r\n// Brackets\r\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\r\n// Distributed under an MIT license: http://codemirror.net/LICENSE\r\n\r\n(function(mod) {\r\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\r\n    mod(require(\"../../lib/codemirror\"));\r\n  else if (typeof define == \"function\" && define.amd) // AMD\r\n    define([\"../../lib/codemirror\"], mod);\r\n  else // Plain browser env\r\n    mod(CodeMirror);\r\n})(function(CodeMirror) {\r\n  var ie_lt8 = /MSIE \\d/.test(navigator.userAgent) &&\r\n    (document.documentMode == null || document.documentMode < 8);\r\n\r\n  var Pos = CodeMirror.Pos;\r\n\r\n  var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\"};\r\n\r\n  function findMatchingBracket(cm, where, strict, config) {\r\n    var line = cm.getLineHandle(where.line), pos = where.ch - 1;\r\n    var match = (pos >= 0 && matching[line.text.charAt(pos)]) || matching[line.text.charAt(++pos)];\r\n    if (!match) return null;\r\n    var dir = match.charAt(1) == \">\" ? 1 : -1;\r\n    if (strict && (dir > 0) != (pos == where.ch)) return null;\r\n    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));\r\n\r\n    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style || null, config);\r\n    if (found == null) return null;\r\n    return {from: Pos(where.line, pos), to: found && found.pos,\r\n            match: found && found.ch == match.charAt(0), forward: dir > 0};\r\n  }\r\n\r\n  // bracketRegex is used to specify which type of bracket to scan\r\n  // should be a regexp, e.g. /[[\\]]/\r\n  //\r\n  // Note: If \"where\" is on an open bracket, then this bracket is ignored.\r\n  //\r\n  // Returns false when no bracket was found, null when it reached\r\n  // maxScanLines and gave up\r\n  function scanForBracket(cm, where, dir, style, config) {\r\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\r\n    var maxScanLines = (config && config.maxScanLines) || 1000;\r\n\r\n    var stack = [];\r\n    var re = config && config.bracketRegex ? config.bracketRegex : /[(){}[\\]]/;\r\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\r\n                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\r\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\r\n      var line = cm.getLine(lineNo);\r\n      if (!line) continue;\r\n      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\r\n      if (line.length > maxScanLen) continue;\r\n      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);\r\n      for (; pos != end; pos += dir) {\r\n        var ch = line.charAt(pos);\r\n        if (re.test(ch) && (style === undefined || cm.getTokenTypeAt(Pos(lineNo, pos + 1)) == style)) {\r\n          var match = matching[ch];\r\n          if ((match.charAt(1) == \">\") == (dir > 0)) stack.push(ch);\r\n          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};\r\n          else stack.pop();\r\n        }\r\n      }\r\n    }\r\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\r\n  }\r\n\r\n  function matchBrackets(cm, autoclear, config) {\r\n    // Disable brace matching in long lines, since it'll cause hugely slow updates\r\n    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000;\r\n    var marks = [], ranges = cm.listSelections();\r\n    for (var i = 0; i < ranges.length; i++) {\r\n      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, false, config);\r\n      if (match && cm.getLine(match.from.line).length <= maxHighlightLen) {\r\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\r\n        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));\r\n        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)\r\n          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));\r\n      }\r\n    }\r\n\r\n    if (marks.length) {\r\n      // Kludge to work around the IE bug from issue #1193, where text\r\n      // input stops going to the textare whever this fires.\r\n      if (ie_lt8 && cm.state.focused) cm.focus();\r\n\r\n      var clear = function() {\r\n        cm.operation(function() {\r\n          for (var i = 0; i < marks.length; i++) marks[i].clear();\r\n        });\r\n      };\r\n      if (autoclear) setTimeout(clear, 800);\r\n      else return clear;\r\n    }\r\n  }\r\n\r\n  var currentlyHighlighted = null;\r\n  function doMatchBrackets(cm) {\r\n    cm.operation(function() {\r\n      if (currentlyHighlighted) {currentlyHighlighted(); currentlyHighlighted = null;}\r\n      currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);\r\n    });\r\n  }\r\n\r\n  CodeMirror.defineOption(\"matchBrackets\", false, function(cm, val, old) {\r\n    if (old && old != CodeMirror.Init) {\r\n      cm.off(\"cursorActivity\", doMatchBrackets);\r\n      if (currentlyHighlighted) {currentlyHighlighted(); currentlyHighlighted = null;}\r\n    }\r\n    if (val) {\r\n      cm.state.matchBrackets = typeof val == \"object\" ? val : {};\r\n      cm.on(\"cursorActivity\", doMatchBrackets);\r\n    }\r\n  });\r\n\r\n  CodeMirror.defineExtension(\"matchBrackets\", function() {matchBrackets(this, true);});\r\n  CodeMirror.defineExtension(\"findMatchingBracket\", function(pos, strict, config){\r\n    return findMatchingBracket(this, pos, strict, config);\r\n  });\r\n  CodeMirror.defineExtension(\"scanForBracket\", function(pos, dir, style, config){\r\n    return scanForBracket(this, pos, dir, style, config);\r\n  });\r\n});\r\n","'use strict';\r\n\r\n/**\r\n * Binds a CodeMirror widget to a <textarea> element.\r\n */\r\nangular.module('ui.codemirror', [])\r\n  .constant('uiCodemirrorConfig', {})\r\n  .directive('uiCodemirror', ['$timeout','uiCodemirrorConfig',\r\n\r\n/**\r\n * @ngInject\r\n */\r\nfunction uiCodemirrorDirective($timeout, uiCodemirrorConfig) {\r\n\r\n  return {\r\n    restrict: 'EA',\r\n    require: '?ngModel',\r\n    compile: function compile() {\r\n\r\n      // Require CodeMirror\r\n      if (angular.isUndefined(window.CodeMirror)) {\r\n        throw new Error('ui-codemirror needs CodeMirror to work... (o rly?)');\r\n      }\r\n\r\n      return postLink;\r\n    }\r\n  };\r\n\r\n  function postLink(scope, iElement, iAttrs, ngModel) {\r\n\r\n    var codemirrorOptions = angular.extend(\r\n      { value: iElement.text() },\r\n      uiCodemirrorConfig.codemirror || {},\r\n      scope.$eval(iAttrs.uiCodemirror),\r\n      scope.$eval(iAttrs.uiCodemirrorOpts)\r\n    );\r\n\r\n    var codemirror = newCodemirrorEditor(iElement, codemirrorOptions);\r\n\r\n    configOptionsWatcher(\r\n      codemirror,\r\n      iAttrs.uiCodemirror || iAttrs.uiCodemirrorOpts,\r\n      scope\r\n    );\r\n\r\n    configNgModelLink(codemirror, ngModel, scope);\r\n\r\n    configUiRefreshAttribute(codemirror, iAttrs.uiRefresh, scope);\r\n\r\n    // Allow access to the CodeMirror instance through a broadcasted event\r\n    // eg: $broadcast('CodeMirror', function(cm){...});\r\n    scope.$on('CodeMirror', function(event, callback) {\r\n      if (angular.isFunction(callback)) {\r\n        callback(codemirror);\r\n      } else {\r\n        throw new Error('the CodeMirror event requires a callback function');\r\n      }\r\n    });\r\n\r\n    // onLoad callback\r\n    if (angular.isFunction(codemirrorOptions.onLoad)) {\r\n      codemirrorOptions.onLoad(codemirror);\r\n    }\r\n  }\r\n\r\n  function newCodemirrorEditor(iElement, codemirrorOptions) {\r\n    var codemirrot;\r\n\r\n    if (iElement[0].tagName === 'TEXTAREA') {\r\n      // Might bug but still ...\r\n      codemirrot = window.CodeMirror.fromTextArea(iElement[0], codemirrorOptions);\r\n    } else {\r\n      iElement.html('');\r\n      codemirrot = new window.CodeMirror(function(cm_el) {\r\n        iElement.append(cm_el);\r\n      }, codemirrorOptions);\r\n    }\r\n\r\n    return codemirrot;\r\n  }\r\n\r\n  function configOptionsWatcher(codemirrot, uiCodemirrorAttr, scope) {\r\n    if (!uiCodemirrorAttr) { return; }\r\n\r\n    var codemirrorDefaultsKeys = Object.keys(window.CodeMirror.defaults);\r\n    scope.$watch(uiCodemirrorAttr, updateOptions, true);\r\n    function updateOptions(newValues, oldValue) {\r\n      if (!angular.isObject(newValues)) { return; }\r\n      codemirrorDefaultsKeys.forEach(function(key) {\r\n        if (newValues.hasOwnProperty(key)) {\r\n\r\n          if (oldValue && newValues[key] === oldValue[key]) {\r\n            return;\r\n          }\r\n\r\n          codemirrot.setOption(key, newValues[key]);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function configNgModelLink(codemirror, ngModel, scope) {\r\n    if (!ngModel) { return; }\r\n    // CodeMirror expects a string, so make sure it gets one.\r\n    // This does not change the model.\r\n    ngModel.$formatters.push(function(value) {\r\n      if (angular.isUndefined(value) || value === null) {\r\n        return '';\r\n      } else if (angular.isObject(value) || angular.isArray(value)) {\r\n        throw new Error('ui-codemirror cannot use an object or an array as a model');\r\n      }\r\n      return value;\r\n    });\r\n\r\n\r\n    // Override the ngModelController $render method, which is what gets called when the model is updated.\r\n    // This takes care of the synchronizing the codeMirror element with the underlying model, in the case that it is changed by something else.\r\n    ngModel.$render = function() {\r\n      //Code mirror expects a string so make sure it gets one\r\n      //Although the formatter have already done this, it can be possible that another formatter returns undefined (for example the required directive)\r\n      var safeViewValue = ngModel.$viewValue || '';\r\n      codemirror.setValue(safeViewValue);\r\n    };\r\n\r\n\r\n    // Keep the ngModel in sync with changes from CodeMirror\r\n    codemirror.on('change', function(instance) {\r\n      var newValue = instance.getValue();\r\n      if (newValue !== ngModel.$viewValue) {\r\n        scope.$evalAsync(function() {\r\n          ngModel.$setViewValue(newValue);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  function configUiRefreshAttribute(codeMirror, uiRefreshAttr, scope) {\r\n    if (!uiRefreshAttr) { return; }\r\n\r\n    scope.$watch(uiRefreshAttr, function(newVal, oldVal) {\r\n      // Skip the initial watch firing\r\n      if (newVal !== oldVal) {\r\n        $timeout(function() {\r\n          codeMirror.refresh();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n}]);","// JSONata mode for CodeMirror\n\n//require('codemirror');\n\nCodeMirror.defineMode(\"jsonata\", function(config, parserConfig) {\n    var templateMode = parserConfig.template;\n    var jsonata = parserConfig.jsonata;\n\n    const operators = {\n        '.': 75,\n        '[': 80,\n        ']': 0,\n        '{': 70,\n        '}': 0,\n        '(': 80,\n        ')': 0,\n        ',': 0,\n        '@': 75,\n        '#': 70,\n        ';': 80,\n        ':': 80,\n        '?': 20,\n        '+': 50,\n        '-': 50,\n        '*': 60,\n        '/': 60,\n        '%': 60,\n        '|': 20,\n        '=': 40,\n        '<': 40,\n        '>': 40,\n        '`': 80,\n        '**': 60,\n        '..': 20,\n        ':=': 30,\n        '!=': 40,\n        '<=': 40,\n        '>=': 40,\n        'and': 30,\n        'or': 25,\n        '||' : 50,\n        '!': 0   // not an operator, but needed as a stop character for name tokens\n    };\n\n    const escapes = {  // JSON string escape sequences - see json.org\n        '\"': '\"',\n        '\\\\': '\\\\',\n        '/': '/',\n        'b': '\\b',\n        'f': '\\f',\n        'n': '\\n',\n        'r': '\\r',\n        't': '\\t'\n    };\n\n    var tokenizer = function(path) {\n        var position = 0;\n        var length = path.length;\n\n        var create = function(type, value) {\n            var obj = { type: type, value: value, position: position};\n            return obj;\n        };\n\n        var next = function() {\n            if(position >= length) return null;\n            var currentChar = path.charAt(position);\n            // skip whitespace\n            while(position < length && ' \\t\\n\\r\\v'.indexOf(currentChar) > -1) {\n                position++;\n                currentChar = path.charAt(position);\n            }\n            // handle double-char operators\n            if(currentChar === '.' && path.charAt(position+1) === '.') {\n                // double-dot .. range operator\n                position += 2;\n                return create('operator', '..');\n            }\n            if(currentChar === '|' && path.charAt(position+1) === '|') {\n                // double-pipe || string concatenator\n                position += 2;\n                return create('operator', '||');\n            }\n            if(currentChar === ':' && path.charAt(position+1) === '=') {\n                // := assignment\n                position += 2;\n                return create('operator', ':=');\n            }\n            if(currentChar === '!' && path.charAt(position+1) === '=') {\n                // !=\n                position += 2;\n                return create('operator', '!=');\n            }\n            if(currentChar === '>' && path.charAt(position+1) === '=') {\n                // >=\n                position += 2;\n                return create('operator', '>=');\n            }\n            if(currentChar === '<' && path.charAt(position+1) === '=') {\n                // <=\n                position += 2;\n                return create('operator', '<=');\n            }\n            if(currentChar === '*' && path.charAt(position+1) === '*') {\n                // **  descendant wildcard\n                position += 2;\n                return create('operator', '**');\n            }\n            // test for operators\n            if(operators.hasOwnProperty(currentChar)) {\n                position++;\n                return create('operator', currentChar);\n            }\n            // test for string literals\n            if(currentChar === '\"' || currentChar === \"'\") {\n                var quoteType = currentChar;\n                // double quoted string literal - find end of string\n                position++;\n                var qstr = \"\";\n                while(position < length) {\n                    currentChar = path.charAt(position);\n                    if(currentChar === '\\\\') { // escape sequence\n                        position++;\n                        currentChar = path.charAt(position);\n                        if(escapes.hasOwnProperty(currentChar)) {\n                            qstr += escapes[currentChar];\n                        } else if(currentChar === 'u') {\n                            // \\u should be followed by 4 hex digits\n                            var octets = path.substr(position+1, 4);\n                            if(/^[0-9a-fA-F]+$/.test(octets)) {\n                                var codepoint = parseInt(octets, 16);\n                                qstr += String.fromCharCode(codepoint);\n                                position += 4;\n                            } else {\n                                throw new Error('The escape sequence \\\\u must be followed by 4 hex digits at column ' + position);\n                            }\n                        } else {\n                            // illegal escape sequence\n                            throw new Error('unsupported escape sequence: \\\\' + currentChar + ' at column ' + position);\n                        }\n                    } else if(currentChar === quoteType) {\n                        position++;\n                        return create('string', qstr);\n                    } else {\n                        qstr += currentChar;\n                    }\n                    position++;\n                }\n                throw new Error('no terminating quote found in string literal starting at column ' + position);\n            }\n            // test for numbers\n            var numregex = /^-?(0|([1-9][0-9]*))(\\.[0-9]+)?([Ee][-+]?[0-9]+)?/;\n            var match = numregex.exec(path.substring(position));\n            if(match !== null) {\n                var num = parseFloat(match[0]);\n                if(!isNaN(num) && isFinite(num)) {\n                    position += match[0].length;\n                    return create('number', num);\n                } else {\n                    throw new Error('Number out of range: ' + match[0]);\n                }\n            }\n            // test for names\n            var i = position;\n            var ch;\n            var name;\n            while(true) {\n                ch = path.charAt(i);\n                if(i == length || ' \\t\\n\\r\\v'.indexOf(ch) > -1 || operators.hasOwnProperty(ch)) {\n                    if(path.charAt(position) === '$') {\n                        // variable reference\n                        name = path.substring(position + 1, i);\n                        position = i;\n                        return create('variable', name);\n                    } else {\n                        name = path.substring(position, i);\n                        position = i;\n                        switch(name) {\n                            case 'and':\n                            case 'or':\n                                return create('operator', name);\n                            case 'true':\n                                return create('value', true);\n                            case 'false':\n                                return create('value', false);\n                            case 'null':\n                                return create('value', null);\n                            default:\n                                if(position == length && name === '') {\n                                    // whitespace at end of input\n                                    return null;\n                                }\n                                return create('name', name);\n                        }\n                    }\n                } else {\n                    i++;\n                }\n            }\n        };\n\n        return next;\n    };\n\n    var templatizer = function(text) {\n        var position = 0;\n        var length = text.length;\n\n        var create = function(type, value) {\n            var obj = { type: type, value: value, position: position};\n            return obj;\n        };\n\n        var next = function() {\n            if(position >= length) return null;\n            var currentChar = text.charAt(position);\n            // skip whitespace\n            while(position < length && ' \\t\\n\\r\\v'.indexOf(currentChar) > -1) {\n                position++;\n                currentChar = text.charAt(position);\n            }\n\n            if(currentChar === '{' && text.charAt(position+1) === '{') {\n                // found {{\n                position += 2;\n                // parse what follows using the jsonata parser\n                var rest = text.substring(position);\n                try {\n                    jsonata.parser(rest);\n                    // if we get here, we parsed to the end of the buffer with no closing handlebars\n                    position += rest.length;\n                    return create('variable');\n                } catch (err) {\n                    if (err.token === '(end)') {\n                        position = length;\n                        return create('variable');\n                    }\n                    if (rest.charAt(err.position - 1) != \"}\" || rest.charAt(err.position) != \"}\") {\n                        // no closing handlbars\n                        position += err.position;\n                        return create('variable');\n                    }\n                    position += err.position + 1;\n                    return create('variable');\n                }\n            } else {\n                // search forward for next {{\n                position = text.indexOf(\"{{\", position);\n                if(position != -1) {\n                    return create('operator');\n                }\n                position = length;\n                return create('operator');\n            }\n\n        };\n\n        return next;\n    };\n\n    var TOKEN_NAMES = {\n        'operator': 'operator',\n        'variable': 'string-2',\n        'string': 'string',\n        'number': 'number',\n        'value': 'keyword',\n        'name': 'attribute'\n    };\n\n    var currentIndent = 0;\n\n    return {\n        token: function(stream) {\n            var lexer;\n            if(templateMode) {\n                lexer = templatizer(stream.string.substr(stream.pos));\n            } else {\n                lexer = tokenizer(stream.string.substr(stream.pos));\n            }\n            var token;\n            try {\n                token = lexer();\n            } catch(err) {\n                token = null;\n            }\n            if(token === null) {\n                stream.skipToEnd();\n                return null;\n            }\n            var length = token.position;\n            while(length > 0) {\n                stream.next();\n                length--;\n            }\n\n            var style = TOKEN_NAMES[token.type];\n            return style;\n        }  /*,\n         indent: function(state, textAfter) {\n         var close = /^[\\)\\]\\}]/;\n         if(textAfter.match(close)) {\n         currentIndent -= 2;\n         } else {\n         currentIndent += 2;\n         }\n         return currentIndent;\n         }*/\n    }; // end of structure returned by defineMode\n\n\n\n}); // end of defineMode\n\n\n","/**\n * dirPagination - AngularJS module for paginating (almost) anything.\n *\n *\n * Credits\n * =======\n *\n * Daniel Tabuenca: https://groups.google.com/d/msg/angular/an9QpzqIYiM/r8v-3W1X5vcJ\n * for the idea on how to dynamically invoke the ng-repeat directive.\n *\n * I borrowed a couple of lines and a few attribute names from the AngularUI Bootstrap project:\n * https://github.com/angular-ui/bootstrap/blob/master/src/pagination/pagination.js\n *\n * Copyright 2014 Michael Bromley <michael@michaelbromley.co.uk>\n */\n\n(function() {\n\n    /**\n     * Config\n     */\n    var moduleName = 'angularUtils.directives.dirPagination';\n    var DEFAULT_ID = '__default';\n\n    /**\n     * Module\n     */\n    angular.module(moduleName, [])\n        .directive('dirPaginate', ['$compile', '$parse', 'paginationService', dirPaginateDirective])\n        .directive('dirPaginateNoCompile', noCompileDirective)\n        .directive('dirPaginationControls', ['paginationService', 'paginationTemplate', dirPaginationControlsDirective])\n        .filter('itemsPerPage', ['paginationService', itemsPerPageFilter])\n        .service('paginationService', paginationService)\n        .provider('paginationTemplate', paginationTemplateProvider)\n        .run(['$templateCache',dirPaginationControlsTemplateInstaller]);\n\n    function dirPaginateDirective($compile, $parse, paginationService) {\n\n        return  {\n            terminal: true,\n            multiElement: true,\n            priority: 100,\n            compile: dirPaginationCompileFn\n        };\n\n        function dirPaginationCompileFn(tElement, tAttrs){\n\n            var expression = tAttrs.dirPaginate;\n            // regex taken directly from https://github.com/angular/angular.js/blob/v1.4.x/src/ng/directive/ngRepeat.js#L339\n            var match = expression.match(/^\\s*([\\s\\S]+?)\\s+in\\s+([\\s\\S]+?)(?:\\s+as\\s+([\\s\\S]+?))?(?:\\s+track\\s+by\\s+([\\s\\S]+?))?\\s*$/);\n\n            var filterPattern = /\\|\\s*itemsPerPage\\s*:\\s*(.*\\(\\s*\\w*\\)|([^\\)]*?(?=\\s+as\\s+))|[^\\)]*)/;\n            if (match[2].match(filterPattern) === null) {\n                throw 'pagination directive: the \\'itemsPerPage\\' filter must be set.';\n            }\n            var itemsPerPageFilterRemoved = match[2].replace(filterPattern, '');\n            var collectionGetter = $parse(itemsPerPageFilterRemoved);\n\n            addNoCompileAttributes(tElement);\n\n            // If any value is specified for paginationId, we register the un-evaluated expression at this stage for the benefit of any\n            // dir-pagination-controls directives that may be looking for this ID.\n            var rawId = tAttrs.paginationId || DEFAULT_ID;\n            paginationService.registerInstance(rawId);\n\n            return function dirPaginationLinkFn(scope, element, attrs){\n\n                // Now that we have access to the `scope` we can interpolate any expression given in the paginationId attribute and\n                // potentially register a new ID if it evaluates to a different value than the rawId.\n                var paginationId = $parse(attrs.paginationId)(scope) || attrs.paginationId || DEFAULT_ID;\n                // In case rawId != paginationId we deregister using rawId for the sake of general cleanliness\n                // before registering using paginationId\n                paginationService.deregisterInstance(rawId);\n                paginationService.registerInstance(paginationId);\n\n                var repeatExpression = getRepeatExpression(expression, paginationId);\n                addNgRepeatToElement(element, attrs, repeatExpression);\n\n                removeTemporaryAttributes(element);\n                var compiled =  $compile(element);\n\n                var currentPageGetter = makeCurrentPageGetterFn(scope, attrs, paginationId);\n                paginationService.setCurrentPageParser(paginationId, currentPageGetter, scope);\n\n                if (typeof attrs.totalItems !== 'undefined') {\n                    paginationService.setAsyncModeTrue(paginationId);\n                    scope.$watch(function() {\n                        return $parse(attrs.totalItems)(scope);\n                    }, function (result) {\n                        if (0 <= result) {\n                            paginationService.setCollectionLength(paginationId, result);\n                        }\n                    });\n                } else {\n                    paginationService.setAsyncModeFalse(paginationId);\n                    scope.$watchCollection(function() {\n                        return collectionGetter(scope);\n                    }, function(collection) {\n                        if (collection) {\n                            var collectionLength = (collection instanceof Array) ? collection.length : Object.keys(collection).length;\n                            paginationService.setCollectionLength(paginationId, collectionLength);\n                        }\n                    });\n                }\n\n                // Delegate to the link function returned by the new compilation of the ng-repeat\n                compiled(scope);\n                    \n                // When the scope is destroyed, we make sure to remove the reference to it in paginationService\n                // so that it can be properly garbage collected\n                scope.$on('$destroy', function destroyDirPagination() {\n                    paginationService.deregisterInstance(paginationId);\n                });\n            };\n        }\n\n        /**\n         * If a pagination id has been specified, we need to check that it is present as the second argument passed to\n         * the itemsPerPage filter. If it is not there, we add it and return the modified expression.\n         *\n         * @param expression\n         * @param paginationId\n         * @returns {*}\n         */\n        function getRepeatExpression(expression, paginationId) {\n            var repeatExpression,\n                idDefinedInFilter = !!expression.match(/(\\|\\s*itemsPerPage\\s*:[^|]*:[^|]*)/);\n\n            if (paginationId !== DEFAULT_ID && !idDefinedInFilter) {\n                repeatExpression = expression.replace(/(\\|\\s*itemsPerPage\\s*:\\s*[^|\\s]*)/, \"$1 : '\" + paginationId + \"'\");\n            } else {\n                repeatExpression = expression;\n            }\n\n            return repeatExpression;\n        }\n\n        /**\n         * Adds the ng-repeat directive to the element. In the case of multi-element (-start, -end) it adds the\n         * appropriate multi-element ng-repeat to the first and last element in the range.\n         * @param element\n         * @param attrs\n         * @param repeatExpression\n         */\n        function addNgRepeatToElement(element, attrs, repeatExpression) {\n            if (element[0].hasAttribute('dir-paginate-start') || element[0].hasAttribute('data-dir-paginate-start')) {\n                // using multiElement mode (dir-paginate-start, dir-paginate-end)\n                attrs.$set('ngRepeatStart', repeatExpression);\n                element.eq(element.length - 1).attr('ng-repeat-end', true);\n            } else {\n                attrs.$set('ngRepeat', repeatExpression);\n            }\n        }\n\n        /**\n         * Adds the dir-paginate-no-compile directive to each element in the tElement range.\n         * @param tElement\n         */\n        function addNoCompileAttributes(tElement) {\n            angular.forEach(tElement, function(el) {\n                if (el.nodeType === 1) {\n                    angular.element(el).attr('dir-paginate-no-compile', true);\n                }\n            });\n        }\n\n        /**\n         * Removes the variations on dir-paginate (data-, -start, -end) and the dir-paginate-no-compile directives.\n         * @param element\n         */\n        function removeTemporaryAttributes(element) {\n            angular.forEach(element, function(el) {\n                if (el.nodeType === 1) {\n                    angular.element(el).removeAttr('dir-paginate-no-compile');\n                }\n            });\n            element.eq(0).removeAttr('dir-paginate-start').removeAttr('dir-paginate').removeAttr('data-dir-paginate-start').removeAttr('data-dir-paginate');\n            element.eq(element.length - 1).removeAttr('dir-paginate-end').removeAttr('data-dir-paginate-end');\n        }\n\n        /**\n         * Creates a getter function for the current-page attribute, using the expression provided or a default value if\n         * no current-page expression was specified.\n         *\n         * @param scope\n         * @param attrs\n         * @param paginationId\n         * @returns {*}\n         */\n        function makeCurrentPageGetterFn(scope, attrs, paginationId) {\n            var currentPageGetter;\n            if (attrs.currentPage) {\n                currentPageGetter = $parse(attrs.currentPage);\n            } else {\n                // If the current-page attribute was not set, we'll make our own.\n                // Replace any non-alphanumeric characters which might confuse\n                // the $parse service and give unexpected results.\n                // See https://github.com/michaelbromley/angularUtils/issues/233\n                var defaultCurrentPage = (paginationId + '__currentPage').replace(/\\W/g, '_');\n                scope[defaultCurrentPage] = 1;\n                currentPageGetter = $parse(defaultCurrentPage);\n            }\n            return currentPageGetter;\n        }\n    }\n\n    /**\n     * This is a helper directive that allows correct compilation when in multi-element mode (ie dir-paginate-start, dir-paginate-end).\n     * It is dynamically added to all elements in the dir-paginate compile function, and it prevents further compilation of\n     * any inner directives. It is then removed in the link function, and all inner directives are then manually compiled.\n     */\n    function noCompileDirective() {\n        return {\n            priority: 5000,\n            terminal: true\n        };\n    }\n\n    function dirPaginationControlsTemplateInstaller($templateCache) {\n        $templateCache.put('angularUtils.directives.dirPagination.template', '<ul class=\"pagination\" ng-if=\"1 < pages.length || !autoHide\"><li ng-if=\"boundaryLinks\" ng-class=\"{ disabled : pagination.current == 1 }\"><a href=\"\" ng-click=\"setCurrent(1)\">&laquo;</a></li><li ng-if=\"directionLinks\" ng-class=\"{ disabled : pagination.current == 1 }\"><a href=\"\" ng-click=\"setCurrent(pagination.current - 1)\">&lsaquo;</a></li><li ng-repeat=\"pageNumber in pages track by tracker(pageNumber, $index)\" ng-class=\"{ active : pagination.current == pageNumber, disabled : pageNumber == \\'...\\' || ( ! autoHide && pages.length === 1 ) }\"><a href=\"\" ng-click=\"setCurrent(pageNumber)\">{{ pageNumber }}</a></li><li ng-if=\"directionLinks\" ng-class=\"{ disabled : pagination.current == pagination.last }\"><a href=\"\" ng-click=\"setCurrent(pagination.current + 1)\">&rsaquo;</a></li><li ng-if=\"boundaryLinks\"  ng-class=\"{ disabled : pagination.current == pagination.last }\"><a href=\"\" ng-click=\"setCurrent(pagination.last)\">&raquo;</a></li></ul>');\n    }\n\n    function dirPaginationControlsDirective(paginationService, paginationTemplate) {\n\n        var numberRegex = /^\\d+$/;\n\n        var DDO = {\n            restrict: 'AE',\n            scope: {\n                maxSize: '=?',\n                onPageChange: '&?',\n                paginationId: '=?',\n                autoHide: '=?'\n            },\n            link: dirPaginationControlsLinkFn\n        };\n\n        // We need to check the paginationTemplate service to see whether a template path or\n        // string has been specified, and add the `template` or `templateUrl` property to\n        // the DDO as appropriate. The order of priority to decide which template to use is\n        // (highest priority first):\n        // 1. paginationTemplate.getString()\n        // 2. attrs.templateUrl\n        // 3. paginationTemplate.getPath()\n        var templateString = paginationTemplate.getString();\n        if (templateString !== undefined) {\n            DDO.template = templateString;\n        } else {\n            DDO.templateUrl = function(elem, attrs) {\n                return attrs.templateUrl || paginationTemplate.getPath();\n            };\n        }\n        return DDO;\n\n        function dirPaginationControlsLinkFn(scope, element, attrs) {\n\n            // rawId is the un-interpolated value of the pagination-id attribute. This is only important when the corresponding dir-paginate directive has\n            // not yet been linked (e.g. if it is inside an ng-if block), and in that case it prevents this controls directive from assuming that there is\n            // no corresponding dir-paginate directive and wrongly throwing an exception.\n            var rawId = attrs.paginationId ||  DEFAULT_ID;\n            var paginationId = scope.paginationId || attrs.paginationId ||  DEFAULT_ID;\n\n            if (!paginationService.isRegistered(paginationId) && !paginationService.isRegistered(rawId)) {\n                var idMessage = (paginationId !== DEFAULT_ID) ? ' (id: ' + paginationId + ') ' : ' ';\n                if (window.console) {\n                    console.warn('Pagination directive: the pagination controls' + idMessage + 'cannot be used without the corresponding pagination directive, which was not found at link time.');\n                }\n            }\n\n            if (!scope.maxSize) { scope.maxSize = 9; }\n            scope.autoHide = scope.autoHide === undefined ? true : scope.autoHide;\n            scope.directionLinks = angular.isDefined(attrs.directionLinks) ? scope.$parent.$eval(attrs.directionLinks) : true;\n            scope.boundaryLinks = angular.isDefined(attrs.boundaryLinks) ? scope.$parent.$eval(attrs.boundaryLinks) : false;\n\n            var paginationRange = Math.max(scope.maxSize, 5);\n            scope.pages = [];\n            scope.pagination = {\n                last: 1,\n                current: 1\n            };\n            scope.range = {\n                lower: 1,\n                upper: 1,\n                total: 1\n            };\n\n            scope.$watch('maxSize', function(val) {\n                if (val) {\n                    paginationRange = Math.max(scope.maxSize, 5);\n                    generatePagination();\n                }\n            });\n\n            scope.$watch(function() {\n                if (paginationService.isRegistered(paginationId)) {\n                    return (paginationService.getCollectionLength(paginationId) + 1) * paginationService.getItemsPerPage(paginationId);\n                }\n            }, function(length) {\n                if (0 < length) {\n                    generatePagination();\n                }\n            });\n\n            scope.$watch(function() {\n                if (paginationService.isRegistered(paginationId)) {\n                    return (paginationService.getItemsPerPage(paginationId));\n                }\n            }, function(current, previous) {\n                if (current != previous && typeof previous !== 'undefined') {\n                    goToPage(scope.pagination.current);\n                }\n            });\n\n            scope.$watch(function() {\n                if (paginationService.isRegistered(paginationId)) {\n                    return paginationService.getCurrentPage(paginationId);\n                }\n            }, function(currentPage, previousPage) {\n                if (currentPage != previousPage) {\n                    goToPage(currentPage);\n                }\n            });\n\n            scope.setCurrent = function(num) {\n                if (paginationService.isRegistered(paginationId) && isValidPageNumber(num)) {\n                    num = parseInt(num, 10);\n                    paginationService.setCurrentPage(paginationId, num);\n                }\n            };\n\n            /**\n             * Custom \"track by\" function which allows for duplicate \"...\" entries on long lists,\n             * yet fixes the problem of wrongly-highlighted links which happens when using\n             * \"track by $index\" - see https://github.com/michaelbromley/angularUtils/issues/153\n             * @param id\n             * @param index\n             * @returns {string}\n             */\n            scope.tracker = function(id, index) {\n                return id + '_' + index;\n            };\n\n            function goToPage(num) {\n                if (paginationService.isRegistered(paginationId) && isValidPageNumber(num)) {\n                    var oldPageNumber = scope.pagination.current;\n\n                    scope.pages = generatePagesArray(num, paginationService.getCollectionLength(paginationId), paginationService.getItemsPerPage(paginationId), paginationRange);\n                    scope.pagination.current = num;\n                    updateRangeValues();\n\n                    // if a callback has been set, then call it with the page number as the first argument\n                    // and the previous page number as a second argument\n                    if (scope.onPageChange) {\n                        scope.onPageChange({\n                            newPageNumber : num,\n                            oldPageNumber : oldPageNumber\n                        });\n                    }\n                }\n            }\n\n            function generatePagination() {\n                if (paginationService.isRegistered(paginationId)) {\n                    var page = parseInt(paginationService.getCurrentPage(paginationId)) || 1;\n                    scope.pages = generatePagesArray(page, paginationService.getCollectionLength(paginationId), paginationService.getItemsPerPage(paginationId), paginationRange);\n                    scope.pagination.current = page;\n                    scope.pagination.last = scope.pages[scope.pages.length - 1];\n                    if (scope.pagination.last < scope.pagination.current) {\n                        scope.setCurrent(scope.pagination.last);\n                    } else {\n                        updateRangeValues();\n                    }\n                }\n            }\n\n            /**\n             * This function updates the values (lower, upper, total) of the `scope.range` object, which can be used in the pagination\n             * template to display the current page range, e.g. \"showing 21 - 40 of 144 results\";\n             */\n            function updateRangeValues() {\n                if (paginationService.isRegistered(paginationId)) {\n                    var currentPage = paginationService.getCurrentPage(paginationId),\n                        itemsPerPage = paginationService.getItemsPerPage(paginationId),\n                        totalItems = paginationService.getCollectionLength(paginationId);\n\n                    scope.range.lower = (currentPage - 1) * itemsPerPage + 1;\n                    scope.range.upper = Math.min(currentPage * itemsPerPage, totalItems);\n                    scope.range.total = totalItems;\n                }\n            }\n            function isValidPageNumber(num) {\n                return (numberRegex.test(num) && (0 < num && num <= scope.pagination.last));\n            }\n        }\n\n        /**\n         * Generate an array of page numbers (or the '...' string) which is used in an ng-repeat to generate the\n         * links used in pagination\n         *\n         * @param currentPage\n         * @param rowsPerPage\n         * @param paginationRange\n         * @param collectionLength\n         * @returns {Array}\n         */\n        function generatePagesArray(currentPage, collectionLength, rowsPerPage, paginationRange) {\n            var pages = [];\n            var totalPages = Math.ceil(collectionLength / rowsPerPage);\n            var halfWay = Math.ceil(paginationRange / 2);\n            var position;\n\n            if (currentPage <= halfWay) {\n                position = 'start';\n            } else if (totalPages - halfWay < currentPage) {\n                position = 'end';\n            } else {\n                position = 'middle';\n            }\n\n            var ellipsesNeeded = paginationRange < totalPages;\n            var i = 1;\n            while (i <= totalPages && i <= paginationRange) {\n                var pageNumber = calculatePageNumber(i, currentPage, paginationRange, totalPages);\n\n                var openingEllipsesNeeded = (i === 2 && (position === 'middle' || position === 'end'));\n                var closingEllipsesNeeded = (i === paginationRange - 1 && (position === 'middle' || position === 'start'));\n                if (ellipsesNeeded && (openingEllipsesNeeded || closingEllipsesNeeded)) {\n                    pages.push('...');\n                } else {\n                    pages.push(pageNumber);\n                }\n                i ++;\n            }\n            return pages;\n        }\n\n        /**\n         * Given the position in the sequence of pagination links [i], figure out what page number corresponds to that position.\n         *\n         * @param i\n         * @param currentPage\n         * @param paginationRange\n         * @param totalPages\n         * @returns {*}\n         */\n        function calculatePageNumber(i, currentPage, paginationRange, totalPages) {\n            var halfWay = Math.ceil(paginationRange/2);\n            if (i === paginationRange) {\n                return totalPages;\n            } else if (i === 1) {\n                return i;\n            } else if (paginationRange < totalPages) {\n                if (totalPages - halfWay < currentPage) {\n                    return totalPages - paginationRange + i;\n                } else if (halfWay < currentPage) {\n                    return currentPage - halfWay + i;\n                } else {\n                    return i;\n                }\n            } else {\n                return i;\n            }\n        }\n    }\n\n    /**\n     * This filter slices the collection into pages based on the current page number and number of items per page.\n     * @param paginationService\n     * @returns {Function}\n     */\n    function itemsPerPageFilter(paginationService) {\n\n        return function(collection, itemsPerPage, paginationId) {\n            if (typeof (paginationId) === 'undefined') {\n                paginationId = DEFAULT_ID;\n            }\n            if (!paginationService.isRegistered(paginationId)) {\n                throw 'pagination directive: the itemsPerPage id argument (id: ' + paginationId + ') does not match a registered pagination-id.';\n            }\n            var end;\n            var start;\n            if (angular.isObject(collection)) {\n                itemsPerPage = parseInt(itemsPerPage) || 9999999999;\n                if (paginationService.isAsyncMode(paginationId)) {\n                    start = 0;\n                } else {\n                    start = (paginationService.getCurrentPage(paginationId) - 1) * itemsPerPage;\n                }\n                end = start + itemsPerPage;\n                paginationService.setItemsPerPage(paginationId, itemsPerPage);\n\n                if (collection instanceof Array) {\n                    // the array just needs to be sliced\n                    return collection.slice(start, end);\n                } else {\n                    // in the case of an object, we need to get an array of keys, slice that, then map back to\n                    // the original object.\n                    var slicedObject = {};\n                    angular.forEach(keys(collection).slice(start, end), function(key) {\n                        slicedObject[key] = collection[key];\n                    });\n                    return slicedObject;\n                }\n            } else {\n                return collection;\n            }\n        };\n    }\n\n    /**\n     * Shim for the Object.keys() method which does not exist in IE < 9\n     * @param obj\n     * @returns {Array}\n     */\n    function keys(obj) {\n        if (!Object.keys) {\n            var objKeys = [];\n            for (var i in obj) {\n                if (obj.hasOwnProperty(i)) {\n                    objKeys.push(i);\n                }\n            }\n            return objKeys;\n        } else {\n            return Object.keys(obj);\n        }\n    }\n\n    /**\n     * This service allows the various parts of the module to communicate and stay in sync.\n     */\n    function paginationService() {\n\n        var instances = {};\n        var lastRegisteredInstance;\n\n        this.registerInstance = function(instanceId) {\n            if (typeof instances[instanceId] === 'undefined') {\n                instances[instanceId] = {\n                    asyncMode: false\n                };\n                lastRegisteredInstance = instanceId;\n            }\n        };\n\n        this.deregisterInstance = function(instanceId) {\n            delete instances[instanceId];\n        };\n        \n        this.isRegistered = function(instanceId) {\n            return (typeof instances[instanceId] !== 'undefined');\n        };\n\n        this.getLastInstanceId = function() {\n            return lastRegisteredInstance;\n        };\n\n        this.setCurrentPageParser = function(instanceId, val, scope) {\n            instances[instanceId].currentPageParser = val;\n            instances[instanceId].context = scope;\n        };\n        this.setCurrentPage = function(instanceId, val) {\n            instances[instanceId].currentPageParser.assign(instances[instanceId].context, val);\n        };\n        this.getCurrentPage = function(instanceId) {\n            var parser = instances[instanceId].currentPageParser;\n            return parser ? parser(instances[instanceId].context) : 1;\n        };\n\n        this.setItemsPerPage = function(instanceId, val) {\n            instances[instanceId].itemsPerPage = val;\n        };\n        this.getItemsPerPage = function(instanceId) {\n            return instances[instanceId].itemsPerPage;\n        };\n\n        this.setCollectionLength = function(instanceId, val) {\n            instances[instanceId].collectionLength = val;\n        };\n        this.getCollectionLength = function(instanceId) {\n            return instances[instanceId].collectionLength;\n        };\n\n        this.setAsyncModeTrue = function(instanceId) {\n            instances[instanceId].asyncMode = true;\n        };\n\n        this.setAsyncModeFalse = function(instanceId) {\n            instances[instanceId].asyncMode = false;\n        };\n\n        this.isAsyncMode = function(instanceId) {\n            return instances[instanceId].asyncMode;\n        };\n    }\n\n    /**\n     * This provider allows global configuration of the template path used by the dir-pagination-controls directive.\n     */\n    function paginationTemplateProvider() {\n\n        var templatePath = 'angularUtils.directives.dirPagination.template';\n        var templateString;\n\n        /**\n         * Set a templateUrl to be used by all instances of <dir-pagination-controls>\n         * @param {String} path\n         */\n        this.setPath = function(path) {\n            templatePath = path;\n        };\n\n        /**\n         * Set a string of HTML to be used as a template by all instances\n         * of <dir-pagination-controls>. If both a path *and* a string have been set,\n         * the string takes precedence.\n         * @param {String} str\n         */\n        this.setString = function(str) {\n            templateString = str;\n        };\n\n        this.$get = function() {\n            return {\n                getPath: function() {\n                    return templatePath;\n                },\n                getString: function() {\n                    return templateString;\n                }\n            };\n        };\n    }\n})();\n","angular.module('alpacaEditor', [\r\n\t'firebase',\t\t\t\t\t//Authentication, DB, Storage\r\n\t'rzModule', \t\t\t\t//**Range Slider \r\n\t'dndLists',\t\t\t\t\t//Drag and drop lists\r\n\t'ngTagsInput',\t\t\t//**Multiple Tag Input\r\n\t'swiperRepeat', \t\t//Swipeable repeat\r\n\t'ngAnimate',\t\t\t\t//Animations\r\n\t'flow',\t\t\t\t\t\t\t//File upload\r\n\t'angularResizable',\t//Make elements user-resizable\r\n  'ui.codemirror',    //Code editor, for writing jsonata\r\n\t'angularUtils.directives.dirPagination', //pagination \t\r\n\t'alpacaViewer', \r\n\t'alpacaSchemas', \r\n\t'alpacaTypes'\r\n]);\r\n\r\nangular.module('alpacaEditor').filter('toArray', function () {\r\n  return function (obj, addKey) {\r\n    if (!angular.isObject(obj)) return obj;\r\n    if ( addKey === false ) {\r\n      return Object.keys(obj).map(function(key) {\r\n        return obj[key];\r\n      });\r\n    } else {\r\n      return Object.keys(obj).map(function (key) {\r\n        var value = obj[key];\r\n        return angular.isObject(value) ?\r\n          Object.defineProperty(value, '$key', { enumerable: false, value: key}) :\r\n          { $key: key, $value: value };\r\n      });\r\n    }\r\n  };\r\n});\r\n","angular.module('alpacaEditor').directive('alpacaField', [\r\n\t'$compile', \r\n\t'$templateRequest', \r\n\tfunction($compile, $templateRequest) {\r\n\r\n\t\tvar link = function ($scope, element, attrs) {\r\n\t\t\t//console.log($scope.type)\r\n\t\t\t$templateRequest('alpaca-type-' + $scope.type).then(function(tpl){\r\n\t\t\t\tvar template = angular.element(tpl);\r\n\t\t\t\telement.html(template);\r\n\t\t\t\t$compile(template)($scope);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\trestrict: 'E',\r\n\t\t\tlink: link,\r\n\t\t\tscope: {\r\n\t\t\t\tmodel: '=',\r\n\t\t\t\ttype: '=',\r\n\t\t\t\tfield: '=',\r\n\t\t\t\tfn: '=',\r\n\t\t\t\tslide: '=',\r\n\t\t\t\ttemplates: '='\r\n\t\t\t}\r\n\t\t};\r\n}]);","angular.module('alpacaEditor')\r\n\t.controller('collectionsController', ['$scope', function($scope) {\r\n\r\n\t\t$scope.searchValue ='';\r\n\r\n\t\t$scope.surveys = [\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Inflammatory Bowel Disease Survey', author: 'Haemin Park', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2016/05/ibd-420x315.jpg', date: \"01-20-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Pregnancy and Childbirth Survey', author: 'No one', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/03/pcb-420x315.jpg', date: \"02-20-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Overactive Bladder Survey', author: 'Poo', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/03/oab-1-420x315.jpg', date: \"01-23-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Survey 4', author: 'Poo', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/03/crc-420x315.jpg', date: \"01-01-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Survey 5', author: 'Poo', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/03/bc-420x315.jpg', date: \"01-20-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Survey 6', author: 'Poo', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/03/hf-420x315.jpg', date: \"01-20-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Survey 7', author: 'Poo', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/03/condi_dementia-420x315.jpg', date: \"01-20-2017\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: 'Survey 8', author: 'Poo', summary: \"This survey is dumb\", img_url: 'http://www.ichom.org/wp-content/uploads/2015/03/bp_level_of_pain_01_455x620-420x315.jpg', date: \"01-20-2017\"\r\n\t\t\t}\r\n\t\t];\r\n\r\n\t}]);\r\n","angular.module('alpacaEditor').controller('demoController', [\r\n\t'$scope',\r\n\t'$templateList',\r\n\t'$schemas',\r\n\t'$timeout',\r\n\t'$firebaseObject',\r\n\t'$firebaseArray',\r\n\t'$window',\r\n\tfunction($scope, $templateList, $schemas, $timeout, $firebaseObject, $firebaseArray, $window){\r\n\r\n\tvar config = firebase.database().ref().child('config');\r\n\t$firebaseObject(config).$bindTo($scope, 'config');\r\n\r\n\t$scope.defaultTags = function(){\r\n\t\tvar tags = ['blah', 'ahah'];\r\n\t\treturn tags;\r\n\t};\r\n\r\n\t$scope.templates = $templateList.templates;\r\n\tconsole.log($templateList);\r\n\r\n\t$scope.newDevice = {};\r\n\t$scope.addDevice = function(){\r\n\t\t\t$scope.devices.push(angular.copy($scope.newDevice));\r\n\t\t\t$scope.newDevice = null;\t\r\n\t}\r\n\r\n\t$scope.tabs = [\r\n\t\t{\r\n\t\t\tname: 'collections',\r\n\t\t\ticon: 'view_module'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'edit',\r\n\t\t\ticon: 'mode_edit'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'organization',\r\n\t\t\ticon: 'language'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'settings',\r\n\t\t\ticon: 'face'\r\n\t\t}\r\n\t];\r\n\r\n\t$scope.organizationSettings = {\r\n\t\ttabs: [\r\n\t\t\t'Users',\r\n\t\t\t'Devices',\r\n\t\t\t'Tags',\r\n\t\t\t'Endpoints'\r\n\t\t],\r\n\t\tselectedTab: 'Users'\r\n\t}\r\n\r\n\t$scope.users = [\r\n\t\t{\r\n\t\t\tname: 'Dan Poindexter',\r\n\t\t\temail: 'dan@wellopp.com',\r\n\t\t\timg: 'http://danpoindexter.com/img/danpoindexter.png'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Haemin Park',\r\n\t\t\temail: 'haemin@wellopp.com',\r\n\t\t\timg: '/img/haemin.png'\r\n\t\t\t//img: 'http://cdn3.volusion.com/hpwvr.gdwwx/v/vspfiles/photos/PE-ZA1733-1.jpg?1458140223'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Poo',\r\n\t\t\temail: 'poo@poo.com',\r\n\t\t\timg: 'http://rs619.pbsrc.com/albums/tt276/cardunne09/so_poo.jpg~c200'\r\n\t\t}\r\n\r\n\r\n\t];\r\n\r\n\r\n\t$scope.tab = $scope.tabs[0];\r\n\t\r\n\t$scope.setTab = function(tab){\r\n\t\t$scope.tab = null;\r\n\t\t$timeout(function(){\r\n\t\t\t$scope.tab = tab;\r\n\t\t}, 200)\r\n\t\t\r\n\t}\r\n\r\n\t$scope.codemirrorOpts = {\r\n\t\t//mode: {name: 'jsonata', jsonata: jsonata, template: true},\r\n\t\tautoCloseBrackets: {\r\n\t\t\t\tpairs: \"()[]{}\",\r\n\t\t\t\ttriples: \"\",\r\n\t\t\t\texplode: \"[]{}()\"\r\n\t\t},\r\n\t\tmatchBrackets: true,\r\n\t\tviewportMargin: Infinity,\r\n\t\tlineNumbers: true\r\n\t}\r\n\r\n\t$scope.survey = {\r\n\r\n\t\tslides: [\r\n\t\t\t{\r\n\t\t\t\tkind:'slide', title: 'Nested Slide 1', content: 'How certain are you that your situation will improve?', template: 'green',\r\n\t\t\t\toptions: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: 'Uncertain',\r\n\t\t\t\t\t\tweight: 1,\r\n\t\t\t\t\t\tsuggestions: [\r\n\t\t\t\t\t\t\t'Eat more broccoli',\r\n\t\t\t\t\t\t\t'Work out every day'\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: 'Somewhat uncertain',\r\n\t\t\t\t\t\tweight: 2\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: 'Unsure',\r\n\t\t\t\t\t\tweight: 3\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: 'Somewhat certain',\r\n\t\t\t\t\t\tweight: 4\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: 'Certain',\r\n\t\t\t\t\t\tweight: 5\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkind:'slide', title: 'Nested Slide 2', content: 'How certain are you that you will achieve your goals you set?', template: 'orange',\r\n\t\t\t\toptions: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: 'Uncertain',\r\n\t\t\t\t\t\tweight: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: 'Somewhat uncertain',\r\n\t\t\t\t\t\tweight: 2\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: 'Unsure',\r\n\t\t\t\t\t\tweight: 3\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: 'Somewhat certain',\r\n\t\t\t\t\t\tweight: 4\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttext: 'Certain',\r\n\t\t\t\t\t\tweight: 5\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t],\r\n\r\n\r\n\r\n\t\tnodes: [\r\n\t\t\t{\r\n\t\t\t\tkind: 'external', title: 'Onboarding', contents: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkind:'slide', title: 'Welcome', content: 'Foo', template: 'green', readonly: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkind:'slide', title: 'Instructions', content: 'Fluf', template: 'orange', readonly: true\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkind:'slide', title: 'Slide 1', content: 'Foo', template: 'green', options: [\r\n\t\t\t\t\t{text: 'Yes', correct: true},\r\n\t\t\t\t\t{text: 'No', correct: false}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkind:'slide', title: 'Slide 2', content: 'Fluf', template: 'orange'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkind: 'folder', title: 'Smoking', contents: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkind:'slide', title: 'Nested Slide 1', content: 'Foo', template: 'green'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkind:'slide', title: 'Nested Slide 2', content: 'Fluf', template: 'orange'\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t]\r\n\r\n\r\n\t};\r\n\t$scope.selected = $scope.survey.nodes[1];\r\n\t$scope.schemas = $schemas.schemas;\r\n\r\n\t$scope.maximized = false;\r\n\r\n\t$scope.maximizePreview = function(maximized){\r\n\t\t/*$('.resizable-section.white').animate({\r\n\t\t\tflex: '0 0 0px'\r\n\t\t}, 1000, function(){\r\n\t\t\tmaximized = !maximized;\r\n\t\t})*/\r\n\t\t$('.resizable-wrapper').toggleClass('minimized');\r\n\t\t$scope.maximized = !$scope.maximized;\r\n\t}\r\n\r\n\t$scope.devices = [\r\n\t\t{\r\n\t\t\tname: 'iPhone',\r\n\t\t\twidth: 480,\r\n\t\t\theight: 720,\r\n\t\t\tmaterial_icon: 'smartphone'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Desktop',\r\n\t\t\twidth: 1920,\r\n\t\t\theight: 1080,\r\n\t\t\tmaterial_icon: 'desktop_windows'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'iPad',\r\n\t\t\twidth: 1024,\r\n\t\t\theight: 768,\r\n\t\t\tmaterial_icon: 'tablet'\r\n\t\t}\r\n\t];\r\n\r\n\t$scope.setDevice = function(device) {\r\n\t\t$scope.device = device;\r\n\t\tconsole.log('set device:', device);\r\n\t}\r\n\r\n\t$scope.setSlide = function(slide){\r\n\t\t$scope.selected = slide;\r\n\t\tconsole.log(slide);\r\n\t}\r\n\r\n\t$scope.loading = false;\r\n\r\n\t$scope.search = function(){\r\n\t\t$scope.searching = true;\r\n\t\t\r\n\t\t///JQUERY DEP\r\n\t\t$timeout(function(){$('#search').focus()});\r\n\t}\r\n\r\n\t$scope.$on('device-ready', function(){\r\n\t\t$scope.setDevice($scope.devices[0]);\r\n\t\t$scope.loading = false;\r\n\t\t\r\n\t});\r\n\r\n\t$scope.fn = {\r\n\t\ttags: {\r\n\t\t\tsearch: function(query){\r\n\t\t\t\tconsole.log('query', query);\r\n\t\t\t\tvar ret = [];\r\n\t\t\t\tangular.forEach($scope.config.tags, function(el){\r\n\t\t\t\t\tif (el.text.includes(query))\r\n\t\t\t\t\t\tret.push(el.text);\r\n\t\t\t\t})\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t$scope.init = function(){\r\n\r\n\t\t$scope.organizations = $firebaseArray(\r\n\t\t\tfirebase.database().ref().child('organizations/').orderByChild('users').equalTo('dan@wellopp.com')\r\n\t\t);\r\n\t}\r\n\t\r\n\t$scope.init();\r\n\r\n}]);","/*  Todo:\r\n *  *remove jquery dep\r\n *  *combine directives\r\n *  *on window resize\r\n *  *support iframe templates\r\n *  *clean up\r\n *  *publish to github\r\n *  *publish to npm\r\n */\r\n\r\nangular.module('alpacaEditor').directive('devicePreview', function() {\r\n\r\n  var link = function($scope, el, attrs) {\r\n\r\n    var parent = angular.element(el).parent();\r\n    var child = angular.element(el);\r\n\r\n    child.css({\r\n      'background': 'white',\r\n    })\r\n      \r\n    parent.css({\r\n      'display': 'flex',\r\n      'align-items': 'center',\r\n      'justify-content': 'center',\r\n    });\r\n\r\n/*function(){\r\n\r\n      return {\r\n        frame_size: $scope.$parent.frame_size\r\n        device: $scope.device\r\n      }\r\n\r\n    },*/\r\n\r\n    $scope.$watch('device',\r\n     function() {\r\n\r\n      var device = $scope.device;\r\n\r\n      if (!angular.element(el).parent()[0])\r\n        return false;\r\n\r\n      parent.width = $scope.$parent.frame_size.width;\r\n      parent.height = $scope.$parent.frame_size.height;\r\n\r\n      console.log($scope.device);\r\n      \r\n      /*$scope.$watch(\r\n        function(){\r\n          return {\r\n            width: parent.width,\r\n            height: parent.height\r\n          }\r\n        },\r\n        function(){\r\n          $scope.$apply();\r\n        }\r\n      )*/\r\n\r\n      var fit = (parent.width / parent.height > device.width / device.height);\r\n      var scale = fit ? parent.height / device.height : parent.width / device.width;\r\n      var width = fit ? device.width * parent.height / device.height : parent.width;\r\n      var height = fit ? parent.height : device.height * parent.width / device.width;\r\n      \r\n\r\n\r\n      child.css({\r\n        'transform': 'scale(' + scale +')',\r\n        //'zoom': scale,\r\n        'width': width / scale + 'px',\r\n        'height': height / scale + 'px',\r\n      });\r\n\r\n\r\n      var use = {\r\n        x: Math.max(device.width, width),\r\n        y: Math.max(device.height, height)\r\n      }\r\n      var translate = {\r\n        x: -1 * ((use.x - parent.width) / 2),\r\n        y: -1 * ((use.y - parent.height) / 2)\r\n      };\r\n\r\n      $scope.$parent.iframe.css({\r\n        'width': use.x,\r\n        'height': use.y,\r\n        'transform': 'translate(' + translate.x + 'px,' + translate.y + 'px)'\r\n      })\r\n\r\n      console.log('device', device.width, device.height);\r\n      console.log('parent', parent.width, parent.height);\r\n      console.log('scale', scale);\r\n      console.log('new', width, height);\r\n    });\r\n  };\r\n\r\n  return {\r\n    restrict: 'E',\r\n    link: link,\r\n    scope: {\r\n      'device': '='\r\n    }\r\n  }\r\n});\r\n\r\n//http://plnkr.co/edit/KRfAyc5haHyFq7FyCnxg?p=preview\r\nangular.module('alpacaEditor').directive(\"wrapInFrame\", [\r\n  '$compile',\r\n  '$timeout',\r\n  function($compile, $timeout) {\r\n  return {\r\n    restrict: \"E\",\r\n    scope: {},\r\n    transclude: true,\r\n    replace: false,\r\n    link: function($scope, $directiveElement, $attrs, $controller, $transclude) {\r\n      \r\n\r\n      /*$scope.$watch(\r\n          function () { \r\n              return {\r\n                 width: $directiveElement.parent().width(),\r\n                 height: $directiveElement.parent().height(),\r\n              }\r\n         },\r\n         function (data) {\r\n          $scope.$parent.frame_size = data;\r\n          //alert('size changed!');\r\n         }, //listener \r\n         true //deep watch\r\n      );*/\r\n      \r\n      $scope.$parent.frame_size = {\r\n        width: $directiveElement.parent().width(),\r\n        height: $directiveElement.parent().height()\r\n      }\r\n      \r\n      $transclude($scope.$parent, function($children, otherScope) {\r\n\r\n        $directiveElement.html(\"<iframe width='100%' height='100%'>\");\r\n        var iframe = $directiveElement.find(\"iframe\")[0];\r\n\r\n        $scope.$parent.iframe = angular.element(iframe);\r\n\r\n        iframe.onload = function() {\r\n\r\n          $scope.$parent.linked = true;\r\n          \r\n          var iframeBody = angular.element(iframe.contentWindow.document.body);\r\n\r\n          $(\"link[rel='stylesheet'], link[type='text/css'], link[href$='.css']\").clone().appendTo($(\"iframe\").contents().find(\"head\"));\r\n          $('<link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/icon?family=Material+Icons\"/>').appendTo($(\"iframe\").contents().find(\"head\"));\r\n\r\n          $compile($children)($scope.$parent, function(elem) {\r\n            iframeBody.append(elem);\r\n            $scope.$parent.$emit('device-ready');\r\n          });\r\n        };\r\n\r\n        iframe.src = '';\r\n      });\r\n    }\r\n  };\r\n}]);"]}